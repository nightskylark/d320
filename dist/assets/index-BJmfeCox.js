(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ap={},Wl={},a0;function C1(){if(a0)return Wl;a0=1,Wl.byteLength=f,Wl.toByteArray=m,Wl.fromByteArray=R;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=r.length;a<l;++a)e[a]=r[a],t[r.charCodeAt(a)]=a;t[45]=62,t[95]=63;function c(S){var V=S.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=S.indexOf("=");B===-1&&(B=V);var q=B===V?0:4-B%4;return[B,q]}function f(S){var V=c(S),B=V[0],q=V[1];return(B+q)*3/4-q}function p(S,V,B){return(V+B)*3/4-B}function m(S){var V,B=c(S),q=B[0],K=B[1],nt=new n(p(S,q,K)),J=0,ct=K>0?q-4:q,ut;for(ut=0;ut<ct;ut+=4)V=t[S.charCodeAt(ut)]<<18|t[S.charCodeAt(ut+1)]<<12|t[S.charCodeAt(ut+2)]<<6|t[S.charCodeAt(ut+3)],nt[J++]=V>>16&255,nt[J++]=V>>8&255,nt[J++]=V&255;return K===2&&(V=t[S.charCodeAt(ut)]<<2|t[S.charCodeAt(ut+1)]>>4,nt[J++]=V&255),K===1&&(V=t[S.charCodeAt(ut)]<<10|t[S.charCodeAt(ut+1)]<<4|t[S.charCodeAt(ut+2)]>>2,nt[J++]=V>>8&255,nt[J++]=V&255),nt}function _(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function T(S,V,B){for(var q,K=[],nt=V;nt<B;nt+=3)q=(S[nt]<<16&16711680)+(S[nt+1]<<8&65280)+(S[nt+2]&255),K.push(_(q));return K.join("")}function R(S){for(var V,B=S.length,q=B%3,K=[],nt=16383,J=0,ct=B-q;J<ct;J+=nt)K.push(T(S,J,J+nt>ct?ct:J+nt));return q===1?(V=S[B-1],K.push(e[V>>2]+e[V<<4&63]+"==")):q===2&&(V=(S[B-2]<<8)+S[B-1],K.push(e[V>>10]+e[V>>4&63]+e[V<<2&63]+"=")),K.join("")}return Wl}var ah={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var o0;function x1(){return o0||(o0=1,ah.read=function(e,t,n,r,a){var l,c,f=a*8-r-1,p=(1<<f)-1,m=p>>1,_=-7,T=n?a-1:0,R=n?-1:1,S=e[t+T];for(T+=R,l=S&(1<<-_)-1,S>>=-_,_+=f;_>0;l=l*256+e[t+T],T+=R,_-=8);for(c=l&(1<<-_)-1,l>>=-_,_+=r;_>0;c=c*256+e[t+T],T+=R,_-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,r),l=l-m}return(S?-1:1)*c*Math.pow(2,l-r)},ah.write=function(e,t,n,r,a,l){var c,f,p,m=l*8-a-1,_=(1<<m)-1,T=_>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:l-1,V=r?1:-1,B=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,c=_):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+T>=1?t+=R/p:t+=R*Math.pow(2,1-T),t*p>=2&&(c++,p/=2),c+T>=_?(f=0,c=_):c+T>=1?(f=(t*p-1)*Math.pow(2,a),c=c+T):(f=t*Math.pow(2,T-1)*Math.pow(2,a),c=0));a>=8;e[n+S]=f&255,S+=V,f/=256,a-=8);for(c=c<<a|f,m+=a;m>0;e[n+S]=c&255,S+=V,c/=256,m-=8);e[n+S-V]|=B*128}),ah}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var l0;function k1(){return l0||(l0=1,function(e){const t=C1(),n=x1(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=nt,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(A,y),A.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(A){if(A>a)throw new RangeError('The value "'+A+'" is invalid for option "size"');const y=new Uint8Array(A);return Object.setPrototypeOf(y,f.prototype),y}function f(A,y,E){if(typeof A=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(A)}return p(A,y,E)}f.poolSize=8192;function p(A,y,E){if(typeof A=="string")return R(A,y);if(ArrayBuffer.isView(A))return V(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pn(A,ArrayBuffer)||A&&pn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(A,SharedArrayBuffer)||A&&pn(A.buffer,SharedArrayBuffer)))return B(A,y,E);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=A.valueOf&&A.valueOf();if(D!=null&&D!==A)return f.from(D,y,E);const j=q(A);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return f.from(A[Symbol.toPrimitive]("string"),y,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}f.from=function(A,y,E){return p(A,y,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function _(A,y,E){return m(A),A<=0?c(A):y!==void 0?typeof E=="string"?c(A).fill(y,E):c(A).fill(y):c(A)}f.alloc=function(A,y,E){return _(A,y,E)};function T(A){return m(A),c(A<0?0:K(A)|0)}f.allocUnsafe=function(A){return T(A)},f.allocUnsafeSlow=function(A){return T(A)};function R(A,y){if((typeof y!="string"||y==="")&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const E=J(A,y)|0;let D=c(E);const j=D.write(A,y);return j!==E&&(D=D.slice(0,j)),D}function S(A){const y=A.length<0?0:K(A.length)|0,E=c(y);for(let D=0;D<y;D+=1)E[D]=A[D]&255;return E}function V(A){if(pn(A,Uint8Array)){const y=new Uint8Array(A);return B(y.buffer,y.byteOffset,y.byteLength)}return S(A)}function B(A,y,E){if(y<0||A.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<y+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return y===void 0&&E===void 0?D=new Uint8Array(A):E===void 0?D=new Uint8Array(A,y):D=new Uint8Array(A,y,E),Object.setPrototypeOf(D,f.prototype),D}function q(A){if(f.isBuffer(A)){const y=K(A.length)|0,E=c(y);return E.length===0||A.copy(E,0,0,y),E}if(A.length!==void 0)return typeof A.length!="number"||Ti(A.length)?c(0):S(A);if(A.type==="Buffer"&&Array.isArray(A.data))return S(A.data)}function K(A){if(A>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return A|0}function nt(A){return+A!=A&&(A=0),f.alloc(+A)}f.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==f.prototype},f.compare=function(y,E){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),pn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(y)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let D=y.length,j=E.length;for(let $=0,it=Math.min(D,j);$<it;++$)if(y[$]!==E[$]){D=y[$],j=E[$];break}return D<j?-1:j<D?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return f.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<y.length;++D)E+=y[D].length;const j=f.allocUnsafe(E);let $=0;for(D=0;D<y.length;++D){let it=y[D];if(pn(it,Uint8Array))$+it.length>j.length?(f.isBuffer(it)||(it=f.from(it)),it.copy(j,$)):Uint8Array.prototype.set.call(j,it,$);else if(f.isBuffer(it))it.copy(j,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=it.length}return j};function J(A,y){if(f.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let j=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return ti(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Fn(A).length;default:if(j)return D?-1:ti(A).length;y=(""+y).toLowerCase(),j=!0}}f.byteLength=J;function ct(A,y,E){let D=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,y>>>=0,E<=y))return"";for(A||(A="utf8");;)switch(A){case"hex":return qt(this,y,E);case"utf8":case"utf-8":return gt(this,y,E);case"ascii":return Tt(this,y,E);case"latin1":case"binary":return wt(this,y,E);case"base64":return O(this,y,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,y,E);default:if(D)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),D=!0}}f.prototype._isBuffer=!0;function ut(A,y,E){const D=A[y];A[y]=A[E],A[E]=D}f.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)ut(this,E,E+1);return this},f.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)ut(this,E,E+3),ut(this,E+1,E+2);return this},f.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)ut(this,E,E+7),ut(this,E+1,E+6),ut(this,E+2,E+5),ut(this,E+3,E+4);return this},f.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?gt(this,0,y):ct.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:f.compare(this,y)===0},f.prototype.inspect=function(){let y="";const E=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(y,E,D,j,$){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),D===void 0&&(D=y?y.length:0),j===void 0&&(j=0),$===void 0&&($=this.length),E<0||D>y.length||j<0||$>this.length)throw new RangeError("out of range index");if(j>=$&&E>=D)return 0;if(j>=$)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,j>>>=0,$>>>=0,this===y)return 0;let it=$-j,Rt=D-E;const ee=Math.min(it,Rt),Nt=this.slice(j,$),Vt=y.slice(E,D);for(let jt=0;jt<ee;++jt)if(Nt[jt]!==Vt[jt]){it=Nt[jt],Rt=Vt[jt];break}return it<Rt?-1:Rt<it?1:0};function W(A,y,E,D,j){if(A.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Ti(E)&&(E=j?0:A.length-1),E<0&&(E=A.length+E),E>=A.length){if(j)return-1;E=A.length-1}else if(E<0)if(j)E=0;else return-1;if(typeof y=="string"&&(y=f.from(y,D)),f.isBuffer(y))return y.length===0?-1:z(A,y,E,D,j);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(A,y,E):Uint8Array.prototype.lastIndexOf.call(A,y,E):z(A,[y],E,D,j);throw new TypeError("val must be string, number or Buffer")}function z(A,y,E,D,j){let $=1,it=A.length,Rt=y.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(A.length<2||y.length<2)return-1;$=2,it/=2,Rt/=2,E/=2}function ee(Vt,jt){return $===1?Vt[jt]:Vt.readUInt16BE(jt*$)}let Nt;if(j){let Vt=-1;for(Nt=E;Nt<it;Nt++)if(ee(A,Nt)===ee(y,Vt===-1?0:Nt-Vt)){if(Vt===-1&&(Vt=Nt),Nt-Vt+1===Rt)return Vt*$}else Vt!==-1&&(Nt-=Nt-Vt),Vt=-1}else for(E+Rt>it&&(E=it-Rt),Nt=E;Nt>=0;Nt--){let Vt=!0;for(let jt=0;jt<Rt;jt++)if(ee(A,Nt+jt)!==ee(y,jt)){Vt=!1;break}if(Vt)return Nt}return-1}f.prototype.includes=function(y,E,D){return this.indexOf(y,E,D)!==-1},f.prototype.indexOf=function(y,E,D){return W(this,y,E,D,!0)},f.prototype.lastIndexOf=function(y,E,D){return W(this,y,E,D,!1)};function N(A,y,E,D){E=Number(E)||0;const j=A.length-E;D?(D=Number(D),D>j&&(D=j)):D=j;const $=y.length;D>$/2&&(D=$/2);let it;for(it=0;it<D;++it){const Rt=parseInt(y.substr(it*2,2),16);if(Ti(Rt))return it;A[E+it]=Rt}return it}function k(A,y,E,D){return jn(ti(y,A.length-E),A,E,D)}function U(A,y,E,D){return jn(xi(y),A,E,D)}function L(A,y,E,D){return jn(Fn(y),A,E,D)}function F(A,y,E,D){return jn(Ei(y,A.length-E),A,E,D)}f.prototype.write=function(y,E,D,j){if(E===void 0)j="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")j=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-E;if((D===void 0||D>$)&&(D=$),y.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let it=!1;for(;;)switch(j){case"hex":return N(this,y,E,D);case"utf8":case"utf-8":return k(this,y,E,D);case"ascii":case"latin1":case"binary":return U(this,y,E,D);case"base64":return L(this,y,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,y,E,D);default:if(it)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),it=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(A,y,E){return y===0&&E===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(y,E))}function gt(A,y,E){E=Math.min(A.length,E);const D=[];let j=y;for(;j<E;){const $=A[j];let it=null,Rt=$>239?4:$>223?3:$>191?2:1;if(j+Rt<=E){let ee,Nt,Vt,jt;switch(Rt){case 1:$<128&&(it=$);break;case 2:ee=A[j+1],(ee&192)===128&&(jt=($&31)<<6|ee&63,jt>127&&(it=jt));break;case 3:ee=A[j+1],Nt=A[j+2],(ee&192)===128&&(Nt&192)===128&&(jt=($&15)<<12|(ee&63)<<6|Nt&63,jt>2047&&(jt<55296||jt>57343)&&(it=jt));break;case 4:ee=A[j+1],Nt=A[j+2],Vt=A[j+3],(ee&192)===128&&(Nt&192)===128&&(Vt&192)===128&&(jt=($&15)<<18|(ee&63)<<12|(Nt&63)<<6|Vt&63,jt>65535&&jt<1114112&&(it=jt))}}it===null?(it=65533,Rt=1):it>65535&&(it-=65536,D.push(it>>>10&1023|55296),it=56320|it&1023),D.push(it),j+=Rt}return dt(D)}const vt=4096;function dt(A){const y=A.length;if(y<=vt)return String.fromCharCode.apply(String,A);let E="",D=0;for(;D<y;)E+=String.fromCharCode.apply(String,A.slice(D,D+=vt));return E}function Tt(A,y,E){let D="";E=Math.min(A.length,E);for(let j=y;j<E;++j)D+=String.fromCharCode(A[j]&127);return D}function wt(A,y,E){let D="";E=Math.min(A.length,E);for(let j=y;j<E;++j)D+=String.fromCharCode(A[j]);return D}function qt(A,y,E){const D=A.length;(!y||y<0)&&(y=0),(!E||E<0||E>D)&&(E=D);let j="";for(let $=y;$<E;++$)j+=We[A[$]];return j}function I(A,y,E){const D=A.slice(y,E);let j="";for(let $=0;$<D.length-1;$+=2)j+=String.fromCharCode(D[$]+D[$+1]*256);return j}f.prototype.slice=function(y,E){const D=this.length;y=~~y,E=E===void 0?D:~~E,y<0?(y+=D,y<0&&(y=0)):y>D&&(y=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<y&&(E=y);const j=this.subarray(y,E);return Object.setPrototypeOf(j,f.prototype),j};function rt(A,y,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+y>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=this[y],$=1,it=0;for(;++it<E&&($*=256);)j+=this[y+it]*$;return j},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=this[y+--E],$=1;for(;E>0&&($*=256);)j+=this[y+--E]*$;return j},f.prototype.readUint8=f.prototype.readUInt8=function(y,E){return y=y>>>0,E||rt(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||rt(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||rt(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readBigUInt64LE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,$=this[++y]+this[++y]*2**8+this[++y]*2**16+D*2**24;return BigInt(j)+(BigInt($)<<BigInt(32))}),f.prototype.readBigUInt64BE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],$=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+D;return(BigInt(j)<<BigInt(32))+BigInt($)}),f.prototype.readIntLE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=this[y],$=1,it=0;for(;++it<E&&($*=256);)j+=this[y+it]*$;return $*=128,j>=$&&(j-=Math.pow(2,8*E)),j},f.prototype.readIntBE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=E,$=1,it=this[y+--j];for(;j>0&&($*=256);)it+=this[y+--j]*$;return $*=128,it>=$&&(it-=Math.pow(2,8*E)),it},f.prototype.readInt8=function(y,E){return y=y>>>0,E||rt(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},f.prototype.readInt16LE=function(y,E){y=y>>>0,E||rt(y,2,this.length);const D=this[y]|this[y+1]<<8;return D&32768?D|4294901760:D},f.prototype.readInt16BE=function(y,E){y=y>>>0,E||rt(y,2,this.length);const D=this[y+1]|this[y]<<8;return D&32768?D|4294901760:D},f.prototype.readInt32LE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readBigInt64LE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(D<<24);return(BigInt(j)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),f.prototype.readBigInt64BE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(j)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+D)}),f.prototype.readFloatLE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),n.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),n.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||rt(y,8,this.length),n.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||rt(y,8,this.length),n.read(this,y,!1,52,8)};function yt(A,y,E,D,j,$){if(!f.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>j||y<$)throw new RangeError('"value" argument is out of bounds');if(E+D>A.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,E,D,j){if(y=+y,E=E>>>0,D=D>>>0,!j){const Rt=Math.pow(2,8*D)-1;yt(this,y,E,D,Rt,0)}let $=1,it=0;for(this[E]=y&255;++it<D&&($*=256);)this[E+it]=y/$&255;return E+D},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,E,D,j){if(y=+y,E=E>>>0,D=D>>>0,!j){const Rt=Math.pow(2,8*D)-1;yt(this,y,E,D,Rt,0)}let $=D-1,it=1;for(this[E+$]=y&255;--$>=0&&(it*=256);)this[E+$]=y/it&255;return E+D},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,1,255,0),this[E]=y&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function M(A,y,E,D,j){xn(y,D,j,A,E,7);let $=Number(y&BigInt(4294967295));A[E++]=$,$=$>>8,A[E++]=$,$=$>>8,A[E++]=$,$=$>>8,A[E++]=$;let it=Number(y>>BigInt(32)&BigInt(4294967295));return A[E++]=it,it=it>>8,A[E++]=it,it=it>>8,A[E++]=it,it=it>>8,A[E++]=it,E}function _t(A,y,E,D,j){xn(y,D,j,A,E,7);let $=Number(y&BigInt(4294967295));A[E+7]=$,$=$>>8,A[E+6]=$,$=$>>8,A[E+5]=$,$=$>>8,A[E+4]=$;let it=Number(y>>BigInt(32)&BigInt(4294967295));return A[E+3]=it,it=it>>8,A[E+2]=it,it=it>>8,A[E+1]=it,it=it>>8,A[E]=it,E+8}f.prototype.writeBigUInt64LE=wn(function(y,E=0){return M(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=wn(function(y,E=0){return _t(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(y,E,D,j){if(y=+y,E=E>>>0,!j){const ee=Math.pow(2,8*D-1);yt(this,y,E,D,ee-1,-ee)}let $=0,it=1,Rt=0;for(this[E]=y&255;++$<D&&(it*=256);)y<0&&Rt===0&&this[E+$-1]!==0&&(Rt=1),this[E+$]=(y/it>>0)-Rt&255;return E+D},f.prototype.writeIntBE=function(y,E,D,j){if(y=+y,E=E>>>0,!j){const ee=Math.pow(2,8*D-1);yt(this,y,E,D,ee-1,-ee)}let $=D-1,it=1,Rt=0;for(this[E+$]=y&255;--$>=0&&(it*=256);)y<0&&Rt===0&&this[E+$+1]!==0&&(Rt=1),this[E+$]=(y/it>>0)-Rt&255;return E+D},f.prototype.writeInt8=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},f.prototype.writeInt16LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeInt16BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeInt32LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},f.prototype.writeInt32BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},f.prototype.writeBigInt64LE=wn(function(y,E=0){return M(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=wn(function(y,E=0){return _t(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(A,y,E,D,j,$){if(E+D>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function At(A,y,E,D,j){return y=+y,E=E>>>0,j||Dt(A,y,E,4),n.write(A,y,E,D,23,4),E+4}f.prototype.writeFloatLE=function(y,E,D){return At(this,y,E,!0,D)},f.prototype.writeFloatBE=function(y,E,D){return At(this,y,E,!1,D)};function de(A,y,E,D,j){return y=+y,E=E>>>0,j||Dt(A,y,E,8),n.write(A,y,E,D,52,8),E+8}f.prototype.writeDoubleLE=function(y,E,D){return de(this,y,E,!0,D)},f.prototype.writeDoubleBE=function(y,E,D){return de(this,y,E,!1,D)},f.prototype.copy=function(y,E,D,j){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),E>=y.length&&(E=y.length),E||(E=0),j>0&&j<D&&(j=D),j===D||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),y.length-E<j-D&&(j=y.length-E+D);const $=j-D;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,j):Uint8Array.prototype.set.call(y,this.subarray(D,j),E),$},f.prototype.fill=function(y,E,D,j){if(typeof y=="string"){if(typeof E=="string"?(j=E,E=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!f.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(y.length===1){const it=y.charCodeAt(0);(j==="utf8"&&it<128||j==="latin1")&&(y=it)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,y||(y=0);let $;if(typeof y=="number")for($=E;$<D;++$)this[$]=y;else{const it=f.isBuffer(y)?y:f.from(y,j),Rt=it.length;if(Rt===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for($=0;$<D-E;++$)this[$+E]=it[$%Rt]}return this};const Mt={};function ae(A,y,E){Mt[A]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(A,y){return`The "${A}" argument must be of type number. Received type ${typeof y}`},TypeError),ae("ERR_OUT_OF_RANGE",function(A,y,E){let D=`The value of "${A}" is out of range.`,j=E;return Number.isInteger(E)&&Math.abs(E)>2**32?j=Kt(String(E)):typeof E=="bigint"&&(j=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(j=Kt(j)),j+="n"),D+=` It must be ${y}. Received ${j}`,D},RangeError);function Kt(A){let y="",E=A.length;const D=A[0]==="-"?1:0;for(;E>=D+4;E-=3)y=`_${A.slice(E-3,E)}${y}`;return`${A.slice(0,E)}${y}`}function Ce(A,y,E){Ne(y,"offset"),(A[y]===void 0||A[y+E]===void 0)&&dn(y,A.length-(E+1))}function xn(A,y,E,D,j,$){if(A>E||A<y){const it=typeof y=="bigint"?"n":"";let Rt;throw y===0||y===BigInt(0)?Rt=`>= 0${it} and < 2${it} ** ${($+1)*8}${it}`:Rt=`>= -(2${it} ** ${($+1)*8-1}${it}) and < 2 ** ${($+1)*8-1}${it}`,new Mt.ERR_OUT_OF_RANGE("value",Rt,A)}Ce(D,j,$)}function Ne(A,y){if(typeof A!="number")throw new Mt.ERR_INVALID_ARG_TYPE(y,"number",A)}function dn(A,y,E){throw Math.floor(A)!==A?(Ne(A,E),new Mt.ERR_OUT_OF_RANGE("offset","an integer",A)):y<0?new Mt.ERR_BUFFER_OUT_OF_BOUNDS:new Mt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,A)}const zn=/[^+/0-9A-Za-z-_]/g;function kn(A){if(A=A.split("=")[0],A=A.trim().replace(zn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function ti(A,y){y=y||1/0;let E;const D=A.length;let j=null;const $=[];for(let it=0;it<D;++it){if(E=A.charCodeAt(it),E>55295&&E<57344){if(!j){if(E>56319){(y-=3)>-1&&$.push(239,191,189);continue}else if(it+1===D){(y-=3)>-1&&$.push(239,191,189);continue}j=E;continue}if(E<56320){(y-=3)>-1&&$.push(239,191,189),j=E;continue}E=(j-55296<<10|E-56320)+65536}else j&&(y-=3)>-1&&$.push(239,191,189);if(j=null,E<128){if((y-=1)<0)break;$.push(E)}else if(E<2048){if((y-=2)<0)break;$.push(E>>6|192,E&63|128)}else if(E<65536){if((y-=3)<0)break;$.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((y-=4)<0)break;$.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return $}function xi(A){const y=[];for(let E=0;E<A.length;++E)y.push(A.charCodeAt(E)&255);return y}function Ei(A,y){let E,D,j;const $=[];for(let it=0;it<A.length&&!((y-=2)<0);++it)E=A.charCodeAt(it),D=E>>8,j=E%256,$.push(j),$.push(D);return $}function Fn(A){return t.toByteArray(kn(A))}function jn(A,y,E,D){let j;for(j=0;j<D&&!(j+E>=y.length||j>=A.length);++j)y[j+E]=A[j];return j}function pn(A,y){return A instanceof y||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===y.name}function Ti(A){return A!==A}const We=function(){const A="0123456789abcdef",y=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let j=0;j<16;++j)y[D+j]=A[E]+A[j]}return y}();function wn(A){return typeof BigInt>"u"?tt:A}function tt(){throw new Error("BigInt not supported")}}(Ap)),Ap}var D1=k1(),Rp={exports:{}},u0;function O1(){if(u0)return Rp.exports;u0=1;var e=Rp.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=a}catch{n=a}})();function l(B){if(t===setTimeout)return setTimeout(B,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(B,0);try{return t(B,0)}catch{try{return t.call(null,B,0)}catch{return t.call(this,B,0)}}}function c(B){if(n===clearTimeout)return clearTimeout(B);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(B);try{return n(B)}catch{try{return n.call(null,B)}catch{return n.call(this,B)}}}var f=[],p=!1,m,_=-1;function T(){!p||!m||(p=!1,m.length?f=m.concat(f):_=-1,f.length&&R())}function R(){if(!p){var B=l(T);p=!0;for(var q=f.length;q;){for(m=f,f=[];++_<q;)m&&m[_].run();_=-1,q=f.length}m=null,p=!1,c(B)}}e.nextTick=function(B){var q=new Array(arguments.length-1);if(arguments.length>1)for(var K=1;K<arguments.length;K++)q[K-1]=arguments[K];f.push(new S(B,q)),f.length===1&&!p&&l(R)};function S(B,q){this.fun=B,this.array=q}S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function V(){}return e.on=V,e.addListener=V,e.once=V,e.off=V,e.removeListener=V,e.removeAllListeners=V,e.emit=V,e.prependListener=V,e.prependOnceListener=V,e.listeners=function(B){return[]},e.binding=function(B){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(B){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Rp.exports}var N1=O1();const M1=Ru(N1);window.Buffer=D1.Buffer;window.process=M1;var Ip={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function U1(){if(c0)return Zl;c0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=t,Zl.jsx=n,Zl.jsxs=n,Zl}var h0;function P1(){return h0||(h0=1,Ip.exports=U1()),Ip.exports}var Et=P1(),Cp={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function L1(){if(f0)return Gt;f0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,B={};function q(I,rt,yt){this.props=I,this.context=rt,this.refs=B,this.updater=yt||S}q.prototype.isReactComponent={},q.prototype.setState=function(I,rt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,rt,"setState")},q.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function K(){}K.prototype=q.prototype;function nt(I,rt,yt){this.props=I,this.context=rt,this.refs=B,this.updater=yt||S}var J=nt.prototype=new K;J.constructor=nt,V(J,q.prototype),J.isPureReactComponent=!0;var ct=Array.isArray,ut={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function z(I,rt,yt,M,_t,Dt){return yt=Dt.ref,{$$typeof:e,type:I,key:rt,ref:yt!==void 0?yt:null,props:Dt}}function N(I,rt){return z(I.type,rt,void 0,void 0,void 0,I.props)}function k(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function U(I){var rt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(yt){return rt[yt]})}var L=/\/+/g;function F(I,rt){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):rt.toString(36)}function O(){}function gt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(O,O):(I.status="pending",I.then(function(rt){I.status==="pending"&&(I.status="fulfilled",I.value=rt)},function(rt){I.status==="pending"&&(I.status="rejected",I.reason=rt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function vt(I,rt,yt,M,_t){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var At=!1;if(I===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(I.$$typeof){case e:case t:At=!0;break;case _:return At=I._init,vt(At(I._payload),rt,yt,M,_t)}}if(At)return _t=_t(I),At=M===""?"."+F(I,0):M,ct(_t)?(yt="",At!=null&&(yt=At.replace(L,"$&/")+"/"),vt(_t,rt,yt,"",function(ae){return ae})):_t!=null&&(k(_t)&&(_t=N(_t,yt+(_t.key==null||I&&I.key===_t.key?"":(""+_t.key).replace(L,"$&/")+"/")+At)),rt.push(_t)),1;At=0;var de=M===""?".":M+":";if(ct(I))for(var Mt=0;Mt<I.length;Mt++)M=I[Mt],Dt=de+F(M,Mt),At+=vt(M,rt,yt,Dt,_t);else if(Mt=R(I),typeof Mt=="function")for(I=Mt.call(I),Mt=0;!(M=I.next()).done;)M=M.value,Dt=de+F(M,Mt++),At+=vt(M,rt,yt,Dt,_t);else if(Dt==="object"){if(typeof I.then=="function")return vt(gt(I),rt,yt,M,_t);throw rt=String(I),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return At}function dt(I,rt,yt){if(I==null)return I;var M=[],_t=0;return vt(I,M,"","",function(Dt){return rt.call(yt,Dt,_t++)}),M}function Tt(I){if(I._status===-1){var rt=I._result;rt=rt(),rt.then(function(yt){(I._status===0||I._status===-1)&&(I._status=1,I._result=yt)},function(yt){(I._status===0||I._status===-1)&&(I._status=2,I._result=yt)}),I._status===-1&&(I._status=0,I._result=rt)}if(I._status===1)return I._result.default;throw I._result}var wt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function qt(){}return Gt.Children={map:dt,forEach:function(I,rt,yt){dt(I,function(){rt.apply(this,arguments)},yt)},count:function(I){var rt=0;return dt(I,function(){rt++}),rt},toArray:function(I){return dt(I,function(rt){return rt})||[]},only:function(I){if(!k(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Gt.Component=q,Gt.Fragment=n,Gt.Profiler=a,Gt.PureComponent=nt,Gt.StrictMode=r,Gt.Suspense=p,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Gt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Gt.cache=function(I){return function(){return I.apply(null,arguments)}},Gt.cloneElement=function(I,rt,yt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var M=V({},I.props),_t=I.key,Dt=void 0;if(rt!=null)for(At in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(_t=""+rt.key),rt)!W.call(rt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&rt.ref===void 0||(M[At]=rt[At]);var At=arguments.length-2;if(At===1)M.children=yt;else if(1<At){for(var de=Array(At),Mt=0;Mt<At;Mt++)de[Mt]=arguments[Mt+2];M.children=de}return z(I.type,_t,void 0,void 0,Dt,M)},Gt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Gt.createElement=function(I,rt,yt){var M,_t={},Dt=null;if(rt!=null)for(M in rt.key!==void 0&&(Dt=""+rt.key),rt)W.call(rt,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(_t[M]=rt[M]);var At=arguments.length-2;if(At===1)_t.children=yt;else if(1<At){for(var de=Array(At),Mt=0;Mt<At;Mt++)de[Mt]=arguments[Mt+2];_t.children=de}if(I&&I.defaultProps)for(M in At=I.defaultProps,At)_t[M]===void 0&&(_t[M]=At[M]);return z(I,Dt,void 0,void 0,null,_t)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(I){return{$$typeof:f,render:I}},Gt.isValidElement=k,Gt.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Tt}},Gt.memo=function(I,rt){return{$$typeof:m,type:I,compare:rt===void 0?null:rt}},Gt.startTransition=function(I){var rt=ut.T,yt={};ut.T=yt;try{var M=I(),_t=ut.S;_t!==null&&_t(yt,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(qt,wt)}catch(Dt){wt(Dt)}finally{ut.T=rt}},Gt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Gt.use=function(I){return ut.H.use(I)},Gt.useActionState=function(I,rt,yt){return ut.H.useActionState(I,rt,yt)},Gt.useCallback=function(I,rt){return ut.H.useCallback(I,rt)},Gt.useContext=function(I){return ut.H.useContext(I)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(I,rt){return ut.H.useDeferredValue(I,rt)},Gt.useEffect=function(I,rt){return ut.H.useEffect(I,rt)},Gt.useId=function(){return ut.H.useId()},Gt.useImperativeHandle=function(I,rt,yt){return ut.H.useImperativeHandle(I,rt,yt)},Gt.useInsertionEffect=function(I,rt){return ut.H.useInsertionEffect(I,rt)},Gt.useLayoutEffect=function(I,rt){return ut.H.useLayoutEffect(I,rt)},Gt.useMemo=function(I,rt){return ut.H.useMemo(I,rt)},Gt.useOptimistic=function(I,rt){return ut.H.useOptimistic(I,rt)},Gt.useReducer=function(I,rt,yt){return ut.H.useReducer(I,rt,yt)},Gt.useRef=function(I){return ut.H.useRef(I)},Gt.useState=function(I){return ut.H.useState(I)},Gt.useSyncExternalStore=function(I,rt,yt){return ut.H.useSyncExternalStore(I,rt,yt)},Gt.useTransition=function(){return ut.H.useTransition()},Gt.version="19.0.0",Gt}var d0;function zm(){return d0||(d0=1,Cp.exports=L1()),Cp.exports}var $t=zm();const V1=Ru($t);var xp={exports:{}},Jl={},kp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function B1(){return p0||(p0=1,function(e){function t(dt,Tt){var wt=dt.length;dt.push(Tt);t:for(;0<wt;){var qt=wt-1>>>1,I=dt[qt];if(0<a(I,Tt))dt[qt]=Tt,dt[wt]=I,wt=qt;else break t}}function n(dt){return dt.length===0?null:dt[0]}function r(dt){if(dt.length===0)return null;var Tt=dt[0],wt=dt.pop();if(wt!==Tt){dt[0]=wt;t:for(var qt=0,I=dt.length,rt=I>>>1;qt<rt;){var yt=2*(qt+1)-1,M=dt[yt],_t=yt+1,Dt=dt[_t];if(0>a(M,wt))_t<I&&0>a(Dt,M)?(dt[qt]=Dt,dt[_t]=wt,qt=_t):(dt[qt]=M,dt[yt]=wt,qt=yt);else if(_t<I&&0>a(Dt,wt))dt[qt]=Dt,dt[_t]=wt,qt=_t;else break t}}return Tt}function a(dt,Tt){var wt=dt.sortIndex-Tt.sortIndex;return wt!==0?wt:dt.id-Tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],m=[],_=1,T=null,R=3,S=!1,V=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function J(dt){for(var Tt=n(m);Tt!==null;){if(Tt.callback===null)r(m);else if(Tt.startTime<=dt)r(m),Tt.sortIndex=Tt.expirationTime,t(p,Tt);else break;Tt=n(m)}}function ct(dt){if(B=!1,J(dt),!V)if(n(p)!==null)V=!0,gt();else{var Tt=n(m);Tt!==null&&vt(ct,Tt.startTime-dt)}}var ut=!1,W=-1,z=5,N=-1;function k(){return!(e.unstable_now()-N<z)}function U(){if(ut){var dt=e.unstable_now();N=dt;var Tt=!0;try{t:{V=!1,B&&(B=!1,K(W),W=-1),S=!0;var wt=R;try{e:{for(J(dt),T=n(p);T!==null&&!(T.expirationTime>dt&&k());){var qt=T.callback;if(typeof qt=="function"){T.callback=null,R=T.priorityLevel;var I=qt(T.expirationTime<=dt);if(dt=e.unstable_now(),typeof I=="function"){T.callback=I,J(dt),Tt=!0;break e}T===n(p)&&r(p),J(dt)}else r(p);T=n(p)}if(T!==null)Tt=!0;else{var rt=n(m);rt!==null&&vt(ct,rt.startTime-dt),Tt=!1}}break t}finally{T=null,R=wt,S=!1}Tt=void 0}}finally{Tt?L():ut=!1}}}var L;if(typeof nt=="function")L=function(){nt(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=U,L=function(){O.postMessage(null)}}else L=function(){q(U,0)};function gt(){ut||(ut=!0,L())}function vt(dt,Tt){W=q(function(){dt(e.unstable_now())},Tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(dt){dt.callback=null},e.unstable_continueExecution=function(){V||S||(V=!0,gt())},e.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<dt?Math.floor(1e3/dt):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(dt){switch(R){case 1:case 2:case 3:var Tt=3;break;default:Tt=R}var wt=R;R=Tt;try{return dt()}finally{R=wt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(dt,Tt){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var wt=R;R=dt;try{return Tt()}finally{R=wt}},e.unstable_scheduleCallback=function(dt,Tt,wt){var qt=e.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?qt+wt:qt):wt=qt,dt){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=wt+I,dt={id:_++,callback:Tt,priorityLevel:dt,startTime:wt,expirationTime:I,sortIndex:-1},wt>qt?(dt.sortIndex=wt,t(m,dt),n(p)===null&&dt===n(m)&&(B?(K(W),W=-1):B=!0,vt(ct,wt-qt))):(dt.sortIndex=I,t(p,dt),V||S||(V=!0,gt())),dt},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(dt){var Tt=R;return function(){var wt=R;R=Tt;try{return dt.apply(this,arguments)}finally{R=wt}}}}(Dp)),Dp}var m0;function z1(){return m0||(m0=1,kp.exports=B1()),kp.exports}var Op={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function F1(){if(g0)return gn;g0=1;var e=zm();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,_)},gn.flushSync=function(p){var m=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=_,r.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:S}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},gn.requestFormReset=function(p){r.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var y0;function j1(){if(y0)return Op.exports;y0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Op.exports=F1(),Op.exports}var _0;function q1(){if(_0)return Jl;_0=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=z1(),t=zm(),n=j1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ct=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=ut&&i[ut]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function N(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case R:return(i._context.displayName||"Context")+".Consumer";case V:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:N(i.type)||"Memo";case nt:s=i._payload,i=i._init;try{return N(i(s))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,L,F;function O(i){if(L===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+F}var gt=!1;function vt(i,s){if(!i||gt)return"";gt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(st){var Z=st}Reflect.construct(i,[],ht)}else{try{ht.call()}catch(st){Z=st}i.call(ht.prototype)}}else{try{throw Error()}catch(st){Z=st}(ht=i())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(st){if(st&&Z&&typeof st.stack=="string")return[st.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],C=g[1];if(b&&C){var P=b.split(`
`),G=C.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===G.length)for(u=P.length-1,d=G.length-1;1<=u&&0<=d&&P[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==G[d]){var at=`
`+P[u].replace(" at new "," at ");return i.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",i.displayName)),at}while(1<=u&&0<=d);break}}}finally{gt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?O(o):""}function dt(i){switch(i.tag){case 26:case 27:case 5:return O(i.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return i=vt(i.type,!1),i;case 11:return i=vt(i.type.render,!1),i;case 1:return i=vt(i.type,!0),i;default:return""}}function Tt(i){try{var s="";do s+=dt(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function wt(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function qt(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function I(i){if(wt(i)!==i)throw Error(r(188))}function rt(i){var s=i.alternate;if(!s){if(s=wt(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return I(d),i;if(g===u)return I(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,C=d.child;C;){if(C===o){b=!0,o=d,u=g;break}if(C===u){b=!0,u=d,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,u=d;break}if(C===u){b=!0,u=g,o=d;break}C=C.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function yt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=yt(i),s!==null)return s;i=i.sibling}return null}var M=Array.isArray,_t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt={pending:!1,data:null,method:null,action:null},At=[],de=-1;function Mt(i){return{current:i}}function ae(i){0>de||(i.current=At[de],At[de]=null,de--)}function Kt(i,s){de++,At[de]=i.current,i.current=s}var Ce=Mt(null),xn=Mt(null),Ne=Mt(null),dn=Mt(null);function zn(i,s){switch(Kt(Ne,s),Kt(xn,i),Kt(Ce,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Uv(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Uv(i),s=Pv(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Ce),Kt(Ce,s)}function kn(){ae(Ce),ae(xn),ae(Ne)}function ti(i){i.memoizedState!==null&&Kt(dn,i);var s=Ce.current,o=Pv(s,i.type);s!==o&&(Kt(xn,i),Kt(Ce,o))}function xi(i){xn.current===i&&(ae(Ce),ae(xn)),dn.current===i&&(ae(dn),Kl._currentValue=Dt)}var Ei=Object.prototype.hasOwnProperty,Fn=e.unstable_scheduleCallback,jn=e.unstable_cancelCallback,pn=e.unstable_shouldYield,Ti=e.unstable_requestPaint,We=e.unstable_now,wn=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,A=e.unstable_UserBlockingPriority,y=e.unstable_NormalPriority,E=e.unstable_LowPriority,D=e.unstable_IdlePriority,j=e.log,$=e.unstable_setDisableYieldValue,it=null,Rt=null;function ee(i){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(it,i,void 0,(i.current.flags&128)===128)}catch{}}function Nt(i){if(typeof j=="function"&&$(i),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(it,i)}catch{}}var Vt=Math.clz32?Math.clz32:ju,jt=Math.log,Fu=Math.LN2;function ju(i){return i>>>=0,i===0?32:31-(jt(i)/Fu|0)|0}var ki=128,Br=4194304;function wi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ei(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,d=i.suspendedLanes,g=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var C=o&134217727;return C!==0?(o=C&~d,o!==0?u=wi(o):(g&=C,g!==0?u=wi(g):i||(b=C&~b,b!==0&&(u=wi(b))))):(C=o&~d,C!==0?u=wi(C):g!==0?u=wi(g):i||(b=o&~b,b!==0&&(u=wi(b)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,b=s&-s,d>=b||d===32&&(b&4194176)!==0)?s:u}function zr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Oa(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var i=ki;return ki<<=1,(ki&4194176)===0&&(ki=128),i}function Fr(){var i=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),i}function Na(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Me(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qu(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,P=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var at=31-Vt(o),ht=1<<at;C[at]=0,P[at]=-1;var Z=G[at];if(Z!==null)for(G[at]=null,at=0;at<Z.length;at++){var st=Z[at];st!==null&&(st.lane&=-536870913)}o&=~ht}u!==0&&jr(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function jr(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Vt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function qr(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Vt(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Hu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gu(){var i=_t.p;return i!==0?i:(i=window.event,i===void 0?32:t0(i.type))}function Hr(i,s){var o=_t.p;try{return _t.p=i,s()}finally{_t.p=o}}var Di=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Di,qe="__reactProps$"+Di,sr="__reactContainer$"+Di,zs="__reactEvents$"+Di,Ma="__reactListeners$"+Di,Oi="__reactHandles$"+Di,Zo="__reactResources$"+Di,Gr="__reactMarker$"+Di;function Fs(i){delete i[Ze],delete i[qe],delete i[zs],delete i[Ma],delete i[Oi]}function bi(i){var s=i[Ze];if(s)return s;for(var o=i.parentNode;o;){if(s=o[sr]||o[Ze]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Bv(i);i!==null;){if(o=i[Ze])return o;i=Bv(i)}return s}i=o,o=i.parentNode}return null}function ar(i){if(i=i[Ze]||i[sr]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Kr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Qr(i){var s=i[Zo];return s||(s=i[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(i){i[Gr]=!0}var Jo=new Set,Ua={};function qn(i,s){Dn(i,s),Dn(i+"Capture",s)}function Dn(i,s){for(Ua[i]=s,i=0;i<s.length;i++)Jo.add(s[i])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Ku(i){return Ei.call(el,i)?!0:Ei.call(tl,i)?!1:xf.test(i)?el[i]=!0:(tl[i]=!0,!1)}function Yr(i,s,o){if(Ku(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Xr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function ni(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kf(i){var s=Qu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function js(i){i._valueTracker||(i._valueTracker=kf(i))}function nl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Qu(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Pa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var or=/[\n"\\]/g;function xe(i){return i.replace(or,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $r(i,s,o,u,d,g,b,C){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+bn(s)):i.value!==""+bn(s)&&(i.value=""+bn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?La(i,b,bn(s)):o!=null?La(i,b,bn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+bn(C):i.removeAttribute("name")}function qs(i,s,o,u,d,g,b,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,C||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function La(i,s,o){s==="number"&&Pa(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function oe(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Hs(i,s,o){if(s!=null&&(s=""+bn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+bn(o):""}function Wr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(M(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function ii(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Df.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Yu(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&il(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&il(i,g,s[g])}function rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(i){return Nf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ri=null;function Va(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,ur=null;function cr(i){var s=ar(i);if(s&&(i=s.stateNode)){var o=i[qe]||null;t:switch(i=s.stateNode,s.type){case"input":if($r(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xe(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[qe]||null;if(!d)throw Error(r(90));$r(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&nl(u)}break t;case"textarea":Hs(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&oe(i,!!o.multiple,s,!1)}}}var sl=!1;function Xu(i,s,o){if(sl)return i(s,o);sl=!0;try{var u=i(s);return u}finally{if(sl=!1,(lr!==null||ur!==null)&&(zc(),lr&&(s=lr,i=ur,ur=lr=null,cr(s),i)))for(s=0;s<i.length;s++)cr(i[s])}}function Gs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[qe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var si=!1;if(Hn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){si=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{si=!1}var Mi=null,Zr=null,hr=null;function al(){if(hr)return hr;var i,s=Zr,o=s.length,u,d="value"in Mi?Mi.value:Mi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return hr=d.slice(i,1<u?1-u:void 0)}function Ui(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Pi(){return!0}function ol(){return!1}function Je(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pi:ol,this.isPropagationStopped=ol,this}return U(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),s}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Je(he),Qs=U({},he,{view:0,detail:0}),$u=Je(Qs),za,Fa,Li,Ys=U({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(za=i.screenX-Li.screenX,Fa=i.screenY-Li.screenY):Fa=za=0,Li=i),za)},movementY:function(i){return"movementY"in i?i.movementY:Fa}}),ai=Je(Ys),Wu=U({},Ys,{dataTransfer:0}),Mf=Je(Wu),Xs=U({},Qs,{relatedTarget:0}),ja=Je(Xs),ll=U({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Je(ll),Zu=U({},he,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ha=Je(Zu),Uf=U({},he,{data:0}),ul=Je(Uf),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=tc[i])?!!s[i]:!1}function Ws(){return cl}var ec=U({},Qs,{key:function(i){if(i.key){var s=$s[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ui(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ju[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?Ui(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ui(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ga=Je(ec),nc=U({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Je(nc),fr=U({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),ic=Je(fr),rc=U({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Je(rc),ac=U({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Je(ac),Sn=U({},he,{newState:0,oldState:0}),oc=Je(Sn),lc=[9,13,27,32],Vi=Hn&&"CompositionEvent"in window,h=null;Hn&&"documentMode"in document&&(h=document.documentMode);var v=Hn&&"TextEvent"in window&&!h,w=Hn&&(!Vi||h&&8<h&&11>=h),x=" ",Y=!1;function et(i,s){switch(i){case"keyup":return lc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ne=!1;function He(i,s){switch(i){case"compositionend":return mt(s);case"keypress":return s.which!==32?null:(Y=!0,x);case"textInput":return i=s.data,i===x&&Y?null:i;default:return null}}function ie(i,s){if(ne)return i==="compositionend"||!Vi&&et(i,s)?(i=al(),hr=Zr=Mi=null,ne=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!tn[i.type]:s==="textarea"}function dr(i,s,o,u){lr?ur?ur.push(u):ur=[u]:lr=u,s=Gc(s,"onChange"),0<s.length&&(o=new Ba("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var an=null,Bi=null;function fl(i){kv(i,0)}function uc(i){var s=Kr(i);if(nl(s))return i}function sy(i,s){if(i==="change")return s}var ay=!1;if(Hn){var Pf;if(Hn){var Lf="oninput"in document;if(!Lf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Lf=typeof oy.oninput=="function"}Pf=Lf}else Pf=!1;ay=Pf&&(!document.documentMode||9<document.documentMode)}function ly(){an&&(an.detachEvent("onpropertychange",uy),Bi=an=null)}function uy(i){if(i.propertyName==="value"&&uc(Bi)){var s=[];dr(s,Bi,i,Va(i)),Xu(fl,s)}}function rA(i,s,o){i==="focusin"?(ly(),an=s,Bi=o,an.attachEvent("onpropertychange",uy)):i==="focusout"&&ly()}function sA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uc(Bi)}function aA(i,s){if(i==="click")return uc(s)}function oA(i,s){if(i==="input"||i==="change")return uc(s)}function lA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Gn=typeof Object.is=="function"?Object.is:lA;function dl(i,s){if(Gn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ei.call(s,d)||!Gn(i[d],s[d]))return!1}return!0}function cy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hy(i,s){var o=cy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=cy(o)}}function fy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function dy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Pa(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Pa(i.document)}return s}function Vf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function uA(i,s){var o=dy(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&fy(s.ownerDocument.documentElement,s)){if(u!==null&&Vf(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=hy(s,g);var b=hy(s,u);d&&b&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var cA=Hn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Bf=null,pl=null,zf=!1;function py(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zf||Qa==null||Qa!==Pa(u)||(u=Qa,"selectionStart"in u&&Vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&dl(pl,u)||(pl=u,u=Gc(Bf,"onSelect"),0<u.length&&(s=new Ba("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Qa)))}function Zs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ya={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Ff={},my={};Hn&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Js(i){if(Ff[i])return Ff[i];if(!Ya[i])return i;var s=Ya[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in my)return Ff[i]=s[o];return i}var gy=Js("animationend"),yy=Js("animationiteration"),_y=Js("animationstart"),hA=Js("transitionrun"),fA=Js("transitionstart"),dA=Js("transitioncancel"),vy=Js("transitionend"),Ey=new Map,Ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Si(i,s){Ey.set(i,s),qn(s,[i])}var oi=[],Xa=0,jf=0;function cc(){for(var i=Xa,s=jf=Xa=0;s<i;){var o=oi[s];oi[s++]=null;var u=oi[s];oi[s++]=null;var d=oi[s];oi[s++]=null;var g=oi[s];if(oi[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&wy(o,d,g)}}function hc(i,s,o,u){oi[Xa++]=i,oi[Xa++]=s,oi[Xa++]=o,oi[Xa++]=u,jf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function qf(i,s,o,u){return hc(i,s,o,u),fc(i)}function Jr(i,s){return hc(i,null,null,s),fc(i)}function wy(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;d&&s!==null&&i.tag===3&&(g=i.stateNode,d=31-Vt(o),g=g.hiddenUpdates,i=g[d],i===null?g[d]=[s]:i.push(s),s.lane=o|536870912)}function fc(i){if(50<Bl)throw Bl=0,Xd=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var $a={},by=new WeakMap;function li(i,s){if(typeof i=="object"&&i!==null){var o=by.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Tt(s)},by.set(i,s),s)}return{value:i,source:s,stack:Tt(s)}}var Wa=[],Za=0,dc=null,pc=0,ui=[],ci=0,ta=null,pr=1,mr="";function ea(i,s){Wa[Za++]=pc,Wa[Za++]=dc,dc=i,pc=s}function Sy(i,s,o){ui[ci++]=pr,ui[ci++]=mr,ui[ci++]=ta,ta=i;var u=pr;i=mr;var d=32-Vt(u)-1;u&=~(1<<d),o+=1;var g=32-Vt(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,pr=1<<32-Vt(s)+d|o<<d|u,mr=g+i}else pr=1<<g|o<<d|u,mr=i}function Hf(i){i.return!==null&&(ea(i,1),Sy(i,1,0))}function Gf(i){for(;i===dc;)dc=Wa[--Za],Wa[Za]=null,pc=Wa[--Za],Wa[Za]=null;for(;i===ta;)ta=ui[--ci],ui[ci]=null,mr=ui[--ci],ui[ci]=null,pr=ui[--ci],ui[ci]=null}var An=null,on=null,le=!1,Ai=null,zi=!1,Kf=Error(r(519));function na(i){var s=Error(r(418,""));throw yl(li(s,i)),Kf}function Ay(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ze]=i,s[qe]=u,o){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Jt(Fl[o],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":Jt("invalid",s),qs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(s);break;case"select":Jt("invalid",s);break;case"textarea":Jt("invalid",s),Wr(s,u.value,u.defaultValue,u.children),js(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Mv(s.textContent,o)?(u.popover!=null&&(Jt("beforetoggle",s),Jt("toggle",s)),u.onScroll!=null&&Jt("scroll",s),u.onScrollEnd!=null&&Jt("scrollend",s),u.onClick!=null&&(s.onclick=Kc),s=!0):s=!1,s||na(i)}function Ry(i){for(An=i.return;An;)switch(An.tag){case 3:case 27:zi=!0;return;case 5:case 13:zi=!1;return;default:An=An.return}}function ml(i){if(i!==An)return!1;if(!le)return Ry(i),le=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||fp(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&on&&na(i),Ry(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){on=Ii(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}on=null}}else on=An?Ii(i.stateNode.nextSibling):null;return!0}function gl(){on=An=null,le=!1}function yl(i){Ai===null?Ai=[i]:Ai.push(i)}var _l=Error(r(460)),Iy=Error(r(474)),Qf={then:function(){}};function Cy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mc(){}function xy(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(mc,mc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===_l?Error(r(483)):i;default:if(typeof s.status=="string")s.then(mc,mc);else{if(i=ye,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===_l?Error(r(483)):i}throw vl=s,_l}}var vl=null;function ky(){if(vl===null)throw Error(r(459));var i=vl;return vl=null,i}var Ja=null,El=0;function gc(i){var s=El;return El+=1,Ja===null&&(Ja=[]),xy(Ja,i,s)}function Tl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yc(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Dy(i){var s=i._init;return s(i._payload)}function Oy(i){function s(Q,H){if(i){var X=Q.deletions;X===null?(Q.deletions=[H],Q.flags|=16):X.push(H)}}function o(Q,H){if(!i)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function u(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function d(Q,H){return Q=hs(Q,H),Q.index=0,Q.sibling=null,Q}function g(Q,H,X){return Q.index=X,i?(X=Q.alternate,X!==null?(X=X.index,X<H?(Q.flags|=33554434,H):X):(Q.flags|=33554434,H)):(Q.flags|=1048576,H)}function b(Q){return i&&Q.alternate===null&&(Q.flags|=33554434),Q}function C(Q,H,X,ot){return H===null||H.tag!==6?(H=Fd(X,Q.mode,ot),H.return=Q,H):(H=d(H,X),H.return=Q,H)}function P(Q,H,X,ot){var St=X.type;return St===p?at(Q,H,X.props.children,ot,X.key):H!==null&&(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===nt&&Dy(St)===H.type)?(H=d(H,X.props),Tl(H,X),H.return=Q,H):(H=Uc(X.type,X.key,X.props,null,Q.mode,ot),Tl(H,X),H.return=Q,H)}function G(Q,H,X,ot){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=jd(X,Q.mode,ot),H.return=Q,H):(H=d(H,X.children||[]),H.return=Q,H)}function at(Q,H,X,ot,St){return H===null||H.tag!==7?(H=fa(X,Q.mode,ot,St),H.return=Q,H):(H=d(H,X),H.return=Q,H)}function ht(Q,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Fd(""+H,Q.mode,X),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return X=Uc(H.type,H.key,H.props,null,Q.mode,X),Tl(X,H),X.return=Q,X;case f:return H=jd(H,Q.mode,X),H.return=Q,H;case nt:var ot=H._init;return H=ot(H._payload),ht(Q,H,X)}if(M(H)||W(H))return H=fa(H,Q.mode,X,null),H.return=Q,H;if(typeof H.then=="function")return ht(Q,gc(H),X);if(H.$$typeof===S)return ht(Q,Oc(Q,H),X);yc(Q,H)}return null}function Z(Q,H,X,ot){var St=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return St!==null?null:C(Q,H,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===St?P(Q,H,X,ot):null;case f:return X.key===St?G(Q,H,X,ot):null;case nt:return St=X._init,X=St(X._payload),Z(Q,H,X,ot)}if(M(X)||W(X))return St!==null?null:at(Q,H,X,ot,null);if(typeof X.then=="function")return Z(Q,H,gc(X),ot);if(X.$$typeof===S)return Z(Q,H,Oc(Q,X),ot);yc(Q,X)}return null}function st(Q,H,X,ot,St){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Q=Q.get(X)||null,C(H,Q,""+ot,St);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case c:return Q=Q.get(ot.key===null?X:ot.key)||null,P(H,Q,ot,St);case f:return Q=Q.get(ot.key===null?X:ot.key)||null,G(H,Q,ot,St);case nt:var Yt=ot._init;return ot=Yt(ot._payload),st(Q,H,X,ot,St)}if(M(ot)||W(ot))return Q=Q.get(X)||null,at(H,Q,ot,St,null);if(typeof ot.then=="function")return st(Q,H,X,gc(ot),St);if(ot.$$typeof===S)return st(Q,H,X,Oc(H,ot),St);yc(H,ot)}return null}function It(Q,H,X,ot){for(var St=null,Yt=null,xt=H,Ot=H=0,rn=null;xt!==null&&Ot<X.length;Ot++){xt.index>Ot?(rn=xt,xt=null):rn=xt.sibling;var ue=Z(Q,xt,X[Ot],ot);if(ue===null){xt===null&&(xt=rn);break}i&&xt&&ue.alternate===null&&s(Q,xt),H=g(ue,H,Ot),Yt===null?St=ue:Yt.sibling=ue,Yt=ue,xt=rn}if(Ot===X.length)return o(Q,xt),le&&ea(Q,Ot),St;if(xt===null){for(;Ot<X.length;Ot++)xt=ht(Q,X[Ot],ot),xt!==null&&(H=g(xt,H,Ot),Yt===null?St=xt:Yt.sibling=xt,Yt=xt);return le&&ea(Q,Ot),St}for(xt=u(xt);Ot<X.length;Ot++)rn=st(xt,Q,Ot,X[Ot],ot),rn!==null&&(i&&rn.alternate!==null&&xt.delete(rn.key===null?Ot:rn.key),H=g(rn,H,Ot),Yt===null?St=rn:Yt.sibling=rn,Yt=rn);return i&&xt.forEach(function(_s){return s(Q,_s)}),le&&ea(Q,Ot),St}function zt(Q,H,X,ot){if(X==null)throw Error(r(151));for(var St=null,Yt=null,xt=H,Ot=H=0,rn=null,ue=X.next();xt!==null&&!ue.done;Ot++,ue=X.next()){xt.index>Ot?(rn=xt,xt=null):rn=xt.sibling;var _s=Z(Q,xt,ue.value,ot);if(_s===null){xt===null&&(xt=rn);break}i&&xt&&_s.alternate===null&&s(Q,xt),H=g(_s,H,Ot),Yt===null?St=_s:Yt.sibling=_s,Yt=_s,xt=rn}if(ue.done)return o(Q,xt),le&&ea(Q,Ot),St;if(xt===null){for(;!ue.done;Ot++,ue=X.next())ue=ht(Q,ue.value,ot),ue!==null&&(H=g(ue,H,Ot),Yt===null?St=ue:Yt.sibling=ue,Yt=ue);return le&&ea(Q,Ot),St}for(xt=u(xt);!ue.done;Ot++,ue=X.next())ue=st(xt,Q,Ot,ue.value,ot),ue!==null&&(i&&ue.alternate!==null&&xt.delete(ue.key===null?Ot:ue.key),H=g(ue,H,Ot),Yt===null?St=ue:Yt.sibling=ue,Yt=ue);return i&&xt.forEach(function(I1){return s(Q,I1)}),le&&ea(Q,Ot),St}function Oe(Q,H,X,ot){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:t:{for(var St=X.key;H!==null;){if(H.key===St){if(St=X.type,St===p){if(H.tag===7){o(Q,H.sibling),ot=d(H,X.props.children),ot.return=Q,Q=ot;break t}}else if(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===nt&&Dy(St)===H.type){o(Q,H.sibling),ot=d(H,X.props),Tl(ot,X),ot.return=Q,Q=ot;break t}o(Q,H);break}else s(Q,H);H=H.sibling}X.type===p?(ot=fa(X.props.children,Q.mode,ot,X.key),ot.return=Q,Q=ot):(ot=Uc(X.type,X.key,X.props,null,Q.mode,ot),Tl(ot,X),ot.return=Q,Q=ot)}return b(Q);case f:t:{for(St=X.key;H!==null;){if(H.key===St)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(Q,H.sibling),ot=d(H,X.children||[]),ot.return=Q,Q=ot;break t}else{o(Q,H);break}else s(Q,H);H=H.sibling}ot=jd(X,Q.mode,ot),ot.return=Q,Q=ot}return b(Q);case nt:return St=X._init,X=St(X._payload),Oe(Q,H,X,ot)}if(M(X))return It(Q,H,X,ot);if(W(X)){if(St=W(X),typeof St!="function")throw Error(r(150));return X=St.call(X),zt(Q,H,X,ot)}if(typeof X.then=="function")return Oe(Q,H,gc(X),ot);if(X.$$typeof===S)return Oe(Q,H,Oc(Q,X),ot);yc(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(Q,H.sibling),ot=d(H,X),ot.return=Q,Q=ot):(o(Q,H),ot=Fd(X,Q.mode,ot),ot.return=Q,Q=ot),b(Q)):o(Q,H)}return function(Q,H,X,ot){try{El=0;var St=Oe(Q,H,X,ot);return Ja=null,St}catch(xt){if(xt===_l)throw xt;var Yt=pi(29,xt,null,Q.mode);return Yt.lanes=ot,Yt.return=Q,Yt}finally{}}}var ia=Oy(!0),Ny=Oy(!1),to=Mt(null),_c=Mt(0);function My(i,s){i=Rr,Kt(_c,i),Kt(to,s),Rr=i|s.baseLanes}function Yf(){Kt(_c,Rr),Kt(to,to.current)}function Xf(){Rr=_c.current,ae(to),ae(_c)}var hi=Mt(null),Fi=null;function ts(i){var s=i.alternate;Kt(Ke,Ke.current&1),Kt(hi,i),Fi===null&&(s===null||to.current!==null||s.memoizedState!==null)&&(Fi=i)}function Uy(i){if(i.tag===22){if(Kt(Ke,Ke.current),Kt(hi,i),Fi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Fi=i)}}else es()}function es(){Kt(Ke,Ke.current),Kt(hi,hi.current)}function gr(i){ae(hi),Fi===i&&(Fi=null),ae(Ke)}var Ke=Mt(0);function vc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},mA=e.unstable_scheduleCallback,gA=e.unstable_NormalPriority,Qe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new pA,data:new Map,refCount:0}}function wl(i){i.refCount--,i.refCount===0&&mA(gA,function(){i.controller.abort()})}var bl=null,Wf=0,eo=0,no=null;function yA(i,s){if(bl===null){var o=bl=[];Wf=0,eo=ip(),no={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wf++,s.then(Py,Py),s}function Py(){if(--Wf===0&&bl!==null){no!==null&&(no.status="fulfilled");var i=bl;bl=null,eo=0,no=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function _A(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Ly=k.S;k.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&yA(i,s),Ly!==null&&Ly(i,s)};var ra=Mt(null);function Zf(){var i=ra.current;return i!==null?i:ye.pooledCache}function Ec(i,s){s===null?Kt(ra,ra.current):Kt(ra,s.pool)}function Vy(){var i=Zf();return i===null?null:{parent:Qe._currentValue,pool:i}}var ns=0,Qt=null,pe=null,Ve=null,Tc=!1,io=!1,sa=!1,wc=0,Sl=0,ro=null,vA=0;function Ue(){throw Error(r(321))}function Jf(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Gn(i[o],s[o]))return!1;return!0}function td(i,s,o,u,d,g){return ns=g,Qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=i===null||i.memoizedState===null?aa:is,sa=!1,g=o(u,d),sa=!1,io&&(g=zy(s,o,u,d)),By(i),g}function By(i){k.H=ji;var s=pe!==null&&pe.next!==null;if(ns=0,Ve=pe=Qt=null,Tc=!1,Sl=0,ro=null,s)throw Error(r(300));i===null||en||(i=i.dependencies,i!==null&&Dc(i)&&(en=!0))}function zy(i,s,o,u){Qt=i;var d=0;do{if(io&&(ro=null),Sl=0,io=!1,25<=d)throw Error(r(301));if(d+=1,Ve=pe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=oa,g=s(o,u)}while(io);return g}function EA(){var i=k.H,s=i.useState()[0];return s=typeof s.then=="function"?Al(s):s,i=i.useState()[0],(pe!==null?pe.memoizedState:null)!==i&&(Qt.flags|=1024),s}function ed(){var i=wc!==0;return wc=0,i}function nd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function id(i){if(Tc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Tc=!1}ns=0,Ve=pe=Qt=null,io=!1,Sl=wc=0,ro=null}function On(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Qt.memoizedState=Ve=i:Ve=Ve.next=i,Ve}function Be(){if(pe===null){var i=Qt.alternate;i=i!==null?i.memoizedState:null}else i=pe.next;var s=Ve===null?Qt.memoizedState:Ve.next;if(s!==null)Ve=s,pe=i;else{if(i===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));pe=i,i={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Ve===null?Qt.memoizedState=Ve=i:Ve=Ve.next=i}return Ve}var bc;bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(i){var s=Sl;return Sl+=1,ro===null&&(ro=[]),i=xy(ro,i,s),s=Qt,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?aa:is),i}function Sc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Al(i);if(i.$$typeof===S)return mn(i)}throw Error(r(438,String(i)))}function rd(i){var s=null,o=Qt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Qt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bc(),Qt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=ct;return s.index++,o}function yr(i,s){return typeof s=="function"?s(i):s}function Ac(i){var s=Be();return sd(s,pe,i)}function sd(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var C=b=null,P=null,G=s,at=!1;do{var ht=G.lane&-536870913;if(ht!==G.lane?(re&ht)===ht:(ns&ht)===ht){var Z=G.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ht===eo&&(at=!0);else if((ns&Z)===Z){G=G.next,Z===eo&&(at=!0);continue}else ht={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(C=P=ht,b=g):P=P.next=ht,Qt.lanes|=Z,fs|=Z;ht=G.action,sa&&o(g,ht),g=G.hasEagerState?G.eagerState:o(g,ht)}else Z={lane:ht,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(C=P=Z,b=g):P=P.next=Z,Qt.lanes|=ht,fs|=ht;G=G.next}while(G!==null&&G!==s);if(P===null?b=g:P.next=C,!Gn(g,i.memoizedState)&&(en=!0,at&&(o=no,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=P,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ad(i){var s=Be(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Gn(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Fy(i,s,o){var u=Qt,d=Be(),g=le;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Gn((pe||d).memoizedState,o);if(b&&(d.memoizedState=o,en=!0),d=d.queue,ud(Hy.bind(null,u,d,i),[i]),d.getSnapshot!==s||b||Ve!==null&&Ve.memoizedState.tag&1){if(u.flags|=2048,so(9,qy.bind(null,u,d,o,s),{destroy:void 0},null),ye===null)throw Error(r(349));g||(ns&60)!==0||jy(u,s,o)}return o}function jy(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Qt.updateQueue,s===null?(s=bc(),Qt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function qy(i,s,o,u){s.value=o,s.getSnapshot=u,Gy(s)&&Ky(i)}function Hy(i,s,o){return o(function(){Gy(s)&&Ky(i)})}function Gy(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Gn(i,o)}catch{return!0}}function Ky(i){var s=Jr(i,2);s!==null&&Rn(s,i,2)}function od(i){var s=On();if(typeof i=="function"){var o=i;if(i=o(),sa){Nt(!0);try{o()}finally{Nt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},s}function Qy(i,s,o,u){return i.baseState=o,sd(i,pe,typeof u=="function"?u:yr)}function TA(i,s,o,u,d){if(Cc(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Yy(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Yy(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=k.T,b={};k.T=b;try{var C=o(d,u),P=k.S;P!==null&&P(b,C),Xy(i,s,C)}catch(G){ld(i,s,G)}finally{k.T=g}}else try{g=o(d,u),Xy(i,s,g)}catch(G){ld(i,s,G)}}function Xy(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$y(i,s,u)},function(u){return ld(i,s,u)}):$y(i,s,o)}function $y(i,s,o){s.status="fulfilled",s.value=o,Wy(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Yy(i,o)))}function ld(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Wy(s),s=s.next;while(s!==u)}i.action=null}function Wy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Zy(i,s){return s}function Jy(i,s){if(le){var o=ye.formState;if(o!==null){t:{var u=Qt;if(le){if(on){e:{for(var d=on,g=zi;d.nodeType!==8;){if(!g){d=null;break e}if(d=Ii(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=Ii(d.nextSibling),u=d.data==="F!";break t}}na(u)}u=!1}u&&(s=o[0])}}return o=On(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:s},o.queue=u,o=y_.bind(null,Qt,u),u.dispatch=o,u=od(!1),g=pd.bind(null,Qt,!1,u.queue),u=On(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=TA.bind(null,Qt,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function t_(i){var s=Be();return e_(s,pe,i)}function e_(i,s,o){s=sd(i,s,Zy)[0],i=Ac(yr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Al(s):s;var u=Be(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&(Qt.flags|=2048,so(9,wA.bind(null,d,o),{destroy:void 0},null)),[s,g,i]}function wA(i,s){i.action=s}function n_(i){var s=Be(),o=pe;if(o!==null)return e_(s,o,i);Be(),s=s.memoizedState,o=Be();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function so(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Qt.updateQueue,s===null&&(s=bc(),Qt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function i_(){return Be().memoizedState}function Rc(i,s,o,u){var d=On();Qt.flags|=i,d.memoizedState=so(1|s,o,{destroy:void 0},u===void 0?null:u)}function Ic(i,s,o,u){var d=Be();u=u===void 0?null:u;var g=d.memoizedState.inst;pe!==null&&u!==null&&Jf(u,pe.memoizedState.deps)?d.memoizedState=so(s,o,g,u):(Qt.flags|=i,d.memoizedState=so(1|s,o,g,u))}function r_(i,s){Rc(8390656,8,i,s)}function ud(i,s){Ic(2048,8,i,s)}function s_(i,s){return Ic(4,2,i,s)}function a_(i,s){return Ic(4,4,i,s)}function o_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function l_(i,s,o){o=o!=null?o.concat([i]):null,Ic(4,4,o_.bind(null,s,i),o)}function cd(){}function u_(i,s){var o=Be();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Jf(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function c_(i,s){var o=Be();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Jf(s,u[1]))return u[0];if(u=i(),sa){Nt(!0);try{i()}finally{Nt(!1)}}return o.memoizedState=[u,s],u}function hd(i,s,o){return o===void 0||(ns&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=fv(),Qt.lanes|=i,fs|=i,o)}function h_(i,s,o,u){return Gn(o,s)?o:to.current!==null?(i=hd(i,o,u),Gn(i,s)||(en=!0),i):(ns&42)===0?(en=!0,i.memoizedState=o):(i=fv(),Qt.lanes|=i,fs|=i,s)}function f_(i,s,o,u,d){var g=_t.p;_t.p=g!==0&&8>g?g:8;var b=k.T,C={};k.T=C,pd(i,!1,s,o);try{var P=d(),G=k.S;if(G!==null&&G(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var at=_A(P,u);Rl(i,s,at,Xn(i))}else Rl(i,s,u,Xn(i))}catch(ht){Rl(i,s,{then:function(){},status:"rejected",reason:ht},Xn())}finally{_t.p=g,k.T=b}}function bA(){}function fd(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=d_(i).queue;f_(i,d,s,Dt,o===null?bA:function(){return p_(i),o(u)})}function d_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Dt,baseState:Dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:Dt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function p_(i){var s=d_(i).next.queue;Rl(i,s,{},Xn())}function dd(){return mn(Kl)}function m_(){return Be().memoizedState}function g_(){return Be().memoizedState}function SA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Xn();i=as(o);var u=os(s,i,o);u!==null&&(Rn(u,s,o),xl(u,s,o)),s={cache:$f()},i.payload=s;return}s=s.return}}function AA(i,s,o){var u=Xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Cc(i)?__(s,o):(o=qf(i,s,o,u),o!==null&&(Rn(o,i,u),v_(o,s,u)))}function y_(i,s,o){var u=Xn();Rl(i,s,o,u)}function Rl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cc(i))__(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,C=g(b,o);if(d.hasEagerState=!0,d.eagerState=C,Gn(C,b))return hc(i,s,d,0),ye===null&&cc(),!1}catch{}finally{}if(o=qf(i,s,d,u),o!==null)return Rn(o,i,u),v_(o,s,u),!0}return!1}function pd(i,s,o,u){if(u={lane:2,revertLane:ip(),action:u,hasEagerState:!1,eagerState:null,next:null},Cc(i)){if(s)throw Error(r(479))}else s=qf(i,o,u,2),s!==null&&Rn(s,i,2)}function Cc(i){var s=i.alternate;return i===Qt||s!==null&&s===Qt}function __(i,s){io=Tc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function v_(i,s,o){if((o&4194176)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,qr(i,o)}}var ji={readContext:mn,use:Sc,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue};ji.useCacheRefresh=Ue,ji.useMemoCache=Ue,ji.useHostTransitionStatus=Ue,ji.useFormState=Ue,ji.useActionState=Ue,ji.useOptimistic=Ue;var aa={readContext:mn,use:Sc,useCallback:function(i,s){return On().memoizedState=[i,s===void 0?null:s],i},useContext:mn,useEffect:r_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Rc(4194308,4,o_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Rc(4194308,4,i,s)},useInsertionEffect:function(i,s){Rc(4,2,i,s)},useMemo:function(i,s){var o=On();s=s===void 0?null:s;var u=i();if(sa){Nt(!0);try{i()}finally{Nt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=On();if(o!==void 0){var d=o(s);if(sa){Nt(!0);try{o(s)}finally{Nt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=AA.bind(null,Qt,i),[u.memoizedState,i]},useRef:function(i){var s=On();return i={current:i},s.memoizedState=i},useState:function(i){i=od(i);var s=i.queue,o=y_.bind(null,Qt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:cd,useDeferredValue:function(i,s){var o=On();return hd(o,i,s)},useTransition:function(){var i=od(!1);return i=f_.bind(null,Qt,i.queue,!0,!1),On().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Qt,d=On();if(le){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ye===null)throw Error(r(349));(re&60)!==0||jy(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,r_(Hy.bind(null,u,g,i),[i]),u.flags|=2048,so(9,qy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var i=On(),s=ye.identifierPrefix;if(le){var o=mr,u=pr;o=(u&~(1<<32-Vt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=wc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=vA++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return On().memoizedState=SA.bind(null,Qt)}};aa.useMemoCache=rd,aa.useHostTransitionStatus=dd,aa.useFormState=Jy,aa.useActionState=Jy,aa.useOptimistic=function(i){var s=On();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pd.bind(null,Qt,!0,o),o.dispatch=s,[i,s]};var is={readContext:mn,use:Sc,useCallback:u_,useContext:mn,useEffect:ud,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:a_,useMemo:c_,useReducer:Ac,useRef:i_,useState:function(){return Ac(yr)},useDebugValue:cd,useDeferredValue:function(i,s){var o=Be();return h_(o,pe.memoizedState,i,s)},useTransition:function(){var i=Ac(yr)[0],s=Be().memoizedState;return[typeof i=="boolean"?i:Al(i),s]},useSyncExternalStore:Fy,useId:m_};is.useCacheRefresh=g_,is.useMemoCache=rd,is.useHostTransitionStatus=dd,is.useFormState=t_,is.useActionState=t_,is.useOptimistic=function(i,s){var o=Be();return Qy(o,pe,i,s)};var oa={readContext:mn,use:Sc,useCallback:u_,useContext:mn,useEffect:ud,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:a_,useMemo:c_,useReducer:ad,useRef:i_,useState:function(){return ad(yr)},useDebugValue:cd,useDeferredValue:function(i,s){var o=Be();return pe===null?hd(o,i,s):h_(o,pe.memoizedState,i,s)},useTransition:function(){var i=ad(yr)[0],s=Be().memoizedState;return[typeof i=="boolean"?i:Al(i),s]},useSyncExternalStore:Fy,useId:m_};oa.useCacheRefresh=g_,oa.useMemoCache=rd,oa.useHostTransitionStatus=dd,oa.useFormState=n_,oa.useActionState=n_,oa.useOptimistic=function(i,s){var o=Be();return pe!==null?Qy(o,pe,i,s):(o.baseState=i,[i,o.queue.dispatch])};function md(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:U({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var gd={isMounted:function(i){return(i=i._reactInternals)?wt(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Xn(),d=as(u);d.payload=s,o!=null&&(d.callback=o),s=os(i,d,u),s!==null&&(Rn(s,i,u),xl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Xn(),d=as(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=os(i,d,u),s!==null&&(Rn(s,i,u),xl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Xn(),u=as(o);u.tag=2,s!=null&&(u.callback=s),s=os(i,u,o),s!==null&&(Rn(s,i,o),xl(s,i,o))}};function E_(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!dl(o,u)||!dl(d,g):!0}function T_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&gd.enqueueReplaceState(s,s.state,null)}function la(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=U({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var xc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function w_(i){xc(i)}function b_(i){console.error(i)}function S_(i){xc(i)}function kc(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function A_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yd(i,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){kc(i,s)},o}function R_(i){return i=as(i),i.tag=3,i}function I_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){A_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){A_(s,o,u),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function RA(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Cl(s,o,d,!0),o=hi.current,o!==null){switch(o.tag){case 13:return Fi===null?Zd():o.alternate===null&&De===0&&(De=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Qf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),tp(i,u,d)),!1;case 22:return o.flags|=65536,u===Qf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),tp(i,u,d)),!1}throw Error(r(435,o.tag))}return tp(i,u,d),Zd(),!1}if(le)return s=hi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Kf&&(i=Error(r(422),{cause:u}),yl(li(i,o)))):(u!==Kf&&(s=Error(r(423),{cause:u}),yl(li(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=li(u,o),d=yd(i.stateNode,u,d),Od(i,d),De!==4&&(De=2)),!1;var g=Error(r(520),{cause:u});if(g=li(g,o),Ll===null?Ll=[g]:Ll.push(g),De!==4&&(De=2),s===null)return!0;u=li(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=yd(o.stateNode,u,i),Od(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=R_(d),I_(d,i,o,u),Od(o,d),!1}o=o.return}while(o!==null);return!1}var C_=Error(r(461)),en=!1;function ln(i,s,o,u){s.child=i===null?Ny(s,null,o,u):ia(s,i.child,o,u)}function x_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return ca(s),u=td(i,s,o,b,g,d),C=ed(),i!==null&&!en?(nd(i,s,d),_r(i,s,d)):(le&&C&&Hf(s),s.flags|=1,ln(i,s,u,d),s.child)}function k_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!zd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,D_(i,s,g,u,d)):(i=Uc(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Rd(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:dl,o(b,u)&&i.ref===s.ref)return _r(i,s,d)}return s.flags|=1,i=hs(g,u),i.ref=s.ref,i.return=s,s.child=i}function D_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(dl(g,u)&&i.ref===s.ref)if(en=!1,s.pendingProps=u=g,Rd(i,d))(i.flags&131072)!==0&&(en=!0);else return s.lanes=i.lanes,_r(i,s,d)}return _d(i,s,o,u,d)}function O_(i,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(Il(i,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return N_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ec(s,b!==null?b.cachePool:null),b!==null?My(s,b):Yf(),Uy(s);else return s.lanes=s.childLanes=536870912,N_(i,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Ec(s,b.cachePool),My(s,b),es(),s.memoizedState=null):(i!==null&&Ec(s,null),Yf(),es());return ln(i,s,d,o),s.child}function N_(i,s,o,u){var d=Zf();return d=d===null?null:{parent:Qe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&Ec(s,null),Yf(),Uy(s),i!==null&&Cl(i,s,u,!0),null}function Il(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function _d(i,s,o,u,d){return ca(s),o=td(i,s,o,u,void 0,d),u=ed(),i!==null&&!en?(nd(i,s,d),_r(i,s,d)):(le&&u&&Hf(s),s.flags|=1,ln(i,s,o,d),s.child)}function M_(i,s,o,u,d,g){return ca(s),s.updateQueue=null,o=zy(s,u,o,d),By(i),u=ed(),i!==null&&!en?(nd(i,s,g),_r(i,s,g)):(le&&u&&Hf(s),s.flags|=1,ln(i,s,o,g),s.child)}function U_(i,s,o,u,d){if(ca(s),s.stateNode===null){var g=$a,b=o.contextType;typeof b=="object"&&b!==null&&(g=mn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},kd(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?mn(b):$a,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(md(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&gd.enqueueReplaceState(g,g.state,null),Dl(s,u,g,d),kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,P=la(o,C);g.props=P;var G=g.context,at=o.contextType;b=$a,typeof at=="object"&&at!==null&&(b=mn(at));var ht=o.getDerivedStateFromProps;at=typeof ht=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,at||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||G!==b)&&T_(s,g,u,b),ss=!1;var Z=s.memoizedState;g.state=Z,Dl(s,u,g,d),kl(),G=s.memoizedState,C||Z!==G||ss?(typeof ht=="function"&&(md(s,o,ht,u),G=s.memoizedState),(P=ss||E_(s,o,P,u,Z,G,b))?(at||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=b,u=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Dd(i,s),b=s.memoizedProps,at=la(o,b),g.props=at,ht=s.pendingProps,Z=g.context,G=o.contextType,P=$a,typeof G=="object"&&G!==null&&(P=mn(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ht||Z!==P)&&T_(s,g,u,P),ss=!1,Z=s.memoizedState,g.state=Z,Dl(s,u,g,d),kl();var st=s.memoizedState;b!==ht||Z!==st||ss||i!==null&&i.dependencies!==null&&Dc(i.dependencies)?(typeof C=="function"&&(md(s,o,C,u),st=s.memoizedState),(at=ss||E_(s,o,at,u,Z,st,P)||i!==null&&i.dependencies!==null&&Dc(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,st,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,st,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=st),g.props=u,g.state=st,g.context=P,u=at):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Il(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ia(s,i.child,null,d),s.child=ia(s,null,o,d)):ln(i,s,o,d),s.memoizedState=g.state,i=s.child):i=_r(i,s,d),i}function P_(i,s,o,u){return gl(),s.flags|=256,ln(i,s,o,u),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function Ed(i){return{baseLanes:i,cachePool:Vy()}}function Td(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=mi),i}function L_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ke.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(le){if(d?ts(s):es(),le){var C=on,P;if(P=C){t:{for(P=C,C=zi;P.nodeType!==8;){if(!C){C=null;break t}if(P=Ii(P.nextSibling),P===null){C=null;break t}}C=P}C!==null?(s.memoizedState={dehydrated:C,treeContext:ta!==null?{id:pr,overflow:mr}:null,retryLane:536870912},P=pi(18,null,null,0),P.stateNode=C,P.return=s,s.child=P,An=s,on=null,P=!0):P=!1}P||na(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?s.lanes=16:s.lanes=536870912,null;gr(s)}return C=u.children,u=u.fallback,d?(es(),d=s.mode,C=bd({mode:"hidden",children:C},d),u=fa(u,d,o,null),C.return=s,u.return=s,C.sibling=u,s.child=C,d=s.child,d.memoizedState=Ed(o),d.childLanes=Td(i,b,o),s.memoizedState=vd,u):(ts(s),wd(s,C))}if(P=i.memoizedState,P!==null&&(C=P.dehydrated,C!==null)){if(g)s.flags&256?(ts(s),s.flags&=-257,s=Sd(i,s,o)):s.memoizedState!==null?(es(),s.child=i.child,s.flags|=128,s=null):(es(),d=u.fallback,C=s.mode,u=bd({mode:"visible",children:u.children},C),d=fa(d,C,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,ia(s,i.child,null,o),u=s.child,u.memoizedState=Ed(o),u.childLanes=Td(i,b,o),s.memoizedState=vd,s=d);else if(ts(s),C.data==="$!"){if(b=C.nextSibling&&C.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(r(419)),u.stack="",u.digest=b,yl({value:u,source:null,stack:null}),s=Sd(i,s,o)}else if(en||Cl(i,s,o,!1),b=(o&i.childLanes)!==0,en||b){if(b=ye,b!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane)throw P.retryLane=u,Jr(i,u),Rn(b,i,u),C_}C.data==="$?"||Zd(),s=Sd(i,s,o)}else C.data==="$?"?(s.flags|=128,s.child=i.child,s=FA.bind(null,i),C._reactRetry=s,s=null):(i=P.treeContext,on=Ii(C.nextSibling),An=s,le=!0,Ai=null,zi=!1,i!==null&&(ui[ci++]=pr,ui[ci++]=mr,ui[ci++]=ta,pr=i.id,mr=i.overflow,ta=s),s=wd(s,u.children),s.flags|=4096);return s}return d?(es(),d=u.fallback,C=s.mode,P=i.child,G=P.sibling,u=hs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&31457280,G!==null?d=hs(G,d):(d=fa(d,C,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,C=i.child.memoizedState,C===null?C=Ed(o):(P=C.cachePool,P!==null?(G=Qe._currentValue,P=P.parent!==G?{parent:G,pool:G}:P):P=Vy(),C={baseLanes:C.baseLanes|o,cachePool:P}),d.memoizedState=C,d.childLanes=Td(i,b,o),s.memoizedState=vd,u):(ts(s),o=i.child,i=o.sibling,o=hs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function wd(i,s){return s=bd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function bd(i,s){return uv(i,s,0,null)}function Sd(i,s,o){return ia(s,i.child,null,o),i=wd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function V_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Cd(i.return,s,o)}function Ad(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function B_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(i,s,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&V_(i,o,s);else if(i.tag===19)V_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Kt(Ke,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&vc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Ad(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&vc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Ad(s,!0,o,null,g);break;case"together":Ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _r(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),fs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Cl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=hs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=hs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Rd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Dc(i)))}function IA(i,s,o){switch(s.tag){case 3:zn(s,s.stateNode.containerInfo),rs(s,Qe,i.memoizedState.cache),gl();break;case 27:case 5:ti(s);break;case 4:zn(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?L_(i,s,o):(ts(s),i=_r(i,s,o),i!==null?i.sibling:null);ts(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Cl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return B_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Kt(Ke,Ke.current),u)break;return null;case 22:case 23:return s.lanes=0,O_(i,s,o);case 24:rs(s,Qe,i.memoizedState.cache)}return _r(i,s,o)}function z_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)en=!0;else{if(!Rd(i,o)&&(s.flags&128)===0)return en=!1,IA(i,s,o);en=(i.flags&131072)!==0}else en=!1,le&&(s.flags&1048576)!==0&&Sy(s,pc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")zd(u)?(i=la(u,i),s.tag=1,s=U_(null,s,u,i,o)):(s.tag=0,s=_d(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===V){s.tag=11,s=x_(null,s,u,i,o);break t}else if(d===K){s.tag=14,s=k_(null,s,u,i,o);break t}}throw s=N(u)||u,Error(r(306,s,""))}}return s;case 0:return _d(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),U_(i,s,u,d,o);case 3:t:{if(zn(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,Dd(i,s),Dl(s,g,null,o);var b=s.memoizedState;if(g=b.cache,rs(s,Qe,g),g!==d.cache&&xd(s,[Qe],o,!0),kl(),g=b.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=P_(i,s,g,o);break t}else if(g!==u){u=li(Error(r(424)),s),yl(u),s=P_(i,s,g,o);break t}else for(on=Ii(s.stateNode.containerInfo.firstChild),An=s,le=!0,Ai=null,zi=!0,o=Ny(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gl(),g===u){s=_r(i,s,o);break t}ln(i,s,g,o)}s=s.child}return s;case 26:return Il(i,s),i===null?(o=qv(s.type,null,s.pendingProps,null))?s.memoizedState=o:le||(o=s.type,i=s.pendingProps,u=Qc(Ne.current).createElement(o),u[Ze]=s,u[qe]=i,un(u,o,i),be(u),s.stateNode=u):s.memoizedState=qv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ti(s),i===null&&le&&(u=s.stateNode=zv(s.type,s.pendingProps,Ne.current),An=s,zi=!0,on=Ii(u.firstChild)),u=s.pendingProps.children,i!==null||le?ln(i,s,u,o):s.child=ia(s,null,u,o),Il(i,s),s.child;case 5:return i===null&&le&&((d=u=on)&&(u=i1(u,s.type,s.pendingProps,zi),u!==null?(s.stateNode=u,An=s,on=Ii(u.firstChild),zi=!1,d=!0):d=!1),d||na(s)),ti(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,fp(d,g)?u=null:b!==null&&fp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=td(i,s,EA,null,null,o),Kl._currentValue=d),Il(i,s),ln(i,s,u,o),s.child;case 6:return i===null&&le&&((i=o=on)&&(o=r1(o,s.pendingProps,zi),o!==null?(s.stateNode=o,An=s,on=null,i=!0):i=!1),i||na(s)),null;case 13:return L_(i,s,o);case 4:return zn(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ia(s,null,u,o):ln(i,s,u,o),s.child;case 11:return x_(i,s,s.type,s.pendingProps,o);case 7:return ln(i,s,s.pendingProps,o),s.child;case 8:return ln(i,s,s.pendingProps.children,o),s.child;case 12:return ln(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),ln(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ca(s),d=mn(d),u=u(d),s.flags|=1,ln(i,s,u,o),s.child;case 14:return k_(i,s,s.type,s.pendingProps,o);case 15:return D_(i,s,s.type,s.pendingProps,o);case 19:return B_(i,s,o);case 22:return O_(i,s,o);case 24:return ca(s),u=mn(Qe),i===null?(d=Zf(),d===null&&(d=ye,g=$f(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},kd(s),rs(s,Qe,d)):((i.lanes&o)!==0&&(Dd(i,s),Dl(s,null,null,o),kl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),rs(s,Qe,u)):(u=g.cache,rs(s,Qe,u),u!==d.cache&&xd(s,[Qe],o,!0))),ln(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Id=Mt(null),ua=null,vr=null;function rs(i,s,o){Kt(Id,s._currentValue),s._currentValue=o}function Er(i){i._currentValue=Id.current,ae(Id)}function Cd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function xd(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=d;for(var P=0;P<s.length;P++)if(C.context===s[P]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Cd(g.return,o,i),u||(b=null);break t}g=C.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Cd(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Cl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var C=d.type;Gn(d.pendingProps.value,b.value)||(i!==null?i.push(C):i=[C])}}else if(d===dn.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Kl):i=[Kl])}d=d.return}i!==null&&xd(s,i,o,u),s.flags|=262144}function Dc(i){for(i=i.firstContext;i!==null;){if(!Gn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ca(i){ua=i,vr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return F_(ua,i)}function Oc(i,s){return ua===null&&ca(i),F_(i,s)}function F_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vr===null){if(i===null)throw Error(r(308));vr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else vr=vr.next=s;return o}var ss=!1;function kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function as(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function os(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=fc(i),wy(i,null,o),s}return hc(i,u,s,o),fc(i)}function xl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,qr(i,o)}}function Od(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Nd=!1;function kl(){if(Nd){var i=no;if(i!==null)throw i}}function Dl(i,s,o,u){Nd=!1;var d=i.updateQueue;ss=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,G=P.next;P.next=null,b===null?g=G:b.next=G,b=P;var at=i.alternate;at!==null&&(at=at.updateQueue,C=at.lastBaseUpdate,C!==b&&(C===null?at.firstBaseUpdate=G:C.next=G,at.lastBaseUpdate=P))}if(g!==null){var ht=d.baseState;b=0,at=G=P=null,C=g;do{var Z=C.lane&-536870913,st=Z!==C.lane;if(st?(re&Z)===Z:(u&Z)===Z){Z!==0&&Z===eo&&(Nd=!0),at!==null&&(at=at.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var It=i,zt=C;Z=s;var Oe=o;switch(zt.tag){case 1:if(It=zt.payload,typeof It=="function"){ht=It.call(Oe,ht,Z);break t}ht=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=zt.payload,Z=typeof It=="function"?It.call(Oe,ht,Z):It,Z==null)break t;ht=U({},ht,Z);break t;case 2:ss=!0}}Z=C.callback,Z!==null&&(i.flags|=64,st&&(i.flags|=8192),st=d.callbacks,st===null?d.callbacks=[Z]:st.push(Z))}else st={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},at===null?(G=at=st,P=ht):at=at.next=st,b|=Z;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;st=C,C=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);at===null&&(P=ht),d.baseState=P,d.firstBaseUpdate=G,d.lastBaseUpdate=at,g===null&&(d.shared.lanes=0),fs|=b,i.lanes=b,i.memoizedState=ht}}function j_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function q_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)j_(o[i],s)}function Ol(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(C){ge(s,s.return,C)}}function ls(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,d=s;var P=o;try{C()}catch(G){ge(d,P,G)}}}u=u.next}while(u!==g)}}catch(G){ge(s,s.return,G)}}function H_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{q_(s,o)}catch(u){ge(i,i.return,u)}}}function G_(i,s,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ge(i,s,u)}}function ha(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(g){ge(i,s,g)}}function Kn(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ge(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ge(i,s,d)}else o.current=null}function K_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ge(i,i.return,d)}}function Q_(i,s,o){try{var u=i.stateNode;ZA(u,i.type,o,s),u[qe]=s}catch(d){ge(i,i.return,d)}}function Y_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Md(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ud(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kc));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Ud(i,s,o),i=i.sibling;i!==null;)Ud(i,s,o),i=i.sibling}function Nc(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Nc(i,s,o),i=i.sibling;i!==null;)Nc(i,s,o),i=i.sibling}var Tr=!1,ke=!1,Pd=!1,X_=typeof WeakSet=="function"?WeakSet:Set,nn=null,$_=!1;function CA(i,s){if(i=i.containerInfo,cp=Jc,i=dy(i),Vf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,C=-1,P=-1,G=0,at=0,ht=i,Z=null;e:for(;;){for(var st;ht!==o||d!==0&&ht.nodeType!==3||(C=b+d),ht!==g||u!==0&&ht.nodeType!==3||(P=b+u),ht.nodeType===3&&(b+=ht.nodeValue.length),(st=ht.firstChild)!==null;)Z=ht,ht=st;for(;;){if(ht===i)break e;if(Z===o&&++G===d&&(C=b),Z===g&&++at===u&&(P=b),(st=ht.nextSibling)!==null)break;ht=Z,Z=ht.parentNode}ht=st}o=C===-1||P===-1?null:{start:C,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(hp={focusedElem:i,selectionRange:o},Jc=!1,nn=s;nn!==null;)if(s=nn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,nn=i;else for(;nn!==null;){switch(s=nn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var It=la(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(It,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(zt){ge(o,o.return,zt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)mp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":mp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,nn=i;break}nn=s.return}return It=$_,$_=!1,It}function W_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:br(i,o),u&4&&Ol(5,o);break;case 1:if(br(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(C){ge(o,o.return,C)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){ge(o,o.return,C)}}u&64&&H_(o),u&512&&ha(o,o.return);break;case 3:if(br(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{q_(u,i)}catch(C){ge(o,o.return,C)}}break;case 26:br(i,o),u&512&&ha(o,o.return);break;case 27:case 5:br(i,o),s===null&&u&4&&K_(o),u&512&&ha(o,o.return);break;case 12:br(i,o);break;case 13:br(i,o),u&4&&tv(i,o);break;case 22:if(d=o.memoizedState!==null||Tr,!d){s=s!==null&&s.memoizedState!==null||ke;var g=Tr,b=ke;Tr=d,(ke=s)&&!b?us(i,o,(o.subtreeFlags&8772)!==0):br(i,o),Tr=g,ke=b}u&512&&(o.memoizedProps.mode==="manual"?ha(o,o.return):Kn(o,o.return));break;default:br(i,o)}}function Z_(i){var s=i.alternate;s!==null&&(i.alternate=null,Z_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ze=null,Qn=!1;function wr(i,s,o){for(o=o.child;o!==null;)J_(i,s,o),o=o.sibling}function J_(i,s,o){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(it,o)}catch{}switch(o.tag){case 26:ke||Kn(o,s),wr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Kn(o,s);var u=ze,d=Qn;for(ze=o.stateNode,wr(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fs(o),ze=u,Qn=d;break;case 5:ke||Kn(o,s);case 6:d=ze;var g=Qn;if(ze=null,wr(i,s,o),ze=d,Qn=g,ze!==null)if(Qn)try{i=ze,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(b){ge(o,s,b)}else try{ze.removeChild(o.stateNode)}catch(b){ge(o,s,b)}break;case 18:ze!==null&&(Qn?(s=ze,o=o.stateNode,s.nodeType===8?pp(s.parentNode,o):s.nodeType===1&&pp(s,o),$l(s)):pp(ze,o.stateNode));break;case 4:u=ze,d=Qn,ze=o.stateNode.containerInfo,Qn=!0,wr(i,s,o),ze=u,Qn=d;break;case 0:case 11:case 14:case 15:ke||ls(2,o,s),ke||ls(4,o,s),wr(i,s,o);break;case 1:ke||(Kn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&G_(o,s,u)),wr(i,s,o);break;case 21:wr(i,s,o);break;case 22:ke||Kn(o,s),ke=(u=ke)||o.memoizedState!==null,wr(i,s,o),ke=u;break;default:wr(i,s,o)}}function tv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$l(i)}catch(o){ge(s,s.return,o)}}function xA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new X_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new X_),s;default:throw Error(r(435,i.tag))}}function Ld(i,s){var o=xA(i);s.forEach(function(u){var d=jA.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function fi(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,C=b;t:for(;C!==null;){switch(C.tag){case 27:case 5:ze=C.stateNode,Qn=!1;break t;case 3:ze=C.stateNode.containerInfo,Qn=!0;break t;case 4:ze=C.stateNode.containerInfo,Qn=!0;break t}C=C.return}if(ze===null)throw Error(r(160));J_(g,b,d),ze=null,Qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ev(s,i),s=s.sibling}var Ri=null;function ev(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:fi(s,i),di(i),u&4&&(ls(3,i,i.return),Ol(3,i),ls(5,i,i.return));break;case 1:fi(s,i),di(i),u&512&&(ke||o===null||Kn(o,o.return)),u&64&&Tr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Ri;if(fi(s,i),di(i),u&512&&(ke||o===null||Kn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Gr]||g[Ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Ze]=i,be(g),u=g;break t;case"link":var b=Kv("link","href",d).get(u+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(g=b[C],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(b=Kv("meta","content",d).get(u+(o.content||""))){for(C=0;C<b.length;C++)if(g=b[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ze]=i,be(g),u=g}i.stateNode=u}else Qv(d,i.type,i.stateNode);else i.stateNode=Gv(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Qv(d,i.type,i.stateNode):Gv(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Q_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){d=i.stateNode,g=i.memoizedProps;try{for(var P=d.firstChild;P;){var G=P.nextSibling,at=P.nodeName;P[Gr]||at==="HEAD"||at==="BODY"||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=G}for(var ht=i.type,Z=d.attributes;Z.length;)d.removeAttributeNode(Z[0]);un(d,ht,g),d[Ze]=i,d[qe]=g}catch(It){ge(i,i.return,It)}}case 5:if(fi(s,i),di(i),u&512&&(ke||o===null||Kn(o,o.return)),i.flags&32){d=i.stateNode;try{ii(d,"")}catch(It){ge(i,i.return,It)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Q_(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Pd=!0);break;case 6:if(fi(s,i),di(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(It){ge(i,i.return,It)}}break;case 3:if($c=null,d=Ri,Ri=Yc(s.containerInfo),fi(s,i),Ri=d,di(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$l(s.containerInfo)}catch(It){ge(i,i.return,It)}Pd&&(Pd=!1,nv(i));break;case 4:u=Ri,Ri=Yc(i.stateNode.containerInfo),fi(s,i),di(i),Ri=u;break;case 12:fi(s,i),di(i);break;case 13:fi(s,i),di(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kd=We()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ld(i,u)));break;case 22:if(u&512&&(ke||o===null||Kn(o,o.return)),P=i.memoizedState!==null,G=o!==null&&o.memoizedState!==null,at=Tr,ht=ke,Tr=at||P,ke=ht||G,fi(s,i),ke=ht,Tr=at,di(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=P?s._visibility&-2:s._visibility|1,P&&(s=Tr||ke,o===null||G||s||ao(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){G=o=s;try{if(d=G.stateNode,P)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=G.stateNode,C=G.memoizedProps.style;var st=C!=null&&C.hasOwnProperty("display")?C.display:null;b.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(It){ge(G,G.return,It)}}}else if(s.tag===6){if(o===null){G=s;try{G.stateNode.nodeValue=P?"":G.memoizedProps}catch(It){ge(G,G.return,It)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ld(i,o))));break;case 19:fi(s,i),di(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ld(i,u)));break;case 21:break;default:fi(s,i),di(i)}}function di(i){var s=i.flags;if(s&2){try{if(i.tag!==27){t:{for(var o=i.return;o!==null;){if(Y_(o)){var u=o;break t}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var d=u.stateNode,g=Md(i);Nc(i,g,d);break;case 5:var b=u.stateNode;u.flags&32&&(ii(b,""),u.flags&=-33);var C=Md(i);Nc(i,C,b);break;case 3:case 4:var P=u.stateNode.containerInfo,G=Md(i);Ud(i,G,P);break;default:throw Error(r(161))}}}catch(at){ge(i,i.return,at)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function nv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;nv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function br(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)W_(i,s.alternate,s),s=s.sibling}function ao(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),ao(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&G_(s,s.return,o),ao(s);break;case 26:case 27:case 5:Kn(s,s.return),ao(s);break;case 22:Kn(s,s.return),s.memoizedState===null&&ao(s);break;default:ao(s)}i=i.sibling}}function us(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:us(d,g,o),Ol(4,g);break;case 1:if(us(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ge(u,u.return,G)}if(u=g,d=u.updateQueue,d!==null){var C=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)j_(P[d],C)}catch(G){ge(u,u.return,G)}}o&&b&64&&H_(g),ha(g,g.return);break;case 26:case 27:case 5:us(d,g,o),o&&u===null&&b&4&&K_(g),ha(g,g.return);break;case 12:us(d,g,o);break;case 13:us(d,g,o),o&&b&4&&tv(d,g);break;case 22:g.memoizedState===null&&us(d,g,o),ha(g,g.return);break;default:us(d,g,o)}s=s.sibling}}function Vd(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&wl(o))}function Bd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wl(i))}function cs(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iv(i,s,o,u),s=s.sibling}function iv(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:cs(i,s,o,u),d&2048&&Ol(9,s);break;case 3:cs(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&wl(i)));break;case 12:if(d&2048){cs(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,C=g.onPostCommit;typeof C=="function"&&C(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){ge(s,s.return,P)}}else cs(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?cs(i,s,o,u):Nl(i,s):g._visibility&4?cs(i,s,o,u):(g._visibility|=4,oo(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Vd(s.alternate,s);break;case 24:cs(i,s,o,u),d&2048&&Bd(s.alternate,s);break;default:cs(i,s,o,u)}}function oo(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,C=o,P=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:oo(g,b,C,P,d),Ol(8,b);break;case 23:break;case 22:var at=b.stateNode;b.memoizedState!==null?at._visibility&4?oo(g,b,C,P,d):Nl(g,b):(at._visibility|=4,oo(g,b,C,P,d)),d&&G&2048&&Vd(b.alternate,b);break;case 24:oo(g,b,C,P,d),d&&G&2048&&Bd(b.alternate,b);break;default:oo(g,b,C,P,d)}s=s.sibling}}function Nl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Nl(o,u),d&2048&&Vd(u.alternate,u);break;case 24:Nl(o,u),d&2048&&Bd(u.alternate,u);break;default:Nl(o,u)}s=s.sibling}}var Ml=8192;function lo(i){if(i.subtreeFlags&Ml)for(i=i.child;i!==null;)rv(i),i=i.sibling}function rv(i){switch(i.tag){case 26:lo(i),i.flags&Ml&&i.memoizedState!==null&&y1(Ri,i.memoizedState,i.memoizedProps);break;case 5:lo(i);break;case 3:case 4:var s=Ri;Ri=Yc(i.stateNode.containerInfo),lo(i),Ri=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Ml,Ml=16777216,lo(i),Ml=s):lo(i));break;default:lo(i)}}function sv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ul(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,ov(u,i)}sv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(i),i=i.sibling}function av(i){switch(i.tag){case 0:case 11:case 15:Ul(i),i.flags&2048&&ls(9,i,i.return);break;case 3:Ul(i);break;case 12:Ul(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Mc(i)):Ul(i);break;default:Ul(i)}}function Mc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,ov(u,i)}sv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ls(8,s,s.return),Mc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Mc(s));break;default:Mc(s)}i=i.sibling}}function ov(i,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else t:for(o=i;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(Z_(u),u===o){nn=null;break t}if(d!==null){d.return=g,nn=d;break t}nn=g}}}function kA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,s,o,u){return new kA(i,s,o,u)}function zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hs(i,s){var o=i.alternate;return o===null?(o=pi(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function lv(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uc(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")zd(i)&&(b=1);else if(typeof i=="string")b=m1(i,o,Ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case p:return fa(o.children,d,g,s);case m:b=8,d|=24;break;case _:return i=pi(12,o,s,d|2),i.elementType=_,i.lanes=g,i;case B:return i=pi(13,o,s,d),i.elementType=B,i.lanes=g,i;case q:return i=pi(19,o,s,d),i.elementType=q,i.lanes=g,i;case J:return uv(o,d,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case S:b=10;break t;case R:b=9;break t;case V:b=11;break t;case K:b=14;break t;case nt:b=16,u=null;break t}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=pi(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function fa(i,s,o,u){return i=pi(7,i,u,s),i.lanes=o,i}function uv(i,s,o,u){i=pi(22,i,u,s),i.elementType=J,i.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(r(456));if((d._pendingVisibility&2)===0){var b=Jr(g,2);b!==null&&(d._pendingVisibility|=2,Rn(b,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(r(456));if((d._pendingVisibility&2)!==0){var b=Jr(g,2);b!==null&&(d._pendingVisibility&=-3,Rn(b,g,2))}}};return i.stateNode=d,i}function Fd(i,s,o){return i=pi(6,i,null,s),i.lanes=o,i}function jd(i,s,o){return s=pi(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Sr(i){i.flags|=4}function cv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Yv(s)){if(s=hi.current,s!==null&&((re&4194176)===re?Fi!==null:(re&62914560)!==re&&(re&536870912)===0||s!==Fi))throw vl=Qf,Iy;i.flags|=8192}}function Pc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Fr():536870912,i.lanes|=s,co|=s)}function Pl(i,s){if(!le)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Se(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function DA(i,s,o){var u=s.pendingProps;switch(Gf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Er(Qe),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ml(s)?Sr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ai!==null&&($d(Ai),Ai=null))),Se(s),null;case 26:return o=s.memoizedState,i===null?(Sr(s),o!==null?(Se(s),cv(s,o)):(Se(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Sr(s),Se(s),cv(s,o)):(Se(s),s.flags&=-16777217):(i.memoizedProps!==u&&Sr(s),Se(s),s.flags&=-16777217),null;case 27:xi(s),o=Ne.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Se(s),null}i=Ce.current,ml(s)?Ay(s):(i=zv(d,u,o),s.stateNode=i,Sr(s))}return Se(s),null;case 5:if(xi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(i=Ce.current,ml(s))Ay(s);else{switch(d=Qc(Ne.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ze]=s,i[qe]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(un(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Sr(s)}}return Se(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Sr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ne.current,ml(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ze]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Mv(i.nodeValue,o)),i||na(s)}else i=Qc(i).createTextNode(u),i[Ze]=s,s.stateNode=i}return Se(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=ml(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ze]=s}else gl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),d=!1}else Ai!==null&&($d(Ai),Ai=null),d=!0;if(!d)return s.flags&256?(gr(s),s):(gr(s),null)}if(gr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Pc(s,s.updateQueue),Se(s),null;case 4:return kn(),i===null&&op(s.stateNode.containerInfo),Se(s),null;case 10:return Er(s.type),Se(s),null;case 19:if(ae(Ke),d=s.memoizedState,d===null)return Se(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Pl(d,!1);else{if(De!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=vc(i),g!==null){for(s.flags|=128,Pl(d,!1),i=g.updateQueue,s.updateQueue=i,Pc(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)lv(o,i),o=o.sibling;return Kt(Ke,Ke.current&1|2),s.child}i=i.sibling}d.tail!==null&&We()>Lc&&(s.flags|=128,u=!0,Pl(d,!1),s.lanes=4194304)}else{if(!u)if(i=vc(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Pc(s,i),Pl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!le)return Se(s),null}else 2*We()-d.renderingStartTime>Lc&&o!==536870912&&(s.flags|=128,u=!0,Pl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=We(),s.sibling=null,i=Ke.current,Kt(Ke,u?i&1|2:i&1),s):(Se(s),null);case 22:case 23:return gr(s),Xf(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),o=s.updateQueue,o!==null&&Pc(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ae(ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Er(Qe),Se(s),null;case 25:return null}throw Error(r(156,s.tag))}function OA(i,s){switch(Gf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Er(Qe),kn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return xi(s),null;case 13:if(gr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));gl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(Ke),null;case 4:return kn(),null;case 10:return Er(s.type),null;case 22:case 23:return gr(s),Xf(),i!==null&&ae(ra),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Er(Qe),null;case 25:return null;default:return null}}function hv(i,s){switch(Gf(s),s.tag){case 3:Er(Qe),kn();break;case 26:case 27:case 5:xi(s);break;case 4:kn();break;case 13:gr(s);break;case 19:ae(Ke);break;case 10:Er(s.type);break;case 22:case 23:gr(s),Xf(),i!==null&&ae(ra);break;case 24:Er(Qe)}}var NA={getCacheForType:function(i){var s=mn(Qe),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},MA=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ye=null,Xt=null,re=0,_e=0,Yn=null,Ar=!1,uo=!1,qd=!1,Rr=0,De=0,fs=0,da=0,Hd=0,mi=0,co=0,Ll=null,qi=null,Gd=!1,Kd=0,Lc=1/0,Vc=null,ds=null,Bc=!1,pa=null,Vl=0,Qd=0,Yd=null,Bl=0,Xd=null;function Xn(){if((Ae&2)!==0&&re!==0)return re&-re;if(k.T!==null){var i=eo;return i!==0?i:ip()}return Gu()}function fv(){mi===0&&(mi=(re&536870912)===0||le?Wo():536870912);var i=hi.current;return i!==null&&(i.flags|=32),mi}function Rn(i,s,o){(i===ye&&_e===2||i.cancelPendingCommit!==null)&&(ho(i,0),Ir(i,re,mi,!1)),Me(i,o),((Ae&2)===0||i!==ye)&&(i===ye&&((Ae&2)===0&&(da|=o),De===4&&Ir(i,re,mi,!1)),Hi(i))}function dv(i,s,o){if((Ae&6)!==0)throw Error(r(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||zr(i,s),d=u?LA(i,s):Jd(i,s,!0),g=u;do{if(d===0){uo&&!u&&Ir(i,s,0,!1);break}else if(d===6)Ir(i,s,0,!Ar);else{if(o=i.current.alternate,g&&!UA(o)){d=Jd(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var C=i;d=Ll;var P=C.current.memoizedState.isDehydrated;if(P&&(ho(C,b).flags|=256),b=Jd(C,b,!1),b!==2){if(qd&&!P){C.errorRecoveryDisabledLanes|=g,da|=g,d=4;break t}g=qi,qi=d,g!==null&&$d(g)}d=b}if(g=!1,d!==2)continue}}if(d===1){ho(i,0),Ir(i,s,0,!0);break}t:{switch(u=i,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Ir(u,s,mi,!Ar);break t}break;case 2:qi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Kd+300-We(),10<g)){if(Ir(u,s,mi,!Ar),ei(u,0)!==0)break t;u.timeoutHandle=Lv(pv.bind(null,u,o,qi,Vc,Gd,s,mi,da,co,Ar,2,-0,0),g);break t}pv(u,o,qi,Vc,Gd,s,mi,da,co,Ar,0,-0,0)}}break}while(!0);Hi(i)}function $d(i){qi===null?qi=i:qi.push.apply(qi,i)}function pv(i,s,o,u,d,g,b,C,P,G,at,ht,Z){var st=s.subtreeFlags;if((st&8192||(st&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:g1},rv(s),s=_1(),s!==null)){i.cancelPendingCommit=s(Tv.bind(null,i,o,u,d,b,C,P,1,ht,Z)),Ir(i,g,b,!G);return}Tv(i,o,u,d,b,C,P,at,ht,Z)}function UA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ir(i,s,o,u){s&=~Hd,s&=~da,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Vt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&jr(i,o,s)}function zc(){return(Ae&6)===0?(zl(0),!1):!0}function Wd(){if(Xt!==null){if(_e===0)var i=Xt.return;else i=Xt,vr=ua=null,id(i),Ja=null,El=0,i=Xt;for(;i!==null;)hv(i.alternate,i),i=i.return;Xt=null}}function ho(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,t1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Wd(),ye=i,Xt=o=hs(i.current,null),re=s,_e=0,Yn=null,Ar=!1,uo=zr(i,s),qd=!1,co=mi=Hd=da=fs=De=0,qi=Ll=null,Gd=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Vt(u),g=1<<d;s|=i[d],u&=~g}return Rr=s,cc(),o}function mv(i,s){Qt=null,k.H=ji,s===_l?(s=ky(),_e=3):s===Iy?(s=ky(),_e=4):_e=s===C_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Xt===null&&(De=1,kc(i,li(s,i.current)))}function gv(){var i=k.H;return k.H=ji,i===null?ji:i}function yv(){var i=k.A;return k.A=NA,i}function Zd(){De=4,Ar||(re&4194176)!==re&&hi.current!==null||(uo=!0),(fs&134217727)===0&&(da&134217727)===0||ye===null||Ir(ye,re,mi,!1)}function Jd(i,s,o){var u=Ae;Ae|=2;var d=gv(),g=yv();(ye!==i||re!==s)&&(Vc=null,ho(i,s)),s=!1;var b=De;t:do try{if(_e!==0&&Xt!==null){var C=Xt,P=Yn;switch(_e){case 8:Wd(),b=6;break t;case 3:case 2:case 6:hi.current===null&&(s=!0);var G=_e;if(_e=0,Yn=null,fo(i,C,P,G),o&&uo){b=0;break t}break;default:G=_e,_e=0,Yn=null,fo(i,C,P,G)}}PA(),b=De;break}catch(at){mv(i,at)}while(!0);return s&&i.shellSuspendCounter++,vr=ua=null,Ae=u,k.H=d,k.A=g,Xt===null&&(ye=null,re=0,cc()),b}function PA(){for(;Xt!==null;)_v(Xt)}function LA(i,s){var o=Ae;Ae|=2;var u=gv(),d=yv();ye!==i||re!==s?(Vc=null,Lc=We()+500,ho(i,s)):uo=zr(i,s);t:do try{if(_e!==0&&Xt!==null){s=Xt;var g=Yn;e:switch(_e){case 1:_e=0,Yn=null,fo(i,s,g,1);break;case 2:if(Cy(g)){_e=0,Yn=null,vv(s);break}s=function(){_e===2&&ye===i&&(_e=7),Hi(i)},g.then(s,s);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Cy(g)?(_e=0,Yn=null,vv(s)):(_e=0,Yn=null,fo(i,s,g,7));break;case 5:var b=null;switch(Xt.tag){case 26:b=Xt.memoizedState;case 5:case 27:var C=Xt;if(!b||Yv(b)){_e=0,Yn=null;var P=C.sibling;if(P!==null)Xt=P;else{var G=C.return;G!==null?(Xt=G,Fc(G)):Xt=null}break e}}_e=0,Yn=null,fo(i,s,g,5);break;case 6:_e=0,Yn=null,fo(i,s,g,6);break;case 8:Wd(),De=6;break t;default:throw Error(r(462))}}VA();break}catch(at){mv(i,at)}while(!0);return vr=ua=null,k.H=u,k.A=d,Ae=o,Xt!==null?0:(ye=null,re=0,cc(),De)}function VA(){for(;Xt!==null&&!pn();)_v(Xt)}function _v(i){var s=z_(i.alternate,i,Rr);i.memoizedProps=i.pendingProps,s===null?Fc(i):Xt=s}function vv(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=M_(o,s,s.pendingProps,s.type,void 0,re);break;case 11:s=M_(o,s,s.pendingProps,s.type.render,s.ref,re);break;case 5:id(s);default:hv(o,s),s=Xt=lv(s,Rr),s=z_(o,s,Rr)}i.memoizedProps=i.pendingProps,s===null?Fc(i):Xt=s}function fo(i,s,o,u){vr=ua=null,id(s),Ja=null,El=0;var d=s.return;try{if(RA(i,d,s,o,re)){De=1,kc(i,li(o,i.current)),Xt=null;return}}catch(g){if(d!==null)throw Xt=d,g;De=1,kc(i,li(o,i.current)),Xt=null;return}s.flags&32768?(le||u===1?i=!0:uo||(re&536870912)!==0?i=!1:(Ar=i=!0,(u===2||u===3||u===6)&&(u=hi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ev(s,i)):Fc(s)}function Fc(i){var s=i;do{if((s.flags&32768)!==0){Ev(s,Ar);return}i=s.return;var o=DA(s.alternate,s,Rr);if(o!==null){Xt=o;return}if(s=s.sibling,s!==null){Xt=s;return}Xt=s=i}while(s!==null);De===0&&(De=5)}function Ev(i,s){do{var o=OA(i.alternate,i);if(o!==null){o.flags&=32767,Xt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Xt=i;return}Xt=i=o}while(i!==null);De=6,Xt=null}function Tv(i,s,o,u,d,g,b,C,P,G){var at=k.T,ht=_t.p;try{_t.p=2,k.T=null,BA(i,s,o,u,ht,d,g,b,C,P,G)}finally{k.T=at,_t.p=ht}}function BA(i,s,o,u,d,g,b,C){do po();while(pa!==null);if((Ae&6)!==0)throw Error(r(327));var P=i.finishedWork;if(u=i.finishedLanes,P===null)return null;if(i.finishedWork=null,i.finishedLanes=0,P===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var G=P.lanes|P.childLanes;if(G|=jf,qu(i,u,G,g,b,C),i===ye&&(Xt=ye=null,re=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Bc||(Bc=!0,Qd=G,Yd=o,qA(y,function(){return po(),null})),o=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||o?(o=k.T,k.T=null,g=_t.p,_t.p=2,b=Ae,Ae|=4,CA(i,P),ev(P,i),uA(hp,i.containerInfo),Jc=!!cp,hp=cp=null,i.current=P,W_(i,P.alternate,P),Ti(),Ae=b,_t.p=g,k.T=o):i.current=P,Bc?(Bc=!1,pa=i,Vl=u):wv(i,G),G=i.pendingLanes,G===0&&(ds=null),ee(P.stateNode),Hi(i),s!==null)for(d=i.onRecoverableError,P=0;P<s.length;P++)G=s[P],d(G.value,{componentStack:G.stack});return(Vl&3)!==0&&po(),G=i.pendingLanes,(u&4194218)!==0&&(G&42)!==0?i===Xd?Bl++:(Bl=0,Xd=i):Bl=0,zl(0),null}function wv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,wl(s)))}function po(){if(pa!==null){var i=pa,s=Qd;Qd=0;var o=Hu(Vl),u=k.T,d=_t.p;try{if(_t.p=32>o?32:o,k.T=null,pa===null)var g=!1;else{o=Yd,Yd=null;var b=pa,C=Vl;if(pa=null,Vl=0,(Ae&6)!==0)throw Error(r(331));var P=Ae;if(Ae|=4,av(b.current),iv(b,b.current,C,o),Ae=P,zl(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(it,b)}catch{}g=!0}return g}finally{_t.p=d,k.T=u,wv(i,s)}}return!1}function bv(i,s,o){s=li(o,s),s=yd(i.stateNode,s,2),i=os(i,s,2),i!==null&&(Me(i,2),Hi(i))}function ge(i,s,o){if(i.tag===3)bv(i,i,o);else for(;s!==null;){if(s.tag===3){bv(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){i=li(o,i),o=R_(2),u=os(s,o,2),u!==null&&(I_(o,u,s,i),Me(u,2),Hi(u));break}}s=s.return}}function tp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new MA;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(qd=!0,d.add(o),i=zA.bind(null,i,s,o),s.then(i,i))}function zA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ye===i&&(re&o)===o&&(De===4||De===3&&(re&62914560)===re&&300>We()-Kd?(Ae&2)===0&&ho(i,0):Hd|=o,co===re&&(co=0)),Hi(i)}function Sv(i,s){s===0&&(s=Fr()),i=Jr(i,s),i!==null&&(Me(i,s),Hi(i))}function FA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Sv(i,o)}function jA(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Sv(i,o)}function qA(i,s){return Fn(i,s)}var jc=null,mo=null,ep=!1,qc=!1,np=!1,ma=0;function Hi(i){i!==mo&&i.next===null&&(mo===null?jc=mo=i:mo=mo.next=i),qc=!0,ep||(ep=!0,GA(HA))}function zl(i,s){if(!np&&qc){np=!0;do for(var o=!1,u=jc;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-Vt(42|i)+1)-1,g&=d&~(b&~C),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Iv(u,g))}else g=re,g=ei(u,u===ye?g:0),(g&3)===0||zr(u,g)||(o=!0,Iv(u,g));u=u.next}while(o);np=!1}}function HA(){qc=ep=!1;var i=0;ma!==0&&(JA()&&(i=ma),ma=0);for(var s=We(),o=null,u=jc;u!==null;){var d=u.next,g=Av(u,s);g===0?(u.next=null,o===null?jc=d:o.next=d,d===null&&(mo=o)):(o=u,(i!==0||(g&3)!==0)&&(qc=!0)),u=d}zl(i)}function Av(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Vt(g),C=1<<b,P=d[b];P===-1?((C&o)===0||(C&u)!==0)&&(d[b]=Oa(C,s)):P<=s&&(i.expiredLanes|=C),g&=~C}if(s=ye,o=re,o=ei(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&_e===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&jn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&jn(u),Hu(o)){case 2:case 8:o=A;break;case 32:o=y;break;case 268435456:o=D;break;default:o=y}return u=Rv.bind(null,i),o=Fn(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&jn(u),i.callbackPriority=2,i.callbackNode=null,2}function Rv(i,s){var o=i.callbackNode;if(po()&&i.callbackNode!==o)return null;var u=re;return u=ei(i,i===ye?u:0),u===0?null:(dv(i,u,s),Av(i,We()),i.callbackNode!=null&&i.callbackNode===o?Rv.bind(null,i):null)}function Iv(i,s){if(po())return null;dv(i,s,!0)}function GA(i){e1(function(){(Ae&6)!==0?Fn(tt,i):i()})}function ip(){return ma===0&&(ma=Wo()),ma}function Cv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ni(""+i)}function xv(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function KA(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Cv((d[qe]||null).action),b=u.submitter;b&&(s=(s=b[qe]||null)?Cv(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var C=new Ba("action","action",null,u,d);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var P=b?xv(d,b):new FormData(d);fd(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(C.preventDefault(),P=b?xv(d,b):new FormData(d),fd(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var rp=0;rp<Ty.length;rp++){var sp=Ty[rp],QA=sp.toLowerCase(),YA=sp[0].toUpperCase()+sp.slice(1);Si(QA,"on"+YA)}Si(gy,"onAnimationEnd"),Si(yy,"onAnimationIteration"),Si(_y,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(hA,"onTransitionRun"),Si(fA,"onTransitionStart"),Si(dA,"onTransitionCancel"),Si(vy,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function kv(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var C=u[b],P=C.instance,G=C.currentTarget;if(C=C.listener,P!==g&&d.isPropagationStopped())break t;g=C,d.currentTarget=G;try{g(d)}catch(at){xc(at)}d.currentTarget=null,g=P}else for(b=0;b<u.length;b++){if(C=u[b],P=C.instance,G=C.currentTarget,C=C.listener,P!==g&&d.isPropagationStopped())break t;g=C,d.currentTarget=G;try{g(d)}catch(at){xc(at)}d.currentTarget=null,g=P}}}}function Jt(i,s){var o=s[zs];o===void 0&&(o=s[zs]=new Set);var u=i+"__bubble";o.has(u)||(Dv(s,i,2,!1),o.add(u))}function ap(i,s,o){var u=0;s&&(u|=4),Dv(o,i,u,s)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function op(i){if(!i[Hc]){i[Hc]=!0,Jo.forEach(function(o){o!=="selectionchange"&&(XA.has(o)||ap(o,!1,i),ap(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hc]||(s[Hc]=!0,ap("selectionchange",!1,s))}}function Dv(i,s,o,u){switch(t0(s)){case 2:var d=T1;break;case 8:d=w1;break;default:d=Ep}o=d.bind(null,s,o,i),d=void 0,!si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function lp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(b===4)for(b=u.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;b=b.return}for(;C!==null;){if(b=bi(C),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){u=g=b;continue t}C=C.parentNode}}u=u.return}Xu(function(){var G=g,at=Va(o),ht=[];t:{var Z=Ey.get(i);if(Z!==void 0){var st=Ba,It=i;switch(i){case"keypress":if(Ui(o)===0)break t;case"keydown":case"keyup":st=Ga;break;case"focusin":It="focus",st=ja;break;case"focusout":It="blur",st=ja;break;case"beforeblur":case"afterblur":st=ja;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=ic;break;case gy:case yy:case _y:st=qa;break;case vy:st=sc;break;case"scroll":case"scrollend":st=$u;break;case"wheel":st=Ka;break;case"copy":case"cut":case"paste":st=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=hl;break;case"toggle":case"beforetoggle":st=oc}var zt=(s&4)!==0,Oe=!zt&&(i==="scroll"||i==="scrollend"),Q=zt?Z!==null?Z+"Capture":null:Z;zt=[];for(var H=G,X;H!==null;){var ot=H;if(X=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||X===null||Q===null||(ot=Gs(H,Q),ot!=null&&zt.push(jl(H,ot,X))),Oe)break;H=H.return}0<zt.length&&(Z=new st(Z,It,null,o,at),ht.push({event:Z,listeners:zt}))}}if((s&7)===0){t:{if(Z=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",Z&&o!==ri&&(It=o.relatedTarget||o.fromElement)&&(bi(It)||It[sr]))break t;if((st||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,st?(It=o.relatedTarget||o.toElement,st=G,It=It?bi(It):null,It!==null&&(Oe=wt(It),zt=It.tag,It!==Oe||zt!==5&&zt!==27&&zt!==6)&&(It=null)):(st=null,It=G),st!==It)){if(zt=ai,ot="onMouseLeave",Q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(zt=hl,ot="onPointerLeave",Q="onPointerEnter",H="pointer"),Oe=st==null?Z:Kr(st),X=It==null?Z:Kr(It),Z=new zt(ot,H+"leave",st,o,at),Z.target=Oe,Z.relatedTarget=X,ot=null,bi(at)===G&&(zt=new zt(Q,H+"enter",It,o,at),zt.target=X,zt.relatedTarget=Oe,ot=zt),Oe=ot,st&&It)e:{for(zt=st,Q=It,H=0,X=zt;X;X=go(X))H++;for(X=0,ot=Q;ot;ot=go(ot))X++;for(;0<H-X;)zt=go(zt),H--;for(;0<X-H;)Q=go(Q),X--;for(;H--;){if(zt===Q||Q!==null&&zt===Q.alternate)break e;zt=go(zt),Q=go(Q)}zt=null}else zt=null;st!==null&&Ov(ht,Z,st,zt,!1),It!==null&&Oe!==null&&Ov(ht,Oe,It,zt,!0)}}t:{if(Z=G?Kr(G):window,st=Z.nodeName&&Z.nodeName.toLowerCase(),st==="select"||st==="input"&&Z.type==="file")var St=sy;else if(Ge(Z))if(ay)St=oA;else{St=sA;var Yt=rA}else st=Z.nodeName,!st||st.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&rl(G.elementType)&&(St=sy):St=aA;if(St&&(St=St(i,G))){dr(ht,St,o,at);break t}Yt&&Yt(i,Z,G),i==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&La(Z,"number",Z.value)}switch(Yt=G?Kr(G):window,i){case"focusin":(Ge(Yt)||Yt.contentEditable==="true")&&(Qa=Yt,Bf=G,pl=null);break;case"focusout":pl=Bf=Qa=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,py(ht,o,at);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":py(ht,o,at)}var xt;if(Vi)t:{switch(i){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ne?et(i,o)&&(Ot="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(w&&o.locale!=="ko"&&(ne||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ne&&(xt=al()):(Mi=at,Zr="value"in Mi?Mi.value:Mi.textContent,ne=!0)),Yt=Gc(G,Ot),0<Yt.length&&(Ot=new ul(Ot,i,null,o,at),ht.push({event:Ot,listeners:Yt}),xt?Ot.data=xt:(xt=mt(o),xt!==null&&(Ot.data=xt)))),(xt=v?He(i,o):ie(i,o))&&(Ot=Gc(G,"onBeforeInput"),0<Ot.length&&(Yt=new ul("onBeforeInput","beforeinput",null,o,at),ht.push({event:Yt,listeners:Ot}),Yt.data=xt)),KA(ht,i,G,o,at)}kv(ht,s)})}function jl(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Gc(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Gs(i,o),d!=null&&u.unshift(jl(i,d,g)),d=Gs(i,s),d!=null&&u.push(jl(i,d,g))),i=i.return}return u}function go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ov(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var C=o,P=C.alternate,G=C.stateNode;if(C=C.tag,P!==null&&P===u)break;C!==5&&C!==26&&C!==27||G===null||(P=G,d?(G=Gs(o,g),G!=null&&b.unshift(jl(o,G,P))):d||(G=Gs(o,g),G!=null&&b.push(jl(o,G,P)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var $A=/\r\n?/g,WA=/\u0000|\uFFFD/g;function Nv(i){return(typeof i=="string"?i:""+i).replace($A,`
`).replace(WA,"")}function Mv(i,s){return s=Nv(s),Nv(i)===s}function Kc(){}function me(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ii(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ii(i,""+u);break;case"className":Xr(i,"class",u);break;case"tabIndex":Xr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(i,o,u);break;case"style":Yu(i,u,g);break;case"data":if(s!=="object"){Xr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ni(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&me(i,s,"name",d.name,d,null),me(i,s,"formEncType",d.formEncType,d,null),me(i,s,"formMethod",d.formMethod,d,null),me(i,s,"formTarget",d.formTarget,d,null)):(me(i,s,"encType",d.encType,d,null),me(i,s,"method",d.method,d,null),me(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ni(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Kc);break;case"onScroll":u!=null&&Jt("scroll",i);break;case"onScrollEnd":u!=null&&Jt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ni(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Jt("beforetoggle",i),Jt("toggle",i),Yr(i,"popover",u);break;case"xlinkActuate":ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ni(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ni(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ni(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ni(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Of.get(o)||o,Yr(i,o,u))}}function up(i,s,o,u,d,g){switch(o){case"style":Yu(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ii(i,u):(typeof u=="number"||typeof u=="bigint")&&ii(i,""+u);break;case"onScroll":u!=null&&Jt("scroll",i);break;case"onScrollEnd":u!=null&&Jt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Yr(i,o,u)}}}function un(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",i),Jt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(i,s,g,b,o,null)}}d&&me(i,s,"srcSet",o.srcSet,o,null),u&&me(i,s,"src",o.src,o,null);return;case"input":Jt("invalid",i);var C=g=b=d=null,P=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var at=o[u];if(at!=null)switch(u){case"name":d=at;break;case"type":b=at;break;case"checked":P=at;break;case"defaultChecked":G=at;break;case"value":g=at;break;case"defaultValue":C=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:me(i,s,u,at,o,null)}}qs(i,g,C,P,G,b,d,!1),js(i);return;case"select":Jt("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":g=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:me(i,s,d,C,o,null)}s=g,o=b,i.multiple=!!u,s!=null?oe(i,!!u,s,!1):o!=null&&oe(i,!!u,o,!0);return;case"textarea":Jt("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":d=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:me(i,s,b,C,o,null)}Wr(i,u,d,g),js(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:me(i,s,P,u,o,null)}return;case"dialog":Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":Jt("load",i);break;case"video":case"audio":for(u=0;u<Fl.length;u++)Jt(Fl[u],i);break;case"image":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"embed":case"source":case"link":Jt("error",i),Jt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(i,s,G,u,o,null)}return;default:if(rl(s)){for(at in o)o.hasOwnProperty(at)&&(u=o[at],u!==void 0&&up(i,s,at,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&me(i,s,C,u,o,null))}function ZA(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,C=null,P=null,G=null,at=null;for(st in o){var ht=o[st];if(o.hasOwnProperty(st)&&ht!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":P=ht;default:u.hasOwnProperty(st)||me(i,s,st,null,u,ht)}}for(var Z in u){var st=u[Z];if(ht=o[Z],u.hasOwnProperty(Z)&&(st!=null||ht!=null))switch(Z){case"type":g=st;break;case"name":d=st;break;case"checked":G=st;break;case"defaultChecked":at=st;break;case"value":b=st;break;case"defaultValue":C=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:st!==ht&&me(i,s,Z,st,u,ht)}}$r(i,b,C,P,G,at,g,d);return;case"select":st=b=C=Z=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":st=P;default:u.hasOwnProperty(g)||me(i,s,g,null,u,P)}for(d in u)if(g=u[d],P=o[d],u.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":Z=g;break;case"defaultValue":C=g;break;case"multiple":b=g;default:g!==P&&me(i,s,d,g,u,P)}s=C,o=b,u=st,Z!=null?oe(i,!!o,Z,!1):!!u!=!!o&&(s!=null?oe(i,!!o,s,!0):oe(i,!!o,o?[]:"",!1));return;case"textarea":st=Z=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:me(i,s,C,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Z=d;break;case"defaultValue":st=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&me(i,s,b,d,u,g)}Hs(i,Z,st);return;case"option":for(var It in o)if(Z=o[It],o.hasOwnProperty(It)&&Z!=null&&!u.hasOwnProperty(It))switch(It){case"selected":i.selected=!1;break;default:me(i,s,It,null,u,Z)}for(P in u)if(Z=u[P],st=o[P],u.hasOwnProperty(P)&&Z!==st&&(Z!=null||st!=null))switch(P){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:me(i,s,P,Z,u,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in o)Z=o[zt],o.hasOwnProperty(zt)&&Z!=null&&!u.hasOwnProperty(zt)&&me(i,s,zt,null,u,Z);for(G in u)if(Z=u[G],st=o[G],u.hasOwnProperty(G)&&Z!==st&&(Z!=null||st!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:me(i,s,G,Z,u,st)}return;default:if(rl(s)){for(var Oe in o)Z=o[Oe],o.hasOwnProperty(Oe)&&Z!==void 0&&!u.hasOwnProperty(Oe)&&up(i,s,Oe,void 0,u,Z);for(at in u)Z=u[at],st=o[at],!u.hasOwnProperty(at)||Z===st||Z===void 0&&st===void 0||up(i,s,at,Z,u,st);return}}for(var Q in o)Z=o[Q],o.hasOwnProperty(Q)&&Z!=null&&!u.hasOwnProperty(Q)&&me(i,s,Q,null,u,Z);for(ht in u)Z=u[ht],st=o[ht],!u.hasOwnProperty(ht)||Z===st||Z==null&&st==null||me(i,s,ht,Z,u,st)}var cp=null,hp=null;function Qc(i){return i.nodeType===9?i:i.ownerDocument}function Uv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function fp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dp=null;function JA(){var i=window.event;return i&&i.type==="popstate"?i===dp?!1:(dp=i,!0):(dp=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(i){return Vv.resolve(null).then(i).catch(n1)}:Lv;function n1(i){setTimeout(function(){throw i})}function pp(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){i.removeChild(d),$l(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);$l(s)}function mp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mp(o),Fs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function i1(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Gr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ii(i.nextSibling),i===null)break}return null}function r1(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ii(i.nextSibling),i===null))return null;return i}function Ii(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function Bv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function zv(i,s,o){switch(s=Qc(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var gi=new Map,Fv=new Set;function Yc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Cr=_t.d;_t.d={f:s1,r:a1,D:o1,C:l1,L:u1,m:c1,X:f1,S:h1,M:d1};function s1(){var i=Cr.f(),s=zc();return i||s}function a1(i){var s=ar(i);s!==null&&s.tag===5&&s.type==="form"?p_(s):Cr.r(i)}var yo=typeof document>"u"?null:document;function jv(i,s,o){var u=yo;if(u&&typeof s=="string"&&s){var d=xe(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Fv.has(d)||(Fv.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",i),be(s),u.head.appendChild(s)))}}function o1(i){Cr.D(i),jv("dns-prefetch",i,null)}function l1(i,s){Cr.C(i,s),jv("preconnect",i,s)}function u1(i,s,o){Cr.L(i,s,o);var u=yo;if(u&&i&&s){var d='link[rel="preload"][as="'+xe(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+xe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+xe(o.imageSizes)+'"]')):d+='[href="'+xe(i)+'"]';var g=d;switch(s){case"style":g=_o(i);break;case"script":g=vo(i)}gi.has(g)||(i=U({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),gi.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(ql(g))||s==="script"&&u.querySelector(Hl(g))||(s=u.createElement("link"),un(s,"link",i),be(s),u.head.appendChild(s)))}}function c1(i,s){Cr.m(i,s);var o=yo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+xe(u)+'"][href="'+xe(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vo(i)}if(!gi.has(g)&&(i=U({rel:"modulepreload",href:i},s),gi.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hl(g)))return}u=o.createElement("link"),un(u,"link",i),be(u),o.head.appendChild(u)}}}function h1(i,s,o){Cr.S(i,s,o);var u=yo;if(u&&i){var d=Qr(u).hoistableStyles,g=_o(i);s=s||"default";var b=d.get(g);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(ql(g)))C.loading=5;else{i=U({rel:"stylesheet",href:i,"data-precedence":s},o),(o=gi.get(g))&&gp(i,o);var P=b=u.createElement("link");be(P),un(P,"link",i),P._p=new Promise(function(G,at){P.onload=G,P.onerror=at}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Xc(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:C},d.set(g,b)}}}function f1(i,s){Cr.X(i,s);var o=yo;if(o&&i){var u=Qr(o).hoistableScripts,d=vo(i),g=u.get(d);g||(g=o.querySelector(Hl(d)),g||(i=U({src:i,async:!0},s),(s=gi.get(d))&&yp(i,s),g=o.createElement("script"),be(g),un(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function d1(i,s){Cr.M(i,s);var o=yo;if(o&&i){var u=Qr(o).hoistableScripts,d=vo(i),g=u.get(d);g||(g=o.querySelector(Hl(d)),g||(i=U({src:i,async:!0,type:"module"},s),(s=gi.get(d))&&yp(i,s),g=o.createElement("script"),be(g),un(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function qv(i,s,o,u){var d=(d=Ne.current)?Yc(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=_o(o.href),o=Qr(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=_o(o.href);var g=Qr(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(ql(i)))&&!g._p&&(b.instance=g,b.state.loading=5),gi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gi.set(i,o),g||p1(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vo(o),o=Qr(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function _o(i){return'href="'+xe(i)+'"'}function ql(i){return'link[rel="stylesheet"]['+i+"]"}function Hv(i){return U({},i,{"data-precedence":i.precedence,precedence:null})}function p1(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),be(s),i.head.appendChild(s))}function vo(i){return'[src="'+xe(i)+'"]'}function Hl(i){return"script[async]"+i}function Gv(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+xe(o.href)+'"]');if(u)return s.instance=u,be(u),u;var d=U({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),be(u),un(u,"style",d),Xc(u,o.precedence,i),s.instance=u;case"stylesheet":d=_o(o.href);var g=i.querySelector(ql(d));if(g)return s.state.loading|=4,s.instance=g,be(g),g;u=Hv(o),(d=gi.get(d))&&gp(u,d),g=(i.ownerDocument||i).createElement("link"),be(g);var b=g;return b._p=new Promise(function(C,P){b.onload=C,b.onerror=P}),un(g,"link",u),s.state.loading|=4,Xc(g,o.precedence,i),s.instance=g;case"script":return g=vo(o.src),(d=i.querySelector(Hl(g)))?(s.instance=d,be(d),d):(u=o,(d=gi.get(g))&&(u=U({},o),yp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),be(d),un(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xc(u,o.precedence,i));return s.instance}function Xc(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===s)g=C;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function yp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var $c=null;function Kv(i,s,o){if($c===null){var u=new Map,d=$c=new Map;d.set(o,u)}else d=$c,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Gr]||g[Ze]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var C=u.get(b);C?C.push(g):u.set(b,[g])}}return u}function Qv(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function m1(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Gl=null;function g1(){}function y1(i,s,o){if(Gl===null)throw Error(r(475));var u=Gl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=_o(o.href),g=i.querySelector(ql(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Wc.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,be(g);return}g=i.ownerDocument||i,o=Hv(o),(d=gi.get(d))&&gp(o,d),g=g.createElement("link"),be(g);var b=g;b._p=new Promise(function(C,P){b.onload=C,b.onerror=P}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Wc.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function _1(){if(Gl===null)throw Error(r(475));var i=Gl;return i.stylesheets&&i.count===0&&_p(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&_p(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)_p(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zc=null;function _p(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zc=new Map,s.forEach(v1,i),Zc=null,Wc.call(i))}function v1(i,s){if(!(s.state.loading&4)){var o=Zc.get(i);if(o)var u=o.get(null);else{o=new Map,Zc.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Wc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Kl={$$typeof:S,Provider:null,Consumer:null,_currentValue:Dt,_currentValue2:Dt,_threadCount:0};function E1(i,s,o,u,d,g,b,C){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Xv(i,s,o,u,d,g,b,C,P,G,at,ht){return i=new E1(i,s,o,b,C,P,G,ht),s=1,g===!0&&(s|=24),g=pi(3,null,null,s),i.current=g,g.stateNode=i,s=$f(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},kd(g),i}function $v(i){return i?(i=$a,i):$a}function Wv(i,s,o,u,d,g){d=$v(d),u.context===null?u.context=d:u.pendingContext=d,u=as(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=os(i,u,s),o!==null&&(Rn(o,i,s),xl(o,i,s))}function Zv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function vp(i,s){Zv(i,s),(i=i.alternate)&&Zv(i,s)}function Jv(i){if(i.tag===13){var s=Jr(i,67108864);s!==null&&Rn(s,i,67108864),vp(i,67108864)}}var Jc=!0;function T1(i,s,o,u){var d=k.T;k.T=null;var g=_t.p;try{_t.p=2,Ep(i,s,o,u)}finally{_t.p=g,k.T=d}}function w1(i,s,o,u){var d=k.T;k.T=null;var g=_t.p;try{_t.p=8,Ep(i,s,o,u)}finally{_t.p=g,k.T=d}}function Ep(i,s,o,u){if(Jc){var d=Tp(u);if(d===null)lp(i,s,u,th,o),e0(i,u);else if(S1(d,i,s,o,u))u.stopPropagation();else if(e0(i,u),s&4&&-1<b1.indexOf(i)){for(;d!==null;){var g=ar(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=wi(g.pendingLanes);if(b!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var P=1<<31-Vt(b);C.entanglements[1]|=P,b&=~P}Hi(g),(Ae&6)===0&&(Lc=We()+500,zl(0))}}break;case 13:C=Jr(g,2),C!==null&&Rn(C,g,2),zc(),vp(g,2)}if(g=Tp(u),g===null&&lp(i,s,u,th,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else lp(i,s,u,null,o)}}function Tp(i){return i=Va(i),wp(i)}var th=null;function wp(i){if(th=null,i=bi(i),i!==null){var s=wt(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=qt(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return th=i,null}function t0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wn()){case tt:return 2;case A:return 8;case y:case E:return 32;case D:return 268435456;default:return 32}default:return 32}}var bp=!1,ps=null,ms=null,gs=null,Ql=new Map,Yl=new Map,ys=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(i,s){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(s.pointerId)}}function Xl(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ar(s),s!==null&&Jv(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function S1(i,s,o,u,d){switch(s){case"focusin":return ps=Xl(ps,i,s,o,u,d),!0;case"dragenter":return ms=Xl(ms,i,s,o,u,d),!0;case"mouseover":return gs=Xl(gs,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Ql.set(g,Xl(Ql.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Yl.set(g,Xl(Yl.get(g)||null,i,s,o,u,d)),!0}return!1}function n0(i){var s=bi(i.target);if(s!==null){var o=wt(s);if(o!==null){if(s=o.tag,s===13){if(s=qt(o),s!==null){i.blockedOn=s,Hr(i.priority,function(){if(o.tag===13){var u=Xn(),d=Jr(o,u);d!==null&&Rn(d,o,u),vp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function eh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ri=u,o.target.dispatchEvent(u),ri=null}else return s=ar(o),s!==null&&Jv(s),i.blockedOn=o,!1;s.shift()}return!0}function i0(i,s,o){eh(i)&&o.delete(s)}function A1(){bp=!1,ps!==null&&eh(ps)&&(ps=null),ms!==null&&eh(ms)&&(ms=null),gs!==null&&eh(gs)&&(gs=null),Ql.forEach(i0),Yl.forEach(i0)}function nh(i,s){i.blockedOn===s&&(i.blockedOn=null,bp||(bp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,A1)))}var ih=null;function r0(i){ih!==i&&(ih=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ih===i&&(ih=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(wp(u||o)===null)continue;break}var g=ar(o);g!==null&&(i.splice(s,3),s-=3,fd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function $l(i){function s(P){return nh(P,i)}ps!==null&&nh(ps,i),ms!==null&&nh(ms,i),gs!==null&&nh(gs,i),Ql.forEach(s),Yl.forEach(s);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)n0(o),o.blockedOn===null&&ys.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[qe]||null;if(typeof g=="function")b||r0(o);else if(b){var C=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[qe]||null)C=b.formAction;else if(wp(d)!==null)continue}else C=b.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),r0(o)}}}function Sp(i){this._internalRoot=i}rh.prototype.render=Sp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Xn();Wv(o,u,i,s,null,null)},rh.prototype.unmount=Sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&po(),Wv(i.current,2,null,i,null,null),zc(),s[sr]=null}};function rh(i){this._internalRoot=i}rh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Gu();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,i),o===0&&n0(i)}};var s0=t.version;if(s0!=="19.0.0")throw Error(r(527,s0,"19.0.0"));_t.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=rt(s),i=i!==null?yt(i):null,i=i===null?null:i.stateNode,i};var R1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:bi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{it=sh.inject(R1),Rt=sh}catch{}}return Jl.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=w_,g=b_,b=S_,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Xv(i,1,!1,null,null,o,u,d,g,b,C,null),i[sr]=s.current,op(i.nodeType===8?i.parentNode:i),new Sp(s)},Jl.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=w_,b=b_,C=S_,P=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=Xv(i,1,!0,s,o??null,u,d,g,b,C,P,G),s.context=$v(null),o=s.current,u=Xn(),d=as(u),d.callback=null,os(o,d,u),s.current.lanes=u,Me(s,u),Hi(s),i[sr]=s.current,op(i),new rh(s)},Jl.version="19.0.0",Jl}var v0;function H1(){if(v0)return xp.exports;v0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xp.exports=q1(),xp.exports}var G1=H1();const K1=Ru(G1),Q1=()=>{};var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Y1=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,p=a+2<e.length,m=p?e[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let R=(f&15)<<2|m>>6,S=m&63;p||(S=64,c||(R=64)),r.push(n[_],n[T],n[R],n[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(OT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Y1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const m=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new X1;const R=l<<2|f>>4;if(r.push(R),m!==64){const S=f<<4&240|m>>2;if(r.push(S),T!==64){const V=m<<6&192|T;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(e){const t=OT(e);return NT.encodeByteArray(t,!0)},xh=function(e){return $1(e).replace(/\./g,"")},MT=function(e){try{return NT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=()=>W1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof E0>"u")return;const e=E0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},tR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&MT(e[1]);return t&&JSON.parse(t)},Zh=()=>{try{return Q1()||Z1()||J1()||tR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},UT=e=>{var t,n;return(n=(t=Zh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},PT=e=>{const t=UT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},LT=()=>{var e;return(e=Zh())===null||e===void 0?void 0:e.config},VT=e=>{var t;return(t=Zh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xh(JSON.stringify(n)),xh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function iR(){var e;const t=(e=Zh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const e=En();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class rr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=hR,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?fR(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new rr(a,f,r)}}function fR(e,t){return e.replace(dR,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const dR=/\{\$([^}]+)}/g;function pR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ta(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(T0(l)&&T0(c)){if(!Ta(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function T0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function mR(e,t){const n=new gR(e,t);return n.subscribe.bind(n)}class gR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yR(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Np),a.error===void 0&&(a.error=Np),a.complete===void 0&&(a.complete=Np);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return e&&e._delegate?e._delegate:e}class ks{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new eR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ER(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(e){return e===ga?void 0:e}function ER(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _R(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Wt||(Wt={}));const wR={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},bR=Wt.INFO,SR={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},AR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=SR[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=bR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}const RR=(e,t)=>t.some(n=>e instanceof n);let w0,b0;function IR(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,am=new WeakMap,FT=new WeakMap,Mp=new WeakMap,jm=new WeakMap;function xR(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Rs(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&zT.set(n,e)}).catch(()=>{}),jm.set(t,e),t}function kR(e){if(am.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});am.set(e,t)}let om={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return am.get(e);if(t==="objectStoreNames")return e.objectStoreNames||FT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function DR(e){om=e(om)}function OR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Up(this),t,...n);return FT.set(r,t.sort?t.sort():[t]),Rs(r)}:CR().includes(e)?function(...t){return e.apply(Up(this),t),Rs(zT.get(this))}:function(...t){return Rs(e.apply(Up(this),t))}}function NR(e){return typeof e=="function"?OR(e):(e instanceof IDBTransaction&&kR(e),RR(e,IR())?new Proxy(e,om):e)}function Rs(e){if(e instanceof IDBRequest)return xR(e);if(Mp.has(e))return Mp.get(e);const t=NR(e);return t!==e&&(Mp.set(e,t),jm.set(t,e)),t}const Up=e=>jm.get(e);function MR(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=Rs(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Rs(c.result),p.oldVersion,p.newVersion,Rs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const UR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Pp=new Map;function S0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pp.get(t))return Pp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=PR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||UR.includes(n)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&p.done]))[0]};return Pp.set(t,l),l}DR(e=>({...e,get:(t,n,r)=>S0(t,n)||e.get(t,n,r),has:(t,n)=>!!S0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lm="@firebase/app",A0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Fm("@firebase/app"),BR="@firebase/app-compat",zR="@firebase/analytics-compat",FR="@firebase/analytics",jR="@firebase/app-check-compat",qR="@firebase/app-check",HR="@firebase/auth",GR="@firebase/auth-compat",KR="@firebase/database",QR="@firebase/data-connect",YR="@firebase/database-compat",XR="@firebase/functions",$R="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",JR="@firebase/messaging",tI="@firebase/messaging-compat",eI="@firebase/performance",nI="@firebase/performance-compat",iI="@firebase/remote-config",rI="@firebase/remote-config-compat",sI="@firebase/storage",aI="@firebase/storage-compat",oI="@firebase/firestore",lI="@firebase/vertexai",uI="@firebase/firestore-compat",cI="firebase",hI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",fI={[lm]:"fire-core",[BR]:"fire-core-compat",[FR]:"fire-analytics",[zR]:"fire-analytics-compat",[qR]:"fire-app-check",[jR]:"fire-app-check-compat",[HR]:"fire-auth",[GR]:"fire-auth-compat",[KR]:"fire-rtdb",[QR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[XR]:"fire-fn",[$R]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[JR]:"fire-fcm",[tI]:"fire-fcm-compat",[eI]:"fire-perf",[nI]:"fire-perf-compat",[iI]:"fire-rc",[rI]:"fire-rc-compat",[sI]:"fire-gcs",[aI]:"fire-gcs-compat",[oI]:"fire-fst",[uI]:"fire-fst-compat",[lI]:"fire-vertex","fire-js":"fire-js",[cI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,dI=new Map,cm=new Map;function R0(e,t){try{e.container.addComponent(t)}catch(n){Mr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wa(e){const t=e.name;if(cm.has(t))return Mr.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,e);for(const n of kh.values())R0(n,e);for(const n of dI.values())R0(n,e);return!0}function Jh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _i(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Iu("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=hI;function jT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:um,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(n||(n=LT()),!n)throw Is.create("no-options");const l=kh.get(a);if(l){if(Ta(n,l.options)&&Ta(r,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new TR(a);for(const p of cm.values())c.addComponent(p);const f=new mI(n,r,c);return kh.set(a,f),f}function qm(e=um){const t=kh.get(e);if(!t&&e===um&&LT())return jT();if(!t)throw Is.create("no-app",{appName:e});return t}function $i(e,t,n){var r;let a=(r=fI[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mr.warn(f.join(" "));return}wa(new ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebase-heartbeat-database",yI=1,gu="firebase-heartbeat-store";let Lp=null;function qT(){return Lp||(Lp=MR(gI,yI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Is.create("idb-open",{originalErrorMessage:e.message})})),Lp}async function _I(e){try{const n=(await qT()).transaction(gu),r=await n.objectStore(gu).get(HT(e));return await n.done,r}catch(t){if(t instanceof rr)Mr.warn(t.message);else{const n=Is.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mr.warn(n.message)}}}async function I0(e,t){try{const r=(await qT()).transaction(gu,"readwrite");await r.objectStore(gu).put(t,HT(e)),await r.done}catch(n){if(n instanceof rr)Mr.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function HT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1024,EI=30;class TI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=C0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>EI){const c=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C0(),{heartbeatsToSend:r,unsentEntries:a}=wI(this._heartbeatsCache.heartbeats),l=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Mr.warn(n),""}}}function C0(){return new Date().toISOString().substring(0,10)}function wI(e,t=vI){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),x0(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),x0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _I(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function x0(e){return xh(JSON.stringify({version:2,heartbeats:e})).length}function SI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(e){wa(new ks("platform-logger",t=>new LR(t),"PRIVATE")),wa(new ks("heartbeat",t=>new TI(t),"PRIVATE")),$i(lm,A0,e),$i(lm,A0,"esm2017"),$i("fire-js","")}AI("");var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,GT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,N){function k(){}k.prototype=N.prototype,z.D=N.prototype,z.prototype=new k,z.prototype.constructor=z,z.C=function(U,L,F){for(var O=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)O[gt-2]=arguments[gt];return N.prototype[L].apply(U,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,N,k){k||(k=0);var U=Array(16);if(typeof N=="string")for(var L=0;16>L;++L)U[L]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(L=0;16>L;++L)U[L]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=z.g[0],k=z.g[1],L=z.g[2];var F=z.g[3],O=N+(F^k&(L^F))+U[0]+3614090360&4294967295;N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[1]+3905402710&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[2]+606105819&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[3]+3250441966&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(F^k&(L^F))+U[4]+4118548399&4294967295,N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[5]+1200080426&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[6]+2821735955&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[7]+4249261313&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(F^k&(L^F))+U[8]+1770035416&4294967295,N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[9]+2336552879&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[10]+4294925233&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[11]+2304563134&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(F^k&(L^F))+U[12]+1804603682&4294967295,N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[13]+4254626195&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[14]+2792965006&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[15]+1236535329&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(L^F&(k^L))+U[1]+4129170786&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[6]+3225465664&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[11]+643717713&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[0]+3921069994&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(L^F&(k^L))+U[5]+3593408605&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[10]+38016083&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[15]+3634488961&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[4]+3889429448&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(L^F&(k^L))+U[9]+568446438&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[14]+3275163606&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[3]+4107603335&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[8]+1163531501&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(L^F&(k^L))+U[13]+2850285829&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[2]+4243563512&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[7]+1735328473&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[12]+2368359562&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(k^L^F)+U[5]+4294588738&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[8]+2272392833&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[11]+1839030562&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[14]+4259657740&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(k^L^F)+U[1]+2763975236&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[4]+1272893353&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[7]+4139469664&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[10]+3200236656&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(k^L^F)+U[13]+681279174&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[0]+3936430074&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[3]+3572445317&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[6]+76029189&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(k^L^F)+U[9]+3654602809&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[12]+3873151461&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[15]+530742520&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[2]+3299628645&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(L^(k|~F))+U[0]+4096336452&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[7]+1126891415&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[14]+2878612391&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[5]+4237533241&4294967295,k=L+(O<<21&4294967295|O>>>11),O=N+(L^(k|~F))+U[12]+1700485571&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[3]+2399980690&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[10]+4293915773&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[1]+2240044497&4294967295,k=L+(O<<21&4294967295|O>>>11),O=N+(L^(k|~F))+U[8]+1873313359&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[15]+4264355552&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[6]+2734768916&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[13]+1309151649&4294967295,k=L+(O<<21&4294967295|O>>>11),O=N+(L^(k|~F))+U[4]+4149444226&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[11]+3174756917&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[2]+718787259&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[9]+3951481745&4294967295,z.g[0]=z.g[0]+N&4294967295,z.g[1]=z.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+F&4294967295}r.prototype.u=function(z,N){N===void 0&&(N=z.length);for(var k=N-this.blockSize,U=this.B,L=this.h,F=0;F<N;){if(L==0)for(;F<=k;)a(this,z,F),F+=this.blockSize;if(typeof z=="string"){for(;F<N;)if(U[L++]=z.charCodeAt(F++),L==this.blockSize){a(this,U),L=0;break}}else for(;F<N;)if(U[L++]=z[F++],L==this.blockSize){a(this,U),L=0;break}}this.h=L,this.o+=N},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var N=1;N<z.length-8;++N)z[N]=0;var k=8*this.o;for(N=z.length-8;N<z.length;++N)z[N]=k&255,k/=256;for(this.u(z),z=Array(16),N=k=0;4>N;++N)for(var U=0;32>U;U+=8)z[k++]=this.g[N]>>>U&255;return z};function l(z,N){var k=f;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=N(z)}function c(z,N){this.h=N;for(var k=[],U=!0,L=z.length-1;0<=L;L--){var F=z[L]|0;U&&F==N||(k[L]=F,U=!1)}this.g=k}var f={};function p(z){return-128<=z&&128>z?l(z,function(N){return new c([N|0],0>N?-1:0)}):new c([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return T;if(0>z)return q(m(-z));for(var N=[],k=1,U=0;z>=k;U++)N[U]=z/k|0,k*=4294967296;return new c(N,0)}function _(z,N){if(z.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(z.charAt(0)=="-")return q(_(z.substring(1),N));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(N,8)),U=T,L=0;L<z.length;L+=8){var F=Math.min(8,z.length-L),O=parseInt(z.substring(L,L+F),N);8>F?(F=m(Math.pow(N,F)),U=U.j(F).add(m(O))):(U=U.j(k),U=U.add(m(O)))}return U}var T=p(0),R=p(1),S=p(16777216);e=c.prototype,e.m=function(){if(B(this))return-q(this).m();for(var z=0,N=1,k=0;k<this.g.length;k++){var U=this.i(k);z+=(0<=U?U:4294967296+U)*N,N*=4294967296}return z},e.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(V(this))return"0";if(B(this))return"-"+q(this).toString(z);for(var N=m(Math.pow(z,6)),k=this,U="";;){var L=ct(k,N).g;k=K(k,L.j(N));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(z);if(k=L,V(k))return F+U;for(;6>F.length;)F="0"+F;U=F+U}},e.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function V(z){if(z.h!=0)return!1;for(var N=0;N<z.g.length;N++)if(z.g[N]!=0)return!1;return!0}function B(z){return z.h==-1}e.l=function(z){return z=K(this,z),B(z)?-1:V(z)?0:1};function q(z){for(var N=z.g.length,k=[],U=0;U<N;U++)k[U]=~z.g[U];return new c(k,~z.h).add(R)}e.abs=function(){return B(this)?q(this):this},e.add=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0,L=0;L<=N;L++){var F=U+(this.i(L)&65535)+(z.i(L)&65535),O=(F>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);U=O>>>16,F&=65535,O&=65535,k[L]=O<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function K(z,N){return z.add(q(N))}e.j=function(z){if(V(this)||V(z))return T;if(B(this))return B(z)?q(this).j(q(z)):q(q(this).j(z));if(B(z))return q(this.j(q(z)));if(0>this.l(S)&&0>z.l(S))return m(this.m()*z.m());for(var N=this.g.length+z.g.length,k=[],U=0;U<2*N;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var L=0;L<z.g.length;L++){var F=this.i(U)>>>16,O=this.i(U)&65535,gt=z.i(L)>>>16,vt=z.i(L)&65535;k[2*U+2*L]+=O*vt,nt(k,2*U+2*L),k[2*U+2*L+1]+=F*vt,nt(k,2*U+2*L+1),k[2*U+2*L+1]+=O*gt,nt(k,2*U+2*L+1),k[2*U+2*L+2]+=F*gt,nt(k,2*U+2*L+2)}for(U=0;U<N;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=N;U<2*N;U++)k[U]=0;return new c(k,0)};function nt(z,N){for(;(z[N]&65535)!=z[N];)z[N+1]+=z[N]>>>16,z[N]&=65535,N++}function J(z,N){this.g=z,this.h=N}function ct(z,N){if(V(N))throw Error("division by zero");if(V(z))return new J(T,T);if(B(z))return N=ct(q(z),N),new J(q(N.g),q(N.h));if(B(N))return N=ct(z,q(N)),new J(q(N.g),N.h);if(30<z.g.length){if(B(z)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var k=R,U=N;0>=U.l(z);)k=ut(k),U=ut(U);var L=W(k,1),F=W(U,1);for(U=W(U,2),k=W(k,2);!V(U);){var O=F.add(U);0>=O.l(z)&&(L=L.add(k),F=O),U=W(U,1),k=W(k,1)}return N=K(z,L.j(N)),new J(L,N)}for(L=T;0<=z.l(N);){for(k=Math.max(1,Math.floor(z.m()/N.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),F=m(k),O=F.j(N);B(O)||0<O.l(z);)k-=U,F=m(k),O=F.j(N);V(F)&&(F=R),L=L.add(F),z=K(z,O)}return new J(L,z)}e.A=function(z){return ct(this,z).h},e.and=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)&z.i(U);return new c(k,this.h&z.h)},e.or=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)|z.i(U);return new c(k,this.h|z.h)},e.xor=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)^z.i(U);return new c(k,this.h^z.h)};function ut(z){for(var N=z.g.length+1,k=[],U=0;U<N;U++)k[U]=z.i(U)<<1|z.i(U-1)>>>31;return new c(k,z.h)}function W(z,N){var k=N>>5;N%=32;for(var U=z.g.length-k,L=[],F=0;F<U;F++)L[F]=0<N?z.i(F+k)>>>N|z.i(F+k+1)<<32-N:z.i(F+k);return new c(L,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Cs=c}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KT,iu,QT,_h,hm,YT,XT,$T;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var w=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var Y=h[x];if(!(Y in w))break t;w=w[Y]}h=h[h.length-1],x=w[h],v=v(x),v!=x&&v!=null&&t(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,x=!1,Y={next:function(){if(!x&&w<h.length){var et=w++;return{value:v(et,h[et]),done:!1}}return x=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,w){return h.call.apply(h.bind,arguments)}function T(h,v,w){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,x),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function R(h,v,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,R.apply(null,arguments)}function S(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function V(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(x,Y,et){for(var mt=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)mt[ne-2]=arguments[ne];return v.prototype[Y].apply(x,mt)}}function B(h){const v=h.length;if(0<v){const w=Array(v);for(let x=0;x<v;x++)w[x]=h[x];return w}return[]}function q(h,v){for(let w=1;w<arguments.length;w++){const x=arguments[w];if(p(x)){const Y=h.length||0,et=x.length||0;h.length=Y+et;for(let mt=0;mt<et;mt++)h[Y+mt]=x[mt]}else h.push(x)}}class K{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function nt(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ct(h){return ct[" "](h),h}ct[" "]=function(){};var ut=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function W(h,v,w){for(const x in h)v.call(w,h[x],x,h)}function z(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function N(h){const v={};for(const w in h)v[w]=h[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,v){let w,x;for(let Y=1;Y<arguments.length;Y++){x=arguments[Y];for(w in x)h[w]=x[w];for(let et=0;et<k.length;et++)w=k[et],Object.prototype.hasOwnProperty.call(x,w)&&(h[w]=x[w])}}function L(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function F(h){f.setTimeout(()=>{throw h},0)}function O(){var h=qt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class gt{constructor(){this.h=this.g=null}add(v,w){const x=vt.get();x.set(v,w),this.h?this.h.next=x:this.g=x,this.h=x}}var vt=new K(()=>new dt,h=>h.reset());class dt{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,wt=!1,qt=new gt,I=()=>{const h=f.Promise.resolve(void 0);Tt=()=>{h.then(rt)}};var rt=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(w){F(w)}var v=vt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}wt=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function Dt(h,v){if(M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ut){t:{try{ct(v.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}V(Dt,M);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function ae(h,v,w,x,Y){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!x,this.ha=Y,this.key=++Mt,this.da=this.fa=!1}function Kt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h){this.src=h,this.g={},this.h=0}Ce.prototype.add=function(h,v,w,x,Y){var et=h.toString();h=this.g[et],h||(h=this.g[et]=[],this.h++);var mt=Ne(h,v,x,Y);return-1<mt?(v=h[mt],w||(v.fa=!1)):(v=new ae(v,this.src,et,!!x,Y),v.fa=w,h.push(v)),v};function xn(h,v){var w=v.type;if(w in h.g){var x=h.g[w],Y=Array.prototype.indexOf.call(x,v,void 0),et;(et=0<=Y)&&Array.prototype.splice.call(x,Y,1),et&&(Kt(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ne(h,v,w,x){for(var Y=0;Y<h.length;++Y){var et=h[Y];if(!et.da&&et.listener==v&&et.capture==!!w&&et.ha==x)return Y}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),zn={};function kn(h,v,w,x,Y){if(Array.isArray(v)){for(var et=0;et<v.length;et++)kn(h,v[et],w,x,Y);return null}return w=wn(w),h&&h[de]?h.K(v,w,m(x)?!!x.capture:!1,Y):ti(h,v,w,!1,x,Y)}function ti(h,v,w,x,Y,et){if(!v)throw Error("Invalid event type");var mt=m(Y)?!!Y.capture:!!Y,ne=Ti(h);if(ne||(h[dn]=ne=new Ce(h)),w=ne.add(v,w,x,mt,et),w.proxy)return w;if(x=xi(),w.proxy=x,x.src=h,x.listener=w,h.addEventListener)_t||(Y=mt),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),x,Y);else if(h.attachEvent)h.attachEvent(jn(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function xi(){function h(w){return v.call(h.src,h.listener,w)}const v=pn;return h}function Ei(h,v,w,x,Y){if(Array.isArray(v))for(var et=0;et<v.length;et++)Ei(h,v[et],w,x,Y);else x=m(x)?!!x.capture:!!x,w=wn(w),h&&h[de]?(h=h.i,v=String(v).toString(),v in h.g&&(et=h.g[v],w=Ne(et,w,x,Y),-1<w&&(Kt(et[w]),Array.prototype.splice.call(et,w,1),et.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ti(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ne(v,w,x,Y)),(w=-1<h?v[h]:null)&&Fn(w))}function Fn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])xn(v.i,h);else{var w=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(w,x,h.capture):v.detachEvent?v.detachEvent(jn(w),x):v.addListener&&v.removeListener&&v.removeListener(x),(w=Ti(v))?(xn(w,h),w.h==0&&(w.src=null,v[dn]=null)):Kt(h)}}}function jn(h){return h in zn?zn[h]:zn[h]="on"+h}function pn(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var w=h.listener,x=h.ha||h.src;h.fa&&Fn(h),h=w.call(x,v)}return h}function Ti(h){return h=h[dn],h instanceof Ce?h:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(h){return typeof h=="function"?h:(h[We]||(h[We]=function(v){return h.handleEvent(v)}),h[We])}function tt(){yt.call(this),this.i=new Ce(this),this.M=this,this.F=null}V(tt,yt),tt.prototype[de]=!0,tt.prototype.removeEventListener=function(h,v,w,x){Ei(this,h,v,w,x)};function A(h,v){var w,x=h.F;if(x)for(w=[];x;x=x.F)w.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var Y=v;v=new M(x,h),U(v,Y)}if(Y=!0,w)for(var et=w.length-1;0<=et;et--){var mt=v.g=w[et];Y=y(mt,x,!0,v)&&Y}if(mt=v.g=h,Y=y(mt,x,!0,v)&&Y,Y=y(mt,x,!1,v)&&Y,w)for(et=0;et<w.length;et++)mt=v.g=w[et],Y=y(mt,x,!1,v)&&Y}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],x=0;x<w.length;x++)Kt(w[x]);delete h.g[v],h.h--}}this.F=null},tt.prototype.K=function(h,v,w,x){return this.i.add(String(h),v,!1,w,x)},tt.prototype.L=function(h,v,w,x){return this.i.add(String(h),v,!0,w,x)};function y(h,v,w,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,et=0;et<v.length;++et){var mt=v[et];if(mt&&!mt.da&&mt.capture==w){var ne=mt.listener,He=mt.ha||mt.src;mt.fa&&xn(h.i,mt),Y=ne.call(He,x)!==!1&&Y}}return Y&&!x.defaultPrevented}function E(h,v,w){if(typeof h=="function")w&&(h=R(h,w));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function D(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,D(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class j extends yt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:D(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $(h){yt.call(this),this.h=h,this.g={}}V($,yt);var it=[];function Rt(h){W(h.g,function(v,w){this.g.hasOwnProperty(w)&&Fn(v)},h),h.g={}}$.prototype.N=function(){$.aa.N.call(this),Rt(this)},$.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=f.JSON.stringify,Nt=f.JSON.parse,Vt=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function jt(){}jt.prototype.h=null;function Fu(h){return h.h||(h.h=h.i())}function ju(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){M.call(this,"d")}V(Br,M);function wi(){M.call(this,"c")}V(wi,M);var ei={},zr=null;function Oa(){return zr=zr||new tt}ei.La="serverreachability";function Wo(h){M.call(this,ei.La,h)}V(Wo,M);function Fr(h){const v=Oa();A(v,new Wo(v))}ei.STAT_EVENT="statevent";function Na(h,v){M.call(this,ei.STAT_EVENT,h),this.stat=v}V(Na,M);function Me(h){const v=Oa();A(v,new Na(v,h))}ei.Ma="timingevent";function qu(h,v){M.call(this,ei.Ma,h),this.size=v}V(qu,M);function jr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function qr(){this.g=!0}qr.prototype.xa=function(){this.g=!1};function Hu(h,v,w,x,Y,et){h.info(function(){if(h.g)if(et)for(var mt="",ne=et.split("&"),He=0;He<ne.length;He++){var ie=ne[He].split("=");if(1<ie.length){var tn=ie[0];ie=ie[1];var Ge=tn.split("_");mt=2<=Ge.length&&Ge[1]=="type"?mt+(tn+"="+ie+"&"):mt+(tn+"=redacted&")}}else mt=null;else mt=et;return"XMLHTTP REQ ("+x+") [attempt "+Y+"]: "+v+`
`+w+`
`+mt})}function Gu(h,v,w,x,Y,et,mt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Y+"]: "+v+`
`+w+`
`+et+" "+mt})}function Hr(h,v,w,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ze(h,w)+(x?" "+x:"")})}function Di(h,v){h.info(function(){return"TIMEOUT: "+v})}qr.prototype.info=function(){};function Ze(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var x=w[h];if(!(2>x.length)){var Y=x[1];if(Array.isArray(Y)&&!(1>Y.length)){var et=Y[0];if(et!="noop"&&et!="stop"&&et!="close")for(var mt=1;mt<Y.length;mt++)Y[mt]=""}}}}return ee(w)}catch{return v}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zs;function Ma(){}V(Ma,jt),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},zs=new Ma;function Oi(h,v,w,x){this.j=h,this.i=v,this.l=w,this.R=x||1,this.U=new $(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zo}function Zo(){this.i=null,this.g="",this.h=!1}var Gr={},Fs={};function bi(h,v,w){h.L=1,h.v=Hs(xe(v)),h.m=w,h.P=!0,ar(h,null)}function ar(h,v){h.F=Date.now(),be(h),h.A=xe(h.v);var w=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),ur(w.i,"t",x),h.C=0,w=h.j.J,h.h=new Zo,h.g=sc(h.j,w?v:null,!h.m),0<h.O&&(h.M=new j(R(h.Y,h,h.g),h.O)),v=h.U,w=h.g,x=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(it[0]=Y.toString()),Y=it);for(var et=0;et<Y.length;et++){var mt=kn(w,Y[et],x||v.handleEvent,!1,v.h||v);if(!mt)break;v.g[mt.key]=mt}v=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Fr(),Hu(h.i,h.u,h.A,h.l,h.R,h.m)}Oi.prototype.ca=function(h){h=h.target;const v=this.M;v&&ai(h)==3?v.j():this.Y(h)},Oi.prototype.Y=function(h){try{if(h==this.g)t:{const Ge=ai(this.g);var v=this.g.Ba();const dr=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||Ge!=4||v==7||(v==8||0>=dr?Fr(3):Fr(2)),Ua(this);var w=this.g.Z();this.X=w;e:if(Kr(this)){var x=Wu(this.g);h="";var Y=x.length,et=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),qn(this);var mt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(x[v],{stream:!(et&&v==Y-1)});x.length=0,this.h.g+=h,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=w==200,Gu(this.i,this.u,this.A,this.l,this.R,Ge,w),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,He=this.g;if((ne=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(ne)){var ie=ne;break e}}ie=null}if(w=ie)Hr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,w);else{this.o=!1,this.s=3,Me(12),Dn(this),qn(this);break t}}if(this.P){w=!0;let an;for(;!this.J&&this.C<mt.length;)if(an=Qr(this,mt),an==Fs){Ge==4&&(this.s=4,Me(14),w=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Gr){this.s=4,Me(15),Hr(this.i,this.l,mt,"[Invalid Chunk]"),w=!1;break}else Hr(this.i,this.l,an,null),Hn(this,an);if(Kr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||mt.length!=0||this.h.h||(this.s=1,Me(16),w=!1),this.o=this.o&&w,!w)Hr(this.i,this.l,mt,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(0<mt.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Ws(tn),tn.M=!0,Me(11))}}else Hr(this.i,this.l,mt,null),Hn(this,mt);Ge==4&&Dn(this),this.o&&!this.J&&(Ge==4?nc(this.j,this):(this.o=!1,be(this)))}else Mf(this.g),w==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),Dn(this),qn(this)}}}catch{}finally{}};function Kr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qr(h,v){var w=h.C,x=v.indexOf(`
`,w);return x==-1?Fs:(w=Number(v.substring(w,x)),isNaN(w)?Gr:(x+=1,x+w>v.length?Fs:(v=v.slice(x,x+w),h.C=x+w,v)))}Oi.prototype.cancel=function(){this.J=!0,Dn(this)};function be(h){h.S=Date.now()+h.I,Jo(h,h.I)}function Jo(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=jr(R(h.ba,h),v)}function Ua(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Oi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Di(this.i,this.A),this.L!=2&&(Fr(),Me(17)),Dn(this),this.s=2,qn(this)):Jo(this,this.S-h)};function qn(h){h.j.G==0||h.J||nc(h.j,h)}function Dn(h){Ua(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Rt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hn(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||Yr(w.h,h))){if(!h.K&&Yr(w.h,h)&&w.G==3){try{var x=w.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Y=x;if(Y[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ga(w),qa(w);else break t;cl(w),Me(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=jr(R(w.Za,w),6e3));if(1>=Ku(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else fr(w,11)}else if((h.K||w.g==h)&&Ga(w),!nt(v))for(Y=w.Da.g.parse(v),v=0;v<Y.length;v++){let ie=Y[v];if(w.T=ie[0],ie=ie[1],w.G==2)if(ie[0]=="c"){w.K=ie[1],w.ia=ie[2];const tn=ie[3];tn!=null&&(w.la=tn,w.j.info("VER="+w.la));const Ge=ie[4];Ge!=null&&(w.Aa=Ge,w.j.info("SVER="+w.Aa));const dr=ie[5];dr!=null&&typeof dr=="number"&&0<dr&&(x=1.5*dr,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const an=h.g;if(an){const Bi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var et=x.h;et.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Xr(et,et.h),et.h=null))}if(x.D){const fl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(x.ya=fl,oe(x.I,x.D,fl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var mt=h;if(x.qa=rc(x,x.J?x.ia:null,x.W),mt.K){ni(x.h,mt);var ne=mt,He=x.L;He&&(ne.I=He),ne.B&&(Ua(ne),be(ne)),x.g=mt}else tc(x);0<w.i.length&&Ha(w)}else ie[0]!="stop"&&ie[0]!="close"||fr(w,7);else w.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?fr(w,7):ll(w):ie[0]!="noop"&&w.l&&w.l.ta(ie),w.v=0)}}Fr(4)}catch{}}var xf=class{constructor(h,v){this.g=h,this.map=v}};function tl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ku(h){return h.h?1:h.g?h.g.size:0}function Yr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Xr(h,v){h.g?h.g.add(v):h.h=v}function ni(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}tl.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return B(h.i)}function Qu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],w=h.length,x=0;x<w;x++)v.push(h[x]);return v}v=[],w=0;for(x in h)v[w++]=h[x];return v}function kf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const x in h)v[w++]=x;return v}}}function js(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=kf(h),x=Qu(h),Y=x.length,et=0;et<Y;et++)v.call(void 0,x[et],w&&w[et],h)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var x=h[w].indexOf("="),Y=null;if(0<=x){var et=h[w].substring(0,x);Y=h[w].substring(x+1)}else et=h[w];v(et,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function or(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof or){this.h=h.h,$r(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var v=h.i,w=new Ni;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),La(this,w),this.m=h.m}else h&&(v=String(h).match(nl))?(this.h=!1,$r(this,v[1]||"",!0),this.o=Wr(v[2]||""),this.g=Wr(v[3]||"",!0),qs(this,v[4]),this.l=Wr(v[5]||"",!0),La(this,v[6]||"",!0),this.m=Wr(v[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}or.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ii(v,il,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ii(v,il,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ii(w,w.charAt(0)=="/"?rl:Yu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ii(w,Nf)),h.join("")};function xe(h){return new or(h)}function $r(h,v,w){h.j=w?Wr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function La(h,v,w){v instanceof Ni?(h.i=v,sl(h.i,h.h)):(w||(v=ii(v,Of)),h.i=new Ni(v,h.h))}function oe(h,v,w){h.i.set(v,w)}function Hs(h){return oe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ii(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Df),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Df(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var il=/[#\/\?@]/g,Yu=/[#\?:]/g,rl=/[#\?]/g,Of=/[#\?@]/g,Nf=/#/g;function Ni(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ri(h){h.g||(h.g=new Map,h.h=0,h.i&&Pa(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}e=Ni.prototype,e.add=function(h,v){ri(this),this.i=null,h=cr(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function Va(h,v){ri(h),v=cr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function lr(h,v){return ri(h),v=cr(h,v),h.g.has(v)}e.forEach=function(h,v){ri(this),this.g.forEach(function(w,x){w.forEach(function(Y){h.call(v,Y,x,this)},this)},this)},e.na=function(){ri(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let x=0;x<v.length;x++){const Y=h[x];for(let et=0;et<Y.length;et++)w.push(v[x])}return w},e.V=function(h){ri(this);let v=[];if(typeof h=="string")lr(this,h)&&(v=v.concat(this.g.get(cr(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},e.set=function(h,v){return ri(this),this.i=null,h=cr(this,h),lr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ur(h,v,w){Va(h,v),0<w.length&&(h.i=null,h.g.set(cr(h,v),B(w)),h.h+=w.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var x=v[w];const et=encodeURIComponent(String(x)),mt=this.V(x);for(x=0;x<mt.length;x++){var Y=et;mt[x]!==""&&(Y+="="+encodeURIComponent(String(mt[x]))),h.push(Y)}}return this.i=h.join("&")};function cr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function sl(h,v){v&&!h.j&&(ri(h),h.i=null,h.g.forEach(function(w,x){var Y=x.toLowerCase();x!=Y&&(Va(this,x),ur(this,Y,w))},h)),h.j=v}function Xu(h,v){const w=new qr;if(f.Image){const x=new Image;x.onload=S(si,w,"TestLoadImage: loaded",!0,v,x),x.onerror=S(si,w,"TestLoadImage: error",!1,v,x),x.onabort=S(si,w,"TestLoadImage: abort",!1,v,x),x.ontimeout=S(si,w,"TestLoadImage: timeout",!1,v,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Gs(h,v){const w=new qr,x=new AbortController,Y=setTimeout(()=>{x.abort(),si(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(et=>{clearTimeout(Y),et.ok?si(w,"TestPingServer: ok",!0,v):si(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),si(w,"TestPingServer: error",!1,v)})}function si(h,v,w,x,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),x(w)}catch{}}function Ks(){this.g=new Vt}function Mi(h,v,w){const x=w||"";try{js(h,function(Y,et){let mt=Y;m(Y)&&(mt=ee(Y)),v.push(x+et+"="+encodeURIComponent(mt))})}catch(Y){throw v.push(x+"type="+encodeURIComponent("_badmap")),Y}}function Zr(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Zr,jt),Zr.prototype.g=function(){return new hr(this.l,this.j)},Zr.prototype.i=function(h){return function(){return h}}({});function hr(h,v){tt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(hr,tt),e=hr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Pi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ui(this):Pi(this),this.readyState==3&&al(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Ui(this))},e.Qa=function(h){this.g&&(this.response=h,Ui(this))},e.ga=function(){this.g&&Ui(this)};function Ui(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ol(h){let v="";return W(h,function(w,x){v+=x,v+=":",v+=w,v+=`\r
`}),v}function Je(h,v,w){t:{for(x in w){var x=!1;break t}x=!0}x||(w=ol(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):oe(h,v,w))}function he(h){tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(he,tt);var Ba=/^https?$/i,Qs=["POST","PUT"];e=he.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zs.g(),this.v=this.o?Fu(this.o):Fu(zs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(et){$u(this,et);return}if(h=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Y in x)w.set(Y,x[Y]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const et of x.keys())w.set(et,x.get(et));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(et=>et.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,v,void 0))||x||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,mt]of w)this.g.setRequestHeader(et,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(et){$u(this,et)}};function $u(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,za(h),Li(h)}function za(h){h.A||(h.A=!0,A(h,"complete"),A(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,A(this,"complete"),A(this,"abort"),Li(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),he.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},e.bb=function(){Fa(this)};function Fa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ai(h)!=4||h.Z()!=2)){if(h.u&&ai(h)==4)E(h.Ea,0,h);else if(A(h,"readystatechange"),ai(h)==4){h.h=!1;try{const mt=h.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var x;if(x=mt===0){var Y=String(h.D).match(nl)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),x=!Ba.test(Y?Y.toLowerCase():"")}w=x}if(w)A(h,"complete"),A(h,"success");else{h.m=6;try{var et=2<ai(h)?h.g.statusText:""}catch{et=""}h.l=et+" ["+h.Z()+"]",za(h)}}finally{Li(h)}}}}function Li(h,v){if(h.g){Ys(h);const w=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||A(h,"ready");try{w.onreadystatechange=x}catch{}}}function Ys(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Nt(v)}};function Wu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(h){const v={};h=(h.g&&2<=ai(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(nt(h[x]))continue;var w=L(h[x]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const et=v[Y]||[];v[Y]=et,et.push(w)}z(v,function(x){return x.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function ja(h){this.Aa=0,this.i=[],this.j=new qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,h),this.cb=Xs("retryDelaySeedMs",1e4,h),this.Wa=Xs("forwardChannelMaxRetries",2,h),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(h&&h.concurrentRequestLimit),this.Da=new Ks,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ja.prototype,e.la=8,e.G=1,e.connect=function(h,v,w,x){Me(0),this.W=h,this.H=v||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=rc(this,null,this.W),Ha(this)};function ll(h){if(Zu(h),h.G==3){var v=h.U++,w=xe(h.I);if(oe(w,"SID",h.K),oe(w,"RID",v),oe(w,"TYPE","terminate"),$s(h,w),v=new Oi(h,h.j,v),v.L=2,v.v=Hs(xe(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=sc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),be(v)}ic(h)}function qa(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function Zu(h){qa(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ha(h){if(!el(h.h)&&!h.s){h.s=!0;var v=h.Ga;Tt||I(),wt||(Tt(),wt=!0),qt.add(v,h),h.B=0}}function Uf(h,v){return Ku(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=jr(R(h.Ga,h,v),hl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Oi(this,this.j,h);let et=this.o;if(this.S&&(et?(et=N(et),U(et,this.S)):et=this.S),this.m!==null||this.O||(Y.H=et,et=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=Ju(this,Y,v),w=xe(this.I),oe(w,"RID",h),oe(w,"CVER",22),this.D&&oe(w,"X-HTTP-Session-Id",this.D),$s(this,w),et&&(this.O?v="headers="+encodeURIComponent(String(ol(et)))+"&"+v:this.m&&Je(w,this.m,et)),Xr(this.h,Y),this.Ua&&oe(w,"TYPE","init"),this.P?(oe(w,"$req",v),oe(w,"SID","null"),Y.T=!0,bi(Y,w,null)):bi(Y,w,v),this.G=2}}else this.G==3&&(h?ul(this,h):this.i.length==0||el(this.h)||ul(this))};function ul(h,v){var w;v?w=v.l:w=h.U++;const x=xe(h.I);oe(x,"SID",h.K),oe(x,"RID",w),oe(x,"AID",h.T),$s(h,x),h.m&&h.o&&Je(x,h.m,h.o),w=new Oi(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ju(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xr(h.h,w),bi(w,x,v)}function $s(h,v){h.H&&W(h.H,function(w,x){oe(v,x,w)}),h.l&&js({},function(w,x){oe(v,x,w)})}function Ju(h,v,w){w=Math.min(h.i.length,w);var x=h.l?R(h.l.Na,h.l,h):null;t:{var Y=h.i;let et=-1;for(;;){const mt=["count="+w];et==-1?0<w?(et=Y[0].g,mt.push("ofs="+et)):et=0:mt.push("ofs="+et);let ne=!0;for(let He=0;He<w;He++){let ie=Y[He].g;const tn=Y[He].map;if(ie-=et,0>ie)et=Math.max(0,Y[He].g-100),ne=!1;else try{Mi(tn,mt,"req"+ie+"_")}catch{x&&x(tn)}}if(ne){x=mt.join("&");break t}}}return h=h.i.splice(0,w),v.D=h,x}function tc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Tt||I(),wt||(Tt(),wt=!0),qt.add(v,h),h.v=0}}function cl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=jr(R(h.Fa,h),hl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=jr(R(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),qa(this),ec(this))};function Ws(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ec(h){h.g=new Oi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xe(h.qa);oe(v,"RID","rpc"),oe(v,"SID",h.K),oe(v,"AID",h.T),oe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&oe(v,"TO",h.ja),oe(v,"TYPE","xmlhttp"),$s(h,v),h.m&&h.o&&Je(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Hs(xe(v)),w.m=null,w.P=!0,ar(w,h)}e.Za=function(){this.C!=null&&(this.C=null,qa(this),cl(this),Me(19))};function Ga(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function nc(h,v){var w=null;if(h.g==v){Ga(h),Ws(h),h.g=null;var x=2}else if(Yr(h.h,v))w=v.D,ni(h.h,v),x=1;else return;if(h.G!=0){if(v.o)if(x==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;x=Oa(),A(x,new qu(x,w)),Ha(h)}else tc(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(x==1&&Uf(h,v)||x==2&&cl(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),Y){case 1:fr(h,5);break;case 4:fr(h,10);break;case 3:fr(h,6);break;default:fr(h,2)}}}function hl(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function fr(h,v){if(h.j.info("Error code "+v),v==2){var w=R(h.fb,h),x=h.Xa;const Y=!x;x=new or(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$r(x,"https"),Hs(x),Y?Xu(x.toString(),w):Gs(x.toString(),w)}else Me(2);h.G=0,h.l&&h.l.sa(v),ic(h),Zu(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function ic(h){if(h.G=0,h.ka=[],h.l){const v=bn(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ka,v),q(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function rc(h,v,w){var x=w instanceof or?xe(w):new or(w);if(x.g!="")v&&(x.g=v+"."+x.g),qs(x,x.s);else{var Y=f.location;x=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var et=new or(null);x&&$r(et,x),v&&(et.g=v),Y&&qs(et,Y),w&&(et.l=w),x=et}return w=h.D,v=h.ya,w&&v&&oe(x,w,v),oe(x,"VER",h.la),$s(h,x),x}function sc(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new he(new Zr({eb:w})):new he(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}e=ac.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ka(){}Ka.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){tt.call(this),this.g=new ja(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!nt(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!nt(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Vi(this)}V(Sn,tt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){ll(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ee(h),h=w);v.i.push(new xf(v.Ya++,h)),v.G==3&&Ha(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,Sn.aa.N.call(this)};function oc(h){Br.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const w in v){h=w;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(oc,Br);function lc(){wi.call(this),this.status=1}V(lc,wi);function Vi(h){this.g=h}V(Vi,ac),Vi.prototype.ua=function(){A(this.g,"a")},Vi.prototype.ta=function(h){A(this.g,new oc(h))},Vi.prototype.sa=function(h){A(this.g,new lc)},Vi.prototype.ra=function(){A(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,$T=function(){return new Ka},XT=function(){return Oa()},YT=ei,hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,_h=qe,sr.COMPLETE="complete",QT=sr,ju.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",tt.prototype.listen=tt.prototype.K,iu=ju,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,KT=he}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",O0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Fm("@firebase/firestore");function bo(){return ba.logLevel}function bt(e,...t){if(ba.logLevel<=Wt.DEBUG){const n=t.map(Hm);ba.debug(`Firestore (${qo}): ${e}`,...n)}}function Ur(e,...t){if(ba.logLevel<=Wt.ERROR){const n=t.map(Hm);ba.error(`Firestore (${qo}): ${e}`,...n)}}function Uo(e,...t){if(ba.logLevel<=Wt.WARN){const n=t.map(Hm);ba.warn(`Firestore (${qo}): ${e}`,...n)}}function Hm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e="Unexpected state"){const t=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+e;throw Ur(t),new Error(t)}function fe(e,t){e||Ut()}function Ft(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class II{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CI{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){fe(this.o===void 0);let r=this.i;const a=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let l=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Or,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Or)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new WT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string"),new _n(t)}}class xI{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kI{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new xI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_i(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){fe(this.o===void 0);const r=l=>{l.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new N0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new N0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=OI(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function te(e,t){return e<t?-1:e>t?1:0}function Po(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=-62135596800,U0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*U0);return new Xe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<M0)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-M0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new Xe(0,0))}static max(){return new Bt(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Ki{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ut(),r===void 0?r=t.length-n:r>t.length-n&&Ut(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ki?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Ki.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Math.sign(t.length-n.length)}static compareSegments(t,n){const r=Ki.isNumericId(t),a=Ki.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ki.extractNumericId(t).compare(Ki.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cs.fromString(t.substring(4,t.length-2))}}class we extends Ki{construct(t,n,r){return new we(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new we(n)}static emptyPath(){return new we([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Ki{construct(t,n,r){return new hn(t,n,r)}static isValidIdentifier(t){return NI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new hn([P0])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new Ct(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ct(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new Ct(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.path=t}static fromPath(t){return new kt(we.fromString(t))}static fromName(t){return new kt(we.fromString(t).popFirst(5))}static empty(){return new kt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return we.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new kt(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function MI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Bt.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Ds(a,kt.empty(),t)}function UI(e){return new Ds(e.readTime,e.key,yu)}class Ds{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ds(Bt.min(),kt.empty(),yu)}static max(){return new Ds(Bt.max(),kt.empty(),yu)}}function PI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=kt.comparator(e.documentKey,t.documentKey),n!==0?n:te(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==LI)throw e;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.reject(n)}static resolve(t){return new lt((n,r)=>{n(t)})}static reject(t){return new lt((n,r)=>{r(t)})}static waitFor(t){return new lt((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},p=>r(p))}),c=!0,l===a&&n()})}static or(t){let n=lt.resolve(!1);for(const r of t)n=n.next(a=>a?lt.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new lt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(t[m]).next(_=>{c[m]=_,++f,f===l&&r(c)},_=>a(_))}})}static doWhile(t,n){return new lt((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function BI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}tf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function ef(e){return e==null}function Dh(e){return e===0&&1/e==-1/0}function zI(e){return typeof e=="number"&&Number.isInteger(e)&&!Dh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function FI(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=L0(t)),t=jI(e.get(n),t);return L0(t)}function jI(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case JT:n+="";break;default:n+=l}}return n}function L0(e){return e+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ls(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.comparator=t,this.root=n||cn.EMPTY}insert(t,n){return new Re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new cn(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const t=this.left.check();if(t!==this.right.check())throw Ut();return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(t,n,r,a,l){return this}insert(t,n,r){return new cn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(t){return new B0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $e(this.comparator);return n.data=t,n}}class B0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(t){let n=new $e(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ew("Invalid base64 string: "+l):l}}(t);return new fn(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const qI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(e){if(fe(!!e),typeof e=="string"){let t=0;const n=qI.exec(e);if(fe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ns(e){return typeof e=="string"?fn.fromBase64String(e):fn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="server_timestamp",iw="__type__",rw="__previous_value__",sw="__local_write_time__";function Km(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[iw])===null||n===void 0?void 0:n.stringValue)===nw}function nf(e){const t=e.mapValue.fields[rw];return Km(t)?nf(t):t}function _u(e){const t=Os(e.mapValue.fields[sw].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n,r,a,l,c,f,p,m){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Oh="(default)";class vu{constructor(t,n){this.projectId=t,this.database=n||Oh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(t){return t instanceof vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__type__",GI="__max__",uh={mapValue:{}},ow="__vector__",Nh="value";function Ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Km(e)?4:QI(e)?9007199254740991:KI(e)?10:11:Ut()}function tr(e,t){if(e===t)return!0;const n=Ms(e);if(n!==Ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _u(e).isEqual(_u(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Os(a.timestampValue),f=Os(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return Ns(a.bytesValue).isEqual(Ns(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Pe(a.geoPointValue.latitude)===Pe(l.geoPointValue.latitude)&&Pe(a.geoPointValue.longitude)===Pe(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pe(a.integerValue)===Pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pe(a.doubleValue),f=Pe(l.doubleValue);return c===f?Dh(c)===Dh(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Po(e.arrayValue.values||[],t.arrayValue.values||[],tr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(V0(c)!==V0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!tr(c[p],f[p])))return!1;return!0}(e,t);default:return Ut()}}function Eu(e,t){return(e.values||[]).find(n=>tr(n,t))!==void 0}function Lo(e,t){if(e===t)return 0;const n=Ms(e),r=Ms(t);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Pe(l.integerValue||l.doubleValue),p=Pe(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(e,t);case 3:return z0(e.timestampValue,t.timestampValue);case 4:return z0(_u(e),_u(t));case 5:return te(e.stringValue,t.stringValue);case 6:return function(l,c){const f=Ns(l),p=Ns(c);return f.compareTo(p)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const _=te(f[m],p[m]);if(_!==0)return _}return te(f.length,p.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=te(Pe(l.latitude),Pe(c.latitude));return f!==0?f:te(Pe(l.longitude),Pe(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return F0(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,p,m,_;const T=l.fields||{},R=c.fields||{},S=(f=T[Nh])===null||f===void 0?void 0:f.arrayValue,V=(p=R[Nh])===null||p===void 0?void 0:p.arrayValue,B=te(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:F0(S,V)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const R=te(p[T],_[T]);if(R!==0)return R;const S=Lo(f[p[T]],m[_[T]]);if(S!==0)return S}return te(p.length,_.length)}(e.mapValue,t.mapValue);default:throw Ut()}}function z0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return te(e,t);const n=Os(e),r=Os(t),a=te(n.seconds,r.seconds);return a!==0?a:te(n.nanos,r.nanos)}function F0(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Lo(n[a],r[a]);if(l)return l}return te(n.length,r.length)}function Vo(e){return fm(e)}function fm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ns(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return kt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=fm(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${fm(n.fields[c])}`;return a+"}"}(e.mapValue):Ut()}function vh(e){switch(Ms(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nf(e);return t?16+vh(t):16;case 5:return 2*e.stringValue.length;case 6:return Ns(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+vh(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return Ls(r.fields,(l,c)=>{a+=l.length+vh(c)}),a}(e.mapValue);default:throw Ut()}}function dm(e){return!!e&&"integerValue"in e}function Qm(e){return!!e&&"arrayValue"in e}function j0(e){return!!e&&"nullValue"in e}function q0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eh(e){return!!e&&"mapValue"in e}function KI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[aw])===null||n===void 0?void 0:n.stringValue)===ow}function ou(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ls(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ou(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ou(e.arrayValue.values[n]);return t}return Object.assign({},e)}function QI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===GI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ou(n)}setAll(t){let n=hn.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=ou(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return tr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];Eh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Ls(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Pn(ou(this.value))}}function lw(e){const t=[];return Ls(e.fields,(n,r)=>{const a=new hn([n]);if(Eh(r)){const l=lw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new vn(t,0,Bt.min(),Bt.min(),Bt.min(),Pn.empty(),0)}static newFoundDocument(t,n,r,a){return new vn(t,1,n,Bt.min(),r,a,0)}static newNoDocument(t,n){return new vn(t,2,n,Bt.min(),Bt.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new vn(t,3,n,Bt.min(),Bt.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n){this.position=t,this.inclusive=n}}function H0(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=kt.comparator(kt.fromName(c.referenceValue),n.key):r=Lo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function G0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n="asc"){this.field=t,this.dir=n}}function YI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{}class Ye extends uw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new $I(t,n,r):n==="array-contains"?new JI(t,r):n==="in"?new tC(t,r):n==="not-in"?new eC(t,r):n==="array-contains-any"?new nC(t,r):new Ye(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new WI(t,r):new ZI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lo(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends uw{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new er(t,n)}matches(t){return cw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cw(e){return e.op==="and"}function hw(e){return XI(e)&&cw(e)}function XI(e){for(const t of e.filters)if(t instanceof er)return!1;return!0}function pm(e){if(e instanceof Ye)return e.field.canonicalString()+e.op.toString()+Vo(e.value);if(hw(e))return e.filters.map(t=>pm(t)).join(",");{const t=e.filters.map(n=>pm(n)).join(",");return`${e.op}(${t})`}}function fw(e,t){return e instanceof Ye?function(r,a){return a instanceof Ye&&r.op===a.op&&r.field.isEqual(a.field)&&tr(r.value,a.value)}(e,t):e instanceof er?function(r,a){return a instanceof er&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&fw(c,a.filters[f]),!0):!1}(e,t):void Ut()}function dw(e){return e instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(e):e instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(dw).join(" ,")+"}"}(e):"Filter"}class $I extends Ye{constructor(t,n,r){super(t,n,r),this.key=kt.fromName(r.referenceValue)}matches(t){const n=kt.comparator(t.key,this.key);return this.matchesComparison(n)}}class WI extends Ye{constructor(t,n){super(t,"in",n),this.keys=pw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ZI extends Ye{constructor(t,n){super(t,"not-in",n),this.keys=pw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function pw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>kt.fromName(r.referenceValue))}class JI extends Ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qm(n)&&Eu(n.arrayValue,this.value)}}class tC extends Ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class eC extends Ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Eu(this.value.arrayValue,n)}}class nC extends Ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function K0(e,t=null,n=[],r=[],a=null,l=null,c=null){return new iC(e,t,n,r,a,l,c)}function Ym(e){const t=Ft(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>pm(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),ef(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Vo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Vo(r)).join(",")),t.le=n}return t.le}function Xm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!YI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!G0(e.startAt,t.startAt)&&G0(e.endAt,t.endAt)}function mm(e){return kt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rC(e,t,n,r,a,l,c,f){return new rf(e,t,n,r,a,l,c,f)}function sf(e){return new rf(e)}function Q0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function sC(e){return e.collectionGroup!==null}function lu(e){const t=Ft(e);if(t.he===null){t.he=[];const n=new Set;for(const l of t.explicitOrderBy)t.he.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new $e(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.he.push(new Uh(l,r))}),n.has(hn.keyField().canonicalString())||t.he.push(new Uh(hn.keyField(),r))}return t.he}function Wi(e){const t=Ft(e);return t.Pe||(t.Pe=aC(t,lu(e))),t.Pe}function aC(e,t){if(e.limitType==="F")return K0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Uh(a.field,l)});const n=e.endAt?new Mh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mh(e.startAt.position,e.startAt.inclusive):null;return K0(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gm(e,t,n){return new rf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function af(e,t){return Xm(Wi(e),Wi(t))&&e.limitType===t.limitType}function mw(e){return`${Ym(Wi(e))}|lt:${e.limitType}`}function So(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>dw(a)).join(", ")}]`),ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Vo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Vo(a)).join(",")),`Target(${r})`}(Wi(e))}; limitType=${e.limitType})`}function of(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):kt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of lu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,p){const m=H0(c,f,p);return c.inclusive?m<=0:m<0}(r.startAt,lu(r),a)||r.endAt&&!function(c,f,p){const m=H0(c,f,p);return c.inclusive?m>=0:m>0}(r.endAt,lu(r),a))}(e,t)}function oC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gw(e){return(t,n)=>{let r=!1;for(const a of lu(e)){const l=lC(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function lC(e,t,n){const r=e.field.isKeyField()?kt.comparator(t.key,n.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Lo(p,m):Ut()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Re(kt.comparator);function Pr(){return uC}const yw=new Re(kt.comparator);function ru(...e){let t=yw;for(const n of e)t=t.insert(n.key,n);return t}function _w(e){let t=yw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ya(){return uu()}function vw(){return uu()}function uu(){return new xa(e=>e.toString(),(e,t)=>e.isEqual(t))}const cC=new Re(kt.comparator),hC=new $e(kt.comparator);function Zt(...e){let t=hC;for(const n of e)t=t.add(n);return t}const fC=new $e(te);function dC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(t)?"-0":t}}function Ew(e){return{integerValue:""+e}}function pC(e,t){return zI(t)?Ew(t):$m(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function mC(e,t,n){return e instanceof Ph?function(a,l){const c={fields:{[iw]:{stringValue:nw},[sw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Km(l)&&(l=nf(l)),l&&(c.fields[rw]=l),{mapValue:c}}(n,t):e instanceof Tu?ww(e,t):e instanceof wu?bw(e,t):function(a,l){const c=Tw(a,l),f=Y0(c)+Y0(a.Ie);return dm(c)&&dm(a.Ie)?Ew(f):$m(a.serializer,f)}(e,t)}function gC(e,t,n){return e instanceof Tu?ww(e,t):e instanceof wu?bw(e,t):n}function Tw(e,t){return e instanceof Lh?function(r){return dm(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Ph extends lf{}class Tu extends lf{constructor(t){super(),this.elements=t}}function ww(e,t){const n=Sw(t);for(const r of e.elements)n.some(a=>tr(a,r))||n.push(r);return{arrayValue:{values:n}}}class wu extends lf{constructor(t){super(),this.elements=t}}function bw(e,t){let n=Sw(t);for(const r of e.elements)n=n.filter(a=>!tr(a,r));return{arrayValue:{values:n}}}class Lh extends lf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Y0(e){return Pe(e.integerValue||e.doubleValue)}function Sw(e){return Qm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function yC(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Tu&&a instanceof Tu||r instanceof wu&&a instanceof wu?Po(r.elements,a.elements,tr):r instanceof Lh&&a instanceof Lh?tr(r.Ie,a.Ie):r instanceof Ph&&a instanceof Ph}(e.transform,t.transform)}class _C{constructor(t,n){this.version=t,this.transformResults=n}}class vi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Th(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class uf{}function Aw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Wm(e.key,vi.none()):new xu(e.key,e.data,vi.none());{const n=e.data,r=Pn.empty();let a=new $e(hn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Vs(e.key,r,new Wn(a.toArray()),vi.none())}}function vC(e,t,n){e instanceof xu?function(a,l,c){const f=a.value.clone(),p=$0(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Vs?function(a,l,c){if(!Th(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=$0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Rw(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function cu(e,t,n,r){return e instanceof xu?function(l,c,f,p){if(!Th(l.precondition,c))return f;const m=l.value.clone(),_=W0(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vs?function(l,c,f,p){if(!Th(l.precondition,c))return f;const m=W0(l.fieldTransforms,p,c),_=c.data;return _.setAll(Rw(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(e,t,n,r):function(l,c,f){return Th(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function EC(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=Tw(r.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,l))}return n||null}function X0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Po(r,a,(l,c)=>yC(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xu extends uf{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vs extends uf{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $0(e,t,n){const r=new Map;fe(e.length===n.length);for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,gC(c,f,n[a]))}return r}function W0(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,mC(l,c,t))}return r}class Wm extends uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&vC(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=cu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=cu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=vw();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const p=Aw(c,f);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Zt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,(n,r)=>X0(n,r))&&Po(this.baseMutations,t.baseMutations,(n,r)=>X0(n,r))}}class Zm{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){fe(t.mutations.length===r.length);let a=function(){return cC}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Zm(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,se;function AC(e){switch(e){case ft.OK:return Ut();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Ut()}}function Iw(e){if(e===void 0)return Ur("GRPC error has no .code"),ft.UNKNOWN;switch(e){case Fe.OK:return ft.OK;case Fe.CANCELLED:return ft.CANCELLED;case Fe.UNKNOWN:return ft.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return ft.INTERNAL;case Fe.UNAVAILABLE:return ft.UNAVAILABLE;case Fe.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Fe.NOT_FOUND:return ft.NOT_FOUND;case Fe.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Fe.ABORTED:return ft.ABORTED;case Fe.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Fe.DATA_LOSS:return ft.DATA_LOSS;default:return Ut()}}(se=Fe||(Fe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Cs([4294967295,4294967295],0);function Z0(e){const t=RC().encode(e),n=new GT;return n.update(t),new Uint8Array(n.digest())}function J0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Cs([n,r],0),new Cs([a,l],0)]}class Jm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Cs.fromNumber(this.Ee)}Ae(t,n,r){let a=t.add(n.multiply(Cs.fromNumber(r)));return a.compare(IC)===1&&(a=new Cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Z0(t),[r,a]=J0(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Jm(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.Ee===0)return;const n=Z0(t),[r,a]=J0(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,ku.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new cf(Bt.min(),a,new Re(te),Pr(),Zt())}}class ku{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ku(r,n,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,r,a){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=a}}class Cw{constructor(t,n){this.targetId=t,this.ge=n}}class xw{constructor(t,n,r=fn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class tE{constructor(){this.pe=0,this.ye=eE(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Zt(),n=Zt(),r=Zt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ut()}}),new ku(this.we,this.be,t,n,r)}Me(){this.Se=!1,this.ye=eE()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class CC{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Pr(),this.$e=ch(),this.Ke=ch(),this.Ue=new Re(te)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:Ut()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,r=t.ge.count,a=this.Xe(n);if(a){const l=a.target;if(mm(l))if(r===0){const c=new kt(l.path);this.ze(n,c,vn.newNoDocument(c,Bt.min()))}else fe(r===1);else{const c=this.et(n);if(c!==r){const f=this.tt(t),p=f?this.nt(f,t,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ns(r).toUint8Array()}catch(p){if(p instanceof ew)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Jm(c,a,l)}catch(p){return Uo(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&mm(f.target)){const p=new kt(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,t))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let r=Zt();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new cf(t,n,this.Ue,this.Qe,r);return this.Qe=Pr(),this.$e=ch(),this.Ke=ch(),this.Ue=new Re(te),a}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new tE,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new $e(te),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new $e(te),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||bt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new tE),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function ch(){return new Re(kt.comparator)}function eE(){return new Re(kt.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DC={and:"AND",or:"OR"};class OC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ym(e,t){return e.useProto3Json||ef(t)?t:{value:t}}function Vh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NC(e,t){return Vh(e,t.toTimestamp())}function Zi(e){return fe(!!e),Bt.fromTimestamp(function(n){const r=Os(n);return new Xe(r.seconds,r.nanos)}(e))}function tg(e,t){return _m(e,t).canonicalString()}function _m(e,t){const n=function(a){return new we(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Dw(e){const t=we.fromString(e);return fe(Pw(t)),t}function vm(e,t){return tg(e.databaseId,t.path)}function Vp(e,t){const n=Dw(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kt(Nw(n))}function Ow(e,t){return tg(e.databaseId,t)}function MC(e){const t=Dw(e);return t.length===4?we.emptyPath():Nw(t)}function Em(e){return new we(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nw(e){return fe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function nE(e,t,n){return{name:vm(e,t),fields:n.value.mapValue.fields}}function UC(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ut()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(fe(_===void 0||typeof _=="string"),fn.fromBase64String(_||"")):(fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),fn.fromUint8Array(_||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(m){const _=m.code===void 0?ft.UNKNOWN:Iw(m.code);return new Ct(_,m.message||"")}(c);n=new xw(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vp(e,r.document.name),l=Zi(r.document.updateTime),c=r.document.createTime?Zi(r.document.createTime):Bt.min(),f=new Pn({mapValue:{fields:r.document.fields}}),p=vn.newFoundDocument(a,l,c,f),m=r.targetIds||[],_=r.removedTargetIds||[];n=new wh(m,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Vp(e,r.document),l=r.readTime?Zi(r.readTime):Bt.min(),c=vn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new wh([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Vp(e,r.document),l=r.removedTargetIds||[];n=new wh([],l,a,null)}else{if(!("filter"in t))return Ut();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new SC(a,l),f=r.targetId;n=new Cw(f,c)}}return n}function PC(e,t){let n;if(t instanceof xu)n={update:nE(e,t.key,t.value)};else if(t instanceof Wm)n={delete:vm(e,t.key)};else if(t instanceof Vs)n={update:nE(e,t.key,t.data),updateMask:GC(t.fieldMask)};else{if(!(t instanceof TC))return Ut();n={verify:vm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Ph)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ut()}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:NC(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ut()}(e,t.precondition)),n}function LC(e,t){return e&&e.length>0?(fe(t!==void 0),e.map(n=>function(a,l){let c=a.updateTime?Zi(a.updateTime):Zi(l);return c.isEqual(Bt.min())&&(c=Zi(l)),new _C(c,a.transformResults||[])}(n,t))):[]}function VC(e,t){return{documents:[Ow(e,t.path)]}}function BC(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ow(e,a);const l=function(m){if(m.length!==0)return Uw(er.create(m,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(R){return{field:Ao(R.field),direction:jC(R.dir)}}(_))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ym(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:n,parent:a}}function zC(e){let t=MC(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){fe(r===1);const _=n.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];n.where&&(l=function(T){const R=Mw(T);return R instanceof er&&hw(R)?R.getFilters():[R]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(R=>function(V){return new Uh(Ro(V.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(n.orderBy));let f=null;n.limit&&(f=function(T){let R;return R=typeof T=="object"?T.value:T,ef(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(T){const R=!!T.before,S=T.values||[];return new Mh(S,R)}(n.startAt));let m=null;return n.endAt&&(m=function(T){const R=!T.before,S=T.values||[];return new Mh(S,R)}(n.endAt)),rC(t,a,c,l,f,"F",p,m)}function FC(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Mw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ro(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ro(n.unaryFilter.field);return Ye.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(n.unaryFilter.field);return Ye.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(n.unaryFilter.field);return Ye.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(e):e.fieldFilter!==void 0?function(n){return Ye.create(Ro(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>Mw(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ut()}}(n.compositeFilter.op))}(e):Ut()}function jC(e){return xC[e]}function qC(e){return kC[e]}function HC(e){return DC[e]}function Ao(e){return{fieldPath:e.canonicalString()}}function Ro(e){return hn.fromServerFormat(e.fieldPath)}function Uw(e){return e instanceof Ye?function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:qC(n.op),value:n.value}}}(e):e instanceof er?function(n){const r=n.getFilters().map(a=>Uw(a));return r.length===1?r[0]:{compositeFilter:{op:HC(n.op),filters:r}}}(e):Ut()}function GC(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Pw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,n,r,a,l=Bt.min(),c=Bt.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new As(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.Tt=t}}function QC(e){const t=zC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?gm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Tn=new XC}addToCollectionParentIndex(t,n){return this.Tn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(Ds.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(Ds.min())}updateCollectionGroup(t,n,r){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class XC{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new $e(we.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new $e(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lw=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Lw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Bo(0)}static Un(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="LruGarbageCollector",$C=1048576;function sE([e,t],[n,r]){const a=te(e,n);return a===0?te(t,r):a}class WC{constructor(t){this.Hn=t,this.buffer=new $e(sE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){bt(rE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?bt(rE,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.er(3e5)})}}class JC{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(tf.ae);const r=new WC(n);return this.tr.forEachTarget(t,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(iE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,a,l,c,f,p,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,f=Date.now(),this.removeTargets(t,r,n))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(m=Date.now(),bo()<=Wt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function tx(e,t){return new JC(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.changes=new xa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?lt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&cu(r.mutation,a,Wn.empty(),Xe.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Zt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Zt()){const a=ya();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=ru();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=ya();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Zt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=Pr();const c=uu(),f=function(){return uu()}();return n.forEach((p,m)=>{const _=r.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof Vs)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),cu(_.mutation,m,_.mutation.getFieldMask(),Xe.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),n.forEach((m,_)=>{var T;return f.set(m,new nx(_,(T=c.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(t,n){const r=uu();let a=new Re((c,f)=>c-f),l=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let _=r.get(p)||Wn.empty();_=f.applyToLocalView(m,_),r.set(p,_);const T=(a.get(f.batchId)||Zt()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,_=p.value,T=vw();_.forEach(R=>{if(!l.has(R)){const S=Aw(n.get(R),r.get(R));S!==null&&T.set(R,S),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,T))}return lt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return kt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):sC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):lt.resolve(ya());let f=yu,p=l;return c.next(m=>lt.forEach(m,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?lt.resolve():this.remoteDocumentCache.getEntry(t,_).next(R=>{p=p.insert(_,R)}))).next(()=>this.populateOverlays(t,m,l)).next(()=>this.computeViews(t,p,m,Zt())).next(_=>({batchId:f,changes:_w(_)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new kt(n)).next(r=>{let a=ru();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(t,l).next(f=>lt.forEach(f,p=>{const m=function(T,R){return new rf(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,r,a).next(_=>{_.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,vn.newInvalidDocument(_)))});let f=ru();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&cu(_.mutation,m,Wn.empty(),Xe.now()),of(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return lt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}}(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:QC(a.bundledQuery),readTime:Zi(a.readTime)}}(n)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.overlays=new Re(kt.comparator),this.Rr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ya();return lt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.Et(t,n,l)}),lt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),lt.resolve()}getOverlaysForCollection(t,n,r){const a=ya(),l=n.length+1,c=new kt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return lt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new Re((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let _=l.get(m.largestBatchId);_===null&&(_=ya(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=ya(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=a)););return lt.resolve(f)}Et(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bC(n,r));let l=this.Rr.get(n);l===void 0&&(l=Zt(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Vr=new $e(sn.mr),this.gr=new $e(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new sn(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new sn(t,n))}br(t,n){t.forEach(r=>this.removeReference(r,n))}Sr(t){const n=new kt(new we([])),r=new sn(n,t),a=new sn(n,t+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new kt(new we([])),r=new sn(n,t),a=new sn(n,t+1);let l=Zt();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new sn(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class sn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return kt.comparator(t.key,n.key)||te(t.Cr,n.Cr)}static pr(t,n){return te(t.Cr,n.Cr)||kt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $e(sn.mr)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wC(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return lt.resolve(c)}lookupMutationBatch(t,n){return lt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return lt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Gm:this.Fr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const f=this.Or(c.Cr);l.push(f)}),lt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $e(te);return n.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{r=r.add(f.Cr)})}),lt.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;kt.isDocumentKey(l)||(l=l.child(""));const c=new sn(new kt(l),0);let f=new $e(te);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),lt.resolve(this.Br(f))}Br(t){const n=[];return t.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return lt.forEach(n.mutations,a=>{const l=new sn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new sn(n,0),a=this.Mr.firstAfterOrEqual(r);return lt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.kr=t,this.docs=function(){return new Re(kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return lt.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(t,n){let r=Pr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),lt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Pr();const c=n.path,f=new kt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||PI(UI(_),r)<=0||(a.has(_.key)||of(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return lt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Ut()}qr(t,n){return lt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new ux(this)}getSize(t){return lt.resolve(this.size)}}class ux extends ex{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(r)}),lt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t){this.persistence=t,this.Qr=new xa(n=>Ym(n),Xm),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new eg,this.targetCount=0,this.Ur=Bo.Kn()}forEachTarget(t,n){return this.Qr.forEach((r,a)=>n(a)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),lt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Bo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.zn(n),lt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),lt.waitFor(l).next(()=>a)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return lt.resolve(r)}addMatchingKeys(t,n,r){return this.Kr.yr(n,r),lt.resolve()}removeMatchingKeys(t,n,r){this.Kr.br(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),lt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Kr.vr(n);return lt.resolve(r)}containsKey(t,n){return lt.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new tf(0),this.zr=!1,this.zr=!0,this.jr=new ax,this.referenceDelegate=t(this),this.Hr=new cx(this),this.indexManager=new YC,this.remoteDocumentCache=function(a){return new lx(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new KC(n),this.Yr=new rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new ox(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){bt("MemoryPersistence","Starting transaction:",t);const a=new hx(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,n){return lt.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class hx extends VI{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.ti=new eg,this.ni=null}static ri(t){return new ng(t)}get ii(){if(this.ni)return this.ni;throw Ut()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),lt.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),lt.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.ii,r=>{const a=kt.fromPath(r);return this.si(t,a).next(l=>{l||n.removeEntry(a,Bt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return lt.or([()=>lt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Bh{constructor(t,n){this.persistence=t,this.oi=new xa(r=>FI(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=tx(this,n)}static ri(t,n){return new Bh(t,n)}Zr(){}Xr(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return lt.forEach(this.oi,(r,a)=>this.ar(t,r,a).next(l=>l?lt.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,n).next(f=>{f||(r++,l.removeEntry(c,Bt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),lt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vh(t.data.value)),n}ar(t,n,r){return lt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return lt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(t,n){let r=Zt(),a=Zt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ig(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lR()?8:BI(En())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new fx;return this._s(t,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(t,n,c,f.size)})}).next(()=>l.result)}us(t,n,r,a){return r.documentReadCount<this.es?(bo()<=Wt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),lt.resolve()):(bo()<=Wt.DEBUG&&bt("QueryEngine","Query:",So(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(bo()<=Wt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wi(n))):lt.resolve())}rs(t,n){if(Q0(n))return lt.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=gm(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Zt(...l);return this.ns.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(p=>{const m=this.cs(n,f);return this.ls(n,m,c,p.readTime)?this.rs(t,gm(n,null,"F")):this.hs(t,m,n,p)}))})))}ss(t,n,r,a){return Q0(n)||a.isEqual(Bt.min())?lt.resolve(null):this.ns.getDocuments(t,r).next(l=>{const c=this.cs(n,l);return this.ls(n,c,r,a)?lt.resolve(null):(bo()<=Wt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),So(n)),this.hs(t,c,n,MI(a,yu)).next(f=>f))})}cs(t,n){let r=new $e(gw(t));return n.forEach((a,l)=>{of(t,l)&&(r=r.add(l))}),r}ls(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,n,r){return bo()<=Wt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",So(n)),this.ns.getDocumentsMatchingQuery(t,n,Ds.min(),r)}hs(t,n,r,a){return this.ns.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",px=3e8;class mx{constructor(t,n,r,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new Re(te),this.Is=new xa(l=>Ym(l),Xm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ix(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function gx(e,t,n,r){return new mx(e,t,n,r)}async function Bw(e,t){const n=Ft(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let p=Zt();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(r,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function yx(e,t){const n=Ft(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,_){const T=m.batch,R=T.keys();let S=lt.resolve();return R.forEach(V=>{S=S.next(()=>_.getEntry(p,V)).next(B=>{const q=m.docVersions.get(V);fe(q!==null),B.version.compareTo(q)<0&&(T.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),_.addEntry(B)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=Zt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function zw(e){const t=Ft(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function _x(e,t){const n=Ft(e),r=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];t.targetChanges.forEach((_,T)=>{const R=a.get(T);if(!R)return;f.push(n.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(l,_.addedDocuments,T)));let S=R.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),a=a.insert(T,S),function(B,q,K){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=px?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,S,_)&&f.push(n.Hr.updateTargetData(l,S))});let p=Pr(),m=Zt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(vx(l,c,t.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!r.isEqual(Bt.min())){const _=n.Hr.getLastRemoteSnapshotVersion(l).next(T=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(_)}return lt.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function vx(e,t,n){let r=Zt(),a=Zt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Pr();return n.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Bt.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):bt(rg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function Ex(e,t){const n=Ft(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Tx(e,t){const n=Ft(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,t).next(l=>l?(a=l,lt.resolve(a)):n.Hr.allocateTargetId(r).next(c=>(a=new As(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function Tm(e,t,n){const r=Ft(e),a=r.Ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Go(c))throw c;bt(rg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function aE(e,t,n){const r=Ft(e);let a=Bt.min(),l=Zt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const T=Ft(p),R=T.Is.get(_);return R!==void 0?lt.resolve(T.Ts.get(R)):T.Hr.getTargetData(m,_)}(r,c,Wi(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,n?a:Bt.min(),n?l:Zt())).next(f=>(wx(r,oC(t),f),{documents:f,gs:l})))}function wx(e,t,n){let r=e.Es.get(t)||Bt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Es.set(t,r)}class oE{constructor(){this.activeTargetIds=dC()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bx{constructor(){this.ho=new oE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new oE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class uE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bt(lE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){bt(lE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function wm(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",Ax={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rx{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(t,n,r,a,l){const c=wm(),f=this.So(t,n.toUriEncodedString());bt(Bp,`Sending RPC '${t}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(t,f,p,r).then(m=>(bt(Bp,`Received RPC '${t}' ${c}: `,m),m),m=>{throw Uo(Bp,`RPC '${t}' ${c} failed with error: `,m,"url: ",f,"request:",r),m})}Co(t,n,r,a,l,c){return this.bo(t,n,r,a,l)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}So(t,n){const r=Ax[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class Cx extends Rx{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,a){const l=wm();return new Promise((c,f)=>{const p=new KT;p.setWithCredentials(!0),p.listenOnce(QT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const _=p.getResponseJson();bt(yn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),c(_);break;case _h.TIMEOUT:bt(yn,`RPC '${t}' ${l} timed out`),f(new Ct(ft.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const T=p.getStatus();if(bt(yn,`RPC '${t}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const S=R==null?void 0:R.error;if(S&&S.status&&S.message){const V=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(K)>=0?K:ft.UNKNOWN}(S.status);f(new Ct(V,S.message))}else f(new Ct(ft.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ct(ft.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{bt(yn,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(a);bt(yn,`RPC '${t}' ${l} sending request:`,a),p.send(n,"POST",m,r,15)})}Wo(t,n,r){const a=wm(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=$T(),f=XT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const _=l.join("");bt(yn,`Creating RPC '${t}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);let R=!1,S=!1;const V=new Ix({Fo:q=>{S?bt(yn,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(R||(bt(yn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),R=!0),bt(yn,`RPC '${t}' stream ${a} sending:`,q),T.send(q))},Mo:()=>T.close()}),B=(q,K,nt)=>{q.listen(K,J=>{try{nt(J)}catch(ct){setTimeout(()=>{throw ct},0)}})};return B(T,iu.EventType.OPEN,()=>{S||(bt(yn,`RPC '${t}' stream ${a} transport opened.`),V.Qo())}),B(T,iu.EventType.CLOSE,()=>{S||(S=!0,bt(yn,`RPC '${t}' stream ${a} transport closed`),V.Ko())}),B(T,iu.EventType.ERROR,q=>{S||(S=!0,Uo(yn,`RPC '${t}' stream ${a} transport errored:`,q),V.Ko(new Ct(ft.UNAVAILABLE,"The operation could not be completed")))}),B(T,iu.EventType.MESSAGE,q=>{var K;if(!S){const nt=q.data[0];fe(!!nt);const J=nt,ct=(J==null?void 0:J.error)||((K=J[0])===null||K===void 0?void 0:K.error);if(ct){bt(yn,`RPC '${t}' stream ${a} received error:`,ct);const ut=ct.status;let W=function(k){const U=Fe[k];if(U!==void 0)return Iw(U)}(ut),z=ct.message;W===void 0&&(W=ft.INTERNAL,z="Unknown error status: "+ut+" with message "+ct.message),S=!0,V.Ko(new Ct(W,z)),T.close()}else bt(yn,`RPC '${t}' stream ${a} received:`,nt),V.Uo(nt)}}),B(f,YT.STAT_EVENT,q=>{q.stat===hm.PROXY?bt(yn,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===hm.NOPROXY&&bt(yn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e){return new OC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&bt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class jw{constructor(t,n,r,a,l,c,f,p){this.Ti=t,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Fw(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{t(()=>{const a=new Ct(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return bt(cE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(bt(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xx extends jw{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=UC(this.serializer,t),r=function(l){if(!("targetChange"in l))return Bt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Bt.min():c.readTime?Zi(c.readTime):Bt.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=Em(this.serializer),n.addTarget=function(l,c){let f;const p=c.target;if(f=mm(p)?{documents:VC(l,p)}:{query:BC(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=kw(l,c.resumeToken);const m=ym(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Bt.min())>0){f.readTime=Vh(l,c.snapshotVersion.toTimestamp());const m=ym(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,t);const r=FC(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=Em(this.serializer),n.removeTarget=t,this.I_(n)}}class kx extends jw{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return fe(!!t.streamToken),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=LC(t.writeResults,t.commitTime),r=Zi(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=Em(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>PC(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{}class Ox extends Dx{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(t,_m(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ft.UNKNOWN,l.toString())})}Co(t,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(t,_m(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(ft.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Nx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ur(n),this.N_=!1):bt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class Mx{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{ka(this)&&(bt(Sa,"Restarting streams for network reachability change."),await async function(p){const m=Ft(p);m.W_.add(4),await Du(m),m.j_.set("Unknown"),m.W_.delete(4),await ff(m)}(this))})}),this.j_=new Nx(r,a)}}async function ff(e){if(ka(e))for(const t of e.G_)await t(!0)}async function Du(e){for(const t of e.G_)await t(!1)}function qw(e,t){const n=Ft(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),lg(n)?og(n):Ko(n).c_()&&ag(n,t))}function sg(e,t){const n=Ft(e),r=Ko(n);n.U_.delete(t),r.c_()&&Hw(n,t),n.U_.size===0&&(r.c_()?r.P_():ka(n)&&n.j_.set("Unknown"))}function ag(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ko(e).y_(t)}function Hw(e,t){e.H_.Ne(t),Ko(e).w_(t)}function og(e){e.H_=new CC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Ko(e).start(),e.j_.B_()}function lg(e){return ka(e)&&!Ko(e).u_()&&e.U_.size>0}function ka(e){return Ft(e).W_.size===0}function Gw(e){e.H_=void 0}async function Ux(e){e.j_.set("Online")}async function Px(e){e.U_.forEach((t,n)=>{ag(e,t)})}async function Lx(e,t){Gw(e),lg(e)?(e.j_.q_(t),og(e)):e.j_.set("Unknown")}async function Vx(e,t,n){if(e.j_.set("Online"),t instanceof xw&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(e,t)}catch(r){bt(Sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zh(e,r)}else if(t instanceof wh?e.H_.We(t):t instanceof Cw?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Bt.min()))try{const r=await zw(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(fn.EMPTY_BYTE_STRING,_.snapshotVersion)),Hw(l,p);const T=new As(_.target,p,m,_.sequenceNumber);ag(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){bt(Sa,"Failed to raise snapshot:",r),await zh(e,r)}}async function zh(e,t,n){if(!Go(t))throw t;e.W_.add(1),await Du(e),e.j_.set("Offline"),n||(n=()=>zw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{bt(Sa,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await ff(e)})}function Kw(e,t){return t().catch(n=>zh(e,n,t))}async function df(e){const t=Ft(e),n=Us(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Gm;for(;Bx(t);)try{const a=await Ex(t.localStore,r);if(a===null){t.K_.length===0&&n.P_();break}r=a.batchId,zx(t,a)}catch(a){await zh(t,a)}Qw(t)&&Yw(t)}function Bx(e){return ka(e)&&e.K_.length<10}function zx(e,t){e.K_.push(t);const n=Us(e);n.c_()&&n.b_&&n.S_(t.mutations)}function Qw(e){return ka(e)&&!Us(e).u_()&&e.K_.length>0}function Yw(e){Us(e).start()}async function Fx(e){Us(e).C_()}async function jx(e){const t=Us(e);for(const n of e.K_)t.S_(n.mutations)}async function qx(e,t,n){const r=e.K_.shift(),a=Zm.from(r,t,n);await Kw(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await df(e)}async function Hx(e,t){t&&Us(e).b_&&await async function(r,a){if(function(c){return AC(c)&&c!==ft.ABORTED}(a.code)){const l=r.K_.shift();Us(r).h_(),await Kw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await df(r)}}(e,t),Qw(e)&&Yw(e)}async function hE(e,t){const n=Ft(e);n.asyncQueue.verifyOperationInProgress(),bt(Sa,"RemoteStore received new credentials");const r=ka(n);n.W_.add(3),await Du(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await ff(n)}async function Gx(e,t){const n=Ft(e);t?(n.W_.delete(2),await ff(n)):t||(n.W_.add(2),await Du(n),n.j_.set("Unknown"))}function Ko(e){return e.J_||(e.J_=function(n,r,a){const l=Ft(n);return l.M_(),new xx(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:Ux.bind(null,e),No:Px.bind(null,e),Lo:Lx.bind(null,e),p_:Vx.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),lg(e)?og(e):e.j_.set("Unknown")):(await e.J_.stop(),Gw(e))})),e.J_}function Us(e){return e.Y_||(e.Y_=function(n,r,a){const l=Ft(n);return l.M_(),new kx(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Fx.bind(null,e),Lo:Hx.bind(null,e),D_:jx.bind(null,e),v_:qx.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await df(e)):(await e.Y_.stop(),e.K_.length>0&&(bt(Sa,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new ug(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(e,t){if(Ur("AsyncQueue",`${t}: ${e}`),Go(e))return new Ct(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||kt.comparator(n.key,r.key):(n,r)=>kt.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.Z_=new Re(kt.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Ut():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class zo{constructor(t,n,r,a,l,c,f,p,m){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new zo(t,n,Co.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&af(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Qx{constructor(){this.queries=dE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=Ft(n),l=a.queries;a.queries=dE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(r)})})(this,new Ct(ft.ABORTED,"Firestore shutting down"))}}function dE(){return new xa(e=>mw(e),af)}async function hg(e,t){const n=Ft(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.na()&&t.ra()&&(r=2):(l=new Kx,r=t.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=cg(c,`Initialization of query '${So(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.ta.push(t),t.sa(n.onlineState),l.ea&&t.oa(l.ea)&&dg(n)}async function fg(e,t){const n=Ft(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yx(e,t){const n=Ft(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(r=!0);c.ea=a}}r&&dg(n)}function Xx(e,t,n){const r=Ft(e),a=r.queries.get(t);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(t)}function dg(e){e.ia.forEach(t=>{t.next()})}var bm,pE;(pE=bm||(bm={}))._a="default",pE.Cache="cache";class pg{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new zo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.key=t}}class $w{constructor(t){this.key=t}}class $x{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Zt(),this.mutatedKeys=Zt(),this.ya=gw(t),this.wa=new Co(this.ya)}get ba(){return this.fa}Sa(t,n){const r=n?n.Da:new fE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((_,T)=>{const R=a.get(_),S=of(this.query,T)?T:null,V=!!R&&this.mutatedKeys.has(R.key),B=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let q=!1;R&&S?R.data.isEqual(S.data)?V!==B&&(r.track({type:3,doc:S}),q=!0):this.va(R,S)||(r.track({type:2,doc:S}),q=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(f=!0)):!R&&S?(r.track({type:0,doc:S}),q=!0):R&&!S&&(r.track({type:1,doc:R}),q=!0,(p||m)&&(f=!0)),q&&(S?(c=c.add(S),l=B?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:c,Da:r,ls:f,mutatedKeys:l}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((_,T)=>function(S,V){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return B(S)-B(V)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(r),a=a!=null&&a;const f=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new zo(this.query,t.wa,l,c,t.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Zt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new $w(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new Xw(r))}),n}Oa(t){this.fa=t.gs,this.pa=Zt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return zo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const mg="SyncEngine";class Wx{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Zx{constructor(t){this.key=t,this.Ba=!1}}class Jx{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new xa(f=>mw(f),af),this.qa=new Map,this.Qa=new Set,this.$a=new Re(kt.comparator),this.Ka=new Map,this.Ua=new eg,this.Wa={},this.Ga=new Map,this.za=Bo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tk(e,t,n=!0){const r=nb(e);let a;const l=r.ka.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Ww(r,t,n,!0),a}async function ek(e,t){const n=nb(e);await Ww(n,t,!0,!1)}async function Ww(e,t,n,r){const a=await Tx(e.localStore,Wi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await nk(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&qw(e.remoteStore,a),f}async function nk(e,t,n,r,a){e.Ha=(T,R,S)=>async function(B,q,K,nt){let J=q.view.Sa(K);J.ls&&(J=await aE(B.localStore,q.query,!1).then(({documents:z})=>q.view.Sa(z,J)));const ct=nt&&nt.targetChanges.get(q.targetId),ut=nt&&nt.targetMismatches.get(q.targetId)!=null,W=q.view.applyChanges(J,B.isPrimaryClient,ct,ut);return gE(B,q.targetId,W.Ma),W.snapshot}(e,T,R,S);const l=await aE(e.localStore,t,!0),c=new $x(t,l.gs),f=c.Sa(l.documents),p=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),m=c.applyChanges(f,e.isPrimaryClient,p);gE(e,n,m.Ma);const _=new Wx(t,n,c);return e.ka.set(t,_),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),m.snapshot}async function ik(e,t,n){const r=Ft(e),a=r.ka.get(t),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!af(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Tm(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&sg(r.remoteStore,a.targetId),Sm(r,a.targetId)}).catch(Ho)):(Sm(r,a.targetId),await Tm(r.localStore,a.targetId,!0))}async function rk(e,t){const n=Ft(e),r=n.ka.get(t),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sg(n.remoteStore,r.targetId))}async function sk(e,t,n){const r=fk(e);try{const a=await function(c,f){const p=Ft(c),m=Xe.now(),_=f.reduce((S,V)=>S.add(V.key),Zt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let V=Pr(),B=Zt();return p.ds.getEntries(S,_).next(q=>{V=q,V.forEach((K,nt)=>{nt.isValidDocument()||(B=B.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,V)).next(q=>{T=q;const K=[];for(const nt of f){const J=EC(nt,T.get(nt.key).overlayedDocument);J!=null&&K.push(new Vs(nt.key,J,lw(J.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,K,f)}).next(q=>{R=q;const K=q.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(S,q.batchId,K)})}).then(()=>({batchId:R.batchId,changes:_w(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Re(te)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(r,a.batchId,n),await Ou(r,a.changes),await df(r.remoteStore)}catch(a){const l=cg(a,"Failed to persist write");n.reject(l)}}async function Zw(e,t){const n=Ft(e);try{const r=await _x(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?fe(c.Ba):a.removedDocuments.size>0&&(fe(c.Ba),c.Ba=!1))}),await Ou(n,r,t)}catch(r){await Ho(r)}}function mE(e,t,n){const r=Ft(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,c)=>{const f=c.view.sa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Ft(c);p.onlineState=f;let m=!1;p.queries.forEach((_,T)=>{for(const R of T.ta)R.sa(f)&&(m=!0)}),m&&dg(p)}(r.eventManager,t),a.length&&r.La.p_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ak(e,t,n){const r=Ft(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Ka.get(t),l=a&&a.key;if(l){let c=new Re(kt.comparator);c=c.insert(l,vn.newNoDocument(l,Bt.min()));const f=Zt().add(l),p=new cf(Bt.min(),new Map,new Re(te),c,f);await Zw(r,p),r.$a=r.$a.remove(l),r.Ka.delete(t),gg(r)}else await Tm(r.localStore,t,!1).then(()=>Sm(r,t,n)).catch(Ho)}async function ok(e,t){const n=Ft(e),r=t.batch.batchId;try{const a=await yx(n.localStore,t);tb(n,r,null),Jw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(n,a)}catch(a){await Ho(a)}}async function lk(e,t,n){const r=Ft(e);try{const a=await function(c,f){const p=Ft(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,f).next(T=>(fe(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(r.localStore,t);tb(r,t,n),Jw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ou(r,a)}catch(a){await Ho(a)}}function Jw(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function tb(e,t,n){const r=Ft(e);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function Sm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach(r=>{e.Ua.containsKey(r)||eb(e,r)})}function eb(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(sg(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),gg(e))}function gE(e,t,n){for(const r of n)r instanceof Xw?(e.Ua.addReference(r.key,t),uk(e,r)):r instanceof $w?(bt(mg,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||eb(e,r.key)):Ut()}function uk(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(bt(mg,"New document in limbo: "+n),e.Qa.add(r),gg(e))}function gg(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new kt(we.fromString(t)),r=e.za.next();e.Ka.set(r,new Zx(n)),e.$a=e.$a.insert(n,r),qw(e.remoteStore,new As(Wi(sf(n.path)),r,"TargetPurposeLimboResolution",tf.ae))}}async function Ou(e,t,n){const r=Ft(e),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((f,p)=>{c.push(r.Ha(p,t,n).then(m=>{var _;if((m||n)&&r.isPrimaryClient){const T=m?!m.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=ig.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(c),r.La.p_(a),await async function(p,m){const _=Ft(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>lt.forEach(m,R=>lt.forEach(R.Hi,S=>_.persistence.referenceDelegate.addReference(T,R.targetId,S)).next(()=>lt.forEach(R.Ji,S=>_.persistence.referenceDelegate.removeReference(T,R.targetId,S)))))}catch(T){if(!Go(T))throw T;bt(rg,"Failed to update sequence numbers: "+T)}for(const T of m){const R=T.targetId;if(!T.fromCache){const S=_.Ts.get(R),V=S.snapshotVersion,B=S.withLastLimboFreeSnapshotVersion(V);_.Ts=_.Ts.insert(R,B)}}}(r.localStore,l))}async function ck(e,t){const n=Ft(e);if(!n.currentUser.isEqual(t)){bt(mg,"User change. New user:",t.toKey());const r=await Bw(n.localStore,t);n.currentUser=t,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ct(ft.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ou(n,r.Rs)}}function hk(e,t){const n=Ft(e),r=n.Ka.get(t);if(r&&r.Ba)return Zt().add(r.key);{let a=Zt();const l=n.qa.get(t);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function nb(e){const t=Ft(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ak.bind(null,t),t.La.p_=Yx.bind(null,t.eventManager),t.La.Ja=Xx.bind(null,t.eventManager),t}function fk(e){const t=Ft(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ok.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lk.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return gx(this.persistence,new dx,t.initialUser,this.serializer)}Xa(t){return new Vw(ng.ri,this.serializer)}Za(t){return new bx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class dk extends Fh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){fe(this.persistence.referenceDelegate instanceof Bh);const r=this.persistence.referenceDelegate.garbageCollector;return new ZC(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Vw(r=>Bh.ri(r,n),this.serializer)}}class Am{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ck.bind(null,this.syncEngine),await Gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Qx}()}createDatastore(t){const n=hf(t.databaseInfo.databaseId),r=function(l){return new Cx(l)}(t.databaseInfo);return function(l,c,f,p){return new Ox(l,c,f,p)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new Mx(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>mE(this.syncEngine,n,0),function(){return uE.D()?new uE:new Sx}())}createSyncEngine(t,n){return function(a,l,c,f,p,m,_){const T=new Jx(a,l,c,f,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=Ft(a);bt(Sa,"RemoteStore shutting down."),l.W_.add(5),await Du(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Am.provider={build:()=>new Am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ur("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class pk{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=ZT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{bt(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(bt(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=cg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Fp(e,t){e.asyncQueue.verifyOperationInProgress(),bt(Ps,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Bw(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function yE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mk(e);bt(Ps,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>hE(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>hE(t.remoteStore,a)),e._onlineComponents=t}async function mk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){bt(Ps,"Using user provided OfflineComponentProvider");try{await Fp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===ft.FAILED_PRECONDITION||a.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Fp(e,new Fh)}}else bt(Ps,"Using default OfflineComponentProvider"),await Fp(e,new dk(void 0));return e._offlineComponents}async function ib(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(bt(Ps,"Using user provided OnlineComponentProvider"),await yE(e,e._uninitializedComponentsProvider._online)):(bt(Ps,"Using default OnlineComponentProvider"),await yE(e,new Am))),e._onlineComponents}function gk(e){return ib(e).then(t=>t.syncEngine)}async function jh(e){const t=await ib(e),n=t.eventManager;return n.onListen=tk.bind(null,t.syncEngine),n.onUnlisten=ik.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ek.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rk.bind(null,t.syncEngine),n}function yk(e,t,n={}){const r=new Or;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new yg({next:R=>{_.su(),c.enqueueAndForget(()=>fg(l,T));const S=R.docs.has(f);!S&&R.fromCache?m.reject(new Ct(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&R.fromCache&&p&&p.source==="server"?m.reject(new Ct(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new pg(sf(f.path),_,{includeMetadataChanges:!0,Ta:!0});return hg(l,T)}(await jh(e),e.asyncQueue,t,n,r)),r.promise}function _k(e,t,n={}){const r=new Or;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new yg({next:R=>{_.su(),c.enqueueAndForget(()=>fg(l,T)),R.fromCache&&p.source==="server"?m.reject(new Ct(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new pg(f,_,{includeMetadataChanges:!0,Ta:!0});return hg(l,T)}(await jh(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(e,t,n){if(!n)throw new Ct(ft.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vk(e,t,n,r){if(t===!0&&r===!0)throw new Ct(ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function vE(e){if(!kt.isDocumentKey(e))throw new Ct(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function EE(e){if(kt.isDocumentKey(e))throw new Ct(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _g(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut()}function Ln(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_g(e);throw new Ct(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="firestore.googleapis.com",TE=!0;class wE{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ab,this.ssl=TE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:TE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$C)throw new Ct(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pf{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RI;switch(r.type){case"firstParty":return new kI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(bt("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function Ek(e,t,n,r={}){var a;const l=(e=Ln(e,pf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),f=`${t}:${n}`;l.host!==ab&&l.host!==f&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!Ta(p,c)&&(e._setSettings(p),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=_n.MOCK_USER;else{m=BT(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ct(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(T)}e._authCredentials=new II(new WT(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Nu(this.firestore,t,this._query)}}class Cn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class xs extends Nu{constructor(t,n,r){super(t,n,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new kt(t))}withConverter(t){return new xs(this.firestore,t,this._path)}}function mf(e,t,...n){if(e=Le(e),sb("collection","path",t),e instanceof pf){const r=we.fromString(t,...n);return EE(r),new xs(e,null,r)}{if(!(e instanceof Cn||e instanceof xs))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(we.fromString(t,...n));return EE(r),new xs(e.firestore,null,r)}}function bu(e,t,...n){if(e=Le(e),arguments.length===1&&(t=ZT.newId()),sb("doc","path",t),e instanceof pf){const r=we.fromString(t,...n);return vE(r),new Cn(e,null,new kt(r))}{if(!(e instanceof Cn||e instanceof xs))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(we.fromString(t,...n));return vE(r),new Cn(e.firestore,e instanceof xs?e.converter:null,new kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Fw(this,"async_queue_retry"),this.bu=()=>{const r=zp();r&&bt(bE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=t;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Or;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Go(t))throw t;bt(bE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=ug.createAndSchedule(this,t,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ut()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function AE(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(e,["next","error","complete"])}class Lr extends pf{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new SE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function Tk(e,t){const n=typeof e=="object"?e:qm(),r=typeof e=="string"?e:Oh,a=Jh(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=PT("firestore");l&&Ek(a,...l)}return a}function gf(e){if(e._terminated)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wk(e),e._firestoreClient}function wk(e){var t,n,r;const a=e._freezeSettings(),l=function(f,p,m,_){return new HI(f,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,rb(_.experimentalLongPollingOptions),_.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new pk(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fo(fn.fromBase64String(t))}catch(n){throw new Ct(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fo(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^__.*__$/;class Sk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new xu(t,this.data,n,this.fieldTransforms)}}class ob{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class wg{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new wg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.$u(t),a}Ku(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(lb(this.Lu)&&bk.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ak{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hf(t)}ju(t,n,r,a=!1){return new wg({Lu:t,methodName:n,zu:r,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(e){const t=e._freezeSettings(),n=hf(e._databaseId);return new Ak(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ub(e,t,n,r,a,l={}){const c=e.ju(l.merge||l.mergeFields?2:0,t,n,a);Sg("Data must be an object, but it was:",c,r);const f=cb(r,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const R=Rm(t,T,n);if(!c.contains(R))throw new Ct(ft.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fb(_,R)||_.push(R)}p=new Wn(_),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new Sk(new Pn(f),p,m)}class _f extends vg{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _f}}function Rk(e,t,n,r){const a=e.ju(1,t,n);Sg("Data must be an object, but it was:",a,r);const l=[],c=Pn.empty();Ls(r,(p,m)=>{const _=Ag(t,p,n);m=Le(m);const T=a.Ku(_);if(m instanceof _f)l.push(_);else{const R=vf(m,T);R!=null&&(l.push(_),c.set(_,R))}});const f=new Wn(l);return new ob(c,f,a.fieldTransforms)}function Ik(e,t,n,r,a,l){const c=e.ju(1,t,n),f=[Rm(t,r,n)],p=[a];if(l.length%2!=0)throw new Ct(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(Rm(t,l[R])),p.push(l[R+1]);const m=[],_=Pn.empty();for(let R=f.length-1;R>=0;--R)if(!fb(m,f[R])){const S=f[R];let V=p[R];V=Le(V);const B=c.Ku(S);if(V instanceof _f)m.push(S);else{const q=vf(V,B);q!=null&&(m.push(S),_.set(S,q))}}const T=new Wn(m);return new ob(_,T,c.fieldTransforms)}function vf(e,t){if(hb(e=Le(e)))return Sg("Unsupported field value:",t,e),cb(e,t);if(e instanceof vg)return function(r,a){if(!lb(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let p=vf(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pC(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Xe.fromDate(r);return{timestampValue:Vh(a.serializer,l)}}if(r instanceof Xe){const l=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(a.serializer,l)}}if(r instanceof Eg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:kw(a.serializer,r._byteString)};if(r instanceof Cn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Tg)return function(c,f){return{mapValue:{fields:{[aw]:{stringValue:ow},[Nh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return $m(f.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${_g(r)}`)}(e,t)}function cb(e,t){const n={};return tw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(e,(r,a)=>{const l=vf(a,t.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function hb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xe||e instanceof Eg||e instanceof Fo||e instanceof Cn||e instanceof vg||e instanceof Tg)}function Sg(e,t,n){if(!hb(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=_g(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Rm(e,t,n){if((t=Le(t))instanceof yf)return t._internalPath;if(typeof t=="string")return Ag(e,t);throw qh("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ck=new RegExp("[~\\*/\\[\\]]");function Ag(e,t,n){if(t.search(Ck)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yf(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qh(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new Ct(ft.INVALID_ARGUMENT,f+e+p)}function fb(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(pb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xk extends db{data(){return super.data()}}function pb(e,t){return typeof t=="string"?Ag(e,t):t instanceof yf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ct(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kk{convertValue(t,n="none"){switch(Ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ls(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Nh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Pe(c.doubleValue));return new Tg(l)}convertGeoPoint(t){return new Eg(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=nf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_u(t));default:return null}}convertTimestamp(t){const n=Os(t);return new Xe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=we.fromString(t);fe(Pw(r));const a=new vu(r.get(1),r.get(3)),l=new kt(r.popFirst(5));return a.isEqual(n)||Ur(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yb extends db{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(pb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bh extends yb{data(t={}){return super.data(t)}}class _b{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new au(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new bh(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new bh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new bh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:Dk(f.type),doc:p,oldIndex:m,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(e){e=Ln(e,Cn);const t=Ln(e.firestore,Lr);return yk(gf(t),e._key).then(n=>Eb(t,e,n))}class Rg extends kk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Nk(e){e=Ln(e,Nu);const t=Ln(e.firestore,Lr),n=gf(t),r=new Rg(t);return mb(e._query),_k(n,e._query).then(a=>new _b(t,r,e,a))}function Mk(e,t,n){e=Ln(e,Cn);const r=Ln(e.firestore,Lr),a=gb(e.converter,t,n);return Ef(r,[ub(bg(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,vi.none())])}function Uk(e,t,n,...r){e=Ln(e,Cn);const a=Ln(e.firestore,Lr),l=bg(a);let c;return c=typeof(t=Le(t))=="string"||t instanceof yf?Ik(l,"updateDoc",e._key,t,n,r):Rk(l,"updateDoc",e._key,t),Ef(a,[c.toMutation(e._key,vi.exists(!0))])}function Pk(e){return Ef(Ln(e.firestore,Lr),[new Wm(e._key,vi.none())])}function Lk(e,t){const n=Ln(e.firestore,Lr),r=bu(e),a=gb(e.converter,t);return Ef(n,[ub(bg(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,vi.exists(!1))]).then(()=>r)}function vb(e,...t){var n,r,a;e=Le(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||AE(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(AE(t[c])){const T=t[c];t[c]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[c+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),t[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let p,m,_;if(e instanceof Cn)m=Ln(e.firestore,Lr),_=sf(e._key.path),p={next:T=>{t[c]&&t[c](Eb(m,e,T))},error:t[c+1],complete:t[c+2]};else{const T=Ln(e,Nu);m=Ln(T.firestore,Lr),_=T._query;const R=new Rg(m);p={next:S=>{t[c]&&t[c](new _b(m,R,T,S))},error:t[c+1],complete:t[c+2]},mb(e._query)}return function(R,S,V,B){const q=new yg(B),K=new pg(S,q,V);return R.asyncQueue.enqueueAndForget(async()=>hg(await jh(R),K)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>fg(await jh(R),K))}}(gf(m),_,f,p)}function Ef(e,t){return function(r,a){const l=new Or;return r.asyncQueue.enqueueAndForget(async()=>sk(await gk(r),a,l)),l.promise}(gf(e),t)}function Eb(e,t,n){const r=n.docs.get(t._key),a=new Rg(e);return new yb(e,a,t._key,r,new au(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){qo=a})(Ca),wa(new ks("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Lr(new CI(r.getProvider("auth-internal")),new DI(c,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ct(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(m.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),$i(D0,O0,t),$i(D0,O0,"esm2017")})();var Vk="firebase",Bk="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(Vk,Bk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebasestorage.googleapis.com",wb="storageBucket",zk=2*60*1e3,Fk=10*60*1e3,jk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie extends rr{constructor(t,n,r=0){super(jp(t),`Firebase Storage: ${n} (${jp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ie.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function jp(e){return"storage/"+e}function Ig(){const e="An unknown error occurred, please check the error payload for server response.";return new Ie(Te.UNKNOWN,e)}function qk(e){return new Ie(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Hk(e){return new Ie(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gk(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ie(Te.UNAUTHENTICATED,e)}function Kk(){return new Ie(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qk(e){return new Ie(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function bb(){return new Ie(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sb(){return new Ie(Te.CANCELED,"User canceled the upload/download.")}function Yk(e){return new Ie(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function Xk(e){return new Ie(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function $k(){return new Ie(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wb+"' property when initializing the app?")}function Ab(){return new Ie(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wk(){return new Ie(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Zk(){return new Ie(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jk(e){return new Ie(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Im(e){return new Ie(Te.INVALID_ARGUMENT,e)}function Rb(){return new Ie(Te.APP_DELETED,"The Firebase app was deleted.")}function tD(e){return new Ie(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hu(e,t){return new Ie(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function tu(e){throw new Ie(Te.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Zn.makeFromUrl(t,n)}catch{return new Zn(t,"")}if(r.path==="")return r;throw Xk(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ct){ct.path.charAt(ct.path.length-1)==="/"&&(ct.path_=ct.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(ct){ct.path_=decodeURIComponent(ct.path)}const _="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",S=new RegExp(`^https?://${T}/${_}/b/${a}/o${R}`,"i"),V={bucket:1,path:3},B=n===Tb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",K=new RegExp(`^https?://${B}/${a}/${q}`,"i"),J=[{regex:f,indices:p,postModify:l},{regex:S,indices:V,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let ct=0;ct<J.length;ct++){const ut=J[ct],W=ut.regex.exec(t);if(W){const z=W[ut.indices.bucket];let N=W[ut.indices.path];N||(N=""),r=new Zn(z,N),ut.postModify(r);break}}if(r==null)throw Yk(t);return r}}class eD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e,t,n){let r=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function _(...q){m||(m=!0,t.apply(null,q))}function T(q){a=setTimeout(()=>{a=null,e(S,p())},q)}function R(){l&&clearTimeout(l)}function S(q,...K){if(m){R();return}if(q){R(),_.call(null,q,...K);return}if(p()||c){R(),_.call(null,q,...K);return}r<64&&(r*=2);let J;f===1?(f=2,J=0):J=(r+Math.random())*1e3,T(J)}let V=!1;function B(q){V||(V=!0,R(),!m&&(a!==null?(q||(f=2),clearTimeout(a),T(0)):q||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function iD(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(e){return e!==void 0}function sD(e){return typeof e=="function"}function aD(e){return typeof e=="object"&&!Array.isArray(e)}function Tf(e){return typeof e=="string"||e instanceof String}function RE(e){return Cg()&&e instanceof Blob}function Cg(){return typeof Blob<"u"}function IE(e,t,n,r){if(r<t)throw Im(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Im(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Ib(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var va;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n,r,a,l,c,f,p,m,_,T,R=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=T,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,V)=>{this.resolve_=S,this.reject_=V,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new fh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===va.NO_ERROR,p=l.getStatus();if(!f||Cb(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===va.ABORT;r(!1,new fh(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new fh(m,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());rD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=Ig();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Rb():Sb();c(p)}else{const p=bb();c(p)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=nD(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&iD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function lD(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function uD(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cD(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hD(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fD(e,t,n,r,a,l,c=!0){const f=Ib(e.urlParams),p=e.url+f,m=Object.assign({},e.headers);return cD(m,t),lD(m,n),uD(m,l),hD(m,r),new oD(p,e.method,m,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pD(...e){const t=dD();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Cg())return new Blob(e);throw new Ie(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mD(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(e){if(typeof atob>"u")throw Jk("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qp{constructor(t,n){this.data=t,this.contentType=n||null}}function yD(e,t){switch(e){case Xi.RAW:return new qp(xb(t));case Xi.BASE64:case Xi.BASE64URL:return new qp(kb(e,t));case Xi.DATA_URL:return new qp(vD(t),ED(t))}throw Ig()}function xb(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=r,c=e.charCodeAt(++n);r=65536|(l&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function _D(e){let t;try{t=decodeURIComponent(e)}catch{throw hu(Xi.DATA_URL,"Malformed data URL.")}return xb(t)}function kb(e,t){switch(e){case Xi.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw hu(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xi.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw hu(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gD(t)}catch(a){throw a.message.includes("polyfill")?a:hu(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class Db{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw hu(Xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function vD(e){const t=new Db(e);return t.base64?kb(Xi.BASE64,t.rest):_D(t.rest)}function ED(e){return new Db(e).contentType}function TD(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n){let r=0,a="";RE(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(RE(this.data_)){const r=this.data_,a=mD(r,t,n);return a===null?null:new Ts(a)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ts(r,!0)}}static getBlob(...t){if(Cg()){const n=t.map(r=>r instanceof Ts?r.data_:r);return new Ts(pD.apply(null,n))}else{const n=t.map(c=>Tf(c)?yD(Xi.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ts(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e){let t;try{t=JSON.parse(e)}catch{return null}return aD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function bD(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Nb(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e,t){return t}class In{constructor(t,n,r,a){this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||SD}}let dh=null;function AD(e){return!Tf(e)||e.length<2?e:Nb(e)}function Mb(){if(dh)return dh;const e=[];e.push(new In("bucket")),e.push(new In("generation")),e.push(new In("metageneration")),e.push(new In("name","fullPath",!0));function t(l,c){return AD(c)}const n=new In("name");n.xform=t,e.push(n);function r(l,c){return c!==void 0?Number(c):c}const a=new In("size");return a.xform=r,e.push(a),e.push(new In("timeCreated")),e.push(new In("updated")),e.push(new In("md5Hash",null,!0)),e.push(new In("cacheControl",null,!0)),e.push(new In("contentDisposition",null,!0)),e.push(new In("contentEncoding",null,!0)),e.push(new In("contentLanguage",null,!0)),e.push(new In("contentType",null,!0)),e.push(new In("metadata","customMetadata",!0)),dh=e,dh}function RD(e,t){function n(){const r=e.bucket,a=e.fullPath,l=new Zn(r,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function ID(e,t,n){const r={};r.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];r[c.local]=c.xform(r,t[c.server])}return RD(r,e),r}function Ub(e,t,n){const r=Ob(t);return r===null?null:ID(e,r,n)}function CD(e,t,n,r){const a=Ob(t);if(a===null||!Tf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const _=e.bucket,T=e.fullPath,R="/b/"+c(_)+"/o/"+c(T),S=Mu(R,n,r),V=Ib({alt:"media",token:m});return S+V})[0]}function Pb(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class Qo{constructor(t,n,r,a){this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){if(!e)throw Ig()}function xg(e,t){function n(r,a){const l=Ub(e,a,t);return Nr(l!==null),l}return n}function xD(e,t){function n(r,a){const l=Ub(e,a,t);return Nr(l!==null),CD(l,a,e.host,e._protocol)}return n}function Uu(e){function t(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=Kk():a=Gk():n.getStatus()===402?a=Hk(e.bucket):n.getStatus()===403?a=Qk(e.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return t}function Lb(e){const t=Uu(e);function n(r,a){let l=t(r,a);return r.getStatus()===404&&(l=qk(e.path)),l.serverResponse=a.serverResponse,l}return n}function kD(e,t,n){const r=t.fullServerUrl(),a=Mu(r,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new Qo(a,l,xg(e,n),c);return f.errorHandler=Lb(t),f}function DD(e,t,n){const r=t.fullServerUrl(),a=Mu(r,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new Qo(a,l,xD(e,n),c);return f.errorHandler=Lb(t),f}function OD(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Vb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=OD(null,t)),r}function ND(e,t,n,r,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let J="";for(let ct=0;ct<2;ct++)J=J+Math.random().toString().slice(2);return J}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=Vb(t,r,a),_=Pb(m,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,R=`\r
--`+p+"--",S=Ts.getBlob(T,r,R);if(S===null)throw Ab();const V={name:m.fullPath},B=Mu(l,e.host,e._protocol),q="POST",K=e.maxUploadRetryTime,nt=new Qo(B,q,xg(e,n),K);return nt.urlParams=V,nt.headers=c,nt.body=S.uploadData(),nt.errorHandler=Uu(t),nt}class Hh{constructor(t,n,r,a){this.current=t,this.total=n,this.finalized=!!r,this.metadata=a||null}}function kg(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Nr(!1)}return Nr(!!n&&(t||["active"]).indexOf(n)!==-1),n}function MD(e,t,n,r,a){const l=t.bucketOnlyServerUrl(),c=Vb(t,r,a),f={name:c.fullPath},p=Mu(l,e.host,e._protocol),m="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Pb(c,n),R=e.maxUploadRetryTime;function S(B){kg(B);let q;try{q=B.getResponseHeader("X-Goog-Upload-URL")}catch{Nr(!1)}return Nr(Tf(q)),q}const V=new Qo(p,m,S,R);return V.urlParams=f,V.headers=_,V.body=T,V.errorHandler=Uu(t),V}function UD(e,t,n,r){const a={"X-Goog-Upload-Command":"query"};function l(m){const _=kg(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Nr(!1)}T||Nr(!1);const R=Number(T);return Nr(!isNaN(R)),new Hh(R,r.size(),_==="final")}const c="POST",f=e.maxUploadRetryTime,p=new Qo(n,c,l,f);return p.headers=a,p.errorHandler=Uu(t),p}const CE=256*1024;function PD(e,t,n,r,a,l,c,f){const p=new Hh(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw Wk();const m=p.total-p.current;let _=m;a>0&&(_=Math.min(_,a));const T=p.current,R=T+_;let S="";_===0?S="finalize":m===_?S="upload, finalize":S="upload";const V={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${p.current}`},B=r.slice(T,R);if(B===null)throw Ab();function q(ct,ut){const W=kg(ct,["active","final"]),z=p.current+_,N=r.size();let k;return W==="final"?k=xg(t,l)(ct,ut):k=null,new Hh(z,N,W==="final",k)}const K="POST",nt=t.maxUploadRetryTime,J=new Qo(n,K,q,nt);return J.headers=V,J.body=B.uploadData(),J.progressCallback=f||null,J.errorHandler=Uu(e),J}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hp(e){switch(e){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,r){if(sD(t)||n!=null||r!=null)this.next=t,this.error=n??void 0,this.complete=r??void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class VD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,a){if(this.sent_)throw tu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class BD extends VD{initXhr(){this.xhr_.responseType="text"}}function Io(){return new BD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Mb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Cb(a.status,[]))if(l)a=bb();else{this.sleepTime=Math.max(this.sleepTime*2,jk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":t(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{const r=MD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Io,t,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,r)=>{const a=UD(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,Io,n,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=CE*this._chunkMultiplier,n=new Hh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=PD(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Io,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){CE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const r=kD(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Io,t,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const r=ND(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Io,t,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Sb(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=Hp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,r,a){const l=new LD(n||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Hp(this._state)){case Un.SUCCESS:Eo(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const n=this._reject;Eo(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Hp(this._state)){case Un.RUNNING:case Un.PAUSED:t.next&&Eo(t.next.bind(t,this.snapshot))();break;case Un.SUCCESS:t.complete&&Eo(t.complete.bind(t))();break;case Un.CANCELED:case Un.ERROR:t.error&&Eo(t.error.bind(t,this._error))();break;default:t.error&&Eo(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this._service=t,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Aa(t,n)}get root(){const t=new Zn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nb(this._location.path)}get storage(){return this._service}get parent(){const t=wD(this._location.path);if(t===null)return null;const n=new Zn(this._location.bucket,t);return new Aa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw tD(t)}}function FD(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new zD(e,new Ts(t),n)}function jD(e){e._throwIfRoot("getDownloadURL");const t=DD(e.storage,e._location,Mb());return e.storage.makeRequestWithTokens(t,Io).then(n=>{if(n===null)throw Zk();return n})}function qD(e,t){const n=bD(e._location.path,t),r=new Zn(e._location.bucket,n);return new Aa(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e){return/^[A-Za-z]+:\/\//.test(e)}function GD(e,t){return new Aa(e,t)}function Bb(e,t){if(e instanceof Dg){const n=e;if(n._bucket==null)throw $k();const r=new Aa(n,n._bucket);return t!=null?Bb(r,t):r}else return t!==void 0?qD(e,t):e}function KD(e,t){if(t&&HD(t)){if(e instanceof Dg)return GD(e,t);throw Im("To use ref(service, url), the first argument must be a Storage instance.")}else return Bb(e,t)}function xE(e,t){const n=t==null?void 0:t[wb];return n==null?null:Zn.makeFromBucketSpec(n,e)}function QD(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:BT(a,e.app.options.projectId))}class Dg{constructor(t,n,r,a,l){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zk,this._maxUploadRetryTime=Fk,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=xE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,t):this._bucket=xE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){IE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){IE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Aa(this,t)}_makeRequest(t,n,r,a,l=!0){if(this._deleted)return new eD(Rb());{const c=fD(t,this._appId,r,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const kE="@firebase/storage",DE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="storage";function Fb(e,t,n){return e=Le(e),FD(e,t,n)}function jb(e){return e=Le(e),jD(e)}function qb(e,t){return e=Le(e),KD(e,t)}function YD(e=qm(),t){e=Le(e);const r=Jh(e,zb).getImmediate({identifier:t}),a=PT("storage");return a&&XD(r,...a),r}function XD(e,t,n,r={}){QD(e,t,n,r)}function $D(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Dg(n,r,a,t,Ca)}function WD(){wa(new ks(zb,$D,"PUBLIC").setMultipleInstances(!0)),$i(kE,DE,""),$i(kE,DE,"esm2017")}WD();function Og(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZD=Hb,Gb=new Iu("auth","Firebase",Hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Fm("@firebase/auth");function JD(e,...t){Gh.logLevel<=Wt.WARN&&Gh.warn(`Auth (${Ca}): ${e}`,...t)}function Sh(e,...t){Gh.logLevel<=Wt.ERROR&&Gh.error(`Auth (${Ca}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e,...t){throw Mg(e,...t)}function Ci(e,...t){return Mg(e,...t)}function Ng(e,t,n){const r=Object.assign(Object.assign({},ZD()),{[t]:n});return new Iu("auth","Firebase",r).create(t,{appName:e.name})}function Ea(e){return Ng(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tO(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&nr(e,"argument-error"),Ng(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Gb.create(e,...t)}function Lt(e,t,...n){if(!e)throw Mg(t,...n)}function xr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sh(t),new Error(t)}function Vr(e,t){e||xr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function eO(){return OE()==="http:"||OE()==="https:"}function OE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eO()||sR()||"connection"in navigator)?navigator.onLine:!0}function iO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Vr(n>t,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return nO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e,t){Vr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Pu(3e4,6e4);function Pg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Yo(e,t,n,r,a={}){return Qb(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=Cu(Object.assign({key:e.config.apiKey},c)).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const m=Object.assign({method:t,headers:p},l);return rR()||(m.referrerPolicy="no-referrer"),Kb.fetch()(Yb(e,e.config.apiHost,n,f),m)})}async function Qb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rO),t);try{const a=new oO(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ph(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ph(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw ph(e,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ng(e,_,m);nr(e,_)}}catch(a){if(a instanceof rr)throw a;nr(e,"network-request-failed",{message:String(a)})}}async function aO(e,t,n,r,a={}){const l=await Yo(e,t,n,r,a);return"mfaPendingCredential"in l&&nr(e,"multi-factor-auth-required",{_serverResponse:l}),l}function Yb(e,t,n,r){const a=`${t}${n}?${r}`;return e.config.emulator?Ug(e.config,a):`${e.config.apiScheme}://${a}`}class oO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),sO.get())})}}function ph(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ci(e,t,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(e,t){return Yo(e,"POST","/v1/accounts:delete",t)}async function Xb(e,t){return Yo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uO(e,t=!1){const n=Le(e),r=await n.getIdToken(t),a=Lg(r);Lt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:fu(Gp(a.auth_time)),issuedAtTime:fu(Gp(a.iat)),expirationTime:fu(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gp(e){return Number(e)*1e3}function Lg(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const a=MT(n);return a?JSON.parse(a):(Sh("Failed to decode base64 JWT payload"),null)}catch(a){return Sh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function NE(e){const t=Lg(e);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof rr&&cO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function cO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Su(e,Xb(n,{idToken:r}));Lt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?$b(l.providerUserInfo):[],f=dO(e.providerData,c),p=e.isAnonymous,m=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(e,T)}async function fO(e){const t=Le(e);await Kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dO(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function $b(e){return e.map(t=>{var{providerId:n}=t,r=Og(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(e,t){const n=await Qb(e,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=Yb(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Kb.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mO(e,t){return Yo(e,"POST","/v2/accounts:revokeToken",Pg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Lt(t.length!==0,"internal-error");const n=NE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await pO(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new xo;return r&&(Lt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Lt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Lt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(e,t){Lt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class kr{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=Og(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Su(this,this.stsTokenManager.getToken(this.auth,t));return Lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uO(this,t)}reload(){return fO(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new kr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await Su(this,lO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,p,m,_;const T=(r=n.displayName)!==null&&r!==void 0?r:void 0,R=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=n.photoURL)!==null&&c!==void 0?c:void 0,B=(f=n.tenantId)!==null&&f!==void 0?f:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(m=n.createdAt)!==null&&m!==void 0?m:void 0,nt=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:ct,isAnonymous:ut,providerData:W,stsTokenManager:z}=n;Lt(J&&z,t,"internal-error");const N=xo.fromJSON(this.name,z);Lt(typeof J=="string",t,"internal-error"),vs(T,t.name),vs(R,t.name),Lt(typeof ct=="boolean",t,"internal-error"),Lt(typeof ut=="boolean",t,"internal-error"),vs(S,t.name),vs(V,t.name),vs(B,t.name),vs(q,t.name),vs(K,t.name),vs(nt,t.name);const k=new kr({uid:J,auth:t,email:R,emailVerified:ct,displayName:T,isAnonymous:ut,photoURL:V,phoneNumber:S,tenantId:B,stsTokenManager:N,createdAt:K,lastLoginAt:nt});return W&&Array.isArray(W)&&(k.providerData=W.map(U=>Object.assign({},U))),q&&(k._redirectEventId=q),k}static async _fromIdTokenResponse(t,n,r=!1){const a=new xo;a.updateFromServerResponse(n);const l=new kr({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Kh(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];Lt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?$b(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new xo;f.updateFromIdToken(r);const p=new kr({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new xm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function Dr(e){Vr(e instanceof Function,"Expected a class definition");let t=ME.get(e);return t?(Vr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ME.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Wb.type="NONE";const UE=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e,t,n){return`firebase:${e}:${t}:${n}`}class ko{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Ah(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ah("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?kr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ko(Dr(UE),t,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Dr(UE);const c=Ah(r,t.config.apiKey,t.name);let f=null;for(const m of n)try{const _=await m._get(c);if(_){const T=kr._fromJSON(t,_);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ko(l,t,r):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ko(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iS(t))return"Blackberry";if(rS(t))return"Webos";if(Jb(t))return"Safari";if((t.includes("chrome/")||tS(t))&&!t.includes("edge/"))return"Chrome";if(nS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zb(e=En()){return/firefox\//i.test(e)}function Jb(e=En()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tS(e=En()){return/crios\//i.test(e)}function eS(e=En()){return/iemobile/i.test(e)}function nS(e=En()){return/android/i.test(e)}function iS(e=En()){return/blackberry/i.test(e)}function rS(e=En()){return/webos/i.test(e)}function Vg(e=En()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gO(e=En()){var t;return Vg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yO(){return oR()&&document.documentMode===10}function sS(e=En()){return Vg(e)||nS(e)||rS(e)||iS(e)||/windows phone/i.test(e)||eS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e,t=[]){let n;switch(e){case"Browser":n=PE(En());break;case"Worker":n=`${PE(En())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const p=t(l);c(p)}catch(p){f(p)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(e,t={}){return Yo(e,"GET","/v2/passwordPolicy",Pg(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class TO{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:EO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new _O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await ko.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xb(this,{idToken:t}),r=await kr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_i(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Kh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(Ea(this));const n=t?Le(t):null;return n&&Lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vO(this),n=new TO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Iu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Dr(t)||this._popupRedirectResolver;Lt(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,a);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&JD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wf(e){return Le(e)}class LE{constructor(t){this.auth=t,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bO(e){Bg=e}function SO(e){return Bg.loadJS(e)}function AO(){return Bg.gapiScript}function RO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(e,t){const n=Jh(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ta(l,t??{}))return a;nr(a,"already-initialized")}return n.initialize({options:t})}function CO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function xO(e,t,n){const r=wf(e);Lt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=oS(t),{host:c,port:f}=kO(t),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Lt(Ta(m,r.config.emulator)&&Ta(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,DO()}function oS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kO(e){const t=oS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:VE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:VE(c)}}}function VE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(t){return xr("not implemented")}_linkToIdToken(t,n){return xr("not implemented")}_getReauthenticationResolver(t){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e,t){return aO(e,"POST","/v1/accounts:signInWithIdp",Pg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="http://localhost";class Ra extends lS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=Og(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ra(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Do(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Do(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Do(t,n)}buildRequest(){const t={requestUri:OO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends zg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Lu{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ra._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Lu{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Lu{constructor(){super("twitter.com")}static credential(t,n){return Ra._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await kr._fromIdTokenResponse(t,r,a),c=BE(r);return new jo({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=BE(r);return new jo({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function BE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends rr{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Qh(t,n,r,a)}}function uS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(e,l,t,r):l})}async function NO(e,t,n=!1){const r=await Su(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jo._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(e,t,n=!1){const{auth:r}=e;if(_i(r.app))return Promise.reject(Ea(r));const a="reauthenticate";try{const l=await Su(e,uS(r,a,t,e),n);Lt(l.idToken,r,"internal-error");const c=Lg(l.idToken);Lt(c,r,"internal-error");const{sub:f}=c;return Lt(e.uid===f,r,"user-mismatch"),jo._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(e,t,n=!1){if(_i(e.app))return Promise.reject(Ea(e));const r="signIn",a=await uS(e,r,t),l=await jo._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}function PO(e,t,n,r){return Le(e).onIdTokenChanged(t,n,r)}function LO(e,t,n){return Le(e).beforeAuthStateChanged(t,n)}function bf(e,t,n,r){return Le(e).onAuthStateChanged(t,n,r)}function VO(e){return Le(e).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e3,zO=10;class hS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);yO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,zO):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}hS.type="LOCAL";const FO=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fS.type="SESSION";const dS=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new Sf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,l)),p=await jO(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Fg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const R=T;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function HO(e){Ji().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function GO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function QO(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebaseLocalStorageDb",YO=1,Xh="firebaseLocalStorage",gS="fbase_key";class Vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(e,t){return e.transaction([Xh],t?"readwrite":"readonly").objectStore(Xh)}function XO(){const e=indexedDB.deleteDatabase(mS);return new Vu(e).toPromise()}function km(){const e=indexedDB.open(mS,YO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Xh,{keyPath:gS})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Xh)?t(r):(r.close(),await XO(),t(await km()))})})}async function zE(e,t,n){const r=Af(e,!0).put({[gS]:t,value:n});return new Vu(r).toPromise()}async function $O(e,t){const n=Af(e,!1).get(t),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function FE(e,t){const n=Af(e,!0).delete(t);return new Vu(n).toPromise()}const WO=800,ZO=3;class yS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>ZO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(QO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await km();return await zE(t,Yh,"1"),await FE(t,Yh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>$O(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Af(a,!1).getAll();return new Vu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yS.type="LOCAL";const JO=yS;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(e,t){return t?Dr(t):(Lt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends lS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Do(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Do(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Do(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tN(e){return UO(e.auth,new jg(e),e.bypassAuthState)}function eN(e){const{auth:t,user:n}=e;return Lt(n,t,"internal-error"),MO(n,new jg(e),e.bypassAuthState)}async function nN(e){const{auth:t,user:n}=e;return Lt(n,t,"internal-error"),NO(n,new jg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return eN;default:nr(this.auth,"internal-error")}}resolve(t){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Pu(2e3,1e4);async function rN(e,t,n){if(_i(e.app))return Promise.reject(Ci(e,"operation-not-supported-in-this-environment"));const r=wf(e);tO(e,t,zg);const a=_S(r,n);return new _a(r,"signInViaPopup",t,a).executeNotNull()}class _a extends vS{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const t=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iN.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",Rh=new Map;class aN extends vS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Rh.get(this.auth._key());if(!t){try{const r=await oN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Rh.set(this.auth._key(),t)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(e,t){const n=cN(t),r=uN(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function lN(e,t){Rh.set(e._key(),t)}function uN(e){return Dr(e._redirectPersistence)}function cN(e){return Ah(sN,e.config.apiKey,e.name)}async function hN(e,t,n=!1){if(_i(e.app))return Promise.reject(Ea(e));const r=wf(e),a=_S(r,t),c=await new aN(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class dN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ES(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(t))}saveEventToCache(t){this.cachedEventUids.add(jE(t)),this.lastProcessedEventTime=Date.now()}}function jE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ES({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(e,t={}){return Yo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function _N(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mN(e);for(const n of t)try{if(vN(n))return}catch{}nr(e,"unauthorized-domain")}function vN(e){const t=Cm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!yN.test(n))return!1;if(gN.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Pu(3e4,6e4);function qE(){const e=Ji().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function TN(e){return new Promise((t,n)=>{var r,a,l;function c(){qE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(Ci(e,"network-request-failed"))},timeout:EN.get()})}if(!((a=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Ji().gapi)===null||l===void 0)&&l.load)c();else{const f=RO("iframefcb");return Ji()[f]=()=>{gapi.load?c():n(Ci(e,"network-request-failed"))},SO(`${AO()}?onload=${f}`).catch(p=>n(p))}}).catch(t=>{throw Ih=null,t})}let Ih=null;function wN(e){return Ih=Ih||TN(e),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Pu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(e){const t=e.config;Lt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ug(t,AN):`https://${e.config.authDomain}/${SN}`,r={apiKey:t.apiKey,appName:e.name,v:Ca},a=IN.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Cu(r).slice(1)}`}async function xN(e){const t=await wN(e),n=Ji().gapi;return Lt(n,e,"internal-error"),t.open({where:document.body,url:CN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Ci(e,"network-request-failed"),f=Ji().setTimeout(()=>{l(c)},bN.get());function p(){Ji().clearTimeout(f),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,ON=600,NN="_blank",MN="http://localhost";class HE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UN(e,t,n,r=DN,a=ON){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},kN),{width:r.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();n&&(f=tS(m)?NN:n),Zb(m)&&(t=t||MN,p.scrollbars="yes");const _=Object.entries(p).reduce((R,[S,V])=>`${R}${S}=${V},`,"");if(gO(m)&&f!=="_self")return PN(t||"",f),new HE(null);const T=window.open(t||"",f,_);Lt(T,e,"popup-blocked");try{T.focus()}catch{}return new HE(T)}function PN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",VN="emulator/auth/handler",BN=encodeURIComponent("fac");async function GE(e,t,n,r,a,l){Lt(e.config.authDomain,e,"auth-domain-config-required"),Lt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ca,eventId:a};if(t instanceof zg){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",pR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof Lu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await e._getAppCheckToken(),m=p?`#${BN}=${encodeURIComponent(p)}`:"";return`${zN(e)}?${Cu(f).slice(1)}${m}`}function zN({config:e}){return e.emulator?Ug(e,VN):`https://${e.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dS,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(t,n,r,a){var l;Vr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await GE(t,n,r,Cm(),a);return UN(t,c,Fg())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await GE(t,n,r,Cm(),a);return HO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Vr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await xN(t),r=new dN(t);return n.register("authEvent",a=>(Lt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kp,{type:Kp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Kp];c!==void 0&&n(!!c),nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_N(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sS()||Jb()||Vg()}}const jN=FN;var KE="@firebase/auth",QE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(e){wa(new ks("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Lt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(e)},m=new wO(r,a,l,p);return CO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),wa(new ks("auth-internal",t=>{const n=wf(t.getProvider("auth").getImmediate());return(r=>new qN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(KE,QE,HN(e)),$i(KE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=5*60,QN=VT("authIdTokenMaxAge")||KN;let YE=null;const YN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QN)return;const a=n==null?void 0:n.token;YE!==a&&(YE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function XN(e=qm()){const t=Jh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=IO(e,{popupRedirectResolver:jN,persistence:[JO,FO,dS]}),r=VT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=YN(l.toString());LO(n,c,()=>c(n.currentUser)),PO(n,f=>c(f))}}const a=UT("auth");return a&&xO(n,`http://${a}`),n}function $N(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}bO({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=Ci("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",$N().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");const WN={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},qg=jT(WN),Ia=Tk(qg),TS=YD(qg),Oo=XN(qg);new Qi;const Hg=mf(Ia,"eotv-enemies");mf(Ia,"eotv-enemy-tags");const ZN=mf(Ia,"users");function JN(){const[e,t]=$t.useState(null);$t.useEffect(()=>{const a=bf(Oo,async l=>{if(t(l),l){const c=bu(ZN,l.uid);await Mk(c,{displayName:l.displayName||"Unknown",photoURL:l.photoURL||""},{merge:!0})}});return()=>a()},[]);const n=async()=>{const a=new Qi;await rN(Oo,a)},r=async()=>{await VO(Oo)};return Et.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:e?Et.jsxs(Et.Fragment,{children:[Et.jsx("img",{src:e.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",style:{width:40,height:40,borderRadius:"50%"}}),Et.jsx("span",{children:e.displayName}),Et.jsx("button",{onClick:r,children:"Выйти"})]}):Et.jsx("button",{onClick:n,children:"Войти через Google"})})}const tM=mf(Ia,"eotv-enemy-tags");function eM({selectedTags:e,setSelectedTags:t,customTags:n,setCustomTags:r}){const[a,l]=$t.useState([]);$t.useEffect(()=>{(async()=>{const m=await Nk(tM);l(m.docs.map(_=>({id:_.id,..._.data()})))})()},[]);const c=$t.useCallback(p=>{const m=p.target.value;m&&!e.includes(m)&&t(_=>[..._,m])},[e,t]),f=$t.useCallback(p=>{r(p.target.value.split(",").map(m=>m.trim()))},[r]);return Et.jsxs("div",{children:[Et.jsx("label",{children:"Выберите теги:"}),Et.jsxs("select",{onChange:c,children:[Et.jsx("option",{value:"",children:"-- Выбрать --"}),a.map(p=>Et.jsx("option",{value:p.slug,children:p.name},p.id))]}),Et.jsx("label",{children:"Пользовательские теги (через запятую):"}),Et.jsx("input",{type:"text",value:n.join(", "),onChange:f}),Et.jsxs("p",{children:["Выбранные теги: ",e.join(", ")]})]})}function nM(){const[e,t]=$t.useState(""),[n,r]=$t.useState(""),[a,l]=$t.useState([]),[c,f]=$t.useState([]),[p,m]=$t.useState(null),[_,T]=$t.useState(null),[R,S]=$t.useState(""),[V,B]=$t.useState(""),[q,K]=$t.useState(0),[nt,J]=$t.useState(0),[ct,ut]=$t.useState(null),[W,z]=$t.useState(!0);$t.useEffect(()=>{const U=bf(Oo,L=>{ut(L),z(!1)});return()=>U()},[]);const N=async(U,L,F)=>{if(!U)return;const O=qb(TS,`enemies/${ct.uid}/${U.name}`),gt=Fb(O,U);gt.on("state_changed",vt=>{const dt=vt.bytesTransferred/vt.totalBytes*100;F(dt)},vt=>{console.error("Ошибка загрузки:",vt)},async()=>{const vt=await jb(gt.snapshot.ref);L(vt)})},k=async U=>{if(U.preventDefault(),!e||!ct)return;const L={name:e,customDescription:n,tags:a,customTags:c,imageURL:R,imageURL2:V,authorUid:ct.uid};await Lk(Hg,L),t(""),r(""),l([]),f([]),m(null),T(null),S(""),B(""),K(0),J(0)};return Et.jsxs("form",{onSubmit:k,children:[Et.jsx("h3",{children:"Добавить противника"}),Et.jsx("input",{type:"text",placeholder:"Имя противника",value:e,onChange:U=>t(U.target.value),required:!0,disabled:W}),Et.jsx("textarea",{placeholder:"Описание",value:n,onChange:U=>r(U.target.value),disabled:W}),Et.jsx(eM,{selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f}),Et.jsx("input",{type:"file",onChange:U=>m(U.target.files[0]),disabled:W}),Et.jsx("button",{type:"button",onClick:()=>N(p,S,K),disabled:!p||W,children:"Загрузить основное изображение"}),q>0&&Et.jsxs("p",{children:["Прогресс загрузки: ",q.toFixed(2),"%"]}),R&&Et.jsx("img",{src:R,alt:"Загруженное изображение 1",width:100}),Et.jsx("input",{type:"file",onChange:U=>T(U.target.files[0]),disabled:W}),Et.jsx("button",{type:"button",onClick:()=>N(_,B,J),disabled:!_||W,children:"Загрузить дополнительное изображение"}),nt>0&&Et.jsxs("p",{children:["Прогресс загрузки: ",nt.toFixed(2),"%"]}),V&&Et.jsx("img",{src:V,alt:"Загруженное изображение 2",width:100}),Et.jsx("button",{type:"submit",disabled:!ct||W,children:"Добавить"})]})}function iM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const rM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aM={};function XE(e,t){return(aM.jsx?sM:rM).test(e)}const oM=/[ \t\n\f\r]/g;function lM(e){return typeof e=="object"?e.type==="text"?$E(e.value):!1:$E(e)}function $E(e){return e.replace(oM,"")===""}class Bu{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Bu.prototype.normal={};Bu.prototype.property={};Bu.prototype.space=void 0;function wS(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Bu(n,r,t)}function Dm(e){return e.toLowerCase()}class Bn{constructor(t,n){this.attribute=n,this.property=t}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let uM=0;const Ht=Da(),je=Da(),bS=Da(),pt=Da(),ve=Da(),No=Da(),$n=Da();function Da(){return 2**++uM}const Om=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:je,commaOrSpaceSeparated:$n,commaSeparated:No,number:pt,overloadedBoolean:bS,spaceSeparated:ve},Symbol.toStringTag,{value:"Module"})),Qp=Object.keys(Om);class Gg extends Bn{constructor(t,n,r,a){let l=-1;if(super(t,n),WE(this,"space",a),typeof r=="number")for(;++l<Qp.length;){const c=Qp[l];WE(this,Qp[l],(r&Om[c])===Om[c])}}}Gg.prototype.defined=!0;function WE(e,t,n){n&&(e[t]=n)}function Xo(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const l=new Gg(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Dm(r)]=r,n[Dm(l.attribute)]=r}return new Bu(t,n,e.space)}const SS=Xo({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:ve,ariaCurrent:null,ariaDescribedBy:ve,ariaDetails:null,ariaDisabled:je,ariaDropEffect:ve,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:ve,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ve,ariaLevel:pt,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:ve,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:ve,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:je,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function AS(e,t){return t in e?e[t]:t}function RS(e,t){return AS(e,t.toLowerCase())}const cM=Xo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:No,acceptCharset:ve,accessKey:ve,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:ve,autoFocus:Ht,autoPlay:Ht,blocking:ve,capture:null,charSet:null,checked:Ht,cite:null,className:ve,cols:pt,colSpan:null,content:null,contentEditable:je,controls:Ht,controlsList:ve,coords:pt|No,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:bS,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:ve,height:pt,hidden:Ht,high:pt,href:null,hrefLang:null,htmlFor:ve,httpEquiv:ve,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:ve,itemRef:ve,itemScope:Ht,itemType:ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:pt,pattern:null,ping:ve,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:ve,required:Ht,reversed:Ht,rows:pt,rowSpan:pt,sandbox:ve,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:je,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ve,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:RS}),hM=Xo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$n,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:No,g2:No,glyphName:No,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:$n,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$n,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$n,rev:$n,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$n,requiredFeatures:$n,requiredFonts:$n,requiredFormats:$n,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:$n,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$n,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$n,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:AS}),IS=Xo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),CS=Xo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:RS}),xS=Xo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),fM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dM=/[A-Z]/g,ZE=/-[a-z]/g,pM=/^data[-\w.:]+$/i;function mM(e,t){const n=Dm(t);let r=t,a=Bn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pM.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(ZE,yM);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!ZE.test(l)){let c=l.replace(dM,gM);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}a=Gg}return new a(r,t)}function gM(e){return"-"+e.toLowerCase()}function yM(e){return e.charAt(1).toUpperCase()}const _M=wS([SS,cM,IS,CS,xS],"html"),Kg=wS([SS,hM,IS,CS,xS],"svg");function vM(e){return e.join(" ").trim()}var To={},Yp,JE;function EM(){if(JE)return Yp;JE=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",_="*",T="",R="comment",S="declaration";Yp=function(B,q){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];q=q||{};var K=1,nt=1;function J(O){var gt=O.match(t);gt&&(K+=gt.length);var vt=O.lastIndexOf(p);nt=~vt?O.length-vt:nt+O.length}function ct(){var O={line:K,column:nt};return function(gt){return gt.position=new ut(O),N(),gt}}function ut(O){this.start=O,this.end={line:K,column:nt},this.source=q.source}ut.prototype.content=B;function W(O){var gt=new Error(q.source+":"+K+":"+nt+": "+O);if(gt.reason=O,gt.filename=q.source,gt.line=K,gt.column=nt,gt.source=B,!q.silent)throw gt}function z(O){var gt=O.exec(B);if(gt){var vt=gt[0];return J(vt),B=B.slice(vt.length),gt}}function N(){z(n)}function k(O){var gt;for(O=O||[];gt=U();)gt!==!1&&O.push(gt);return O}function U(){var O=ct();if(!(m!=B.charAt(0)||_!=B.charAt(1))){for(var gt=2;T!=B.charAt(gt)&&(_!=B.charAt(gt)||m!=B.charAt(gt+1));)++gt;if(gt+=2,T===B.charAt(gt-1))return W("End of comment missing");var vt=B.slice(2,gt-2);return nt+=2,J(vt),B=B.slice(gt),nt+=2,O({type:R,comment:vt})}}function L(){var O=ct(),gt=z(r);if(gt){if(U(),!z(a))return W("property missing ':'");var vt=z(l),dt=O({type:S,property:V(gt[0].replace(e,T)),value:vt?V(vt[0].replace(e,T)):T});return z(c),dt}}function F(){var O=[];k(O);for(var gt;gt=L();)gt!==!1&&(O.push(gt),k(O));return O}return N(),F()};function V(B){return B?B.replace(f,T):T}return Yp}var tT;function TM(){if(tT)return To;tT=1;var e=To&&To.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(To,"__esModule",{value:!0}),To.default=n;var t=e(EM());function n(r,a){var l=null;if(!r||typeof r!="string")return l;var c=(0,t.default)(r),f=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,_=p.value;f?a(m,_,p):_&&(l=l||{},l[m]=_)}}),l}return To}var wM=TM();const eT=Ru(wM),bM=eT.default||eT,kS=DS("end"),Qg=DS("start");function DS(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function SM(e){const t=Qg(e),n=kS(e);if(t&&n)return{start:t,end:n}}function du(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?nT(e.position):"start"in e||"end"in e?nT(e):"line"in e||"column"in e?Nm(e):""}function Nm(e){return iT(e&&e.line)+":"+iT(e&&e.column)}function nT(e){return Nm(e&&e.start)+"-"+Nm(e&&e.end)}function iT(e){return e&&typeof e=="number"?e:1}class Tn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?a=t:!l.cause&&t&&(c=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?l.ruleId=r:(l.source=r.slice(0,p),l.ruleId=r.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=du(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const Yg={}.hasOwnProperty,AM=new Map,RM=/[A-Z]/g,IM=/-([a-z])/g,CM=new Set(["table","tbody","thead","tfoot","tr"]),xM=new Set(["td","th"]),OS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function kM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=VM(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=LM(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Kg:_M,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=NS(a,e,void 0);return l&&typeof l!="string"?l:a.create(e,a.Fragment,{children:l||void 0},void 0)}function NS(e,t,n){if(t.type==="element")return DM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return OM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return MM(e,t,n);if(t.type==="mdxjsEsm")return NM(e,t);if(t.type==="root")return UM(e,t,n);if(t.type==="text")return PM(e,t)}function DM(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Kg,e.schema=a),e.ancestors.push(t);const l=US(e,t.tagName,!1),c=BM(e,t);let f=$g(e,t);return CM.has(t.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!lM(p):!0})),MS(e,c,l,t),Xg(c,f),e.ancestors.pop(),e.schema=r,e.create(t,l,c,n)}function OM(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Au(e,t.position)}function NM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Au(e,t.position)}function MM(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Kg,e.schema=a),e.ancestors.push(t);const l=t.name===null?e.Fragment:US(e,t.name,!0),c=zM(e,t),f=$g(e,t);return MS(e,c,l,t),Xg(c,f),e.ancestors.pop(),e.schema=r,e.create(t,l,c,n)}function UM(e,t,n){const r={};return Xg(r,$g(e,t)),e.create(t,e.Fragment,r,n)}function PM(e,t){return t.value}function MS(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Xg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function LM(e,t,n){return r;function r(a,l,c,f){const m=Array.isArray(c.children)?n:t;return f?m(l,c,f):m(l,c)}}function VM(e,t){return n;function n(r,a,l,c){const f=Array.isArray(l.children),p=Qg(r);return t(a,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function BM(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Yg.call(t.properties,a)){const l=FM(e,a,t.properties[a]);if(l){const[c,f]=l;e.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&xM.has(t.tagName)?r=f:n[c]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function zM(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else Au(e,t.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else Au(e,t.position);else l=r.value===null?!0:r.value;n[a]=l}return n}function $g(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:AM;for(;++r<t.children.length;){const l=t.children[r];let c;if(e.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const f=NS(e,l,c);f!==void 0&&n.push(f)}return n}function FM(e,t,n){const r=mM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?iM(n):vM(n)),r.property==="style"){let a=typeof n=="object"?n:jM(e,String(n));return e.stylePropertyNameCase==="css"&&(a=qM(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?fM[r.property]||r.property:r.attribute,n]}}function jM(e,t){const n={};try{bM(t,r)}catch(a){if(!e.ignoreInvalidStyle){const l=a,c=new Tn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=e.filePath||void 0,c.url=OS+"#cannot-parse-style-attribute",c}}return n;function r(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(IM,GM)),n[c]=l}}function US(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,c;for(;++l<a.length;){const f=XE(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=c}else r=XE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Yg.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Au(e)}function Au(e,t){const n=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=OS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qM(e){const t={};let n;for(n in e)Yg.call(e,n)&&(t[HM(n)]=e[n]);return t}function HM(e){let t=e.replace(RM,KM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function GM(e,t){return t.toUpperCase()}function KM(e){return"-"+e.toLowerCase()}const Xp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},QM={};function YM(e,t){const n=QM,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return PS(e,r,a)}function PS(e,t,n){if(XM(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rT(e.children,t,n)}return Array.isArray(e)?rT(e,t,n):""}function rT(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=PS(e[a],t,n);return r.join("")}function XM(e){return!!(e&&typeof e=="object")}const sT=document.createElement("i");function Wg(e){const t="&"+e+";";sT.innerHTML=t;const n=sT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ir(e,t,n,r){const a=e.length;let l=0,c;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)c=Array.from(r),c.unshift(t,n),e.splice(...c);else for(n&&e.splice(t,n);l<r.length;)c=r.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function yi(e,t){return e.length>0?(ir(e,e.length,0,t),e):t}const aT={}.hasOwnProperty;function $M(e){const t={};let n=-1;for(;++n<e.length;)WM(t,e[n]);return t}function WM(e,t){let n;for(n in t){const a=(aT.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let c;if(l)for(c in l){aT.call(a,c)||(a[c]=[]);const f=l[c];ZM(a[c],Array.isArray(f)?f:f?[f]:[])}}}function ZM(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ir(e,0,0,r)}function LS(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Mo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yi=Bs(/[A-Za-z]/),Jn=Bs(/[\dA-Za-z]/),JM=Bs(/[#-'*+\--9=?A-Z^-~]/);function Mm(e){return e!==null&&(e<32||e===127)}const Um=Bs(/\d/),tU=Bs(/[\dA-Fa-f]/),eU=Bs(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function Vn(e){return e!==null&&(e<0||e===32)}function ce(e){return e===-2||e===-1||e===32}const nU=Bs(new RegExp("\\p{P}|\\p{S}","u")),iU=Bs(/\s/);function Bs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $o(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const l=e.charCodeAt(n);let c="";if(l===37&&Jn(e.charCodeAt(n+1))&&Jn(e.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),a=1):c="�"}else c=String.fromCharCode(l);c&&(t.push(e.slice(r,n),encodeURIComponent(c)),r=n+a+1,c=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Ee(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ce(p)?(e.enter(n),f(p)):t(p)}function f(p){return ce(p)&&l++<a?(e.consume(p),f):(e.exit(n),t(p))}}const rU={tokenize:sU};function sU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ee(e,t,"linePrefix")}function a(f){return e.enter("paragraph"),l(f)}function l(f){const p=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(f)}function c(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Pt(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),c)}}const aU={tokenize:oU},oT={tokenize:lU};function oU(e){const t=this,n=[];let r=0,a,l,c;return f;function f(J){if(r<n.length){const ct=n[r];return t.containerState=ct[1],e.attempt(ct[0].continuation,p,m)(J)}return m(J)}function p(J){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&nt();const ct=t.events.length;let ut=ct,W;for(;ut--;)if(t.events[ut][0]==="exit"&&t.events[ut][1].type==="chunkFlow"){W=t.events[ut][1].end;break}K(r);let z=ct;for(;z<t.events.length;)t.events[z][1].end={...W},z++;return ir(t.events,ut+1,0,t.events.slice(ct)),t.events.length=z,m(J)}return f(J)}function m(J){if(r===n.length){if(!a)return R(J);if(a.currentConstruct&&a.currentConstruct.concrete)return V(J);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(oT,_,T)(J)}function _(J){return a&&nt(),K(r),R(J)}function T(J){return t.parser.lazy[t.now().line]=r!==n.length,c=t.now().offset,V(J)}function R(J){return t.containerState={},e.attempt(oT,S,V)(J)}function S(J){return r++,n.push([t.currentConstruct,t.containerState]),R(J)}function V(J){if(J===null){a&&nt(),K(0),e.consume(J);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),B(J)}function B(J){if(J===null){q(e.exit("chunkFlow"),!0),K(0),e.consume(J);return}return Pt(J)?(e.consume(J),q(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(J),B)}function q(J,ct){const ut=t.sliceStream(J);if(ct&&ut.push(null),J.previous=l,l&&(l.next=J),l=J,a.defineSkip(J.start),a.write(ut),t.parser.lazy[J.start.line]){let W=a.events.length;for(;W--;)if(a.events[W][1].start.offset<c&&(!a.events[W][1].end||a.events[W][1].end.offset>c))return;const z=t.events.length;let N=z,k,U;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(k){U=t.events[N][1].end;break}k=!0}for(K(r),W=z;W<t.events.length;)t.events[W][1].end={...U},W++;ir(t.events,N+1,0,t.events.slice(z)),t.events.length=W}}function K(J){let ct=n.length;for(;ct-- >J;){const ut=n[ct];t.containerState=ut[1],ut[0].exit.call(t,e)}n.length=J}function nt(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function lU(e,t,n){return Ee(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lT(e){if(e===null||Vn(e)||iU(e))return 1;if(nU(e))return 2}function Zg(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const l=e[a].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Pm={name:"attention",resolveAll:uU,tokenize:cU};function uU(e,t){let n=-1,r,a,l,c,f,p,m,_;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;p=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const T={...e[r][1].end},R={...e[n][1].start};uT(T,-p),uT(R,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...e[r][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:R},l={type:p>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},e[r][1].end={...c.start},e[n][1].start={...f.end},m=[],e[r][1].end.offset-e[r][1].start.offset&&(m=yi(m,[["enter",e[r][1],t],["exit",e[r][1],t]])),m=yi(m,[["enter",a,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=yi(m,Zg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),m=yi(m,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(_=2,m=yi(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):_=0,ir(e,r-1,n-r+3,m),n=r+m.length-_-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function cU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=lT(r);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),f(p)}function f(p){if(p===l)return e.consume(p),f;const m=e.exit("attentionSequence"),_=lT(p),T=!_||_===2&&a||n.includes(p),R=!a||a===2&&_||n.includes(r);return m._open=!!(l===42?T:T&&(a||!R)),m._close=!!(l===42?R:R&&(_||!T)),t(p)}}function uT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hU={name:"autolink",tokenize:fU};function fU(e,t,n){let r=0;return a;function a(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Yi(S)?(e.consume(S),c):S===64?n(S):m(S)}function c(S){return S===43||S===45||S===46||Jn(S)?(r=1,f(S)):m(S)}function f(S){return S===58?(e.consume(S),r=0,p):(S===43||S===45||S===46||Jn(S))&&r++<32?(e.consume(S),f):(r=0,m(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Mm(S)?n(S):(e.consume(S),p)}function m(S){return S===64?(e.consume(S),_):JM(S)?(e.consume(S),m):n(S)}function _(S){return Jn(S)?T(S):n(S)}function T(S){return S===46?(e.consume(S),r=0,_):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):R(S)}function R(S){if((S===45||Jn(S))&&r++<63){const V=S===45?R:T;return e.consume(S),V}return n(S)}}const Rf={partial:!0,tokenize:dU};function dU(e,t,n){return r;function r(l){return ce(l)?Ee(e,a,"linePrefix")(l):a(l)}function a(l){return l===null||Pt(l)?t(l):n(l)}}const VS={continuation:{tokenize:mU},exit:gU,name:"blockQuote",tokenize:pU};function pU(e,t,n){const r=this;return a;function a(c){if(c===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return n(c)}function l(c){return ce(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function mU(e,t,n){const r=this;return a;function a(c){return ce(c)?Ee(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(VS,t,n)(c)}}function gU(e){e.exit("blockQuote")}const BS={name:"characterEscape",tokenize:yU};function yU(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),a}function a(l){return eU(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const zS={name:"characterReference",tokenize:_U};function _U(e,t,n){const r=this;let a=0,l,c;return f;function f(T){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),p}function p(T){return T===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(T),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,c=Jn,_(T))}function m(T){return T===88||T===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(T),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=tU,_):(e.enter("characterReferenceValue"),l=7,c=Um,_(T))}function _(T){if(T===59&&a){const R=e.exit("characterReferenceValue");return c===Jn&&!Wg(r.sliceSerialize(R))?n(T):(e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(T)&&a++<l?(e.consume(T),_):n(T)}}const cT={partial:!0,tokenize:EU},hT={concrete:!0,name:"codeFenced",tokenize:vU};function vU(e,t,n){const r=this,a={partial:!0,tokenize:ut};let l=0,c=0,f;return p;function p(W){return m(W)}function m(W){const z=r.events[r.events.length-1];return l=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,f=W,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),_(W)}function _(W){return W===f?(c++,e.consume(W),_):c<3?n(W):(e.exit("codeFencedFenceSequence"),ce(W)?Ee(e,T,"whitespace")(W):T(W))}function T(W){return W===null||Pt(W)?(e.exit("codeFencedFence"),r.interrupt?t(W):e.check(cT,B,ct)(W)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),R(W))}function R(W){return W===null||Pt(W)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T(W)):ce(W)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ee(e,S,"whitespace")(W)):W===96&&W===f?n(W):(e.consume(W),R)}function S(W){return W===null||Pt(W)?T(W):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),V(W))}function V(W){return W===null||Pt(W)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),T(W)):W===96&&W===f?n(W):(e.consume(W),V)}function B(W){return e.attempt(a,ct,q)(W)}function q(W){return e.enter("lineEnding"),e.consume(W),e.exit("lineEnding"),K}function K(W){return l>0&&ce(W)?Ee(e,nt,"linePrefix",l+1)(W):nt(W)}function nt(W){return W===null||Pt(W)?e.check(cT,B,ct)(W):(e.enter("codeFlowValue"),J(W))}function J(W){return W===null||Pt(W)?(e.exit("codeFlowValue"),nt(W)):(e.consume(W),J)}function ct(W){return e.exit("codeFenced"),t(W)}function ut(W,z,N){let k=0;return U;function U(vt){return W.enter("lineEnding"),W.consume(vt),W.exit("lineEnding"),L}function L(vt){return W.enter("codeFencedFence"),ce(vt)?Ee(W,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(vt):F(vt)}function F(vt){return vt===f?(W.enter("codeFencedFenceSequence"),O(vt)):N(vt)}function O(vt){return vt===f?(k++,W.consume(vt),O):k>=c?(W.exit("codeFencedFenceSequence"),ce(vt)?Ee(W,gt,"whitespace")(vt):gt(vt)):N(vt)}function gt(vt){return vt===null||Pt(vt)?(W.exit("codeFencedFence"),z(vt)):N(vt)}}}function EU(e,t,n){const r=this;return a;function a(c){return c===null?n(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return r.parser.lazy[r.now().line]?n(c):t(c)}}const $p={name:"codeIndented",tokenize:wU},TU={partial:!0,tokenize:bU};function wU(e,t,n){const r=this;return a;function a(m){return e.enter("codeIndented"),Ee(e,l,"linePrefix",5)(m)}function l(m){const _=r.events[r.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Pt(m)?e.attempt(TU,c,p)(m):(e.enter("codeFlowValue"),f(m))}function f(m){return m===null||Pt(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),f)}function p(m){return e.exit("codeIndented"),t(m)}}function bU(e,t,n){const r=this;return a;function a(c){return r.parser.lazy[r.now().line]?n(c):Pt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):Ee(e,l,"linePrefix",5)(c)}function l(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):Pt(c)?a(c):n(c)}}const SU={name:"codeText",previous:RU,resolve:AU,tokenize:IU};function AU(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function RU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function IU(e,t,n){let r=0,a,l;return c;function c(T){return e.enter("codeText"),e.enter("codeTextSequence"),f(T)}function f(T){return T===96?(e.consume(T),r++,f):(e.exit("codeTextSequence"),p(T))}function p(T){return T===null?n(T):T===32?(e.enter("space"),e.consume(T),e.exit("space"),p):T===96?(l=e.enter("codeTextSequence"),a=0,_(T)):Pt(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(T))}function m(T){return T===null||T===32||T===96||Pt(T)?(e.exit("codeTextData"),p(T)):(e.consume(T),m)}function _(T){return T===96?(e.consume(T),a++,_):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(T)):(l.type="codeTextData",m(T))}}class CU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&eu(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),eu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),eu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);eu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);eu(this.left,n.reverse())}}}function eu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function FS(e){const t={};let n=-1,r,a,l,c,f,p,m;const _=new CU(e);for(;++n<_.length;){for(;n in t;)n=t[n];if(r=_.get(n),n&&r[1].type==="chunkFlow"&&_.get(n-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,xU(_,n)),n=t[n],m=!0);else if(r[1]._container){for(l=n,a=void 0;l--;)if(c=_.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(_.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(r[1].end={..._.get(a)[1].start},f=_.slice(a,n),f.unshift(r),_.splice(a,n-a+1,f))}}return ir(e,0,Number.POSITIVE_INFINITY,_.slice(0)),!m}function xU(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const l=[];let c=n._tokenizer;c||(c=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],m={};let _,T,R=-1,S=n,V=0,B=0;const q=[B];for(;S;){for(;e.get(++a)[1]!==S;);l.push(a),S._tokenizer||(_=r.sliceStream(S),S.next||_.push(null),T&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(_),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=S,S=S.next}for(S=n;++R<f.length;)f[R][0]==="exit"&&f[R-1][0]==="enter"&&f[R][1].type===f[R-1][1].type&&f[R][1].start.line!==f[R][1].end.line&&(B=R+1,q.push(B),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):q.pop(),R=q.length;R--;){const K=f.slice(q[R],q[R+1]),nt=l.pop();p.push([nt,nt+K.length-1]),e.splice(nt,2,K)}for(p.reverse(),R=-1;++R<p.length;)m[V+p[R][0]]=V+p[R][1],V+=p[R][1]-p[R][0]-1;return m}const kU={resolve:OU,tokenize:NU},DU={partial:!0,tokenize:MU};function OU(e){return FS(e),e}function NU(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Pt(f)?e.check(DU,c,l)(f):(e.consume(f),a)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function c(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function MU(e,t,n){const r=this;return a;function a(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Ee(e,l,"linePrefix")}function l(c){if(c===null||Pt(c))return n(c);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):e.interrupt(r.parser.constructs.flow,n,t)(c)}}function jS(e,t,n,r,a,l,c,f,p){const m=p||Number.POSITIVE_INFINITY;let _=0;return T;function T(K){return K===60?(e.enter(r),e.enter(a),e.enter(l),e.consume(K),e.exit(l),R):K===null||K===32||K===41||Mm(K)?n(K):(e.enter(r),e.enter(c),e.enter(f),e.enter("chunkString",{contentType:"string"}),B(K))}function R(K){return K===62?(e.enter(l),e.consume(K),e.exit(l),e.exit(a),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(K))}function S(K){return K===62?(e.exit("chunkString"),e.exit(f),R(K)):K===null||K===60||Pt(K)?n(K):(e.consume(K),K===92?V:S)}function V(K){return K===60||K===62||K===92?(e.consume(K),S):S(K)}function B(K){return!_&&(K===null||K===41||Vn(K))?(e.exit("chunkString"),e.exit(f),e.exit(c),e.exit(r),t(K)):_<m&&K===40?(e.consume(K),_++,B):K===41?(e.consume(K),_--,B):K===null||K===32||K===40||Mm(K)?n(K):(e.consume(K),K===92?q:B)}function q(K){return K===40||K===41||K===92?(e.consume(K),B):B(K)}}function qS(e,t,n,r,a,l){const c=this;let f=0,p;return m;function m(S){return e.enter(r),e.enter(a),e.consume(S),e.exit(a),e.enter(l),_}function _(S){return f>999||S===null||S===91||S===93&&!p||S===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?n(S):S===93?(e.exit(l),e.enter(a),e.consume(S),e.exit(a),e.exit(r),t):Pt(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),_):(e.enter("chunkString",{contentType:"string"}),T(S))}function T(S){return S===null||S===91||S===93||Pt(S)||f++>999?(e.exit("chunkString"),_(S)):(e.consume(S),p||(p=!ce(S)),S===92?R:T)}function R(S){return S===91||S===92||S===93?(e.consume(S),f++,T):T(S)}}function HS(e,t,n,r,a,l){let c;return f;function f(R){return R===34||R===39||R===40?(e.enter(r),e.enter(a),e.consume(R),e.exit(a),c=R===40?41:R,p):n(R)}function p(R){return R===c?(e.enter(a),e.consume(R),e.exit(a),e.exit(r),t):(e.enter(l),m(R))}function m(R){return R===c?(e.exit(l),p(c)):R===null?n(R):Pt(R)?(e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),Ee(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===c||R===null||Pt(R)?(e.exit("chunkString"),m(R)):(e.consume(R),R===92?T:_)}function T(R){return R===c||R===92?(e.consume(R),_):_(R)}}function pu(e,t){let n;return r;function r(a){return Pt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):ce(a)?Ee(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const UU={name:"definition",tokenize:LU},PU={partial:!0,tokenize:VU};function LU(e,t,n){const r=this;let a;return l;function l(S){return e.enter("definition"),c(S)}function c(S){return qS.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return a=Mo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):n(S)}function p(S){return Vn(S)?pu(e,m)(S):m(S)}function m(S){return jS(e,_,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function _(S){return e.attempt(PU,T,T)(S)}function T(S){return ce(S)?Ee(e,R,"whitespace")(S):R(S)}function R(S){return S===null||Pt(S)?(e.exit("definition"),r.parser.defined.push(a),t(S)):n(S)}}function VU(e,t,n){return r;function r(f){return Vn(f)?pu(e,a)(f):n(f)}function a(f){return HS(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ce(f)?Ee(e,c,"whitespace")(f):c(f)}function c(f){return f===null||Pt(f)?t(f):n(f)}}const BU={name:"hardBreakEscape",tokenize:zU};function zU(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),a}function a(l){return Pt(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const FU={name:"headingAtx",resolve:jU,tokenize:qU};function jU(e,t){let n=e.length-2,r=3,a,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ir(e,r,n-r+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),e}function qU(e,t,n){let r=0;return a;function a(_){return e.enter("atxHeading"),l(_)}function l(_){return e.enter("atxHeadingSequence"),c(_)}function c(_){return _===35&&r++<6?(e.consume(_),c):_===null||Vn(_)?(e.exit("atxHeadingSequence"),f(_)):n(_)}function f(_){return _===35?(e.enter("atxHeadingSequence"),p(_)):_===null||Pt(_)?(e.exit("atxHeading"),t(_)):ce(_)?Ee(e,f,"whitespace")(_):(e.enter("atxHeadingText"),m(_))}function p(_){return _===35?(e.consume(_),p):(e.exit("atxHeadingSequence"),f(_))}function m(_){return _===null||_===35||Vn(_)?(e.exit("atxHeadingText"),f(_)):(e.consume(_),m)}}const HU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fT=["pre","script","style","textarea"],GU={concrete:!0,name:"htmlFlow",resolveTo:YU,tokenize:XU},KU={partial:!0,tokenize:WU},QU={partial:!0,tokenize:$U};function YU(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function XU(e,t,n){const r=this;let a,l,c,f,p;return m;function m(M){return _(M)}function _(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),T}function T(M){return M===33?(e.consume(M),R):M===47?(e.consume(M),l=!0,B):M===63?(e.consume(M),a=3,r.interrupt?t:I):Yi(M)?(e.consume(M),c=String.fromCharCode(M),q):n(M)}function R(M){return M===45?(e.consume(M),a=2,S):M===91?(e.consume(M),a=5,f=0,V):Yi(M)?(e.consume(M),a=4,r.interrupt?t:I):n(M)}function S(M){return M===45?(e.consume(M),r.interrupt?t:I):n(M)}function V(M){const _t="CDATA[";return M===_t.charCodeAt(f++)?(e.consume(M),f===_t.length?r.interrupt?t:F:V):n(M)}function B(M){return Yi(M)?(e.consume(M),c=String.fromCharCode(M),q):n(M)}function q(M){if(M===null||M===47||M===62||Vn(M)){const _t=M===47,Dt=c.toLowerCase();return!_t&&!l&&fT.includes(Dt)?(a=1,r.interrupt?t(M):F(M)):HU.includes(c.toLowerCase())?(a=6,_t?(e.consume(M),K):r.interrupt?t(M):F(M)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):l?nt(M):J(M))}return M===45||Jn(M)?(e.consume(M),c+=String.fromCharCode(M),q):n(M)}function K(M){return M===62?(e.consume(M),r.interrupt?t:F):n(M)}function nt(M){return ce(M)?(e.consume(M),nt):U(M)}function J(M){return M===47?(e.consume(M),U):M===58||M===95||Yi(M)?(e.consume(M),ct):ce(M)?(e.consume(M),J):U(M)}function ct(M){return M===45||M===46||M===58||M===95||Jn(M)?(e.consume(M),ct):ut(M)}function ut(M){return M===61?(e.consume(M),W):ce(M)?(e.consume(M),ut):J(M)}function W(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),p=M,z):ce(M)?(e.consume(M),W):N(M)}function z(M){return M===p?(e.consume(M),p=null,k):M===null||Pt(M)?n(M):(e.consume(M),z)}function N(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Vn(M)?ut(M):(e.consume(M),N)}function k(M){return M===47||M===62||ce(M)?J(M):n(M)}function U(M){return M===62?(e.consume(M),L):n(M)}function L(M){return M===null||Pt(M)?F(M):ce(M)?(e.consume(M),L):n(M)}function F(M){return M===45&&a===2?(e.consume(M),dt):M===60&&a===1?(e.consume(M),Tt):M===62&&a===4?(e.consume(M),rt):M===63&&a===3?(e.consume(M),I):M===93&&a===5?(e.consume(M),qt):Pt(M)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(KU,yt,O)(M)):M===null||Pt(M)?(e.exit("htmlFlowData"),O(M)):(e.consume(M),F)}function O(M){return e.check(QU,gt,yt)(M)}function gt(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),vt}function vt(M){return M===null||Pt(M)?O(M):(e.enter("htmlFlowData"),F(M))}function dt(M){return M===45?(e.consume(M),I):F(M)}function Tt(M){return M===47?(e.consume(M),c="",wt):F(M)}function wt(M){if(M===62){const _t=c.toLowerCase();return fT.includes(_t)?(e.consume(M),rt):F(M)}return Yi(M)&&c.length<8?(e.consume(M),c+=String.fromCharCode(M),wt):F(M)}function qt(M){return M===93?(e.consume(M),I):F(M)}function I(M){return M===62?(e.consume(M),rt):M===45&&a===2?(e.consume(M),I):F(M)}function rt(M){return M===null||Pt(M)?(e.exit("htmlFlowData"),yt(M)):(e.consume(M),rt)}function yt(M){return e.exit("htmlFlow"),t(M)}}function $U(e,t,n){const r=this;return a;function a(c){return Pt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):n(c)}function l(c){return r.parser.lazy[r.now().line]?n(c):t(c)}}function WU(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Rf,t,n)}}const ZU={name:"htmlText",tokenize:JU};function JU(e,t,n){const r=this;let a,l,c;return f;function f(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),m):I===47?(e.consume(I),ut):I===63?(e.consume(I),J):Yi(I)?(e.consume(I),N):n(I)}function m(I){return I===45?(e.consume(I),_):I===91?(e.consume(I),l=0,V):Yi(I)?(e.consume(I),nt):n(I)}function _(I){return I===45?(e.consume(I),S):n(I)}function T(I){return I===null?n(I):I===45?(e.consume(I),R):Pt(I)?(c=T,Tt(I)):(e.consume(I),T)}function R(I){return I===45?(e.consume(I),S):T(I)}function S(I){return I===62?dt(I):I===45?R(I):T(I)}function V(I){const rt="CDATA[";return I===rt.charCodeAt(l++)?(e.consume(I),l===rt.length?B:V):n(I)}function B(I){return I===null?n(I):I===93?(e.consume(I),q):Pt(I)?(c=B,Tt(I)):(e.consume(I),B)}function q(I){return I===93?(e.consume(I),K):B(I)}function K(I){return I===62?dt(I):I===93?(e.consume(I),K):B(I)}function nt(I){return I===null||I===62?dt(I):Pt(I)?(c=nt,Tt(I)):(e.consume(I),nt)}function J(I){return I===null?n(I):I===63?(e.consume(I),ct):Pt(I)?(c=J,Tt(I)):(e.consume(I),J)}function ct(I){return I===62?dt(I):J(I)}function ut(I){return Yi(I)?(e.consume(I),W):n(I)}function W(I){return I===45||Jn(I)?(e.consume(I),W):z(I)}function z(I){return Pt(I)?(c=z,Tt(I)):ce(I)?(e.consume(I),z):dt(I)}function N(I){return I===45||Jn(I)?(e.consume(I),N):I===47||I===62||Vn(I)?k(I):n(I)}function k(I){return I===47?(e.consume(I),dt):I===58||I===95||Yi(I)?(e.consume(I),U):Pt(I)?(c=k,Tt(I)):ce(I)?(e.consume(I),k):dt(I)}function U(I){return I===45||I===46||I===58||I===95||Jn(I)?(e.consume(I),U):L(I)}function L(I){return I===61?(e.consume(I),F):Pt(I)?(c=L,Tt(I)):ce(I)?(e.consume(I),L):k(I)}function F(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),a=I,O):Pt(I)?(c=F,Tt(I)):ce(I)?(e.consume(I),F):(e.consume(I),gt)}function O(I){return I===a?(e.consume(I),a=void 0,vt):I===null?n(I):Pt(I)?(c=O,Tt(I)):(e.consume(I),O)}function gt(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Vn(I)?k(I):(e.consume(I),gt)}function vt(I){return I===47||I===62||Vn(I)?k(I):n(I)}function dt(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function Tt(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),wt}function wt(I){return ce(I)?Ee(e,qt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):qt(I)}function qt(I){return e.enter("htmlTextData"),c(I)}}const Jg={name:"labelEnd",resolveAll:iP,resolveTo:rP,tokenize:sP},tP={tokenize:aP},eP={tokenize:oP},nP={tokenize:lP};function iP(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&ir(e,0,e.length,n),e}function rP(e,t){let n=e.length,r=0,a,l,c,f;for(;n--;)if(a=e[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(c=n);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},_={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[c-2][1].start}};return f=[["enter",p,t],["enter",m,t]],f=yi(f,e.slice(l+1,l+r+3)),f=yi(f,[["enter",_,t]]),f=yi(f,Zg(t.parser.constructs.insideSpan.null,e.slice(l+r+4,c-3),t)),f=yi(f,[["exit",_,t],e[c-2],e[c-1],["exit",m,t]]),f=yi(f,e.slice(c+1)),f=yi(f,[["exit",p,t]]),ir(e,l,e.length,f),e}function sP(e,t,n){const r=this;let a=r.events.length,l,c;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return f;function f(R){return l?l._inactive?T(R):(c=r.parser.defined.includes(Mo(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(R),e.exit("labelMarker"),e.exit("labelEnd"),p):n(R)}function p(R){return R===40?e.attempt(tP,_,c?_:T)(R):R===91?e.attempt(eP,_,c?m:T)(R):c?_(R):T(R)}function m(R){return e.attempt(nP,_,T)(R)}function _(R){return t(R)}function T(R){return l._balanced=!0,n(R)}}function aP(e,t,n){return r;function r(T){return e.enter("resource"),e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),a}function a(T){return Vn(T)?pu(e,l)(T):l(T)}function l(T){return T===41?_(T):jS(e,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return Vn(T)?pu(e,p)(T):_(T)}function f(T){return n(T)}function p(T){return T===34||T===39||T===40?HS(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):_(T)}function m(T){return Vn(T)?pu(e,_)(T):_(T)}function _(T){return T===41?(e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),e.exit("resource"),t):n(T)}}function oP(e,t,n){const r=this;return a;function a(f){return qS.call(r,e,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Mo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function c(f){return n(f)}}function lP(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),a}function a(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const uP={name:"labelStartImage",resolveAll:Jg.resolveAll,tokenize:cP};function cP(e,t,n){const r=this;return a;function a(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),c):n(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const hP={name:"labelStartLink",resolveAll:Jg.resolveAll,tokenize:fP};function fP(e,t,n){const r=this;return a;function a(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const Wp={name:"lineEnding",tokenize:dP};function dP(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ee(e,t,"linePrefix")}}const Ch={name:"thematicBreak",tokenize:pP};function pP(e,t,n){let r=0,a;return l;function l(m){return e.enter("thematicBreak"),c(m)}function c(m){return a=m,f(m)}function f(m){return m===a?(e.enter("thematicBreakSequence"),p(m)):r>=3&&(m===null||Pt(m))?(e.exit("thematicBreak"),t(m)):n(m)}function p(m){return m===a?(e.consume(m),r++,p):(e.exit("thematicBreakSequence"),ce(m)?Ee(e,f,"whitespace")(m):f(m))}}const Nn={continuation:{tokenize:_P},exit:EP,name:"list",tokenize:yP},mP={partial:!0,tokenize:TP},gP={partial:!0,tokenize:vP};function yP(e,t,n){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(S){const V=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(V==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Um(S)){if(r.containerState.type||(r.containerState.type=V,e.enter(V,{_container:!0})),V==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(Ch,n,m)(S):m(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return n(S)}function p(S){return Um(S)&&++c<10?(e.consume(S),p):(!r.interrupt||c<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),m(S)):n(S)}function m(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(Rf,r.interrupt?n:_,e.attempt(mP,R,T))}function _(S){return r.containerState.initialBlankLine=!0,l++,R(S)}function T(S){return ce(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),R):n(S)}function R(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function _P(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Rf,a,l);function a(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ee(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!ce(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(gP,t,c)(f))}function c(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ee(e,e.attempt(Nn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function vP(e,t,n){const r=this;return Ee(e,a,"listItemIndent",r.containerState.size+1);function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(l):n(l)}}function EP(e){e.exit(this.containerState.type)}function TP(e,t,n){const r=this;return Ee(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=r.events[r.events.length-1];return!ce(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const dT={name:"setextUnderline",resolveTo:wP,tokenize:bP};function wP(e,t){let n=e.length,r,a,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",l?(e.splice(a,0,["enter",c,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=c,e.push(["exit",c,t]),e}function bP(e,t,n){const r=this;let a;return l;function l(m){let _=r.events.length,T;for(;_--;)if(r.events[_][1].type!=="lineEnding"&&r.events[_][1].type!=="linePrefix"&&r.events[_][1].type!=="content"){T=r.events[_][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||T)?(e.enter("setextHeadingLine"),a=m,c(m)):n(m)}function c(m){return e.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(e.consume(m),f):(e.exit("setextHeadingLineSequence"),ce(m)?Ee(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Pt(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const SP={tokenize:AP};function AP(e){const t=this,n=e.attempt(Rf,r,e.attempt(this.parser.constructs.flowInitial,a,Ee(e,e.attempt(this.parser.constructs.flow,a,e.attempt(kU,a)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const RP={resolveAll:KS()},IP=GS("string"),CP=GS("text");function GS(e){return{resolveAll:KS(e==="text"?xP:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],l=n.attempt(a,c,f);return c;function c(_){return m(_)?l(_):f(_)}function f(_){if(_===null){n.consume(_);return}return n.enter("data"),n.consume(_),p}function p(_){return m(_)?(n.exit("data"),l(_)):(n.consume(_),p)}function m(_){if(_===null)return!0;const T=a[_];let R=-1;if(T)for(;++R<T.length;){const S=T[R];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function KS(e){return t;function t(n,r){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return e?e(n,r):n}}function xP(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let l=a.length,c=-1,f=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(m===-2)p=!0,f++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const m={type:n===e.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:r.start._bufferIndex+c,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const kP={42:Nn,43:Nn,45:Nn,48:Nn,49:Nn,50:Nn,51:Nn,52:Nn,53:Nn,54:Nn,55:Nn,56:Nn,57:Nn,62:VS},DP={91:UU},OP={[-2]:$p,[-1]:$p,32:$p},NP={35:FU,42:Ch,45:[dT,Ch],60:GU,61:dT,95:Ch,96:hT,126:hT},MP={38:zS,92:BS},UP={[-5]:Wp,[-4]:Wp,[-3]:Wp,33:uP,38:zS,42:Pm,60:[hU,ZU],91:hP,92:[BU,BS],93:Jg,95:Pm,96:SU},PP={null:[Pm,RP]},LP={null:[42,95]},VP={null:[]},BP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LP,contentInitial:DP,disable:VP,document:kP,flow:NP,flowInitial:OP,insideSpan:PP,string:MP,text:UP},Symbol.toStringTag,{value:"Module"}));function zP(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:z(ut),check:z(W),consume:nt,enter:J,exit:ct,interrupt:z(W,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:V,parser:e,previous:null,sliceSerialize:R,sliceStream:S,write:T};let _=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function T(L){return c=yi(c,L),q(),c[c.length-1]!==null?[]:(N(t,0),m.events=Zg(l,m.events,m),m.events)}function R(L,F){return jP(S(L),F)}function S(L){return FP(c,L)}function V(){const{_bufferIndex:L,_index:F,line:O,column:gt,offset:vt}=r;return{_bufferIndex:L,_index:F,line:O,column:gt,offset:vt}}function B(L){a[L.line]=L.column,U()}function q(){let L;for(;r._index<c.length;){const F=c[r._index];if(typeof F=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<F.length;)K(F.charCodeAt(r._bufferIndex));else K(F)}}function K(L){_=_(L)}function nt(L){Pt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,U()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=L}function J(L,F){const O=F||{};return O.type=L,O.start=V(),m.events.push(["enter",O,m]),f.push(O),O}function ct(L){const F=f.pop();return F.end=V(),m.events.push(["exit",F,m]),F}function ut(L,F){N(L,F.from)}function W(L,F){F.restore()}function z(L,F){return O;function O(gt,vt,dt){let Tt,wt,qt,I;return Array.isArray(gt)?yt(gt):"tokenize"in gt?yt([gt]):rt(gt);function rt(At){return de;function de(Mt){const ae=Mt!==null&&At[Mt],Kt=Mt!==null&&At.null,Ce=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return yt(Ce)(Mt)}}function yt(At){return Tt=At,wt=0,At.length===0?dt:M(At[wt])}function M(At){return de;function de(Mt){return I=k(),qt=At,At.partial||(m.currentConstruct=At),At.name&&m.parser.constructs.disable.null.includes(At.name)?Dt():At.tokenize.call(F?Object.assign(Object.create(m),F):m,p,_t,Dt)(Mt)}}function _t(At){return L(qt,I),vt}function Dt(At){return I.restore(),++wt<Tt.length?M(Tt[wt]):dt}}}function N(L,F){L.resolveAll&&!l.includes(L)&&l.push(L),L.resolve&&ir(m.events,F,m.events.length-F,L.resolve(m.events.slice(F),m)),L.resolveTo&&(m.events=L.resolveTo(m.events,m))}function k(){const L=V(),F=m.previous,O=m.currentConstruct,gt=m.events.length,vt=Array.from(f);return{from:gt,restore:dt};function dt(){r=L,m.previous=F,m.currentConstruct=O,m.events.length=gt,f=vt,U()}}function U(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function FP(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let c;if(n===a)c=[e[n].slice(r,l)];else{if(c=e.slice(n,a),r>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(r):c.shift()}l>0&&c.push(e[a].slice(0,l))}return c}function jP(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const l=e[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,r.push(c)}return r.join("")}function qP(e){const r={constructs:$M([BP,...(e||{}).extensions||[]]),content:a(rU),defined:[],document:a(aU),flow:a(SP),lazy:{},string:a(IP),text:a(CP)};return r;function a(l){return c;function c(f){return zP(r,l,f)}}}function HP(e){for(;!FS(e););return e}const pT=/[\0\t\n\r]/g;function GP(){let e=1,t="",n=!0,r;return a;function a(l,c,f){const p=[];let m,_,T,R,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),T=0,t="",n&&(l.charCodeAt(0)===65279&&T++,n=void 0);T<l.length;){if(pT.lastIndex=T,m=pT.exec(l),R=m&&m.index!==void 0?m.index:l.length,S=l.charCodeAt(R),!m){t=l.slice(T);break}if(S===10&&T===R&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),T<R&&(p.push(l.slice(T,R)),e+=R-T),S){case 0:{p.push(65533),e++;break}case 9:{for(_=Math.ceil(e/4)*4,p.push(-2);e++<_;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:r=!0,e=1}T=R+1}return f&&(r&&p.push(-5),t&&p.push(t),p.push(null)),p}}const KP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function QP(e){return e.replace(KP,YP)}function YP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return LS(n.slice(l?2:1),l?16:10)}return Wg(n)||e}const QS={}.hasOwnProperty;function XP(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$P(n)(HP(qP(n).document().write(GP()(e,t,!0))))}function $P(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ei),autolinkProtocol:k,autolinkEmail:k,atxHeading:l(zn),blockQuote:l(Kt),characterEscape:k,characterReference:k,codeFenced:l(Ce),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ce,c),codeText:l(xn,c),codeTextData:k,data:k,codeFlowValue:k,definition:l(Ne),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(ti,c),htmlFlowData:k,htmlText:l(ti,c),htmlTextData:k,image:l(xi),label:c,link:l(Ei),listItem:l(jn),listItemValue:R,listOrdered:l(Fn,T),listUnordered:l(Fn),paragraph:l(pn),reference:M,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(zn),strong:l(Ti),thematicBreak:l(wn)},exit:{atxHeading:p(),atxHeadingSequence:ut,autolink:p(),autolinkEmail:ae,autolinkProtocol:Mt,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Dt,characterReferenceMarkerNumeric:Dt,characterReferenceValue:At,characterReference:de,codeFenced:p(q),codeFencedFence:B,codeFencedFenceInfo:S,codeFencedFenceMeta:V,codeFlowValue:U,codeIndented:p(K),codeText:p(vt),codeTextData:U,data:U,definition:p(),definitionDestinationString:ct,definitionLabelString:nt,definitionTitleString:J,emphasis:p(),hardBreakEscape:p(F),hardBreakTrailing:p(F),htmlFlow:p(O),htmlFlowData:U,htmlText:p(gt),htmlTextData:U,image:p(Tt),label:qt,labelText:wt,lineEnding:L,link:p(dt),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:_t,resourceDestinationString:I,resourceTitleString:rt,resource:yt,setextHeading:p(N),setextHeadingLineSequence:z,setextHeadingText:W,strong:p(),thematicBreak:p()}};YS(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(tt){let A={type:"root",children:[]};const y={stack:[A],tokenStack:[],config:t,enter:f,exit:m,buffer:c,resume:_,data:n},E=[];let D=-1;for(;++D<tt.length;)if(tt[D][1].type==="listOrdered"||tt[D][1].type==="listUnordered")if(tt[D][0]==="enter")E.push(D);else{const j=E.pop();D=a(tt,j,D)}for(D=-1;++D<tt.length;){const j=t[tt[D][0]];QS.call(j,tt[D][1].type)&&j[tt[D][1].type].call(Object.assign({sliceSerialize:tt[D][2].sliceSerialize},y),tt[D][1])}if(y.tokenStack.length>0){const j=y.tokenStack[y.tokenStack.length-1];(j[1]||mT).call(y,void 0,j[0])}for(A.position={start:Es(tt.length>0?tt[0][1].start:{line:1,column:1,offset:0}),end:Es(tt.length>0?tt[tt.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<t.transforms.length;)A=t.transforms[D](A)||A;return A}function a(tt,A,y){let E=A-1,D=-1,j=!1,$,it,Rt,ee;for(;++E<=y;){const Nt=tt[E];switch(Nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nt[0]==="enter"?D++:D--,ee=void 0;break}case"lineEndingBlank":{Nt[0]==="enter"&&($&&!ee&&!D&&!Rt&&(Rt=E),ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ee=void 0}if(!D&&Nt[0]==="enter"&&Nt[1].type==="listItemPrefix"||D===-1&&Nt[0]==="exit"&&(Nt[1].type==="listUnordered"||Nt[1].type==="listOrdered")){if($){let Vt=E;for(it=void 0;Vt--;){const jt=tt[Vt];if(jt[1].type==="lineEnding"||jt[1].type==="lineEndingBlank"){if(jt[0]==="exit")continue;it&&(tt[it][1].type="lineEndingBlank",j=!0),jt[1].type="lineEnding",it=Vt}else if(!(jt[1].type==="linePrefix"||jt[1].type==="blockQuotePrefix"||jt[1].type==="blockQuotePrefixWhitespace"||jt[1].type==="blockQuoteMarker"||jt[1].type==="listItemIndent"))break}Rt&&(!it||Rt<it)&&($._spread=!0),$.end=Object.assign({},it?tt[it][1].start:Nt[1].end),tt.splice(it||E,0,["exit",$,Nt[2]]),E++,y++}if(Nt[1].type==="listItemPrefix"){const Vt={type:"listItem",_spread:!1,start:Object.assign({},Nt[1].start),end:void 0};$=Vt,tt.splice(E,0,["enter",Vt,Nt[2]]),E++,y++,Rt=void 0,ee=!0}}}return tt[A][1]._spread=j,y}function l(tt,A){return y;function y(E){f.call(this,tt(E),E),A&&A.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(tt,A,y){this.stack[this.stack.length-1].children.push(tt),this.stack.push(tt),this.tokenStack.push([A,y||void 0]),tt.position={start:Es(A.start),end:void 0}}function p(tt){return A;function A(y){tt&&tt.call(this,y),m.call(this,y)}}function m(tt,A){const y=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==tt.type&&(A?A.call(this,tt,E[0]):(E[1]||mT).call(this,tt,E[0]));else throw new Error("Cannot close `"+tt.type+"` ("+du({start:tt.start,end:tt.end})+"): it’s not open");y.position.end=Es(tt.end)}function _(){return YM(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function R(tt){if(this.data.expectingFirstListItemValue){const A=this.stack[this.stack.length-2];A.start=Number.parseInt(this.sliceSerialize(tt),10),this.data.expectingFirstListItemValue=void 0}}function S(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.lang=tt}function V(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.meta=tt}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function q(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function K(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt.replace(/(\r?\n|\r)$/g,"")}function nt(tt){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=Mo(this.sliceSerialize(tt)).toLowerCase()}function J(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.title=tt}function ct(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.url=tt}function ut(tt){const A=this.stack[this.stack.length-1];if(!A.depth){const y=this.sliceSerialize(tt).length;A.depth=y}}function W(){this.data.setextHeadingSlurpLineEnding=!0}function z(tt){const A=this.stack[this.stack.length-1];A.depth=this.sliceSerialize(tt).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function k(tt){const y=this.stack[this.stack.length-1].children;let E=y[y.length-1];(!E||E.type!=="text")&&(E=We(),E.position={start:Es(tt.start),end:void 0},y.push(E)),this.stack.push(E)}function U(tt){const A=this.stack.pop();A.value+=this.sliceSerialize(tt),A.position.end=Es(tt.end)}function L(tt){const A=this.stack[this.stack.length-1];if(this.data.atHardBreak){const y=A.children[A.children.length-1];y.position.end=Es(tt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(A.type)&&(k.call(this,tt),U.call(this,tt))}function F(){this.data.atHardBreak=!0}function O(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt}function gt(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt}function vt(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt}function dt(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=A,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function Tt(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=A,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function wt(tt){const A=this.sliceSerialize(tt),y=this.stack[this.stack.length-2];y.label=QP(A),y.identifier=Mo(A).toLowerCase()}function qt(){const tt=this.stack[this.stack.length-1],A=this.resume(),y=this.stack[this.stack.length-1];if(this.data.inReference=!0,y.type==="link"){const E=tt.children;y.children=E}else y.alt=A}function I(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.url=tt}function rt(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.title=tt}function yt(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function _t(tt){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=Mo(this.sliceSerialize(tt)).toLowerCase(),this.data.referenceType="full"}function Dt(tt){this.data.characterReferenceType=tt.type}function At(tt){const A=this.sliceSerialize(tt),y=this.data.characterReferenceType;let E;y?(E=LS(A,y==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=Wg(A);const D=this.stack[this.stack.length-1];D.value+=E}function de(tt){const A=this.stack.pop();A.position.end=Es(tt.end)}function Mt(tt){U.call(this,tt);const A=this.stack[this.stack.length-1];A.url=this.sliceSerialize(tt)}function ae(tt){U.call(this,tt);const A=this.stack[this.stack.length-1];A.url="mailto:"+this.sliceSerialize(tt)}function Kt(){return{type:"blockquote",children:[]}}function Ce(){return{type:"code",lang:null,meta:null,value:""}}function xn(){return{type:"inlineCode",value:""}}function Ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function zn(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function ti(){return{type:"html",value:""}}function xi(){return{type:"image",title:null,url:"",alt:null}}function Ei(){return{type:"link",title:null,url:"",children:[]}}function Fn(tt){return{type:"list",ordered:tt.type==="listOrdered",start:null,spread:tt._spread,children:[]}}function jn(tt){return{type:"listItem",spread:tt._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function Ti(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function wn(){return{type:"thematicBreak"}}}function Es(e){return{line:e.line,column:e.column,offset:e.offset}}function YS(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?YS(e,r):WP(e,r)}}function WP(e,t){let n;for(n in t)if(QS.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function mT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+du({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+du({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+du({start:t.start,end:t.end})+") is still open")}function ZP(e){const t=this;t.parser=n;function n(r){return XP(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function JP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function tL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function eL(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function nL(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iL(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rL(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=$o(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let c,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),c=e.footnoteOrder.length):c=l+1,f+=1,e.footnoteCounts.set(r,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,m),e.applyData(t,m)}function sL(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aL(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function XS(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=r:a.push({type:"text",value:r}),a}function oL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XS(e,t);const a={src:$o(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,l),e.applyData(t,l)}function lL(e,t){const n={src:$o(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function uL(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function cL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XS(e,t);const a={href:$o(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function hL(e,t){const n={href:$o(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fL(e,t,n){const r=e.all(t),a=n?dL(n):$S(t),l={},c=[];if(typeof t.checked=="boolean"){const _=r[0];let T;_&&_.type==="element"&&_.tagName==="p"?T=_:(T={type:"element",tagName:"p",properties:{},children:[]},r.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const _=r[f];(a||f!==0||_.type!=="element"||_.tagName!=="p")&&c.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!a?c.push(..._.children):c.push(_)}const p=r[r.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,m),e.applyData(t,m)}function dL(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=$S(n[r])}return t}function $S(e){const t=e.spread;return t??e.children.length>1}function pL(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const c=r[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function mL(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gL(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function yL(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _L(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Qg(t.children[1]),p=kS(t.children[t.children.length-1]);f&&p&&(c.position={start:f,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function vL(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,f=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<f;){const T=t.children[p],R={},S=c?c[p]:void 0;S&&(R.align=S);let V={type:"element",tagName:l,properties:R,children:[]};T&&(V.children=e.all(T),e.patch(T,V),V=e.applyData(T,V)),m.push(V)}const _={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,_),e.applyData(t,_)}function EL(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const gT=9,yT=32;function TL(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const l=[];for(;r;)l.push(_T(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return l.push(_T(t.slice(a),a>0,!1)),l.join("")}function _T(e,t,n){let r=0,a=e.length;if(t){let l=e.codePointAt(r);for(;l===gT||l===yT;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(a-1);for(;l===gT||l===yT;)a--,l=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function wL(e,t){const n={type:"text",value:TL(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function bL(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const SL={blockquote:JP,break:tL,code:eL,delete:nL,emphasis:iL,footnoteReference:rL,heading:sL,html:aL,imageReference:oL,image:lL,inlineCode:uL,linkReference:cL,link:hL,listItem:fL,list:pL,paragraph:mL,root:gL,strong:yL,table:_L,tableCell:EL,tableRow:vL,text:wL,thematicBreak:bL,toml:mh,yaml:mh,definition:mh,footnoteDefinition:mh};function mh(){}const WS=-1,If=0,mu=1,$h=2,ty=3,ey=4,ny=5,iy=6,ZS=7,JS=8,vT=typeof self=="object"?self:globalThis,AL=(e,t)=>{const n=(a,l)=>(e.set(l,a),a),r=a=>{if(e.has(a))return e.get(a);const[l,c]=t[a];switch(l){case If:case WS:return n(c,a);case mu:{const f=n([],a);for(const p of c)f.push(r(p));return f}case $h:{const f=n({},a);for(const[p,m]of c)f[r(p)]=r(m);return f}case ty:return n(new Date(c),a);case ey:{const{source:f,flags:p}=c;return n(new RegExp(f,p),a)}case ny:{const f=n(new Map,a);for(const[p,m]of c)f.set(r(p),r(m));return f}case iy:{const f=n(new Set,a);for(const p of c)f.add(r(p));return f}case ZS:{const{name:f,message:p}=c;return n(new vT[f](p),a)}case JS:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return n(new DataView(f),c)}}return n(new vT[l](c),a)};return r},ET=e=>AL(new Map,e)(0),wo="",{toString:RL}={},{keys:IL}=Object,nu=e=>{const t=typeof e;if(t!=="object"||!e)return[If,t];const n=RL.call(e).slice(8,-1);switch(n){case"Array":return[mu,wo];case"Object":return[$h,wo];case"Date":return[ty,wo];case"RegExp":return[ey,wo];case"Map":return[ny,wo];case"Set":return[iy,wo];case"DataView":return[mu,n]}return n.includes("Array")?[mu,n]:n.includes("Error")?[ZS,n]:[$h,n]},gh=([e,t])=>e===If&&(t==="function"||t==="symbol"),CL=(e,t,n,r)=>{const a=(c,f)=>{const p=r.push(c)-1;return n.set(f,p),p},l=c=>{if(n.has(c))return n.get(c);let[f,p]=nu(c);switch(f){case If:{let _=c;switch(p){case"bigint":f=JS,_=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);_=null;break;case"undefined":return a([WS],c)}return a([f,_],c)}case mu:{if(p){let R=c;return p==="DataView"?R=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(R=new Uint8Array(c)),a([p,[...R]],c)}const _=[],T=a([f,_],c);for(const R of c)_.push(l(R));return T}case $h:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const _=[],T=a([f,_],c);for(const R of IL(c))(e||!gh(nu(c[R])))&&_.push([l(R),l(c[R])]);return T}case ty:return a([f,c.toISOString()],c);case ey:{const{source:_,flags:T}=c;return a([f,{source:_,flags:T}],c)}case ny:{const _=[],T=a([f,_],c);for(const[R,S]of c)(e||!(gh(nu(R))||gh(nu(S))))&&_.push([l(R),l(S)]);return T}case iy:{const _=[],T=a([f,_],c);for(const R of c)(e||!gh(nu(R)))&&_.push(l(R));return T}}const{message:m}=c;return a([f,{name:p,message:m}],c)};return l},TT=(e,{json:t,lossy:n}={})=>{const r=[];return CL(!(t||n),!!t,new Map,r)(e),r},Wh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ET(TT(e,t)):structuredClone(e):(e,t)=>ET(TT(e,t));function xL(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function kL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function DL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||xL,r=e.options.footnoteBackLabel||kL,a=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const _=e.all(m),T=String(m.identifier).toUpperCase(),R=$o(T.toLowerCase());let S=0;const V=[],B=e.footnoteCounts.get(T);for(;B!==void 0&&++S<=B;){V.length>0&&V.push({type:"text",value:" "});let nt=typeof n=="string"?n:n(p,S);typeof nt=="string"&&(nt={type:"text",value:nt}),V.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+R+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,S),className:["data-footnote-backref"]},children:Array.isArray(nt)?nt:[nt]})}const q=_[_.length-1];if(q&&q.type==="element"&&q.tagName==="p"){const nt=q.children[q.children.length-1];nt&&nt.type==="text"?nt.value+=" ":q.children.push({type:"text",value:" "}),q.children.push(...V)}else _.push(...V);const K={type:"element",tagName:"li",properties:{id:t+"fn-"+R},children:e.wrap(_,!0)};e.patch(m,K),f.push(K)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Wh(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const tA=function(e){if(e==null)return UL;if(typeof e=="function")return Cf(e);if(typeof e=="object")return Array.isArray(e)?OL(e):NL(e);if(typeof e=="string")return ML(e);throw new Error("Expected function, string, or object as test")};function OL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tA(e[n]);return Cf(r);function r(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function NL(e){const t=e;return Cf(n);function n(r){const a=r;let l;for(l in e)if(a[l]!==t[l])return!1;return!0}}function ML(e){return Cf(t);function t(n){return n&&n.type===e}}function Cf(e){return t;function t(n,r,a){return!!(PL(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function UL(){return!0}function PL(e){return e!==null&&typeof e=="object"&&"type"in e}const eA=[],LL=!0,wT=!1,VL="skip";function BL(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const l=tA(a),c=r?-1:1;f(e,void 0,[])();function f(p,m,_){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const S=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(R,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return R;function R(){let S=eA,V,B,q;if((!t||l(p,m,_[_.length-1]||void 0))&&(S=zL(n(p,_)),S[0]===wT))return S;if("children"in p&&p.children){const K=p;if(K.children&&S[0]!==VL)for(B=(r?K.children.length:-1)+c,q=_.concat(K);B>-1&&B<K.children.length;){const nt=K.children[B];if(V=f(nt,B,q)(),V[0]===wT)return V;B=typeof V[1]=="number"?V[1]:B+c}}return S}}}function zL(e){return Array.isArray(e)?e:typeof e=="number"?[LL,e]:e==null?eA:[e]}function nA(e,t,n,r){let a,l,c;typeof t=="function"?(l=void 0,c=t,a=n):(l=t,c=n,a=r),BL(e,l,f,a);function f(p,m){const _=m[m.length-1],T=_?_.children.indexOf(p):void 0;return c(p,T,_)}}const Lm={}.hasOwnProperty,FL={};function jL(e,t){const n=t||FL,r=new Map,a=new Map,l=new Map,c={...SL,...n.handlers},f={all:m,applyData:HL,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:qL,wrap:KL};return nA(e,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const T=_.type==="definition"?r:a,R=String(_.identifier).toUpperCase();T.has(R)||T.set(R,_)}}),f;function p(_,T){const R=_.type,S=f.handlers[R];if(Lm.call(f.handlers,R)&&S)return S(f,_,T);if(f.options.passThrough&&f.options.passThrough.includes(R)){if("children"in _){const{children:B,...q}=_,K=Wh(q);return K.children=f.all(_),K}return Wh(_)}return(f.options.unknownHandler||GL)(f,_,T)}function m(_){const T=[];if("children"in _){const R=_.children;let S=-1;for(;++S<R.length;){const V=f.one(R[S],_);if(V){if(S&&R[S-1].type==="break"&&(!Array.isArray(V)&&V.type==="text"&&(V.value=bT(V.value)),!Array.isArray(V)&&V.type==="element")){const B=V.children[0];B&&B.type==="text"&&(B.value=bT(B.value))}Array.isArray(V)?T.push(...V):T.push(V)}}}return T}}function qL(e,t){e.position&&(t.position=SM(e))}function HL(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const c="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,Wh(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function GL(e,t){const n=t.data||{},r="value"in t&&!(Lm.call(n,"hProperties")||Lm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function KL(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ST(e,t){const n=jL(e,t),r=n.one(e,void 0),a=DL(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function QL(e,t){return e&&"run"in e?async function(n,r){const a=ST(n,{file:r,...t});await e.run(a,r)}:function(n,r){return ST(n,{file:r,...e||t})}}function AT(e){if(e)throw e}var Zp,RT;function YL(){if(RT)return Zp;RT=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var _=e.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!_&&!T)return!1;var R;for(R in m);return typeof R>"u"||e.call(m,R)},c=function(m,_){n&&_.name==="__proto__"?n(m,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):m[_.name]=_.newValue},f=function(m,_){if(_==="__proto__")if(e.call(m,_)){if(r)return r(m,_).value}else return;return m[_]};return Zp=function p(){var m,_,T,R,S,V,B=arguments[0],q=1,K=arguments.length,nt=!1;for(typeof B=="boolean"&&(nt=B,B=arguments[1]||{},q=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});q<K;++q)if(m=arguments[q],m!=null)for(_ in m)T=f(B,_),R=f(m,_),B!==R&&(nt&&R&&(l(R)||(S=a(R)))?(S?(S=!1,V=T&&a(T)?T:[]):V=T&&l(T)?T:{},c(B,{name:_,newValue:p(nt,V,R)})):typeof R<"u"&&c(B,{name:_,newValue:R}));return B},Zp}var XL=YL();const Jp=Ru(XL);function Vm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $L(){const e=[],t={run:n,use:r};return t;function n(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...m){const _=e[++l];let T=-1;if(p){c(p);return}for(;++T<a.length;)(m[T]===null||m[T]===void 0)&&(m[T]=a[T]);a=m,_?WL(_,f)(...m):c(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function WL(e,t){let n;return r;function r(...c){const f=e.length>c.length;let p;f&&c.push(a);try{p=e.apply(this,c)}catch(m){const _=m;if(f&&n)throw _;return a(_)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){n||(n=!0,t(c,...f))}function l(c){a(null,c)}}const Gi={basename:ZL,dirname:JL,extname:tV,join:eV,sep:"/"};function ZL(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zu(e);let n=0,r=-1,a=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let c=-1,f=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(e.codePointAt(a)===t.codePointAt(f--)?f<0&&(r=a):(f=-1,r=c));return n===r?r=c:r<0&&(r=e.length),e.slice(n,r)}function JL(e){if(zu(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function tV(e){zu(e);let t=e.length,n=-1,r=0,a=-1,l=0,c;for(;t--;){const f=e.codePointAt(t);if(f===47){if(c){r=t+1;break}continue}n<0&&(c=!0,n=t+1),f===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function eV(...e){let t=-1,n;for(;++t<e.length;)zu(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":nV(n)}function nV(e){zu(e);const t=e.codePointAt(0)===47;let n=iV(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function iV(e,t){let n="",r=0,a=-1,l=0,c=-1,f,p;for(;++c<=e.length;){if(c<e.length)f=e.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),a=c,l=0;continue}}else if(n.length>0){n="",r=0,a=c,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,c):n=e.slice(a+1,c),r=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return n}function zu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rV={cwd:sV};function sV(){return"/"}function Bm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function aV(e){if(typeof e=="string")e=new URL(e);else if(!Bm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return oV(e)}function oV(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const tm=["history","path","basename","stem","extname","dirname"];class iA{constructor(t){let n;t?Bm(t)?n={path:t}:typeof t=="string"||lV(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":rV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<tm.length;){const l=tm[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)tm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Gi.basename(this.path):void 0}set basename(t){nm(t,"basename"),em(t,"basename"),this.path=Gi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gi.dirname(this.path):void 0}set dirname(t){IT(this.basename,"dirname"),this.path=Gi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gi.extname(this.path):void 0}set extname(t){if(em(t,"extname"),IT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Bm(t)&&(t=aV(t)),nm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gi.basename(this.path,this.extname):void 0}set stem(t){nm(t,"stem"),em(t,"stem"),this.path=Gi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Tn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function em(e,t){if(e&&e.includes(Gi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gi.sep+"`")}function nm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function IT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function lV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const uV=function(e){const r=this.constructor.prototype,a=r[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},cV={}.hasOwnProperty;class ry extends uV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$L()}copy(){const t=new ry;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Jp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(sm("data",this.frozen),this.namespace[t]=n,this):cV.call(this.namespace,t)&&this.namespace[t]||void 0:t?(sm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yh(t),r=this.parser||this.Parser;return im("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),im("process",this.parser||this.Parser),rm("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,c){const f=yh(t),p=r.parse(f);r.run(p,f,function(_,T,R){if(_||!T||!R)return m(_);const S=T,V=r.stringify(S,R);dV(V)?R.value=V:R.result=V,m(_,R)});function m(_,T){_||!T?c(_):l?l(T):n(void 0,T)}}}processSync(t){let n=!1,r;return this.freeze(),im("processSync",this.parser||this.Parser),rm("processSync",this.compiler||this.Compiler),this.process(t,a),xT("processSync","process",n),r;function a(l,c){n=!0,AT(l),r=c}}run(t,n,r){CT(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(c,f){const p=yh(n);a.run(t,p,m);function m(_,T,R){const S=T||t;_?f(_):c?c(S):r(void 0,S,R)}}}runSync(t,n){let r=!1,a;return this.run(t,n,l),xT("runSync","run",r),a;function l(c,f){AT(c),a=f,r=!0}}stringify(t,n){this.freeze();const r=yh(n),a=this.compiler||this.Compiler;return rm("stringify",a),CT(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(sm("use",this.frozen),t!=null)if(typeof t=="function")p(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[_,...T]=m;p(_,T)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=Jp(!0,a.settings,m.settings))}function f(m){let _=-1;if(m!=null)if(Array.isArray(m))for(;++_<m.length;){const T=m[_];l(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,_){let T=-1,R=-1;for(;++T<r.length;)if(r[T][0]===m){R=T;break}if(R===-1)r.push([m,..._]);else if(_.length>0){let[S,...V]=_;const B=r[R][1];Vm(B)&&Vm(S)&&(S=Jp(!0,B,S)),r[R]=[m,S,...V]}}}}const hV=new ry().freeze();function im(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function rm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function sm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CT(e){if(!Vm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function xT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yh(e){return fV(e)?e:new iA(e)}function fV(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function dV(e){return typeof e=="string"||pV(e)}function pV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kT=[],DT={allowDangerousHtml:!0},gV=/^(https?|ircs?|mailto|xmpp)$/i,yV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function _V(e){const t=vV(e),n=EV(e);return TV(t.runSync(t.parse(n),n),e)}function vV(e){const t=e.rehypePlugins||kT,n=e.remarkPlugins||kT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...DT}:DT;return hV().use(ZP).use(n).use(QL,r).use(t)}function EV(e){const t=e.children||"",n=new iA;return typeof t=="string"&&(n.value=t),n}function TV(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,l=t.disallowedElements,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||wV;for(const _ of yV)Object.hasOwn(t,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+mV+_.id,void 0);return nA(e,m),kM(e,{Fragment:Et.Fragment,components:a,ignoreInvalidStyle:!0,jsx:Et.jsx,jsxs:Et.jsxs,passKeys:!0,passNode:!0});function m(_,T,R){if(_.type==="raw"&&R&&typeof T=="number")return c?R.children.splice(T,1):R.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let S;for(S in Xp)if(Object.hasOwn(Xp,S)&&Object.hasOwn(_.properties,S)){const V=_.properties[S],B=Xp[S];(B===null||B.includes(_.tagName))&&(_.properties[S]=p(String(V||""),S,_))}}if(_.type==="element"){let S=n?!n.includes(_.tagName):l?l.includes(_.tagName):!1;if(!S&&r&&typeof T=="number"&&(S=!r(_,T,R)),S&&R&&typeof T=="number")return f&&_.children?R.children.splice(T,1,..._.children):R.children.splice(T,1),T}}}function wV(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||gV.test(e.slice(0,t))?e:""}function bV({enemy:e,onClose:t}){const[n,r]=$t.useState(e.name),[a,l]=$t.useState(e.customDescription),[c,f]=$t.useState(null),[p,m]=$t.useState(null),[_,T]=$t.useState(e.imageURL||""),[R,S]=$t.useState(e.imageURL2||""),[V,B]=$t.useState(0),[q,K]=$t.useState(0),nt=async(ct,ut,W)=>{if(!ct)return;const z=qb(TS,`enemies/${e.authorUid}/${ct.name}`),N=Fb(z,ct);N.on("state_changed",k=>{const U=k.bytesTransferred/k.totalBytes*100;W(U)},k=>{console.error("Ошибка загрузки:",k)},async()=>{const k=await jb(N.snapshot.ref);ut(k)})},J=async ct=>{ct.preventDefault();const ut={name:n,customDescription:a,imageURL:_,imageURL2:R},W=bu(Ia,"eotv-enemies",e.id);await Uk(W,ut),t()};return Et.jsxs("div",{className:"edit-modal",children:[Et.jsx("h3",{children:"Редактирование противника"}),Et.jsxs("form",{onSubmit:J,children:[Et.jsx("input",{type:"text",value:n,onChange:ct=>r(ct.target.value),required:!0}),Et.jsx("textarea",{value:a,onChange:ct=>l(ct.target.value)}),Et.jsx("input",{type:"file",onChange:ct=>f(ct.target.files[0])}),Et.jsx("button",{type:"button",onClick:()=>nt(c,T,B),disabled:!c,children:"Обновить основное изображение"}),V>0&&Et.jsxs("p",{children:["Прогресс загрузки: ",V.toFixed(2),"%"]}),_&&Et.jsx("img",{src:_,alt:"Обновленное изображение",width:100}),Et.jsx("input",{type:"file",onChange:ct=>m(ct.target.files[0])}),Et.jsx("button",{type:"button",onClick:()=>nt(p,S,K),disabled:!p,children:"Обновить доп. изображение"}),q>0&&Et.jsxs("p",{children:["Прогресс загрузки: ",q.toFixed(2),"%"]}),R&&Et.jsx("img",{src:R,alt:"Обновленное изображение 2",width:100}),Et.jsx("button",{type:"submit",children:"Сохранить"}),Et.jsx("button",{type:"button",onClick:t,children:"Отмена"})]})]})}function SV(){const[e,t]=$t.useState([]),[n,r]=$t.useState({}),[a,l]=$t.useState(null),[c,f]=$t.useState(null);$t.useEffect(()=>{const m=vb(Hg,async T=>{const R=T.docs.map(B=>({id:B.id,...B.data()}));t(R);const S=[...new Set(R.map(B=>B.authorUid))],V={};for(const B of S){const q=bu(Ia,"users",B),K=await Ok(q);K.exists()&&(V[B]=K.data())}r(V)}),_=bf(Oo,T=>{f(T)});return()=>{m(),_()}},[]);const p=async m=>{c&&window.confirm("Are you sure you want to delete this enemy?")&&await Pk(bu(Ia,"eotv-enemies",m))};return Et.jsxs("div",{children:[Et.jsx("h3",{children:"Список протвиников"}),e.map(m=>{var _,T;return Et.jsxs("div",{children:[Et.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[((_=n[m.authorUid])==null?void 0:_.photoURL)&&Et.jsx("img",{src:n[m.authorUid].photoURL,alt:"User avatar",width:40,style:{borderRadius:"50%"}}),Et.jsx("p",{children:((T=n[m.authorUid])==null?void 0:T.displayName)||"Unknown"})]}),Et.jsx("h3",{children:m.name}),Et.jsx(_V,{children:m.customDescription}),m.imageURL&&Et.jsx("img",{src:m.imageURL,alt:m.name,width:100}),m.imageURL2&&Et.jsx("img",{src:m.imageURL2,alt:`${m.name} extra`,width:100}),c&&c.uid===m.authorUid&&Et.jsxs(Et.Fragment,{children:[Et.jsx("button",{onClick:()=>l(m),children:"Edit"}),Et.jsx("button",{onClick:()=>p(m.id),children:"Delete"})]})]},m.id)}),a&&Et.jsx(bV,{enemy:a,onClose:()=>l(null)})]})}function AV(){const[e,t]=$t.useState([]),[n,r]=$t.useState(null);return $t.useEffect(()=>{const a=vb(Hg,c=>{const f=c.docs.map(p=>({id:p.id,...p.data()}));t(f)}),l=bf(Oo,c=>{r(c)});return()=>{a(),l()}},[]),Et.jsxs("div",{children:[Et.jsx("h1",{children:"d320"}),Et.jsx(JN,{}),Et.jsx("h2",{children:"Каталог протвиников для игры Грань Вселенной"}),n&&Et.jsx(nM,{}),Et.jsx(SV,{enemies:e})]})}const RV=K1.createRoot(document.getElementById("root"));RV.render(Et.jsx(V1.StrictMode,{children:Et.jsx(AV,{})}));
