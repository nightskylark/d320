(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Su(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tp={},$l={},i0;function A1(){if(i0)return $l;i0=1,$l.byteLength=f,$l.toByteArray=m,$l.fromByteArray=R;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=r.length;a<l;++a)n[a]=r[a],t[r.charCodeAt(a)]=a;t[45]=62,t[95]=63;function c(S){var V=S.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=S.indexOf("=");B===-1&&(B=V);var q=B===V?0:4-B%4;return[B,q]}function f(S){var V=c(S),B=V[0],q=V[1];return(B+q)*3/4-q}function p(S,V,B){return(V+B)*3/4-B}function m(S){var V,B=c(S),q=B[0],K=B[1],nt=new e(p(S,q,K)),J=0,ct=K>0?q-4:q,ut;for(ut=0;ut<ct;ut+=4)V=t[S.charCodeAt(ut)]<<18|t[S.charCodeAt(ut+1)]<<12|t[S.charCodeAt(ut+2)]<<6|t[S.charCodeAt(ut+3)],nt[J++]=V>>16&255,nt[J++]=V>>8&255,nt[J++]=V&255;return K===2&&(V=t[S.charCodeAt(ut)]<<2|t[S.charCodeAt(ut+1)]>>4,nt[J++]=V&255),K===1&&(V=t[S.charCodeAt(ut)]<<10|t[S.charCodeAt(ut+1)]<<4|t[S.charCodeAt(ut+2)]>>2,nt[J++]=V>>8&255,nt[J++]=V&255),nt}function _(S){return n[S>>18&63]+n[S>>12&63]+n[S>>6&63]+n[S&63]}function T(S,V,B){for(var q,K=[],nt=V;nt<B;nt+=3)q=(S[nt]<<16&16711680)+(S[nt+1]<<8&65280)+(S[nt+2]&255),K.push(_(q));return K.join("")}function R(S){for(var V,B=S.length,q=B%3,K=[],nt=16383,J=0,ct=B-q;J<ct;J+=nt)K.push(T(S,J,J+nt>ct?ct:J+nt));return q===1?(V=S[B-1],K.push(n[V>>2]+n[V<<4&63]+"==")):q===2&&(V=(S[B-2]<<8)+S[B-1],K.push(n[V>>10]+n[V>>4&63]+n[V<<2&63]+"=")),K.join("")}return $l}var rh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r0;function R1(){return r0||(r0=1,rh.read=function(n,t,e,r,a){var l,c,f=a*8-r-1,p=(1<<f)-1,m=p>>1,_=-7,T=e?a-1:0,R=e?-1:1,S=n[t+T];for(T+=R,l=S&(1<<-_)-1,S>>=-_,_+=f;_>0;l=l*256+n[t+T],T+=R,_-=8);for(c=l&(1<<-_)-1,l>>=-_,_+=r;_>0;c=c*256+n[t+T],T+=R,_-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,r),l=l-m}return(S?-1:1)*c*Math.pow(2,l-r)},rh.write=function(n,t,e,r,a,l){var c,f,p,m=l*8-a-1,_=(1<<m)-1,T=_>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:l-1,V=r?1:-1,B=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,c=_):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+T>=1?t+=R/p:t+=R*Math.pow(2,1-T),t*p>=2&&(c++,p/=2),c+T>=_?(f=0,c=_):c+T>=1?(f=(t*p-1)*Math.pow(2,a),c=c+T):(f=t*Math.pow(2,T-1)*Math.pow(2,a),c=0));a>=8;n[e+S]=f&255,S+=V,f/=256,a-=8);for(c=c<<a|f,m+=a;m>0;n[e+S]=c&255,S+=V,c/=256,m-=8);n[e+S-V]|=B*128}),rh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var s0;function I1(){return s0||(s0=1,function(n){const t=A1(),e=R1(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=nt,n.INSPECT_MAX_BYTES=50;const a=2147483647;n.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(A,y),A.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(A){if(A>a)throw new RangeError('The value "'+A+'" is invalid for option "size"');const y=new Uint8Array(A);return Object.setPrototypeOf(y,f.prototype),y}function f(A,y,E){if(typeof A=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(A)}return p(A,y,E)}f.poolSize=8192;function p(A,y,E){if(typeof A=="string")return R(A,y);if(ArrayBuffer.isView(A))return V(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pn(A,ArrayBuffer)||A&&pn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(A,SharedArrayBuffer)||A&&pn(A.buffer,SharedArrayBuffer)))return B(A,y,E);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=A.valueOf&&A.valueOf();if(D!=null&&D!==A)return f.from(D,y,E);const j=q(A);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return f.from(A[Symbol.toPrimitive]("string"),y,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}f.from=function(A,y,E){return p(A,y,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function _(A,y,E){return m(A),A<=0?c(A):y!==void 0?typeof E=="string"?c(A).fill(y,E):c(A).fill(y):c(A)}f.alloc=function(A,y,E){return _(A,y,E)};function T(A){return m(A),c(A<0?0:K(A)|0)}f.allocUnsafe=function(A){return T(A)},f.allocUnsafeSlow=function(A){return T(A)};function R(A,y){if((typeof y!="string"||y==="")&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const E=J(A,y)|0;let D=c(E);const j=D.write(A,y);return j!==E&&(D=D.slice(0,j)),D}function S(A){const y=A.length<0?0:K(A.length)|0,E=c(y);for(let D=0;D<y;D+=1)E[D]=A[D]&255;return E}function V(A){if(pn(A,Uint8Array)){const y=new Uint8Array(A);return B(y.buffer,y.byteOffset,y.byteLength)}return S(A)}function B(A,y,E){if(y<0||A.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<y+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return y===void 0&&E===void 0?D=new Uint8Array(A):E===void 0?D=new Uint8Array(A,y):D=new Uint8Array(A,y,E),Object.setPrototypeOf(D,f.prototype),D}function q(A){if(f.isBuffer(A)){const y=K(A.length)|0,E=c(y);return E.length===0||A.copy(E,0,0,y),E}if(A.length!==void 0)return typeof A.length!="number"||vi(A.length)?c(0):S(A);if(A.type==="Buffer"&&Array.isArray(A.data))return S(A.data)}function K(A){if(A>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return A|0}function nt(A){return+A!=A&&(A=0),f.alloc(+A)}f.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==f.prototype},f.compare=function(y,E){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),pn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(y)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let D=y.length,j=E.length;for(let $=0,it=Math.min(D,j);$<it;++$)if(y[$]!==E[$]){D=y[$],j=E[$];break}return D<j?-1:j<D?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return f.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<y.length;++D)E+=y[D].length;const j=f.allocUnsafe(E);let $=0;for(D=0;D<y.length;++D){let it=y[D];if(pn(it,Uint8Array))$+it.length>j.length?(f.isBuffer(it)||(it=f.from(it)),it.copy(j,$)):Uint8Array.prototype.set.call(j,it,$);else if(f.isBuffer(it))it.copy(j,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=it.length}return j};function J(A,y){if(f.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let j=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return Jn(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return zn(A).length;default:if(j)return D?-1:Jn(A).length;y=(""+y).toLowerCase(),j=!0}}f.byteLength=J;function ct(A,y,E){let D=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,y>>>=0,E<=y))return"";for(A||(A="utf8");;)switch(A){case"hex":return qt(this,y,E);case"utf8":case"utf-8":return gt(this,y,E);case"ascii":return Et(this,y,E);case"latin1":case"binary":return Tt(this,y,E);case"base64":return O(this,y,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,y,E);default:if(D)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),D=!0}}f.prototype._isBuffer=!0;function ut(A,y,E){const D=A[y];A[y]=A[E],A[E]=D}f.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)ut(this,E,E+1);return this},f.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)ut(this,E,E+3),ut(this,E+1,E+2);return this},f.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)ut(this,E,E+7),ut(this,E+1,E+6),ut(this,E+2,E+5),ut(this,E+3,E+4);return this},f.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?gt(this,0,y):ct.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:f.compare(this,y)===0},f.prototype.inspect=function(){let y="";const E=n.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(y,E,D,j,$){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),D===void 0&&(D=y?y.length:0),j===void 0&&(j=0),$===void 0&&($=this.length),E<0||D>y.length||j<0||$>this.length)throw new RangeError("out of range index");if(j>=$&&E>=D)return 0;if(j>=$)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,j>>>=0,$>>>=0,this===y)return 0;let it=$-j,Rt=D-E;const te=Math.min(it,Rt),Nt=this.slice(j,$),Vt=y.slice(E,D);for(let jt=0;jt<te;++jt)if(Nt[jt]!==Vt[jt]){it=Nt[jt],Rt=Vt[jt];break}return it<Rt?-1:Rt<it?1:0};function W(A,y,E,D,j){if(A.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,vi(E)&&(E=j?0:A.length-1),E<0&&(E=A.length+E),E>=A.length){if(j)return-1;E=A.length-1}else if(E<0)if(j)E=0;else return-1;if(typeof y=="string"&&(y=f.from(y,D)),f.isBuffer(y))return y.length===0?-1:z(A,y,E,D,j);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(A,y,E):Uint8Array.prototype.lastIndexOf.call(A,y,E):z(A,[y],E,D,j);throw new TypeError("val must be string, number or Buffer")}function z(A,y,E,D,j){let $=1,it=A.length,Rt=y.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(A.length<2||y.length<2)return-1;$=2,it/=2,Rt/=2,E/=2}function te(Vt,jt){return $===1?Vt[jt]:Vt.readUInt16BE(jt*$)}let Nt;if(j){let Vt=-1;for(Nt=E;Nt<it;Nt++)if(te(A,Nt)===te(y,Vt===-1?0:Nt-Vt)){if(Vt===-1&&(Vt=Nt),Nt-Vt+1===Rt)return Vt*$}else Vt!==-1&&(Nt-=Nt-Vt),Vt=-1}else for(E+Rt>it&&(E=it-Rt),Nt=E;Nt>=0;Nt--){let Vt=!0;for(let jt=0;jt<Rt;jt++)if(te(A,Nt+jt)!==te(y,jt)){Vt=!1;break}if(Vt)return Nt}return-1}f.prototype.includes=function(y,E,D){return this.indexOf(y,E,D)!==-1},f.prototype.indexOf=function(y,E,D){return W(this,y,E,D,!0)},f.prototype.lastIndexOf=function(y,E,D){return W(this,y,E,D,!1)};function N(A,y,E,D){E=Number(E)||0;const j=A.length-E;D?(D=Number(D),D>j&&(D=j)):D=j;const $=y.length;D>$/2&&(D=$/2);let it;for(it=0;it<D;++it){const Rt=parseInt(y.substr(it*2,2),16);if(vi(Rt))return it;A[E+it]=Rt}return it}function k(A,y,E,D){return Fn(Jn(y,A.length-E),A,E,D)}function U(A,y,E,D){return Fn(Ci(y),A,E,D)}function L(A,y,E,D){return Fn(zn(y),A,E,D)}function F(A,y,E,D){return Fn(_i(y,A.length-E),A,E,D)}f.prototype.write=function(y,E,D,j){if(E===void 0)j="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")j=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-E;if((D===void 0||D>$)&&(D=$),y.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let it=!1;for(;;)switch(j){case"hex":return N(this,y,E,D);case"utf8":case"utf-8":return k(this,y,E,D);case"ascii":case"latin1":case"binary":return U(this,y,E,D);case"base64":return L(this,y,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,y,E,D);default:if(it)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),it=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(A,y,E){return y===0&&E===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(y,E))}function gt(A,y,E){E=Math.min(A.length,E);const D=[];let j=y;for(;j<E;){const $=A[j];let it=null,Rt=$>239?4:$>223?3:$>191?2:1;if(j+Rt<=E){let te,Nt,Vt,jt;switch(Rt){case 1:$<128&&(it=$);break;case 2:te=A[j+1],(te&192)===128&&(jt=($&31)<<6|te&63,jt>127&&(it=jt));break;case 3:te=A[j+1],Nt=A[j+2],(te&192)===128&&(Nt&192)===128&&(jt=($&15)<<12|(te&63)<<6|Nt&63,jt>2047&&(jt<55296||jt>57343)&&(it=jt));break;case 4:te=A[j+1],Nt=A[j+2],Vt=A[j+3],(te&192)===128&&(Nt&192)===128&&(Vt&192)===128&&(jt=($&15)<<18|(te&63)<<12|(Nt&63)<<6|Vt&63,jt>65535&&jt<1114112&&(it=jt))}}it===null?(it=65533,Rt=1):it>65535&&(it-=65536,D.push(it>>>10&1023|55296),it=56320|it&1023),D.push(it),j+=Rt}return dt(D)}const vt=4096;function dt(A){const y=A.length;if(y<=vt)return String.fromCharCode.apply(String,A);let E="",D=0;for(;D<y;)E+=String.fromCharCode.apply(String,A.slice(D,D+=vt));return E}function Et(A,y,E){let D="";E=Math.min(A.length,E);for(let j=y;j<E;++j)D+=String.fromCharCode(A[j]&127);return D}function Tt(A,y,E){let D="";E=Math.min(A.length,E);for(let j=y;j<E;++j)D+=String.fromCharCode(A[j]);return D}function qt(A,y,E){const D=A.length;(!y||y<0)&&(y=0),(!E||E<0||E>D)&&(E=D);let j="";for(let $=y;$<E;++$)j+=We[A[$]];return j}function I(A,y,E){const D=A.slice(y,E);let j="";for(let $=0;$<D.length-1;$+=2)j+=String.fromCharCode(D[$]+D[$+1]*256);return j}f.prototype.slice=function(y,E){const D=this.length;y=~~y,E=E===void 0?D:~~E,y<0?(y+=D,y<0&&(y=0)):y>D&&(y=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<y&&(E=y);const j=this.subarray(y,E);return Object.setPrototypeOf(j,f.prototype),j};function rt(A,y,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+y>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=this[y],$=1,it=0;for(;++it<E&&($*=256);)j+=this[y+it]*$;return j},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=this[y+--E],$=1;for(;E>0&&($*=256);)j+=this[y+--E]*$;return j},f.prototype.readUint8=f.prototype.readUInt8=function(y,E){return y=y>>>0,E||rt(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||rt(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||rt(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readBigUInt64LE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,$=this[++y]+this[++y]*2**8+this[++y]*2**16+D*2**24;return BigInt(j)+(BigInt($)<<BigInt(32))}),f.prototype.readBigUInt64BE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],$=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+D;return(BigInt(j)<<BigInt(32))+BigInt($)}),f.prototype.readIntLE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=this[y],$=1,it=0;for(;++it<E&&($*=256);)j+=this[y+it]*$;return $*=128,j>=$&&(j-=Math.pow(2,8*E)),j},f.prototype.readIntBE=function(y,E,D){y=y>>>0,E=E>>>0,D||rt(y,E,this.length);let j=E,$=1,it=this[y+--j];for(;j>0&&($*=256);)it+=this[y+--j]*$;return $*=128,it>=$&&(it-=Math.pow(2,8*E)),it},f.prototype.readInt8=function(y,E){return y=y>>>0,E||rt(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},f.prototype.readInt16LE=function(y,E){y=y>>>0,E||rt(y,2,this.length);const D=this[y]|this[y+1]<<8;return D&32768?D|4294901760:D},f.prototype.readInt16BE=function(y,E){y=y>>>0,E||rt(y,2,this.length);const D=this[y+1]|this[y]<<8;return D&32768?D|4294901760:D},f.prototype.readInt32LE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readBigInt64LE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(D<<24);return(BigInt(j)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),f.prototype.readBigInt64BE=wn(function(y){y=y>>>0,Ne(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(j)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+D)}),f.prototype.readFloatLE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),e.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,E){return y=y>>>0,E||rt(y,4,this.length),e.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||rt(y,8,this.length),e.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||rt(y,8,this.length),e.read(this,y,!1,52,8)};function yt(A,y,E,D,j,$){if(!f.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>j||y<$)throw new RangeError('"value" argument is out of bounds');if(E+D>A.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,E,D,j){if(y=+y,E=E>>>0,D=D>>>0,!j){const Rt=Math.pow(2,8*D)-1;yt(this,y,E,D,Rt,0)}let $=1,it=0;for(this[E]=y&255;++it<D&&($*=256);)this[E+it]=y/$&255;return E+D},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,E,D,j){if(y=+y,E=E>>>0,D=D>>>0,!j){const Rt=Math.pow(2,8*D)-1;yt(this,y,E,D,Rt,0)}let $=D-1,it=1;for(this[E+$]=y&255;--$>=0&&(it*=256);)this[E+$]=y/it&255;return E+D},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,1,255,0),this[E]=y&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function M(A,y,E,D,j){Cn(y,D,j,A,E,7);let $=Number(y&BigInt(4294967295));A[E++]=$,$=$>>8,A[E++]=$,$=$>>8,A[E++]=$,$=$>>8,A[E++]=$;let it=Number(y>>BigInt(32)&BigInt(4294967295));return A[E++]=it,it=it>>8,A[E++]=it,it=it>>8,A[E++]=it,it=it>>8,A[E++]=it,E}function _t(A,y,E,D,j){Cn(y,D,j,A,E,7);let $=Number(y&BigInt(4294967295));A[E+7]=$,$=$>>8,A[E+6]=$,$=$>>8,A[E+5]=$,$=$>>8,A[E+4]=$;let it=Number(y>>BigInt(32)&BigInt(4294967295));return A[E+3]=it,it=it>>8,A[E+2]=it,it=it>>8,A[E+1]=it,it=it>>8,A[E]=it,E+8}f.prototype.writeBigUInt64LE=wn(function(y,E=0){return M(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=wn(function(y,E=0){return _t(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(y,E,D,j){if(y=+y,E=E>>>0,!j){const te=Math.pow(2,8*D-1);yt(this,y,E,D,te-1,-te)}let $=0,it=1,Rt=0;for(this[E]=y&255;++$<D&&(it*=256);)y<0&&Rt===0&&this[E+$-1]!==0&&(Rt=1),this[E+$]=(y/it>>0)-Rt&255;return E+D},f.prototype.writeIntBE=function(y,E,D,j){if(y=+y,E=E>>>0,!j){const te=Math.pow(2,8*D-1);yt(this,y,E,D,te-1,-te)}let $=D-1,it=1,Rt=0;for(this[E+$]=y&255;--$>=0&&(it*=256);)y<0&&Rt===0&&this[E+$+1]!==0&&(Rt=1),this[E+$]=(y/it>>0)-Rt&255;return E+D},f.prototype.writeInt8=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},f.prototype.writeInt16LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeInt16BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeInt32LE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},f.prototype.writeInt32BE=function(y,E,D){return y=+y,E=E>>>0,D||yt(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},f.prototype.writeBigInt64LE=wn(function(y,E=0){return M(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=wn(function(y,E=0){return _t(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(A,y,E,D,j,$){if(E+D>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function At(A,y,E,D,j){return y=+y,E=E>>>0,j||Dt(A,y,E,4),e.write(A,y,E,D,23,4),E+4}f.prototype.writeFloatLE=function(y,E,D){return At(this,y,E,!0,D)},f.prototype.writeFloatBE=function(y,E,D){return At(this,y,E,!1,D)};function de(A,y,E,D,j){return y=+y,E=E>>>0,j||Dt(A,y,E,8),e.write(A,y,E,D,52,8),E+8}f.prototype.writeDoubleLE=function(y,E,D){return de(this,y,E,!0,D)},f.prototype.writeDoubleBE=function(y,E,D){return de(this,y,E,!1,D)},f.prototype.copy=function(y,E,D,j){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),E>=y.length&&(E=y.length),E||(E=0),j>0&&j<D&&(j=D),j===D||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),y.length-E<j-D&&(j=y.length-E+D);const $=j-D;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,j):Uint8Array.prototype.set.call(y,this.subarray(D,j),E),$},f.prototype.fill=function(y,E,D,j){if(typeof y=="string"){if(typeof E=="string"?(j=E,E=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!f.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(y.length===1){const it=y.charCodeAt(0);(j==="utf8"&&it<128||j==="latin1")&&(y=it)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,y||(y=0);let $;if(typeof y=="number")for($=E;$<D;++$)this[$]=y;else{const it=f.isBuffer(y)?y:f.from(y,j),Rt=it.length;if(Rt===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for($=0;$<D-E;++$)this[$+E]=it[$%Rt]}return this};const Mt={};function ae(A,y,E){Mt[A]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(A,y){return`The "${A}" argument must be of type number. Received type ${typeof y}`},TypeError),ae("ERR_OUT_OF_RANGE",function(A,y,E){let D=`The value of "${A}" is out of range.`,j=E;return Number.isInteger(E)&&Math.abs(E)>2**32?j=Kt(String(E)):typeof E=="bigint"&&(j=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(j=Kt(j)),j+="n"),D+=` It must be ${y}. Received ${j}`,D},RangeError);function Kt(A){let y="",E=A.length;const D=A[0]==="-"?1:0;for(;E>=D+4;E-=3)y=`_${A.slice(E-3,E)}${y}`;return`${A.slice(0,E)}${y}`}function Ce(A,y,E){Ne(y,"offset"),(A[y]===void 0||A[y+E]===void 0)&&dn(y,A.length-(E+1))}function Cn(A,y,E,D,j,$){if(A>E||A<y){const it=typeof y=="bigint"?"n":"";let Rt;throw y===0||y===BigInt(0)?Rt=`>= 0${it} and < 2${it} ** ${($+1)*8}${it}`:Rt=`>= -(2${it} ** ${($+1)*8-1}${it}) and < 2 ** ${($+1)*8-1}${it}`,new Mt.ERR_OUT_OF_RANGE("value",Rt,A)}Ce(D,j,$)}function Ne(A,y){if(typeof A!="number")throw new Mt.ERR_INVALID_ARG_TYPE(y,"number",A)}function dn(A,y,E){throw Math.floor(A)!==A?(Ne(A,E),new Mt.ERR_OUT_OF_RANGE("offset","an integer",A)):y<0?new Mt.ERR_BUFFER_OUT_OF_BOUNDS:new Mt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,A)}const Bn=/[^+/0-9A-Za-z-_]/g;function xn(A){if(A=A.split("=")[0],A=A.trim().replace(Bn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Jn(A,y){y=y||1/0;let E;const D=A.length;let j=null;const $=[];for(let it=0;it<D;++it){if(E=A.charCodeAt(it),E>55295&&E<57344){if(!j){if(E>56319){(y-=3)>-1&&$.push(239,191,189);continue}else if(it+1===D){(y-=3)>-1&&$.push(239,191,189);continue}j=E;continue}if(E<56320){(y-=3)>-1&&$.push(239,191,189),j=E;continue}E=(j-55296<<10|E-56320)+65536}else j&&(y-=3)>-1&&$.push(239,191,189);if(j=null,E<128){if((y-=1)<0)break;$.push(E)}else if(E<2048){if((y-=2)<0)break;$.push(E>>6|192,E&63|128)}else if(E<65536){if((y-=3)<0)break;$.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((y-=4)<0)break;$.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return $}function Ci(A){const y=[];for(let E=0;E<A.length;++E)y.push(A.charCodeAt(E)&255);return y}function _i(A,y){let E,D,j;const $=[];for(let it=0;it<A.length&&!((y-=2)<0);++it)E=A.charCodeAt(it),D=E>>8,j=E%256,$.push(j),$.push(D);return $}function zn(A){return t.toByteArray(xn(A))}function Fn(A,y,E,D){let j;for(j=0;j<D&&!(j+E>=y.length||j>=A.length);++j)y[j+E]=A[j];return j}function pn(A,y){return A instanceof y||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===y.name}function vi(A){return A!==A}const We=function(){const A="0123456789abcdef",y=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let j=0;j<16;++j)y[D+j]=A[E]+A[j]}return y}();function wn(A){return typeof BigInt>"u"?tt:A}function tt(){throw new Error("BigInt not supported")}}(Tp)),Tp}var C1=I1(),wp={exports:{}},a0;function x1(){if(a0)return wp.exports;a0=1;var n=wp.exports={},t,e;function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?e=clearTimeout:e=a}catch{e=a}})();function l(B){if(t===setTimeout)return setTimeout(B,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(B,0);try{return t(B,0)}catch{try{return t.call(null,B,0)}catch{return t.call(this,B,0)}}}function c(B){if(e===clearTimeout)return clearTimeout(B);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(B);try{return e(B)}catch{try{return e.call(null,B)}catch{return e.call(this,B)}}}var f=[],p=!1,m,_=-1;function T(){!p||!m||(p=!1,m.length?f=m.concat(f):_=-1,f.length&&R())}function R(){if(!p){var B=l(T);p=!0;for(var q=f.length;q;){for(m=f,f=[];++_<q;)m&&m[_].run();_=-1,q=f.length}m=null,p=!1,c(B)}}n.nextTick=function(B){var q=new Array(arguments.length-1);if(arguments.length>1)for(var K=1;K<arguments.length;K++)q[K-1]=arguments[K];f.push(new S(B,q)),f.length===1&&!p&&l(R)};function S(B,q){this.fun=B,this.array=q}S.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function V(){}return n.on=V,n.addListener=V,n.once=V,n.off=V,n.removeListener=V,n.removeAllListeners=V,n.emit=V,n.prependListener=V,n.prependOnceListener=V,n.listeners=function(B){return[]},n.binding=function(B){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(B){throw new Error("process.chdir is not supported")},n.umask=function(){return 0},wp.exports}var k1=x1();const D1=Su(k1);window.Buffer=C1.Buffer;window.process=D1;var bp={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function O1(){if(o0)return Wl;o0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Wl.Fragment=t,Wl.jsx=e,Wl.jsxs=e,Wl}var l0;function N1(){return l0||(l0=1,bp.exports=O1()),bp.exports}var bt=N1(),Sp={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function M1(){if(u0)return Gt;u0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,B={};function q(I,rt,yt){this.props=I,this.context=rt,this.refs=B,this.updater=yt||S}q.prototype.isReactComponent={},q.prototype.setState=function(I,rt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,rt,"setState")},q.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function K(){}K.prototype=q.prototype;function nt(I,rt,yt){this.props=I,this.context=rt,this.refs=B,this.updater=yt||S}var J=nt.prototype=new K;J.constructor=nt,V(J,q.prototype),J.isPureReactComponent=!0;var ct=Array.isArray,ut={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function z(I,rt,yt,M,_t,Dt){return yt=Dt.ref,{$$typeof:n,type:I,key:rt,ref:yt!==void 0?yt:null,props:Dt}}function N(I,rt){return z(I.type,rt,void 0,void 0,void 0,I.props)}function k(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function U(I){var rt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(yt){return rt[yt]})}var L=/\/+/g;function F(I,rt){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):rt.toString(36)}function O(){}function gt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(O,O):(I.status="pending",I.then(function(rt){I.status==="pending"&&(I.status="fulfilled",I.value=rt)},function(rt){I.status==="pending"&&(I.status="rejected",I.reason=rt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function vt(I,rt,yt,M,_t){var Dt=typeof I;(Dt==="undefined"||Dt==="boolean")&&(I=null);var At=!1;if(I===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(I.$$typeof){case n:case t:At=!0;break;case _:return At=I._init,vt(At(I._payload),rt,yt,M,_t)}}if(At)return _t=_t(I),At=M===""?"."+F(I,0):M,ct(_t)?(yt="",At!=null&&(yt=At.replace(L,"$&/")+"/"),vt(_t,rt,yt,"",function(ae){return ae})):_t!=null&&(k(_t)&&(_t=N(_t,yt+(_t.key==null||I&&I.key===_t.key?"":(""+_t.key).replace(L,"$&/")+"/")+At)),rt.push(_t)),1;At=0;var de=M===""?".":M+":";if(ct(I))for(var Mt=0;Mt<I.length;Mt++)M=I[Mt],Dt=de+F(M,Mt),At+=vt(M,rt,yt,Dt,_t);else if(Mt=R(I),typeof Mt=="function")for(I=Mt.call(I),Mt=0;!(M=I.next()).done;)M=M.value,Dt=de+F(M,Mt++),At+=vt(M,rt,yt,Dt,_t);else if(Dt==="object"){if(typeof I.then=="function")return vt(gt(I),rt,yt,M,_t);throw rt=String(I),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return At}function dt(I,rt,yt){if(I==null)return I;var M=[],_t=0;return vt(I,M,"","",function(Dt){return rt.call(yt,Dt,_t++)}),M}function Et(I){if(I._status===-1){var rt=I._result;rt=rt(),rt.then(function(yt){(I._status===0||I._status===-1)&&(I._status=1,I._result=yt)},function(yt){(I._status===0||I._status===-1)&&(I._status=2,I._result=yt)}),I._status===-1&&(I._status=0,I._result=rt)}if(I._status===1)return I._result.default;throw I._result}var Tt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function qt(){}return Gt.Children={map:dt,forEach:function(I,rt,yt){dt(I,function(){rt.apply(this,arguments)},yt)},count:function(I){var rt=0;return dt(I,function(){rt++}),rt},toArray:function(I){return dt(I,function(rt){return rt})||[]},only:function(I){if(!k(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Gt.Component=q,Gt.Fragment=e,Gt.Profiler=a,Gt.PureComponent=nt,Gt.StrictMode=r,Gt.Suspense=p,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Gt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Gt.cache=function(I){return function(){return I.apply(null,arguments)}},Gt.cloneElement=function(I,rt,yt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var M=V({},I.props),_t=I.key,Dt=void 0;if(rt!=null)for(At in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(_t=""+rt.key),rt)!W.call(rt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&rt.ref===void 0||(M[At]=rt[At]);var At=arguments.length-2;if(At===1)M.children=yt;else if(1<At){for(var de=Array(At),Mt=0;Mt<At;Mt++)de[Mt]=arguments[Mt+2];M.children=de}return z(I.type,_t,void 0,void 0,Dt,M)},Gt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Gt.createElement=function(I,rt,yt){var M,_t={},Dt=null;if(rt!=null)for(M in rt.key!==void 0&&(Dt=""+rt.key),rt)W.call(rt,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(_t[M]=rt[M]);var At=arguments.length-2;if(At===1)_t.children=yt;else if(1<At){for(var de=Array(At),Mt=0;Mt<At;Mt++)de[Mt]=arguments[Mt+2];_t.children=de}if(I&&I.defaultProps)for(M in At=I.defaultProps,At)_t[M]===void 0&&(_t[M]=At[M]);return z(I,Dt,void 0,void 0,null,_t)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(I){return{$$typeof:f,render:I}},Gt.isValidElement=k,Gt.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Et}},Gt.memo=function(I,rt){return{$$typeof:m,type:I,compare:rt===void 0?null:rt}},Gt.startTransition=function(I){var rt=ut.T,yt={};ut.T=yt;try{var M=I(),_t=ut.S;_t!==null&&_t(yt,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(qt,Tt)}catch(Dt){Tt(Dt)}finally{ut.T=rt}},Gt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Gt.use=function(I){return ut.H.use(I)},Gt.useActionState=function(I,rt,yt){return ut.H.useActionState(I,rt,yt)},Gt.useCallback=function(I,rt){return ut.H.useCallback(I,rt)},Gt.useContext=function(I){return ut.H.useContext(I)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(I,rt){return ut.H.useDeferredValue(I,rt)},Gt.useEffect=function(I,rt){return ut.H.useEffect(I,rt)},Gt.useId=function(){return ut.H.useId()},Gt.useImperativeHandle=function(I,rt,yt){return ut.H.useImperativeHandle(I,rt,yt)},Gt.useInsertionEffect=function(I,rt){return ut.H.useInsertionEffect(I,rt)},Gt.useLayoutEffect=function(I,rt){return ut.H.useLayoutEffect(I,rt)},Gt.useMemo=function(I,rt){return ut.H.useMemo(I,rt)},Gt.useOptimistic=function(I,rt){return ut.H.useOptimistic(I,rt)},Gt.useReducer=function(I,rt,yt){return ut.H.useReducer(I,rt,yt)},Gt.useRef=function(I){return ut.H.useRef(I)},Gt.useState=function(I){return ut.H.useState(I)},Gt.useSyncExternalStore=function(I,rt,yt){return ut.H.useSyncExternalStore(I,rt,yt)},Gt.useTransition=function(){return ut.H.useTransition()},Gt.version="19.0.0",Gt}var c0;function Pm(){return c0||(c0=1,Sp.exports=M1()),Sp.exports}var se=Pm();const U1=Su(se);var Ap={exports:{}},Zl={},Rp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function P1(){return h0||(h0=1,function(n){function t(dt,Et){var Tt=dt.length;dt.push(Et);t:for(;0<Tt;){var qt=Tt-1>>>1,I=dt[qt];if(0<a(I,Et))dt[qt]=Et,dt[Tt]=I,Tt=qt;else break t}}function e(dt){return dt.length===0?null:dt[0]}function r(dt){if(dt.length===0)return null;var Et=dt[0],Tt=dt.pop();if(Tt!==Et){dt[0]=Tt;t:for(var qt=0,I=dt.length,rt=I>>>1;qt<rt;){var yt=2*(qt+1)-1,M=dt[yt],_t=yt+1,Dt=dt[_t];if(0>a(M,Tt))_t<I&&0>a(Dt,M)?(dt[qt]=Dt,dt[_t]=Tt,qt=_t):(dt[qt]=M,dt[yt]=Tt,qt=yt);else if(_t<I&&0>a(Dt,Tt))dt[qt]=Dt,dt[_t]=Tt,qt=_t;else break t}}return Et}function a(dt,Et){var Tt=dt.sortIndex-Et.sortIndex;return Tt!==0?Tt:dt.id-Et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],_=1,T=null,R=3,S=!1,V=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function J(dt){for(var Et=e(m);Et!==null;){if(Et.callback===null)r(m);else if(Et.startTime<=dt)r(m),Et.sortIndex=Et.expirationTime,t(p,Et);else break;Et=e(m)}}function ct(dt){if(B=!1,J(dt),!V)if(e(p)!==null)V=!0,gt();else{var Et=e(m);Et!==null&&vt(ct,Et.startTime-dt)}}var ut=!1,W=-1,z=5,N=-1;function k(){return!(n.unstable_now()-N<z)}function U(){if(ut){var dt=n.unstable_now();N=dt;var Et=!0;try{t:{V=!1,B&&(B=!1,K(W),W=-1),S=!0;var Tt=R;try{e:{for(J(dt),T=e(p);T!==null&&!(T.expirationTime>dt&&k());){var qt=T.callback;if(typeof qt=="function"){T.callback=null,R=T.priorityLevel;var I=qt(T.expirationTime<=dt);if(dt=n.unstable_now(),typeof I=="function"){T.callback=I,J(dt),Et=!0;break e}T===e(p)&&r(p),J(dt)}else r(p);T=e(p)}if(T!==null)Et=!0;else{var rt=e(m);rt!==null&&vt(ct,rt.startTime-dt),Et=!1}}break t}finally{T=null,R=Tt,S=!1}Et=void 0}}finally{Et?L():ut=!1}}}var L;if(typeof nt=="function")L=function(){nt(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,O=F.port2;F.port1.onmessage=U,L=function(){O.postMessage(null)}}else L=function(){q(U,0)};function gt(){ut||(ut=!0,L())}function vt(dt,Et){W=q(function(){dt(n.unstable_now())},Et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(dt){dt.callback=null},n.unstable_continueExecution=function(){V||S||(V=!0,gt())},n.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<dt?Math.floor(1e3/dt):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return e(p)},n.unstable_next=function(dt){switch(R){case 1:case 2:case 3:var Et=3;break;default:Et=R}var Tt=R;R=Et;try{return dt()}finally{R=Tt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(dt,Et){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var Tt=R;R=dt;try{return Et()}finally{R=Tt}},n.unstable_scheduleCallback=function(dt,Et,Tt){var qt=n.unstable_now();switch(typeof Tt=="object"&&Tt!==null?(Tt=Tt.delay,Tt=typeof Tt=="number"&&0<Tt?qt+Tt:qt):Tt=qt,dt){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Tt+I,dt={id:_++,callback:Et,priorityLevel:dt,startTime:Tt,expirationTime:I,sortIndex:-1},Tt>qt?(dt.sortIndex=Tt,t(m,dt),e(p)===null&&dt===e(m)&&(B?(K(W),W=-1):B=!0,vt(ct,Tt-qt))):(dt.sortIndex=I,t(p,dt),V||S||(V=!0,gt())),dt},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(dt){var Et=R;return function(){var Tt=R;R=Et;try{return dt.apply(this,arguments)}finally{R=Tt}}}}(Ip)),Ip}var f0;function L1(){return f0||(f0=1,Rp.exports=P1()),Rp.exports}var Cp={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function V1(){if(d0)return gn;d0=1;var n=Pm();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,_)},gn.flushSync=function(p){var m=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=_,r.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:S}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},gn.requestFormReset=function(p){r.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var p0;function B1(){if(p0)return Cp.exports;p0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cp.exports=V1(),Cp.exports}var m0;function z1(){if(m0)return Zl;m0=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=L1(),t=Pm(),e=B1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ct=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=ut&&i[ut]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function N(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case R:return(i._context.displayName||"Context")+".Consumer";case V:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:N(i.type)||"Memo";case nt:s=i._payload,i=i._init;try{return N(i(s))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,L,F;function O(i){if(L===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+F}var gt=!1;function vt(i,s){if(!i||gt)return"";gt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(st){var Z=st}Reflect.construct(i,[],ht)}else{try{ht.call()}catch(st){Z=st}i.call(ht.prototype)}}else{try{throw Error()}catch(st){Z=st}(ht=i())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(st){if(st&&Z&&typeof st.stack=="string")return[st.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],C=g[1];if(b&&C){var P=b.split(`
`),G=C.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===G.length)for(u=P.length-1,d=G.length-1;1<=u&&0<=d&&P[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==G[d]){var at=`
`+P[u].replace(" at new "," at ");return i.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",i.displayName)),at}while(1<=u&&0<=d);break}}}finally{gt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?O(o):""}function dt(i){switch(i.tag){case 26:case 27:case 5:return O(i.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return i=vt(i.type,!1),i;case 11:return i=vt(i.type.render,!1),i;case 1:return i=vt(i.type,!0),i;default:return""}}function Et(i){try{var s="";do s+=dt(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tt(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function qt(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function I(i){if(Tt(i)!==i)throw Error(r(188))}function rt(i){var s=i.alternate;if(!s){if(s=Tt(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return I(d),i;if(g===u)return I(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,C=d.child;C;){if(C===o){b=!0,o=d,u=g;break}if(C===u){b=!0,u=d,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,u=d;break}if(C===u){b=!0,u=g,o=d;break}C=C.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function yt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=yt(i),s!==null)return s;i=i.sibling}return null}var M=Array.isArray,_t=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt={pending:!1,data:null,method:null,action:null},At=[],de=-1;function Mt(i){return{current:i}}function ae(i){0>de||(i.current=At[de],At[de]=null,de--)}function Kt(i,s){de++,At[de]=i.current,i.current=s}var Ce=Mt(null),Cn=Mt(null),Ne=Mt(null),dn=Mt(null);function Bn(i,s){switch(Kt(Ne,s),Kt(Cn,i),Kt(Ce,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Ov(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Ov(i),s=Nv(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Ce),Kt(Ce,s)}function xn(){ae(Ce),ae(Cn),ae(Ne)}function Jn(i){i.memoizedState!==null&&Kt(dn,i);var s=Ce.current,o=Nv(s,i.type);s!==o&&(Kt(Cn,i),Kt(Ce,o))}function Ci(i){Cn.current===i&&(ae(Ce),ae(Cn)),dn.current===i&&(ae(dn),Gl._currentValue=Dt)}var _i=Object.prototype.hasOwnProperty,zn=n.unstable_scheduleCallback,Fn=n.unstable_cancelCallback,pn=n.unstable_shouldYield,vi=n.unstable_requestPaint,We=n.unstable_now,wn=n.unstable_getCurrentPriorityLevel,tt=n.unstable_ImmediatePriority,A=n.unstable_UserBlockingPriority,y=n.unstable_NormalPriority,E=n.unstable_LowPriority,D=n.unstable_IdlePriority,j=n.log,$=n.unstable_setDisableYieldValue,it=null,Rt=null;function te(i){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(it,i,void 0,(i.current.flags&128)===128)}catch{}}function Nt(i){if(typeof j=="function"&&$(i),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(it,i)}catch{}}var Vt=Math.clz32?Math.clz32:zu,jt=Math.log,Bu=Math.LN2;function zu(i){return i>>>=0,i===0?32:31-(jt(i)/Bu|0)|0}var xi=128,Vr=4194304;function Ei(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ti(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,d=i.suspendedLanes,g=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var C=o&134217727;return C!==0?(o=C&~d,o!==0?u=Ei(o):(g&=C,g!==0?u=Ei(g):i||(b=C&~b,b!==0&&(u=Ei(b))))):(C=o&~d,C!==0?u=Ei(C):g!==0?u=Ei(g):i||(b=o&~b,b!==0&&(u=Ei(b)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,b=s&-s,d>=b||d===32&&(b&4194176)!==0)?s:u}function Br(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Da(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var i=xi;return xi<<=1,(xi&4194176)===0&&(xi=128),i}function zr(){var i=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),i}function Oa(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Me(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fu(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,P=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var at=31-Vt(o),ht=1<<at;C[at]=0,P[at]=-1;var Z=G[at];if(Z!==null)for(G[at]=null,at=0;at<Z.length;at++){var st=Z[at];st!==null&&(st.lane&=-536870913)}o&=~ht}u!==0&&Fr(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function Fr(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Vt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function jr(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Vt(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function ju(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qu(){var i=_t.p;return i!==0?i:(i=window.event,i===void 0?32:Wv(i.type))}function qr(i,s){var o=_t.p;try{return _t.p=i,s()}finally{_t.p=o}}var ki=Math.random().toString(36).slice(2),Ze="__reactFiber$"+ki,qe="__reactProps$"+ki,ir="__reactContainer$"+ki,zs="__reactEvents$"+ki,Na="__reactListeners$"+ki,Di="__reactHandles$"+ki,Wo="__reactResources$"+ki,Hr="__reactMarker$"+ki;function Fs(i){delete i[Ze],delete i[qe],delete i[zs],delete i[Na],delete i[Di]}function Ti(i){var s=i[Ze];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ir]||o[Ze]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Pv(i);i!==null;){if(o=i[Ze])return o;i=Pv(i)}return s}i=o,o=i.parentNode}return null}function rr(i){if(i=i[Ze]||i[ir]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Gr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Kr(i){var s=i[Wo];return s||(s=i[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(i){i[Hr]=!0}var Zo=new Set,Ma={};function jn(i,s){kn(i,s),kn(i+"Capture",s)}function kn(i,s){for(Ma[i]=s,i=0;i<s.length;i++)Zo.add(s[i])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},tl={};function Hu(i){return _i.call(tl,i)?!0:_i.call(Jo,i)?!1:Af.test(i)?tl[i]=!0:(Jo[i]=!0,!1)}function Qr(i,s,o){if(Hu(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Yr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function ei(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rf(i){var s=Gu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function js(i){i._valueTracker||(i._valueTracker=Rf(i))}function el(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Gu(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Ua(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var sr=/[\n"\\]/g;function xe(i){return i.replace(sr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xr(i,s,o,u,d,g,b,C){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+bn(s)):i.value!==""+bn(s)&&(i.value=""+bn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Pa(i,b,bn(s)):o!=null?Pa(i,b,bn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+bn(C):i.removeAttribute("name")}function qs(i,s,o,u,d,g,b,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,C||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Pa(i,s,o){s==="number"&&Ua(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function oe(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Hs(i,s,o){if(s!=null&&(s=""+bn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+bn(o):""}function $r(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(M(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function ni(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var If=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||If.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Ku(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&nl(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&nl(i,g,s[g])}function il(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(i){return xf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ii=null;function La(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ar=null,or=null;function lr(i){var s=rr(i);if(s&&(i=s.stateNode)){var o=i[qe]||null;t:switch(i=s.stateNode,s.type){case"input":if(Xr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xe(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[qe]||null;if(!d)throw Error(r(90));Xr(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&el(u)}break t;case"textarea":Hs(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&oe(i,!!o.multiple,s,!1)}}}var rl=!1;function Qu(i,s,o){if(rl)return i(s,o);rl=!0;try{var u=i(s);return u}finally{if(rl=!1,(ar!==null||or!==null)&&(Vc(),ar&&(s=ar,i=or,or=ar=null,lr(s),i)))for(s=0;s<i.length;s++)lr(i[s])}}function Gs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[qe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ri=!1;if(qn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{ri=!1}var Ni=null,Wr=null,ur=null;function sl(){if(ur)return ur;var i,s=Wr,o=s.length,u,d="value"in Ni?Ni.value:Ni.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return ur=d.slice(i,1<u?1-u:void 0)}function Mi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ui(){return!0}function al(){return!1}function Je(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ui:al,this.isPropagationStopped=al,this}return U(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),s}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Je(he),Qs=U({},he,{view:0,detail:0}),Yu=Je(Qs),Ba,za,Pi,Ys=U({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Ba=i.screenX-Pi.screenX,za=i.screenY-Pi.screenY):za=Ba=0,Pi=i),Ba)},movementY:function(i){return"movementY"in i?i.movementY:za}}),si=Je(Ys),Xu=U({},Ys,{dataTransfer:0}),kf=Je(Xu),Xs=U({},Qs,{relatedTarget:0}),Fa=Je(Xs),ol=U({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Je(ol),$u=U({},he,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qa=Je($u),Df=U({},he,{data:0}),ll=Je(Df),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Zu[i])?!!s[i]:!1}function Ws(){return ul}var Ju=U({},Qs,{key:function(i){if(i.key){var s=$s[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?Mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ha=Je(Ju),tc=U({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Je(tc),cr=U({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),ec=Je(cr),nc=U({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=Je(nc),rc=U({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Je(rc),Sn=U({},he,{newState:0,oldState:0}),sc=Je(Sn),ac=[9,13,27,32],Li=qn&&"CompositionEvent"in window,h=null;qn&&"documentMode"in document&&(h=document.documentMode);var v=qn&&"TextEvent"in window&&!h,w=qn&&(!Li||h&&8<h&&11>=h),x=" ",Y=!1;function et(i,s){switch(i){case"keyup":return ac.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ee=!1;function He(i,s){switch(i){case"compositionend":return mt(s);case"keypress":return s.which!==32?null:(Y=!0,x);case"textInput":return i=s.data,i===x&&Y?null:i;default:return null}}function ne(i,s){if(ee)return i==="compositionend"||!Li&&et(i,s)?(i=sl(),ur=Wr=Ni=null,ee=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!tn[i.type]:s==="textarea"}function hr(i,s,o,u){ar?or?or.push(u):or=[u]:ar=u,s=qc(s,"onChange"),0<s.length&&(o=new Va("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var an=null,Vi=null;function hl(i){Iv(i,0)}function oc(i){var s=Gr(i);if(el(s))return i}function ny(i,s){if(i==="change")return s}var iy=!1;if(qn){var Of;if(qn){var Nf="oninput"in document;if(!Nf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Nf=typeof ry.oninput=="function"}Of=Nf}else Of=!1;iy=Of&&(!document.documentMode||9<document.documentMode)}function sy(){an&&(an.detachEvent("onpropertychange",ay),Vi=an=null)}function ay(i){if(i.propertyName==="value"&&oc(Vi)){var s=[];hr(s,Vi,i,La(i)),Qu(hl,s)}}function eA(i,s,o){i==="focusin"?(sy(),an=s,Vi=o,an.attachEvent("onpropertychange",ay)):i==="focusout"&&sy()}function nA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oc(Vi)}function iA(i,s){if(i==="click")return oc(s)}function rA(i,s){if(i==="input"||i==="change")return oc(s)}function sA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Hn=typeof Object.is=="function"?Object.is:sA;function fl(i,s){if(Hn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!_i.call(s,d)||!Hn(i[d],s[d]))return!1}return!0}function oy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ly(i,s){var o=oy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=oy(o)}}function uy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?uy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function cy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ua(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Ua(i.document)}return s}function Mf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function aA(i,s){var o=cy(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&uy(s.ownerDocument.documentElement,s)){if(u!==null&&Mf(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=ly(s,g);var b=ly(s,u);d&&b&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var oA=qn&&"documentMode"in document&&11>=document.documentMode,Ka=null,Uf=null,dl=null,Pf=!1;function hy(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pf||Ka==null||Ka!==Ua(u)||(u=Ka,"selectionStart"in u&&Mf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&fl(dl,u)||(dl=u,u=qc(Uf,"onSelect"),0<u.length&&(s=new Va("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ka)))}function Zs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Qa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Lf={},fy={};qn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Js(i){if(Lf[i])return Lf[i];if(!Qa[i])return i;var s=Qa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in fy)return Lf[i]=s[o];return i}var dy=Js("animationend"),py=Js("animationiteration"),my=Js("animationstart"),lA=Js("transitionrun"),uA=Js("transitionstart"),cA=Js("transitioncancel"),gy=Js("transitionend"),yy=new Map,_y="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wi(i,s){yy.set(i,s),jn(s,[i])}var ai=[],Ya=0,Vf=0;function lc(){for(var i=Ya,s=Vf=Ya=0;s<i;){var o=ai[s];ai[s++]=null;var u=ai[s];ai[s++]=null;var d=ai[s];ai[s++]=null;var g=ai[s];if(ai[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&vy(o,d,g)}}function uc(i,s,o,u){ai[Ya++]=i,ai[Ya++]=s,ai[Ya++]=o,ai[Ya++]=u,Vf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Bf(i,s,o,u){return uc(i,s,o,u),cc(i)}function Zr(i,s){return uc(i,null,null,s),cc(i)}function vy(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;d&&s!==null&&i.tag===3&&(g=i.stateNode,d=31-Vt(o),g=g.hiddenUpdates,i=g[d],i===null?g[d]=[s]:i.push(s),s.lane=o|536870912)}function cc(i){if(50<Vl)throw Vl=0,Gd=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Xa={},Ey=new WeakMap;function oi(i,s){if(typeof i=="object"&&i!==null){var o=Ey.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Et(s)},Ey.set(i,s),s)}return{value:i,source:s,stack:Et(s)}}var $a=[],Wa=0,hc=null,fc=0,li=[],ui=0,ta=null,fr=1,dr="";function ea(i,s){$a[Wa++]=fc,$a[Wa++]=hc,hc=i,fc=s}function Ty(i,s,o){li[ui++]=fr,li[ui++]=dr,li[ui++]=ta,ta=i;var u=fr;i=dr;var d=32-Vt(u)-1;u&=~(1<<d),o+=1;var g=32-Vt(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,fr=1<<32-Vt(s)+d|o<<d|u,dr=g+i}else fr=1<<g|o<<d|u,dr=i}function zf(i){i.return!==null&&(ea(i,1),Ty(i,1,0))}function Ff(i){for(;i===hc;)hc=$a[--Wa],$a[Wa]=null,fc=$a[--Wa],$a[Wa]=null;for(;i===ta;)ta=li[--ui],li[ui]=null,dr=li[--ui],li[ui]=null,fr=li[--ui],li[ui]=null}var An=null,on=null,le=!1,bi=null,Bi=!1,jf=Error(r(519));function na(i){var s=Error(r(418,""));throw gl(oi(s,i)),jf}function wy(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ze]=i,s[qe]=u,o){case"dialog":Zt("cancel",s),Zt("close",s);break;case"iframe":case"object":case"embed":Zt("load",s);break;case"video":case"audio":for(o=0;o<zl.length;o++)Zt(zl[o],s);break;case"source":Zt("error",s);break;case"img":case"image":case"link":Zt("error",s),Zt("load",s);break;case"details":Zt("toggle",s);break;case"input":Zt("invalid",s),qs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(s);break;case"select":Zt("invalid",s);break;case"textarea":Zt("invalid",s),$r(s,u.value,u.defaultValue,u.children),js(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Dv(s.textContent,o)?(u.popover!=null&&(Zt("beforetoggle",s),Zt("toggle",s)),u.onScroll!=null&&Zt("scroll",s),u.onScrollEnd!=null&&Zt("scrollend",s),u.onClick!=null&&(s.onclick=Hc),s=!0):s=!1,s||na(i)}function by(i){for(An=i.return;An;)switch(An.tag){case 3:case 27:Bi=!0;return;case 5:case 13:Bi=!1;return;default:An=An.return}}function pl(i){if(i!==An)return!1;if(!le)return by(i),le=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||lp(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&on&&na(i),by(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){on=Ai(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}on=null}}else on=An?Ai(i.stateNode.nextSibling):null;return!0}function ml(){on=An=null,le=!1}function gl(i){bi===null?bi=[i]:bi.push(i)}var yl=Error(r(460)),Sy=Error(r(474)),qf={then:function(){}};function Ay(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dc(){}function Ry(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(dc,dc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===yl?Error(r(483)):i;default:if(typeof s.status=="string")s.then(dc,dc);else{if(i=ye,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===yl?Error(r(483)):i}throw _l=s,yl}}var _l=null;function Iy(){if(_l===null)throw Error(r(459));var i=_l;return _l=null,i}var Za=null,vl=0;function pc(i){var s=vl;return vl+=1,Za===null&&(Za=[]),Ry(Za,i,s)}function El(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function mc(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Cy(i){var s=i._init;return s(i._payload)}function xy(i){function s(Q,H){if(i){var X=Q.deletions;X===null?(Q.deletions=[H],Q.flags|=16):X.push(H)}}function o(Q,H){if(!i)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function u(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function d(Q,H){return Q=cs(Q,H),Q.index=0,Q.sibling=null,Q}function g(Q,H,X){return Q.index=X,i?(X=Q.alternate,X!==null?(X=X.index,X<H?(Q.flags|=33554434,H):X):(Q.flags|=33554434,H)):(Q.flags|=1048576,H)}function b(Q){return i&&Q.alternate===null&&(Q.flags|=33554434),Q}function C(Q,H,X,ot){return H===null||H.tag!==6?(H=Ld(X,Q.mode,ot),H.return=Q,H):(H=d(H,X),H.return=Q,H)}function P(Q,H,X,ot){var St=X.type;return St===p?at(Q,H,X.props.children,ot,X.key):H!==null&&(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===nt&&Cy(St)===H.type)?(H=d(H,X.props),El(H,X),H.return=Q,H):(H=Nc(X.type,X.key,X.props,null,Q.mode,ot),El(H,X),H.return=Q,H)}function G(Q,H,X,ot){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Vd(X,Q.mode,ot),H.return=Q,H):(H=d(H,X.children||[]),H.return=Q,H)}function at(Q,H,X,ot,St){return H===null||H.tag!==7?(H=fa(X,Q.mode,ot,St),H.return=Q,H):(H=d(H,X),H.return=Q,H)}function ht(Q,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ld(""+H,Q.mode,X),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return X=Nc(H.type,H.key,H.props,null,Q.mode,X),El(X,H),X.return=Q,X;case f:return H=Vd(H,Q.mode,X),H.return=Q,H;case nt:var ot=H._init;return H=ot(H._payload),ht(Q,H,X)}if(M(H)||W(H))return H=fa(H,Q.mode,X,null),H.return=Q,H;if(typeof H.then=="function")return ht(Q,pc(H),X);if(H.$$typeof===S)return ht(Q,kc(Q,H),X);mc(Q,H)}return null}function Z(Q,H,X,ot){var St=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return St!==null?null:C(Q,H,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===St?P(Q,H,X,ot):null;case f:return X.key===St?G(Q,H,X,ot):null;case nt:return St=X._init,X=St(X._payload),Z(Q,H,X,ot)}if(M(X)||W(X))return St!==null?null:at(Q,H,X,ot,null);if(typeof X.then=="function")return Z(Q,H,pc(X),ot);if(X.$$typeof===S)return Z(Q,H,kc(Q,X),ot);mc(Q,X)}return null}function st(Q,H,X,ot,St){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Q=Q.get(X)||null,C(H,Q,""+ot,St);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case c:return Q=Q.get(ot.key===null?X:ot.key)||null,P(H,Q,ot,St);case f:return Q=Q.get(ot.key===null?X:ot.key)||null,G(H,Q,ot,St);case nt:var Yt=ot._init;return ot=Yt(ot._payload),st(Q,H,X,ot,St)}if(M(ot)||W(ot))return Q=Q.get(X)||null,at(H,Q,ot,St,null);if(typeof ot.then=="function")return st(Q,H,X,pc(ot),St);if(ot.$$typeof===S)return st(Q,H,X,kc(H,ot),St);mc(H,ot)}return null}function It(Q,H,X,ot){for(var St=null,Yt=null,xt=H,Ot=H=0,rn=null;xt!==null&&Ot<X.length;Ot++){xt.index>Ot?(rn=xt,xt=null):rn=xt.sibling;var ue=Z(Q,xt,X[Ot],ot);if(ue===null){xt===null&&(xt=rn);break}i&&xt&&ue.alternate===null&&s(Q,xt),H=g(ue,H,Ot),Yt===null?St=ue:Yt.sibling=ue,Yt=ue,xt=rn}if(Ot===X.length)return o(Q,xt),le&&ea(Q,Ot),St;if(xt===null){for(;Ot<X.length;Ot++)xt=ht(Q,X[Ot],ot),xt!==null&&(H=g(xt,H,Ot),Yt===null?St=xt:Yt.sibling=xt,Yt=xt);return le&&ea(Q,Ot),St}for(xt=u(xt);Ot<X.length;Ot++)rn=st(xt,Q,Ot,X[Ot],ot),rn!==null&&(i&&rn.alternate!==null&&xt.delete(rn.key===null?Ot:rn.key),H=g(rn,H,Ot),Yt===null?St=rn:Yt.sibling=rn,Yt=rn);return i&&xt.forEach(function(ys){return s(Q,ys)}),le&&ea(Q,Ot),St}function zt(Q,H,X,ot){if(X==null)throw Error(r(151));for(var St=null,Yt=null,xt=H,Ot=H=0,rn=null,ue=X.next();xt!==null&&!ue.done;Ot++,ue=X.next()){xt.index>Ot?(rn=xt,xt=null):rn=xt.sibling;var ys=Z(Q,xt,ue.value,ot);if(ys===null){xt===null&&(xt=rn);break}i&&xt&&ys.alternate===null&&s(Q,xt),H=g(ys,H,Ot),Yt===null?St=ys:Yt.sibling=ys,Yt=ys,xt=rn}if(ue.done)return o(Q,xt),le&&ea(Q,Ot),St;if(xt===null){for(;!ue.done;Ot++,ue=X.next())ue=ht(Q,ue.value,ot),ue!==null&&(H=g(ue,H,Ot),Yt===null?St=ue:Yt.sibling=ue,Yt=ue);return le&&ea(Q,Ot),St}for(xt=u(xt);!ue.done;Ot++,ue=X.next())ue=st(xt,Q,Ot,ue.value,ot),ue!==null&&(i&&ue.alternate!==null&&xt.delete(ue.key===null?Ot:ue.key),H=g(ue,H,Ot),Yt===null?St=ue:Yt.sibling=ue,Yt=ue);return i&&xt.forEach(function(S1){return s(Q,S1)}),le&&ea(Q,Ot),St}function Oe(Q,H,X,ot){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:t:{for(var St=X.key;H!==null;){if(H.key===St){if(St=X.type,St===p){if(H.tag===7){o(Q,H.sibling),ot=d(H,X.props.children),ot.return=Q,Q=ot;break t}}else if(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===nt&&Cy(St)===H.type){o(Q,H.sibling),ot=d(H,X.props),El(ot,X),ot.return=Q,Q=ot;break t}o(Q,H);break}else s(Q,H);H=H.sibling}X.type===p?(ot=fa(X.props.children,Q.mode,ot,X.key),ot.return=Q,Q=ot):(ot=Nc(X.type,X.key,X.props,null,Q.mode,ot),El(ot,X),ot.return=Q,Q=ot)}return b(Q);case f:t:{for(St=X.key;H!==null;){if(H.key===St)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(Q,H.sibling),ot=d(H,X.children||[]),ot.return=Q,Q=ot;break t}else{o(Q,H);break}else s(Q,H);H=H.sibling}ot=Vd(X,Q.mode,ot),ot.return=Q,Q=ot}return b(Q);case nt:return St=X._init,X=St(X._payload),Oe(Q,H,X,ot)}if(M(X))return It(Q,H,X,ot);if(W(X)){if(St=W(X),typeof St!="function")throw Error(r(150));return X=St.call(X),zt(Q,H,X,ot)}if(typeof X.then=="function")return Oe(Q,H,pc(X),ot);if(X.$$typeof===S)return Oe(Q,H,kc(Q,X),ot);mc(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(Q,H.sibling),ot=d(H,X),ot.return=Q,Q=ot):(o(Q,H),ot=Ld(X,Q.mode,ot),ot.return=Q,Q=ot),b(Q)):o(Q,H)}return function(Q,H,X,ot){try{vl=0;var St=Oe(Q,H,X,ot);return Za=null,St}catch(xt){if(xt===yl)throw xt;var Yt=di(29,xt,null,Q.mode);return Yt.lanes=ot,Yt.return=Q,Yt}finally{}}}var ia=xy(!0),ky=xy(!1),Ja=Mt(null),gc=Mt(0);function Dy(i,s){i=Sr,Kt(gc,i),Kt(Ja,s),Sr=i|s.baseLanes}function Hf(){Kt(gc,Sr),Kt(Ja,Ja.current)}function Gf(){Sr=gc.current,ae(Ja),ae(gc)}var ci=Mt(null),zi=null;function Jr(i){var s=i.alternate;Kt(Ke,Ke.current&1),Kt(ci,i),zi===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(zi=i)}function Oy(i){if(i.tag===22){if(Kt(Ke,Ke.current),Kt(ci,i),zi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(zi=i)}}else ts()}function ts(){Kt(Ke,Ke.current),Kt(ci,ci.current)}function pr(i){ae(ci),zi===i&&(zi=null),ae(Ke)}var Ke=Mt(0);function yc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},fA=n.unstable_scheduleCallback,dA=n.unstable_NormalPriority,Qe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new hA,data:new Map,refCount:0}}function Tl(i){i.refCount--,i.refCount===0&&fA(dA,function(){i.controller.abort()})}var wl=null,Qf=0,to=0,eo=null;function pA(i,s){if(wl===null){var o=wl=[];Qf=0,to=Jd(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qf++,s.then(Ny,Ny),s}function Ny(){if(--Qf===0&&wl!==null){eo!==null&&(eo.status="fulfilled");var i=wl;wl=null,to=0,eo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function mA(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var My=k.S;k.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&pA(i,s),My!==null&&My(i,s)};var ra=Mt(null);function Yf(){var i=ra.current;return i!==null?i:ye.pooledCache}function _c(i,s){s===null?Kt(ra,ra.current):Kt(ra,s.pool)}function Uy(){var i=Yf();return i===null?null:{parent:Qe._currentValue,pool:i}}var es=0,Qt=null,pe=null,Le=null,vc=!1,no=!1,sa=!1,Ec=0,bl=0,io=null,gA=0;function Ue(){throw Error(r(321))}function Xf(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Hn(i[o],s[o]))return!1;return!0}function $f(i,s,o,u,d,g){return es=g,Qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=i===null||i.memoizedState===null?aa:ns,sa=!1,g=o(u,d),sa=!1,no&&(g=Ly(s,o,u,d)),Py(i),g}function Py(i){k.H=Fi;var s=pe!==null&&pe.next!==null;if(es=0,Le=pe=Qt=null,vc=!1,bl=0,io=null,s)throw Error(r(300));i===null||en||(i=i.dependencies,i!==null&&xc(i)&&(en=!0))}function Ly(i,s,o,u){Qt=i;var d=0;do{if(no&&(io=null),bl=0,no=!1,25<=d)throw Error(r(301));if(d+=1,Le=pe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=oa,g=s(o,u)}while(no);return g}function yA(){var i=k.H,s=i.useState()[0];return s=typeof s.then=="function"?Sl(s):s,i=i.useState()[0],(pe!==null?pe.memoizedState:null)!==i&&(Qt.flags|=1024),s}function Wf(){var i=Ec!==0;return Ec=0,i}function Zf(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Jf(i){if(vc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}vc=!1}es=0,Le=pe=Qt=null,no=!1,bl=Ec=0,io=null}function Dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Qt.memoizedState=Le=i:Le=Le.next=i,Le}function Ve(){if(pe===null){var i=Qt.alternate;i=i!==null?i.memoizedState:null}else i=pe.next;var s=Le===null?Qt.memoizedState:Le.next;if(s!==null)Le=s,pe=i;else{if(i===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));pe=i,i={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Le===null?Qt.memoizedState=Le=i:Le=Le.next=i}return Le}var Tc;Tc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Sl(i){var s=bl;return bl+=1,io===null&&(io=[]),i=Ry(io,i,s),s=Qt,(Le===null?s.memoizedState:Le.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?aa:ns),i}function wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sl(i);if(i.$$typeof===S)return mn(i)}throw Error(r(438,String(i)))}function td(i){var s=null,o=Qt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Qt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Tc(),Qt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=ct;return s.index++,o}function mr(i,s){return typeof s=="function"?s(i):s}function bc(i){var s=Ve();return ed(s,pe,i)}function ed(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var C=b=null,P=null,G=s,at=!1;do{var ht=G.lane&-536870913;if(ht!==G.lane?(ie&ht)===ht:(es&ht)===ht){var Z=G.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ht===to&&(at=!0);else if((es&Z)===Z){G=G.next,Z===to&&(at=!0);continue}else ht={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(C=P=ht,b=g):P=P.next=ht,Qt.lanes|=Z,hs|=Z;ht=G.action,sa&&o(g,ht),g=G.hasEagerState?G.eagerState:o(g,ht)}else Z={lane:ht,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(C=P=Z,b=g):P=P.next=Z,Qt.lanes|=ht,hs|=ht;G=G.next}while(G!==null&&G!==s);if(P===null?b=g:P.next=C,!Hn(g,i.memoizedState)&&(en=!0,at&&(o=eo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=P,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function nd(i){var s=Ve(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Hn(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Vy(i,s,o){var u=Qt,d=Ve(),g=le;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Hn((pe||d).memoizedState,o);if(b&&(d.memoizedState=o,en=!0),d=d.queue,sd(Fy.bind(null,u,d,i),[i]),d.getSnapshot!==s||b||Le!==null&&Le.memoizedState.tag&1){if(u.flags|=2048,ro(9,zy.bind(null,u,d,o,s),{destroy:void 0},null),ye===null)throw Error(r(349));g||(es&60)!==0||By(u,s,o)}return o}function By(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Qt.updateQueue,s===null?(s=Tc(),Qt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function zy(i,s,o,u){s.value=o,s.getSnapshot=u,jy(s)&&qy(i)}function Fy(i,s,o){return o(function(){jy(s)&&qy(i)})}function jy(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Hn(i,o)}catch{return!0}}function qy(i){var s=Zr(i,2);s!==null&&Rn(s,i,2)}function id(i){var s=Dn();if(typeof i=="function"){var o=i;if(i=o(),sa){Nt(!0);try{o()}finally{Nt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:i},s}function Hy(i,s,o,u){return i.baseState=o,ed(i,pe,typeof u=="function"?u:mr)}function _A(i,s,o,u,d){if(Rc(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Gy(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Gy(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=k.T,b={};k.T=b;try{var C=o(d,u),P=k.S;P!==null&&P(b,C),Ky(i,s,C)}catch(G){rd(i,s,G)}finally{k.T=g}}else try{g=o(d,u),Ky(i,s,g)}catch(G){rd(i,s,G)}}function Ky(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Qy(i,s,u)},function(u){return rd(i,s,u)}):Qy(i,s,o)}function Qy(i,s,o){s.status="fulfilled",s.value=o,Yy(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Gy(i,o)))}function rd(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Yy(s),s=s.next;while(s!==u)}i.action=null}function Yy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Xy(i,s){return s}function $y(i,s){if(le){var o=ye.formState;if(o!==null){t:{var u=Qt;if(le){if(on){e:{for(var d=on,g=Bi;d.nodeType!==8;){if(!g){d=null;break e}if(d=Ai(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=Ai(d.nextSibling),u=d.data==="F!";break t}}na(u)}u=!1}u&&(s=o[0])}}return o=Dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:s},o.queue=u,o=p_.bind(null,Qt,u),u.dispatch=o,u=id(!1),g=cd.bind(null,Qt,!1,u.queue),u=Dn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=_A.bind(null,Qt,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function Wy(i){var s=Ve();return Zy(s,pe,i)}function Zy(i,s,o){s=ed(i,s,Xy)[0],i=bc(mr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Sl(s):s;var u=Ve(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&(Qt.flags|=2048,ro(9,vA.bind(null,d,o),{destroy:void 0},null)),[s,g,i]}function vA(i,s){i.action=s}function Jy(i){var s=Ve(),o=pe;if(o!==null)return Zy(s,o,i);Ve(),s=s.memoizedState,o=Ve();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function ro(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Qt.updateQueue,s===null&&(s=Tc(),Qt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function t_(){return Ve().memoizedState}function Sc(i,s,o,u){var d=Dn();Qt.flags|=i,d.memoizedState=ro(1|s,o,{destroy:void 0},u===void 0?null:u)}function Ac(i,s,o,u){var d=Ve();u=u===void 0?null:u;var g=d.memoizedState.inst;pe!==null&&u!==null&&Xf(u,pe.memoizedState.deps)?d.memoizedState=ro(s,o,g,u):(Qt.flags|=i,d.memoizedState=ro(1|s,o,g,u))}function e_(i,s){Sc(8390656,8,i,s)}function sd(i,s){Ac(2048,8,i,s)}function n_(i,s){return Ac(4,2,i,s)}function i_(i,s){return Ac(4,4,i,s)}function r_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function s_(i,s,o){o=o!=null?o.concat([i]):null,Ac(4,4,r_.bind(null,s,i),o)}function ad(){}function a_(i,s){var o=Ve();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Xf(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function o_(i,s){var o=Ve();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Xf(s,u[1]))return u[0];if(u=i(),sa){Nt(!0);try{i()}finally{Nt(!1)}}return o.memoizedState=[u,s],u}function od(i,s,o){return o===void 0||(es&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=uv(),Qt.lanes|=i,hs|=i,o)}function l_(i,s,o,u){return Hn(o,s)?o:Ja.current!==null?(i=od(i,o,u),Hn(i,s)||(en=!0),i):(es&42)===0?(en=!0,i.memoizedState=o):(i=uv(),Qt.lanes|=i,hs|=i,s)}function u_(i,s,o,u,d){var g=_t.p;_t.p=g!==0&&8>g?g:8;var b=k.T,C={};k.T=C,cd(i,!1,s,o);try{var P=d(),G=k.S;if(G!==null&&G(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var at=mA(P,u);Al(i,s,at,Yn(i))}else Al(i,s,u,Yn(i))}catch(ht){Al(i,s,{then:function(){},status:"rejected",reason:ht},Yn())}finally{_t.p=g,k.T=b}}function EA(){}function ld(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=c_(i).queue;u_(i,d,s,Dt,o===null?EA:function(){return h_(i),o(u)})}function c_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Dt,baseState:Dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:Dt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function h_(i){var s=c_(i).next.queue;Al(i,s,{},Yn())}function ud(){return mn(Gl)}function f_(){return Ve().memoizedState}function d_(){return Ve().memoizedState}function TA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();i=ss(o);var u=as(s,i,o);u!==null&&(Rn(u,s,o),Cl(u,s,o)),s={cache:Kf()},i.payload=s;return}s=s.return}}function wA(i,s,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rc(i)?m_(s,o):(o=Bf(i,s,o,u),o!==null&&(Rn(o,i,u),g_(o,s,u)))}function p_(i,s,o){var u=Yn();Al(i,s,o,u)}function Al(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rc(i))m_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,C=g(b,o);if(d.hasEagerState=!0,d.eagerState=C,Hn(C,b))return uc(i,s,d,0),ye===null&&lc(),!1}catch{}finally{}if(o=Bf(i,s,d,u),o!==null)return Rn(o,i,u),g_(o,s,u),!0}return!1}function cd(i,s,o,u){if(u={lane:2,revertLane:Jd(),action:u,hasEagerState:!1,eagerState:null,next:null},Rc(i)){if(s)throw Error(r(479))}else s=Bf(i,o,u,2),s!==null&&Rn(s,i,2)}function Rc(i){var s=i.alternate;return i===Qt||s!==null&&s===Qt}function m_(i,s){no=vc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function g_(i,s,o){if((o&4194176)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,jr(i,o)}}var Fi={readContext:mn,use:wc,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue};Fi.useCacheRefresh=Ue,Fi.useMemoCache=Ue,Fi.useHostTransitionStatus=Ue,Fi.useFormState=Ue,Fi.useActionState=Ue,Fi.useOptimistic=Ue;var aa={readContext:mn,use:wc,useCallback:function(i,s){return Dn().memoizedState=[i,s===void 0?null:s],i},useContext:mn,useEffect:e_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Sc(4194308,4,r_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Sc(4194308,4,i,s)},useInsertionEffect:function(i,s){Sc(4,2,i,s)},useMemo:function(i,s){var o=Dn();s=s===void 0?null:s;var u=i();if(sa){Nt(!0);try{i()}finally{Nt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Dn();if(o!==void 0){var d=o(s);if(sa){Nt(!0);try{o(s)}finally{Nt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=wA.bind(null,Qt,i),[u.memoizedState,i]},useRef:function(i){var s=Dn();return i={current:i},s.memoizedState=i},useState:function(i){i=id(i);var s=i.queue,o=p_.bind(null,Qt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:ad,useDeferredValue:function(i,s){var o=Dn();return od(o,i,s)},useTransition:function(){var i=id(!1);return i=u_.bind(null,Qt,i.queue,!0,!1),Dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Qt,d=Dn();if(le){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ye===null)throw Error(r(349));(ie&60)!==0||By(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,e_(Fy.bind(null,u,g,i),[i]),u.flags|=2048,ro(9,zy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var i=Dn(),s=ye.identifierPrefix;if(le){var o=dr,u=fr;o=(u&~(1<<32-Vt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Ec++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=gA++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Dn().memoizedState=TA.bind(null,Qt)}};aa.useMemoCache=td,aa.useHostTransitionStatus=ud,aa.useFormState=$y,aa.useActionState=$y,aa.useOptimistic=function(i){var s=Dn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cd.bind(null,Qt,!0,o),o.dispatch=s,[i,s]};var ns={readContext:mn,use:wc,useCallback:a_,useContext:mn,useEffect:sd,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:bc,useRef:t_,useState:function(){return bc(mr)},useDebugValue:ad,useDeferredValue:function(i,s){var o=Ve();return l_(o,pe.memoizedState,i,s)},useTransition:function(){var i=bc(mr)[0],s=Ve().memoizedState;return[typeof i=="boolean"?i:Sl(i),s]},useSyncExternalStore:Vy,useId:f_};ns.useCacheRefresh=d_,ns.useMemoCache=td,ns.useHostTransitionStatus=ud,ns.useFormState=Wy,ns.useActionState=Wy,ns.useOptimistic=function(i,s){var o=Ve();return Hy(o,pe,i,s)};var oa={readContext:mn,use:wc,useCallback:a_,useContext:mn,useEffect:sd,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:nd,useRef:t_,useState:function(){return nd(mr)},useDebugValue:ad,useDeferredValue:function(i,s){var o=Ve();return pe===null?od(o,i,s):l_(o,pe.memoizedState,i,s)},useTransition:function(){var i=nd(mr)[0],s=Ve().memoizedState;return[typeof i=="boolean"?i:Sl(i),s]},useSyncExternalStore:Vy,useId:f_};oa.useCacheRefresh=d_,oa.useMemoCache=td,oa.useHostTransitionStatus=ud,oa.useFormState=Jy,oa.useActionState=Jy,oa.useOptimistic=function(i,s){var o=Ve();return pe!==null?Hy(o,pe,i,s):(o.baseState=i,[i,o.queue.dispatch])};function hd(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:U({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var fd={isMounted:function(i){return(i=i._reactInternals)?Tt(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Yn(),d=ss(u);d.payload=s,o!=null&&(d.callback=o),s=as(i,d,u),s!==null&&(Rn(s,i,u),Cl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Yn(),d=ss(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=as(i,d,u),s!==null&&(Rn(s,i,u),Cl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Yn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(i,u,o),s!==null&&(Rn(s,i,o),Cl(s,i,o))}};function y_(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!fl(o,u)||!fl(d,g):!0}function __(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&fd.enqueueReplaceState(s,s.state,null)}function la(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=U({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Ic=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function v_(i){Ic(i)}function E_(i){console.error(i)}function T_(i){Ic(i)}function Cc(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function w_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function dd(i,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){Cc(i,s)},o}function b_(i){return i=ss(i),i.tag=3,i}function S_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){w_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){w_(s,o,u),typeof d!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function bA(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Il(s,o,d,!0),o=ci.current,o!==null){switch(o.tag){case 13:return zi===null?Yd():o.alternate===null&&De===0&&(De=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===qf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),$d(i,u,d)),!1;case 22:return o.flags|=65536,u===qf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),$d(i,u,d)),!1}throw Error(r(435,o.tag))}return $d(i,u,d),Yd(),!1}if(le)return s=ci.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==jf&&(i=Error(r(422),{cause:u}),gl(oi(i,o)))):(u!==jf&&(s=Error(r(423),{cause:u}),gl(oi(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=oi(u,o),d=dd(i.stateNode,u,d),Cd(i,d),De!==4&&(De=2)),!1;var g=Error(r(520),{cause:u});if(g=oi(g,o),Pl===null?Pl=[g]:Pl.push(g),De!==4&&(De=2),s===null)return!0;u=oi(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=dd(o.stateNode,u,i),Cd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fs===null||!fs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=b_(d),S_(d,i,o,u),Cd(o,d),!1}o=o.return}while(o!==null);return!1}var A_=Error(r(461)),en=!1;function ln(i,s,o,u){s.child=i===null?ky(s,null,o,u):ia(s,i.child,o,u)}function R_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return ca(s),u=$f(i,s,o,b,g,d),C=Wf(),i!==null&&!en?(Zf(i,s,d),gr(i,s,d)):(le&&C&&zf(s),s.flags|=1,ln(i,s,u,d),s.child)}function I_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Pd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,C_(i,s,g,u,d)):(i=Nc(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!wd(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(b,u)&&i.ref===s.ref)return gr(i,s,d)}return s.flags|=1,i=cs(g,u),i.ref=s.ref,i.return=s,s.child=i}function C_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(fl(g,u)&&i.ref===s.ref)if(en=!1,s.pendingProps=u=g,wd(i,d))(i.flags&131072)!==0&&(en=!0);else return s.lanes=i.lanes,gr(i,s,d)}return pd(i,s,o,u,d)}function x_(i,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(Rl(i,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return k_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&_c(s,b!==null?b.cachePool:null),b!==null?Dy(s,b):Hf(),Oy(s);else return s.lanes=s.childLanes=536870912,k_(i,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(_c(s,b.cachePool),Dy(s,b),ts(),s.memoizedState=null):(i!==null&&_c(s,null),Hf(),ts());return ln(i,s,d,o),s.child}function k_(i,s,o,u){var d=Yf();return d=d===null?null:{parent:Qe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&_c(s,null),Hf(),Oy(s),i!==null&&Il(i,s,u,!0),null}function Rl(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function pd(i,s,o,u,d){return ca(s),o=$f(i,s,o,u,void 0,d),u=Wf(),i!==null&&!en?(Zf(i,s,d),gr(i,s,d)):(le&&u&&zf(s),s.flags|=1,ln(i,s,o,d),s.child)}function D_(i,s,o,u,d,g){return ca(s),s.updateQueue=null,o=Ly(s,u,o,d),Py(i),u=Wf(),i!==null&&!en?(Zf(i,s,g),gr(i,s,g)):(le&&u&&zf(s),s.flags|=1,ln(i,s,o,g),s.child)}function O_(i,s,o,u,d){if(ca(s),s.stateNode===null){var g=Xa,b=o.contextType;typeof b=="object"&&b!==null&&(g=mn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Rd(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?mn(b):Xa,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(hd(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&fd.enqueueReplaceState(g,g.state,null),kl(s,u,g,d),xl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,P=la(o,C);g.props=P;var G=g.context,at=o.contextType;b=Xa,typeof at=="object"&&at!==null&&(b=mn(at));var ht=o.getDerivedStateFromProps;at=typeof ht=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,at||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||G!==b)&&__(s,g,u,b),rs=!1;var Z=s.memoizedState;g.state=Z,kl(s,u,g,d),xl(),G=s.memoizedState,C||Z!==G||rs?(typeof ht=="function"&&(hd(s,o,ht,u),G=s.memoizedState),(P=rs||y_(s,o,P,u,Z,G,b))?(at||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=b,u=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Id(i,s),b=s.memoizedProps,at=la(o,b),g.props=at,ht=s.pendingProps,Z=g.context,G=o.contextType,P=Xa,typeof G=="object"&&G!==null&&(P=mn(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ht||Z!==P)&&__(s,g,u,P),rs=!1,Z=s.memoizedState,g.state=Z,kl(s,u,g,d),xl();var st=s.memoizedState;b!==ht||Z!==st||rs||i!==null&&i.dependencies!==null&&xc(i.dependencies)?(typeof C=="function"&&(hd(s,o,C,u),st=s.memoizedState),(at=rs||y_(s,o,at,u,Z,st,P)||i!==null&&i.dependencies!==null&&xc(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,st,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,st,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=st),g.props=u,g.state=st,g.context=P,u=at):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Rl(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ia(s,i.child,null,d),s.child=ia(s,null,o,d)):ln(i,s,o,d),s.memoizedState=g.state,i=s.child):i=gr(i,s,d),i}function N_(i,s,o,u){return ml(),s.flags|=256,ln(i,s,o,u),s.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(i){return{baseLanes:i,cachePool:Uy()}}function yd(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=pi),i}function M_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ke.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(le){if(d?Jr(s):ts(),le){var C=on,P;if(P=C){t:{for(P=C,C=Bi;P.nodeType!==8;){if(!C){C=null;break t}if(P=Ai(P.nextSibling),P===null){C=null;break t}}C=P}C!==null?(s.memoizedState={dehydrated:C,treeContext:ta!==null?{id:fr,overflow:dr}:null,retryLane:536870912},P=di(18,null,null,0),P.stateNode=C,P.return=s,s.child=P,An=s,on=null,P=!0):P=!1}P||na(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?s.lanes=16:s.lanes=536870912,null;pr(s)}return C=u.children,u=u.fallback,d?(ts(),d=s.mode,C=vd({mode:"hidden",children:C},d),u=fa(u,d,o,null),C.return=s,u.return=s,C.sibling=u,s.child=C,d=s.child,d.memoizedState=gd(o),d.childLanes=yd(i,b,o),s.memoizedState=md,u):(Jr(s),_d(s,C))}if(P=i.memoizedState,P!==null&&(C=P.dehydrated,C!==null)){if(g)s.flags&256?(Jr(s),s.flags&=-257,s=Ed(i,s,o)):s.memoizedState!==null?(ts(),s.child=i.child,s.flags|=128,s=null):(ts(),d=u.fallback,C=s.mode,u=vd({mode:"visible",children:u.children},C),d=fa(d,C,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,ia(s,i.child,null,o),u=s.child,u.memoizedState=gd(o),u.childLanes=yd(i,b,o),s.memoizedState=md,s=d);else if(Jr(s),C.data==="$!"){if(b=C.nextSibling&&C.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(r(419)),u.stack="",u.digest=b,gl({value:u,source:null,stack:null}),s=Ed(i,s,o)}else if(en||Il(i,s,o,!1),b=(o&i.childLanes)!==0,en||b){if(b=ye,b!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane)throw P.retryLane=u,Zr(i,u),Rn(b,i,u),A_}C.data==="$?"||Yd(),s=Ed(i,s,o)}else C.data==="$?"?(s.flags|=128,s.child=i.child,s=VA.bind(null,i),C._reactRetry=s,s=null):(i=P.treeContext,on=Ai(C.nextSibling),An=s,le=!0,bi=null,Bi=!1,i!==null&&(li[ui++]=fr,li[ui++]=dr,li[ui++]=ta,fr=i.id,dr=i.overflow,ta=s),s=_d(s,u.children),s.flags|=4096);return s}return d?(ts(),d=u.fallback,C=s.mode,P=i.child,G=P.sibling,u=cs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&31457280,G!==null?d=cs(G,d):(d=fa(d,C,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,C=i.child.memoizedState,C===null?C=gd(o):(P=C.cachePool,P!==null?(G=Qe._currentValue,P=P.parent!==G?{parent:G,pool:G}:P):P=Uy(),C={baseLanes:C.baseLanes|o,cachePool:P}),d.memoizedState=C,d.childLanes=yd(i,b,o),s.memoizedState=md,u):(Jr(s),o=i.child,i=o.sibling,o=cs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function _d(i,s){return s=vd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function vd(i,s){return av(i,s,0,null)}function Ed(i,s,o){return ia(s,i.child,null,o),i=_d(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function U_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Sd(i.return,s,o)}function Td(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function P_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(i,s,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U_(i,o,s);else if(i.tag===19)U_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Kt(Ke,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&yc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Td(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&yc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Td(s,!0,o,null,g);break;case"together":Td(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Il(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=cs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=cs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function wd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&xc(i)))}function SA(i,s,o){switch(s.tag){case 3:Bn(s,s.stateNode.containerInfo),is(s,Qe,i.memoizedState.cache),ml();break;case 27:case 5:Jn(s);break;case 4:Bn(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Jr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?M_(i,s,o):(Jr(s),i=gr(i,s,o),i!==null?i.sibling:null);Jr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Il(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return P_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Kt(Ke,Ke.current),u)break;return null;case 22:case 23:return s.lanes=0,x_(i,s,o);case 24:is(s,Qe,i.memoizedState.cache)}return gr(i,s,o)}function L_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)en=!0;else{if(!wd(i,o)&&(s.flags&128)===0)return en=!1,SA(i,s,o);en=(i.flags&131072)!==0}else en=!1,le&&(s.flags&1048576)!==0&&Ty(s,fc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Pd(u)?(i=la(u,i),s.tag=1,s=O_(null,s,u,i,o)):(s.tag=0,s=pd(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===V){s.tag=11,s=R_(null,s,u,i,o);break t}else if(d===K){s.tag=14,s=I_(null,s,u,i,o);break t}}throw s=N(u)||u,Error(r(306,s,""))}}return s;case 0:return pd(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),O_(i,s,u,d,o);case 3:t:{if(Bn(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,Id(i,s),kl(s,g,null,o);var b=s.memoizedState;if(g=b.cache,is(s,Qe,g),g!==d.cache&&Ad(s,[Qe],o,!0),xl(),g=b.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=N_(i,s,g,o);break t}else if(g!==u){u=oi(Error(r(424)),s),gl(u),s=N_(i,s,g,o);break t}else for(on=Ai(s.stateNode.containerInfo.firstChild),An=s,le=!0,bi=null,Bi=!0,o=ky(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ml(),g===u){s=gr(i,s,o);break t}ln(i,s,g,o)}s=s.child}return s;case 26:return Rl(i,s),i===null?(o=zv(s.type,null,s.pendingProps,null))?s.memoizedState=o:le||(o=s.type,i=s.pendingProps,u=Gc(Ne.current).createElement(o),u[Ze]=s,u[qe]=i,un(u,o,i),be(u),s.stateNode=u):s.memoizedState=zv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Jn(s),i===null&&le&&(u=s.stateNode=Lv(s.type,s.pendingProps,Ne.current),An=s,Bi=!0,on=Ai(u.firstChild)),u=s.pendingProps.children,i!==null||le?ln(i,s,u,o):s.child=ia(s,null,u,o),Rl(i,s),s.child;case 5:return i===null&&le&&((d=u=on)&&(u=t1(u,s.type,s.pendingProps,Bi),u!==null?(s.stateNode=u,An=s,on=Ai(u.firstChild),Bi=!1,d=!0):d=!1),d||na(s)),Jn(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,lp(d,g)?u=null:b!==null&&lp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=$f(i,s,yA,null,null,o),Gl._currentValue=d),Rl(i,s),ln(i,s,u,o),s.child;case 6:return i===null&&le&&((i=o=on)&&(o=e1(o,s.pendingProps,Bi),o!==null?(s.stateNode=o,An=s,on=null,i=!0):i=!1),i||na(s)),null;case 13:return M_(i,s,o);case 4:return Bn(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ia(s,null,u,o):ln(i,s,u,o),s.child;case 11:return R_(i,s,s.type,s.pendingProps,o);case 7:return ln(i,s,s.pendingProps,o),s.child;case 8:return ln(i,s,s.pendingProps.children,o),s.child;case 12:return ln(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),ln(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ca(s),d=mn(d),u=u(d),s.flags|=1,ln(i,s,u,o),s.child;case 14:return I_(i,s,s.type,s.pendingProps,o);case 15:return C_(i,s,s.type,s.pendingProps,o);case 19:return P_(i,s,o);case 22:return x_(i,s,o);case 24:return ca(s),u=mn(Qe),i===null?(d=Yf(),d===null&&(d=ye,g=Kf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Rd(s),is(s,Qe,d)):((i.lanes&o)!==0&&(Id(i,s),kl(s,null,null,o),xl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),is(s,Qe,u)):(u=g.cache,is(s,Qe,u),u!==d.cache&&Ad(s,[Qe],o,!0))),ln(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var bd=Mt(null),ua=null,yr=null;function is(i,s,o){Kt(bd,s._currentValue),s._currentValue=o}function _r(i){i._currentValue=bd.current,ae(bd)}function Sd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Ad(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=d;for(var P=0;P<s.length;P++)if(C.context===s[P]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Sd(g.return,o,i),u||(b=null);break t}g=C.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Sd(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Il(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var C=d.type;Hn(d.pendingProps.value,b.value)||(i!==null?i.push(C):i=[C])}}else if(d===dn.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Gl):i=[Gl])}d=d.return}i!==null&&Ad(s,i,o,u),s.flags|=262144}function xc(i){for(i=i.firstContext;i!==null;){if(!Hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ca(i){ua=i,yr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return V_(ua,i)}function kc(i,s){return ua===null&&ca(i),V_(i,s)}function V_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},yr===null){if(i===null)throw Error(r(308));yr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else yr=yr.next=s;return o}var rs=!1;function Rd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function as(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=cc(i),vy(i,null,o),s}return uc(i,u,s,o),cc(i)}function Cl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,jr(i,o)}}function Cd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var xd=!1;function xl(){if(xd){var i=eo;if(i!==null)throw i}}function kl(i,s,o,u){xd=!1;var d=i.updateQueue;rs=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,G=P.next;P.next=null,b===null?g=G:b.next=G,b=P;var at=i.alternate;at!==null&&(at=at.updateQueue,C=at.lastBaseUpdate,C!==b&&(C===null?at.firstBaseUpdate=G:C.next=G,at.lastBaseUpdate=P))}if(g!==null){var ht=d.baseState;b=0,at=G=P=null,C=g;do{var Z=C.lane&-536870913,st=Z!==C.lane;if(st?(ie&Z)===Z:(u&Z)===Z){Z!==0&&Z===to&&(xd=!0),at!==null&&(at=at.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var It=i,zt=C;Z=s;var Oe=o;switch(zt.tag){case 1:if(It=zt.payload,typeof It=="function"){ht=It.call(Oe,ht,Z);break t}ht=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=zt.payload,Z=typeof It=="function"?It.call(Oe,ht,Z):It,Z==null)break t;ht=U({},ht,Z);break t;case 2:rs=!0}}Z=C.callback,Z!==null&&(i.flags|=64,st&&(i.flags|=8192),st=d.callbacks,st===null?d.callbacks=[Z]:st.push(Z))}else st={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},at===null?(G=at=st,P=ht):at=at.next=st,b|=Z;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;st=C,C=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);at===null&&(P=ht),d.baseState=P,d.firstBaseUpdate=G,d.lastBaseUpdate=at,g===null&&(d.shared.lanes=0),hs|=b,i.lanes=b,i.memoizedState=ht}}function B_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function z_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)B_(o[i],s)}function Dl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(C){ge(s,s.return,C)}}function os(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,d=s;var P=o;try{C()}catch(G){ge(d,P,G)}}}u=u.next}while(u!==g)}}catch(G){ge(s,s.return,G)}}function F_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{z_(s,o)}catch(u){ge(i,i.return,u)}}}function j_(i,s,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ge(i,s,u)}}function ha(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(g){ge(i,s,g)}}function Gn(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ge(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ge(i,s,d)}else o.current=null}function q_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ge(i,i.return,d)}}function H_(i,s,o){try{var u=i.stateNode;XA(u,i.type,o,s),u[qe]=s}catch(d){ge(i,i.return,d)}}function G_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function kd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||G_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dd(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Hc));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Dd(i,s,o),i=i.sibling;i!==null;)Dd(i,s,o),i=i.sibling}function Dc(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Dc(i,s,o),i=i.sibling;i!==null;)Dc(i,s,o),i=i.sibling}var vr=!1,ke=!1,Od=!1,K_=typeof WeakSet=="function"?WeakSet:Set,nn=null,Q_=!1;function AA(i,s){if(i=i.containerInfo,ap=Wc,i=cy(i),Mf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,C=-1,P=-1,G=0,at=0,ht=i,Z=null;e:for(;;){for(var st;ht!==o||d!==0&&ht.nodeType!==3||(C=b+d),ht!==g||u!==0&&ht.nodeType!==3||(P=b+u),ht.nodeType===3&&(b+=ht.nodeValue.length),(st=ht.firstChild)!==null;)Z=ht,ht=st;for(;;){if(ht===i)break e;if(Z===o&&++G===d&&(C=b),Z===g&&++at===u&&(P=b),(st=ht.nextSibling)!==null)break;ht=Z,Z=ht.parentNode}ht=st}o=C===-1||P===-1?null:{start:C,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(op={focusedElem:i,selectionRange:o},Wc=!1,nn=s;nn!==null;)if(s=nn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,nn=i;else for(;nn!==null;){switch(s=nn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var It=la(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(It,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(zt){ge(o,o.return,zt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,nn=i;break}nn=s.return}return It=Q_,Q_=!1,It}function Y_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(i,o),u&4&&Dl(5,o);break;case 1:if(Tr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(C){ge(o,o.return,C)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){ge(o,o.return,C)}}u&64&&F_(o),u&512&&ha(o,o.return);break;case 3:if(Tr(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{z_(u,i)}catch(C){ge(o,o.return,C)}}break;case 26:Tr(i,o),u&512&&ha(o,o.return);break;case 27:case 5:Tr(i,o),s===null&&u&4&&q_(o),u&512&&ha(o,o.return);break;case 12:Tr(i,o);break;case 13:Tr(i,o),u&4&&W_(i,o);break;case 22:if(d=o.memoizedState!==null||vr,!d){s=s!==null&&s.memoizedState!==null||ke;var g=vr,b=ke;vr=d,(ke=s)&&!b?ls(i,o,(o.subtreeFlags&8772)!==0):Tr(i,o),vr=g,ke=b}u&512&&(o.memoizedProps.mode==="manual"?ha(o,o.return):Gn(o,o.return));break;default:Tr(i,o)}}function X_(i){var s=i.alternate;s!==null&&(i.alternate=null,X_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Be=null,Kn=!1;function Er(i,s,o){for(o=o.child;o!==null;)$_(i,s,o),o=o.sibling}function $_(i,s,o){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(it,o)}catch{}switch(o.tag){case 26:ke||Gn(o,s),Er(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Gn(o,s);var u=Be,d=Kn;for(Be=o.stateNode,Er(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fs(o),Be=u,Kn=d;break;case 5:ke||Gn(o,s);case 6:d=Be;var g=Kn;if(Be=null,Er(i,s,o),Be=d,Kn=g,Be!==null)if(Kn)try{i=Be,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(b){ge(o,s,b)}else try{Be.removeChild(o.stateNode)}catch(b){ge(o,s,b)}break;case 18:Be!==null&&(Kn?(s=Be,o=o.stateNode,s.nodeType===8?cp(s.parentNode,o):s.nodeType===1&&cp(s,o),Xl(s)):cp(Be,o.stateNode));break;case 4:u=Be,d=Kn,Be=o.stateNode.containerInfo,Kn=!0,Er(i,s,o),Be=u,Kn=d;break;case 0:case 11:case 14:case 15:ke||os(2,o,s),ke||os(4,o,s),Er(i,s,o);break;case 1:ke||(Gn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&j_(o,s,u)),Er(i,s,o);break;case 21:Er(i,s,o);break;case 22:ke||Gn(o,s),ke=(u=ke)||o.memoizedState!==null,Er(i,s,o),ke=u;break;default:Er(i,s,o)}}function W_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xl(i)}catch(o){ge(s,s.return,o)}}function RA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new K_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new K_),s;default:throw Error(r(435,i.tag))}}function Nd(i,s){var o=RA(i);s.forEach(function(u){var d=BA.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function hi(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,C=b;t:for(;C!==null;){switch(C.tag){case 27:case 5:Be=C.stateNode,Kn=!1;break t;case 3:Be=C.stateNode.containerInfo,Kn=!0;break t;case 4:Be=C.stateNode.containerInfo,Kn=!0;break t}C=C.return}if(Be===null)throw Error(r(160));$_(g,b,d),Be=null,Kn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Z_(s,i),s=s.sibling}var Si=null;function Z_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:hi(s,i),fi(i),u&4&&(os(3,i,i.return),Dl(3,i),os(5,i,i.return));break;case 1:hi(s,i),fi(i),u&512&&(ke||o===null||Gn(o,o.return)),u&64&&vr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Si;if(hi(s,i),fi(i),u&512&&(ke||o===null||Gn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Hr]||g[Ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Ze]=i,be(g),u=g;break t;case"link":var b=qv("link","href",d).get(u+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(g=b[C],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(b=qv("meta","content",d).get(u+(o.content||""))){for(C=0;C<b.length;C++)if(g=b[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ze]=i,be(g),u=g}i.stateNode=u}else Hv(d,i.type,i.stateNode);else i.stateNode=jv(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Hv(d,i.type,i.stateNode):jv(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&H_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){d=i.stateNode,g=i.memoizedProps;try{for(var P=d.firstChild;P;){var G=P.nextSibling,at=P.nodeName;P[Hr]||at==="HEAD"||at==="BODY"||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=G}for(var ht=i.type,Z=d.attributes;Z.length;)d.removeAttributeNode(Z[0]);un(d,ht,g),d[Ze]=i,d[qe]=g}catch(It){ge(i,i.return,It)}}case 5:if(hi(s,i),fi(i),u&512&&(ke||o===null||Gn(o,o.return)),i.flags&32){d=i.stateNode;try{ni(d,"")}catch(It){ge(i,i.return,It)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,H_(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Od=!0);break;case 6:if(hi(s,i),fi(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(It){ge(i,i.return,It)}}break;case 3:if(Yc=null,d=Si,Si=Kc(s.containerInfo),hi(s,i),Si=d,fi(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xl(s.containerInfo)}catch(It){ge(i,i.return,It)}Od&&(Od=!1,J_(i));break;case 4:u=Si,Si=Kc(i.stateNode.containerInfo),hi(s,i),fi(i),Si=u;break;case 12:hi(s,i),fi(i);break;case 13:hi(s,i),fi(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jd=We()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nd(i,u)));break;case 22:if(u&512&&(ke||o===null||Gn(o,o.return)),P=i.memoizedState!==null,G=o!==null&&o.memoizedState!==null,at=vr,ht=ke,vr=at||P,ke=ht||G,hi(s,i),ke=ht,vr=at,fi(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=P?s._visibility&-2:s._visibility|1,P&&(s=vr||ke,o===null||G||s||so(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){G=o=s;try{if(d=G.stateNode,P)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=G.stateNode,C=G.memoizedProps.style;var st=C!=null&&C.hasOwnProperty("display")?C.display:null;b.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(It){ge(G,G.return,It)}}}else if(s.tag===6){if(o===null){G=s;try{G.stateNode.nodeValue=P?"":G.memoizedProps}catch(It){ge(G,G.return,It)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nd(i,o))));break;case 19:hi(s,i),fi(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nd(i,u)));break;case 21:break;default:hi(s,i),fi(i)}}function fi(i){var s=i.flags;if(s&2){try{if(i.tag!==27){t:{for(var o=i.return;o!==null;){if(G_(o)){var u=o;break t}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var d=u.stateNode,g=kd(i);Dc(i,g,d);break;case 5:var b=u.stateNode;u.flags&32&&(ni(b,""),u.flags&=-33);var C=kd(i);Dc(i,C,b);break;case 3:case 4:var P=u.stateNode.containerInfo,G=kd(i);Dd(i,G,P);break;default:throw Error(r(161))}}}catch(at){ge(i,i.return,at)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function J_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;J_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Y_(i,s.alternate,s),s=s.sibling}function so(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),so(s);break;case 1:Gn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&j_(s,s.return,o),so(s);break;case 26:case 27:case 5:Gn(s,s.return),so(s);break;case 22:Gn(s,s.return),s.memoizedState===null&&so(s);break;default:so(s)}i=i.sibling}}function ls(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ls(d,g,o),Dl(4,g);break;case 1:if(ls(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ge(u,u.return,G)}if(u=g,d=u.updateQueue,d!==null){var C=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)B_(P[d],C)}catch(G){ge(u,u.return,G)}}o&&b&64&&F_(g),ha(g,g.return);break;case 26:case 27:case 5:ls(d,g,o),o&&u===null&&b&4&&q_(g),ha(g,g.return);break;case 12:ls(d,g,o);break;case 13:ls(d,g,o),o&&b&4&&W_(d,g);break;case 22:g.memoizedState===null&&ls(d,g,o),ha(g,g.return);break;default:ls(d,g,o)}s=s.sibling}}function Md(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Tl(o))}function Ud(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tl(i))}function us(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tv(i,s,o,u),s=s.sibling}function tv(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:us(i,s,o,u),d&2048&&Dl(9,s);break;case 3:us(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tl(i)));break;case 12:if(d&2048){us(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,C=g.onPostCommit;typeof C=="function"&&C(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){ge(s,s.return,P)}}else us(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?us(i,s,o,u):Ol(i,s):g._visibility&4?us(i,s,o,u):(g._visibility|=4,ao(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Md(s.alternate,s);break;case 24:us(i,s,o,u),d&2048&&Ud(s.alternate,s);break;default:us(i,s,o,u)}}function ao(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,C=o,P=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:ao(g,b,C,P,d),Dl(8,b);break;case 23:break;case 22:var at=b.stateNode;b.memoizedState!==null?at._visibility&4?ao(g,b,C,P,d):Ol(g,b):(at._visibility|=4,ao(g,b,C,P,d)),d&&G&2048&&Md(b.alternate,b);break;case 24:ao(g,b,C,P,d),d&&G&2048&&Ud(b.alternate,b);break;default:ao(g,b,C,P,d)}s=s.sibling}}function Ol(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Ol(o,u),d&2048&&Md(u.alternate,u);break;case 24:Ol(o,u),d&2048&&Ud(u.alternate,u);break;default:Ol(o,u)}s=s.sibling}}var Nl=8192;function oo(i){if(i.subtreeFlags&Nl)for(i=i.child;i!==null;)ev(i),i=i.sibling}function ev(i){switch(i.tag){case 26:oo(i),i.flags&Nl&&i.memoizedState!==null&&p1(Si,i.memoizedState,i.memoizedProps);break;case 5:oo(i);break;case 3:case 4:var s=Si;Si=Kc(i.stateNode.containerInfo),oo(i),Si=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Nl,Nl=16777216,oo(i),Nl=s):oo(i));break;default:oo(i)}}function nv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ml(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,rv(u,i)}nv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iv(i),i=i.sibling}function iv(i){switch(i.tag){case 0:case 11:case 15:Ml(i),i.flags&2048&&os(9,i,i.return);break;case 3:Ml(i);break;case 12:Ml(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Oc(i)):Ml(i);break;default:Ml(i)}}function Oc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,rv(u,i)}nv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:os(8,s,s.return),Oc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Oc(s));break;default:Oc(s)}i=i.sibling}}function rv(i,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:os(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else t:for(o=i;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(X_(u),u===o){nn=null;break t}if(d!==null){d.return=g,nn=d;break t}nn=g}}}function IA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(i,s,o,u){return new IA(i,s,o,u)}function Pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cs(i,s){var o=i.alternate;return o===null?(o=di(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function sv(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Nc(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")Pd(i)&&(b=1);else if(typeof i=="string")b=f1(i,o,Ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case p:return fa(o.children,d,g,s);case m:b=8,d|=24;break;case _:return i=di(12,o,s,d|2),i.elementType=_,i.lanes=g,i;case B:return i=di(13,o,s,d),i.elementType=B,i.lanes=g,i;case q:return i=di(19,o,s,d),i.elementType=q,i.lanes=g,i;case J:return av(o,d,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case S:b=10;break t;case R:b=9;break t;case V:b=11;break t;case K:b=14;break t;case nt:b=16,u=null;break t}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=di(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function fa(i,s,o,u){return i=di(7,i,u,s),i.lanes=o,i}function av(i,s,o,u){i=di(22,i,u,s),i.elementType=J,i.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(r(456));if((d._pendingVisibility&2)===0){var b=Zr(g,2);b!==null&&(d._pendingVisibility|=2,Rn(b,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(r(456));if((d._pendingVisibility&2)!==0){var b=Zr(g,2);b!==null&&(d._pendingVisibility&=-3,Rn(b,g,2))}}};return i.stateNode=d,i}function Ld(i,s,o){return i=di(6,i,null,s),i.lanes=o,i}function Vd(i,s,o){return s=di(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function wr(i){i.flags|=4}function ov(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gv(s)){if(s=ci.current,s!==null&&((ie&4194176)===ie?zi!==null:(ie&62914560)!==ie&&(ie&536870912)===0||s!==zi))throw _l=qf,Sy;i.flags|=8192}}function Mc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?zr():536870912,i.lanes|=s,uo|=s)}function Ul(i,s){if(!le)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Se(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function CA(i,s,o){var u=s.pendingProps;switch(Ff(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),_r(Qe),xn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(pl(s)?wr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bi!==null&&(Kd(bi),bi=null))),Se(s),null;case 26:return o=s.memoizedState,i===null?(wr(s),o!==null?(Se(s),ov(s,o)):(Se(s),s.flags&=-16777217)):o?o!==i.memoizedState?(wr(s),Se(s),ov(s,o)):(Se(s),s.flags&=-16777217):(i.memoizedProps!==u&&wr(s),Se(s),s.flags&=-16777217),null;case 27:Ci(s),o=Ne.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&wr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Se(s),null}i=Ce.current,pl(s)?wy(s):(i=Lv(d,u,o),s.stateNode=i,wr(s))}return Se(s),null;case 5:if(Ci(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&wr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Se(s),null}if(i=Ce.current,pl(s))wy(s);else{switch(d=Gc(Ne.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ze]=s,i[qe]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(un(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&wr(s)}}return Se(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&wr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ne.current,pl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ze]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Dv(i.nodeValue,o)),i||na(s)}else i=Gc(i).createTextNode(u),i[Ze]=s,s.stateNode=i}return Se(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=pl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ze]=s}else ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),d=!1}else bi!==null&&(Kd(bi),bi=null),d=!0;if(!d)return s.flags&256?(pr(s),s):(pr(s),null)}if(pr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Mc(s,s.updateQueue),Se(s),null;case 4:return xn(),i===null&&ip(s.stateNode.containerInfo),Se(s),null;case 10:return _r(s.type),Se(s),null;case 19:if(ae(Ke),d=s.memoizedState,d===null)return Se(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Ul(d,!1);else{if(De!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=yc(i),g!==null){for(s.flags|=128,Ul(d,!1),i=g.updateQueue,s.updateQueue=i,Mc(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)sv(o,i),o=o.sibling;return Kt(Ke,Ke.current&1|2),s.child}i=i.sibling}d.tail!==null&&We()>Uc&&(s.flags|=128,u=!0,Ul(d,!1),s.lanes=4194304)}else{if(!u)if(i=yc(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Mc(s,i),Ul(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!le)return Se(s),null}else 2*We()-d.renderingStartTime>Uc&&o!==536870912&&(s.flags|=128,u=!0,Ul(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=We(),s.sibling=null,i=Ke.current,Kt(Ke,u?i&1|2:i&1),s):(Se(s),null);case 22:case 23:return pr(s),Gf(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),o=s.updateQueue,o!==null&&Mc(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ae(ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),_r(Qe),Se(s),null;case 25:return null}throw Error(r(156,s.tag))}function xA(i,s){switch(Ff(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _r(Qe),xn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ci(s),null;case 13:if(pr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ml()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(Ke),null;case 4:return xn(),null;case 10:return _r(s.type),null;case 22:case 23:return pr(s),Gf(),i!==null&&ae(ra),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return _r(Qe),null;case 25:return null;default:return null}}function lv(i,s){switch(Ff(s),s.tag){case 3:_r(Qe),xn();break;case 26:case 27:case 5:Ci(s);break;case 4:xn();break;case 13:pr(s);break;case 19:ae(Ke);break;case 10:_r(s.type);break;case 22:case 23:pr(s),Gf(),i!==null&&ae(ra);break;case 24:_r(Qe)}}var kA={getCacheForType:function(i){var s=mn(Qe),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},DA=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ye=null,Xt=null,ie=0,_e=0,Qn=null,br=!1,lo=!1,Bd=!1,Sr=0,De=0,hs=0,da=0,zd=0,pi=0,uo=0,Pl=null,ji=null,Fd=!1,jd=0,Uc=1/0,Pc=null,fs=null,Lc=!1,pa=null,Ll=0,qd=0,Hd=null,Vl=0,Gd=null;function Yn(){if((Ae&2)!==0&&ie!==0)return ie&-ie;if(k.T!==null){var i=to;return i!==0?i:Jd()}return qu()}function uv(){pi===0&&(pi=(ie&536870912)===0||le?$o():536870912);var i=ci.current;return i!==null&&(i.flags|=32),pi}function Rn(i,s,o){(i===ye&&_e===2||i.cancelPendingCommit!==null)&&(co(i,0),Ar(i,ie,pi,!1)),Me(i,o),((Ae&2)===0||i!==ye)&&(i===ye&&((Ae&2)===0&&(da|=o),De===4&&Ar(i,ie,pi,!1)),qi(i))}function cv(i,s,o){if((Ae&6)!==0)throw Error(r(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||Br(i,s),d=u?MA(i,s):Xd(i,s,!0),g=u;do{if(d===0){lo&&!u&&Ar(i,s,0,!1);break}else if(d===6)Ar(i,s,0,!br);else{if(o=i.current.alternate,g&&!OA(o)){d=Xd(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var C=i;d=Pl;var P=C.current.memoizedState.isDehydrated;if(P&&(co(C,b).flags|=256),b=Xd(C,b,!1),b!==2){if(Bd&&!P){C.errorRecoveryDisabledLanes|=g,da|=g,d=4;break t}g=ji,ji=d,g!==null&&Kd(g)}d=b}if(g=!1,d!==2)continue}}if(d===1){co(i,0),Ar(i,s,0,!0);break}t:{switch(u=i,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Ar(u,s,pi,!br);break t}break;case 2:ji=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=jd+300-We(),10<g)){if(Ar(u,s,pi,!br),ti(u,0)!==0)break t;u.timeoutHandle=Mv(hv.bind(null,u,o,ji,Pc,Fd,s,pi,da,uo,br,2,-0,0),g);break t}hv(u,o,ji,Pc,Fd,s,pi,da,uo,br,0,-0,0)}}break}while(!0);qi(i)}function Kd(i){ji===null?ji=i:ji.push.apply(ji,i)}function hv(i,s,o,u,d,g,b,C,P,G,at,ht,Z){var st=s.subtreeFlags;if((st&8192||(st&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:d1},ev(s),s=m1(),s!==null)){i.cancelPendingCommit=s(_v.bind(null,i,o,u,d,b,C,P,1,ht,Z)),Ar(i,g,b,!G);return}_v(i,o,u,d,b,C,P,at,ht,Z)}function OA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Hn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ar(i,s,o,u){s&=~zd,s&=~da,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Vt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&Fr(i,o,s)}function Vc(){return(Ae&6)===0?(Bl(0),!1):!0}function Qd(){if(Xt!==null){if(_e===0)var i=Xt.return;else i=Xt,yr=ua=null,Jf(i),Za=null,vl=0,i=Xt;for(;i!==null;)lv(i.alternate,i),i=i.return;Xt=null}}function co(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,WA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Qd(),ye=i,Xt=o=cs(i.current,null),ie=s,_e=0,Qn=null,br=!1,lo=Br(i,s),Bd=!1,uo=pi=zd=da=hs=De=0,ji=Pl=null,Fd=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Vt(u),g=1<<d;s|=i[d],u&=~g}return Sr=s,lc(),o}function fv(i,s){Qt=null,k.H=Fi,s===yl?(s=Iy(),_e=3):s===Sy?(s=Iy(),_e=4):_e=s===A_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,Xt===null&&(De=1,Cc(i,oi(s,i.current)))}function dv(){var i=k.H;return k.H=Fi,i===null?Fi:i}function pv(){var i=k.A;return k.A=kA,i}function Yd(){De=4,br||(ie&4194176)!==ie&&ci.current!==null||(lo=!0),(hs&134217727)===0&&(da&134217727)===0||ye===null||Ar(ye,ie,pi,!1)}function Xd(i,s,o){var u=Ae;Ae|=2;var d=dv(),g=pv();(ye!==i||ie!==s)&&(Pc=null,co(i,s)),s=!1;var b=De;t:do try{if(_e!==0&&Xt!==null){var C=Xt,P=Qn;switch(_e){case 8:Qd(),b=6;break t;case 3:case 2:case 6:ci.current===null&&(s=!0);var G=_e;if(_e=0,Qn=null,ho(i,C,P,G),o&&lo){b=0;break t}break;default:G=_e,_e=0,Qn=null,ho(i,C,P,G)}}NA(),b=De;break}catch(at){fv(i,at)}while(!0);return s&&i.shellSuspendCounter++,yr=ua=null,Ae=u,k.H=d,k.A=g,Xt===null&&(ye=null,ie=0,lc()),b}function NA(){for(;Xt!==null;)mv(Xt)}function MA(i,s){var o=Ae;Ae|=2;var u=dv(),d=pv();ye!==i||ie!==s?(Pc=null,Uc=We()+500,co(i,s)):lo=Br(i,s);t:do try{if(_e!==0&&Xt!==null){s=Xt;var g=Qn;e:switch(_e){case 1:_e=0,Qn=null,ho(i,s,g,1);break;case 2:if(Ay(g)){_e=0,Qn=null,gv(s);break}s=function(){_e===2&&ye===i&&(_e=7),qi(i)},g.then(s,s);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Ay(g)?(_e=0,Qn=null,gv(s)):(_e=0,Qn=null,ho(i,s,g,7));break;case 5:var b=null;switch(Xt.tag){case 26:b=Xt.memoizedState;case 5:case 27:var C=Xt;if(!b||Gv(b)){_e=0,Qn=null;var P=C.sibling;if(P!==null)Xt=P;else{var G=C.return;G!==null?(Xt=G,Bc(G)):Xt=null}break e}}_e=0,Qn=null,ho(i,s,g,5);break;case 6:_e=0,Qn=null,ho(i,s,g,6);break;case 8:Qd(),De=6;break t;default:throw Error(r(462))}}UA();break}catch(at){fv(i,at)}while(!0);return yr=ua=null,k.H=u,k.A=d,Ae=o,Xt!==null?0:(ye=null,ie=0,lc(),De)}function UA(){for(;Xt!==null&&!pn();)mv(Xt)}function mv(i){var s=L_(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,s===null?Bc(i):Xt=s}function gv(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=D_(o,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=D_(o,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:Jf(s);default:lv(o,s),s=Xt=sv(s,Sr),s=L_(o,s,Sr)}i.memoizedProps=i.pendingProps,s===null?Bc(i):Xt=s}function ho(i,s,o,u){yr=ua=null,Jf(s),Za=null,vl=0;var d=s.return;try{if(bA(i,d,s,o,ie)){De=1,Cc(i,oi(o,i.current)),Xt=null;return}}catch(g){if(d!==null)throw Xt=d,g;De=1,Cc(i,oi(o,i.current)),Xt=null;return}s.flags&32768?(le||u===1?i=!0:lo||(ie&536870912)!==0?i=!1:(br=i=!0,(u===2||u===3||u===6)&&(u=ci.current,u!==null&&u.tag===13&&(u.flags|=16384))),yv(s,i)):Bc(s)}function Bc(i){var s=i;do{if((s.flags&32768)!==0){yv(s,br);return}i=s.return;var o=CA(s.alternate,s,Sr);if(o!==null){Xt=o;return}if(s=s.sibling,s!==null){Xt=s;return}Xt=s=i}while(s!==null);De===0&&(De=5)}function yv(i,s){do{var o=xA(i.alternate,i);if(o!==null){o.flags&=32767,Xt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Xt=i;return}Xt=i=o}while(i!==null);De=6,Xt=null}function _v(i,s,o,u,d,g,b,C,P,G){var at=k.T,ht=_t.p;try{_t.p=2,k.T=null,PA(i,s,o,u,ht,d,g,b,C,P,G)}finally{k.T=at,_t.p=ht}}function PA(i,s,o,u,d,g,b,C){do fo();while(pa!==null);if((Ae&6)!==0)throw Error(r(327));var P=i.finishedWork;if(u=i.finishedLanes,P===null)return null;if(i.finishedWork=null,i.finishedLanes=0,P===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var G=P.lanes|P.childLanes;if(G|=Vf,Fu(i,u,G,g,b,C),i===ye&&(Xt=ye=null,ie=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Lc||(Lc=!0,qd=G,Hd=o,zA(y,function(){return fo(),null})),o=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||o?(o=k.T,k.T=null,g=_t.p,_t.p=2,b=Ae,Ae|=4,AA(i,P),Z_(P,i),aA(op,i.containerInfo),Wc=!!ap,op=ap=null,i.current=P,Y_(i,P.alternate,P),vi(),Ae=b,_t.p=g,k.T=o):i.current=P,Lc?(Lc=!1,pa=i,Ll=u):vv(i,G),G=i.pendingLanes,G===0&&(fs=null),te(P.stateNode),qi(i),s!==null)for(d=i.onRecoverableError,P=0;P<s.length;P++)G=s[P],d(G.value,{componentStack:G.stack});return(Ll&3)!==0&&fo(),G=i.pendingLanes,(u&4194218)!==0&&(G&42)!==0?i===Gd?Vl++:(Vl=0,Gd=i):Vl=0,Bl(0),null}function vv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Tl(s)))}function fo(){if(pa!==null){var i=pa,s=qd;qd=0;var o=ju(Ll),u=k.T,d=_t.p;try{if(_t.p=32>o?32:o,k.T=null,pa===null)var g=!1;else{o=Hd,Hd=null;var b=pa,C=Ll;if(pa=null,Ll=0,(Ae&6)!==0)throw Error(r(331));var P=Ae;if(Ae|=4,iv(b.current),tv(b,b.current,C,o),Ae=P,Bl(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(it,b)}catch{}g=!0}return g}finally{_t.p=d,k.T=u,vv(i,s)}}return!1}function Ev(i,s,o){s=oi(o,s),s=dd(i.stateNode,s,2),i=as(i,s,2),i!==null&&(Me(i,2),qi(i))}function ge(i,s,o){if(i.tag===3)Ev(i,i,o);else for(;s!==null;){if(s.tag===3){Ev(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){i=oi(o,i),o=b_(2),u=as(s,o,2),u!==null&&(S_(o,u,s,i),Me(u,2),qi(u));break}}s=s.return}}function $d(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new DA;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Bd=!0,d.add(o),i=LA.bind(null,i,s,o),s.then(i,i))}function LA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ye===i&&(ie&o)===o&&(De===4||De===3&&(ie&62914560)===ie&&300>We()-jd?(Ae&2)===0&&co(i,0):zd|=o,uo===ie&&(uo=0)),qi(i)}function Tv(i,s){s===0&&(s=zr()),i=Zr(i,s),i!==null&&(Me(i,s),qi(i))}function VA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Tv(i,o)}function BA(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Tv(i,o)}function zA(i,s){return zn(i,s)}var zc=null,po=null,Wd=!1,Fc=!1,Zd=!1,ma=0;function qi(i){i!==po&&i.next===null&&(po===null?zc=po=i:po=po.next=i),Fc=!0,Wd||(Wd=!0,jA(FA))}function Bl(i,s){if(!Zd&&Fc){Zd=!0;do for(var o=!1,u=zc;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-Vt(42|i)+1)-1,g&=d&~(b&~C),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Sv(u,g))}else g=ie,g=ti(u,u===ye?g:0),(g&3)===0||Br(u,g)||(o=!0,Sv(u,g));u=u.next}while(o);Zd=!1}}function FA(){Fc=Wd=!1;var i=0;ma!==0&&($A()&&(i=ma),ma=0);for(var s=We(),o=null,u=zc;u!==null;){var d=u.next,g=wv(u,s);g===0?(u.next=null,o===null?zc=d:o.next=d,d===null&&(po=o)):(o=u,(i!==0||(g&3)!==0)&&(Fc=!0)),u=d}Bl(i)}function wv(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Vt(g),C=1<<b,P=d[b];P===-1?((C&o)===0||(C&u)!==0)&&(d[b]=Da(C,s)):P<=s&&(i.expiredLanes|=C),g&=~C}if(s=ye,o=ie,o=ti(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&_e===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Fn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Br(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Fn(u),ju(o)){case 2:case 8:o=A;break;case 32:o=y;break;case 268435456:o=D;break;default:o=y}return u=bv.bind(null,i),o=zn(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Fn(u),i.callbackPriority=2,i.callbackNode=null,2}function bv(i,s){var o=i.callbackNode;if(fo()&&i.callbackNode!==o)return null;var u=ie;return u=ti(i,i===ye?u:0),u===0?null:(cv(i,u,s),wv(i,We()),i.callbackNode!=null&&i.callbackNode===o?bv.bind(null,i):null)}function Sv(i,s){if(fo())return null;cv(i,s,!0)}function jA(i){ZA(function(){(Ae&6)!==0?zn(tt,i):i()})}function Jd(){return ma===0&&(ma=$o()),ma}function Av(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oi(""+i)}function Rv(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function qA(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Av((d[qe]||null).action),b=u.submitter;b&&(s=(s=b[qe]||null)?Av(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var C=new Va("action","action",null,u,d);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var P=b?Rv(d,b):new FormData(d);ld(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(C.preventDefault(),P=b?Rv(d,b):new FormData(d),ld(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var tp=0;tp<_y.length;tp++){var ep=_y[tp],HA=ep.toLowerCase(),GA=ep[0].toUpperCase()+ep.slice(1);wi(HA,"on"+GA)}wi(dy,"onAnimationEnd"),wi(py,"onAnimationIteration"),wi(my,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(lA,"onTransitionRun"),wi(uA,"onTransitionStart"),wi(cA,"onTransitionCancel"),wi(gy,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Iv(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var C=u[b],P=C.instance,G=C.currentTarget;if(C=C.listener,P!==g&&d.isPropagationStopped())break t;g=C,d.currentTarget=G;try{g(d)}catch(at){Ic(at)}d.currentTarget=null,g=P}else for(b=0;b<u.length;b++){if(C=u[b],P=C.instance,G=C.currentTarget,C=C.listener,P!==g&&d.isPropagationStopped())break t;g=C,d.currentTarget=G;try{g(d)}catch(at){Ic(at)}d.currentTarget=null,g=P}}}}function Zt(i,s){var o=s[zs];o===void 0&&(o=s[zs]=new Set);var u=i+"__bubble";o.has(u)||(Cv(s,i,2,!1),o.add(u))}function np(i,s,o){var u=0;s&&(u|=4),Cv(o,i,u,s)}var jc="_reactListening"+Math.random().toString(36).slice(2);function ip(i){if(!i[jc]){i[jc]=!0,Zo.forEach(function(o){o!=="selectionchange"&&(KA.has(o)||np(o,!1,i),np(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[jc]||(s[jc]=!0,np("selectionchange",!1,s))}}function Cv(i,s,o,u){switch(Wv(s)){case 2:var d=_1;break;case 8:d=v1;break;default:d=gp}o=d.bind(null,s,o,i),d=void 0,!ri||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function rp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(b===4)for(b=u.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;b=b.return}for(;C!==null;){if(b=Ti(C),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){u=g=b;continue t}C=C.parentNode}}u=u.return}Qu(function(){var G=g,at=La(o),ht=[];t:{var Z=yy.get(i);if(Z!==void 0){var st=Va,It=i;switch(i){case"keypress":if(Mi(o)===0)break t;case"keydown":case"keyup":st=Ha;break;case"focusin":It="focus",st=Fa;break;case"focusout":It="blur",st=Fa;break;case"beforeblur":case"afterblur":st=Fa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=ec;break;case dy:case py:case my:st=ja;break;case gy:st=ic;break;case"scroll":case"scrollend":st=Yu;break;case"wheel":st=Ga;break;case"copy":case"cut":case"paste":st=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=cl;break;case"toggle":case"beforetoggle":st=sc}var zt=(s&4)!==0,Oe=!zt&&(i==="scroll"||i==="scrollend"),Q=zt?Z!==null?Z+"Capture":null:Z;zt=[];for(var H=G,X;H!==null;){var ot=H;if(X=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||X===null||Q===null||(ot=Gs(H,Q),ot!=null&&zt.push(Fl(H,ot,X))),Oe)break;H=H.return}0<zt.length&&(Z=new st(Z,It,null,o,at),ht.push({event:Z,listeners:zt}))}}if((s&7)===0){t:{if(Z=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",Z&&o!==ii&&(It=o.relatedTarget||o.fromElement)&&(Ti(It)||It[ir]))break t;if((st||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,st?(It=o.relatedTarget||o.toElement,st=G,It=It?Ti(It):null,It!==null&&(Oe=Tt(It),zt=It.tag,It!==Oe||zt!==5&&zt!==27&&zt!==6)&&(It=null)):(st=null,It=G),st!==It)){if(zt=si,ot="onMouseLeave",Q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(zt=cl,ot="onPointerLeave",Q="onPointerEnter",H="pointer"),Oe=st==null?Z:Gr(st),X=It==null?Z:Gr(It),Z=new zt(ot,H+"leave",st,o,at),Z.target=Oe,Z.relatedTarget=X,ot=null,Ti(at)===G&&(zt=new zt(Q,H+"enter",It,o,at),zt.target=X,zt.relatedTarget=Oe,ot=zt),Oe=ot,st&&It)e:{for(zt=st,Q=It,H=0,X=zt;X;X=mo(X))H++;for(X=0,ot=Q;ot;ot=mo(ot))X++;for(;0<H-X;)zt=mo(zt),H--;for(;0<X-H;)Q=mo(Q),X--;for(;H--;){if(zt===Q||Q!==null&&zt===Q.alternate)break e;zt=mo(zt),Q=mo(Q)}zt=null}else zt=null;st!==null&&xv(ht,Z,st,zt,!1),It!==null&&Oe!==null&&xv(ht,Oe,It,zt,!0)}}t:{if(Z=G?Gr(G):window,st=Z.nodeName&&Z.nodeName.toLowerCase(),st==="select"||st==="input"&&Z.type==="file")var St=ny;else if(Ge(Z))if(iy)St=rA;else{St=nA;var Yt=eA}else st=Z.nodeName,!st||st.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&il(G.elementType)&&(St=ny):St=iA;if(St&&(St=St(i,G))){hr(ht,St,o,at);break t}Yt&&Yt(i,Z,G),i==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&Pa(Z,"number",Z.value)}switch(Yt=G?Gr(G):window,i){case"focusin":(Ge(Yt)||Yt.contentEditable==="true")&&(Ka=Yt,Uf=G,dl=null);break;case"focusout":dl=Uf=Ka=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,hy(ht,o,at);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":hy(ht,o,at)}var xt;if(Li)t:{switch(i){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ee?et(i,o)&&(Ot="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(w&&o.locale!=="ko"&&(ee||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ee&&(xt=sl()):(Ni=at,Wr="value"in Ni?Ni.value:Ni.textContent,ee=!0)),Yt=qc(G,Ot),0<Yt.length&&(Ot=new ll(Ot,i,null,o,at),ht.push({event:Ot,listeners:Yt}),xt?Ot.data=xt:(xt=mt(o),xt!==null&&(Ot.data=xt)))),(xt=v?He(i,o):ne(i,o))&&(Ot=qc(G,"onBeforeInput"),0<Ot.length&&(Yt=new ll("onBeforeInput","beforeinput",null,o,at),ht.push({event:Yt,listeners:Ot}),Yt.data=xt)),qA(ht,i,G,o,at)}Iv(ht,s)})}function Fl(i,s,o){return{instance:i,listener:s,currentTarget:o}}function qc(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Gs(i,o),d!=null&&u.unshift(Fl(i,d,g)),d=Gs(i,s),d!=null&&u.push(Fl(i,d,g))),i=i.return}return u}function mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xv(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var C=o,P=C.alternate,G=C.stateNode;if(C=C.tag,P!==null&&P===u)break;C!==5&&C!==26&&C!==27||G===null||(P=G,d?(G=Gs(o,g),G!=null&&b.unshift(Fl(o,G,P))):d||(G=Gs(o,g),G!=null&&b.push(Fl(o,G,P)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var QA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function kv(i){return(typeof i=="string"?i:""+i).replace(QA,`
`).replace(YA,"")}function Dv(i,s){return s=kv(s),kv(i)===s}function Hc(){}function me(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ni(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ni(i,""+u);break;case"className":Yr(i,"class",u);break;case"tabIndex":Yr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(i,o,u);break;case"style":Ku(i,u,g);break;case"data":if(s!=="object"){Yr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oi(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&me(i,s,"name",d.name,d,null),me(i,s,"formEncType",d.formEncType,d,null),me(i,s,"formMethod",d.formMethod,d,null),me(i,s,"formTarget",d.formTarget,d,null)):(me(i,s,"encType",d.encType,d,null),me(i,s,"method",d.method,d,null),me(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oi(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Hc);break;case"onScroll":u!=null&&Zt("scroll",i);break;case"onScrollEnd":u!=null&&Zt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Oi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Zt("beforetoggle",i),Zt("toggle",i),Qr(i,"popover",u);break;case"xlinkActuate":ei(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ei(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ei(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ei(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ei(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ei(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ei(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ei(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ei(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Cf.get(o)||o,Qr(i,o,u))}}function sp(i,s,o,u,d,g){switch(o){case"style":Ku(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ni(i,u):(typeof u=="number"||typeof u=="bigint")&&ni(i,""+u);break;case"onScroll":u!=null&&Zt("scroll",i);break;case"onScrollEnd":u!=null&&Zt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Qr(i,o,u)}}}function un(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",i),Zt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(i,s,g,b,o,null)}}d&&me(i,s,"srcSet",o.srcSet,o,null),u&&me(i,s,"src",o.src,o,null);return;case"input":Zt("invalid",i);var C=g=b=d=null,P=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var at=o[u];if(at!=null)switch(u){case"name":d=at;break;case"type":b=at;break;case"checked":P=at;break;case"defaultChecked":G=at;break;case"value":g=at;break;case"defaultValue":C=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:me(i,s,u,at,o,null)}}qs(i,g,C,P,G,b,d,!1),js(i);return;case"select":Zt("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":g=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:me(i,s,d,C,o,null)}s=g,o=b,i.multiple=!!u,s!=null?oe(i,!!u,s,!1):o!=null&&oe(i,!!u,o,!0);return;case"textarea":Zt("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":d=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:me(i,s,b,C,o,null)}$r(i,u,d,g),js(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:me(i,s,P,u,o,null)}return;case"dialog":Zt("cancel",i),Zt("close",i);break;case"iframe":case"object":Zt("load",i);break;case"video":case"audio":for(u=0;u<zl.length;u++)Zt(zl[u],i);break;case"image":Zt("error",i),Zt("load",i);break;case"details":Zt("toggle",i);break;case"embed":case"source":case"link":Zt("error",i),Zt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:me(i,s,G,u,o,null)}return;default:if(il(s)){for(at in o)o.hasOwnProperty(at)&&(u=o[at],u!==void 0&&sp(i,s,at,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&me(i,s,C,u,o,null))}function XA(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,C=null,P=null,G=null,at=null;for(st in o){var ht=o[st];if(o.hasOwnProperty(st)&&ht!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":P=ht;default:u.hasOwnProperty(st)||me(i,s,st,null,u,ht)}}for(var Z in u){var st=u[Z];if(ht=o[Z],u.hasOwnProperty(Z)&&(st!=null||ht!=null))switch(Z){case"type":g=st;break;case"name":d=st;break;case"checked":G=st;break;case"defaultChecked":at=st;break;case"value":b=st;break;case"defaultValue":C=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:st!==ht&&me(i,s,Z,st,u,ht)}}Xr(i,b,C,P,G,at,g,d);return;case"select":st=b=C=Z=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":st=P;default:u.hasOwnProperty(g)||me(i,s,g,null,u,P)}for(d in u)if(g=u[d],P=o[d],u.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":Z=g;break;case"defaultValue":C=g;break;case"multiple":b=g;default:g!==P&&me(i,s,d,g,u,P)}s=C,o=b,u=st,Z!=null?oe(i,!!o,Z,!1):!!u!=!!o&&(s!=null?oe(i,!!o,s,!0):oe(i,!!o,o?[]:"",!1));return;case"textarea":st=Z=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:me(i,s,C,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Z=d;break;case"defaultValue":st=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&me(i,s,b,d,u,g)}Hs(i,Z,st);return;case"option":for(var It in o)if(Z=o[It],o.hasOwnProperty(It)&&Z!=null&&!u.hasOwnProperty(It))switch(It){case"selected":i.selected=!1;break;default:me(i,s,It,null,u,Z)}for(P in u)if(Z=u[P],st=o[P],u.hasOwnProperty(P)&&Z!==st&&(Z!=null||st!=null))switch(P){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:me(i,s,P,Z,u,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in o)Z=o[zt],o.hasOwnProperty(zt)&&Z!=null&&!u.hasOwnProperty(zt)&&me(i,s,zt,null,u,Z);for(G in u)if(Z=u[G],st=o[G],u.hasOwnProperty(G)&&Z!==st&&(Z!=null||st!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:me(i,s,G,Z,u,st)}return;default:if(il(s)){for(var Oe in o)Z=o[Oe],o.hasOwnProperty(Oe)&&Z!==void 0&&!u.hasOwnProperty(Oe)&&sp(i,s,Oe,void 0,u,Z);for(at in u)Z=u[at],st=o[at],!u.hasOwnProperty(at)||Z===st||Z===void 0&&st===void 0||sp(i,s,at,Z,u,st);return}}for(var Q in o)Z=o[Q],o.hasOwnProperty(Q)&&Z!=null&&!u.hasOwnProperty(Q)&&me(i,s,Q,null,u,Z);for(ht in u)Z=u[ht],st=o[ht],!u.hasOwnProperty(ht)||Z===st||Z==null&&st==null||me(i,s,ht,Z,u,st)}var ap=null,op=null;function Gc(i){return i.nodeType===9?i:i.ownerDocument}function Ov(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function lp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var up=null;function $A(){var i=window.event;return i&&i.type==="popstate"?i===up?!1:(up=i,!0):(up=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(i){return Uv.resolve(null).then(i).catch(JA)}:Mv;function JA(i){setTimeout(function(){throw i})}function cp(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){i.removeChild(d),Xl(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Xl(s)}function hp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hp(o),Fs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function t1(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Hr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ai(i.nextSibling),i===null)break}return null}function e1(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ai(i.nextSibling),i===null))return null;return i}function Ai(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function Pv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function Lv(i,s,o){switch(s=Gc(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var mi=new Map,Vv=new Set;function Kc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Rr=_t.d;_t.d={f:n1,r:i1,D:r1,C:s1,L:a1,m:o1,X:u1,S:l1,M:c1};function n1(){var i=Rr.f(),s=Vc();return i||s}function i1(i){var s=rr(i);s!==null&&s.tag===5&&s.type==="form"?h_(s):Rr.r(i)}var go=typeof document>"u"?null:document;function Bv(i,s,o){var u=go;if(u&&typeof s=="string"&&s){var d=xe(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Vv.has(d)||(Vv.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",i),be(s),u.head.appendChild(s)))}}function r1(i){Rr.D(i),Bv("dns-prefetch",i,null)}function s1(i,s){Rr.C(i,s),Bv("preconnect",i,s)}function a1(i,s,o){Rr.L(i,s,o);var u=go;if(u&&i&&s){var d='link[rel="preload"][as="'+xe(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+xe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+xe(o.imageSizes)+'"]')):d+='[href="'+xe(i)+'"]';var g=d;switch(s){case"style":g=yo(i);break;case"script":g=_o(i)}mi.has(g)||(i=U({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),mi.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(jl(g))||s==="script"&&u.querySelector(ql(g))||(s=u.createElement("link"),un(s,"link",i),be(s),u.head.appendChild(s)))}}function o1(i,s){Rr.m(i,s);var o=go;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+xe(u)+'"][href="'+xe(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_o(i)}if(!mi.has(g)&&(i=U({rel:"modulepreload",href:i},s),mi.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ql(g)))return}u=o.createElement("link"),un(u,"link",i),be(u),o.head.appendChild(u)}}}function l1(i,s,o){Rr.S(i,s,o);var u=go;if(u&&i){var d=Kr(u).hoistableStyles,g=yo(i);s=s||"default";var b=d.get(g);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(jl(g)))C.loading=5;else{i=U({rel:"stylesheet",href:i,"data-precedence":s},o),(o=mi.get(g))&&fp(i,o);var P=b=u.createElement("link");be(P),un(P,"link",i),P._p=new Promise(function(G,at){P.onload=G,P.onerror=at}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Qc(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:C},d.set(g,b)}}}function u1(i,s){Rr.X(i,s);var o=go;if(o&&i){var u=Kr(o).hoistableScripts,d=_o(i),g=u.get(d);g||(g=o.querySelector(ql(d)),g||(i=U({src:i,async:!0},s),(s=mi.get(d))&&dp(i,s),g=o.createElement("script"),be(g),un(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function c1(i,s){Rr.M(i,s);var o=go;if(o&&i){var u=Kr(o).hoistableScripts,d=_o(i),g=u.get(d);g||(g=o.querySelector(ql(d)),g||(i=U({src:i,async:!0,type:"module"},s),(s=mi.get(d))&&dp(i,s),g=o.createElement("script"),be(g),un(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function zv(i,s,o,u){var d=(d=Ne.current)?Kc(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=yo(o.href),o=Kr(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=yo(o.href);var g=Kr(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(jl(i)))&&!g._p&&(b.instance=g,b.state.loading=5),mi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mi.set(i,o),g||h1(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(o),o=Kr(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function yo(i){return'href="'+xe(i)+'"'}function jl(i){return'link[rel="stylesheet"]['+i+"]"}function Fv(i){return U({},i,{"data-precedence":i.precedence,precedence:null})}function h1(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),be(s),i.head.appendChild(s))}function _o(i){return'[src="'+xe(i)+'"]'}function ql(i){return"script[async]"+i}function jv(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+xe(o.href)+'"]');if(u)return s.instance=u,be(u),u;var d=U({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),be(u),un(u,"style",d),Qc(u,o.precedence,i),s.instance=u;case"stylesheet":d=yo(o.href);var g=i.querySelector(jl(d));if(g)return s.state.loading|=4,s.instance=g,be(g),g;u=Fv(o),(d=mi.get(d))&&fp(u,d),g=(i.ownerDocument||i).createElement("link"),be(g);var b=g;return b._p=new Promise(function(C,P){b.onload=C,b.onerror=P}),un(g,"link",u),s.state.loading|=4,Qc(g,o.precedence,i),s.instance=g;case"script":return g=_o(o.src),(d=i.querySelector(ql(g)))?(s.instance=d,be(d),d):(u=o,(d=mi.get(g))&&(u=U({},o),dp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),be(d),un(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Qc(u,o.precedence,i));return s.instance}function Qc(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===s)g=C;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function fp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Yc=null;function qv(i,s,o){if(Yc===null){var u=new Map,d=Yc=new Map;d.set(o,u)}else d=Yc,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Hr]||g[Ze]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var C=u.get(b);C?C.push(g):u.set(b,[g])}}return u}function Hv(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function f1(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hl=null;function d1(){}function p1(i,s,o){if(Hl===null)throw Error(r(475));var u=Hl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=yo(o.href),g=i.querySelector(jl(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Xc.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,be(g);return}g=i.ownerDocument||i,o=Fv(o),(d=mi.get(d))&&fp(o,d),g=g.createElement("link"),be(g);var b=g;b._p=new Promise(function(C,P){b.onload=C,b.onerror=P}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Xc.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function m1(){if(Hl===null)throw Error(r(475));var i=Hl;return i.stylesheets&&i.count===0&&pp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&pp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var $c=null;function pp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,$c=new Map,s.forEach(g1,i),$c=null,Xc.call(i))}function g1(i,s){if(!(s.state.loading&4)){var o=$c.get(i);if(o)var u=o.get(null);else{o=new Map,$c.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Xc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Gl={$$typeof:S,Provider:null,Consumer:null,_currentValue:Dt,_currentValue2:Dt,_threadCount:0};function y1(i,s,o,u,d,g,b,C){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Kv(i,s,o,u,d,g,b,C,P,G,at,ht){return i=new y1(i,s,o,b,C,P,G,ht),s=1,g===!0&&(s|=24),g=di(3,null,null,s),i.current=g,g.stateNode=i,s=Kf(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Rd(g),i}function Qv(i){return i?(i=Xa,i):Xa}function Yv(i,s,o,u,d,g){d=Qv(d),u.context===null?u.context=d:u.pendingContext=d,u=ss(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=as(i,u,s),o!==null&&(Rn(o,i,s),Cl(o,i,s))}function Xv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function mp(i,s){Xv(i,s),(i=i.alternate)&&Xv(i,s)}function $v(i){if(i.tag===13){var s=Zr(i,67108864);s!==null&&Rn(s,i,67108864),mp(i,67108864)}}var Wc=!0;function _1(i,s,o,u){var d=k.T;k.T=null;var g=_t.p;try{_t.p=2,gp(i,s,o,u)}finally{_t.p=g,k.T=d}}function v1(i,s,o,u){var d=k.T;k.T=null;var g=_t.p;try{_t.p=8,gp(i,s,o,u)}finally{_t.p=g,k.T=d}}function gp(i,s,o,u){if(Wc){var d=yp(u);if(d===null)rp(i,s,u,Zc,o),Zv(i,u);else if(T1(d,i,s,o,u))u.stopPropagation();else if(Zv(i,u),s&4&&-1<E1.indexOf(i)){for(;d!==null;){var g=rr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Ei(g.pendingLanes);if(b!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var P=1<<31-Vt(b);C.entanglements[1]|=P,b&=~P}qi(g),(Ae&6)===0&&(Uc=We()+500,Bl(0))}}break;case 13:C=Zr(g,2),C!==null&&Rn(C,g,2),Vc(),mp(g,2)}if(g=yp(u),g===null&&rp(i,s,u,Zc,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else rp(i,s,u,null,o)}}function yp(i){return i=La(i),_p(i)}var Zc=null;function _p(i){if(Zc=null,i=Ti(i),i!==null){var s=Tt(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=qt(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Zc=i,null}function Wv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wn()){case tt:return 2;case A:return 8;case y:case E:return 32;case D:return 268435456;default:return 32}default:return 32}}var vp=!1,ds=null,ps=null,ms=null,Kl=new Map,Ql=new Map,gs=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(i,s){switch(i){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(s.pointerId)}}function Yl(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=rr(s),s!==null&&$v(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function T1(i,s,o,u,d){switch(s){case"focusin":return ds=Yl(ds,i,s,o,u,d),!0;case"dragenter":return ps=Yl(ps,i,s,o,u,d),!0;case"mouseover":return ms=Yl(ms,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Kl.set(g,Yl(Kl.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Ql.set(g,Yl(Ql.get(g)||null,i,s,o,u,d)),!0}return!1}function Jv(i){var s=Ti(i.target);if(s!==null){var o=Tt(s);if(o!==null){if(s=o.tag,s===13){if(s=qt(o),s!==null){i.blockedOn=s,qr(i.priority,function(){if(o.tag===13){var u=Yn(),d=Zr(o,u);d!==null&&Rn(d,o,u),mp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=yp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ii=u,o.target.dispatchEvent(u),ii=null}else return s=rr(o),s!==null&&$v(s),i.blockedOn=o,!1;s.shift()}return!0}function t0(i,s,o){Jc(i)&&o.delete(s)}function w1(){vp=!1,ds!==null&&Jc(ds)&&(ds=null),ps!==null&&Jc(ps)&&(ps=null),ms!==null&&Jc(ms)&&(ms=null),Kl.forEach(t0),Ql.forEach(t0)}function th(i,s){i.blockedOn===s&&(i.blockedOn=null,vp||(vp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,w1)))}var eh=null;function e0(i){eh!==i&&(eh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){eh===i&&(eh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(_p(u||o)===null)continue;break}var g=rr(o);g!==null&&(i.splice(s,3),s-=3,ld(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Xl(i){function s(P){return th(P,i)}ds!==null&&th(ds,i),ps!==null&&th(ps,i),ms!==null&&th(ms,i),Kl.forEach(s),Ql.forEach(s);for(var o=0;o<gs.length;o++){var u=gs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<gs.length&&(o=gs[0],o.blockedOn===null);)Jv(o),o.blockedOn===null&&gs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[qe]||null;if(typeof g=="function")b||e0(o);else if(b){var C=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[qe]||null)C=b.formAction;else if(_p(d)!==null)continue}else C=b.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),e0(o)}}}function Ep(i){this._internalRoot=i}nh.prototype.render=Ep.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Yn();Yv(o,u,i,s,null,null)},nh.prototype.unmount=Ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&fo(),Yv(i.current,2,null,i,null,null),Vc(),s[ir]=null}};function nh(i){this._internalRoot=i}nh.prototype.unstable_scheduleHydration=function(i){if(i){var s=qu();i={blockedOn:null,target:i,priority:s};for(var o=0;o<gs.length&&s!==0&&s<gs[o].priority;o++);gs.splice(o,0,i),o===0&&Jv(i)}};var n0=t.version;if(n0!=="19.0.0")throw Error(r(527,n0,"19.0.0"));_t.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=rt(s),i=i!==null?yt(i):null,i=i===null?null:i.stateNode,i};var b1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:Ti,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{it=ih.inject(b1),Rt=ih}catch{}}return Zl.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=v_,g=E_,b=T_,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Kv(i,1,!1,null,null,o,u,d,g,b,C,null),i[ir]=s.current,ip(i.nodeType===8?i.parentNode:i),new Ep(s)},Zl.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=v_,b=E_,C=T_,P=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=Kv(i,1,!0,s,o??null,u,d,g,b,C,P,G),s.context=Qv(null),o=s.current,u=Yn(),d=ss(u),d.callback=null,as(o,d,u),s.current.lanes=u,Me(s,u),qi(s),i[ir]=s.current,ip(i),new nh(s)},Zl.version="19.0.0",Zl}var g0;function F1(){if(g0)return Ap.exports;g0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ap.exports=z1(),Ap.exports}var j1=F1();const q1=Su(j1),H1=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},G1=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],f=n[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let R=(f&15)<<2|m>>6,S=m&63;p||(S=64,c||(R=64)),r.push(e[_],e[T],e[R],e[S])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(xT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):G1(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const T=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new K1;const R=l<<2|f>>4;if(r.push(R),m!==64){const S=f<<4&240|m>>2;if(r.push(S),T!==64){const V=m<<6&192|T;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(n){const t=xT(n);return kT.encodeByteArray(t,!0)},Ih=function(n){return Q1(n).replace(/\./g,"")},DT=function(n){try{return kT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Y1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof y0>"u")return;const n=y0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&DT(n[1]);return t&&JSON.parse(t)},Wh=()=>{try{return H1()||X1()||$1()||W1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OT=n=>{var t,e;return(e=(t=Wh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},NT=n=>{const t=OT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},MT=()=>{var n;return(n=Wh())===null||n===void 0?void 0:n.config},UT=n=>{var t;return(t=Wh())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ih(JSON.stringify(e)),Ih(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function tR(){var n;const t=(n=Wh())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aR(){try{return typeof indexedDB=="object"}catch{return!1}}function oR(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="FirebaseError";class nr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=lR,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?uR(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new nr(a,f,r)}}function uR(n,t){return n.replace(cR,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const cR=/\{\$([^}]+)}/g;function hR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ea(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=n[a],c=t[a];if(_0(l)&&_0(c)){if(!Ea(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function _0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fR(n,t){const e=new dR(n,t);return e.subscribe.bind(e)}class dR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");pR(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=xp),a.error===void 0&&(a.error=xp),a.complete===void 0&&(a.complete=xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n){return n&&n._delegate?n._delegate:n}class xs{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new Z1;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yR(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,e){var r;const a=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gR(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gR(n){return n===ga?void 0:n}function yR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new mR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($t||($t={}));const vR={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},ER=$t.INFO,TR={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},wR=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=TR[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=ER,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const bR=(n,t)=>t.some(e=>n instanceof e);let v0,E0;function SR(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,nm=new WeakMap,VT=new WeakMap,kp=new WeakMap,Vm=new WeakMap;function RR(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(As(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&LT.set(e,n)}).catch(()=>{}),Vm.set(t,n),t}function IR(n){if(nm.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});nm.set(n,t)}let im={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return nm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||VT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return As(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function CR(n){im=n(im)}function xR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Dp(this),t,...e);return VT.set(r,t.sort?t.sort():[t]),As(r)}:AR().includes(n)?function(...t){return n.apply(Dp(this),t),As(LT.get(this))}:function(...t){return As(n.apply(Dp(this),t))}}function kR(n){return typeof n=="function"?xR(n):(n instanceof IDBTransaction&&IR(n),bR(n,SR())?new Proxy(n,im):n)}function As(n){if(n instanceof IDBRequest)return RR(n);if(kp.has(n))return kp.get(n);const t=kR(n);return t!==n&&(kp.set(n,t),Vm.set(t,n)),t}const Dp=n=>Vm.get(n);function DR(n,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),f=As(c);return r&&c.addEventListener("upgradeneeded",p=>{r(As(c.result),p.oldVersion,p.newVersion,As(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const OR=["get","getKey","getAll","getAllKeys","count"],NR=["put","add","delete","clear"],Op=new Map;function T0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Op.get(t))return Op.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=NR.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||OR.includes(e)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[e](...f),a&&p.done]))[0]};return Op.set(t,l),l}CR(n=>({...n,get:(t,e,r)=>T0(t,e)||n.get(t,e,r),has:(t,e)=>!!T0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(UR(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function UR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",w0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Lm("@firebase/app"),PR="@firebase/app-compat",LR="@firebase/analytics-compat",VR="@firebase/analytics",BR="@firebase/app-check-compat",zR="@firebase/app-check",FR="@firebase/auth",jR="@firebase/auth-compat",qR="@firebase/database",HR="@firebase/data-connect",GR="@firebase/database-compat",KR="@firebase/functions",QR="@firebase/functions-compat",YR="@firebase/installations",XR="@firebase/installations-compat",$R="@firebase/messaging",WR="@firebase/messaging-compat",ZR="@firebase/performance",JR="@firebase/performance-compat",tI="@firebase/remote-config",eI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",rI="@firebase/firestore",sI="@firebase/vertexai",aI="@firebase/firestore-compat",oI="firebase",lI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",uI={[rm]:"fire-core",[PR]:"fire-core-compat",[VR]:"fire-analytics",[LR]:"fire-analytics-compat",[zR]:"fire-app-check",[BR]:"fire-app-check-compat",[FR]:"fire-auth",[jR]:"fire-auth-compat",[qR]:"fire-rtdb",[HR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[KR]:"fire-fn",[QR]:"fire-fn-compat",[YR]:"fire-iid",[XR]:"fire-iid-compat",[$R]:"fire-fcm",[WR]:"fire-fcm-compat",[ZR]:"fire-perf",[JR]:"fire-perf-compat",[tI]:"fire-rc",[eI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[rI]:"fire-fst",[aI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,cI=new Map,am=new Map;function b0(n,t){try{n.container.addComponent(t)}catch(e){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ta(n){const t=n.name;if(am.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,n);for(const e of Ch.values())b0(e,n);for(const e of cI.values())b0(e,n);return!0}function Zh(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ri(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Au("app","Firebase",hI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=lI;function BT(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw Rs.create("bad-app-name",{appName:String(a)});if(e||(e=MT()),!e)throw Rs.create("no-options");const l=Ch.get(a);if(l){if(Ea(e,l.options)&&Ea(r,l.config))return l;throw Rs.create("duplicate-app",{appName:a})}const c=new _R(a);for(const p of am.values())c.addComponent(p);const f=new fI(e,r,c);return Ch.set(a,f),f}function Bm(n=sm){const t=Ch.get(n);if(!t&&n===sm&&MT())return BT();if(!t)throw Rs.create("no-app",{appName:n});return t}function Yi(n,t,e){var r;let a=(r=uI[n])!==null&&r!==void 0?r:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}Ta(new xs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",pI=1,mu="firebase-heartbeat-store";let Np=null;function zT(){return Np||(Np=DR(dI,pI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(mu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Rs.create("idb-open",{originalErrorMessage:n.message})})),Np}async function mI(n){try{const e=(await zT()).transaction(mu),r=await e.objectStore(mu).get(FT(n));return await e.done,r}catch(t){if(t instanceof nr)Nr.warn(t.message);else{const e=Rs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(e.message)}}}async function S0(n,t){try{const r=(await zT()).transaction(mu,"readwrite");await r.objectStore(mu).put(t,FT(n)),await r.done}catch(e){if(e instanceof nr)Nr.warn(e.message);else{const r=Rs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(r.message)}}}function FT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class _I{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new EI(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=A0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>yI){const c=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:r,unsentEntries:a}=vI(this._heartbeatsCache.heartbeats),l=Ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Nr.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function vI(n,t=gI){const e=[];let r=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),R0(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),R0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class EI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aR()?oR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return S0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return S0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function R0(n){return Ih(JSON.stringify({version:2,heartbeats:n})).length}function TI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n){Ta(new xs("platform-logger",t=>new MR(t),"PRIVATE")),Ta(new xs("heartbeat",t=>new _I(t),"PRIVATE")),Yi(rm,w0,n),Yi(rm,w0,"esm2017"),Yi("fire-js","")}wI("");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,jT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,N){function k(){}k.prototype=N.prototype,z.D=N.prototype,z.prototype=new k,z.prototype.constructor=z,z.C=function(U,L,F){for(var O=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)O[gt-2]=arguments[gt];return N.prototype[L].apply(U,O)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,N,k){k||(k=0);var U=Array(16);if(typeof N=="string")for(var L=0;16>L;++L)U[L]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(L=0;16>L;++L)U[L]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=z.g[0],k=z.g[1],L=z.g[2];var F=z.g[3],O=N+(F^k&(L^F))+U[0]+3614090360&4294967295;N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[1]+3905402710&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[2]+606105819&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[3]+3250441966&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(F^k&(L^F))+U[4]+4118548399&4294967295,N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[5]+1200080426&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[6]+2821735955&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[7]+4249261313&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(F^k&(L^F))+U[8]+1770035416&4294967295,N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[9]+2336552879&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[10]+4294925233&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[11]+2304563134&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(F^k&(L^F))+U[12]+1804603682&4294967295,N=k+(O<<7&4294967295|O>>>25),O=F+(L^N&(k^L))+U[13]+4254626195&4294967295,F=N+(O<<12&4294967295|O>>>20),O=L+(k^F&(N^k))+U[14]+2792965006&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(N^L&(F^N))+U[15]+1236535329&4294967295,k=L+(O<<22&4294967295|O>>>10),O=N+(L^F&(k^L))+U[1]+4129170786&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[6]+3225465664&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[11]+643717713&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[0]+3921069994&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(L^F&(k^L))+U[5]+3593408605&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[10]+38016083&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[15]+3634488961&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[4]+3889429448&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(L^F&(k^L))+U[9]+568446438&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[14]+3275163606&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[3]+4107603335&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[8]+1163531501&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(L^F&(k^L))+U[13]+2850285829&4294967295,N=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(N^k))+U[2]+4243563512&4294967295,F=N+(O<<9&4294967295|O>>>23),O=L+(N^k&(F^N))+U[7]+1735328473&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^N&(L^F))+U[12]+2368359562&4294967295,k=L+(O<<20&4294967295|O>>>12),O=N+(k^L^F)+U[5]+4294588738&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[8]+2272392833&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[11]+1839030562&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[14]+4259657740&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(k^L^F)+U[1]+2763975236&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[4]+1272893353&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[7]+4139469664&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[10]+3200236656&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(k^L^F)+U[13]+681279174&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[0]+3936430074&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[3]+3572445317&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[6]+76029189&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(k^L^F)+U[9]+3654602809&4294967295,N=k+(O<<4&4294967295|O>>>28),O=F+(N^k^L)+U[12]+3873151461&4294967295,F=N+(O<<11&4294967295|O>>>21),O=L+(F^N^k)+U[15]+530742520&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^N)+U[2]+3299628645&4294967295,k=L+(O<<23&4294967295|O>>>9),O=N+(L^(k|~F))+U[0]+4096336452&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[7]+1126891415&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[14]+2878612391&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[5]+4237533241&4294967295,k=L+(O<<21&4294967295|O>>>11),O=N+(L^(k|~F))+U[12]+1700485571&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[3]+2399980690&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[10]+4293915773&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[1]+2240044497&4294967295,k=L+(O<<21&4294967295|O>>>11),O=N+(L^(k|~F))+U[8]+1873313359&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[15]+4264355552&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[6]+2734768916&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[13]+1309151649&4294967295,k=L+(O<<21&4294967295|O>>>11),O=N+(L^(k|~F))+U[4]+4149444226&4294967295,N=k+(O<<6&4294967295|O>>>26),O=F+(k^(N|~L))+U[11]+3174756917&4294967295,F=N+(O<<10&4294967295|O>>>22),O=L+(N^(F|~k))+U[2]+718787259&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~N))+U[9]+3951481745&4294967295,z.g[0]=z.g[0]+N&4294967295,z.g[1]=z.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+F&4294967295}r.prototype.u=function(z,N){N===void 0&&(N=z.length);for(var k=N-this.blockSize,U=this.B,L=this.h,F=0;F<N;){if(L==0)for(;F<=k;)a(this,z,F),F+=this.blockSize;if(typeof z=="string"){for(;F<N;)if(U[L++]=z.charCodeAt(F++),L==this.blockSize){a(this,U),L=0;break}}else for(;F<N;)if(U[L++]=z[F++],L==this.blockSize){a(this,U),L=0;break}}this.h=L,this.o+=N},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var N=1;N<z.length-8;++N)z[N]=0;var k=8*this.o;for(N=z.length-8;N<z.length;++N)z[N]=k&255,k/=256;for(this.u(z),z=Array(16),N=k=0;4>N;++N)for(var U=0;32>U;U+=8)z[k++]=this.g[N]>>>U&255;return z};function l(z,N){var k=f;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=N(z)}function c(z,N){this.h=N;for(var k=[],U=!0,L=z.length-1;0<=L;L--){var F=z[L]|0;U&&F==N||(k[L]=F,U=!1)}this.g=k}var f={};function p(z){return-128<=z&&128>z?l(z,function(N){return new c([N|0],0>N?-1:0)}):new c([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return T;if(0>z)return q(m(-z));for(var N=[],k=1,U=0;z>=k;U++)N[U]=z/k|0,k*=4294967296;return new c(N,0)}function _(z,N){if(z.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(z.charAt(0)=="-")return q(_(z.substring(1),N));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(N,8)),U=T,L=0;L<z.length;L+=8){var F=Math.min(8,z.length-L),O=parseInt(z.substring(L,L+F),N);8>F?(F=m(Math.pow(N,F)),U=U.j(F).add(m(O))):(U=U.j(k),U=U.add(m(O)))}return U}var T=p(0),R=p(1),S=p(16777216);n=c.prototype,n.m=function(){if(B(this))return-q(this).m();for(var z=0,N=1,k=0;k<this.g.length;k++){var U=this.i(k);z+=(0<=U?U:4294967296+U)*N,N*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(V(this))return"0";if(B(this))return"-"+q(this).toString(z);for(var N=m(Math.pow(z,6)),k=this,U="";;){var L=ct(k,N).g;k=K(k,L.j(N));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(z);if(k=L,V(k))return F+U;for(;6>F.length;)F="0"+F;U=F+U}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function V(z){if(z.h!=0)return!1;for(var N=0;N<z.g.length;N++)if(z.g[N]!=0)return!1;return!0}function B(z){return z.h==-1}n.l=function(z){return z=K(this,z),B(z)?-1:V(z)?0:1};function q(z){for(var N=z.g.length,k=[],U=0;U<N;U++)k[U]=~z.g[U];return new c(k,~z.h).add(R)}n.abs=function(){return B(this)?q(this):this},n.add=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0,L=0;L<=N;L++){var F=U+(this.i(L)&65535)+(z.i(L)&65535),O=(F>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);U=O>>>16,F&=65535,O&=65535,k[L]=O<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function K(z,N){return z.add(q(N))}n.j=function(z){if(V(this)||V(z))return T;if(B(this))return B(z)?q(this).j(q(z)):q(q(this).j(z));if(B(z))return q(this.j(q(z)));if(0>this.l(S)&&0>z.l(S))return m(this.m()*z.m());for(var N=this.g.length+z.g.length,k=[],U=0;U<2*N;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var L=0;L<z.g.length;L++){var F=this.i(U)>>>16,O=this.i(U)&65535,gt=z.i(L)>>>16,vt=z.i(L)&65535;k[2*U+2*L]+=O*vt,nt(k,2*U+2*L),k[2*U+2*L+1]+=F*vt,nt(k,2*U+2*L+1),k[2*U+2*L+1]+=O*gt,nt(k,2*U+2*L+1),k[2*U+2*L+2]+=F*gt,nt(k,2*U+2*L+2)}for(U=0;U<N;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=N;U<2*N;U++)k[U]=0;return new c(k,0)};function nt(z,N){for(;(z[N]&65535)!=z[N];)z[N+1]+=z[N]>>>16,z[N]&=65535,N++}function J(z,N){this.g=z,this.h=N}function ct(z,N){if(V(N))throw Error("division by zero");if(V(z))return new J(T,T);if(B(z))return N=ct(q(z),N),new J(q(N.g),q(N.h));if(B(N))return N=ct(z,q(N)),new J(q(N.g),N.h);if(30<z.g.length){if(B(z)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var k=R,U=N;0>=U.l(z);)k=ut(k),U=ut(U);var L=W(k,1),F=W(U,1);for(U=W(U,2),k=W(k,2);!V(U);){var O=F.add(U);0>=O.l(z)&&(L=L.add(k),F=O),U=W(U,1),k=W(k,1)}return N=K(z,L.j(N)),new J(L,N)}for(L=T;0<=z.l(N);){for(k=Math.max(1,Math.floor(z.m()/N.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),F=m(k),O=F.j(N);B(O)||0<O.l(z);)k-=U,F=m(k),O=F.j(N);V(F)&&(F=R),L=L.add(F),z=K(z,O)}return new J(L,z)}n.A=function(z){return ct(this,z).h},n.and=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)&z.i(U);return new c(k,this.h&z.h)},n.or=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)|z.i(U);return new c(k,this.h|z.h)},n.xor=function(z){for(var N=Math.max(this.g.length,z.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)^z.i(U);return new c(k,this.h^z.h)};function ut(z){for(var N=z.g.length+1,k=[],U=0;U<N;U++)k[U]=z.i(U)<<1|z.i(U-1)>>>31;return new c(k,z.h)}function W(z,N){var k=N>>5;N%=32;for(var U=z.g.length-k,L=[],F=0;F<U;F++)L[F]=0<N?z.i(F+k)>>>N|z.i(F+k+1)<<32-N:z.i(F+k);return new c(L,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Is=c}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qT,nu,HT,gh,om,GT,KT,QT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=e(this);function a(h,v){if(v)t:{var w=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var Y=h[x];if(!(Y in w))break t;w=w[Y]}h=h[h.length-1],x=w[h],v=v(x),v!=x&&v!=null&&t(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,x=!1,Y={next:function(){if(!x&&w<h.length){var et=w++;return{value:v(et,h[et]),done:!1}}return x=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,w){return h.call.apply(h.bind,arguments)}function T(h,v,w){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,x),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function R(h,v,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,R.apply(null,arguments)}function S(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function V(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(x,Y,et){for(var mt=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)mt[ee-2]=arguments[ee];return v.prototype[Y].apply(x,mt)}}function B(h){const v=h.length;if(0<v){const w=Array(v);for(let x=0;x<v;x++)w[x]=h[x];return w}return[]}function q(h,v){for(let w=1;w<arguments.length;w++){const x=arguments[w];if(p(x)){const Y=h.length||0,et=x.length||0;h.length=Y+et;for(let mt=0;mt<et;mt++)h[Y+mt]=x[mt]}else h.push(x)}}class K{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function nt(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ct(h){return ct[" "](h),h}ct[" "]=function(){};var ut=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function W(h,v,w){for(const x in h)v.call(w,h[x],x,h)}function z(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function N(h){const v={};for(const w in h)v[w]=h[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,v){let w,x;for(let Y=1;Y<arguments.length;Y++){x=arguments[Y];for(w in x)h[w]=x[w];for(let et=0;et<k.length;et++)w=k[et],Object.prototype.hasOwnProperty.call(x,w)&&(h[w]=x[w])}}function L(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function F(h){f.setTimeout(()=>{throw h},0)}function O(){var h=qt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class gt{constructor(){this.h=this.g=null}add(v,w){const x=vt.get();x.set(v,w),this.h?this.h.next=x:this.g=x,this.h=x}}var vt=new K(()=>new dt,h=>h.reset());class dt{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,Tt=!1,qt=new gt,I=()=>{const h=f.Promise.resolve(void 0);Et=()=>{h.then(rt)}};var rt=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(w){F(w)}var v=vt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Tt=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function Dt(h,v){if(M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ut){t:{try{ct(v.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}V(Dt,M);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function ae(h,v,w,x,Y){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!x,this.ha=Y,this.key=++Mt,this.da=this.fa=!1}function Kt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h){this.src=h,this.g={},this.h=0}Ce.prototype.add=function(h,v,w,x,Y){var et=h.toString();h=this.g[et],h||(h=this.g[et]=[],this.h++);var mt=Ne(h,v,x,Y);return-1<mt?(v=h[mt],w||(v.fa=!1)):(v=new ae(v,this.src,et,!!x,Y),v.fa=w,h.push(v)),v};function Cn(h,v){var w=v.type;if(w in h.g){var x=h.g[w],Y=Array.prototype.indexOf.call(x,v,void 0),et;(et=0<=Y)&&Array.prototype.splice.call(x,Y,1),et&&(Kt(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ne(h,v,w,x){for(var Y=0;Y<h.length;++Y){var et=h[Y];if(!et.da&&et.listener==v&&et.capture==!!w&&et.ha==x)return Y}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),Bn={};function xn(h,v,w,x,Y){if(Array.isArray(v)){for(var et=0;et<v.length;et++)xn(h,v[et],w,x,Y);return null}return w=wn(w),h&&h[de]?h.K(v,w,m(x)?!!x.capture:!1,Y):Jn(h,v,w,!1,x,Y)}function Jn(h,v,w,x,Y,et){if(!v)throw Error("Invalid event type");var mt=m(Y)?!!Y.capture:!!Y,ee=vi(h);if(ee||(h[dn]=ee=new Ce(h)),w=ee.add(v,w,x,mt,et),w.proxy)return w;if(x=Ci(),w.proxy=x,x.src=h,x.listener=w,h.addEventListener)_t||(Y=mt),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),x,Y);else if(h.attachEvent)h.attachEvent(Fn(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ci(){function h(w){return v.call(h.src,h.listener,w)}const v=pn;return h}function _i(h,v,w,x,Y){if(Array.isArray(v))for(var et=0;et<v.length;et++)_i(h,v[et],w,x,Y);else x=m(x)?!!x.capture:!!x,w=wn(w),h&&h[de]?(h=h.i,v=String(v).toString(),v in h.g&&(et=h.g[v],w=Ne(et,w,x,Y),-1<w&&(Kt(et[w]),Array.prototype.splice.call(et,w,1),et.length==0&&(delete h.g[v],h.h--)))):h&&(h=vi(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ne(v,w,x,Y)),(w=-1<h?v[h]:null)&&zn(w))}function zn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])Cn(v.i,h);else{var w=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(w,x,h.capture):v.detachEvent?v.detachEvent(Fn(w),x):v.addListener&&v.removeListener&&v.removeListener(x),(w=vi(v))?(Cn(w,h),w.h==0&&(w.src=null,v[dn]=null)):Kt(h)}}}function Fn(h){return h in Bn?Bn[h]:Bn[h]="on"+h}function pn(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var w=h.listener,x=h.ha||h.src;h.fa&&zn(h),h=w.call(x,v)}return h}function vi(h){return h=h[dn],h instanceof Ce?h:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(h){return typeof h=="function"?h:(h[We]||(h[We]=function(v){return h.handleEvent(v)}),h[We])}function tt(){yt.call(this),this.i=new Ce(this),this.M=this,this.F=null}V(tt,yt),tt.prototype[de]=!0,tt.prototype.removeEventListener=function(h,v,w,x){_i(this,h,v,w,x)};function A(h,v){var w,x=h.F;if(x)for(w=[];x;x=x.F)w.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var Y=v;v=new M(x,h),U(v,Y)}if(Y=!0,w)for(var et=w.length-1;0<=et;et--){var mt=v.g=w[et];Y=y(mt,x,!0,v)&&Y}if(mt=v.g=h,Y=y(mt,x,!0,v)&&Y,Y=y(mt,x,!1,v)&&Y,w)for(et=0;et<w.length;et++)mt=v.g=w[et],Y=y(mt,x,!1,v)&&Y}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],x=0;x<w.length;x++)Kt(w[x]);delete h.g[v],h.h--}}this.F=null},tt.prototype.K=function(h,v,w,x){return this.i.add(String(h),v,!1,w,x)},tt.prototype.L=function(h,v,w,x){return this.i.add(String(h),v,!0,w,x)};function y(h,v,w,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,et=0;et<v.length;++et){var mt=v[et];if(mt&&!mt.da&&mt.capture==w){var ee=mt.listener,He=mt.ha||mt.src;mt.fa&&Cn(h.i,mt),Y=ee.call(He,x)!==!1&&Y}}return Y&&!x.defaultPrevented}function E(h,v,w){if(typeof h=="function")w&&(h=R(h,w));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function D(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,D(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class j extends yt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:D(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $(h){yt.call(this),this.h=h,this.g={}}V($,yt);var it=[];function Rt(h){W(h.g,function(v,w){this.g.hasOwnProperty(w)&&zn(v)},h),h.g={}}$.prototype.N=function(){$.aa.N.call(this),Rt(this)},$.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var te=f.JSON.stringify,Nt=f.JSON.parse,Vt=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function jt(){}jt.prototype.h=null;function Bu(h){return h.h||(h.h=h.i())}function zu(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){M.call(this,"d")}V(Vr,M);function Ei(){M.call(this,"c")}V(Ei,M);var ti={},Br=null;function Da(){return Br=Br||new tt}ti.La="serverreachability";function $o(h){M.call(this,ti.La,h)}V($o,M);function zr(h){const v=Da();A(v,new $o(v))}ti.STAT_EVENT="statevent";function Oa(h,v){M.call(this,ti.STAT_EVENT,h),this.stat=v}V(Oa,M);function Me(h){const v=Da();A(v,new Oa(v,h))}ti.Ma="timingevent";function Fu(h,v){M.call(this,ti.Ma,h),this.size=v}V(Fu,M);function Fr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function ju(h,v,w,x,Y,et){h.info(function(){if(h.g)if(et)for(var mt="",ee=et.split("&"),He=0;He<ee.length;He++){var ne=ee[He].split("=");if(1<ne.length){var tn=ne[0];ne=ne[1];var Ge=tn.split("_");mt=2<=Ge.length&&Ge[1]=="type"?mt+(tn+"="+ne+"&"):mt+(tn+"=redacted&")}}else mt=null;else mt=et;return"XMLHTTP REQ ("+x+") [attempt "+Y+"]: "+v+`
`+w+`
`+mt})}function qu(h,v,w,x,Y,et,mt){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Y+"]: "+v+`
`+w+`
`+et+" "+mt})}function qr(h,v,w,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ze(h,w)+(x?" "+x:"")})}function ki(h,v){h.info(function(){return"TIMEOUT: "+v})}jr.prototype.info=function(){};function Ze(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var x=w[h];if(!(2>x.length)){var Y=x[1];if(Array.isArray(Y)&&!(1>Y.length)){var et=Y[0];if(et!="noop"&&et!="stop"&&et!="close")for(var mt=1;mt<Y.length;mt++)Y[mt]=""}}}}return te(w)}catch{return v}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zs;function Na(){}V(Na,jt),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},zs=new Na;function Di(h,v,w,x){this.j=h,this.i=v,this.l=w,this.R=x||1,this.U=new $(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wo}function Wo(){this.i=null,this.g="",this.h=!1}var Hr={},Fs={};function Ti(h,v,w){h.L=1,h.v=Hs(xe(v)),h.m=w,h.P=!0,rr(h,null)}function rr(h,v){h.F=Date.now(),be(h),h.A=xe(h.v);var w=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),or(w.i,"t",x),h.C=0,w=h.j.J,h.h=new Wo,h.g=ic(h.j,w?v:null,!h.m),0<h.O&&(h.M=new j(R(h.Y,h,h.g),h.O)),v=h.U,w=h.g,x=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(it[0]=Y.toString()),Y=it);for(var et=0;et<Y.length;et++){var mt=xn(w,Y[et],x||v.handleEvent,!1,v.h||v);if(!mt)break;v.g[mt.key]=mt}v=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),zr(),ju(h.i,h.u,h.A,h.l,h.R,h.m)}Di.prototype.ca=function(h){h=h.target;const v=this.M;v&&si(h)==3?v.j():this.Y(h)},Di.prototype.Y=function(h){try{if(h==this.g)t:{const Ge=si(this.g);var v=this.g.Ba();const hr=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||Ge!=4||v==7||(v==8||0>=hr?zr(3):zr(2)),Ma(this);var w=this.g.Z();this.X=w;e:if(Gr(this)){var x=Xu(this.g);h="";var Y=x.length,et=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),jn(this);var mt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(x[v],{stream:!(et&&v==Y-1)});x.length=0,this.h.g+=h,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=w==200,qu(this.i,this.u,this.A,this.l,this.R,Ge,w),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,He=this.g;if((ee=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(ee)){var ne=ee;break e}}ne=null}if(w=ne)qr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qn(this,w);else{this.o=!1,this.s=3,Me(12),kn(this),jn(this);break t}}if(this.P){w=!0;let an;for(;!this.J&&this.C<mt.length;)if(an=Kr(this,mt),an==Fs){Ge==4&&(this.s=4,Me(14),w=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Hr){this.s=4,Me(15),qr(this.i,this.l,mt,"[Invalid Chunk]"),w=!1;break}else qr(this.i,this.l,an,null),qn(this,an);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||mt.length!=0||this.h.h||(this.s=1,Me(16),w=!1),this.o=this.o&&w,!w)qr(this.i,this.l,mt,"[Invalid Chunked Response]"),kn(this),jn(this);else if(0<mt.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Ws(tn),tn.M=!0,Me(11))}}else qr(this.i,this.l,mt,null),qn(this,mt);Ge==4&&kn(this),this.o&&!this.J&&(Ge==4?tc(this.j,this):(this.o=!1,be(this)))}else kf(this.g),w==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),kn(this),jn(this)}}}catch{}finally{}};function Gr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Kr(h,v){var w=h.C,x=v.indexOf(`
`,w);return x==-1?Fs:(w=Number(v.substring(w,x)),isNaN(w)?Hr:(x+=1,x+w>v.length?Fs:(v=v.slice(x,x+w),h.C=x+w,v)))}Di.prototype.cancel=function(){this.J=!0,kn(this)};function be(h){h.S=Date.now()+h.I,Zo(h,h.I)}function Zo(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Fr(R(h.ba,h),v)}function Ma(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Di.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ki(this.i,this.A),this.L!=2&&(zr(),Me(17)),kn(this),this.s=2,jn(this)):Zo(this,this.S-h)};function jn(h){h.j.G==0||h.J||tc(h.j,h)}function kn(h){Ma(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Rt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function qn(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||Qr(w.h,h))){if(!h.K&&Qr(w.h,h)&&w.G==3){try{var x=w.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Y=x;if(Y[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ha(w),ja(w);else break t;ul(w),Me(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=Fr(R(w.Za,w),6e3));if(1>=Hu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else cr(w,11)}else if((h.K||w.g==h)&&Ha(w),!nt(v))for(Y=w.Da.g.parse(v),v=0;v<Y.length;v++){let ne=Y[v];if(w.T=ne[0],ne=ne[1],w.G==2)if(ne[0]=="c"){w.K=ne[1],w.ia=ne[2];const tn=ne[3];tn!=null&&(w.la=tn,w.j.info("VER="+w.la));const Ge=ne[4];Ge!=null&&(w.Aa=Ge,w.j.info("SVER="+w.Aa));const hr=ne[5];hr!=null&&typeof hr=="number"&&0<hr&&(x=1.5*hr,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const an=h.g;if(an){const Vi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var et=x.h;et.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Yr(et,et.h),et.h=null))}if(x.D){const hl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(x.ya=hl,oe(x.I,x.D,hl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var mt=h;if(x.qa=nc(x,x.J?x.ia:null,x.W),mt.K){ei(x.h,mt);var ee=mt,He=x.L;He&&(ee.I=He),ee.B&&(Ma(ee),be(ee)),x.g=mt}else Zu(x);0<w.i.length&&qa(w)}else ne[0]!="stop"&&ne[0]!="close"||cr(w,7);else w.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?cr(w,7):ol(w):ne[0]!="noop"&&w.l&&w.l.ta(ne),w.v=0)}}zr(4)}catch{}}var Af=class{constructor(h,v){this.g=h,this.map=v}};function Jo(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hu(h){return h.h?1:h.g?h.g.size:0}function Qr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Yr(h,v){h.g?h.g.add(v):h.h=v}function ei(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Jo.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return B(h.i)}function Gu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],w=h.length,x=0;x<w;x++)v.push(h[x]);return v}v=[],w=0;for(x in h)v[w++]=h[x];return v}function Rf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const x in h)v[w++]=x;return v}}}function js(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=Rf(h),x=Gu(h),Y=x.length,et=0;et<Y;et++)v.call(void 0,x[et],w&&w[et],h)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var x=h[w].indexOf("="),Y=null;if(0<=x){var et=h[w].substring(0,x);Y=h[w].substring(x+1)}else et=h[w];v(et,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function sr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof sr){this.h=h.h,Xr(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var v=h.i,w=new Oi;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Pa(this,w),this.m=h.m}else h&&(v=String(h).match(el))?(this.h=!1,Xr(this,v[1]||"",!0),this.o=$r(v[2]||""),this.g=$r(v[3]||"",!0),qs(this,v[4]),this.l=$r(v[5]||"",!0),Pa(this,v[6]||"",!0),this.m=$r(v[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}sr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ni(v,nl,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ni(v,nl,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ni(w,w.charAt(0)=="/"?il:Ku,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ni(w,xf)),h.join("")};function xe(h){return new sr(h)}function Xr(h,v,w){h.j=w?$r(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Pa(h,v,w){v instanceof Oi?(h.i=v,rl(h.i,h.h)):(w||(v=ni(v,Cf)),h.i=new Oi(v,h.h))}function oe(h,v,w){h.i.set(v,w)}function Hs(h){return oe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $r(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ni(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,If),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function If(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var nl=/[#\/\?@]/g,Ku=/[#\?:]/g,il=/[#\?]/g,Cf=/[#\?@]/g,xf=/#/g;function Oi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ii(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Oi.prototype,n.add=function(h,v){ii(this),this.i=null,h=lr(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function La(h,v){ii(h),v=lr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ar(h,v){return ii(h),v=lr(h,v),h.g.has(v)}n.forEach=function(h,v){ii(this),this.g.forEach(function(w,x){w.forEach(function(Y){h.call(v,Y,x,this)},this)},this)},n.na=function(){ii(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let x=0;x<v.length;x++){const Y=h[x];for(let et=0;et<Y.length;et++)w.push(v[x])}return w},n.V=function(h){ii(this);let v=[];if(typeof h=="string")ar(this,h)&&(v=v.concat(this.g.get(lr(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},n.set=function(h,v){return ii(this),this.i=null,h=lr(this,h),ar(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function or(h,v,w){La(h,v),0<w.length&&(h.i=null,h.g.set(lr(h,v),B(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var x=v[w];const et=encodeURIComponent(String(x)),mt=this.V(x);for(x=0;x<mt.length;x++){var Y=et;mt[x]!==""&&(Y+="="+encodeURIComponent(String(mt[x]))),h.push(Y)}}return this.i=h.join("&")};function lr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function rl(h,v){v&&!h.j&&(ii(h),h.i=null,h.g.forEach(function(w,x){var Y=x.toLowerCase();x!=Y&&(La(this,x),or(this,Y,w))},h)),h.j=v}function Qu(h,v){const w=new jr;if(f.Image){const x=new Image;x.onload=S(ri,w,"TestLoadImage: loaded",!0,v,x),x.onerror=S(ri,w,"TestLoadImage: error",!1,v,x),x.onabort=S(ri,w,"TestLoadImage: abort",!1,v,x),x.ontimeout=S(ri,w,"TestLoadImage: timeout",!1,v,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Gs(h,v){const w=new jr,x=new AbortController,Y=setTimeout(()=>{x.abort(),ri(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(et=>{clearTimeout(Y),et.ok?ri(w,"TestPingServer: ok",!0,v):ri(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),ri(w,"TestPingServer: error",!1,v)})}function ri(h,v,w,x,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),x(w)}catch{}}function Ks(){this.g=new Vt}function Ni(h,v,w){const x=w||"";try{js(h,function(Y,et){let mt=Y;m(Y)&&(mt=te(Y)),v.push(x+et+"="+encodeURIComponent(mt))})}catch(Y){throw v.push(x+"type="+encodeURIComponent("_badmap")),Y}}function Wr(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Wr,jt),Wr.prototype.g=function(){return new ur(this.l,this.j)},Wr.prototype.i=function(h){return function(){return h}}({});function ur(h,v){tt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ur,tt),n=ur.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ui(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Mi(this):Ui(this),this.readyState==3&&sl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Mi(this))},n.Qa=function(h){this.g&&(this.response=h,Mi(this))},n.ga=function(){this.g&&Mi(this)};function Mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ui(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function al(h){let v="";return W(h,function(w,x){v+=x,v+=":",v+=w,v+=`\r
`}),v}function Je(h,v,w){t:{for(x in w){var x=!1;break t}x=!0}x||(w=al(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):oe(h,v,w))}function he(h){tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(he,tt);var Va=/^https?$/i,Qs=["POST","PUT"];n=he.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zs.g(),this.v=this.o?Bu(this.o):Bu(zs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(et){Yu(this,et);return}if(h=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Y in x)w.set(Y,x[Y]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const et of x.keys())w.set(et,x.get(et));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(et=>et.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,v,void 0))||x||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,mt]of w)this.g.setRequestHeader(et,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(et){Yu(this,et)}};function Yu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ba(h),Pi(h)}function Ba(h){h.A||(h.A=!0,A(h,"complete"),A(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,A(this,"complete"),A(this,"abort"),Pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),he.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||si(h)!=4||h.Z()!=2)){if(h.u&&si(h)==4)E(h.Ea,0,h);else if(A(h,"readystatechange"),si(h)==4){h.h=!1;try{const mt=h.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var x;if(x=mt===0){var Y=String(h.D).match(el)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),x=!Va.test(Y?Y.toLowerCase():"")}w=x}if(w)A(h,"complete"),A(h,"success");else{h.m=6;try{var et=2<si(h)?h.g.statusText:""}catch{et=""}h.l=et+" ["+h.Z()+"]",Ba(h)}}finally{Pi(h)}}}}function Pi(h,v){if(h.g){Ys(h);const w=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||A(h,"ready");try{w.onreadystatechange=x}catch{}}}function Ys(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Nt(v)}};function Xu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(h){const v={};h=(h.g&&2<=si(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(nt(h[x]))continue;var w=L(h[x]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const et=v[Y]||[];v[Y]=et,et.push(w)}z(v,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function Fa(h){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,h),this.cb=Xs("retryDelaySeedMs",1e4,h),this.Wa=Xs("forwardChannelMaxRetries",2,h),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Jo(h&&h.concurrentRequestLimit),this.Da=new Ks,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(h,v,w,x){Me(0),this.W=h,this.H=v||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=nc(this,null,this.W),qa(this)};function ol(h){if($u(h),h.G==3){var v=h.U++,w=xe(h.I);if(oe(w,"SID",h.K),oe(w,"RID",v),oe(w,"TYPE","terminate"),$s(h,w),v=new Di(h,h.j,v),v.L=2,v.v=Hs(xe(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=ic(v.j,null),v.g.ea(v.v)),v.F=Date.now(),be(v)}ec(h)}function ja(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function $u(h){ja(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ha(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function qa(h){if(!tl(h.h)&&!h.s){h.s=!0;var v=h.Ga;Et||I(),Tt||(Et(),Tt=!0),qt.add(v,h),h.B=0}}function Df(h,v){return Hu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Fr(R(h.Ga,h,v),cl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Di(this,this.j,h);let et=this.o;if(this.S&&(et?(et=N(et),U(et,this.S)):et=this.S),this.m!==null||this.O||(Y.H=et,et=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=Wu(this,Y,v),w=xe(this.I),oe(w,"RID",h),oe(w,"CVER",22),this.D&&oe(w,"X-HTTP-Session-Id",this.D),$s(this,w),et&&(this.O?v="headers="+encodeURIComponent(String(al(et)))+"&"+v:this.m&&Je(w,this.m,et)),Yr(this.h,Y),this.Ua&&oe(w,"TYPE","init"),this.P?(oe(w,"$req",v),oe(w,"SID","null"),Y.T=!0,Ti(Y,w,null)):Ti(Y,w,v),this.G=2}}else this.G==3&&(h?ll(this,h):this.i.length==0||tl(this.h)||ll(this))};function ll(h,v){var w;v?w=v.l:w=h.U++;const x=xe(h.I);oe(x,"SID",h.K),oe(x,"RID",w),oe(x,"AID",h.T),$s(h,x),h.m&&h.o&&Je(x,h.m,h.o),w=new Di(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Wu(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Yr(h.h,w),Ti(w,x,v)}function $s(h,v){h.H&&W(h.H,function(w,x){oe(v,x,w)}),h.l&&js({},function(w,x){oe(v,x,w)})}function Wu(h,v,w){w=Math.min(h.i.length,w);var x=h.l?R(h.l.Na,h.l,h):null;t:{var Y=h.i;let et=-1;for(;;){const mt=["count="+w];et==-1?0<w?(et=Y[0].g,mt.push("ofs="+et)):et=0:mt.push("ofs="+et);let ee=!0;for(let He=0;He<w;He++){let ne=Y[He].g;const tn=Y[He].map;if(ne-=et,0>ne)et=Math.max(0,Y[He].g-100),ee=!1;else try{Ni(tn,mt,"req"+ne+"_")}catch{x&&x(tn)}}if(ee){x=mt.join("&");break t}}}return h=h.i.splice(0,w),v.D=h,x}function Zu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Et||I(),Tt||(Et(),Tt=!0),qt.add(v,h),h.v=0}}function ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Fr(R(h.Fa,h),cl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Fr(R(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),ja(this),Ju(this))};function Ws(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Ju(h){h.g=new Di(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xe(h.qa);oe(v,"RID","rpc"),oe(v,"SID",h.K),oe(v,"AID",h.T),oe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&oe(v,"TO",h.ja),oe(v,"TYPE","xmlhttp"),$s(h,v),h.m&&h.o&&Je(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Hs(xe(v)),w.m=null,w.P=!0,rr(w,h)}n.Za=function(){this.C!=null&&(this.C=null,ja(this),ul(this),Me(19))};function Ha(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function tc(h,v){var w=null;if(h.g==v){Ha(h),Ws(h),h.g=null;var x=2}else if(Qr(h.h,v))w=v.D,ei(h.h,v),x=1;else return;if(h.G!=0){if(v.o)if(x==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;x=Da(),A(x,new Fu(x,w)),qa(h)}else Zu(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(x==1&&Df(h,v)||x==2&&ul(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),Y){case 1:cr(h,5);break;case 4:cr(h,10);break;case 3:cr(h,6);break;default:cr(h,2)}}}function cl(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function cr(h,v){if(h.j.info("Error code "+v),v==2){var w=R(h.fb,h),x=h.Xa;const Y=!x;x=new sr(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xr(x,"https"),Hs(x),Y?Qu(x.toString(),w):Gs(x.toString(),w)}else Me(2);h.G=0,h.l&&h.l.sa(v),ec(h),$u(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function ec(h){if(h.G=0,h.ka=[],h.l){const v=bn(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ka,v),q(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function nc(h,v,w){var x=w instanceof sr?xe(w):new sr(w);if(x.g!="")v&&(x.g=v+"."+x.g),qs(x,x.s);else{var Y=f.location;x=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var et=new sr(null);x&&Xr(et,x),v&&(et.g=v),Y&&qs(et,Y),w&&(et.l=w),x=et}return w=h.D,v=h.ya,w&&v&&oe(x,w,v),oe(x,"VER",h.la),$s(h,x),x}function ic(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new he(new Wr({eb:w})):new he(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}n=rc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ga(){}Ga.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){tt.call(this),this.g=new Fa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!nt(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!nt(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Li(this)}V(Sn,tt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){ol(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=te(h),h=w);v.i.push(new Af(v.Ya++,h)),v.G==3&&qa(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Sn.aa.N.call(this)};function sc(h){Vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const w in v){h=w;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(sc,Vr);function ac(){Ei.call(this),this.status=1}V(ac,Ei);function Li(h){this.g=h}V(Li,rc),Li.prototype.ua=function(){A(this.g,"a")},Li.prototype.ta=function(h){A(this.g,new sc(h))},Li.prototype.sa=function(h){A(this.g,new ac)},Li.prototype.ra=function(){A(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,QT=function(){return new Ga},KT=function(){return Da()},GT=ti,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,gh=qe,ir.COMPLETE="complete",HT=ir,zu.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",tt.prototype.listen=tt.prototype.K,nu=zu,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,qT=he}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore",x0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Lm("@firebase/firestore");function wo(){return wa.logLevel}function wt(n,...t){if(wa.logLevel<=$t.DEBUG){const e=t.map(zm);wa.debug(`Firestore (${jo}): ${n}`,...e)}}function Mr(n,...t){if(wa.logLevel<=$t.ERROR){const e=t.map(zm);wa.error(`Firestore (${jo}): ${n}`,...e)}}function Mo(n,...t){if(wa.logLevel<=$t.WARN){const e=t.map(zm);wa.warn(`Firestore (${jo}): ${n}`,...e)}}function zm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n="Unexpected state"){const t=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+n;throw Mr(t),new Error(t)}function fe(n,t){n||Ut()}function Ft(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends nr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_n.UNAUTHENTICATED))}shutdown(){}}class SI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class AI{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){fe(this.o===void 0);let r=this.i;const a=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let l=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Dr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Dr)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new YT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string"),new _n(t)}}class RI{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class II{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new RI(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CI{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ri(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){fe(this.o===void 0);const r=l=>{l.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,wt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fe(typeof e.token=="string"),this.R=e.token,new k0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=xI(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%62))}return r}}function Jt(n,t){return n<t?-1:n>t?1:0}function Uo(n,t,e){return n.length===t.length&&n.every((r,a)=>e(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-62135596800,O0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*O0);return new Xe(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<D0)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-D0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new Xe(0,0))}static max(){return new Bt(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class Gi{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ut(),r===void 0?r=t.length-e:r>t.length-e&&Ut(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=Gi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Math.sign(t.length-e.length)}static compareSegments(t,e){const r=Gi.isNumericId(t),a=Gi.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Gi.extractNumericId(t).compare(Gi.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class we extends Gi{construct(t,e,r){return new we(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new we(e)}static emptyPath(){return new we([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Gi{construct(t,e,r){return new hn(t,e,r)}static isValidIdentifier(t){return kI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new hn([N0])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ct(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new Ct(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ct(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new Ct(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(e)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.path=t}static fromPath(t){return new kt(we.fromString(t))}static fromName(t){return new kt(we.fromString(t).popFirst(5))}static empty(){return new kt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return we.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new kt(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function DI(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Bt.fromTimestamp(r===1e9?new Xe(e+1,0):new Xe(e,r));return new ks(a,kt.empty(),t)}function OI(n){return new ks(n.readTime,n.key,gu)}class ks{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ks(Bt.min(),kt.empty(),gu)}static max(){return new ks(Bt.max(),kt.empty(),gu)}}function NI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=kt.comparator(n.documentKey,t.documentKey),e!==0?e:Jt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==MI)throw n;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,r)=>{e(t)})}static reject(t){return new lt((e,r)=>{r(t)})}static waitFor(t){return new lt((e,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&e()},p=>r(p))}),c=!0,l===a&&e()})}static or(t){let e=lt.resolve(!1);for(const r of t)e=e.next(a=>a?lt.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}static mapArray(t,e){return new lt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;e(t[m]).next(_=>{c[m]=_,++f,f===l&&r(c)},_=>a(_))}})}static doWhile(t,e){return new lt((r,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):r()};l()})}}function PI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ho(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.oe(r),this._e=r=>e.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function tf(n){return n==null}function xh(n){return n===0&&1/n==-1/0}function LI(n){return typeof n=="number"&&Number.isInteger(n)&&!xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="";function VI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=M0(t)),t=BI(n.get(e),t);return M0(t)}function BI(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case $T:e+="";break;default:e+=l}}return e}function M0(n){return n+$T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ls(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function WT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||cn.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ah(this.root,t,this.comparator,!0)}}class ah{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new cn(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const t=this.left.check();if(t!==this.right.check())throw Ut();return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(t,e,r,a,l){return this}insert(t,e,r){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(t){return new P0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $e(this.comparator);return e.data=t,e}}class P0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new $n([])}unionWith(t){let e=new $e(hn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new $n(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Uo(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZT("Invalid base64 string: "+l):l}}(t);return new fn(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new fn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const zI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(fe(!!n),typeof n=="string"){let t=0;const e=zI.exec(n);if(fe(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="server_timestamp",tw="__type__",ew="__previous_value__",nw="__local_write_time__";function jm(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[tw])===null||e===void 0?void 0:e.stringValue)===JT}function ef(n){const t=n.mapValue.fields[ew];return jm(t)?ef(t):t}function yu(n){const t=Ds(n.mapValue.fields[nw].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,e,r,a,l,c,f,p,m){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const kh="(default)";class _u{constructor(t,e){this.projectId=t,this.database=e||kh}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===kh}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__type__",jI="__max__",oh={mapValue:{}},rw="__vector__",Dh="value";function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jm(n)?4:HI(n)?9007199254740991:qI(n)?10:11:Ut()}function Ji(n,t){if(n===t)return!0;const e=Ns(n);if(e!==Ns(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return yu(n).isEqual(yu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ds(a.timestampValue),f=Ds(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return Os(a.bytesValue).isEqual(Os(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return Pe(a.geoPointValue.latitude)===Pe(l.geoPointValue.latitude)&&Pe(a.geoPointValue.longitude)===Pe(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pe(a.integerValue)===Pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pe(a.doubleValue),f=Pe(l.doubleValue);return c===f?xh(c)===xh(f):isNaN(c)&&isNaN(f)}return!1}(n,t);case 9:return Uo(n.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(U0(c)!==U0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Ji(c[p],f[p])))return!1;return!0}(n,t);default:return Ut()}}function vu(n,t){return(n.values||[]).find(e=>Ji(e,t))!==void 0}function Po(n,t){if(n===t)return 0;const e=Ns(n),r=Ns(t);if(e!==r)return Jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Pe(l.integerValue||l.doubleValue),p=Pe(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,t);case 3:return L0(n.timestampValue,t.timestampValue);case 4:return L0(yu(n),yu(t));case 5:return Jt(n.stringValue,t.stringValue);case 6:return function(l,c){const f=Os(l),p=Os(c);return f.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const _=Jt(f[m],p[m]);if(_!==0)return _}return Jt(f.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const f=Jt(Pe(l.latitude),Pe(c.latitude));return f!==0?f:Jt(Pe(l.longitude),Pe(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return V0(n.arrayValue,t.arrayValue);case 10:return function(l,c){var f,p,m,_;const T=l.fields||{},R=c.fields||{},S=(f=T[Dh])===null||f===void 0?void 0:f.arrayValue,V=(p=R[Dh])===null||p===void 0?void 0:p.arrayValue,B=Jt(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:V0(S,V)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===oh.mapValue&&c===oh.mapValue)return 0;if(l===oh.mapValue)return 1;if(c===oh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const R=Jt(p[T],_[T]);if(R!==0)return R;const S=Po(f[p[T]],m[_[T]]);if(S!==0)return S}return Jt(p.length,_.length)}(n.mapValue,t.mapValue);default:throw Ut()}}function L0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Jt(n,t);const e=Ds(n),r=Ds(t),a=Jt(e.seconds,r.seconds);return a!==0?a:Jt(e.nanos,r.nanos)}function V0(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=Po(e[a],r[a]);if(l)return l}return Jt(e.length,r.length)}function Lo(n){return lm(n)}function lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=Ds(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Os(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return kt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=lm(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${lm(e.fields[c])}`;return a+"}"}(n.mapValue):Ut()}function yh(n){switch(Ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ef(n);return t?16+yh(t):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+yh(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ls(r.fields,(l,c)=>{a+=l.length+yh(c)}),a}(n.mapValue);default:throw Ut()}}function um(n){return!!n&&"integerValue"in n}function qm(n){return!!n&&"arrayValue"in n}function B0(n){return!!n&&"nullValue"in n}function z0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _h(n){return!!n&&"mapValue"in n}function qI(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[iw])===null||e===void 0?void 0:e.stringValue)===rw}function au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=au(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=au(n.arrayValue.values[e]);return t}return Object.assign({},n)}function HI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!_h(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(e)}setAll(t){let e=hn.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!e.isImmediateParentOf(f)){const p=this.getFieldsMap(e);this.applyChanges(p,r,a),r={},a=[],e=f.popLast()}c?r[f.lastSegment()]=au(c):a.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());_h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];_h(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Ls(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Un(au(this.value))}}function sw(n){const t=[];return Ls(n.fields,(e,r)=>{const a=new hn([e]);if(_h(r)){const l=sw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,e,r,a,l,c,f){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new vn(t,0,Bt.min(),Bt.min(),Bt.min(),Un.empty(),0)}static newFoundDocument(t,e,r,a){return new vn(t,1,e,Bt.min(),r,a,0)}static newNoDocument(t,e){return new vn(t,2,e,Bt.min(),Bt.min(),Un.empty(),0)}static newUnknownDocument(t,e){return new vn(t,3,e,Bt.min(),Bt.min(),Un.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e){this.position=t,this.inclusive=e}}function F0(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?r=kt.comparator(kt.fromName(c.referenceValue),e.key):r=Po(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function j0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ji(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,e="asc"){this.field=t,this.dir=e}}function GI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{}class Ye extends aw{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new QI(t,e,r):e==="array-contains"?new $I(t,r):e==="in"?new WI(t,r):e==="not-in"?new ZI(t,r):e==="array-contains-any"?new JI(t,r):new Ye(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new YI(t,r):new XI(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Po(e,this.value)):e!==null&&Ns(this.value)===Ns(e)&&this.matchesComparison(Po(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends aw{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new tr(t,e)}matches(t){return ow(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ow(n){return n.op==="and"}function lw(n){return KI(n)&&ow(n)}function KI(n){for(const t of n.filters)if(t instanceof tr)return!1;return!0}function cm(n){if(n instanceof Ye)return n.field.canonicalString()+n.op.toString()+Lo(n.value);if(lw(n))return n.filters.map(t=>cm(t)).join(",");{const t=n.filters.map(e=>cm(e)).join(",");return`${n.op}(${t})`}}function uw(n,t){return n instanceof Ye?function(r,a){return a instanceof Ye&&r.op===a.op&&r.field.isEqual(a.field)&&Ji(r.value,a.value)}(n,t):n instanceof tr?function(r,a){return a instanceof tr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&uw(c,a.filters[f]),!0):!1}(n,t):void Ut()}function cw(n){return n instanceof Ye?function(e){return`${e.field.canonicalString()} ${e.op} ${Lo(e.value)}`}(n):n instanceof tr?function(e){return e.op.toString()+" {"+e.getFilters().map(cw).join(" ,")+"}"}(n):"Filter"}class QI extends Ye{constructor(t,e,r){super(t,e,r),this.key=kt.fromName(r.referenceValue)}matches(t){const e=kt.comparator(t.key,this.key);return this.matchesComparison(e)}}class YI extends Ye{constructor(t,e){super(t,"in",e),this.keys=hw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class XI extends Ye{constructor(t,e){super(t,"not-in",e),this.keys=hw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function hw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>kt.fromName(r.referenceValue))}class $I extends Ye{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return qm(e)&&vu(e.arrayValue,this.value)}}class WI extends Ye{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&vu(this.value.arrayValue,e)}}class ZI extends Ye{constructor(t,e){super(t,"not-in",e)}matches(t){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!vu(this.value.arrayValue,e)}}class JI extends Ye{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!qm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,e=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function q0(n,t=null,e=[],r=[],a=null,l=null,c=null){return new tC(n,t,e,r,a,l,c)}function Hm(n){const t=Ft(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>cm(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),tf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Lo(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Lo(r)).join(",")),t.le=e}return t.le}function Gm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!GI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!uw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!j0(n.startAt,t.startAt)&&j0(n.endAt,t.endAt)}function hm(n){return kt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,e=null,r=[],a=[],l=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function eC(n,t,e,r,a,l,c,f){return new nf(n,t,e,r,a,l,c,f)}function rf(n){return new nf(n)}function H0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nC(n){return n.collectionGroup!==null}function ou(n){const t=Ft(n);if(t.he===null){t.he=[];const e=new Set;for(const l of t.explicitOrderBy)t.he.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new $e(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.he.push(new Nh(l,r))}),e.has(hn.keyField().canonicalString())||t.he.push(new Nh(hn.keyField(),r))}return t.he}function Xi(n){const t=Ft(n);return t.Pe||(t.Pe=iC(t,ou(n))),t.Pe}function iC(n,t){if(n.limitType==="F")return q0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Nh(a.field,l)});const e=n.endAt?new Oh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Oh(n.startAt.position,n.startAt.inclusive):null;return q0(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function fm(n,t,e){return new nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sf(n,t){return Gm(Xi(n),Xi(t))&&n.limitType===t.limitType}function fw(n){return`${Hm(Xi(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(a=>cw(a)).join(", ")}]`),tf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Lo(a)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Lo(a)).join(",")),`Target(${r})`}(Xi(n))}; limitType=${n.limitType})`}function af(n,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):kt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,t)&&function(r,a){for(const l of ou(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(r,a){return!(r.startAt&&!function(c,f,p){const m=F0(c,f,p);return c.inclusive?m<=0:m<0}(r.startAt,ou(r),a)||r.endAt&&!function(c,f,p){const m=F0(c,f,p);return c.inclusive?m>=0:m>0}(r.endAt,ou(r),a))}(n,t)}function rC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dw(n){return(t,e)=>{let r=!1;for(const a of ou(n)){const l=sC(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function sC(n,t,e){const r=n.field.isKeyField()?kt.comparator(t.key,e.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Po(p,m):Ut()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Re(kt.comparator);function Ur(){return aC}const pw=new Re(kt.comparator);function iu(...n){let t=pw;for(const e of n)t=t.insert(e.key,e);return t}function mw(n){let t=pw;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function ya(){return lu()}function gw(){return lu()}function lu(){return new Ca(n=>n.toString(),(n,t)=>n.isEqual(t))}const oC=new Re(kt.comparator),lC=new $e(kt.comparator);function Wt(...n){let t=lC;for(const e of n)t=t.add(e);return t}const uC=new $e(Jt);function cC(){return uC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function yw(n){return{integerValue:""+n}}function hC(n,t){return LI(t)?yw(t):Km(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function fC(n,t,e){return n instanceof Mh?function(a,l){const c={fields:{[tw]:{stringValue:JT},[nw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&jm(l)&&(l=ef(l)),l&&(c.fields[ew]=l),{mapValue:c}}(e,t):n instanceof Eu?vw(n,t):n instanceof Tu?Ew(n,t):function(a,l){const c=_w(a,l),f=G0(c)+G0(a.Ie);return um(c)&&um(a.Ie)?yw(f):Km(a.serializer,f)}(n,t)}function dC(n,t,e){return n instanceof Eu?vw(n,t):n instanceof Tu?Ew(n,t):e}function _w(n,t){return n instanceof Uh?function(r){return um(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Mh extends of{}class Eu extends of{constructor(t){super(),this.elements=t}}function vw(n,t){const e=Tw(t);for(const r of n.elements)e.some(a=>Ji(a,r))||e.push(r);return{arrayValue:{values:e}}}class Tu extends of{constructor(t){super(),this.elements=t}}function Ew(n,t){let e=Tw(t);for(const r of n.elements)e=e.filter(a=>!Ji(a,r));return{arrayValue:{values:e}}}class Uh extends of{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function G0(n){return Pe(n.integerValue||n.doubleValue)}function Tw(n){return qm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pC(n,t){return n.field.isEqual(t.field)&&function(r,a){return r instanceof Eu&&a instanceof Eu||r instanceof Tu&&a instanceof Tu?Uo(r.elements,a.elements,Ji):r instanceof Uh&&a instanceof Uh?Ji(r.Ie,a.Ie):r instanceof Mh&&a instanceof Mh}(n.transform,t.transform)}class mC{constructor(t,e){this.version=t,this.transformResults=e}}class Ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class lf{}function ww(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Qm(n.key,Ii.none()):new Iu(n.key,n.data,Ii.none());{const e=n.data,r=Un.empty();let a=new $e(hn.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Vs(n.key,r,new $n(a.toArray()),Ii.none())}}function gC(n,t,e){n instanceof Iu?function(a,l,c){const f=a.value.clone(),p=Q0(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):n instanceof Vs?function(a,l,c){if(!vh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Q0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(bw(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function uu(n,t,e,r){return n instanceof Iu?function(l,c,f,p){if(!vh(l.precondition,c))return f;const m=l.value.clone(),_=Y0(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,r):n instanceof Vs?function(l,c,f,p){if(!vh(l.precondition,c))return f;const m=Y0(l.fieldTransforms,p,c),_=c.data;return _.setAll(bw(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,t,e,r):function(l,c,f){return vh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,t,e)}function yC(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),l=_w(r.transform,a||null);l!=null&&(e===null&&(e=Un.empty()),e.set(r.field,l))}return e||null}function K0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Uo(r,a,(l,c)=>pC(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Iu extends lf{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vs extends lf{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Q0(n,t,e){const r=new Map;fe(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,dC(c,f,e[a]))}return r}function Y0(n,t,e){const r=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);r.set(a.field,fC(l,c,t))}return r}class Qm extends lf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _C extends lf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&gC(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=uu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=uu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=gw();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=e.has(a.key)?null:f;const p=ww(c,f);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Wt())}isEqual(t){return this.batchId===t.batchId&&Uo(this.mutations,t.mutations,(e,r)=>K0(e,r))&&Uo(this.baseMutations,t.baseMutations,(e,r)=>K0(e,r))}}class Ym{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){fe(t.mutations.length===r.length);let a=function(){return oC}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ym(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,re;function wC(n){switch(n){case ft.OK:return Ut();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Ut()}}function Sw(n){if(n===void 0)return Mr("GRPC error has no .code"),ft.UNKNOWN;switch(n){case ze.OK:return ft.OK;case ze.CANCELLED:return ft.CANCELLED;case ze.UNKNOWN:return ft.UNKNOWN;case ze.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case ze.INTERNAL:return ft.INTERNAL;case ze.UNAVAILABLE:return ft.UNAVAILABLE;case ze.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case ze.NOT_FOUND:return ft.NOT_FOUND;case ze.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case ze.ABORTED:return ft.ABORTED;case ze.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case ze.DATA_LOSS:return ft.DATA_LOSS;default:return Ut()}}(re=ze||(ze={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Is([4294967295,4294967295],0);function X0(n){const t=bC().encode(n),e=new jT;return e.update(t),new Uint8Array(e.digest())}function $0(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Is([e,r],0),new Is([a,l],0)]}class Xm{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new ru(`Invalid padding: ${e}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new ru(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Is.fromNumber(this.Ee)}Ae(t,e,r){let a=t.add(e.multiply(Is.fromNumber(r)));return a.compare(SC)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=X0(t),[r,a]=$0(e);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Xm(l,a,e);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.Ee===0)return;const e=X0(t),[r,a]=$0(e);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new uf(Bt.min(),a,new Re(Jt),Ur(),Wt())}}class Cu{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Cu(r,e,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,e,r,a){this.me=t,this.removedTargetIds=e,this.key=r,this.fe=a}}class Aw{constructor(t,e){this.targetId=t,this.ge=e}}class Rw{constructor(t,e,r=fn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class W0{constructor(){this.pe=0,this.ye=Z0(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Wt(),e=Wt(),r=Wt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Ut()}}),new Cu(this.we,this.be,t,e,r)}Me(){this.Se=!1,this.ye=Z0()}xe(t,e){this.Se=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class AC{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ur(),this.$e=lh(),this.Ke=lh(),this.Ue=new Re(Jt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const r=this.He(e);switch(t.state){case 0:this.Je(e)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(t.resumeToken));break;default:Ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((r,a)=>{this.Je(a)&&e(a)})}Ze(t){const e=t.targetId,r=t.ge.count,a=this.Xe(e);if(a){const l=a.target;if(hm(l))if(r===0){const c=new kt(l.path);this.ze(e,c,vn.newNoDocument(c,Bt.min()))}else fe(r===1);else{const c=this.et(e);if(c!==r){const f=this.tt(t),p=f?this.nt(f,t,c):1;if(p!==0){this.Ye(e);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,m)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let c,f;try{c=Os(r).toUint8Array()}catch(p){if(p instanceof ZT)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Xm(c,a,l)}catch(p){return Mo(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(t,e,r){return e.ge.count===r-this.st(t,e.targetId)?0:2}st(t,e){const r=this.ke.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.ze(e,l,null),a++)}),a}ot(t){const e=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&hm(f.target)){const p=new kt(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,t))}l.ve&&(e.set(c,l.Fe()),l.Me())}});let r=Wt();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new uf(t,e,this.Ue,this.Qe,r);return this.Qe=Ur(),this.$e=lh(),this.Ke=lh(),this.Ue=new Re(Jt),a}Ge(t,e){if(!this.Je(t))return;const r=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,r){if(!this.Je(t))return;const a=this.He(t);this.ut(t,e)?a.xe(e,1):a.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new W0,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new $e(Jt),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new $e(Jt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||wt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new W0),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function lh(){return new Re(kt.comparator)}function Z0(){return new Re(kt.comparator)}const RC={asc:"ASCENDING",desc:"DESCENDING"},IC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CC={and:"AND",or:"OR"};class xC{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dm(n,t){return n.useProto3Json||tf(t)?t:{value:t}}function Ph(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Iw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function kC(n,t){return Ph(n,t.toTimestamp())}function $i(n){return fe(!!n),Bt.fromTimestamp(function(e){const r=Ds(e);return new Xe(r.seconds,r.nanos)}(n))}function $m(n,t){return pm(n,t).canonicalString()}function pm(n,t){const e=function(a){return new we(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Cw(n){const t=we.fromString(n);return fe(Nw(t)),t}function mm(n,t){return $m(n.databaseId,t.path)}function Mp(n,t){const e=Cw(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new kt(kw(e))}function xw(n,t){return $m(n.databaseId,t)}function DC(n){const t=Cw(n);return t.length===4?we.emptyPath():kw(t)}function gm(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kw(n){return fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function J0(n,t,e){return{name:mm(n,t),fields:e.value.mapValue.fields}}function OC(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ut()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(fe(_===void 0||typeof _=="string"),fn.fromBase64String(_||"")):(fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),fn.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(m){const _=m.code===void 0?ft.UNKNOWN:Sw(m.code);return new Ct(_,m.message||"")}(c);e=new Rw(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Mp(n,r.document.name),l=$i(r.document.updateTime),c=r.document.createTime?$i(r.document.createTime):Bt.min(),f=new Un({mapValue:{fields:r.document.fields}}),p=vn.newFoundDocument(a,l,c,f),m=r.targetIds||[],_=r.removedTargetIds||[];e=new Eh(m,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Mp(n,r.document),l=r.readTime?$i(r.readTime):Bt.min(),c=vn.newNoDocument(a,l),f=r.removedTargetIds||[];e=new Eh([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Mp(n,r.document),l=r.removedTargetIds||[];e=new Eh([],l,a,null)}else{if(!("filter"in t))return Ut();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new TC(a,l),f=r.targetId;e=new Aw(f,c)}}return e}function NC(n,t){let e;if(t instanceof Iu)e={update:J0(n,t.key,t.value)};else if(t instanceof Qm)e={delete:mm(n,t.key)};else if(t instanceof Vs)e={update:J0(n,t.key,t.data),updateMask:jC(t.fieldMask)};else{if(!(t instanceof _C))return Ut();e={verify:mm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Mh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Eu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Uh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ut()}(0,r))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:kC(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ut()}(n,t.precondition)),e}function MC(n,t){return n&&n.length>0?(fe(t!==void 0),n.map(e=>function(a,l){let c=a.updateTime?$i(a.updateTime):$i(l);return c.isEqual(Bt.min())&&(c=$i(l)),new mC(c,a.transformResults||[])}(e,t))):[]}function UC(n,t){return{documents:[xw(n,t.path)]}}function PC(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=xw(n,a);const l=function(m){if(m.length!==0)return Ow(tr.create(m,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(R){return{field:So(R.field),direction:BC(R.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=dm(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:e,parent:a}}function LC(n){let t=DC(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){fe(r===1);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(T){const R=Dw(T);return R instanceof tr&&lw(R)?R.getFilters():[R]}(e.where));let c=[];e.orderBy&&(c=function(T){return T.map(R=>function(V){return new Nh(Ao(V.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(e.orderBy));let f=null;e.limit&&(f=function(T){let R;return R=typeof T=="object"?T.value:T,tf(R)?null:R}(e.limit));let p=null;e.startAt&&(p=function(T){const R=!!T.before,S=T.values||[];return new Oh(S,R)}(e.startAt));let m=null;return e.endAt&&(m=function(T){const R=!T.before,S=T.values||[];return new Oh(S,R)}(e.endAt)),eC(t,a,c,l,f,"F",p,m)}function VC(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Dw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Ao(e.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ao(e.unaryFilter.field);return Ye.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(e.unaryFilter.field);return Ye.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(e.unaryFilter.field);return Ye.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(n):n.fieldFilter!==void 0?function(e){return Ye.create(Ao(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return tr.create(e.compositeFilter.filters.map(r=>Dw(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ut()}}(e.compositeFilter.op))}(n):Ut()}function BC(n){return RC[n]}function zC(n){return IC[n]}function FC(n){return CC[n]}function So(n){return{fieldPath:n.canonicalString()}}function Ao(n){return hn.fromServerFormat(n.fieldPath)}function Ow(n){return n instanceof Ye?function(e){if(e.op==="=="){if(z0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NAN"}};if(B0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(z0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NAN"}};if(B0(e.value))return{unaryFilter:{field:So(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(e.field),op:zC(e.op),value:e.value}}}(n):n instanceof tr?function(e){const r=e.getFilters().map(a=>Ow(a));return r.length===1?r[0]:{compositeFilter:{op:FC(e.op),filters:r}}}(n):Ut()}function jC(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Nw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,e,r,a,l=Bt.min(),c=Bt.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new Ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.Tt=t}}function HC(n){const t=LC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.Tn=new KC}addToCollectionParentIndex(t,e){return this.Tn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(ks.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(ks.min())}updateCollectionGroup(t,e,r){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class KC{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new $e(we.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new $e(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class Nn{static withCacheSize(t){return new Nn(t,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(Mw,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Vo(0)}static Un(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="LruGarbageCollector",QC=1048576;function nE([n,t],[e,r]){const a=Jt(n,e);return a===0?Jt(t,r):a}class YC{constructor(t){this.Hn=t,this.buffer=new $e(nE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();nE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XC{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){wt(eE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ho(e)?wt(eE,"Ignoring IndexedDB error during garbage collection: ",e):await qo(e)}await this.er(3e5)})}}class $C{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return lt.resolve(Jh.ae);const r=new YC(e);return this.tr.forEachTarget(t,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.tr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(tE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let r,a,l,c,f,p,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,f=Date.now(),this.removeTargets(t,r,e))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(m=Date.now(),wo()<=$t.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function WC(n,t){return new $C(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.changes=new Ca(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?lt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(r!==null&&uu(r.mutation,a,$n.empty(),Xe.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Wt()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Wt()){const a=ya();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,r).next(l=>{let c=iu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=ya();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Wt()))}populateOverlays(t,e,r){const a=[];return r.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{e.set(c,f)})})}computeViews(t,e,r,a){let l=Ur();const c=lu(),f=function(){return lu()}();return e.forEach((p,m)=>{const _=r.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof Vs)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),uu(_.mutation,m,_.mutation.getFieldMask(),Xe.now())):c.set(m.key,$n.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),e.forEach((m,_)=>{var T;return f.set(m,new JC(_,(T=c.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(t,e){const r=lu();let a=new Re((c,f)=>c-f),l=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=e.get(p);if(m===null)return;let _=r.get(p)||$n.empty();_=f.applyToLocalView(m,_),r.set(p,_);const T=(a.get(f.batchId)||Wt()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,_=p.value,T=gw();_.forEach(R=>{if(!l.has(R)){const S=ww(e.get(R),r.get(R));S!==null&&T.set(R,S),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,T))}return lt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,a){return function(c){return kt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):nC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):lt.resolve(ya());let f=gu,p=l;return c.next(m=>lt.forEach(m,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?lt.resolve():this.remoteDocumentCache.getEntry(t,_).next(R=>{p=p.insert(_,R)}))).next(()=>this.populateOverlays(t,m,l)).next(()=>this.computeViews(t,p,m,Wt())).next(_=>({batchId:f,changes:mw(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new kt(e)).next(r=>{let a=iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(t,l).next(f=>lt.forEach(f,p=>{const m=function(T,R){return new nf(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,r,a).next(_=>{_.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,vn.newInvalidDocument(_)))});let f=iu();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&uu(_.mutation,m,$n.empty(),Xe.now()),af(e,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return lt.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:$i(a.createTime)}}(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(a){return{name:a.name,query:HC(a.bundledQuery),readTime:$i(a.readTime)}}(e)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.overlays=new Re(kt.comparator),this.Rr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ya();return lt.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((a,l)=>{this.Et(t,e,l)}),lt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),lt.resolve()}getOverlaysForCollection(t,e,r){const a=ya(),l=e.length+1,c=new kt(e.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return lt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new Re((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>r){let _=l.get(m.largestBatchId);_===null&&(_=ya(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=ya(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=a)););return lt.resolve(f)}Et(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new EC(e,r));let l=this.Rr.get(e);l===void 0&&(l=Wt(),this.Rr.set(e,l)),this.Rr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Vr=new $e(sn.mr),this.gr=new $e(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const r=new sn(t,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.wr(new sn(t,e))}br(t,e){t.forEach(r=>this.removeReference(r,e))}Sr(t){const e=new kt(new we([])),r=new sn(e,t),a=new sn(e,t+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new kt(new we([])),r=new sn(e,t),a=new sn(e,t+1);let l=Wt();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new sn(t,0),r=this.Vr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class sn{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return kt.comparator(t.key,e.key)||Jt(t.Cr,e.Cr)}static pr(t,e){return Jt(t.Cr,e.Cr)||kt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new $e(sn.mr)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vC(l,e,r,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return lt.resolve(c)}lookupMutationBatch(t,e){return lt.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.Nr(r),l=a<0?0:a;return lt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Fm:this.Fr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new sn(e,0),a=new sn(e,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const f=this.Or(c.Cr);l.push(f)}),lt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new $e(Jt);return e.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{r=r.add(f.Cr)})}),lt.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;kt.isDocumentKey(l)||(l=l.child(""));const c=new sn(new kt(l),0);let f=new $e(Jt);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),lt.resolve(this.Br(f))}Br(t){const e=[];return t.forEach(r=>{const a=this.Or(r);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){fe(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return lt.forEach(e.mutations,a=>{const l=new sn(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,e){const r=new sn(e,0),a=this.Mr.firstAfterOrEqual(r);return lt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.kr=t,this.docs=function(){return new Re(kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return lt.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(e))}getEntries(t,e){let r=Ur();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),lt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=Ur();const c=e.path,f=new kt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||NI(OI(_),r)<=0||(a.has(_.key)||af(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return lt.resolve(l)}getAllFromCollectionGroup(t,e,r,a){Ut()}qr(t,e){return lt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new ax(this)}getSize(t){return lt.resolve(this.size)}}class ax extends ZC{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?e.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(r)}),lt.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t){this.persistence=t,this.Qr=new Ca(e=>Hm(e),Gm),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Wm,this.targetCount=0,this.Ur=Vo.Kn()}forEachTarget(t,e){return this.Qr.forEach((r,a)=>e(a)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),lt.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Vo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.zn(e),lt.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.Sr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=e&&r.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),lt.waitFor(l).next(()=>a)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const r=this.Qr.get(e)||null;return lt.resolve(r)}addMatchingKeys(t,e,r){return this.Kr.yr(e,r),lt.resolve()}removeMatchingKeys(t,e,r){this.Kr.br(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),lt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Kr.Sr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Kr.vr(e);return lt.resolve(r)}containsKey(t,e){return lt.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Jh(0),this.zr=!1,this.zr=!0,this.jr=new ix,this.referenceDelegate=t(this),this.Hr=new ox(this),this.indexManager=new GC,this.remoteDocumentCache=function(a){return new sx(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new qC(e),this.Yr=new ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nx,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Wr[t.toKey()];return r||(r=new rx(e,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,r){wt("MemoryPersistence","Starting transaction:",t);const a=new lx(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,e){return lt.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,e)))}}class lx extends UI{constructor(t){super(),this.currentSequenceNumber=t}}class Zm{constructor(t){this.persistence=t,this.ti=new Wm,this.ni=null}static ri(t){return new Zm(t)}get ii(){if(this.ni)return this.ni;throw Ut()}addReference(t,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),lt.resolve()}removeReference(t,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),lt.resolve()}removeTarget(t,e){this.ti.Sr(e.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.ii,r=>{const a=kt.fromPath(r);return this.si(t,a).next(l=>{l||e.removeEntry(a,Bt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return lt.or([()=>lt.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Lh{constructor(t,e){this.persistence=t,this.oi=new Ca(r=>VI(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=WC(this,e)}static ri(t,e){return new Lh(t,e)}Zr(){}Xr(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}sr(t){let e=0;return this.rr(t,r=>{e++}).next(()=>e)}rr(t,e){return lt.forEach(this.oi,(r,a)=>this.ar(t,r,a).next(l=>l?lt.resolve():e(a)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,e).next(f=>{f||(r++,l.removeEntry(c,Bt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.oi.set(r,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,r){return this.oi.set(r,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),lt.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=yh(t.data.value)),e}ar(t,e,r){return lt.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.oi.get(e);return lt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Hi=r,this.Ji=a}static Yi(t,e){let r=Wt(),a=Wt();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Jm(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sR()?8:PI(En())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.rs(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,e,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ux;return this._s(t,e,c).next(f=>{if(l.result=f,this.Xi)return this.us(t,e,c,f.size)})}).next(()=>l.result)}us(t,e,r,a){return r.documentReadCount<this.es?(wo()<=$t.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",bo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),lt.resolve()):(wo()<=$t.DEBUG&&wt("QueryEngine","Query:",bo(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(wo()<=$t.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",bo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xi(e))):lt.resolve())}rs(t,e){if(H0(e))return lt.resolve(null);let r=Xi(e);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=fm(e,null,"F"),r=Xi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Wt(...l);return this.ns.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(p=>{const m=this.cs(e,f);return this.ls(e,m,c,p.readTime)?this.rs(t,fm(e,null,"F")):this.hs(t,m,e,p)}))})))}ss(t,e,r,a){return H0(e)||a.isEqual(Bt.min())?lt.resolve(null):this.ns.getDocuments(t,r).next(l=>{const c=this.cs(e,l);return this.ls(e,c,r,a)?lt.resolve(null):(wo()<=$t.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bo(e)),this.hs(t,c,e,DI(a,gu)).next(f=>f))})}cs(t,e){let r=new $e(dw(t));return e.forEach((a,l)=>{af(t,l)&&(r=r.add(l))}),r}ls(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,e,r){return wo()<=$t.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",bo(e)),this.ns.getDocumentsMatchingQuery(t,e,ks.min(),r)}hs(t,e,r,a){return this.ns.getDocumentsMatchingQuery(t,r,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",hx=3e8;class fx{constructor(t,e,r,a){this.persistence=t,this.Ps=e,this.serializer=a,this.Ts=new Re(Jt),this.Is=new Ca(l=>Hm(l),Gm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function dx(n,t,e,r){return new fx(n,t,e,r)}async function Pw(n,t){const e=Ft(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,e.As(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let p=Wt();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(r,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function px(n,t){const e=Ft(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,_){const T=m.batch,R=T.keys();let S=lt.resolve();return R.forEach(V=>{S=S.next(()=>_.getEntry(p,V)).next(B=>{const q=m.docVersions.get(V);fe(q!==null),B.version.compareTo(q)<0&&(T.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),_.addEntry(B)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=Wt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(t))).next(()=>e.localDocuments.getDocuments(r,a))})}function Lw(n){const t=Ft(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function mx(n,t){const e=Ft(n),r=t.snapshotVersion;let a=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.ds.newChangeBuffer({trackRemovals:!0});a=e.Ts;const f=[];t.targetChanges.forEach((_,T)=>{const R=a.get(T);if(!R)return;f.push(e.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>e.Hr.addMatchingKeys(l,_.addedDocuments,T)));let S=R.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),a=a.insert(T,S),function(B,q,K){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=hx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,S,_)&&f.push(e.Hr.updateTargetData(l,S))});let p=Ur(),m=Wt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(gx(l,c,t.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!r.isEqual(Bt.min())){const _=e.Hr.getLastRemoteSnapshotVersion(l).next(T=>e.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(_)}return lt.waitFor(f).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(e.Ts=a,l))}function gx(n,t,e){let r=Wt(),a=Wt();return e.forEach(l=>r=r.add(l)),t.getEntries(n,r).next(l=>{let c=Ur();return e.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Bt.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):wt(tg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function yx(n,t){const e=Ft(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Fm),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function _x(n,t){const e=Ft(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.Hr.getTargetData(r,t).next(l=>l?(a=l,lt.resolve(a)):e.Hr.allocateTargetId(r).next(c=>(a=new Ss(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(t,r.targetId)),r})}async function ym(n,t,e){const r=Ft(n),a=r.Ts.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Ho(c))throw c;wt(tg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function iE(n,t,e){const r=Ft(n);let a=Bt.min(),l=Wt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const T=Ft(p),R=T.Is.get(_);return R!==void 0?lt.resolve(T.Ts.get(R)):T.Hr.getTargetData(m,_)}(r,c,Xi(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,e?a:Bt.min(),e?l:Wt())).next(f=>(vx(r,rC(t),f),{documents:f,gs:l})))}function vx(n,t,e){let r=n.Es.get(t)||Bt.min();e.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(t,r)}class rE{constructor(){this.activeTargetIds=cC()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ex{constructor(){this.ho=new rE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,r){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new rE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class aE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){wt(sE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){wt(sE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function _m(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bx{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(t,e,r,a,l){const c=_m(),f=this.So(t,e.toUriEncodedString());wt(Up,`Sending RPC '${t}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(t,f,p,r).then(m=>(wt(Up,`Received RPC '${t}' ${c}: `,m),m),m=>{throw Mo(Up,`RPC '${t}' ${c} failed with error: `,m,"url: ",f,"request:",r),m})}Co(t,e,r,a,l,c){return this.bo(t,e,r,a,l)}Do(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}So(t,e){const r=wx[t];return`${this.po}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class Ax extends bx{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,r,a){const l=_m();return new Promise((c,f)=>{const p=new qT;p.setWithCredentials(!0),p.listenOnce(HT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gh.NO_ERROR:const _=p.getResponseJson();wt(yn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),c(_);break;case gh.TIMEOUT:wt(yn,`RPC '${t}' ${l} timed out`),f(new Ct(ft.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const T=p.getStatus();if(wt(yn,`RPC '${t}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const S=R==null?void 0:R.error;if(S&&S.status&&S.message){const V=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(K)>=0?K:ft.UNKNOWN}(S.status);f(new Ct(V,S.message))}else f(new Ct(ft.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ct(ft.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{wt(yn,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(a);wt(yn,`RPC '${t}' ${l} sending request:`,a),p.send(e,"POST",m,r,15)})}Wo(t,e,r){const a=_m(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=QT(),f=KT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const _=l.join("");wt(yn,`Creating RPC '${t}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);let R=!1,S=!1;const V=new Sx({Fo:q=>{S?wt(yn,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(R||(wt(yn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),R=!0),wt(yn,`RPC '${t}' stream ${a} sending:`,q),T.send(q))},Mo:()=>T.close()}),B=(q,K,nt)=>{q.listen(K,J=>{try{nt(J)}catch(ct){setTimeout(()=>{throw ct},0)}})};return B(T,nu.EventType.OPEN,()=>{S||(wt(yn,`RPC '${t}' stream ${a} transport opened.`),V.Qo())}),B(T,nu.EventType.CLOSE,()=>{S||(S=!0,wt(yn,`RPC '${t}' stream ${a} transport closed`),V.Ko())}),B(T,nu.EventType.ERROR,q=>{S||(S=!0,Mo(yn,`RPC '${t}' stream ${a} transport errored:`,q),V.Ko(new Ct(ft.UNAVAILABLE,"The operation could not be completed")))}),B(T,nu.EventType.MESSAGE,q=>{var K;if(!S){const nt=q.data[0];fe(!!nt);const J=nt,ct=(J==null?void 0:J.error)||((K=J[0])===null||K===void 0?void 0:K.error);if(ct){wt(yn,`RPC '${t}' stream ${a} received error:`,ct);const ut=ct.status;let W=function(k){const U=ze[k];if(U!==void 0)return Sw(U)}(ut),z=ct.message;W===void 0&&(W=ft.INTERNAL,z="Unknown error status: "+ut+" with message "+ct.message),S=!0,V.Ko(new Ct(W,z)),T.close()}else wt(yn,`RPC '${t}' stream ${a} received:`,nt),V.Uo(nt)}}),B(f,GT.STAT_EVENT,q=>{q.stat===om.PROXY?wt(yn,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===om.NOPROXY&&wt(yn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n){return new xC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=e,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,e-r);a>0&&wt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class Bw{constructor(t,e,r,a,l,c,f,p){this.Ti=t,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Vw(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Mr(e.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===e&&this.V_(r,a)},r=>{t(()=>{const a=new Ct(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(t,e){const r=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return wt(oE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(wt(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rx extends Bw{constructor(t,e,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=OC(this.serializer,t),r=function(l){if(!("targetChange"in l))return Bt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Bt.min():c.readTime?$i(c.readTime):Bt.min()}(t);return this.listener.p_(e,r)}y_(t){const e={};e.database=gm(this.serializer),e.addTarget=function(l,c){let f;const p=c.target;if(f=hm(p)?{documents:UC(l,p)}:{query:PC(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Iw(l,c.resumeToken);const m=dm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Bt.min())>0){f.readTime=Ph(l,c.snapshotVersion.toTimestamp());const m=dm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,t);const r=VC(this.serializer,t);r&&(e.labels=r),this.I_(e)}w_(t){const e={};e.database=gm(this.serializer),e.removeTarget=t,this.I_(e)}}class Ix extends Bw{constructor(t,e,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return fe(!!t.streamToken),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=MC(t.writeResults,t.commitTime),r=$i(t.commitTime);return this.listener.v_(r,e)}C_(){const t={};t.database=gm(this.serializer),this.I_(t)}S_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>NC(this.serializer,r))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{}class xx extends Cx{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,e,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(t,pm(e,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ft.UNKNOWN,l.toString())})}Co(t,e,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(t,pm(e,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(ft.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kx{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mr(e),this.N_=!1):wt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class Dx{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{xa(this)&&(wt(ba,"Restarting streams for network reachability change."),await async function(p){const m=Ft(p);m.W_.add(4),await xu(m),m.j_.set("Unknown"),m.W_.delete(4),await hf(m)}(this))})}),this.j_=new kx(r,a)}}async function hf(n){if(xa(n))for(const t of n.G_)await t(!0)}async function xu(n){for(const t of n.G_)await t(!1)}function zw(n,t){const e=Ft(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),rg(e)?ig(e):Go(e).c_()&&ng(e,t))}function eg(n,t){const e=Ft(n),r=Go(e);e.U_.delete(t),r.c_()&&Fw(e,t),e.U_.size===0&&(r.c_()?r.P_():xa(e)&&e.j_.set("Unknown"))}function ng(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Go(n).y_(t)}function Fw(n,t){n.H_.Ne(t),Go(n).w_(t)}function ig(n){n.H_=new AC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.j_.B_()}function rg(n){return xa(n)&&!Go(n).u_()&&n.U_.size>0}function xa(n){return Ft(n).W_.size===0}function jw(n){n.H_=void 0}async function Ox(n){n.j_.set("Online")}async function Nx(n){n.U_.forEach((t,e)=>{ng(n,t)})}async function Mx(n,t){jw(n),rg(n)?(n.j_.q_(t),ig(n)):n.j_.set("Unknown")}async function Ux(n,t,e){if(n.j_.set("Online"),t instanceof Rw&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(n,t)}catch(r){wt(ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Vh(n,r)}else if(t instanceof Eh?n.H_.We(t):t instanceof Aw?n.H_.Ze(t):n.H_.je(t),!e.isEqual(Bt.min()))try{const r=await Lw(n.localStore);e.compareTo(r)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(fn.EMPTY_BYTE_STRING,_.snapshotVersion)),Fw(l,p);const T=new Ss(_.target,p,m,_.sequenceNumber);ng(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,e)}catch(r){wt(ba,"Failed to raise snapshot:",r),await Vh(n,r)}}async function Vh(n,t,e){if(!Ho(t))throw t;n.W_.add(1),await xu(n),n.j_.set("Offline"),e||(e=()=>Lw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{wt(ba,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await hf(n)})}function qw(n,t){return t().catch(e=>Vh(n,e,t))}async function ff(n){const t=Ft(n),e=Ms(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Fm;for(;Px(t);)try{const a=await yx(t.localStore,r);if(a===null){t.K_.length===0&&e.P_();break}r=a.batchId,Lx(t,a)}catch(a){await Vh(t,a)}Hw(t)&&Gw(t)}function Px(n){return xa(n)&&n.K_.length<10}function Lx(n,t){n.K_.push(t);const e=Ms(n);e.c_()&&e.b_&&e.S_(t.mutations)}function Hw(n){return xa(n)&&!Ms(n).u_()&&n.K_.length>0}function Gw(n){Ms(n).start()}async function Vx(n){Ms(n).C_()}async function Bx(n){const t=Ms(n);for(const e of n.K_)t.S_(e.mutations)}async function zx(n,t,e){const r=n.K_.shift(),a=Ym.from(r,t,e);await qw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await ff(n)}async function Fx(n,t){t&&Ms(n).b_&&await async function(r,a){if(function(c){return wC(c)&&c!==ft.ABORTED}(a.code)){const l=r.K_.shift();Ms(r).h_(),await qw(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await ff(r)}}(n,t),Hw(n)&&Gw(n)}async function lE(n,t){const e=Ft(n);e.asyncQueue.verifyOperationInProgress(),wt(ba,"RemoteStore received new credentials");const r=xa(e);e.W_.add(3),await xu(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await hf(e)}async function jx(n,t){const e=Ft(n);t?(e.W_.delete(2),await hf(e)):t||(e.W_.add(2),await xu(e),e.j_.set("Unknown"))}function Go(n){return n.J_||(n.J_=function(e,r,a){const l=Ft(e);return l.M_(),new Rx(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:Ox.bind(null,n),No:Nx.bind(null,n),Lo:Mx.bind(null,n),p_:Ux.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),rg(n)?ig(n):n.j_.set("Unknown")):(await n.J_.stop(),jw(n))})),n.J_}function Ms(n){return n.Y_||(n.Y_=function(e,r,a){const l=Ft(e);return l.M_(),new Ix(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Vx.bind(null,n),Lo:Fx.bind(null,n),D_:Bx.bind(null,n),v_:zx.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await ff(n)):(await n.Y_.stop(),n.K_.length>0&&(wt(ba,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const c=Date.now()+r,f=new sg(t,e,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(n,t){if(Mr("AsyncQueue",`${t}: ${n}`),Ho(n))return new Ct(ft.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||kt.comparator(e.key,r.key):(e,r)=>kt.comparator(e.key,r.key),this.keyedMap=iu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.Z_=new Re(kt.comparator)}track(t){const e=t.doc.key,r=this.Z_.get(e);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(e):t.type===1&&r.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Ut():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,r)=>{t.push(r)}),t}}class Bo{constructor(t,e,r,a,l,c,f,p,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,e,r,a,l){const c=[];return e.forEach(f=>{c.push({type:0,doc:f})}),new Bo(t,e,Co.emptySet(e),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Hx{constructor(){this.queries=cE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const a=Ft(e),l=a.queries;a.queries=cE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(r)})})(this,new Ct(ft.ABORTED,"Firestore shutting down"))}}function cE(){return new Ca(n=>fw(n),sf)}async function og(n,t){const e=Ft(n);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.na()&&t.ra()&&(r=2):(l=new qx,r=t.ra()?0:1);try{switch(r){case 0:l.ea=await e.onListen(a,!0);break;case 1:l.ea=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const f=ag(c,`Initialization of query '${bo(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.ta.push(t),t.sa(e.onlineState),l.ea&&t.oa(l.ea)&&ug(e)}async function lg(n,t){const e=Ft(n),r=t.query;let a=3;const l=e.queries.get(r);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Gx(n,t){const e=Ft(n);let r=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(r=!0);c.ea=a}}r&&ug(e)}function Kx(n,t,e){const r=Ft(n),a=r.queries.get(t);if(a)for(const l of a.ta)l.onError(e);r.queries.delete(t)}function ug(n){n.ia.forEach(t=>{t.next()})}var vm,hE;(hE=vm||(vm={}))._a="default",hE.Cache="cache";class cg{constructor(t,e,r){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const r=e!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.key=t}}class Qw{constructor(t){this.key=t}}class Qx{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Wt(),this.mutatedKeys=Wt(),this.ya=dw(t),this.wa=new Co(this.ya)}get ba(){return this.fa}Sa(t,e){const r=e?e.Da:new uE,a=e?e.wa:this.wa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((_,T)=>{const R=a.get(_),S=af(this.query,T)?T:null,V=!!R&&this.mutatedKeys.has(R.key),B=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let q=!1;R&&S?R.data.isEqual(S.data)?V!==B&&(r.track({type:3,doc:S}),q=!0):this.va(R,S)||(r.track({type:2,doc:S}),q=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(f=!0)):!R&&S?(r.track({type:0,doc:S}),q=!0):R&&!S&&(r.track({type:1,doc:R}),q=!0,(p||m)&&(f=!0)),q&&(S?(c=c.add(S),l=B?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:c,Da:r,ls:f,mutatedKeys:l}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((_,T)=>function(S,V){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut()}};return B(S)-B(V)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(r),a=a!=null&&a;const f=e&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Bo(this.query,t.wa,l,c,t.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new uE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Wt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return t.forEach(r=>{this.pa.has(r)||e.push(new Qw(r))}),this.pa.forEach(r=>{t.has(r)||e.push(new Kw(r))}),e}Oa(t){this.fa=t.gs,this.pa=Wt();const e=this.Sa(t.documents);return this.applyChanges(e,!0)}Na(){return Bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hg="SyncEngine";class Yx{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Xx{constructor(t){this.key=t,this.Ba=!1}}class $x{constructor(t,e,r,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ca(f=>fw(f),sf),this.qa=new Map,this.Qa=new Set,this.$a=new Re(kt.comparator),this.Ka=new Map,this.Ua=new Wm,this.Wa={},this.Ga=new Map,this.za=Vo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Wx(n,t,e=!0){const r=Jw(n);let a;const l=r.ka.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Yw(r,t,e,!0),a}async function Zx(n,t){const e=Jw(n);await Yw(e,t,!0,!1)}async function Yw(n,t,e,r){const a=await _x(n.localStore,Xi(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let f;return r&&(f=await Jx(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&zw(n.remoteStore,a),f}async function Jx(n,t,e,r,a){n.Ha=(T,R,S)=>async function(B,q,K,nt){let J=q.view.Sa(K);J.ls&&(J=await iE(B.localStore,q.query,!1).then(({documents:z})=>q.view.Sa(z,J)));const ct=nt&&nt.targetChanges.get(q.targetId),ut=nt&&nt.targetMismatches.get(q.targetId)!=null,W=q.view.applyChanges(J,B.isPrimaryClient,ct,ut);return dE(B,q.targetId,W.Ma),W.snapshot}(n,T,R,S);const l=await iE(n.localStore,t,!0),c=new Qx(t,l.gs),f=c.Sa(l.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,p);dE(n,e,m.Ma);const _=new Yx(t,e,c);return n.ka.set(t,_),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),m.snapshot}async function tk(n,t,e){const r=Ft(n),a=r.ka.get(t),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!sf(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ym(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),e&&eg(r.remoteStore,a.targetId),Em(r,a.targetId)}).catch(qo)):(Em(r,a.targetId),await ym(r.localStore,a.targetId,!0))}async function ek(n,t){const e=Ft(n),r=e.ka.get(t),a=e.qa.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),eg(e.remoteStore,r.targetId))}async function nk(n,t,e){const r=uk(n);try{const a=await function(c,f){const p=Ft(c),m=Xe.now(),_=f.reduce((S,V)=>S.add(V.key),Wt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let V=Ur(),B=Wt();return p.ds.getEntries(S,_).next(q=>{V=q,V.forEach((K,nt)=>{nt.isValidDocument()||(B=B.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,V)).next(q=>{T=q;const K=[];for(const nt of f){const J=yC(nt,T.get(nt.key).overlayedDocument);J!=null&&K.push(new Vs(nt.key,J,sw(J.value.mapValue),Ii.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,K,f)}).next(q=>{R=q;const K=q.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(S,q.batchId,K)})}).then(()=>({batchId:R.batchId,changes:mw(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Re(Jt)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(r,a.batchId,e),await ku(r,a.changes),await ff(r.remoteStore)}catch(a){const l=ag(a,"Failed to persist write");e.reject(l)}}async function Xw(n,t){const e=Ft(n);try{const r=await mx(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Ka.get(l);c&&(fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?fe(c.Ba):a.removedDocuments.size>0&&(fe(c.Ba),c.Ba=!1))}),await ku(e,r,t)}catch(r){await qo(r)}}function fE(n,t,e){const r=Ft(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.ka.forEach((l,c)=>{const f=c.view.sa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Ft(c);p.onlineState=f;let m=!1;p.queries.forEach((_,T)=>{for(const R of T.ta)R.sa(f)&&(m=!0)}),m&&ug(p)}(r.eventManager,t),a.length&&r.La.p_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ik(n,t,e){const r=Ft(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Ka.get(t),l=a&&a.key;if(l){let c=new Re(kt.comparator);c=c.insert(l,vn.newNoDocument(l,Bt.min()));const f=Wt().add(l),p=new uf(Bt.min(),new Map,new Re(Jt),c,f);await Xw(r,p),r.$a=r.$a.remove(l),r.Ka.delete(t),fg(r)}else await ym(r.localStore,t,!1).then(()=>Em(r,t,e)).catch(qo)}async function rk(n,t){const e=Ft(n),r=t.batch.batchId;try{const a=await px(e.localStore,t);Ww(e,r,null),$w(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await ku(e,a)}catch(a){await qo(a)}}async function sk(n,t,e){const r=Ft(n);try{const a=await function(c,f){const p=Ft(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,f).next(T=>(fe(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(r.localStore,t);Ww(r,t,e),$w(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await ku(r,a)}catch(a){await qo(a)}}function $w(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function Ww(n,t,e){const r=Ft(n);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function Em(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.qa.get(t))n.ka.delete(r),e&&n.La.Ja(r,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.Sr(t).forEach(r=>{n.Ua.containsKey(r)||Zw(n,r)})}function Zw(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(eg(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),fg(n))}function dE(n,t,e){for(const r of e)r instanceof Kw?(n.Ua.addReference(r.key,t),ak(n,r)):r instanceof Qw?(wt(hg,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,t),n.Ua.containsKey(r.key)||Zw(n,r.key)):Ut()}function ak(n,t){const e=t.key,r=e.path.canonicalString();n.$a.get(e)||n.Qa.has(r)||(wt(hg,"New document in limbo: "+e),n.Qa.add(r),fg(n))}function fg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new kt(we.fromString(t)),r=n.za.next();n.Ka.set(r,new Xx(e)),n.$a=n.$a.insert(e,r),zw(n.remoteStore,new Ss(Xi(rf(e.path)),r,"TargetPurposeLimboResolution",Jh.ae))}}async function ku(n,t,e){const r=Ft(n),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((f,p)=>{c.push(r.Ha(p,t,e).then(m=>{var _;if((m||e)&&r.isPrimaryClient){const T=m?!m.fromCache:(_=e==null?void 0:e.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=Jm.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(c),r.La.p_(a),await async function(p,m){const _=Ft(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>lt.forEach(m,R=>lt.forEach(R.Hi,S=>_.persistence.referenceDelegate.addReference(T,R.targetId,S)).next(()=>lt.forEach(R.Ji,S=>_.persistence.referenceDelegate.removeReference(T,R.targetId,S)))))}catch(T){if(!Ho(T))throw T;wt(tg,"Failed to update sequence numbers: "+T)}for(const T of m){const R=T.targetId;if(!T.fromCache){const S=_.Ts.get(R),V=S.snapshotVersion,B=S.withLastLimboFreeSnapshotVersion(V);_.Ts=_.Ts.insert(R,B)}}}(r.localStore,l))}async function ok(n,t){const e=Ft(n);if(!e.currentUser.isEqual(t)){wt(hg,"User change. New user:",t.toKey());const r=await Pw(e.localStore,t);e.currentUser=t,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ct(ft.CANCELLED,c))})}),l.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ku(e,r.Rs)}}function lk(n,t){const e=Ft(n),r=e.Ka.get(t);if(r&&r.Ba)return Wt().add(r.key);{let a=Wt();const l=e.qa.get(t);if(!l)return a;for(const c of l){const f=e.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function Jw(n){const t=Ft(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ik.bind(null,t),t.La.p_=Gx.bind(null,t.eventManager),t.La.Ja=Kx.bind(null,t.eventManager),t}function uk(n){const t=Ft(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,t),t}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return dx(this.persistence,new cx,t.initialUser,this.serializer)}Xa(t){return new Uw(Zm.ri,this.serializer)}Za(t){return new Ex}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class ck extends Bh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){fe(this.persistence.referenceDelegate instanceof Lh);const r=this.persistence.referenceDelegate.garbageCollector;return new XC(r,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new Uw(r=>Lh.ri(r,e),this.serializer)}}class Tm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Hx}()}createDatastore(t){const e=cf(t.databaseInfo.databaseId),r=function(l){return new Ax(l)}(t.databaseInfo);return function(l,c,f,p){return new xx(l,c,f,p)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,a,l,c,f){return new Dx(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,e=>fE(this.syncEngine,e,0),function(){return aE.D()?new aE:new Tx}())}createSyncEngine(t,e){return function(a,l,c,f,p,m,_){const T=new $x(a,l,c,f,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=Ft(a);wt(ba,"RemoteStore shutting down."),l.W_.add(5),await xu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class hk{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=XT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{wt(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(wt(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=ag(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Lp(n,t){n.asyncQueue.verifyOperationInProgress(),wt(Us,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Pw(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function pE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await fk(n);wt(Us,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>lE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>lE(t.remoteStore,a)),n._onlineComponents=t}async function fk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){wt(Us,"Using user provided OfflineComponentProvider");try{await Lp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===ft.FAILED_PRECONDITION||a.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Mo("Error using user provided cache. Falling back to memory cache: "+e),await Lp(n,new Bh)}}else wt(Us,"Using default OfflineComponentProvider"),await Lp(n,new ck(void 0));return n._offlineComponents}async function tb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(wt(Us,"Using user provided OnlineComponentProvider"),await pE(n,n._uninitializedComponentsProvider._online)):(wt(Us,"Using default OnlineComponentProvider"),await pE(n,new Tm))),n._onlineComponents}function dk(n){return tb(n).then(t=>t.syncEngine)}async function zh(n){const t=await tb(n),e=t.eventManager;return e.onListen=Wx.bind(null,t.syncEngine),e.onUnlisten=tk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Zx.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ek.bind(null,t.syncEngine),e}function pk(n,t,e={}){const r=new Dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new dg({next:R=>{_.su(),c.enqueueAndForget(()=>lg(l,T));const S=R.docs.has(f);!S&&R.fromCache?m.reject(new Ct(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&R.fromCache&&p&&p.source==="server"?m.reject(new Ct(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new cg(rf(f.path),_,{includeMetadataChanges:!0,Ta:!0});return og(l,T)}(await zh(n),n.asyncQueue,t,e,r)),r.promise}function mk(n,t,e={}){const r=new Dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new dg({next:R=>{_.su(),c.enqueueAndForget(()=>lg(l,T)),R.fromCache&&p.source==="server"?m.reject(new Ct(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new cg(f,_,{includeMetadataChanges:!0,Ta:!0});return og(l,T)}(await zh(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n,t,e){if(!e)throw new Ct(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function gk(n,t,e,r){if(t===!0&&r===!0)throw new Ct(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function gE(n){if(!kt.isDocumentKey(n))throw new Ct(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yE(n){if(kt.isDocumentKey(n))throw new Ct(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ut()}function yi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=pg(n);throw new Ct(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firestore.googleapis.com",_E=!0;class vE{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ib,this.ssl=_E}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:_E;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QC)throw new Ct(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ct(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class df{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bI;switch(r.type){case"firstParty":return new II(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=mE.get(e);r&&(wt("ComponentProvider","Removing Datastore"),mE.delete(e),r.terminate())}(this),Promise.resolve()}}function yk(n,t,e,r={}){var a;const l=(n=yi(n,df))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;l.host!==ib&&l.host!==f&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!Ea(p,c)&&(n._setSettings(p),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=_n.MOCK_USER;else{m=PT(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ct(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(T)}n._authCredentials=new SI(new YT(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Du(this.firestore,t,this._query)}}class Pn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pn(this.firestore,t,this._key)}}class Cs extends Du{constructor(t,e,r){super(t,e,rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pn(this.firestore,null,new kt(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function pf(n,t,...e){if(n=je(n),nb("collection","path",t),n instanceof df){const r=we.fromString(t,...e);return yE(r),new Cs(n,null,r)}{if(!(n instanceof Pn||n instanceof Cs))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(t,...e));return yE(r),new Cs(n.firestore,null,r)}}function Fh(n,t,...e){if(n=je(n),arguments.length===1&&(t=XT.newId()),nb("doc","path",t),n instanceof df){const r=we.fromString(t,...e);return gE(r),new Pn(n,null,new kt(r))}{if(!(n instanceof Pn||n instanceof Cs))throw new Ct(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(we.fromString(t,...e));return gE(r),new Pn(n.firestore,n instanceof Cs?n.converter:null,new kt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class TE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Vw(this,"async_queue_retry"),this.bu=()=>{const r=Pp();r&&wt(EE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=t;const e=Pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=Pp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ho(t))throw t;wt(EE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.Su.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=e,e}enqueueAfterDelay(t,e,r){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const a=sg.createAndSchedule(this,t,e,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ut()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function wE(n){return function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ps extends df{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new TE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new TE(t),this._firestoreClient=void 0,await t}}}function _k(n,t){const e=typeof n=="object"?n:Bm(),r=typeof n=="string"?n:kh,a=Zh(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=NT("firestore");l&&yk(a,...l)}return a}function mf(n){if(n._terminated)throw new Ct(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vk(n),n._firestoreClient}function vk(n){var t,e,r;const a=n._freezeSettings(),l=function(f,p,m,_){return new FI(f,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,eb(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new hk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zo(fn.fromBase64String(t))}catch(e){throw new Ct(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zo(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/^__.*__$/;class Tk{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Iu(t,this.data,e,this.fieldTransforms)}}class rb{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Vs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function sb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class _g{constructor(t,e,r,a,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new _g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:r,Qu:!1});return a.$u(t),a}Ku(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return jh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(sb(this.Lu)&&Ek.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class wk{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||cf(t)}ju(t,e,r,a=!1){return new _g({Lu:t,methodName:e,zu:r,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ab(n){const t=n._freezeSettings(),e=cf(n._databaseId);return new wk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function bk(n,t,e,r,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,t,e,a);vg("Data must be an object, but it was:",c,r);const f=ob(r,c);let p,m;if(l.merge)p=new $n(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const R=wm(t,T,e);if(!c.contains(R))throw new Ct(ft.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);ub(_,R)||_.push(R)}p=new $n(_),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new Tk(new Un(f),p,m)}class yf extends mg{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yf}}function Sk(n,t,e,r){const a=n.ju(1,t,e);vg("Data must be an object, but it was:",a,r);const l=[],c=Un.empty();Ls(r,(p,m)=>{const _=Eg(t,p,e);m=je(m);const T=a.Ku(_);if(m instanceof yf)l.push(_);else{const R=_f(m,T);R!=null&&(l.push(_),c.set(_,R))}});const f=new $n(l);return new rb(c,f,a.fieldTransforms)}function Ak(n,t,e,r,a,l){const c=n.ju(1,t,e),f=[wm(t,r,e)],p=[a];if(l.length%2!=0)throw new Ct(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(wm(t,l[R])),p.push(l[R+1]);const m=[],_=Un.empty();for(let R=f.length-1;R>=0;--R)if(!ub(m,f[R])){const S=f[R];let V=p[R];V=je(V);const B=c.Ku(S);if(V instanceof yf)m.push(S);else{const q=_f(V,B);q!=null&&(m.push(S),_.set(S,q))}}const T=new $n(m);return new rb(_,T,c.fieldTransforms)}function _f(n,t){if(lb(n=je(n)))return vg("Unsupported field value:",t,n),ob(n,t);if(n instanceof mg)return function(r,a){if(!sb(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let p=_f(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,t)}return function(r,a){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hC(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Xe.fromDate(r);return{timestampValue:Ph(a.serializer,l)}}if(r instanceof Xe){const l=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ph(a.serializer,l)}}if(r instanceof gg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:Iw(a.serializer,r._byteString)};if(r instanceof Pn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$m(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof yg)return function(c,f){return{mapValue:{fields:{[iw]:{stringValue:rw},[Dh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Km(f.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${pg(r)}`)}(n,t)}function ob(n,t){const e={};return WT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(n,(r,a)=>{const l=_f(a,t.qu(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function lb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof gg||n instanceof zo||n instanceof Pn||n instanceof mg||n instanceof yg)}function vg(n,t,e){if(!lb(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const r=pg(e);throw r==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+r)}}function wm(n,t,e){if((t=je(t))instanceof gf)return t._internalPath;if(typeof t=="string")return Eg(n,t);throw jh("Field path arguments must be of type string or ",n,!1,void 0,e)}const Rk=new RegExp("[~\\*/\\[\\]]");function Eg(n,t,e){if(t.search(Rk)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gf(...t.split("."))._internalPath}catch{throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function jh(n,t,e,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new Ct(ft.INVALID_ARGUMENT,f+n+p)}function ub(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Ik extends cb{data(){return super.data()}}function hb(n,t){return typeof t=="string"?Eg(n,t):t instanceof gf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ck{convertValue(t,e="none"){switch(Ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Ls(t,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,a;const l=(a=(r=(e=t.fields)===null||e===void 0?void 0:e[Dh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Pe(c.doubleValue));return new yg(l)}convertGeoPoint(t){return new gg(Pe(t.latitude),Pe(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=ef(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(yu(t));default:return null}}convertTimestamp(t){const e=Ds(t);return new Xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=we.fromString(t);fe(Nw(r));const a=new _u(r.get(1),r.get(3)),l=new kt(r.popFirst(5));return a.isEqual(e)||Mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n,t,e){let r;return r=n?n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class db extends cb{constructor(t,e,r,a,l,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(hb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Th extends db{data(t={}){return super.data(t)}}class pb{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Th(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new Th(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Th(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:kk(f.type),doc:p,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function kk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){n=yi(n,Pn);const t=yi(n.firestore,Ps);return pk(mf(t),n._key).then(e=>gb(t,n,e))}class Tg extends Ck{constructor(t){super(),this.firestore=t}convertBytes(t){return new zo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pn(this.firestore,null,e)}}function Ok(n){n=yi(n,Du);const t=yi(n.firestore,Ps),e=mf(t),r=new Tg(t);return fb(n._query),mk(e,n._query).then(a=>new pb(t,r,n,a))}function Nk(n,t,e,...r){n=yi(n,Pn);const a=yi(n.firestore,Ps),l=ab(a);let c;return c=typeof(t=je(t))=="string"||t instanceof gf?Ak(l,"updateDoc",n._key,t,e,r):Sk(l,"updateDoc",n._key,t),wg(a,[c.toMutation(n._key,Ii.exists(!0))])}function Mk(n){return wg(yi(n.firestore,Ps),[new Qm(n._key,Ii.none())])}function Uk(n,t){const e=yi(n.firestore,Ps),r=Fh(n),a=xk(n.converter,t);return wg(e,[bk(ab(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Ii.exists(!1))]).then(()=>r)}function mb(n,...t){var e,r,a;n=je(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||wE(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(wE(t[c])){const T=t[c];t[c]=(e=T.next)===null||e===void 0?void 0:e.bind(T),t[c+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),t[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let p,m,_;if(n instanceof Pn)m=yi(n.firestore,Ps),_=rf(n._key.path),p={next:T=>{t[c]&&t[c](gb(m,n,T))},error:t[c+1],complete:t[c+2]};else{const T=yi(n,Du);m=yi(T.firestore,Ps),_=T._query;const R=new Tg(m);p={next:S=>{t[c]&&t[c](new pb(m,R,T,S))},error:t[c+1],complete:t[c+2]},fb(n._query)}return function(R,S,V,B){const q=new dg(B),K=new cg(S,q,V);return R.asyncQueue.enqueueAndForget(async()=>og(await zh(R),K)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>lg(await zh(R),K))}}(mf(m),_,f,p)}function wg(n,t){return function(r,a){const l=new Dr;return r.asyncQueue.enqueueAndForget(async()=>nk(await dk(r),a,l)),l.promise}(mf(n),t)}function gb(n,t,e){const r=e.docs.get(t._key),a=new Tg(n);return new db(n,a,t._key,r,new su(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){jo=a})(Ia),Ta(new xs("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Ps(new AI(r.getProvider("auth-internal")),new CI(c,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ct(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(m.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Yi(C0,x0,t),Yi(C0,x0,"esm2017")})();var Pk="firebase",Lk="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(Pk,Lk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebasestorage.googleapis.com",_b="storageBucket",Vk=2*60*1e3,Bk=10*60*1e3,zk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie extends nr{constructor(t,e,r=0){super(Vp(t),`Firebase Storage: ${e} (${Vp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ie.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Vp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Vp(n){return"storage/"+n}function bg(){const n="An unknown error occurred, please check the error payload for server response.";return new Ie(Te.UNKNOWN,n)}function Fk(n){return new Ie(Te.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function jk(n){return new Ie(Te.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qk(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ie(Te.UNAUTHENTICATED,n)}function Hk(){return new Ie(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gk(n){return new Ie(Te.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function vb(){return new Ie(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Eb(){return new Ie(Te.CANCELED,"User canceled the upload/download.")}function Kk(n){return new Ie(Te.INVALID_URL,"Invalid URL '"+n+"'.")}function Qk(n){return new Ie(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Yk(){return new Ie(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_b+"' property when initializing the app?")}function Tb(){return new Ie(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xk(){return new Ie(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function $k(){return new Ie(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Wk(n){return new Ie(Te.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bm(n){return new Ie(Te.INVALID_ARGUMENT,n)}function wb(){return new Ie(Te.APP_DELETED,"The Firebase app was deleted.")}function Zk(n){return new Ie(Te.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(n,t){return new Ie(Te.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Jl(n){throw new Ie(Te.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Wn.makeFromUrl(t,e)}catch{return new Wn(t,"")}if(r.path==="")return r;throw Qk(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ct){ct.path.charAt(ct.path.length-1)==="/"&&(ct.path_=ct.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(ct){ct.path_=decodeURIComponent(ct.path)}const _="v[A-Za-z0-9_]+",T=e.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",S=new RegExp(`^https?://${T}/${_}/b/${a}/o${R}`,"i"),V={bucket:1,path:3},B=e===yb?"(?:storage.googleapis.com|storage.cloud.google.com)":e,q="([^?#]*)",K=new RegExp(`^https?://${B}/${a}/${q}`,"i"),J=[{regex:f,indices:p,postModify:l},{regex:S,indices:V,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let ct=0;ct<J.length;ct++){const ut=J[ct],W=ut.regex.exec(t);if(W){const z=W[ut.indices.bucket];let N=W[ut.indices.path];N||(N=""),r=new Wn(z,N),ut.postModify(r);break}}if(r==null)throw Kk(t);return r}}class Jk{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n,t,e){let r=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function _(...q){m||(m=!0,t.apply(null,q))}function T(q){a=setTimeout(()=>{a=null,n(S,p())},q)}function R(){l&&clearTimeout(l)}function S(q,...K){if(m){R();return}if(q){R(),_.call(null,q,...K);return}if(p()||c){R(),_.call(null,q,...K);return}r<64&&(r*=2);let J;f===1?(f=2,J=0):J=(r+Math.random())*1e3,T(J)}let V=!1;function B(q){V||(V=!0,R(),!m&&(a!==null?(q||(f=2),clearTimeout(a),T(0)):q||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,B(!0)},e),B}function eD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){return n!==void 0}function iD(n){return typeof n=="function"}function rD(n){return typeof n=="object"&&!Array.isArray(n)}function vf(n){return typeof n=="string"||n instanceof String}function bE(n){return Sg()&&n instanceof Blob}function Sg(){return typeof Blob<"u"}function SE(n,t,e,r){if(r<t)throw bm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw bm(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n,t,e){let r=t;return e==null&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function bb(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const a=t(r)+"="+t(n[r]);e=e+a+"&"}return e=e.slice(0,-1),e}var _a;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(_a||(_a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,e,r,a,l,c,f,p,m,_,T,R=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=T,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,V)=>{this.resolve_=S,this.reject_=V,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new ch(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===_a.NO_ERROR,p=l.getStatus();if(!f||Sb(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===_a.ABORT;r(!1,new ch(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new ch(m,l))})},e=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());nD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=bg();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?wb():Eb();c(p)}else{const p=vb();c(p)}};this.canceled_?e(!1,new ch(!1,null,!0)):this.backoffId_=tD(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function aD(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function oD(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function lD(n,t){t&&(n["X-Firebase-GMPID"]=t)}function uD(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function cD(n,t,e,r,a,l,c=!0){const f=bb(n.urlParams),p=n.url+f,m=Object.assign({},n.headers);return lD(m,t),aD(m,e),oD(m,l),uD(m,r),new sD(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fD(...n){const t=hD();if(t!==void 0){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}else{if(Sg())return new Blob(n);throw new Ie(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dD(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){if(typeof atob>"u")throw Wk("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bp{constructor(t,e){this.data=t,this.contentType=e||null}}function mD(n,t){switch(n){case Qi.RAW:return new Bp(Ab(t));case Qi.BASE64:case Qi.BASE64URL:return new Bp(Rb(n,t));case Qi.DATA_URL:return new Bp(yD(t),_D(t))}throw bg()}function Ab(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const l=r,c=n.charCodeAt(++e);r=65536|(l&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function gD(n){let t;try{t=decodeURIComponent(n)}catch{throw cu(Qi.DATA_URL,"Malformed data URL.")}return Ab(t)}function Rb(n,t){switch(n){case Qi.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw cu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Qi.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw cu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=pD(t)}catch(a){throw a.message.includes("polyfill")?a:cu(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}class Ib{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw cu(Qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;r!=null&&(this.base64=vD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function yD(n){const t=new Ib(n);return t.base64?Rb(Qi.BASE64,t.rest):gD(t.rest)}function _D(n){return new Ib(n).contentType}function vD(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,e){let r=0,a="";bE(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(bE(this.data_)){const r=this.data_,a=dD(r,t,e);return a===null?null:new Es(a)}else{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Es(r,!0)}}static getBlob(...t){if(Sg()){const e=t.map(r=>r instanceof Es?r.data_:r);return new Es(fD.apply(null,e))}else{const e=t.map(c=>vf(c)?mD(Qi.RAW,c).data:c.data_);let r=0;e.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return e.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Es(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){let t;try{t=JSON.parse(n)}catch{return null}return rD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function TD(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?e:n+"/"+e}function xb(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n,t){return t}class In{constructor(t,e,r,a){this.server=t,this.local=e||t,this.writable=!!r,this.xform=a||wD}}let hh=null;function bD(n){return!vf(n)||n.length<2?n:xb(n)}function kb(){if(hh)return hh;const n=[];n.push(new In("bucket")),n.push(new In("generation")),n.push(new In("metageneration")),n.push(new In("name","fullPath",!0));function t(l,c){return bD(c)}const e=new In("name");e.xform=t,n.push(e);function r(l,c){return c!==void 0?Number(c):c}const a=new In("size");return a.xform=r,n.push(a),n.push(new In("timeCreated")),n.push(new In("updated")),n.push(new In("md5Hash",null,!0)),n.push(new In("cacheControl",null,!0)),n.push(new In("contentDisposition",null,!0)),n.push(new In("contentEncoding",null,!0)),n.push(new In("contentLanguage",null,!0)),n.push(new In("contentType",null,!0)),n.push(new In("metadata","customMetadata",!0)),hh=n,hh}function SD(n,t){function e(){const r=n.bucket,a=n.fullPath,l=new Wn(r,a);return t._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:e})}function AD(n,t,e){const r={};r.type="file";const a=e.length;for(let l=0;l<a;l++){const c=e[l];r[c.local]=c.xform(r,t[c.server])}return SD(r,n),r}function Db(n,t,e){const r=Cb(t);return r===null?null:AD(n,r,e)}function RD(n,t,e,r){const a=Cb(t);if(a===null||!vf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const _=n.bucket,T=n.fullPath,R="/b/"+c(_)+"/o/"+c(T),S=Ou(R,e,r),V=bb({alt:"media",token:m});return S+V})[0]}function Ob(n,t){const e={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}class Ko{constructor(t,e,r,a){this.url=t,this.method=e,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n){if(!n)throw bg()}function Ag(n,t){function e(r,a){const l=Db(n,a,t);return Or(l!==null),l}return e}function ID(n,t){function e(r,a){const l=Db(n,a,t);return Or(l!==null),RD(l,a,n.host,n._protocol)}return e}function Nu(n){function t(e,r){let a;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?a=Hk():a=qk():e.getStatus()===402?a=jk(n.bucket):e.getStatus()===403?a=Gk(n.path):a=r,a.status=e.getStatus(),a.serverResponse=r.serverResponse,a}return t}function Nb(n){const t=Nu(n);function e(r,a){let l=t(r,a);return r.getStatus()===404&&(l=Fk(n.path)),l.serverResponse=a.serverResponse,l}return e}function CD(n,t,e){const r=t.fullServerUrl(),a=Ou(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new Ko(a,l,Ag(n,e),c);return f.errorHandler=Nb(t),f}function xD(n,t,e){const r=t.fullServerUrl(),a=Ou(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new Ko(a,l,ID(n,e),c);return f.errorHandler=Nb(t),f}function kD(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function Mb(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=kD(null,t)),r}function DD(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let J="";for(let ct=0;ct<2;ct++)J=J+Math.random().toString().slice(2);return J}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=Mb(t,r,a),_=Ob(m,e),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,R=`\r
--`+p+"--",S=Es.getBlob(T,r,R);if(S===null)throw Tb();const V={name:m.fullPath},B=Ou(l,n.host,n._protocol),q="POST",K=n.maxUploadRetryTime,nt=new Ko(B,q,Ag(n,e),K);return nt.urlParams=V,nt.headers=c,nt.body=S.uploadData(),nt.errorHandler=Nu(t),nt}class qh{constructor(t,e,r,a){this.current=t,this.total=e,this.finalized=!!r,this.metadata=a||null}}function Rg(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Or(!1)}return Or(!!e&&(t||["active"]).indexOf(e)!==-1),e}function OD(n,t,e,r,a){const l=t.bucketOnlyServerUrl(),c=Mb(t,r,a),f={name:c.fullPath},p=Ou(l,n.host,n._protocol),m="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Ob(c,e),R=n.maxUploadRetryTime;function S(B){Rg(B);let q;try{q=B.getResponseHeader("X-Goog-Upload-URL")}catch{Or(!1)}return Or(vf(q)),q}const V=new Ko(p,m,S,R);return V.urlParams=f,V.headers=_,V.body=T,V.errorHandler=Nu(t),V}function ND(n,t,e,r){const a={"X-Goog-Upload-Command":"query"};function l(m){const _=Rg(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Or(!1)}T||Or(!1);const R=Number(T);return Or(!isNaN(R)),new qh(R,r.size(),_==="final")}const c="POST",f=n.maxUploadRetryTime,p=new Ko(e,c,l,f);return p.headers=a,p.errorHandler=Nu(t),p}const AE=256*1024;function MD(n,t,e,r,a,l,c,f){const p=new qh(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw Xk();const m=p.total-p.current;let _=m;a>0&&(_=Math.min(_,a));const T=p.current,R=T+_;let S="";_===0?S="finalize":m===_?S="upload, finalize":S="upload";const V={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${p.current}`},B=r.slice(T,R);if(B===null)throw Tb();function q(ct,ut){const W=Rg(ct,["active","final"]),z=p.current+_,N=r.size();let k;return W==="final"?k=Ag(t,l)(ct,ut):k=null,new qh(z,N,W==="final",k)}const K="POST",nt=t.maxUploadRetryTime,J=new Ko(e,K,q,nt);return J.headers=V,J.body=B.uploadData(),J.progressCallback=f||null,J.errorHandler=Nu(n),J}const Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zp(n){switch(n){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;case"error":return Mn.ERROR;default:return Mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,e,r){if(iD(t)||e!=null||r!=null)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class PD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_a.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_a.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_a.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,a){if(this.sent_)throw Jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class LD extends PD{initXhr(){this.xhr_.responseType="text"}}function Ro(){return new LD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=kb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Sb(a.status,[]))if(l)a=vb();else{this.sleepTime=Math.max(this.sleepTime*2,zk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,e)=>{const r=OD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Ro,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const a=ND(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,Ro,e,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=AE*this._chunkMultiplier,e=new qh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=MD(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Ro,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){AE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=CD(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Ro,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=DD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Ro,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e=this._state==="paused";this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Eb(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=zp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,a){const l=new UD(e||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);e!==-1&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(zp(this._state)){case Mn.SUCCESS:vo(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:const e=this._reject;vo(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(zp(this._state)){case Mn.RUNNING:case Mn.PAUSED:t.next&&vo(t.next.bind(t,this.snapshot))();break;case Mn.SUCCESS:t.complete&&vo(t.complete.bind(t))();break;case Mn.CANCELED:case Mn.ERROR:t.error&&vo(t.error.bind(t,this._error))();break;default:t.error&&vo(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,e){this._service=t,e instanceof Wn?this._location=e:this._location=Wn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Sa(t,e)}get root(){const t=new Wn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xb(this._location.path)}get storage(){return this._service}get parent(){const t=ED(this._location.path);if(t===null)return null;const e=new Wn(this._location.bucket,t);return new Sa(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Zk(t)}}function BD(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new VD(n,new Es(t),e)}function zD(n){n._throwIfRoot("getDownloadURL");const t=xD(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(t,Ro).then(e=>{if(e===null)throw $k();return e})}function FD(n,t){const e=TD(n._location.path,t),r=new Wn(n._location.bucket,e);return new Sa(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){return/^[A-Za-z]+:\/\//.test(n)}function qD(n,t){return new Sa(n,t)}function Ub(n,t){if(n instanceof Ig){const e=n;if(e._bucket==null)throw Yk();const r=new Sa(e,e._bucket);return t!=null?Ub(r,t):r}else return t!==void 0?FD(n,t):n}function HD(n,t){if(t&&jD(t)){if(n instanceof Ig)return qD(n,t);throw bm("To use ref(service, url), the first argument must be a Storage instance.")}else return Ub(n,t)}function RE(n,t){const e=t==null?void 0:t[_b];return e==null?null:Wn.makeFromBucketSpec(e,n)}function GD(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:PT(a,n.app.options.projectId))}class Ig{constructor(t,e,r,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=yb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vk,this._maxUploadRetryTime=Bk,this._requests=new Set,a!=null?this._bucket=Wn.makeFromBucketSpec(a,this._host):this._bucket=RE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,t):this._bucket=RE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){SE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){SE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Sa(this,t)}_makeRequest(t,e,r,a,l=!0){if(this._deleted)return new Jk(wb());{const c=cD(t,this._appId,r,a,e,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,a).getPromise()}}const IE="@firebase/storage",CE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="storage";function Lb(n,t,e){return n=je(n),BD(n,t,e)}function Vb(n){return n=je(n),zD(n)}function Bb(n,t){return n=je(n),HD(n,t)}function KD(n=Bm(),t){n=je(n);const r=Zh(n,Pb).getImmediate({identifier:t}),a=NT("storage");return a&&QD(r,...a),r}function QD(n,t,e,r={}){GD(n,t,e,r)}function YD(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Ig(e,r,a,t,Ia)}function XD(){Ta(new xs(Pb,YD,"PUBLIC").setMultipleInstances(!0)),Yi(IE,CE,""),Yi(IE,CE,"esm2017")}XD();function Cg(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e}function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $D=zb,Fb=new Au("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Lm("@firebase/auth");function WD(n,...t){Hh.logLevel<=$t.WARN&&Hh.warn(`Auth (${Ia}): ${n}`,...t)}function wh(n,...t){Hh.logLevel<=$t.ERROR&&Hh.error(`Auth (${Ia}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(n,...t){throw xg(n,...t)}function Wi(n,...t){return xg(n,...t)}function jb(n,t,e){const r=Object.assign(Object.assign({},$D()),{[t]:e});return new Au("auth","Firebase",r).create(t,{appName:n.name})}function va(n){return jb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Fb.create(n,...t)}function Lt(n,t,...e){if(!n)throw xg(t,...e)}function Cr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw wh(t),new Error(t)}function Lr(n,t){n||Cr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZD(){return xE()==="http:"||xE()==="https:"}function xE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZD()||nR()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Lr(e>t,"Short delay should be less than long delay!"),this.isMobile=J1()||iR()}get(){return JD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(n,t){Lr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Mu(3e4,6e4);function Dg(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Qo(n,t,e,r,a={}){return Hb(n,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=Ru(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:p},l);return eR()||(m.referrerPolicy="no-referrer"),qb.fetch()(Gb(n,n.config.apiHost,e,f),m)})}async function Hb(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eO),t);try{const a=new rO(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw fh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw fh(n,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jb(n,_,m);Pr(n,_)}}catch(a){if(a instanceof nr)throw a;Pr(n,"network-request-failed",{message:String(a)})}}async function iO(n,t,e,r,a={}){const l=await Qo(n,t,e,r,a);return"mfaPendingCredential"in l&&Pr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Gb(n,t,e,r){const a=`${t}${e}?${r}`;return n.config.emulator?kg(n.config,a):`${n.config.apiScheme}://${a}`}class rO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),nO.get())})}}function fh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Wi(n,t,r);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,t){return Qo(n,"POST","/v1/accounts:delete",t)}async function Kb(n,t){return Qo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aO(n,t=!1){const e=je(n),r=await e.getIdToken(t),a=Og(r);Lt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:hu(Fp(a.auth_time)),issuedAtTime:hu(Fp(a.iat)),expirationTime:hu(Fp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fp(n){return Number(n)*1e3}function Og(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=DT(e);return a?JSON.parse(a):(wh("Failed to decode base64 JWT payload"),null)}catch(a){return wh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function kE(n){const t=Og(n);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof nr&&oO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function oO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){var t;const e=n.auth,r=await n.getIdToken(),a=await wu(n,Kb(e,{idToken:r}));Lt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Qb(l.providerUserInfo):[],f=cO(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function uO(n){const t=je(n);await Gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cO(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Qb(n){return n.map(t=>{var{providerId:e}=t,r=Cg(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(n,t){const e=await Hb(n,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Gb(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",qb.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function fO(n,t){return Qo(n,"POST","/v2/accounts:revokeToken",Dg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Lt(t.length!==0,"internal-error");const e=kE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:l}=await hO(t,e);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:l}=e,c=new xo;return r&&(Lt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Lt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Lt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,t){Lt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xr{constructor(t){var{uid:e,auth:r,stsTokenManager:a}=t,l=Cg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await wu(this,this.stsTokenManager.getToken(this.auth,t));return Lt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return aO(this,t)}reload(){return uO(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(va(this.auth));const t=await this.getIdToken();return await wu(this,sO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,a,l,c,f,p,m,_;const T=(r=e.displayName)!==null&&r!==void 0?r:void 0,R=(a=e.email)!==null&&a!==void 0?a:void 0,S=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=e.photoURL)!==null&&c!==void 0?c:void 0,B=(f=e.tenantId)!==null&&f!==void 0?f:void 0,q=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,K=(m=e.createdAt)!==null&&m!==void 0?m:void 0,nt=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:ct,isAnonymous:ut,providerData:W,stsTokenManager:z}=e;Lt(J&&z,t,"internal-error");const N=xo.fromJSON(this.name,z);Lt(typeof J=="string",t,"internal-error"),_s(T,t.name),_s(R,t.name),Lt(typeof ct=="boolean",t,"internal-error"),Lt(typeof ut=="boolean",t,"internal-error"),_s(S,t.name),_s(V,t.name),_s(B,t.name),_s(q,t.name),_s(K,t.name),_s(nt,t.name);const k=new xr({uid:J,auth:t,email:R,emailVerified:ct,displayName:T,isAnonymous:ut,photoURL:V,phoneNumber:S,tenantId:B,stsTokenManager:N,createdAt:K,lastLoginAt:nt});return W&&Array.isArray(W)&&(k.providerData=W.map(U=>Object.assign({},U))),q&&(k._redirectEventId=q),k}static async _fromIdTokenResponse(t,e,r=!1){const a=new xo;a.updateFromServerResponse(e);const l=new xr({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Gh(l),l}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Lt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Qb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new xo;f.updateFromIdToken(r);const p=new xr({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Am(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function kr(n){Lr(n instanceof Function,"Expected a class definition");let t=DE.get(n);return t?(Lr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,DE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Yb.type="NONE";const OE=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n,t,e){return`firebase:${n}:${t}:${e}`}class ko{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=bh(this.userKey,a.apiKey,l),this.fullPersistenceKey=bh("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?xr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new ko(kr(OE),t,r);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||kr(OE);const c=bh(r,t.config.apiKey,t.name);let f=null;for(const m of e)try{const _=await m._get(c);if(_){const T=xr._fromJSON(t,_);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ko(l,t,r):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(e.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ko(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tS(t))return"Blackberry";if(eS(t))return"Webos";if($b(t))return"Safari";if((t.includes("chrome/")||Wb(t))&&!t.includes("edge/"))return"Chrome";if(Jb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xb(n=En()){return/firefox\//i.test(n)}function $b(n=En()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wb(n=En()){return/crios\//i.test(n)}function Zb(n=En()){return/iemobile/i.test(n)}function Jb(n=En()){return/android/i.test(n)}function tS(n=En()){return/blackberry/i.test(n)}function eS(n=En()){return/webos/i.test(n)}function Ng(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dO(n=En()){var t;return Ng(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function pO(){return rR()&&document.documentMode===10}function nS(n=En()){return Ng(n)||Jb(n)||eS(n)||tS(n)||/windows phone/i.test(n)||Zb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n,t=[]){let e;switch(n){case"Browser":e=NE(En());break;case"Worker":e=`${NE(En())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((c,f)=>{try{const p=t(l);c(p)}catch(p){f(p)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,t={}){return Qo(n,"GET","/v2/passwordPolicy",Dg(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=6;class _O{constructor(t){var e,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:yO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new mO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=kr(e)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await ko.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Kb(this,{idToken:t}),r=await xr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Gh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(va(this));const e=t?je(t):null;return e&&Lt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gO(this),e=new _O(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Au("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await fO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&kr(t)||this._popupRedirectResolver;Lt(e,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[kr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&WD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Mg(n){return je(n)}class ME{constructor(t){this.auth=t,this.observer=null,this.addObserver=fR(e=>this.observer=e)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EO(n){Ug=n}function TO(n){return Ug.loadJS(n)}function wO(){return Ug.gapiScript}function bO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n,t){const e=Zh(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ea(l,t??{}))return a;Pr(a,"already-initialized")}return e.initialize({options:t})}function AO(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(kr);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function RO(n,t,e){const r=Mg(n);Lt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=rS(t),{host:c,port:f}=IO(t),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Lt(Ea(m,r.config.emulator)&&Ea(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,CO()}function rS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function IO(n){const t=rS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:UE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:UE(c)}}}function UE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function CO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Cr("not implemented")}_getIdTokenResponse(t){return Cr("not implemented")}_linkToIdToken(t,e){return Cr("not implemented")}_getReauthenticationResolver(t){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,t){return iO(n,"POST","/v1/accounts:signInWithIdp",Dg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="http://localhost";class Aa extends sS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Pr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=e,l=Cg(e,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Aa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Do(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Do(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Do(t,e)}buildRequest(){const t={requestUri:xO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ru(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends aS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Uu{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ts.credential(t.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Aa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Ir.credential(e,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Uu{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Uu{constructor(){super("twitter.com")}static credential(t,e){return Aa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return bs.credential(e,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const l=await xr._fromIdTokenResponse(t,r,a),c=PE(r);return new Fo({user:l,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=PE(r);return new Fo({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function PE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends nr{constructor(t,e,r,a){var l;super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Kh(t,e,r,a)}}function oS(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(n,l,t,r):l})}async function kO(n,t,e=!1){const r=await wu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Fo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,t,e=!1){const{auth:r}=n;if(Ri(r.app))return Promise.reject(va(r));const a="reauthenticate";try{const l=await wu(n,oS(r,a,t,n),e);Lt(l.idToken,r,"internal-error");const c=Og(l.idToken);Lt(c,r,"internal-error");const{sub:f}=c;return Lt(n.uid===f,r,"user-mismatch"),Fo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,t,e=!1){if(Ri(n.app))return Promise.reject(va(n));const r="signIn",a=await oS(n,r,t),l=await Fo._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(l.user),l}function NO(n,t,e,r){return je(n).onIdTokenChanged(t,e,r)}function MO(n,t,e){return je(n).beforeAuthStateChanged(t,e)}function Pg(n,t,e,r){return je(n).onAuthStateChanged(t,e,r)}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1e3,PO=10;class uS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);pO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,PO):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}uS.type="LOCAL";const LO=uS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}cS.type="SESSION";const hS=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new Ef(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async m=>m(e.origin,l)),p=await VO(f);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Lg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const R=T;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(){return window}function zO(n){Zi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function FO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qO(){return fS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebaseLocalStorageDb",HO=1,Yh="firebaseLocalStorage",pS="fbase_key";class Pu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Tf(n,t){return n.transaction([Yh],t?"readwrite":"readonly").objectStore(Yh)}function GO(){const n=indexedDB.deleteDatabase(dS);return new Pu(n).toPromise()}function Rm(){const n=indexedDB.open(dS,HO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yh,{keyPath:pS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yh)?t(r):(r.close(),await GO(),t(await Rm()))})})}async function LE(n,t,e){const r=Tf(n,!0).put({[pS]:t,value:e});return new Pu(r).toPromise()}async function KO(n,t){const e=Tf(n,!1).get(t),r=await new Pu(e).toPromise();return r===void 0?null:r.value}function VE(n,t){const e=Tf(n,!0).delete(t);return new Pu(e).toPromise()}const QO=800,YO=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>YO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(qO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await FO(),!this.activeServiceWorker)return;this.sender=new BO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rm();return await LE(t,Qh,"1"),await VE(t,Qh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>LE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>KO(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>VE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Tf(a,!1).getAll();return new Pu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const XO=mS;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n,t){return t?kr(t):(Lt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends sS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Do(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Do(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Do(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function WO(n){return OO(n.auth,new Vg(n),n.bypassAuthState)}function ZO(n){const{auth:t,user:e}=n;return Lt(e,t,"internal-error"),DO(e,new Vg(n),n.bypassAuthState)}async function JO(n){const{auth:t,user:e}=n;return Lt(e,t,"internal-error"),kO(e,new Vg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,e,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WO;case"linkViaPopup":case"linkViaRedirect":return JO;case"reauthViaPopup":case"reauthViaRedirect":return ZO;default:Pr(this.auth,"internal-error")}}resolve(t){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Mu(2e3,1e4);class Io extends gS{constructor(t,e,r,a,l){super(t,e,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const t=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tN.get())};t()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="pendingRedirect",Sh=new Map;class nN extends gS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Sh.get(this.auth._key());if(!t){try{const r=await iN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Sh.set(this.auth._key(),t)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iN(n,t){const e=aN(t),r=sN(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function rN(n,t){Sh.set(n._key(),t)}function sN(n){return kr(n._redirectPersistence)}function aN(n){return bh(eN,n.config.apiKey,n.name)}async function oN(n,t,e=!1){if(Ri(n.app))return Promise.reject(va(n));const r=Mg(n),a=$O(r,t),c=await new nN(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=10*60*1e3;class uN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!yS(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(Wi(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lN&&this.cachedEventUids.clear(),this.cachedEventUids.has(BE(t))}saveEventToCache(t){this.cachedEventUids.add(BE(t)),this.lastProcessedEventTime=Date.now()}}function BE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function yS({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function cN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,t={}){return Qo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function pN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await hN(n);for(const e of t)try{if(mN(e))return}catch{}Pr(n,"unauthorized-domain")}function mN(n){const t=Sm(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!dN.test(e))return!1;if(fN.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Mu(3e4,6e4);function zE(){const n=Zi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function yN(n){return new Promise((t,e)=>{var r,a,l;function c(){zE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zE(),e(Wi(n,"network-request-failed"))},timeout:gN.get()})}if(!((a=(r=Zi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Zi().gapi)===null||l===void 0)&&l.load)c();else{const f=bO("iframefcb");return Zi()[f]=()=>{gapi.load?c():e(Wi(n,"network-request-failed"))},TO(`${wO()}?onload=${f}`).catch(p=>e(p))}}).catch(t=>{throw Ah=null,t})}let Ah=null;function _N(n){return Ah=Ah||yN(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Mu(5e3,15e3),EN="__/auth/iframe",TN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SN(n){const t=n.config;Lt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kg(t,TN):`https://${n.config.authDomain}/${EN}`,r={apiKey:t.apiKey,appName:n.name,v:Ia},a=bN.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${Ru(r).slice(1)}`}async function AN(n){const t=await _N(n),e=Zi().gapi;return Lt(e,n,"internal-error"),t.open({where:document.body,url:SN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Wi(n,"network-request-failed"),f=Zi().setTimeout(()=>{l(c)},vN.get());function p(){Zi().clearTimeout(f),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,CN=600,xN="_blank",kN="http://localhost";class FE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DN(n,t,e,r=IN,a=CN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},RN),{width:r.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();e&&(f=Wb(m)?xN:e),Xb(m)&&(t=t||kN,p.scrollbars="yes");const _=Object.entries(p).reduce((R,[S,V])=>`${R}${S}=${V},`,"");if(dO(m)&&f!=="_self")return ON(t||"",f),new FE(null);const T=window.open(t||"",f,_);Lt(T,n,"popup-blocked");try{T.focus()}catch{}return new FE(T)}function ON(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="__/auth/handler",MN="emulator/auth/handler",UN=encodeURIComponent("fac");async function jE(n,t,e,r,a,l){Lt(n.config.authDomain,n,"auth-domain-config-required"),Lt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ia,eventId:a};if(t instanceof aS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",hR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof Uu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),m=p?`#${UN}=${encodeURIComponent(p)}`:"";return`${PN(n)}?${Ru(f).slice(1)}${m}`}function PN({config:n}){return n.emulator?kg(n,MN):`https://${n.authDomain}/${NN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class LN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=oN,this._overrideRedirectResult=rN}async _openPopup(t,e,r,a){var l;Lr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await jE(t,e,r,Sm(),a);return DN(t,c,Lg())}async _openRedirect(t,e,r,a){await this._originValidation(t);const l=await jE(t,e,r,Sm(),a);return zO(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Lr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await AN(t),r=new uN(t);return e.register("authEvent",a=>(Lt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(jp,{type:jp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[jp];c!==void 0&&e(!!c),Pr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=pN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return nS()||$b()||Ng()}}const VN=LN;var qE="@firebase/auth",HE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(n){Ta(new xs("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Lt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iS(n)},m=new vO(r,a,l,p);return AO(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Ta(new xs("auth-internal",t=>{const e=Mg(t.getProvider("auth").getImmediate());return(r=>new BN(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(qE,HE,zN(n)),Yi(qE,HE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=5*60,qN=UT("authIdTokenMaxAge")||jN;let GE=null;const HN=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>qN)return;const a=e==null?void 0:e.token;GE!==a&&(GE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GN(n=Bm()){const t=Zh(n,"auth");if(t.isInitialized())return t.getImmediate();const e=SO(n,{popupRedirectResolver:VN,persistence:[XO,LO,hS]}),r=UT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=HN(l.toString());MO(e,c,()=>c(e.currentUser)),NO(e,f=>c(f))}}const a=OT("auth");return a&&RO(e,`http://${a}`),e}function KN(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}EO({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const l=Wi("internal-error");l.customData=a,e(l)},r.type="text/javascript",r.charset="UTF-8",KN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");const QN={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},Bg=BT(QN),Ra=_k(Bg),_S=KD(Bg),zg=GN(Bg);new Ir;const Fg=pf(Ra,"eotv-enemies");pf(Ra,"eotv-enemy-tags");pf(Ra,"users");const YN=pf(Ra,"eotv-enemy-tags");function XN({selectedTags:n,setSelectedTags:t,customTags:e,setCustomTags:r}){const[a,l]=se.useState([]);se.useEffect(()=>{(async()=>{const m=await Ok(YN);l(m.docs.map(_=>({id:_.id,..._.data()})))})()},[]);const c=se.useCallback(p=>{const m=p.target.value;m&&!n.includes(m)&&t(_=>[..._,m])},[n,t]),f=se.useCallback(p=>{r(p.target.value.split(",").map(m=>m.trim()))},[r]);return bt.jsxs("div",{children:[bt.jsx("label",{children:"Выберите теги:"}),bt.jsxs("select",{onChange:c,children:[bt.jsx("option",{value:"",children:"-- Выбрать --"}),a.map(p=>bt.jsx("option",{value:p.slug,children:p.name},p.id))]}),bt.jsx("label",{children:"Пользовательские теги (через запятую):"}),bt.jsx("input",{type:"text",value:e.join(", "),onChange:f}),bt.jsxs("p",{children:["Выбранные теги: ",n.join(", ")]})]})}function $N(){const[n,t]=se.useState(""),[e,r]=se.useState(""),[a,l]=se.useState([]),[c,f]=se.useState([]),[p,m]=se.useState(null),[_,T]=se.useState(null),[R,S]=se.useState(""),[V,B]=se.useState(""),[q,K]=se.useState(0),[nt,J]=se.useState(0),[ct,ut]=se.useState(null),[W,z]=se.useState(!0);se.useEffect(()=>{const U=Pg(zg,L=>{ut(L),z(!1)});return()=>U()},[]);const N=async(U,L,F)=>{if(!U)return;const O=Bb(_S,`enemies/${ct.uid}/${U.name}`),gt=Lb(O,U);gt.on("state_changed",vt=>{const dt=vt.bytesTransferred/vt.totalBytes*100;F(dt)},vt=>{console.error("Ошибка загрузки:",vt)},async()=>{const vt=await Vb(gt.snapshot.ref);L(vt)})},k=async U=>{if(U.preventDefault(),!n||!ct)return;const L={name:n,customDescription:e,tags:a,customTags:c,imageURL:R,imageURL2:V,authorUid:ct.uid};await Uk(Fg,L),t(""),r(""),l([]),f([]),m(null),T(null),S(""),B(""),K(0),J(0)};return bt.jsxs("form",{onSubmit:k,children:[bt.jsx("h3",{children:"Добавить противника"}),bt.jsx("input",{type:"text",placeholder:"Имя противника",value:n,onChange:U=>t(U.target.value),required:!0,disabled:W}),bt.jsx("textarea",{placeholder:"Описание",value:e,onChange:U=>r(U.target.value),disabled:W}),bt.jsx(XN,{selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f}),bt.jsx("input",{type:"file",onChange:U=>m(U.target.files[0]),disabled:W}),bt.jsx("button",{type:"button",onClick:()=>N(p,S,K),disabled:!p||W,children:"Загрузить основное изображение"}),q>0&&bt.jsxs("p",{children:["Прогресс загрузки: ",q.toFixed(2),"%"]}),R&&bt.jsx("img",{src:R,alt:"Загруженное изображение 1",width:100}),bt.jsx("input",{type:"file",onChange:U=>T(U.target.files[0]),disabled:W}),bt.jsx("button",{type:"button",onClick:()=>N(_,B,J),disabled:!_||W,children:"Загрузить дополнительное изображение"}),nt>0&&bt.jsxs("p",{children:["Прогресс загрузки: ",nt.toFixed(2),"%"]}),V&&bt.jsx("img",{src:V,alt:"Загруженное изображение 2",width:100}),bt.jsx("button",{type:"submit",disabled:!ct||W,children:"Добавить"})]})}function WN(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const ZN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tM={};function KE(n,t){return(tM.jsx?JN:ZN).test(n)}const eM=/[ \t\n\f\r]/g;function nM(n){return typeof n=="object"?n.type==="text"?QE(n.value):!1:QE(n)}function QE(n){return n.replace(eM,"")===""}class Lu{constructor(t,e,r){this.normal=e,this.property=t,r&&(this.space=r)}}Lu.prototype.normal={};Lu.prototype.property={};Lu.prototype.space=void 0;function vS(n,t){const e={},r={};for(const a of n)Object.assign(e,a.property),Object.assign(r,a.normal);return new Lu(e,r,t)}function Im(n){return n.toLowerCase()}class Vn{constructor(t,e){this.attribute=e,this.property=t}}Vn.prototype.attribute="";Vn.prototype.booleanish=!1;Vn.prototype.boolean=!1;Vn.prototype.commaOrSpaceSeparated=!1;Vn.prototype.commaSeparated=!1;Vn.prototype.defined=!1;Vn.prototype.mustUseProperty=!1;Vn.prototype.number=!1;Vn.prototype.overloadedBoolean=!1;Vn.prototype.property="";Vn.prototype.spaceSeparated=!1;Vn.prototype.space=void 0;let iM=0;const Ht=ka(),Fe=ka(),ES=ka(),pt=ka(),ve=ka(),Oo=ka(),Xn=ka();function ka(){return 2**++iM}const Cm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:Fe,commaOrSpaceSeparated:Xn,commaSeparated:Oo,number:pt,overloadedBoolean:ES,spaceSeparated:ve},Symbol.toStringTag,{value:"Module"})),qp=Object.keys(Cm);class jg extends Vn{constructor(t,e,r,a){let l=-1;if(super(t,e),YE(this,"space",a),typeof r=="number")for(;++l<qp.length;){const c=qp[l];YE(this,qp[l],(r&Cm[c])===Cm[c])}}}jg.prototype.defined=!0;function YE(n,t,e){e&&(n[t]=e)}function Yo(n){const t={},e={};for(const[r,a]of Object.entries(n.properties)){const l=new jg(r,n.transform(n.attributes||{},r),a,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,e[Im(r)]=r,e[Im(l.attribute)]=r}return new Lu(t,e,n.space)}const TS=Yo({properties:{ariaActiveDescendant:null,ariaAtomic:Fe,ariaAutoComplete:null,ariaBusy:Fe,ariaChecked:Fe,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:ve,ariaCurrent:null,ariaDescribedBy:ve,ariaDetails:null,ariaDisabled:Fe,ariaDropEffect:ve,ariaErrorMessage:null,ariaExpanded:Fe,ariaFlowTo:ve,ariaGrabbed:Fe,ariaHasPopup:null,ariaHidden:Fe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ve,ariaLevel:pt,ariaLive:null,ariaModal:Fe,ariaMultiLine:Fe,ariaMultiSelectable:Fe,ariaOrientation:null,ariaOwns:ve,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:Fe,ariaReadOnly:Fe,ariaRelevant:null,ariaRequired:Fe,ariaRoleDescription:ve,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:Fe,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function wS(n,t){return t in n?n[t]:t}function bS(n,t){return wS(n,t.toLowerCase())}const rM=Yo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Oo,acceptCharset:ve,accessKey:ve,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:ve,autoFocus:Ht,autoPlay:Ht,blocking:ve,capture:null,charSet:null,checked:Ht,cite:null,className:ve,cols:pt,colSpan:null,content:null,contentEditable:Fe,controls:Ht,controlsList:ve,coords:pt|Oo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:ES,draggable:Fe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:ve,height:pt,hidden:Ht,high:pt,href:null,hrefLang:null,htmlFor:ve,httpEquiv:ve,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:ve,itemRef:ve,itemScope:Ht,itemType:ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:pt,pattern:null,ping:ve,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:ve,required:Ht,reversed:Ht,rows:pt,rowSpan:pt,sandbox:ve,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:Fe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:Fe,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ve,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:Fe,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:bS}),sM=Yo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xn,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Oo,g2:Oo,glyphName:Oo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:Xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xn,rev:Xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xn,requiredFeatures:Xn,requiredFonts:Xn,requiredFormats:Xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:Xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xn,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:wS}),SS=Yo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),AS=Yo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bS}),RS=Yo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),aM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oM=/[A-Z]/g,XE=/-[a-z]/g,lM=/^data[-\w.:]+$/i;function uM(n,t){const e=Im(t);let r=t,a=Vn;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&lM.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(XE,hM);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!XE.test(l)){let c=l.replace(oM,cM);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}a=jg}return new a(r,t)}function cM(n){return"-"+n.toLowerCase()}function hM(n){return n.charAt(1).toUpperCase()}const fM=vS([TS,rM,SS,AS,RS],"html"),qg=vS([TS,sM,SS,AS,RS],"svg");function dM(n){return n.join(" ").trim()}var Eo={},Hp,$E;function pM(){if($E)return Hp;$E=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",_="*",T="",R="comment",S="declaration";Hp=function(B,q){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];q=q||{};var K=1,nt=1;function J(O){var gt=O.match(t);gt&&(K+=gt.length);var vt=O.lastIndexOf(p);nt=~vt?O.length-vt:nt+O.length}function ct(){var O={line:K,column:nt};return function(gt){return gt.position=new ut(O),N(),gt}}function ut(O){this.start=O,this.end={line:K,column:nt},this.source=q.source}ut.prototype.content=B;function W(O){var gt=new Error(q.source+":"+K+":"+nt+": "+O);if(gt.reason=O,gt.filename=q.source,gt.line=K,gt.column=nt,gt.source=B,!q.silent)throw gt}function z(O){var gt=O.exec(B);if(gt){var vt=gt[0];return J(vt),B=B.slice(vt.length),gt}}function N(){z(e)}function k(O){var gt;for(O=O||[];gt=U();)gt!==!1&&O.push(gt);return O}function U(){var O=ct();if(!(m!=B.charAt(0)||_!=B.charAt(1))){for(var gt=2;T!=B.charAt(gt)&&(_!=B.charAt(gt)||m!=B.charAt(gt+1));)++gt;if(gt+=2,T===B.charAt(gt-1))return W("End of comment missing");var vt=B.slice(2,gt-2);return nt+=2,J(vt),B=B.slice(gt),nt+=2,O({type:R,comment:vt})}}function L(){var O=ct(),gt=z(r);if(gt){if(U(),!z(a))return W("property missing ':'");var vt=z(l),dt=O({type:S,property:V(gt[0].replace(n,T)),value:vt?V(vt[0].replace(n,T)):T});return z(c),dt}}function F(){var O=[];k(O);for(var gt;gt=L();)gt!==!1&&(O.push(gt),k(O));return O}return N(),F()};function V(B){return B?B.replace(f,T):T}return Hp}var WE;function mM(){if(WE)return Eo;WE=1;var n=Eo&&Eo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=e;var t=n(pM());function e(r,a){var l=null;if(!r||typeof r!="string")return l;var c=(0,t.default)(r),f=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,_=p.value;f?a(m,_,p):_&&(l=l||{},l[m]=_)}}),l}return Eo}var gM=mM();const ZE=Su(gM),yM=ZE.default||ZE,IS=CS("end"),Hg=CS("start");function CS(n){return t;function t(e){const r=e&&e.position&&e.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _M(n){const t=Hg(n),e=IS(n);if(t&&e)return{start:t,end:e}}function fu(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?JE(n.position):"start"in n||"end"in n?JE(n):"line"in n||"column"in n?xm(n):""}function xm(n){return tT(n&&n.line)+":"+tT(n&&n.column)}function JE(n){return xm(n&&n.start)+"-"+xm(n&&n.end)}function tT(n){return n&&typeof n=="number"?n:1}class Tn extends Error{constructor(t,e,r){super(),typeof e=="string"&&(r=e,e=void 0);let a="",l={},c=!1;if(e&&("line"in e&&"column"in e?l={place:e}:"start"in e&&"end"in e?l={place:e}:"type"in e?l={ancestors:[e],place:e.position}:l={...e}),typeof t=="string"?a=t:!l.cause&&t&&(c=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?l.ruleId=r:(l.source=r.slice(0,p),l.ruleId=r.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=fu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const Gg={}.hasOwnProperty,vM=new Map,EM=/[A-Z]/g,TM=/-([a-z])/g,wM=new Set(["table","tbody","thead","tfoot","tr"]),bM=new Set(["td","th"]),xS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function SM(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=OM(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=DM(e,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?qg:fM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=kS(a,n,void 0);return l&&typeof l!="string"?l:a.create(n,a.Fragment,{children:l||void 0},void 0)}function kS(n,t,e){if(t.type==="element")return AM(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return RM(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return CM(n,t,e);if(t.type==="mdxjsEsm")return IM(n,t);if(t.type==="root")return xM(n,t,e);if(t.type==="text")return kM(n,t)}function AM(n,t,e){const r=n.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=qg,n.schema=a),n.ancestors.push(t);const l=OS(n,t.tagName,!1),c=NM(n,t);let f=Qg(n,t);return wM.has(t.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!nM(p):!0})),DS(n,c,l,t),Kg(c,f),n.ancestors.pop(),n.schema=r,n.create(t,l,c,e)}function RM(n,t){if(t.data&&t.data.estree&&n.evaluater){const r=t.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}bu(n,t.position)}function IM(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);bu(n,t.position)}function CM(n,t,e){const r=n.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=qg,n.schema=a),n.ancestors.push(t);const l=t.name===null?n.Fragment:OS(n,t.name,!0),c=MM(n,t),f=Qg(n,t);return DS(n,c,l,t),Kg(c,f),n.ancestors.pop(),n.schema=r,n.create(t,l,c,e)}function xM(n,t,e){const r={};return Kg(r,Qg(n,t)),n.create(t,n.Fragment,r,e)}function kM(n,t){return t.value}function DS(n,t,e,r){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=r)}function Kg(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function DM(n,t,e){return r;function r(a,l,c,f){const m=Array.isArray(c.children)?e:t;return f?m(l,c,f):m(l,c)}}function OM(n,t){return e;function e(r,a,l,c){const f=Array.isArray(l.children),p=Hg(r);return t(a,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:n,lineNumber:p?p.line:void 0},void 0)}}function NM(n,t){const e={};let r,a;for(a in t.properties)if(a!=="children"&&Gg.call(t.properties,a)){const l=UM(n,a,t.properties[a]);if(l){const[c,f]=l;n.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&bM.has(t.tagName)?r=f:e[c]=f}}if(r){const l=e.style||(e.style={});l[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return e}function MM(n,t){const e={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const l=r.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(e,n.evaluater.evaluateExpression(f.argument))}else bu(n,t.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const f=r.value.data.estree.body[0];f.type,l=n.evaluater.evaluateExpression(f.expression)}else bu(n,t.position);else l=r.value===null?!0:r.value;e[a]=l}return e}function Qg(n,t){const e=[];let r=-1;const a=n.passKeys?new Map:vM;for(;++r<t.children.length;){const l=t.children[r];let c;if(n.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const f=kS(n,l,c);f!==void 0&&e.push(f)}return e}function UM(n,t,e){const r=uM(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=r.commaSeparated?WN(e):dM(e)),r.property==="style"){let a=typeof e=="object"?e:PM(n,String(e));return n.stylePropertyNameCase==="css"&&(a=LM(a)),["style",a]}return[n.elementAttributeNameCase==="react"&&r.space?aM[r.property]||r.property:r.attribute,e]}}function PM(n,t){const e={};try{yM(t,r)}catch(a){if(!n.ignoreInvalidStyle){const l=a,c=new Tn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=n.filePath||void 0,c.url=xS+"#cannot-parse-style-attribute",c}}return e;function r(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(TM,BM)),e[c]=l}}function OS(n,t,e){let r;if(!e)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,c;for(;++l<a.length;){const f=KE(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=c}else r=KE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Gg.call(n.components,a)?n.components[a]:a}if(n.evaluater)return n.evaluater.evaluateExpression(r);bu(n)}function bu(n,t){const e=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=xS+"#cannot-handle-mdx-estrees-without-createevaluater",e}function LM(n){const t={};let e;for(e in n)Gg.call(n,e)&&(t[VM(e)]=n[e]);return t}function VM(n){let t=n.replace(EM,zM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function BM(n,t){return t.toUpperCase()}function zM(n){return"-"+n.toLowerCase()}const Gp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},FM={};function jM(n,t){const e=FM,r=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,a=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return NS(n,r,a)}function NS(n,t,e){if(qM(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return eT(n.children,t,e)}return Array.isArray(n)?eT(n,t,e):""}function eT(n,t,e){const r=[];let a=-1;for(;++a<n.length;)r[a]=NS(n[a],t,e);return r.join("")}function qM(n){return!!(n&&typeof n=="object")}const nT=document.createElement("i");function Yg(n){const t="&"+n+";";nT.innerHTML=t;const e=nT.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function er(n,t,e,r){const a=n.length;let l=0,c;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,e=e>0?e:0,r.length<1e4)c=Array.from(r),c.unshift(t,e),n.splice(...c);else for(e&&n.splice(t,e);l<r.length;)c=r.slice(l,l+1e4),c.unshift(t,0),n.splice(...c),l+=1e4,t+=1e4}function gi(n,t){return n.length>0?(er(n,n.length,0,t),n):t}const iT={}.hasOwnProperty;function HM(n){const t={};let e=-1;for(;++e<n.length;)GM(t,n[e]);return t}function GM(n,t){let e;for(e in t){const a=(iT.call(n,e)?n[e]:void 0)||(n[e]={}),l=t[e];let c;if(l)for(c in l){iT.call(a,c)||(a[c]=[]);const f=l[c];KM(a[c],Array.isArray(f)?f:f?[f]:[])}}}function KM(n,t){let e=-1;const r=[];for(;++e<t.length;)(t[e].add==="after"?n:r).push(t[e]);er(n,0,0,r)}function MS(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}function No(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ki=Bs(/[A-Za-z]/),Zn=Bs(/[\dA-Za-z]/),QM=Bs(/[#-'*+\--9=?A-Z^-~]/);function km(n){return n!==null&&(n<32||n===127)}const Dm=Bs(/\d/),YM=Bs(/[\dA-Fa-f]/),XM=Bs(/[!-/:-@[-`{-~]/);function Pt(n){return n!==null&&n<-2}function Ln(n){return n!==null&&(n<0||n===32)}function ce(n){return n===-2||n===-1||n===32}const $M=Bs(new RegExp("\\p{P}|\\p{S}","u")),WM=Bs(/\s/);function Bs(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function Xo(n){const t=[];let e=-1,r=0,a=0;for(;++e<n.length;){const l=n.charCodeAt(e);let c="";if(l===37&&Zn(n.charCodeAt(e+1))&&Zn(n.charCodeAt(e+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=n.charCodeAt(e+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),a=1):c="�"}else c=String.fromCharCode(l);c&&(t.push(n.slice(r,e),encodeURIComponent(c)),r=e+a+1,c=""),a&&(e+=a,a=0)}return t.join("")+n.slice(r)}function Ee(n,t,e,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ce(p)?(n.enter(e),f(p)):t(p)}function f(p){return ce(p)&&l++<a?(n.consume(p),f):(n.exit(e),t(p))}}const ZM={tokenize:JM};function JM(n){const t=n.attempt(this.parser.constructs.contentInitial,r,a);let e;return t;function r(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),Ee(n,t,"linePrefix")}function a(f){return n.enter("paragraph"),l(f)}function l(f){const p=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=p),e=p,c(f)}function c(f){if(f===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(f);return}return Pt(f)?(n.consume(f),n.exit("chunkText"),l):(n.consume(f),c)}}const tU={tokenize:eU},rT={tokenize:nU};function eU(n){const t=this,e=[];let r=0,a,l,c;return f;function f(J){if(r<e.length){const ct=e[r];return t.containerState=ct[1],n.attempt(ct[0].continuation,p,m)(J)}return m(J)}function p(J){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&nt();const ct=t.events.length;let ut=ct,W;for(;ut--;)if(t.events[ut][0]==="exit"&&t.events[ut][1].type==="chunkFlow"){W=t.events[ut][1].end;break}K(r);let z=ct;for(;z<t.events.length;)t.events[z][1].end={...W},z++;return er(t.events,ut+1,0,t.events.slice(ct)),t.events.length=z,m(J)}return f(J)}function m(J){if(r===e.length){if(!a)return R(J);if(a.currentConstruct&&a.currentConstruct.concrete)return V(J);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(rT,_,T)(J)}function _(J){return a&&nt(),K(r),R(J)}function T(J){return t.parser.lazy[t.now().line]=r!==e.length,c=t.now().offset,V(J)}function R(J){return t.containerState={},n.attempt(rT,S,V)(J)}function S(J){return r++,e.push([t.currentConstruct,t.containerState]),R(J)}function V(J){if(J===null){a&&nt(),K(0),n.consume(J);return}return a=a||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),B(J)}function B(J){if(J===null){q(n.exit("chunkFlow"),!0),K(0),n.consume(J);return}return Pt(J)?(n.consume(J),q(n.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(n.consume(J),B)}function q(J,ct){const ut=t.sliceStream(J);if(ct&&ut.push(null),J.previous=l,l&&(l.next=J),l=J,a.defineSkip(J.start),a.write(ut),t.parser.lazy[J.start.line]){let W=a.events.length;for(;W--;)if(a.events[W][1].start.offset<c&&(!a.events[W][1].end||a.events[W][1].end.offset>c))return;const z=t.events.length;let N=z,k,U;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(k){U=t.events[N][1].end;break}k=!0}for(K(r),W=z;W<t.events.length;)t.events[W][1].end={...U},W++;er(t.events,N+1,0,t.events.slice(z)),t.events.length=W}}function K(J){let ct=e.length;for(;ct-- >J;){const ut=e[ct];t.containerState=ut[1],ut[0].exit.call(t,n)}e.length=J}function nt(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function nU(n,t,e){return Ee(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sT(n){if(n===null||Ln(n)||WM(n))return 1;if($M(n))return 2}function Xg(n,t,e){const r=[];let a=-1;for(;++a<n.length;){const l=n[a].resolveAll;l&&!r.includes(l)&&(t=l(t,e),r.push(l))}return t}const Om={name:"attention",resolveAll:iU,tokenize:rU};function iU(n,t){let e=-1,r,a,l,c,f,p,m,_;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(r=e;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&t.sliceSerialize(n[r][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[r][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;p=n[r][1].end.offset-n[r][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const T={...n[r][1].end},R={...n[e][1].start};aT(T,-p),aT(R,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...n[r][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:R},l={type:p>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[e][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},n[r][1].end={...c.start},n[e][1].start={...f.end},m=[],n[r][1].end.offset-n[r][1].start.offset&&(m=gi(m,[["enter",n[r][1],t],["exit",n[r][1],t]])),m=gi(m,[["enter",a,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=gi(m,Xg(t.parser.constructs.insideSpan.null,n.slice(r+1,e),t)),m=gi(m,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",a,t]]),n[e][1].end.offset-n[e][1].start.offset?(_=2,m=gi(m,[["enter",n[e][1],t],["exit",n[e][1],t]])):_=0,er(n,r-1,e-r+3,m),e=r+m.length-_-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function rU(n,t){const e=this.parser.constructs.attentionMarkers.null,r=this.previous,a=sT(r);let l;return c;function c(p){return l=p,n.enter("attentionSequence"),f(p)}function f(p){if(p===l)return n.consume(p),f;const m=n.exit("attentionSequence"),_=sT(p),T=!_||_===2&&a||e.includes(p),R=!a||a===2&&_||e.includes(r);return m._open=!!(l===42?T:T&&(a||!R)),m._close=!!(l===42?R:R&&(_||!T)),t(p)}}function aT(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const sU={name:"autolink",tokenize:aU};function aU(n,t,e){let r=0;return a;function a(S){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(S),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l}function l(S){return Ki(S)?(n.consume(S),c):S===64?e(S):m(S)}function c(S){return S===43||S===45||S===46||Zn(S)?(r=1,f(S)):m(S)}function f(S){return S===58?(n.consume(S),r=0,p):(S===43||S===45||S===46||Zn(S))&&r++<32?(n.consume(S),f):(r=0,m(S))}function p(S){return S===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(S),n.exit("autolinkMarker"),n.exit("autolink"),t):S===null||S===32||S===60||km(S)?e(S):(n.consume(S),p)}function m(S){return S===64?(n.consume(S),_):QM(S)?(n.consume(S),m):e(S)}function _(S){return Zn(S)?T(S):e(S)}function T(S){return S===46?(n.consume(S),r=0,_):S===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(S),n.exit("autolinkMarker"),n.exit("autolink"),t):R(S)}function R(S){if((S===45||Zn(S))&&r++<63){const V=S===45?R:T;return n.consume(S),V}return e(S)}}const wf={partial:!0,tokenize:oU};function oU(n,t,e){return r;function r(l){return ce(l)?Ee(n,a,"linePrefix")(l):a(l)}function a(l){return l===null||Pt(l)?t(l):e(l)}}const US={continuation:{tokenize:uU},exit:cU,name:"blockQuote",tokenize:lU};function lU(n,t,e){const r=this;return a;function a(c){if(c===62){const f=r.containerState;return f.open||(n.enter("blockQuote",{_container:!0}),f.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),l}return e(c)}function l(c){return ce(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(c))}}function uU(n,t,e){const r=this;return a;function a(c){return ce(c)?Ee(n,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return n.attempt(US,t,e)(c)}}function cU(n){n.exit("blockQuote")}const PS={name:"characterEscape",tokenize:hU};function hU(n,t,e){return r;function r(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),a}function a(l){return XM(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(l)}}const LS={name:"characterReference",tokenize:fU};function fU(n,t,e){const r=this;let a=0,l,c;return f;function f(T){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(T),n.exit("characterReferenceMarker"),p}function p(T){return T===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(T),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),l=31,c=Zn,_(T))}function m(T){return T===88||T===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(T),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),l=6,c=YM,_):(n.enter("characterReferenceValue"),l=7,c=Dm,_(T))}function _(T){if(T===59&&a){const R=n.exit("characterReferenceValue");return c===Zn&&!Yg(r.sliceSerialize(R))?e(T):(n.enter("characterReferenceMarker"),n.consume(T),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return c(T)&&a++<l?(n.consume(T),_):e(T)}}const oT={partial:!0,tokenize:pU},lT={concrete:!0,name:"codeFenced",tokenize:dU};function dU(n,t,e){const r=this,a={partial:!0,tokenize:ut};let l=0,c=0,f;return p;function p(W){return m(W)}function m(W){const z=r.events[r.events.length-1];return l=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,f=W,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),_(W)}function _(W){return W===f?(c++,n.consume(W),_):c<3?e(W):(n.exit("codeFencedFenceSequence"),ce(W)?Ee(n,T,"whitespace")(W):T(W))}function T(W){return W===null||Pt(W)?(n.exit("codeFencedFence"),r.interrupt?t(W):n.check(oT,B,ct)(W)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),R(W))}function R(W){return W===null||Pt(W)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),T(W)):ce(W)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ee(n,S,"whitespace")(W)):W===96&&W===f?e(W):(n.consume(W),R)}function S(W){return W===null||Pt(W)?T(W):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),V(W))}function V(W){return W===null||Pt(W)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),T(W)):W===96&&W===f?e(W):(n.consume(W),V)}function B(W){return n.attempt(a,ct,q)(W)}function q(W){return n.enter("lineEnding"),n.consume(W),n.exit("lineEnding"),K}function K(W){return l>0&&ce(W)?Ee(n,nt,"linePrefix",l+1)(W):nt(W)}function nt(W){return W===null||Pt(W)?n.check(oT,B,ct)(W):(n.enter("codeFlowValue"),J(W))}function J(W){return W===null||Pt(W)?(n.exit("codeFlowValue"),nt(W)):(n.consume(W),J)}function ct(W){return n.exit("codeFenced"),t(W)}function ut(W,z,N){let k=0;return U;function U(vt){return W.enter("lineEnding"),W.consume(vt),W.exit("lineEnding"),L}function L(vt){return W.enter("codeFencedFence"),ce(vt)?Ee(W,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(vt):F(vt)}function F(vt){return vt===f?(W.enter("codeFencedFenceSequence"),O(vt)):N(vt)}function O(vt){return vt===f?(k++,W.consume(vt),O):k>=c?(W.exit("codeFencedFenceSequence"),ce(vt)?Ee(W,gt,"whitespace")(vt):gt(vt)):N(vt)}function gt(vt){return vt===null||Pt(vt)?(W.exit("codeFencedFence"),z(vt)):N(vt)}}}function pU(n,t,e){const r=this;return a;function a(c){return c===null?e(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l)}function l(c){return r.parser.lazy[r.now().line]?e(c):t(c)}}const Kp={name:"codeIndented",tokenize:gU},mU={partial:!0,tokenize:yU};function gU(n,t,e){const r=this;return a;function a(m){return n.enter("codeIndented"),Ee(n,l,"linePrefix",5)(m)}function l(m){const _=r.events[r.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?c(m):e(m)}function c(m){return m===null?p(m):Pt(m)?n.attempt(mU,c,p)(m):(n.enter("codeFlowValue"),f(m))}function f(m){return m===null||Pt(m)?(n.exit("codeFlowValue"),c(m)):(n.consume(m),f)}function p(m){return n.exit("codeIndented"),t(m)}}function yU(n,t,e){const r=this;return a;function a(c){return r.parser.lazy[r.now().line]?e(c):Pt(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),a):Ee(n,l,"linePrefix",5)(c)}function l(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):Pt(c)?a(c):e(c)}}const _U={name:"codeText",previous:EU,resolve:vU,tokenize:TU};function vU(n){let t=n.length-4,e=3,r,a;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(r=e;++r<t;)if(n[r][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(r=e-1,t++;++r<=t;)a===void 0?r!==t&&n[r][1].type!=="lineEnding"&&(a=r):(r===t||n[r][1].type==="lineEnding")&&(n[a][1].type="codeTextData",r!==a+2&&(n[a][1].end=n[r-1][1].end,n.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return n}function EU(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TU(n,t,e){let r=0,a,l;return c;function c(T){return n.enter("codeText"),n.enter("codeTextSequence"),f(T)}function f(T){return T===96?(n.consume(T),r++,f):(n.exit("codeTextSequence"),p(T))}function p(T){return T===null?e(T):T===32?(n.enter("space"),n.consume(T),n.exit("space"),p):T===96?(l=n.enter("codeTextSequence"),a=0,_(T)):Pt(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),p):(n.enter("codeTextData"),m(T))}function m(T){return T===null||T===32||T===96||Pt(T)?(n.exit("codeTextData"),p(T)):(n.consume(T),m)}function _(T){return T===96?(n.consume(T),a++,_):a===r?(n.exit("codeTextSequence"),n.exit("codeText"),t(T)):(l.type="codeTextData",m(T))}}class wU{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const r=e??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,e,r){const a=e||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&tu(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),tu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),tu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);tu(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);tu(this.left,e.reverse())}}}function tu(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function VS(n){const t={};let e=-1,r,a,l,c,f,p,m;const _=new wU(n);for(;++e<_.length;){for(;e in t;)e=t[e];if(r=_.get(e),e&&r[1].type==="chunkFlow"&&_.get(e-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,bU(_,e)),e=t[e],m=!0);else if(r[1]._container){for(l=e,a=void 0;l--;)if(c=_.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(_.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(r[1].end={..._.get(a)[1].start},f=_.slice(a,e),f.unshift(r),_.splice(a,e-a+1,f))}}return er(n,0,Number.POSITIVE_INFINITY,_.slice(0)),!m}function bU(n,t){const e=n.get(t)[1],r=n.get(t)[2];let a=t-1;const l=[];let c=e._tokenizer;c||(c=r.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],m={};let _,T,R=-1,S=e,V=0,B=0;const q=[B];for(;S;){for(;n.get(++a)[1]!==S;);l.push(a),S._tokenizer||(_=r.sliceStream(S),S.next||_.push(null),T&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(_),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=S,S=S.next}for(S=e;++R<f.length;)f[R][0]==="exit"&&f[R-1][0]==="enter"&&f[R][1].type===f[R-1][1].type&&f[R][1].start.line!==f[R][1].end.line&&(B=R+1,q.push(B),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):q.pop(),R=q.length;R--;){const K=f.slice(q[R],q[R+1]),nt=l.pop();p.push([nt,nt+K.length-1]),n.splice(nt,2,K)}for(p.reverse(),R=-1;++R<p.length;)m[V+p[R][0]]=V+p[R][1],V+=p[R][1]-p[R][0]-1;return m}const SU={resolve:RU,tokenize:IU},AU={partial:!0,tokenize:CU};function RU(n){return VS(n),n}function IU(n,t){let e;return r;function r(f){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Pt(f)?n.check(AU,c,l)(f):(n.consume(f),a)}function l(f){return n.exit("chunkContent"),n.exit("content"),t(f)}function c(f){return n.consume(f),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,a}}function CU(n,t,e){const r=this;return a;function a(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),Ee(n,l,"linePrefix")}function l(c){if(c===null||Pt(c))return e(c);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):n.interrupt(r.parser.constructs.flow,e,t)(c)}}function BS(n,t,e,r,a,l,c,f,p){const m=p||Number.POSITIVE_INFINITY;let _=0;return T;function T(K){return K===60?(n.enter(r),n.enter(a),n.enter(l),n.consume(K),n.exit(l),R):K===null||K===32||K===41||km(K)?e(K):(n.enter(r),n.enter(c),n.enter(f),n.enter("chunkString",{contentType:"string"}),B(K))}function R(K){return K===62?(n.enter(l),n.consume(K),n.exit(l),n.exit(a),n.exit(r),t):(n.enter(f),n.enter("chunkString",{contentType:"string"}),S(K))}function S(K){return K===62?(n.exit("chunkString"),n.exit(f),R(K)):K===null||K===60||Pt(K)?e(K):(n.consume(K),K===92?V:S)}function V(K){return K===60||K===62||K===92?(n.consume(K),S):S(K)}function B(K){return!_&&(K===null||K===41||Ln(K))?(n.exit("chunkString"),n.exit(f),n.exit(c),n.exit(r),t(K)):_<m&&K===40?(n.consume(K),_++,B):K===41?(n.consume(K),_--,B):K===null||K===32||K===40||km(K)?e(K):(n.consume(K),K===92?q:B)}function q(K){return K===40||K===41||K===92?(n.consume(K),B):B(K)}}function zS(n,t,e,r,a,l){const c=this;let f=0,p;return m;function m(S){return n.enter(r),n.enter(a),n.consume(S),n.exit(a),n.enter(l),_}function _(S){return f>999||S===null||S===91||S===93&&!p||S===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?e(S):S===93?(n.exit(l),n.enter(a),n.consume(S),n.exit(a),n.exit(r),t):Pt(S)?(n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),_):(n.enter("chunkString",{contentType:"string"}),T(S))}function T(S){return S===null||S===91||S===93||Pt(S)||f++>999?(n.exit("chunkString"),_(S)):(n.consume(S),p||(p=!ce(S)),S===92?R:T)}function R(S){return S===91||S===92||S===93?(n.consume(S),f++,T):T(S)}}function FS(n,t,e,r,a,l){let c;return f;function f(R){return R===34||R===39||R===40?(n.enter(r),n.enter(a),n.consume(R),n.exit(a),c=R===40?41:R,p):e(R)}function p(R){return R===c?(n.enter(a),n.consume(R),n.exit(a),n.exit(r),t):(n.enter(l),m(R))}function m(R){return R===c?(n.exit(l),p(c)):R===null?e(R):Pt(R)?(n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),Ee(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===c||R===null||Pt(R)?(n.exit("chunkString"),m(R)):(n.consume(R),R===92?T:_)}function T(R){return R===c||R===92?(n.consume(R),_):_(R)}}function du(n,t){let e;return r;function r(a){return Pt(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),e=!0,r):ce(a)?Ee(n,r,e?"linePrefix":"lineSuffix")(a):t(a)}}const xU={name:"definition",tokenize:DU},kU={partial:!0,tokenize:OU};function DU(n,t,e){const r=this;let a;return l;function l(S){return n.enter("definition"),c(S)}function c(S){return zS.call(r,n,f,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return a=No(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(n.enter("definitionMarker"),n.consume(S),n.exit("definitionMarker"),p):e(S)}function p(S){return Ln(S)?du(n,m)(S):m(S)}function m(S){return BS(n,_,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function _(S){return n.attempt(kU,T,T)(S)}function T(S){return ce(S)?Ee(n,R,"whitespace")(S):R(S)}function R(S){return S===null||Pt(S)?(n.exit("definition"),r.parser.defined.push(a),t(S)):e(S)}}function OU(n,t,e){return r;function r(f){return Ln(f)?du(n,a)(f):e(f)}function a(f){return FS(n,l,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ce(f)?Ee(n,c,"whitespace")(f):c(f)}function c(f){return f===null||Pt(f)?t(f):e(f)}}const NU={name:"hardBreakEscape",tokenize:MU};function MU(n,t,e){return r;function r(l){return n.enter("hardBreakEscape"),n.consume(l),a}function a(l){return Pt(l)?(n.exit("hardBreakEscape"),t(l)):e(l)}}const UU={name:"headingAtx",resolve:PU,tokenize:LU};function PU(n,t){let e=n.length-2,r=3,a,l;return n[r][1].type==="whitespace"&&(r+=2),e-2>r&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(r===e-1||e-4>r&&n[e-2][1].type==="whitespace")&&(e-=r+1===e?2:4),e>r&&(a={type:"atxHeadingText",start:n[r][1].start,end:n[e][1].end},l={type:"chunkText",start:n[r][1].start,end:n[e][1].end,contentType:"text"},er(n,r,e-r+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),n}function LU(n,t,e){let r=0;return a;function a(_){return n.enter("atxHeading"),l(_)}function l(_){return n.enter("atxHeadingSequence"),c(_)}function c(_){return _===35&&r++<6?(n.consume(_),c):_===null||Ln(_)?(n.exit("atxHeadingSequence"),f(_)):e(_)}function f(_){return _===35?(n.enter("atxHeadingSequence"),p(_)):_===null||Pt(_)?(n.exit("atxHeading"),t(_)):ce(_)?Ee(n,f,"whitespace")(_):(n.enter("atxHeadingText"),m(_))}function p(_){return _===35?(n.consume(_),p):(n.exit("atxHeadingSequence"),f(_))}function m(_){return _===null||_===35||Ln(_)?(n.exit("atxHeadingText"),f(_)):(n.consume(_),m)}}const VU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uT=["pre","script","style","textarea"],BU={concrete:!0,name:"htmlFlow",resolveTo:jU,tokenize:qU},zU={partial:!0,tokenize:GU},FU={partial:!0,tokenize:HU};function jU(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function qU(n,t,e){const r=this;let a,l,c,f,p;return m;function m(M){return _(M)}function _(M){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(M),T}function T(M){return M===33?(n.consume(M),R):M===47?(n.consume(M),l=!0,B):M===63?(n.consume(M),a=3,r.interrupt?t:I):Ki(M)?(n.consume(M),c=String.fromCharCode(M),q):e(M)}function R(M){return M===45?(n.consume(M),a=2,S):M===91?(n.consume(M),a=5,f=0,V):Ki(M)?(n.consume(M),a=4,r.interrupt?t:I):e(M)}function S(M){return M===45?(n.consume(M),r.interrupt?t:I):e(M)}function V(M){const _t="CDATA[";return M===_t.charCodeAt(f++)?(n.consume(M),f===_t.length?r.interrupt?t:F:V):e(M)}function B(M){return Ki(M)?(n.consume(M),c=String.fromCharCode(M),q):e(M)}function q(M){if(M===null||M===47||M===62||Ln(M)){const _t=M===47,Dt=c.toLowerCase();return!_t&&!l&&uT.includes(Dt)?(a=1,r.interrupt?t(M):F(M)):VU.includes(c.toLowerCase())?(a=6,_t?(n.consume(M),K):r.interrupt?t(M):F(M)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?e(M):l?nt(M):J(M))}return M===45||Zn(M)?(n.consume(M),c+=String.fromCharCode(M),q):e(M)}function K(M){return M===62?(n.consume(M),r.interrupt?t:F):e(M)}function nt(M){return ce(M)?(n.consume(M),nt):U(M)}function J(M){return M===47?(n.consume(M),U):M===58||M===95||Ki(M)?(n.consume(M),ct):ce(M)?(n.consume(M),J):U(M)}function ct(M){return M===45||M===46||M===58||M===95||Zn(M)?(n.consume(M),ct):ut(M)}function ut(M){return M===61?(n.consume(M),W):ce(M)?(n.consume(M),ut):J(M)}function W(M){return M===null||M===60||M===61||M===62||M===96?e(M):M===34||M===39?(n.consume(M),p=M,z):ce(M)?(n.consume(M),W):N(M)}function z(M){return M===p?(n.consume(M),p=null,k):M===null||Pt(M)?e(M):(n.consume(M),z)}function N(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Ln(M)?ut(M):(n.consume(M),N)}function k(M){return M===47||M===62||ce(M)?J(M):e(M)}function U(M){return M===62?(n.consume(M),L):e(M)}function L(M){return M===null||Pt(M)?F(M):ce(M)?(n.consume(M),L):e(M)}function F(M){return M===45&&a===2?(n.consume(M),dt):M===60&&a===1?(n.consume(M),Et):M===62&&a===4?(n.consume(M),rt):M===63&&a===3?(n.consume(M),I):M===93&&a===5?(n.consume(M),qt):Pt(M)&&(a===6||a===7)?(n.exit("htmlFlowData"),n.check(zU,yt,O)(M)):M===null||Pt(M)?(n.exit("htmlFlowData"),O(M)):(n.consume(M),F)}function O(M){return n.check(FU,gt,yt)(M)}function gt(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),vt}function vt(M){return M===null||Pt(M)?O(M):(n.enter("htmlFlowData"),F(M))}function dt(M){return M===45?(n.consume(M),I):F(M)}function Et(M){return M===47?(n.consume(M),c="",Tt):F(M)}function Tt(M){if(M===62){const _t=c.toLowerCase();return uT.includes(_t)?(n.consume(M),rt):F(M)}return Ki(M)&&c.length<8?(n.consume(M),c+=String.fromCharCode(M),Tt):F(M)}function qt(M){return M===93?(n.consume(M),I):F(M)}function I(M){return M===62?(n.consume(M),rt):M===45&&a===2?(n.consume(M),I):F(M)}function rt(M){return M===null||Pt(M)?(n.exit("htmlFlowData"),yt(M)):(n.consume(M),rt)}function yt(M){return n.exit("htmlFlow"),t(M)}}function HU(n,t,e){const r=this;return a;function a(c){return Pt(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l):e(c)}function l(c){return r.parser.lazy[r.now().line]?e(c):t(c)}}function GU(n,t,e){return r;function r(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),n.attempt(wf,t,e)}}const KU={name:"htmlText",tokenize:QU};function QU(n,t,e){const r=this;let a,l,c;return f;function f(I){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(I),p}function p(I){return I===33?(n.consume(I),m):I===47?(n.consume(I),ut):I===63?(n.consume(I),J):Ki(I)?(n.consume(I),N):e(I)}function m(I){return I===45?(n.consume(I),_):I===91?(n.consume(I),l=0,V):Ki(I)?(n.consume(I),nt):e(I)}function _(I){return I===45?(n.consume(I),S):e(I)}function T(I){return I===null?e(I):I===45?(n.consume(I),R):Pt(I)?(c=T,Et(I)):(n.consume(I),T)}function R(I){return I===45?(n.consume(I),S):T(I)}function S(I){return I===62?dt(I):I===45?R(I):T(I)}function V(I){const rt="CDATA[";return I===rt.charCodeAt(l++)?(n.consume(I),l===rt.length?B:V):e(I)}function B(I){return I===null?e(I):I===93?(n.consume(I),q):Pt(I)?(c=B,Et(I)):(n.consume(I),B)}function q(I){return I===93?(n.consume(I),K):B(I)}function K(I){return I===62?dt(I):I===93?(n.consume(I),K):B(I)}function nt(I){return I===null||I===62?dt(I):Pt(I)?(c=nt,Et(I)):(n.consume(I),nt)}function J(I){return I===null?e(I):I===63?(n.consume(I),ct):Pt(I)?(c=J,Et(I)):(n.consume(I),J)}function ct(I){return I===62?dt(I):J(I)}function ut(I){return Ki(I)?(n.consume(I),W):e(I)}function W(I){return I===45||Zn(I)?(n.consume(I),W):z(I)}function z(I){return Pt(I)?(c=z,Et(I)):ce(I)?(n.consume(I),z):dt(I)}function N(I){return I===45||Zn(I)?(n.consume(I),N):I===47||I===62||Ln(I)?k(I):e(I)}function k(I){return I===47?(n.consume(I),dt):I===58||I===95||Ki(I)?(n.consume(I),U):Pt(I)?(c=k,Et(I)):ce(I)?(n.consume(I),k):dt(I)}function U(I){return I===45||I===46||I===58||I===95||Zn(I)?(n.consume(I),U):L(I)}function L(I){return I===61?(n.consume(I),F):Pt(I)?(c=L,Et(I)):ce(I)?(n.consume(I),L):k(I)}function F(I){return I===null||I===60||I===61||I===62||I===96?e(I):I===34||I===39?(n.consume(I),a=I,O):Pt(I)?(c=F,Et(I)):ce(I)?(n.consume(I),F):(n.consume(I),gt)}function O(I){return I===a?(n.consume(I),a=void 0,vt):I===null?e(I):Pt(I)?(c=O,Et(I)):(n.consume(I),O)}function gt(I){return I===null||I===34||I===39||I===60||I===61||I===96?e(I):I===47||I===62||Ln(I)?k(I):(n.consume(I),gt)}function vt(I){return I===47||I===62||Ln(I)?k(I):e(I)}function dt(I){return I===62?(n.consume(I),n.exit("htmlTextData"),n.exit("htmlText"),t):e(I)}function Et(I){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),Tt}function Tt(I){return ce(I)?Ee(n,qt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):qt(I)}function qt(I){return n.enter("htmlTextData"),c(I)}}const $g={name:"labelEnd",resolveAll:WU,resolveTo:ZU,tokenize:JU},YU={tokenize:tP},XU={tokenize:eP},$U={tokenize:nP};function WU(n){let t=-1;const e=[];for(;++t<n.length;){const r=n[t][1];if(e.push(n[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return n.length!==e.length&&er(n,0,n.length,e),n}function ZU(n,t){let e=n.length,r=0,a,l,c,f;for(;e--;)if(a=n[e][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;n[e][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(n[e][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=e,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(c=e);const p={type:n[l][1].type==="labelLink"?"link":"image",start:{...n[l][1].start},end:{...n[n.length-1][1].end}},m={type:"label",start:{...n[l][1].start},end:{...n[c][1].end}},_={type:"labelText",start:{...n[l+r+2][1].end},end:{...n[c-2][1].start}};return f=[["enter",p,t],["enter",m,t]],f=gi(f,n.slice(l+1,l+r+3)),f=gi(f,[["enter",_,t]]),f=gi(f,Xg(t.parser.constructs.insideSpan.null,n.slice(l+r+4,c-3),t)),f=gi(f,[["exit",_,t],n[c-2],n[c-1],["exit",m,t]]),f=gi(f,n.slice(c+1)),f=gi(f,[["exit",p,t]]),er(n,l,n.length,f),n}function JU(n,t,e){const r=this;let a=r.events.length,l,c;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return f;function f(R){return l?l._inactive?T(R):(c=r.parser.defined.includes(No(r.sliceSerialize({start:l.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(R),n.exit("labelMarker"),n.exit("labelEnd"),p):e(R)}function p(R){return R===40?n.attempt(YU,_,c?_:T)(R):R===91?n.attempt(XU,_,c?m:T)(R):c?_(R):T(R)}function m(R){return n.attempt($U,_,T)(R)}function _(R){return t(R)}function T(R){return l._balanced=!0,e(R)}}function tP(n,t,e){return r;function r(T){return n.enter("resource"),n.enter("resourceMarker"),n.consume(T),n.exit("resourceMarker"),a}function a(T){return Ln(T)?du(n,l)(T):l(T)}function l(T){return T===41?_(T):BS(n,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return Ln(T)?du(n,p)(T):_(T)}function f(T){return e(T)}function p(T){return T===34||T===39||T===40?FS(n,m,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):_(T)}function m(T){return Ln(T)?du(n,_)(T):_(T)}function _(T){return T===41?(n.enter("resourceMarker"),n.consume(T),n.exit("resourceMarker"),n.exit("resource"),t):e(T)}}function eP(n,t,e){const r=this;return a;function a(f){return zS.call(r,n,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(No(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):e(f)}function c(f){return e(f)}}function nP(n,t,e){return r;function r(l){return n.enter("reference"),n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),a}function a(l){return l===93?(n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),n.exit("reference"),t):e(l)}}const iP={name:"labelStartImage",resolveAll:$g.resolveAll,tokenize:rP};function rP(n,t,e){const r=this;return a;function a(f){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(f),n.exit("labelImageMarker"),l}function l(f){return f===91?(n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelImage"),c):e(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?e(f):t(f)}}const sP={name:"labelStartLink",resolveAll:$g.resolveAll,tokenize:aP};function aP(n,t,e){const r=this;return a;function a(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?e(c):t(c)}}const Qp={name:"lineEnding",tokenize:oP};function oP(n,t){return e;function e(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Ee(n,t,"linePrefix")}}const Rh={name:"thematicBreak",tokenize:lP};function lP(n,t,e){let r=0,a;return l;function l(m){return n.enter("thematicBreak"),c(m)}function c(m){return a=m,f(m)}function f(m){return m===a?(n.enter("thematicBreakSequence"),p(m)):r>=3&&(m===null||Pt(m))?(n.exit("thematicBreak"),t(m)):e(m)}function p(m){return m===a?(n.consume(m),r++,p):(n.exit("thematicBreakSequence"),ce(m)?Ee(n,f,"whitespace")(m):f(m))}}const On={continuation:{tokenize:fP},exit:pP,name:"list",tokenize:hP},uP={partial:!0,tokenize:mP},cP={partial:!0,tokenize:dP};function hP(n,t,e){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(S){const V=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(V==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Dm(S)){if(r.containerState.type||(r.containerState.type=V,n.enter(V,{_container:!0})),V==="listUnordered")return n.enter("listItemPrefix"),S===42||S===45?n.check(Rh,e,m)(S):m(S);if(!r.interrupt||S===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(S)}return e(S)}function p(S){return Dm(S)&&++c<10?(n.consume(S),p):(!r.interrupt||c<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(n.exit("listItemValue"),m(S)):e(S)}function m(S){return n.enter("listItemMarker"),n.consume(S),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,n.check(wf,r.interrupt?e:_,n.attempt(uP,R,T))}function _(S){return r.containerState.initialBlankLine=!0,l++,R(S)}function T(S){return ce(S)?(n.enter("listItemPrefixWhitespace"),n.consume(S),n.exit("listItemPrefixWhitespace"),R):e(S)}function R(S){return r.containerState.size=l+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(S)}}function fP(n,t,e){const r=this;return r.containerState._closeFlow=void 0,n.check(wf,a,l);function a(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ee(n,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!ce(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(cP,t,c)(f))}function c(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ee(n,n.attempt(On,t,e),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function dP(n,t,e){const r=this;return Ee(n,a,"listItemIndent",r.containerState.size+1);function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(l):e(l)}}function pP(n){n.exit(this.containerState.type)}function mP(n,t,e){const r=this;return Ee(n,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=r.events[r.events.length-1];return!ce(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):e(l)}}const cT={name:"setextUnderline",resolveTo:gP,tokenize:yP};function gP(n,t){let e=n.length,r,a,l;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){r=e;break}n[e][1].type==="paragraph"&&(a=e)}else n[e][1].type==="content"&&n.splice(e,1),!l&&n[e][1].type==="definition"&&(l=e);const c={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[a][1].type="setextHeadingText",l?(n.splice(a,0,["enter",c,t]),n.splice(l+1,0,["exit",n[r][1],t]),n[r][1].end={...n[l][1].end}):n[r][1]=c,n.push(["exit",c,t]),n}function yP(n,t,e){const r=this;let a;return l;function l(m){let _=r.events.length,T;for(;_--;)if(r.events[_][1].type!=="lineEnding"&&r.events[_][1].type!=="linePrefix"&&r.events[_][1].type!=="content"){T=r.events[_][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||T)?(n.enter("setextHeadingLine"),a=m,c(m)):e(m)}function c(m){return n.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(n.consume(m),f):(n.exit("setextHeadingLineSequence"),ce(m)?Ee(n,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Pt(m)?(n.exit("setextHeadingLine"),t(m)):e(m)}}const _P={tokenize:vP};function vP(n){const t=this,e=n.attempt(wf,r,n.attempt(this.parser.constructs.flowInitial,a,Ee(n,n.attempt(this.parser.constructs.flow,a,n.attempt(SU,a)),"linePrefix")));return e;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEndingBlank"),n.consume(l),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function a(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const EP={resolveAll:qS()},TP=jS("string"),wP=jS("text");function jS(n){return{resolveAll:qS(n==="text"?bP:void 0),tokenize:t};function t(e){const r=this,a=this.parser.constructs[n],l=e.attempt(a,c,f);return c;function c(_){return m(_)?l(_):f(_)}function f(_){if(_===null){e.consume(_);return}return e.enter("data"),e.consume(_),p}function p(_){return m(_)?(e.exit("data"),l(_)):(e.consume(_),p)}function m(_){if(_===null)return!0;const T=a[_];let R=-1;if(T)for(;++R<T.length;){const S=T[R];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function qS(n){return t;function t(e,r){let a=-1,l;for(;++a<=e.length;)l===void 0?e[a]&&e[a][1].type==="data"&&(l=a,a++):(!e[a]||e[a][1].type!=="data")&&(a!==l+2&&(e[l][1].end=e[a-1][1].end,e.splice(l+2,a-l-2),a=l+2),l=void 0);return n?n(e,r):e}}function bP(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const r=n[e-1][1],a=t.sliceStream(r);let l=a.length,c=-1,f=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(m===-2)p=!0,f++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&e===n.length&&(f=0),f){const m={type:e===n.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:r.start._bufferIndex+c,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(n.splice(e,0,["enter",m,t],["exit",m,t]),e+=2)}e++}return n}const SP={42:On,43:On,45:On,48:On,49:On,50:On,51:On,52:On,53:On,54:On,55:On,56:On,57:On,62:US},AP={91:xU},RP={[-2]:Kp,[-1]:Kp,32:Kp},IP={35:UU,42:Rh,45:[cT,Rh],60:BU,61:cT,95:Rh,96:lT,126:lT},CP={38:LS,92:PS},xP={[-5]:Qp,[-4]:Qp,[-3]:Qp,33:iP,38:LS,42:Om,60:[sU,KU],91:sP,92:[NU,PS],93:$g,95:Om,96:_U},kP={null:[Om,EP]},DP={null:[42,95]},OP={null:[]},NP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DP,contentInitial:AP,disable:OP,document:SP,flow:IP,flowInitial:RP,insideSpan:kP,string:CP,text:xP},Symbol.toStringTag,{value:"Module"}));function MP(n,t,e){let r={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:z(ut),check:z(W),consume:nt,enter:J,exit:ct,interrupt:z(W,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:V,parser:n,previous:null,sliceSerialize:R,sliceStream:S,write:T};let _=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function T(L){return c=gi(c,L),q(),c[c.length-1]!==null?[]:(N(t,0),m.events=Xg(l,m.events,m),m.events)}function R(L,F){return PP(S(L),F)}function S(L){return UP(c,L)}function V(){const{_bufferIndex:L,_index:F,line:O,column:gt,offset:vt}=r;return{_bufferIndex:L,_index:F,line:O,column:gt,offset:vt}}function B(L){a[L.line]=L.column,U()}function q(){let L;for(;r._index<c.length;){const F=c[r._index];if(typeof F=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<F.length;)K(F.charCodeAt(r._bufferIndex));else K(F)}}function K(L){_=_(L)}function nt(L){Pt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,U()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=L}function J(L,F){const O=F||{};return O.type=L,O.start=V(),m.events.push(["enter",O,m]),f.push(O),O}function ct(L){const F=f.pop();return F.end=V(),m.events.push(["exit",F,m]),F}function ut(L,F){N(L,F.from)}function W(L,F){F.restore()}function z(L,F){return O;function O(gt,vt,dt){let Et,Tt,qt,I;return Array.isArray(gt)?yt(gt):"tokenize"in gt?yt([gt]):rt(gt);function rt(At){return de;function de(Mt){const ae=Mt!==null&&At[Mt],Kt=Mt!==null&&At.null,Ce=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return yt(Ce)(Mt)}}function yt(At){return Et=At,Tt=0,At.length===0?dt:M(At[Tt])}function M(At){return de;function de(Mt){return I=k(),qt=At,At.partial||(m.currentConstruct=At),At.name&&m.parser.constructs.disable.null.includes(At.name)?Dt():At.tokenize.call(F?Object.assign(Object.create(m),F):m,p,_t,Dt)(Mt)}}function _t(At){return L(qt,I),vt}function Dt(At){return I.restore(),++Tt<Et.length?M(Et[Tt]):dt}}}function N(L,F){L.resolveAll&&!l.includes(L)&&l.push(L),L.resolve&&er(m.events,F,m.events.length-F,L.resolve(m.events.slice(F),m)),L.resolveTo&&(m.events=L.resolveTo(m.events,m))}function k(){const L=V(),F=m.previous,O=m.currentConstruct,gt=m.events.length,vt=Array.from(f);return{from:gt,restore:dt};function dt(){r=L,m.previous=F,m.currentConstruct=O,m.events.length=gt,f=vt,U()}}function U(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function UP(n,t){const e=t.start._index,r=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let c;if(e===a)c=[n[e].slice(r,l)];else{if(c=n.slice(e,a),r>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(r):c.shift()}l>0&&c.push(n[a].slice(0,l))}return c}function PP(n,t){let e=-1;const r=[];let a;for(;++e<n.length;){const l=n[e];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,r.push(c)}return r.join("")}function LP(n){const r={constructs:HM([NP,...(n||{}).extensions||[]]),content:a(ZM),defined:[],document:a(tU),flow:a(_P),lazy:{},string:a(TP),text:a(wP)};return r;function a(l){return c;function c(f){return MP(r,l,f)}}}function VP(n){for(;!VS(n););return n}const hT=/[\0\t\n\r]/g;function BP(){let n=1,t="",e=!0,r;return a;function a(l,c,f){const p=[];let m,_,T,R,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),T=0,t="",e&&(l.charCodeAt(0)===65279&&T++,e=void 0);T<l.length;){if(hT.lastIndex=T,m=hT.exec(l),R=m&&m.index!==void 0?m.index:l.length,S=l.charCodeAt(R),!m){t=l.slice(T);break}if(S===10&&T===R&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),T<R&&(p.push(l.slice(T,R)),n+=R-T),S){case 0:{p.push(65533),n++;break}case 9:{for(_=Math.ceil(n/4)*4,p.push(-2);n++<_;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:r=!0,n=1}T=R+1}return f&&(r&&p.push(-5),t&&p.push(t),p.push(null)),p}}const zP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FP(n){return n.replace(zP,jP)}function jP(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const a=e.charCodeAt(1),l=a===120||a===88;return MS(e.slice(l?2:1),l?16:10)}return Yg(e)||n}const HS={}.hasOwnProperty;function qP(n,t,e){return typeof t!="string"&&(e=t,t=void 0),HP(e)(VP(LP(e).document().write(BP()(n,t,!0))))}function HP(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(_i),autolinkProtocol:k,autolinkEmail:k,atxHeading:l(Bn),blockQuote:l(Kt),characterEscape:k,characterReference:k,codeFenced:l(Ce),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ce,c),codeText:l(Cn,c),codeTextData:k,data:k,codeFlowValue:k,definition:l(Ne),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(xn),hardBreakTrailing:l(xn),htmlFlow:l(Jn,c),htmlFlowData:k,htmlText:l(Jn,c),htmlTextData:k,image:l(Ci),label:c,link:l(_i),listItem:l(Fn),listItemValue:R,listOrdered:l(zn,T),listUnordered:l(zn),paragraph:l(pn),reference:M,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Bn),strong:l(vi),thematicBreak:l(wn)},exit:{atxHeading:p(),atxHeadingSequence:ut,autolink:p(),autolinkEmail:ae,autolinkProtocol:Mt,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Dt,characterReferenceMarkerNumeric:Dt,characterReferenceValue:At,characterReference:de,codeFenced:p(q),codeFencedFence:B,codeFencedFenceInfo:S,codeFencedFenceMeta:V,codeFlowValue:U,codeIndented:p(K),codeText:p(vt),codeTextData:U,data:U,definition:p(),definitionDestinationString:ct,definitionLabelString:nt,definitionTitleString:J,emphasis:p(),hardBreakEscape:p(F),hardBreakTrailing:p(F),htmlFlow:p(O),htmlFlowData:U,htmlText:p(gt),htmlTextData:U,image:p(Et),label:qt,labelText:Tt,lineEnding:L,link:p(dt),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:_t,resourceDestinationString:I,resourceTitleString:rt,resource:yt,setextHeading:p(N),setextHeadingLineSequence:z,setextHeadingText:W,strong:p(),thematicBreak:p()}};GS(t,(n||{}).mdastExtensions||[]);const e={};return r;function r(tt){let A={type:"root",children:[]};const y={stack:[A],tokenStack:[],config:t,enter:f,exit:m,buffer:c,resume:_,data:e},E=[];let D=-1;for(;++D<tt.length;)if(tt[D][1].type==="listOrdered"||tt[D][1].type==="listUnordered")if(tt[D][0]==="enter")E.push(D);else{const j=E.pop();D=a(tt,j,D)}for(D=-1;++D<tt.length;){const j=t[tt[D][0]];HS.call(j,tt[D][1].type)&&j[tt[D][1].type].call(Object.assign({sliceSerialize:tt[D][2].sliceSerialize},y),tt[D][1])}if(y.tokenStack.length>0){const j=y.tokenStack[y.tokenStack.length-1];(j[1]||fT).call(y,void 0,j[0])}for(A.position={start:vs(tt.length>0?tt[0][1].start:{line:1,column:1,offset:0}),end:vs(tt.length>0?tt[tt.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<t.transforms.length;)A=t.transforms[D](A)||A;return A}function a(tt,A,y){let E=A-1,D=-1,j=!1,$,it,Rt,te;for(;++E<=y;){const Nt=tt[E];switch(Nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nt[0]==="enter"?D++:D--,te=void 0;break}case"lineEndingBlank":{Nt[0]==="enter"&&($&&!te&&!D&&!Rt&&(Rt=E),te=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:te=void 0}if(!D&&Nt[0]==="enter"&&Nt[1].type==="listItemPrefix"||D===-1&&Nt[0]==="exit"&&(Nt[1].type==="listUnordered"||Nt[1].type==="listOrdered")){if($){let Vt=E;for(it=void 0;Vt--;){const jt=tt[Vt];if(jt[1].type==="lineEnding"||jt[1].type==="lineEndingBlank"){if(jt[0]==="exit")continue;it&&(tt[it][1].type="lineEndingBlank",j=!0),jt[1].type="lineEnding",it=Vt}else if(!(jt[1].type==="linePrefix"||jt[1].type==="blockQuotePrefix"||jt[1].type==="blockQuotePrefixWhitespace"||jt[1].type==="blockQuoteMarker"||jt[1].type==="listItemIndent"))break}Rt&&(!it||Rt<it)&&($._spread=!0),$.end=Object.assign({},it?tt[it][1].start:Nt[1].end),tt.splice(it||E,0,["exit",$,Nt[2]]),E++,y++}if(Nt[1].type==="listItemPrefix"){const Vt={type:"listItem",_spread:!1,start:Object.assign({},Nt[1].start),end:void 0};$=Vt,tt.splice(E,0,["enter",Vt,Nt[2]]),E++,y++,Rt=void 0,te=!0}}}return tt[A][1]._spread=j,y}function l(tt,A){return y;function y(E){f.call(this,tt(E),E),A&&A.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(tt,A,y){this.stack[this.stack.length-1].children.push(tt),this.stack.push(tt),this.tokenStack.push([A,y||void 0]),tt.position={start:vs(A.start),end:void 0}}function p(tt){return A;function A(y){tt&&tt.call(this,y),m.call(this,y)}}function m(tt,A){const y=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==tt.type&&(A?A.call(this,tt,E[0]):(E[1]||fT).call(this,tt,E[0]));else throw new Error("Cannot close `"+tt.type+"` ("+fu({start:tt.start,end:tt.end})+"): it’s not open");y.position.end=vs(tt.end)}function _(){return jM(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function R(tt){if(this.data.expectingFirstListItemValue){const A=this.stack[this.stack.length-2];A.start=Number.parseInt(this.sliceSerialize(tt),10),this.data.expectingFirstListItemValue=void 0}}function S(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.lang=tt}function V(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.meta=tt}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function q(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function K(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt.replace(/(\r?\n|\r)$/g,"")}function nt(tt){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=No(this.sliceSerialize(tt)).toLowerCase()}function J(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.title=tt}function ct(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.url=tt}function ut(tt){const A=this.stack[this.stack.length-1];if(!A.depth){const y=this.sliceSerialize(tt).length;A.depth=y}}function W(){this.data.setextHeadingSlurpLineEnding=!0}function z(tt){const A=this.stack[this.stack.length-1];A.depth=this.sliceSerialize(tt).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function k(tt){const y=this.stack[this.stack.length-1].children;let E=y[y.length-1];(!E||E.type!=="text")&&(E=We(),E.position={start:vs(tt.start),end:void 0},y.push(E)),this.stack.push(E)}function U(tt){const A=this.stack.pop();A.value+=this.sliceSerialize(tt),A.position.end=vs(tt.end)}function L(tt){const A=this.stack[this.stack.length-1];if(this.data.atHardBreak){const y=A.children[A.children.length-1];y.position.end=vs(tt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(A.type)&&(k.call(this,tt),U.call(this,tt))}function F(){this.data.atHardBreak=!0}function O(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt}function gt(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt}function vt(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.value=tt}function dt(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=A,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function Et(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=A,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function Tt(tt){const A=this.sliceSerialize(tt),y=this.stack[this.stack.length-2];y.label=FP(A),y.identifier=No(A).toLowerCase()}function qt(){const tt=this.stack[this.stack.length-1],A=this.resume(),y=this.stack[this.stack.length-1];if(this.data.inReference=!0,y.type==="link"){const E=tt.children;y.children=E}else y.alt=A}function I(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.url=tt}function rt(){const tt=this.resume(),A=this.stack[this.stack.length-1];A.title=tt}function yt(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function _t(tt){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=No(this.sliceSerialize(tt)).toLowerCase(),this.data.referenceType="full"}function Dt(tt){this.data.characterReferenceType=tt.type}function At(tt){const A=this.sliceSerialize(tt),y=this.data.characterReferenceType;let E;y?(E=MS(A,y==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=Yg(A);const D=this.stack[this.stack.length-1];D.value+=E}function de(tt){const A=this.stack.pop();A.position.end=vs(tt.end)}function Mt(tt){U.call(this,tt);const A=this.stack[this.stack.length-1];A.url=this.sliceSerialize(tt)}function ae(tt){U.call(this,tt);const A=this.stack[this.stack.length-1];A.url="mailto:"+this.sliceSerialize(tt)}function Kt(){return{type:"blockquote",children:[]}}function Ce(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function Bn(){return{type:"heading",depth:0,children:[]}}function xn(){return{type:"break"}}function Jn(){return{type:"html",value:""}}function Ci(){return{type:"image",title:null,url:"",alt:null}}function _i(){return{type:"link",title:null,url:"",children:[]}}function zn(tt){return{type:"list",ordered:tt.type==="listOrdered",start:null,spread:tt._spread,children:[]}}function Fn(tt){return{type:"listItem",spread:tt._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function vi(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function wn(){return{type:"thematicBreak"}}}function vs(n){return{line:n.line,column:n.column,offset:n.offset}}function GS(n,t){let e=-1;for(;++e<t.length;){const r=t[e];Array.isArray(r)?GS(n,r):GP(n,r)}}function GP(n,t){let e;for(e in t)if(HS.call(t,e))switch(e){case"canContainEols":{const r=t[e];r&&n[e].push(...r);break}case"transforms":{const r=t[e];r&&n[e].push(...r);break}case"enter":case"exit":{const r=t[e];r&&Object.assign(n[e],r);break}}}function fT(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+fu({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is still open")}function KP(n){const t=this;t.parser=e;function e(r){return qP(r,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function QP(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function YP(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function XP(n,t){const e=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:e}]};return t.meta&&(a.data={meta:t.meta}),n.patch(t,a),a=n.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},n.patch(t,a),a}function $P(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function WP(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function ZP(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Xo(r.toLowerCase()),l=n.footnoteOrder.indexOf(r);let c,f=n.footnoteCounts.get(r);f===void 0?(f=0,n.footnoteOrder.push(r),c=n.footnoteOrder.length):c=l+1,f+=1,n.footnoteCounts.set(r,f);const p={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+a,id:e+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};n.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return n.patch(t,m),n.applyData(t,m)}function JP(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function tL(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function KS(n,t){const e=t.referenceType;let r="]";if(e==="collapsed"?r+="[]":e==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=n.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=r:a.push({type:"text",value:r}),a}function eL(n,t){const e=String(t.identifier).toUpperCase(),r=n.definitionById.get(e);if(!r)return KS(n,t);const a={src:Xo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return n.patch(t,l),n.applyData(t,l)}function nL(n,t){const e={src:Xo(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const r={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,r),n.applyData(t,r)}function iL(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const r={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,r),n.applyData(t,r)}function rL(n,t){const e=String(t.identifier).toUpperCase(),r=n.definitionById.get(e);if(!r)return KS(n,t);const a={href:Xo(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:n.all(t)};return n.patch(t,l),n.applyData(t,l)}function sL(n,t){const e={href:Xo(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const r={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function aL(n,t,e){const r=n.all(t),a=e?oL(e):QS(t),l={},c=[];if(typeof t.checked=="boolean"){const _=r[0];let T;_&&_.type==="element"&&_.tagName==="p"?T=_:(T={type:"element",tagName:"p",properties:{},children:[]},r.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const _=r[f];(a||f!==0||_.type!=="element"||_.tagName!=="p")&&c.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!a?c.push(..._.children):c.push(_)}const p=r[r.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return n.patch(t,m),n.applyData(t,m)}function oL(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let r=-1;for(;!t&&++r<e.length;)t=QS(e[r])}return t}function QS(n){const t=n.spread;return t??n.children.length>1}function lL(n,t){const e={},r=n.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++a<r.length;){const c=r[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(r,!0)};return n.patch(t,l),n.applyData(t,l)}function uL(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function cL(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function hL(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function fL(n,t){const e=n.all(t),r=e.shift(),a=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(t.children[0],c),a.push(c)}if(e.length>0){const c={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},f=Hg(t.children[1]),p=IS(t.children[t.children.length-1]);f&&p&&(c.position={start:f,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:n.wrap(a,!0)};return n.patch(t,l),n.applyData(t,l)}function dL(n,t,e){const r=e?e.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",c=e&&e.type==="table"?e.align:void 0,f=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<f;){const T=t.children[p],R={},S=c?c[p]:void 0;S&&(R.align=S);let V={type:"element",tagName:l,properties:R,children:[]};T&&(V.children=n.all(T),n.patch(T,V),V=n.applyData(T,V)),m.push(V)}const _={type:"element",tagName:"tr",properties:{},children:n.wrap(m,!0)};return n.patch(t,_),n.applyData(t,_)}function pL(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const dT=9,pT=32;function mL(n){const t=String(n),e=/\r?\n|\r/g;let r=e.exec(t),a=0;const l=[];for(;r;)l.push(mT(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=e.exec(t);return l.push(mT(t.slice(a),a>0,!1)),l.join("")}function mT(n,t,e){let r=0,a=n.length;if(t){let l=n.codePointAt(r);for(;l===dT||l===pT;)r++,l=n.codePointAt(r)}if(e){let l=n.codePointAt(a-1);for(;l===dT||l===pT;)a--,l=n.codePointAt(a-1)}return a>r?n.slice(r,a):""}function gL(n,t){const e={type:"text",value:mL(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function yL(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const _L={blockquote:QP,break:YP,code:XP,delete:$P,emphasis:WP,footnoteReference:ZP,heading:JP,html:tL,imageReference:eL,image:nL,inlineCode:iL,linkReference:rL,link:sL,listItem:aL,list:lL,paragraph:uL,root:cL,strong:hL,table:fL,tableCell:pL,tableRow:dL,text:gL,thematicBreak:yL,toml:dh,yaml:dh,definition:dh,footnoteDefinition:dh};function dh(){}const YS=-1,bf=0,pu=1,Xh=2,Wg=3,Zg=4,Jg=5,ty=6,XS=7,$S=8,gT=typeof self=="object"?self:globalThis,vL=(n,t)=>{const e=(a,l)=>(n.set(l,a),a),r=a=>{if(n.has(a))return n.get(a);const[l,c]=t[a];switch(l){case bf:case YS:return e(c,a);case pu:{const f=e([],a);for(const p of c)f.push(r(p));return f}case Xh:{const f=e({},a);for(const[p,m]of c)f[r(p)]=r(m);return f}case Wg:return e(new Date(c),a);case Zg:{const{source:f,flags:p}=c;return e(new RegExp(f,p),a)}case Jg:{const f=e(new Map,a);for(const[p,m]of c)f.set(r(p),r(m));return f}case ty:{const f=e(new Set,a);for(const p of c)f.add(r(p));return f}case XS:{const{name:f,message:p}=c;return e(new gT[f](p),a)}case $S:return e(BigInt(c),a);case"BigInt":return e(Object(BigInt(c)),a);case"ArrayBuffer":return e(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return e(new DataView(f),c)}}return e(new gT[l](c),a)};return r},yT=n=>vL(new Map,n)(0),To="",{toString:EL}={},{keys:TL}=Object,eu=n=>{const t=typeof n;if(t!=="object"||!n)return[bf,t];const e=EL.call(n).slice(8,-1);switch(e){case"Array":return[pu,To];case"Object":return[Xh,To];case"Date":return[Wg,To];case"RegExp":return[Zg,To];case"Map":return[Jg,To];case"Set":return[ty,To];case"DataView":return[pu,e]}return e.includes("Array")?[pu,e]:e.includes("Error")?[XS,e]:[Xh,e]},ph=([n,t])=>n===bf&&(t==="function"||t==="symbol"),wL=(n,t,e,r)=>{const a=(c,f)=>{const p=r.push(c)-1;return e.set(f,p),p},l=c=>{if(e.has(c))return e.get(c);let[f,p]=eu(c);switch(f){case bf:{let _=c;switch(p){case"bigint":f=$S,_=c.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+p);_=null;break;case"undefined":return a([YS],c)}return a([f,_],c)}case pu:{if(p){let R=c;return p==="DataView"?R=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(R=new Uint8Array(c)),a([p,[...R]],c)}const _=[],T=a([f,_],c);for(const R of c)_.push(l(R));return T}case Xh:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const _=[],T=a([f,_],c);for(const R of TL(c))(n||!ph(eu(c[R])))&&_.push([l(R),l(c[R])]);return T}case Wg:return a([f,c.toISOString()],c);case Zg:{const{source:_,flags:T}=c;return a([f,{source:_,flags:T}],c)}case Jg:{const _=[],T=a([f,_],c);for(const[R,S]of c)(n||!(ph(eu(R))||ph(eu(S))))&&_.push([l(R),l(S)]);return T}case ty:{const _=[],T=a([f,_],c);for(const R of c)(n||!ph(eu(R)))&&_.push(l(R));return T}}const{message:m}=c;return a([f,{name:p,message:m}],c)};return l},_T=(n,{json:t,lossy:e}={})=>{const r=[];return wL(!(t||e),!!t,new Map,r)(n),r},$h=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?yT(_T(n,t)):structuredClone(n):(n,t)=>yT(_T(n,t));function bL(n,t){const e=[{type:"text",value:"↩"}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function SL(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function AL(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||bL,r=n.options.footnoteBackLabel||SL,a=n.options.footnoteLabel||"Footnotes",l=n.options.footnoteLabelTagName||"h2",c=n.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<n.footnoteOrder.length;){const m=n.footnoteById.get(n.footnoteOrder[p]);if(!m)continue;const _=n.all(m),T=String(m.identifier).toUpperCase(),R=Xo(T.toLowerCase());let S=0;const V=[],B=n.footnoteCounts.get(T);for(;B!==void 0&&++S<=B;){V.length>0&&V.push({type:"text",value:" "});let nt=typeof e=="string"?e:e(p,S);typeof nt=="string"&&(nt={type:"text",value:nt}),V.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+R+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,S),className:["data-footnote-backref"]},children:Array.isArray(nt)?nt:[nt]})}const q=_[_.length-1];if(q&&q.type==="element"&&q.tagName==="p"){const nt=q.children[q.children.length-1];nt&&nt.type==="text"?nt.value+=" ":q.children.push({type:"text",value:" "}),q.children.push(...V)}else _.push(...V);const K={type:"element",tagName:"li",properties:{id:t+"fn-"+R},children:n.wrap(_,!0)};n.patch(m,K),f.push(K)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...$h(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(f,!0)},{type:"text",value:`
`}]}}const WS=function(n){if(n==null)return xL;if(typeof n=="function")return Sf(n);if(typeof n=="object")return Array.isArray(n)?RL(n):IL(n);if(typeof n=="string")return CL(n);throw new Error("Expected function, string, or object as test")};function RL(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=WS(n[e]);return Sf(r);function r(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function IL(n){const t=n;return Sf(e);function e(r){const a=r;let l;for(l in n)if(a[l]!==t[l])return!1;return!0}}function CL(n){return Sf(t);function t(e){return e&&e.type===n}}function Sf(n){return t;function t(e,r,a){return!!(kL(e)&&n.call(this,e,typeof r=="number"?r:void 0,a||void 0))}}function xL(){return!0}function kL(n){return n!==null&&typeof n=="object"&&"type"in n}const ZS=[],DL=!0,vT=!1,OL="skip";function NL(n,t,e,r){let a;typeof t=="function"&&typeof e!="function"?(r=e,e=t):a=t;const l=WS(a),c=r?-1:1;f(n,void 0,[])();function f(p,m,_){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const S=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(R,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return R;function R(){let S=ZS,V,B,q;if((!t||l(p,m,_[_.length-1]||void 0))&&(S=ML(e(p,_)),S[0]===vT))return S;if("children"in p&&p.children){const K=p;if(K.children&&S[0]!==OL)for(B=(r?K.children.length:-1)+c,q=_.concat(K);B>-1&&B<K.children.length;){const nt=K.children[B];if(V=f(nt,B,q)(),V[0]===vT)return V;B=typeof V[1]=="number"?V[1]:B+c}}return S}}}function ML(n){return Array.isArray(n)?n:typeof n=="number"?[DL,n]:n==null?ZS:[n]}function JS(n,t,e,r){let a,l,c;typeof t=="function"?(l=void 0,c=t,a=e):(l=t,c=e,a=r),NL(n,l,f,a);function f(p,m){const _=m[m.length-1],T=_?_.children.indexOf(p):void 0;return c(p,T,_)}}const Nm={}.hasOwnProperty,UL={};function PL(n,t){const e=t||UL,r=new Map,a=new Map,l=new Map,c={..._L,...e.handlers},f={all:m,applyData:VL,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:e,patch:LL,wrap:zL};return JS(n,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const T=_.type==="definition"?r:a,R=String(_.identifier).toUpperCase();T.has(R)||T.set(R,_)}}),f;function p(_,T){const R=_.type,S=f.handlers[R];if(Nm.call(f.handlers,R)&&S)return S(f,_,T);if(f.options.passThrough&&f.options.passThrough.includes(R)){if("children"in _){const{children:B,...q}=_,K=$h(q);return K.children=f.all(_),K}return $h(_)}return(f.options.unknownHandler||BL)(f,_,T)}function m(_){const T=[];if("children"in _){const R=_.children;let S=-1;for(;++S<R.length;){const V=f.one(R[S],_);if(V){if(S&&R[S-1].type==="break"&&(!Array.isArray(V)&&V.type==="text"&&(V.value=ET(V.value)),!Array.isArray(V)&&V.type==="element")){const B=V.children[0];B&&B.type==="text"&&(B.value=ET(B.value))}Array.isArray(V)?T.push(...V):T.push(V)}}}return T}}function LL(n,t){n.position&&(t.position=_M(n))}function VL(n,t){let e=t;if(n&&n.data){const r=n.data.hName,a=n.data.hChildren,l=n.data.hProperties;if(typeof r=="string")if(e.type==="element")e.tagName=r;else{const c="children"in e?e.children:[e];e={type:"element",tagName:r,properties:{},children:c}}e.type==="element"&&l&&Object.assign(e.properties,$h(l)),"children"in e&&e.children&&a!==null&&a!==void 0&&(e.children=a)}return e}function BL(n,t){const e=t.data||{},r="value"in t&&!(Nm.call(e,"hProperties")||Nm.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,r),n.applyData(t,r)}function zL(n,t){const e=[];let r=-1;for(t&&e.push({type:"text",value:`
`});++r<n.length;)r&&e.push({type:"text",value:`
`}),e.push(n[r]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function ET(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function TT(n,t){const e=PL(n,t),r=e.one(n,void 0),a=AL(e),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function FL(n,t){return n&&"run"in n?async function(e,r){const a=TT(e,{file:r,...t});await n.run(a,r)}:function(e,r){return TT(e,{file:r,...n||t})}}function wT(n){if(n)throw n}var Yp,bT;function jL(){if(bT)return Yp;bT=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var _=n.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&n.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!_&&!T)return!1;var R;for(R in m);return typeof R>"u"||n.call(m,R)},c=function(m,_){e&&_.name==="__proto__"?e(m,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):m[_.name]=_.newValue},f=function(m,_){if(_==="__proto__")if(n.call(m,_)){if(r)return r(m,_).value}else return;return m[_]};return Yp=function p(){var m,_,T,R,S,V,B=arguments[0],q=1,K=arguments.length,nt=!1;for(typeof B=="boolean"&&(nt=B,B=arguments[1]||{},q=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});q<K;++q)if(m=arguments[q],m!=null)for(_ in m)T=f(B,_),R=f(m,_),B!==R&&(nt&&R&&(l(R)||(S=a(R)))?(S?(S=!1,V=T&&a(T)?T:[]):V=T&&l(T)?T:{},c(B,{name:_,newValue:p(nt,V,R)})):typeof R<"u"&&c(B,{name:_,newValue:R}));return B},Yp}var qL=jL();const Xp=Su(qL);function Mm(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function HL(){const n=[],t={run:e,use:r};return t;function e(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...m){const _=n[++l];let T=-1;if(p){c(p);return}for(;++T<a.length;)(m[T]===null||m[T]===void 0)&&(m[T]=a[T]);a=m,_?GL(_,f)(...m):c(null,...m)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return n.push(a),t}}function GL(n,t){let e;return r;function r(...c){const f=n.length>c.length;let p;f&&c.push(a);try{p=n.apply(this,c)}catch(m){const _=m;if(f&&e)throw _;return a(_)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){e||(e=!0,t(c,...f))}function l(c){a(null,c)}}const Hi={basename:KL,dirname:QL,extname:YL,join:XL,sep:"/"};function KL(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vu(n);let e=0,r=-1,a=n.length,l;if(t===void 0||t.length===0||t.length>n.length){for(;a--;)if(n.codePointAt(a)===47){if(l){e=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":n.slice(e,r)}if(t===n)return"";let c=-1,f=t.length-1;for(;a--;)if(n.codePointAt(a)===47){if(l){e=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(n.codePointAt(a)===t.codePointAt(f--)?f<0&&(r=a):(f=-1,r=c));return e===r?r=c:r<0&&(r=n.length),n.slice(e,r)}function QL(n){if(Vu(n),n.length===0)return".";let t=-1,e=n.length,r;for(;--e;)if(n.codePointAt(e)===47){if(r){t=e;break}}else r||(r=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function YL(n){Vu(n);let t=n.length,e=-1,r=0,a=-1,l=0,c;for(;t--;){const f=n.codePointAt(t);if(f===47){if(c){r=t+1;break}continue}e<0&&(c=!0,e=t+1),f===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||e<0||l===0||l===1&&a===e-1&&a===r+1?"":n.slice(a,e)}function XL(...n){let t=-1,e;for(;++t<n.length;)Vu(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":$L(e)}function $L(n){Vu(n);const t=n.codePointAt(0)===47;let e=WL(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function WL(n,t){let e="",r=0,a=-1,l=0,c=-1,f,p;for(;++c<=n.length;){if(c<n.length)f=n.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(e.length<2||r!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(p=e.lastIndexOf("/"),p!==e.length-1){p<0?(e="",r=0):(e=e.slice(0,p),r=e.length-1-e.lastIndexOf("/")),a=c,l=0;continue}}else if(e.length>0){e="",r=0,a=c,l=0;continue}}t&&(e=e.length>0?e+"/..":"..",r=2)}else e.length>0?e+="/"+n.slice(a+1,c):e=n.slice(a+1,c),r=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return e}function Vu(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const ZL={cwd:JL};function JL(){return"/"}function Um(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function tV(n){if(typeof n=="string")n=new URL(n);else if(!Um(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return eV(n)}function eV(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const r=t.codePointAt(e+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const $p=["history","path","basename","stem","extname","dirname"];class tA{constructor(t){let e;t?Um(t)?e={path:t}:typeof t=="string"||nV(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":ZL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$p.length;){const l=$p[r];l in e&&e[l]!==void 0&&e[l]!==null&&(this[l]=l==="history"?[...e[l]]:e[l])}let a;for(a in e)$p.includes(a)||(this[a]=e[a])}get basename(){return typeof this.path=="string"?Hi.basename(this.path):void 0}set basename(t){Zp(t,"basename"),Wp(t,"basename"),this.path=Hi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Hi.dirname(this.path):void 0}set dirname(t){ST(this.basename,"dirname"),this.path=Hi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Hi.extname(this.path):void 0}set extname(t){if(Wp(t,"extname"),ST(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Um(t)&&(t=tV(t)),Zp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Hi.basename(this.path,this.extname):void 0}set stem(t){Zp(t,"stem"),Wp(t,"stem"),this.path=Hi.join(this.dirname||"",t+(this.extname||""))}fail(t,e,r){const a=this.message(t,e,r);throw a.fatal=!0,a}info(t,e,r){const a=this.message(t,e,r);return a.fatal=void 0,a}message(t,e,r){const a=new Tn(t,e,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Wp(n,t){if(n&&n.includes(Hi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Hi.sep+"`")}function Zp(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function ST(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function nV(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const iV=function(n){const r=this.constructor.prototype,a=r[n],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},rV={}.hasOwnProperty;class ey extends iV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=HL()}copy(){const t=new ey;let e=-1;for(;++e<this.attachers.length;){const r=this.attachers[e];t.use(...r)}return t.data(Xp(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(em("data",this.frozen),this.namespace[t]=e,this):rV.call(this.namespace,t)&&this.namespace[t]||void 0:t?(em("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=e.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=mh(t),r=this.parser||this.Parser;return Jp("parse",r),r(String(e),e)}process(t,e){const r=this;return this.freeze(),Jp("process",this.parser||this.Parser),tm("process",this.compiler||this.Compiler),e?a(void 0,e):new Promise(a);function a(l,c){const f=mh(t),p=r.parse(f);r.run(p,f,function(_,T,R){if(_||!T||!R)return m(_);const S=T,V=r.stringify(S,R);oV(V)?R.value=V:R.result=V,m(_,R)});function m(_,T){_||!T?c(_):l?l(T):e(void 0,T)}}}processSync(t){let e=!1,r;return this.freeze(),Jp("processSync",this.parser||this.Parser),tm("processSync",this.compiler||this.Compiler),this.process(t,a),RT("processSync","process",e),r;function a(l,c){e=!0,wT(l),r=c}}run(t,e,r){AT(t),this.freeze();const a=this.transformers;return!r&&typeof e=="function"&&(r=e,e=void 0),r?l(void 0,r):new Promise(l);function l(c,f){const p=mh(e);a.run(t,p,m);function m(_,T,R){const S=T||t;_?f(_):c?c(S):r(void 0,S,R)}}}runSync(t,e){let r=!1,a;return this.run(t,e,l),RT("runSync","run",r),a;function l(c,f){wT(c),a=f,r=!0}}stringify(t,e){this.freeze();const r=mh(e),a=this.compiler||this.Compiler;return tm("stringify",a),AT(t),a(t,r)}use(t,...e){const r=this.attachers,a=this.namespace;if(em("use",this.frozen),t!=null)if(typeof t=="function")p(t,e);else if(typeof t=="object")Array.isArray(t)?f(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[_,...T]=m;p(_,T)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=Xp(!0,a.settings,m.settings))}function f(m){let _=-1;if(m!=null)if(Array.isArray(m))for(;++_<m.length;){const T=m[_];l(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,_){let T=-1,R=-1;for(;++T<r.length;)if(r[T][0]===m){R=T;break}if(R===-1)r.push([m,..._]);else if(_.length>0){let[S,...V]=_;const B=r[R][1];Mm(B)&&Mm(S)&&(S=Xp(!0,B,S)),r[R]=[m,S,...V]}}}}const sV=new ey().freeze();function Jp(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function tm(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function em(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AT(n){if(!Mm(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function RT(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function mh(n){return aV(n)?n:new tA(n)}function aV(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function oV(n){return typeof n=="string"||lV(n)}function lV(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const uV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",IT=[],CT={allowDangerousHtml:!0},cV=/^(https?|ircs?|mailto|xmpp)$/i,hV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fV(n){const t=dV(n),e=pV(n);return mV(t.runSync(t.parse(e),e),n)}function dV(n){const t=n.rehypePlugins||IT,e=n.remarkPlugins||IT,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...CT}:CT;return sV().use(KP).use(e).use(FL,r).use(t)}function pV(n){const t=n.children||"",e=new tA;return typeof t=="string"&&(e.value=t),e}function mV(n,t){const e=t.allowedElements,r=t.allowElement,a=t.components,l=t.disallowedElements,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||gV;for(const _ of hV)Object.hasOwn(t,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+uV+_.id,void 0);return JS(n,m),SM(n,{Fragment:bt.Fragment,components:a,ignoreInvalidStyle:!0,jsx:bt.jsx,jsxs:bt.jsxs,passKeys:!0,passNode:!0});function m(_,T,R){if(_.type==="raw"&&R&&typeof T=="number")return c?R.children.splice(T,1):R.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let S;for(S in Gp)if(Object.hasOwn(Gp,S)&&Object.hasOwn(_.properties,S)){const V=_.properties[S],B=Gp[S];(B===null||B.includes(_.tagName))&&(_.properties[S]=p(String(V||""),S,_))}}if(_.type==="element"){let S=e?!e.includes(_.tagName):l?l.includes(_.tagName):!1;if(!S&&r&&typeof T=="number"&&(S=!r(_,T,R)),S&&R&&typeof T=="number")return f&&_.children?R.children.splice(T,1,..._.children):R.children.splice(T,1),T}}}function gV(n){const t=n.indexOf(":"),e=n.indexOf("?"),r=n.indexOf("#"),a=n.indexOf("/");return t===-1||a!==-1&&t>a||e!==-1&&t>e||r!==-1&&t>r||cV.test(n.slice(0,t))?n:""}function yV({enemy:n,onClose:t}){const[e,r]=se.useState(n.name),[a,l]=se.useState(n.customDescription),[c,f]=se.useState(null),[p,m]=se.useState(null),[_,T]=se.useState(n.imageURL||""),[R,S]=se.useState(n.imageURL2||""),[V,B]=se.useState(0),[q,K]=se.useState(0),nt=async(ct,ut,W)=>{if(!ct)return;const z=Bb(_S,`enemies/${n.authorUid}/${ct.name}`),N=Lb(z,ct);N.on("state_changed",k=>{const U=k.bytesTransferred/k.totalBytes*100;W(U)},k=>{console.error("Ошибка загрузки:",k)},async()=>{const k=await Vb(N.snapshot.ref);ut(k)})},J=async ct=>{ct.preventDefault();const ut={name:e,customDescription:a,imageURL:_,imageURL2:R},W=Fh(Ra,"eotv-enemies",n.id);await Nk(W,ut),t()};return bt.jsxs("div",{className:"edit-modal",children:[bt.jsx("h3",{children:"Редактирование противника"}),bt.jsxs("form",{onSubmit:J,children:[bt.jsx("input",{type:"text",value:e,onChange:ct=>r(ct.target.value),required:!0}),bt.jsx("textarea",{value:a,onChange:ct=>l(ct.target.value)}),bt.jsx("input",{type:"file",onChange:ct=>f(ct.target.files[0])}),bt.jsx("button",{type:"button",onClick:()=>nt(c,T,B),disabled:!c,children:"Обновить основное изображение"}),V>0&&bt.jsxs("p",{children:["Прогресс загрузки: ",V.toFixed(2),"%"]}),_&&bt.jsx("img",{src:_,alt:"Обновленное изображение",width:100}),bt.jsx("input",{type:"file",onChange:ct=>m(ct.target.files[0])}),bt.jsx("button",{type:"button",onClick:()=>nt(p,S,K),disabled:!p,children:"Обновить доп. изображение"}),q>0&&bt.jsxs("p",{children:["Прогресс загрузки: ",q.toFixed(2),"%"]}),R&&bt.jsx("img",{src:R,alt:"Обновленное изображение 2",width:100}),bt.jsx("button",{type:"submit",children:"Сохранить"}),bt.jsx("button",{type:"button",onClick:t,children:"Отмена"})]})]})}function _V(){const[n,t]=se.useState([]),[e,r]=se.useState({}),[a,l]=se.useState(null),[c,f]=se.useState(null);se.useEffect(()=>{const m=mb(Fg,async T=>{const R=T.docs.map(B=>({id:B.id,...B.data()}));t(R);const S=[...new Set(R.map(B=>B.authorUid))],V={};for(const B of S){const q=Fh(Ra,"users",B),K=await Dk(q);K.exists()&&(V[B]=K.data())}r(V)}),_=Pg(zg,T=>{f(T)});return()=>{m(),_()}},[]);const p=async m=>{c&&window.confirm("Are you sure you want to delete this enemy?")&&await Mk(Fh(Ra,"eotv-enemies",m))};return bt.jsxs("div",{children:[bt.jsx("h3",{children:"Список протвиников"}),n.map(m=>{var _,T;return bt.jsxs("div",{children:[bt.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[((_=e[m.authorUid])==null?void 0:_.photoURL)&&bt.jsx("img",{src:e[m.authorUid].photoURL,alt:"User avatar",width:40,style:{borderRadius:"50%"}}),bt.jsx("p",{children:((T=e[m.authorUid])==null?void 0:T.displayName)||"Unknown"})]}),bt.jsx("h3",{children:m.name}),bt.jsx(fV,{children:m.customDescription}),m.imageURL&&bt.jsx("img",{src:m.imageURL,alt:m.name,width:100}),m.imageURL2&&bt.jsx("img",{src:m.imageURL2,alt:`${m.name} extra`,width:100}),c&&c.uid===m.authorUid&&bt.jsxs(bt.Fragment,{children:[bt.jsx("button",{onClick:()=>l(m),children:"Edit"}),bt.jsx("button",{onClick:()=>p(m.id),children:"Delete"})]})]},m.id)}),a&&bt.jsx(yV,{enemy:a,onClose:()=>l(null)})]})}function vV(){const[n,t]=se.useState([]),[e,r]=se.useState(null);return se.useEffect(()=>{const a=mb(Fg,c=>{const f=c.docs.map(p=>({id:p.id,...p.data()}));t(f)}),l=Pg(zg,c=>{r(c)});return()=>{a(),l()}},[]),bt.jsxs("div",{className:"bg-darkBg text-white min-h-screen",children:[bt.jsx(Header,{}),bt.jsxs("main",{className:"p-6",children:[bt.jsx("h2",{className:"text-3xl font-bold text-center",children:"Каталог протвиников для игры Грань Вселенной"}),bt.jsxs("p",{className:"text-center text-gray-400",children:["Перед вами сборник Противников для НРИ Грань Вселенной (3 редакция), практически полностью созданный ИИ. Меня зовут  Eugen Zha. Я постарался научить ИИ создавать хороших противников в соответствии с правилами игры и немного скомпоновал результат. Буду благодарен вашему фидбеку и использую его для улучшения работы ИИ. Будет здорово, если расскажете, что понравилось, а что можно улучшить. И, главное, будет ли вам полезно иметь подобную расширяемую коллекцию под рукой. Оставить обратную связь можно в  Telegram: ",bt.jsx("a",{href:"https://t.me/d320stories/34",children:"https://t.me/d320stories/34"})]}),e&&bt.jsx($N,{}),bt.jsx(_V,{enemies:n})]})]})}const EV=q1.createRoot(document.getElementById("root"));EV.render(bt.jsx(U1.StrictMode,{children:bt.jsx(vV,{})}));
