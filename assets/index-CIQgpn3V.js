(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Ru(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ap={},Wl={},a0;function IA(){if(a0)return Wl;a0=1,Wl.byteLength=f,Wl.toByteArray=m,Wl.fromByteArray=R;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)n[a]=i[a],t[i.charCodeAt(a)]=a;t[45]=62,t[95]=63;function c(b){var U=b.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=b.indexOf("=");B===-1&&(B=U);var q=B===U?0:4-B%4;return[B,q]}function f(b){var U=c(b),B=U[0],q=U[1];return(B+q)*3/4-q}function p(b,U,B){return(U+B)*3/4-B}function m(b){var U,B=c(b),q=B[0],K=B[1],tt=new e(p(b,q,K)),J=0,ht=K>0?q-4:q,ct;for(ct=0;ct<ht;ct+=4)U=t[b.charCodeAt(ct)]<<18|t[b.charCodeAt(ct+1)]<<12|t[b.charCodeAt(ct+2)]<<6|t[b.charCodeAt(ct+3)],tt[J++]=U>>16&255,tt[J++]=U>>8&255,tt[J++]=U&255;return K===2&&(U=t[b.charCodeAt(ct)]<<2|t[b.charCodeAt(ct+1)]>>4,tt[J++]=U&255),K===1&&(U=t[b.charCodeAt(ct)]<<10|t[b.charCodeAt(ct+1)]<<4|t[b.charCodeAt(ct+2)]>>2,tt[J++]=U>>8&255,tt[J++]=U&255),tt}function _(b){return n[b>>18&63]+n[b>>12&63]+n[b>>6&63]+n[b&63]}function T(b,U,B){for(var q,K=[],tt=U;tt<B;tt+=3)q=(b[tt]<<16&16711680)+(b[tt+1]<<8&65280)+(b[tt+2]&255),K.push(_(q));return K.join("")}function R(b){for(var U,B=b.length,q=B%3,K=[],tt=16383,J=0,ht=B-q;J<ht;J+=tt)K.push(T(b,J,J+tt>ht?ht:J+tt));return q===1?(U=b[B-1],K.push(n[U>>2]+n[U<<4&63]+"==")):q===2&&(U=(b[B-2]<<8)+b[B-1],K.push(n[U>>10]+n[U>>4&63]+n[U<<2&63]+"=")),K.join("")}return Wl}var ah={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var o0;function CA(){return o0||(o0=1,ah.read=function(n,t,e,i,a){var l,c,f=a*8-i-1,p=(1<<f)-1,m=p>>1,_=-7,T=e?a-1:0,R=e?-1:1,b=n[t+T];for(T+=R,l=b&(1<<-_)-1,b>>=-_,_+=f;_>0;l=l*256+n[t+T],T+=R,_-=8);for(c=l&(1<<-_)-1,l>>=-_,_+=i;_>0;c=c*256+n[t+T],T+=R,_-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(b?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-m}return(b?-1:1)*c*Math.pow(2,l-i)},ah.write=function(n,t,e,i,a,l){var c,f,p,m=l*8-a-1,_=(1<<m)-1,T=_>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:l-1,U=i?1:-1,B=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,c=_):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+T>=1?t+=R/p:t+=R*Math.pow(2,1-T),t*p>=2&&(c++,p/=2),c+T>=_?(f=0,c=_):c+T>=1?(f=(t*p-1)*Math.pow(2,a),c=c+T):(f=t*Math.pow(2,T-1)*Math.pow(2,a),c=0));a>=8;n[e+b]=f&255,b+=U,f/=256,a-=8);for(c=c<<a|f,m+=a;m>0;n[e+b]=c&255,b+=U,c/=256,m-=8);n[e+b-U]|=B*128}),ah}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var l0;function kA(){return l0||(l0=1,function(n){const t=IA(),e=CA(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=tt,n.INSPECT_MAX_BYTES=50;const a=2147483647;n.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(A,y),A.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(A){if(A>a)throw new RangeError('The value "'+A+'" is invalid for option "size"');const y=new Uint8Array(A);return Object.setPrototypeOf(y,f.prototype),y}function f(A,y,E){if(typeof A=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(A)}return p(A,y,E)}f.poolSize=8192;function p(A,y,E){if(typeof A=="string")return R(A,y);if(ArrayBuffer.isView(A))return U(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pn(A,ArrayBuffer)||A&&pn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(A,SharedArrayBuffer)||A&&pn(A.buffer,SharedArrayBuffer)))return B(A,y,E);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=A.valueOf&&A.valueOf();if(D!=null&&D!==A)return f.from(D,y,E);const j=q(A);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return f.from(A[Symbol.toPrimitive]("string"),y,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}f.from=function(A,y,E){return p(A,y,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function _(A,y,E){return m(A),A<=0?c(A):y!==void 0?typeof E=="string"?c(A).fill(y,E):c(A).fill(y):c(A)}f.alloc=function(A,y,E){return _(A,y,E)};function T(A){return m(A),c(A<0?0:K(A)|0)}f.allocUnsafe=function(A){return T(A)},f.allocUnsafeSlow=function(A){return T(A)};function R(A,y){if((typeof y!="string"||y==="")&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const E=J(A,y)|0;let D=c(E);const j=D.write(A,y);return j!==E&&(D=D.slice(0,j)),D}function b(A){const y=A.length<0?0:K(A.length)|0,E=c(y);for(let D=0;D<y;D+=1)E[D]=A[D]&255;return E}function U(A){if(pn(A,Uint8Array)){const y=new Uint8Array(A);return B(y.buffer,y.byteOffset,y.byteLength)}return b(A)}function B(A,y,E){if(y<0||A.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<y+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return y===void 0&&E===void 0?D=new Uint8Array(A):E===void 0?D=new Uint8Array(A,y):D=new Uint8Array(A,y,E),Object.setPrototypeOf(D,f.prototype),D}function q(A){if(f.isBuffer(A)){const y=K(A.length)|0,E=c(y);return E.length===0||A.copy(E,0,0,y),E}if(A.length!==void 0)return typeof A.length!="number"||Tr(A.length)?c(0):b(A);if(A.type==="Buffer"&&Array.isArray(A.data))return b(A.data)}function K(A){if(A>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return A|0}function tt(A){return+A!=A&&(A=0),f.alloc(+A)}f.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==f.prototype},f.compare=function(y,E){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),pn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(y)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let D=y.length,j=E.length;for(let X=0,rt=Math.min(D,j);X<rt;++X)if(y[X]!==E[X]){D=y[X],j=E[X];break}return D<j?-1:j<D?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return f.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<y.length;++D)E+=y[D].length;const j=f.allocUnsafe(E);let X=0;for(D=0;D<y.length;++D){let rt=y[D];if(pn(rt,Uint8Array))X+rt.length>j.length?(f.isBuffer(rt)||(rt=f.from(rt)),rt.copy(j,X)):Uint8Array.prototype.set.call(j,rt,X);else if(f.isBuffer(rt))rt.copy(j,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=rt.length}return j};function J(A,y){if(f.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let j=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return tr(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Fn(A).length;default:if(j)return D?-1:tr(A).length;y=(""+y).toLowerCase(),j=!0}}f.byteLength=J;function ht(A,y,E){let D=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,y>>>=0,E<=y))return"";for(A||(A="utf8");;)switch(A){case"hex":return Ft(this,y,E);case"utf8":case"utf-8":return gt(this,y,E);case"ascii":return wt(this,y,E);case"latin1":case"binary":return Et(this,y,E);case"base64":return N(this,y,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,y,E);default:if(D)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),D=!0}}f.prototype._isBuffer=!0;function ct(A,y,E){const D=A[y];A[y]=A[E],A[E]=D}f.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)ct(this,E,E+1);return this},f.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)ct(this,E,E+3),ct(this,E+1,E+2);return this},f.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)ct(this,E,E+7),ct(this,E+1,E+6),ct(this,E+2,E+5),ct(this,E+3,E+4);return this},f.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?gt(this,0,y):ht.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:f.compare(this,y)===0},f.prototype.inspect=function(){let y="";const E=n.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(y,E,D,j,X){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),D===void 0&&(D=y?y.length:0),j===void 0&&(j=0),X===void 0&&(X=this.length),E<0||D>y.length||j<0||X>this.length)throw new RangeError("out of range index");if(j>=X&&E>=D)return 0;if(j>=X)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,j>>>=0,X>>>=0,this===y)return 0;let rt=X-j,xt=D-E;const ee=Math.min(rt,xt),Mt=this.slice(j,X),Bt=y.slice(E,D);for(let Ht=0;Ht<ee;++Ht)if(Mt[Ht]!==Bt[Ht]){rt=Mt[Ht],xt=Bt[Ht];break}return rt<xt?-1:xt<rt?1:0};function W(A,y,E,D,j){if(A.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Tr(E)&&(E=j?0:A.length-1),E<0&&(E=A.length+E),E>=A.length){if(j)return-1;E=A.length-1}else if(E<0)if(j)E=0;else return-1;if(typeof y=="string"&&(y=f.from(y,D)),f.isBuffer(y))return y.length===0?-1:z(A,y,E,D,j);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(A,y,E):Uint8Array.prototype.lastIndexOf.call(A,y,E):z(A,[y],E,D,j);throw new TypeError("val must be string, number or Buffer")}function z(A,y,E,D,j){let X=1,rt=A.length,xt=y.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(A.length<2||y.length<2)return-1;X=2,rt/=2,xt/=2,E/=2}function ee(Bt,Ht){return X===1?Bt[Ht]:Bt.readUInt16BE(Ht*X)}let Mt;if(j){let Bt=-1;for(Mt=E;Mt<rt;Mt++)if(ee(A,Mt)===ee(y,Bt===-1?0:Mt-Bt)){if(Bt===-1&&(Bt=Mt),Mt-Bt+1===xt)return Bt*X}else Bt!==-1&&(Mt-=Mt-Bt),Bt=-1}else for(E+xt>rt&&(E=rt-xt),Mt=E;Mt>=0;Mt--){let Bt=!0;for(let Ht=0;Ht<xt;Ht++)if(ee(A,Mt+Ht)!==ee(y,Ht)){Bt=!1;break}if(Bt)return Mt}return-1}f.prototype.includes=function(y,E,D){return this.indexOf(y,E,D)!==-1},f.prototype.indexOf=function(y,E,D){return W(this,y,E,D,!0)},f.prototype.lastIndexOf=function(y,E,D){return W(this,y,E,D,!1)};function O(A,y,E,D){E=Number(E)||0;const j=A.length-E;D?(D=Number(D),D>j&&(D=j)):D=j;const X=y.length;D>X/2&&(D=X/2);let rt;for(rt=0;rt<D;++rt){const xt=parseInt(y.substr(rt*2,2),16);if(Tr(xt))return rt;A[E+rt]=xt}return rt}function k(A,y,E,D){return jn(tr(y,A.length-E),A,E,D)}function P(A,y,E,D){return jn(Cr(y),A,E,D)}function V(A,y,E,D){return jn(Fn(y),A,E,D)}function F(A,y,E,D){return jn(Er(y,A.length-E),A,E,D)}f.prototype.write=function(y,E,D,j){if(E===void 0)j="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")j=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-E;if((D===void 0||D>X)&&(D=X),y.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let rt=!1;for(;;)switch(j){case"hex":return O(this,y,E,D);case"utf8":case"utf-8":return k(this,y,E,D);case"ascii":case"latin1":case"binary":return P(this,y,E,D);case"base64":return V(this,y,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,y,E,D);default:if(rt)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),rt=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(A,y,E){return y===0&&E===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(y,E))}function gt(A,y,E){E=Math.min(A.length,E);const D=[];let j=y;for(;j<E;){const X=A[j];let rt=null,xt=X>239?4:X>223?3:X>191?2:1;if(j+xt<=E){let ee,Mt,Bt,Ht;switch(xt){case 1:X<128&&(rt=X);break;case 2:ee=A[j+1],(ee&192)===128&&(Ht=(X&31)<<6|ee&63,Ht>127&&(rt=Ht));break;case 3:ee=A[j+1],Mt=A[j+2],(ee&192)===128&&(Mt&192)===128&&(Ht=(X&15)<<12|(ee&63)<<6|Mt&63,Ht>2047&&(Ht<55296||Ht>57343)&&(rt=Ht));break;case 4:ee=A[j+1],Mt=A[j+2],Bt=A[j+3],(ee&192)===128&&(Mt&192)===128&&(Bt&192)===128&&(Ht=(X&15)<<18|(ee&63)<<12|(Mt&63)<<6|Bt&63,Ht>65535&&Ht<1114112&&(rt=Ht))}}rt===null?(rt=65533,xt=1):rt>65535&&(rt-=65536,D.push(rt>>>10&1023|55296),rt=56320|rt&1023),D.push(rt),j+=xt}return pt(D)}const Tt=4096;function pt(A){const y=A.length;if(y<=Tt)return String.fromCharCode.apply(String,A);let E="",D=0;for(;D<y;)E+=String.fromCharCode.apply(String,A.slice(D,D+=Tt));return E}function wt(A,y,E){let D="";E=Math.min(A.length,E);for(let j=y;j<E;++j)D+=String.fromCharCode(A[j]&127);return D}function Et(A,y,E){let D="";E=Math.min(A.length,E);for(let j=y;j<E;++j)D+=String.fromCharCode(A[j]);return D}function Ft(A,y,E){const D=A.length;(!y||y<0)&&(y=0),(!E||E<0||E>D)&&(E=D);let j="";for(let X=y;X<E;++X)j+=We[A[X]];return j}function x(A,y,E){const D=A.slice(y,E);let j="";for(let X=0;X<D.length-1;X+=2)j+=String.fromCharCode(D[X]+D[X+1]*256);return j}f.prototype.slice=function(y,E){const D=this.length;y=~~y,E=E===void 0?D:~~E,y<0?(y+=D,y<0&&(y=0)):y>D&&(y=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<y&&(E=y);const j=this.subarray(y,E);return Object.setPrototypeOf(j,f.prototype),j};function it(A,y,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+y>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(y,E,D){y=y>>>0,E=E>>>0,D||it(y,E,this.length);let j=this[y],X=1,rt=0;for(;++rt<E&&(X*=256);)j+=this[y+rt]*X;return j},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,E,D){y=y>>>0,E=E>>>0,D||it(y,E,this.length);let j=this[y+--E],X=1;for(;E>0&&(X*=256);)j+=this[y+--E]*X;return j},f.prototype.readUint8=f.prototype.readUInt8=function(y,E){return y=y>>>0,E||it(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||it(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||it(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||it(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||it(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readBigUInt64LE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,X=this[++y]+this[++y]*2**8+this[++y]*2**16+D*2**24;return BigInt(j)+(BigInt(X)<<BigInt(32))}),f.prototype.readBigUInt64BE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],X=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+D;return(BigInt(j)<<BigInt(32))+BigInt(X)}),f.prototype.readIntLE=function(y,E,D){y=y>>>0,E=E>>>0,D||it(y,E,this.length);let j=this[y],X=1,rt=0;for(;++rt<E&&(X*=256);)j+=this[y+rt]*X;return X*=128,j>=X&&(j-=Math.pow(2,8*E)),j},f.prototype.readIntBE=function(y,E,D){y=y>>>0,E=E>>>0,D||it(y,E,this.length);let j=E,X=1,rt=this[y+--j];for(;j>0&&(X*=256);)rt+=this[y+--j]*X;return X*=128,rt>=X&&(rt-=Math.pow(2,8*E)),rt},f.prototype.readInt8=function(y,E){return y=y>>>0,E||it(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},f.prototype.readInt16LE=function(y,E){y=y>>>0,E||it(y,2,this.length);const D=this[y]|this[y+1]<<8;return D&32768?D|4294901760:D},f.prototype.readInt16BE=function(y,E){y=y>>>0,E||it(y,2,this.length);const D=this[y+1]|this[y]<<8;return D&32768?D|4294901760:D},f.prototype.readInt32LE=function(y,E){return y=y>>>0,E||it(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,E){return y=y>>>0,E||it(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readBigInt64LE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(D<<24);return(BigInt(j)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),f.prototype.readBigInt64BE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],D=this[y+7];(E===void 0||D===void 0)&&dn(y,this.length-8);const j=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(j)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+D)}),f.prototype.readFloatLE=function(y,E){return y=y>>>0,E||it(y,4,this.length),e.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,E){return y=y>>>0,E||it(y,4,this.length),e.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||it(y,8,this.length),e.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||it(y,8,this.length),e.read(this,y,!1,52,8)};function _t(A,y,E,D,j,X){if(!f.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>j||y<X)throw new RangeError('"value" argument is out of bounds');if(E+D>A.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,E,D,j){if(y=+y,E=E>>>0,D=D>>>0,!j){const xt=Math.pow(2,8*D)-1;_t(this,y,E,D,xt,0)}let X=1,rt=0;for(this[E]=y&255;++rt<D&&(X*=256);)this[E+rt]=y/X&255;return E+D},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,E,D,j){if(y=+y,E=E>>>0,D=D>>>0,!j){const xt=Math.pow(2,8*D)-1;_t(this,y,E,D,xt,0)}let X=D-1,rt=1;for(this[E+X]=y&255;--X>=0&&(rt*=256);)this[E+X]=y/rt&255;return E+D},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,1,255,0),this[E]=y&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function M(A,y,E,D,j){Cn(y,D,j,A,E,7);let X=Number(y&BigInt(4294967295));A[E++]=X,X=X>>8,A[E++]=X,X=X>>8,A[E++]=X,X=X>>8,A[E++]=X;let rt=Number(y>>BigInt(32)&BigInt(4294967295));return A[E++]=rt,rt=rt>>8,A[E++]=rt,rt=rt>>8,A[E++]=rt,rt=rt>>8,A[E++]=rt,E}function vt(A,y,E,D,j){Cn(y,D,j,A,E,7);let X=Number(y&BigInt(4294967295));A[E+7]=X,X=X>>8,A[E+6]=X,X=X>>8,A[E+5]=X,X=X>>8,A[E+4]=X;let rt=Number(y>>BigInt(32)&BigInt(4294967295));return A[E+3]=rt,rt=rt>>8,A[E+2]=rt,rt=rt>>8,A[E+1]=rt,rt=rt>>8,A[E]=rt,E+8}f.prototype.writeBigUInt64LE=wn(function(y,E=0){return M(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=wn(function(y,E=0){return vt(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(y,E,D,j){if(y=+y,E=E>>>0,!j){const ee=Math.pow(2,8*D-1);_t(this,y,E,D,ee-1,-ee)}let X=0,rt=1,xt=0;for(this[E]=y&255;++X<D&&(rt*=256);)y<0&&xt===0&&this[E+X-1]!==0&&(xt=1),this[E+X]=(y/rt>>0)-xt&255;return E+D},f.prototype.writeIntBE=function(y,E,D,j){if(y=+y,E=E>>>0,!j){const ee=Math.pow(2,8*D-1);_t(this,y,E,D,ee-1,-ee)}let X=D-1,rt=1,xt=0;for(this[E+X]=y&255;--X>=0&&(rt*=256);)y<0&&xt===0&&this[E+X+1]!==0&&(xt=1),this[E+X]=(y/rt>>0)-xt&255;return E+D},f.prototype.writeInt8=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},f.prototype.writeInt16LE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeInt16BE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeInt32LE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},f.prototype.writeInt32BE=function(y,E,D){return y=+y,E=E>>>0,D||_t(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},f.prototype.writeBigInt64LE=wn(function(y,E=0){return M(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=wn(function(y,E=0){return vt(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nt(A,y,E,D,j,X){if(E+D>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function At(A,y,E,D,j){return y=+y,E=E>>>0,j||Nt(A,y,E,4),e.write(A,y,E,D,23,4),E+4}f.prototype.writeFloatLE=function(y,E,D){return At(this,y,E,!0,D)},f.prototype.writeFloatBE=function(y,E,D){return At(this,y,E,!1,D)};function de(A,y,E,D,j){return y=+y,E=E>>>0,j||Nt(A,y,E,8),e.write(A,y,E,D,52,8),E+8}f.prototype.writeDoubleLE=function(y,E,D){return de(this,y,E,!0,D)},f.prototype.writeDoubleBE=function(y,E,D){return de(this,y,E,!1,D)},f.prototype.copy=function(y,E,D,j){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),E>=y.length&&(E=y.length),E||(E=0),j>0&&j<D&&(j=D),j===D||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),y.length-E<j-D&&(j=y.length-E+D);const X=j-D;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,j):Uint8Array.prototype.set.call(y,this.subarray(D,j),E),X},f.prototype.fill=function(y,E,D,j){if(typeof y=="string"){if(typeof E=="string"?(j=E,E=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!f.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(y.length===1){const rt=y.charCodeAt(0);(j==="utf8"&&rt<128||j==="latin1")&&(y=rt)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,y||(y=0);let X;if(typeof y=="number")for(X=E;X<D;++X)this[X]=y;else{const rt=f.isBuffer(y)?y:f.from(y,j),xt=rt.length;if(xt===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(X=0;X<D-E;++X)this[X+E]=rt[X%xt]}return this};const Ut={};function ae(A,y,E){Ut[A]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(A,y){return`The "${A}" argument must be of type number. Received type ${typeof y}`},TypeError),ae("ERR_OUT_OF_RANGE",function(A,y,E){let D=`The value of "${A}" is out of range.`,j=E;return Number.isInteger(E)&&Math.abs(E)>2**32?j=Qt(String(E)):typeof E=="bigint"&&(j=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(j=Qt(j)),j+="n"),D+=` It must be ${y}. Received ${j}`,D},RangeError);function Qt(A){let y="",E=A.length;const D=A[0]==="-"?1:0;for(;E>=D+4;E-=3)y=`_${A.slice(E-3,E)}${y}`;return`${A.slice(0,E)}${y}`}function Ie(A,y,E){Oe(y,"offset"),(A[y]===void 0||A[y+E]===void 0)&&dn(y,A.length-(E+1))}function Cn(A,y,E,D,j,X){if(A>E||A<y){const rt=typeof y=="bigint"?"n":"";let xt;throw y===0||y===BigInt(0)?xt=`>= 0${rt} and < 2${rt} ** ${(X+1)*8}${rt}`:xt=`>= -(2${rt} ** ${(X+1)*8-1}${rt}) and < 2 ** ${(X+1)*8-1}${rt}`,new Ut.ERR_OUT_OF_RANGE("value",xt,A)}Ie(D,j,X)}function Oe(A,y){if(typeof A!="number")throw new Ut.ERR_INVALID_ARG_TYPE(y,"number",A)}function dn(A,y,E){throw Math.floor(A)!==A?(Oe(A,E),new Ut.ERR_OUT_OF_RANGE("offset","an integer",A)):y<0?new Ut.ERR_BUFFER_OUT_OF_BOUNDS:new Ut.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,A)}const zn=/[^+/0-9A-Za-z-_]/g;function kn(A){if(A=A.split("=")[0],A=A.trim().replace(zn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function tr(A,y){y=y||1/0;let E;const D=A.length;let j=null;const X=[];for(let rt=0;rt<D;++rt){if(E=A.charCodeAt(rt),E>55295&&E<57344){if(!j){if(E>56319){(y-=3)>-1&&X.push(239,191,189);continue}else if(rt+1===D){(y-=3)>-1&&X.push(239,191,189);continue}j=E;continue}if(E<56320){(y-=3)>-1&&X.push(239,191,189),j=E;continue}E=(j-55296<<10|E-56320)+65536}else j&&(y-=3)>-1&&X.push(239,191,189);if(j=null,E<128){if((y-=1)<0)break;X.push(E)}else if(E<2048){if((y-=2)<0)break;X.push(E>>6|192,E&63|128)}else if(E<65536){if((y-=3)<0)break;X.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((y-=4)<0)break;X.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return X}function Cr(A){const y=[];for(let E=0;E<A.length;++E)y.push(A.charCodeAt(E)&255);return y}function Er(A,y){let E,D,j;const X=[];for(let rt=0;rt<A.length&&!((y-=2)<0);++rt)E=A.charCodeAt(rt),D=E>>8,j=E%256,X.push(j),X.push(D);return X}function Fn(A){return t.toByteArray(kn(A))}function jn(A,y,E,D){let j;for(j=0;j<D&&!(j+E>=y.length||j>=A.length);++j)y[j+E]=A[j];return j}function pn(A,y){return A instanceof y||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===y.name}function Tr(A){return A!==A}const We=function(){const A="0123456789abcdef",y=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let j=0;j<16;++j)y[D+j]=A[E]+A[j]}return y}();function wn(A){return typeof BigInt>"u"?et:A}function et(){throw new Error("BigInt not supported")}}(Ap)),Ap}var DA=kA(),Rp={exports:{}},u0;function NA(){if(u0)return Rp.exports;u0=1;var n=Rp.exports={},t,e;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?e=clearTimeout:e=a}catch{e=a}})();function l(B){if(t===setTimeout)return setTimeout(B,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(B,0);try{return t(B,0)}catch{try{return t.call(null,B,0)}catch{return t.call(this,B,0)}}}function c(B){if(e===clearTimeout)return clearTimeout(B);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(B);try{return e(B)}catch{try{return e.call(null,B)}catch{return e.call(this,B)}}}var f=[],p=!1,m,_=-1;function T(){!p||!m||(p=!1,m.length?f=m.concat(f):_=-1,f.length&&R())}function R(){if(!p){var B=l(T);p=!0;for(var q=f.length;q;){for(m=f,f=[];++_<q;)m&&m[_].run();_=-1,q=f.length}m=null,p=!1,c(B)}}n.nextTick=function(B){var q=new Array(arguments.length-1);if(arguments.length>1)for(var K=1;K<arguments.length;K++)q[K-1]=arguments[K];f.push(new b(B,q)),f.length===1&&!p&&l(R)};function b(B,q){this.fun=B,this.array=q}b.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function U(){}return n.on=U,n.addListener=U,n.once=U,n.off=U,n.removeListener=U,n.removeAllListeners=U,n.emit=U,n.prependListener=U,n.prependOnceListener=U,n.listeners=function(B){return[]},n.binding=function(B){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(B){throw new Error("process.chdir is not supported")},n.umask=function(){return 0},Rp.exports}var OA=NA();const MA=Ru(OA);window.Buffer=DA.Buffer;window.process=MA;var xp={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function UA(){if(c0)return Zl;c0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=t,Zl.jsx=e,Zl.jsxs=e,Zl}var h0;function PA(){return h0||(h0=1,xp.exports=UA()),xp.exports}var ot=PA(),Ip={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function LA(){if(f0)return Kt;f0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function q(x,it,_t){this.props=x,this.context=it,this.refs=B,this.updater=_t||b}q.prototype.isReactComponent={},q.prototype.setState=function(x,it){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,it,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function K(){}K.prototype=q.prototype;function tt(x,it,_t){this.props=x,this.context=it,this.refs=B,this.updater=_t||b}var J=tt.prototype=new K;J.constructor=tt,U(J,q.prototype),J.isPureReactComponent=!0;var ht=Array.isArray,ct={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function z(x,it,_t,M,vt,Nt){return _t=Nt.ref,{$$typeof:n,type:x,key:it,ref:_t!==void 0?_t:null,props:Nt}}function O(x,it){return z(x.type,it,void 0,void 0,void 0,x.props)}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function P(x){var it={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(_t){return it[_t]})}var V=/\/+/g;function F(x,it){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):it.toString(36)}function N(){}function gt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(it){x.status==="pending"&&(x.status="fulfilled",x.value=it)},function(it){x.status==="pending"&&(x.status="rejected",x.reason=it)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Tt(x,it,_t,M,vt){var Nt=typeof x;(Nt==="undefined"||Nt==="boolean")&&(x=null);var At=!1;if(x===null)At=!0;else switch(Nt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(x.$$typeof){case n:case t:At=!0;break;case _:return At=x._init,Tt(At(x._payload),it,_t,M,vt)}}if(At)return vt=vt(x),At=M===""?"."+F(x,0):M,ht(vt)?(_t="",At!=null&&(_t=At.replace(V,"$&/")+"/"),Tt(vt,it,_t,"",function(ae){return ae})):vt!=null&&(k(vt)&&(vt=O(vt,_t+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(V,"$&/")+"/")+At)),it.push(vt)),1;At=0;var de=M===""?".":M+":";if(ht(x))for(var Ut=0;Ut<x.length;Ut++)M=x[Ut],Nt=de+F(M,Ut),At+=Tt(M,it,_t,Nt,vt);else if(Ut=R(x),typeof Ut=="function")for(x=Ut.call(x),Ut=0;!(M=x.next()).done;)M=M.value,Nt=de+F(M,Ut++),At+=Tt(M,it,_t,Nt,vt);else if(Nt==="object"){if(typeof x.then=="function")return Tt(gt(x),it,_t,M,vt);throw it=String(x),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return At}function pt(x,it,_t){if(x==null)return x;var M=[],vt=0;return Tt(x,M,"","",function(Nt){return it.call(_t,Nt,vt++)}),M}function wt(x){if(x._status===-1){var it=x._result;it=it(),it.then(function(_t){(x._status===0||x._status===-1)&&(x._status=1,x._result=_t)},function(_t){(x._status===0||x._status===-1)&&(x._status=2,x._result=_t)}),x._status===-1&&(x._status=0,x._result=it)}if(x._status===1)return x._result.default;throw x._result}var Et=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ft(){}return Kt.Children={map:pt,forEach:function(x,it,_t){pt(x,function(){it.apply(this,arguments)},_t)},count:function(x){var it=0;return pt(x,function(){it++}),it},toArray:function(x){return pt(x,function(it){return it})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Kt.Component=q,Kt.Fragment=e,Kt.Profiler=a,Kt.PureComponent=tt,Kt.StrictMode=i,Kt.Suspense=p,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Kt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Kt.cache=function(x){return function(){return x.apply(null,arguments)}},Kt.cloneElement=function(x,it,_t){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var M=U({},x.props),vt=x.key,Nt=void 0;if(it!=null)for(At in it.ref!==void 0&&(Nt=void 0),it.key!==void 0&&(vt=""+it.key),it)!W.call(it,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&it.ref===void 0||(M[At]=it[At]);var At=arguments.length-2;if(At===1)M.children=_t;else if(1<At){for(var de=Array(At),Ut=0;Ut<At;Ut++)de[Ut]=arguments[Ut+2];M.children=de}return z(x.type,vt,void 0,void 0,Nt,M)},Kt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Kt.createElement=function(x,it,_t){var M,vt={},Nt=null;if(it!=null)for(M in it.key!==void 0&&(Nt=""+it.key),it)W.call(it,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(vt[M]=it[M]);var At=arguments.length-2;if(At===1)vt.children=_t;else if(1<At){for(var de=Array(At),Ut=0;Ut<At;Ut++)de[Ut]=arguments[Ut+2];vt.children=de}if(x&&x.defaultProps)for(M in At=x.defaultProps,At)vt[M]===void 0&&(vt[M]=At[M]);return z(x,Nt,void 0,void 0,null,vt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(x){return{$$typeof:f,render:x}},Kt.isValidElement=k,Kt.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:wt}},Kt.memo=function(x,it){return{$$typeof:m,type:x,compare:it===void 0?null:it}},Kt.startTransition=function(x){var it=ct.T,_t={};ct.T=_t;try{var M=x(),vt=ct.S;vt!==null&&vt(_t,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(Ft,Et)}catch(Nt){Et(Nt)}finally{ct.T=it}},Kt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Kt.use=function(x){return ct.H.use(x)},Kt.useActionState=function(x,it,_t){return ct.H.useActionState(x,it,_t)},Kt.useCallback=function(x,it){return ct.H.useCallback(x,it)},Kt.useContext=function(x){return ct.H.useContext(x)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(x,it){return ct.H.useDeferredValue(x,it)},Kt.useEffect=function(x,it){return ct.H.useEffect(x,it)},Kt.useId=function(){return ct.H.useId()},Kt.useImperativeHandle=function(x,it,_t){return ct.H.useImperativeHandle(x,it,_t)},Kt.useInsertionEffect=function(x,it){return ct.H.useInsertionEffect(x,it)},Kt.useLayoutEffect=function(x,it){return ct.H.useLayoutEffect(x,it)},Kt.useMemo=function(x,it){return ct.H.useMemo(x,it)},Kt.useOptimistic=function(x,it){return ct.H.useOptimistic(x,it)},Kt.useReducer=function(x,it,_t){return ct.H.useReducer(x,it,_t)},Kt.useRef=function(x){return ct.H.useRef(x)},Kt.useState=function(x){return ct.H.useState(x)},Kt.useSyncExternalStore=function(x,it,_t){return ct.H.useSyncExternalStore(x,it,_t)},Kt.useTransition=function(){return ct.H.useTransition()},Kt.version="19.0.0",Kt}var d0;function zm(){return d0||(d0=1,Ip.exports=LA()),Ip.exports}var Rt=zm();const VA=Ru(Rt);var Cp={exports:{}},Jl={},kp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function BA(){return p0||(p0=1,function(n){function t(pt,wt){var Et=pt.length;pt.push(wt);t:for(;0<Et;){var Ft=Et-1>>>1,x=pt[Ft];if(0<a(x,wt))pt[Ft]=wt,pt[Et]=x,Et=Ft;else break t}}function e(pt){return pt.length===0?null:pt[0]}function i(pt){if(pt.length===0)return null;var wt=pt[0],Et=pt.pop();if(Et!==wt){pt[0]=Et;t:for(var Ft=0,x=pt.length,it=x>>>1;Ft<it;){var _t=2*(Ft+1)-1,M=pt[_t],vt=_t+1,Nt=pt[vt];if(0>a(M,Et))vt<x&&0>a(Nt,M)?(pt[Ft]=Nt,pt[vt]=Et,Ft=vt):(pt[Ft]=M,pt[_t]=Et,Ft=_t);else if(vt<x&&0>a(Nt,Et))pt[Ft]=Nt,pt[vt]=Et,Ft=vt;else break t}}return wt}function a(pt,wt){var Et=pt.sortIndex-wt.sortIndex;return Et!==0?Et:pt.id-wt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],_=1,T=null,R=3,b=!1,U=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function J(pt){for(var wt=e(m);wt!==null;){if(wt.callback===null)i(m);else if(wt.startTime<=pt)i(m),wt.sortIndex=wt.expirationTime,t(p,wt);else break;wt=e(m)}}function ht(pt){if(B=!1,J(pt),!U)if(e(p)!==null)U=!0,gt();else{var wt=e(m);wt!==null&&Tt(ht,wt.startTime-pt)}}var ct=!1,W=-1,z=5,O=-1;function k(){return!(n.unstable_now()-O<z)}function P(){if(ct){var pt=n.unstable_now();O=pt;var wt=!0;try{t:{U=!1,B&&(B=!1,K(W),W=-1),b=!0;var Et=R;try{e:{for(J(pt),T=e(p);T!==null&&!(T.expirationTime>pt&&k());){var Ft=T.callback;if(typeof Ft=="function"){T.callback=null,R=T.priorityLevel;var x=Ft(T.expirationTime<=pt);if(pt=n.unstable_now(),typeof x=="function"){T.callback=x,J(pt),wt=!0;break e}T===e(p)&&i(p),J(pt)}else i(p);T=e(p)}if(T!==null)wt=!0;else{var it=e(m);it!==null&&Tt(ht,it.startTime-pt),wt=!1}}break t}finally{T=null,R=Et,b=!1}wt=void 0}}finally{wt?V():ct=!1}}}var V;if(typeof tt=="function")V=function(){tt(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,N=F.port2;F.port1.onmessage=P,V=function(){N.postMessage(null)}}else V=function(){q(P,0)};function gt(){ct||(ct=!0,V())}function Tt(pt,wt){W=q(function(){pt(n.unstable_now())},wt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(pt){pt.callback=null},n.unstable_continueExecution=function(){U||b||(U=!0,gt())},n.unstable_forceFrameRate=function(pt){0>pt||125<pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<pt?Math.floor(1e3/pt):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return e(p)},n.unstable_next=function(pt){switch(R){case 1:case 2:case 3:var wt=3;break;default:wt=R}var Et=R;R=wt;try{return pt()}finally{R=Et}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(pt,wt){switch(pt){case 1:case 2:case 3:case 4:case 5:break;default:pt=3}var Et=R;R=pt;try{return wt()}finally{R=Et}},n.unstable_scheduleCallback=function(pt,wt,Et){var Ft=n.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?Ft+Et:Ft):Et=Ft,pt){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Et+x,pt={id:_++,callback:wt,priorityLevel:pt,startTime:Et,expirationTime:x,sortIndex:-1},Et>Ft?(pt.sortIndex=Et,t(m,pt),e(p)===null&&pt===e(m)&&(B?(K(W),W=-1):B=!0,Tt(ht,Et-Ft))):(pt.sortIndex=x,t(p,pt),U||b||(U=!0,gt())),pt},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(pt){var wt=R;return function(){var Et=R;R=wt;try{return pt.apply(this,arguments)}finally{R=Et}}}}(Dp)),Dp}var m0;function zA(){return m0||(m0=1,kp.exports=BA()),kp.exports}var Np={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function FA(){if(g0)return gn;g0=1;var n=zm();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,_)},gn.flushSync=function(p){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=_,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:b}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var y0;function jA(){if(y0)return Np.exports;y0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Np.exports=FA(),Np.exports}var _0;function qA(){if(_0)return Jl;_0=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=zA(),t=zm(),e=jA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),b=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ht=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=ct&&r[ct]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function O(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case K:return s=r.displayName||null,s!==null?s:O(r.type)||"Memo";case tt:s=r._payload,r=r._init;try{return O(r(s))}catch{}}return null}var k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,V,F;function N(r){if(V===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+r+F}var gt=!1;function Tt(r,s){if(!r||gt)return"";gt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(st){var Z=st}Reflect.construct(r,[],ft)}else{try{ft.call()}catch(st){Z=st}r.call(ft.prototype)}}else{try{throw Error()}catch(st){Z=st}(ft=r())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(st){if(st&&Z&&typeof st.stack=="string")return[st.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],I=g[1];if(S&&I){var L=S.split(`
`),G=I.split(`
`);for(d=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===L.length||d===G.length)for(u=L.length-1,d=G.length-1;1<=u&&0<=d&&L[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(L[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||L[u]!==G[d]){var at=`
`+L[u].replace(" at new "," at ");return r.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",r.displayName)),at}while(1<=u&&0<=d);break}}}finally{gt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?N(o):""}function pt(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=Tt(r.type,!1),r;case 11:return r=Tt(r.type.render,!1),r;case 1:return r=Tt(r.type,!0),r;default:return""}}function wt(r){try{var s="";do s+=pt(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Et(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ft(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function x(r){if(Et(r)!==r)throw Error(i(188))}function it(r){var s=r.alternate;if(!s){if(s=Et(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return x(d),r;if(g===u)return x(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var S=!1,I=d.child;I;){if(I===o){S=!0,o=d,u=g;break}if(I===u){S=!0,u=d,o=g;break}I=I.sibling}if(!S){for(I=g.child;I;){if(I===o){S=!0,o=g,u=d;break}if(I===u){S=!0,u=g,o=d;break}I=I.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function _t(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_t(r),s!==null)return s;r=r.sibling}return null}var M=Array.isArray,vt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nt={pending:!1,data:null,method:null,action:null},At=[],de=-1;function Ut(r){return{current:r}}function ae(r){0>de||(r.current=At[de],At[de]=null,de--)}function Qt(r,s){de++,At[de]=r.current,r.current=s}var Ie=Ut(null),Cn=Ut(null),Oe=Ut(null),dn=Ut(null);function zn(r,s){switch(Qt(Oe,s),Qt(Cn,r),Qt(Ie,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Uv(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Uv(r),s=Pv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Ie),Qt(Ie,s)}function kn(){ae(Ie),ae(Cn),ae(Oe)}function tr(r){r.memoizedState!==null&&Qt(dn,r);var s=Ie.current,o=Pv(s,r.type);s!==o&&(Qt(Cn,r),Qt(Ie,o))}function Cr(r){Cn.current===r&&(ae(Ie),ae(Cn)),dn.current===r&&(ae(dn),Kl._currentValue=Nt)}var Er=Object.prototype.hasOwnProperty,Fn=n.unstable_scheduleCallback,jn=n.unstable_cancelCallback,pn=n.unstable_shouldYield,Tr=n.unstable_requestPaint,We=n.unstable_now,wn=n.unstable_getCurrentPriorityLevel,et=n.unstable_ImmediatePriority,A=n.unstable_UserBlockingPriority,y=n.unstable_NormalPriority,E=n.unstable_LowPriority,D=n.unstable_IdlePriority,j=n.log,X=n.unstable_setDisableYieldValue,rt=null,xt=null;function ee(r){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(rt,r,void 0,(r.current.flags&128)===128)}catch{}}function Mt(r){if(typeof j=="function"&&X(r),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(rt,r)}catch{}}var Bt=Math.clz32?Math.clz32:ju,Ht=Math.log,Fu=Math.LN2;function ju(r){return r>>>=0,r===0?32:31-(Ht(r)/Fu|0)|0}var kr=128,Bi=4194304;function wr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function er(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,d=r.suspendedLanes,g=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~d,o!==0?u=wr(o):(g&=I,g!==0?u=wr(g):r||(S=I&~S,S!==0&&(u=wr(S))))):(I=o&~d,I!==0?u=wr(I):g!==0?u=wr(g):r||(S=o&~S,S!==0&&(u=wr(S)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,S=s&-s,d>=S||d===32&&(S&4194176)!==0)?s:u}function zi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Oa(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var r=kr;return kr<<=1,(kr&4194176)===0&&(kr=128),r}function Fi(){var r=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),r}function Ma(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Me(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qu(r,s,o,u,d,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,L=r.expirationTimes,G=r.hiddenUpdates;for(o=S&~o;0<o;){var at=31-Bt(o),ft=1<<at;I[at]=0,L[at]=-1;var Z=G[at];if(Z!==null)for(G[at]=null,at=0;at<Z.length;at++){var st=Z[at];st!==null&&(st.lane&=-536870913)}o&=~ft}u!==0&&ji(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function ji(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Bt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function qi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Bt(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Hu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Gu(){var r=vt.p;return r!==0?r:(r=window.event,r===void 0?32:t0(r.type))}function Hi(r,s){var o=vt.p;try{return vt.p=r,s()}finally{vt.p=o}}var Dr=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Dr,qe="__reactProps$"+Dr,si="__reactContainer$"+Dr,zs="__reactEvents$"+Dr,Ua="__reactListeners$"+Dr,Nr="__reactHandles$"+Dr,Zo="__reactResources$"+Dr,Gi="__reactMarker$"+Dr;function Fs(r){delete r[Ze],delete r[qe],delete r[zs],delete r[Ua],delete r[Nr]}function br(r){var s=r[Ze];if(s)return s;for(var o=r.parentNode;o;){if(s=o[si]||o[Ze]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Bv(r);r!==null;){if(o=r[Ze])return o;r=Bv(r)}return s}r=o,o=r.parentNode}return null}function ai(r){if(r=r[Ze]||r[si]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ki(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qi(r){var s=r[Zo];return s||(s=r[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(r){r[Gi]=!0}var Jo=new Set,Pa={};function qn(r,s){Dn(r,s),Dn(r+"Capture",s)}function Dn(r,s){for(Pa[r]=s,r=0;r<s.length;r++)Jo.add(s[r])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Ku(r){return Er.call(el,r)?!0:Er.call(tl,r)?!1:Cf.test(r)?el[r]=!0:(tl[r]=!0,!1)}function Yi(r,s,o){if(Ku(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function $i(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kf(r){var s=Qu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function js(r){r._valueTracker||(r._valueTracker=kf(r))}function nl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Qu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function La(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oi=/[\n"\\]/g;function Ce(r){return r.replace(oi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xi(r,s,o,u,d,g,S,I){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Va(r,S,bn(s)):o!=null?Va(r,S,bn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+bn(I):r.removeAttribute("name")}function qs(r,s,o,u,d,g,S,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Va(r,s,o){s==="number"&&La(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function oe(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Hs(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function Wi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(M(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Df.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Yu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&rl(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&rl(r,g,s[g])}function il(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(r){return Of.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function Ba(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,ui=null;function ci(r){var s=ai(r);if(s&&(r=s.stateNode)){var o=r[qe]||null;t:switch(r=s.stateNode,s.type){case"input":if(Xi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[qe]||null;if(!d)throw Error(i(90));Xi(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&nl(u)}break t;case"textarea":Hs(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&oe(r,!!o.multiple,s,!1)}}}var sl=!1;function $u(r,s,o){if(sl)return r(s,o);sl=!0;try{var u=r(s);return u}finally{if(sl=!1,(li!==null||ui!==null)&&(zc(),li&&(s=li,r=ui,ui=li=null,ci(s),r)))for(s=0;s<r.length;s++)ci(r[s])}}function Gs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Hn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{sr=!1}var Mr=null,Zi=null,hi=null;function al(){if(hi)return hi;var r,s=Zi,o=s.length,u,d="value"in Mr?Mr.value:Mr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var S=o-r;for(u=1;u<=S&&s[o-u]===d[g-u];u++);return hi=d.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function ol(){return!1}function Je(r){function s(o,u,d,g,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pr:ol,this.isPropagationStopped=ol,this}return P(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Je(he),Qs=P({},he,{view:0,detail:0}),Xu=Je(Qs),Fa,ja,Lr,Ys=P({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(Fa=r.screenX-Lr.screenX,ja=r.screenY-Lr.screenY):ja=Fa=0,Lr=r),Fa)},movementY:function(r){return"movementY"in r?r.movementY:ja}}),ar=Je(Ys),Wu=P({},Ys,{dataTransfer:0}),Mf=Je(Wu),$s=P({},Qs,{relatedTarget:0}),qa=Je($s),ll=P({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=Je(ll),Zu=P({},he,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ga=Je(Zu),Uf=P({},he,{data:0}),ul=Je(Uf),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=tc[r])?!!s[r]:!1}function Ws(){return cl}var ec=P({},Qs,{key:function(r){if(r.key){var s=Xs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ju[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ka=Je(ec),nc=P({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Je(nc),fi=P({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),rc=Je(fi),ic=P({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Je(ic),ac=P({},Ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Je(ac),Sn=P({},he,{newState:0,oldState:0}),oc=Je(Sn),lc=[9,13,27,32],Vr=Hn&&"CompositionEvent"in window,h=null;Hn&&"documentMode"in document&&(h=document.documentMode);var v=Hn&&"TextEvent"in window&&!h,w=Hn&&(!Vr||h&&8<h&&11>=h),C=" ",Y=!1;function nt(r,s){switch(r){case"keyup":return lc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ne=!1;function He(r,s){switch(r){case"compositionend":return yt(s);case"keypress":return s.which!==32?null:(Y=!0,C);case"textInput":return r=s.data,r===C&&Y?null:r;default:return null}}function re(r,s){if(ne)return r==="compositionend"||!Vr&&nt(r,s)?(r=al(),hi=Zi=Mr=null,ne=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!tn[r.type]:s==="textarea"}function di(r,s,o,u){li?ui?ui.push(u):ui=[u]:li=u,s=Gc(s,"onChange"),0<s.length&&(o=new za("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var an=null,Br=null;function fl(r){kv(r,0)}function uc(r){var s=Ki(r);if(nl(s))return r}function sy(r,s){if(r==="change")return s}var ay=!1;if(Hn){var Pf;if(Hn){var Lf="oninput"in document;if(!Lf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Lf=typeof oy.oninput=="function"}Pf=Lf}else Pf=!1;ay=Pf&&(!document.documentMode||9<document.documentMode)}function ly(){an&&(an.detachEvent("onpropertychange",uy),Br=an=null)}function uy(r){if(r.propertyName==="value"&&uc(Br)){var s=[];di(s,Br,r,Ba(r)),$u(fl,s)}}function i1(r,s,o){r==="focusin"?(ly(),an=s,Br=o,an.attachEvent("onpropertychange",uy)):r==="focusout"&&ly()}function s1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uc(Br)}function a1(r,s){if(r==="click")return uc(s)}function o1(r,s){if(r==="input"||r==="change")return uc(s)}function l1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:l1;function dl(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Er.call(s,d)||!Gn(r[d],s[d]))return!1}return!0}function cy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hy(r,s){var o=cy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=cy(o)}}function fy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?fy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function dy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=La(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=La(r.document)}return s}function Vf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function u1(r,s){var o=dy(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&fy(s.ownerDocument.documentElement,s)){if(u!==null&&Vf(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=hy(s,g);var S=hy(s,u);d&&S&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var c1=Hn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Bf=null,pl=null,zf=!1;function py(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zf||Ya==null||Ya!==La(u)||(u=Ya,"selectionStart"in u&&Vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&dl(pl,u)||(pl=u,u=Gc(Bf,"onSelect"),0<u.length&&(s=new za("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ya)))}function Zs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var $a={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Ff={},my={};Hn&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Js(r){if(Ff[r])return Ff[r];if(!$a[r])return r;var s=$a[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in my)return Ff[r]=s[o];return r}var gy=Js("animationend"),yy=Js("animationiteration"),_y=Js("animationstart"),h1=Js("transitionrun"),f1=Js("transitionstart"),d1=Js("transitioncancel"),vy=Js("transitionend"),Ey=new Map,Ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(r,s){Ey.set(r,s),qn(s,[r])}var or=[],Xa=0,jf=0;function cc(){for(var r=Xa,s=jf=Xa=0;s<r;){var o=or[s];or[s++]=null;var u=or[s];or[s++]=null;var d=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}g!==0&&wy(o,d,g)}}function hc(r,s,o,u){or[Xa++]=r,or[Xa++]=s,or[Xa++]=o,or[Xa++]=u,jf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function qf(r,s,o,u){return hc(r,s,o,u),fc(r)}function Ji(r,s){return hc(r,null,null,s),fc(r)}function wy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-Bt(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function fc(r){if(50<Bl)throw Bl=0,$d=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Wa={},by=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=by.get(r);return o!==void 0?o:(s={value:r,source:s,stack:wt(s)},by.set(r,s),s)}return{value:r,source:s,stack:wt(s)}}var Za=[],Ja=0,dc=null,pc=0,ur=[],cr=0,ta=null,pi=1,mi="";function ea(r,s){Za[Ja++]=pc,Za[Ja++]=dc,dc=r,pc=s}function Sy(r,s,o){ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ta,ta=r;var u=pi;r=mi;var d=32-Bt(u)-1;u&=~(1<<d),o+=1;var g=32-Bt(s)+d;if(30<g){var S=d-d%5;g=(u&(1<<S)-1).toString(32),u>>=S,d-=S,pi=1<<32-Bt(s)+d|o<<d|u,mi=g+r}else pi=1<<g|o<<d|u,mi=r}function Hf(r){r.return!==null&&(ea(r,1),Sy(r,1,0))}function Gf(r){for(;r===dc;)dc=Za[--Ja],Za[Ja]=null,pc=Za[--Ja],Za[Ja]=null;for(;r===ta;)ta=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null,pi=ur[--cr],ur[cr]=null}var An=null,on=null,le=!1,Ar=null,zr=!1,Kf=Error(i(519));function na(r){var s=Error(i(418,""));throw yl(lr(s,r)),Kf}function Ay(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ze]=r,s[qe]=u,o){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Jt(Fl[o],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":Jt("invalid",s),qs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(s);break;case"select":Jt("invalid",s);break;case"textarea":Jt("invalid",s),Wi(s,u.value,u.defaultValue,u.children),js(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Mv(s.textContent,o)?(u.popover!=null&&(Jt("beforetoggle",s),Jt("toggle",s)),u.onScroll!=null&&Jt("scroll",s),u.onScrollEnd!=null&&Jt("scrollend",s),u.onClick!=null&&(s.onclick=Kc),s=!0):s=!1,s||na(r)}function Ry(r){for(An=r.return;An;)switch(An.tag){case 3:case 27:zr=!0;return;case 5:case 13:zr=!1;return;default:An=An.return}}function ml(r){if(r!==An)return!1;if(!le)return Ry(r),le=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||fp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&on&&na(r),Ry(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){on=xr(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}on=null}}else on=An?xr(r.stateNode.nextSibling):null;return!0}function gl(){on=An=null,le=!1}function yl(r){Ar===null?Ar=[r]:Ar.push(r)}var _l=Error(i(460)),xy=Error(i(474)),Qf={then:function(){}};function Iy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function mc(){}function Cy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(mc,mc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===_l?Error(i(483)):r;default:if(typeof s.status=="string")s.then(mc,mc);else{if(r=ye,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===_l?Error(i(483)):r}throw vl=s,_l}}var vl=null;function ky(){if(vl===null)throw Error(i(459));var r=vl;return vl=null,r}var to=null,El=0;function gc(r){var s=El;return El+=1,to===null&&(to=[]),Cy(to,r,s)}function Tl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function yc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Dy(r){var s=r._init;return s(r._payload)}function Ny(r){function s(Q,H){if(r){var $=Q.deletions;$===null?(Q.deletions=[H],Q.flags|=16):$.push(H)}}function o(Q,H){if(!r)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function u(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function d(Q,H){return Q=hs(Q,H),Q.index=0,Q.sibling=null,Q}function g(Q,H,$){return Q.index=$,r?($=Q.alternate,$!==null?($=$.index,$<H?(Q.flags|=33554434,H):$):(Q.flags|=33554434,H)):(Q.flags|=1048576,H)}function S(Q){return r&&Q.alternate===null&&(Q.flags|=33554434),Q}function I(Q,H,$,lt){return H===null||H.tag!==6?(H=Fd($,Q.mode,lt),H.return=Q,H):(H=d(H,$),H.return=Q,H)}function L(Q,H,$,lt){var St=$.type;return St===p?at(Q,H,$.props.children,lt,$.key):H!==null&&(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===tt&&Dy(St)===H.type)?(H=d(H,$.props),Tl(H,$),H.return=Q,H):(H=Uc($.type,$.key,$.props,null,Q.mode,lt),Tl(H,$),H.return=Q,H)}function G(Q,H,$,lt){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=jd($,Q.mode,lt),H.return=Q,H):(H=d(H,$.children||[]),H.return=Q,H)}function at(Q,H,$,lt,St){return H===null||H.tag!==7?(H=fa($,Q.mode,lt,St),H.return=Q,H):(H=d(H,$),H.return=Q,H)}function ft(Q,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Fd(""+H,Q.mode,$),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return $=Uc(H.type,H.key,H.props,null,Q.mode,$),Tl($,H),$.return=Q,$;case f:return H=jd(H,Q.mode,$),H.return=Q,H;case tt:var lt=H._init;return H=lt(H._payload),ft(Q,H,$)}if(M(H)||W(H))return H=fa(H,Q.mode,$,null),H.return=Q,H;if(typeof H.then=="function")return ft(Q,gc(H),$);if(H.$$typeof===b)return ft(Q,Nc(Q,H),$);yc(Q,H)}return null}function Z(Q,H,$,lt){var St=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return St!==null?null:I(Q,H,""+$,lt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===St?L(Q,H,$,lt):null;case f:return $.key===St?G(Q,H,$,lt):null;case tt:return St=$._init,$=St($._payload),Z(Q,H,$,lt)}if(M($)||W($))return St!==null?null:at(Q,H,$,lt,null);if(typeof $.then=="function")return Z(Q,H,gc($),lt);if($.$$typeof===b)return Z(Q,H,Nc(Q,$),lt);yc(Q,$)}return null}function st(Q,H,$,lt,St){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Q=Q.get($)||null,I(H,Q,""+lt,St);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case c:return Q=Q.get(lt.key===null?$:lt.key)||null,L(H,Q,lt,St);case f:return Q=Q.get(lt.key===null?$:lt.key)||null,G(H,Q,lt,St);case tt:var $t=lt._init;return lt=$t(lt._payload),st(Q,H,$,lt,St)}if(M(lt)||W(lt))return Q=Q.get($)||null,at(H,Q,lt,St,null);if(typeof lt.then=="function")return st(Q,H,$,gc(lt),St);if(lt.$$typeof===b)return st(Q,H,$,Nc(H,lt),St);yc(H,lt)}return null}function It(Q,H,$,lt){for(var St=null,$t=null,kt=H,Ot=H=0,rn=null;kt!==null&&Ot<$.length;Ot++){kt.index>Ot?(rn=kt,kt=null):rn=kt.sibling;var ue=Z(Q,kt,$[Ot],lt);if(ue===null){kt===null&&(kt=rn);break}r&&kt&&ue.alternate===null&&s(Q,kt),H=g(ue,H,Ot),$t===null?St=ue:$t.sibling=ue,$t=ue,kt=rn}if(Ot===$.length)return o(Q,kt),le&&ea(Q,Ot),St;if(kt===null){for(;Ot<$.length;Ot++)kt=ft(Q,$[Ot],lt),kt!==null&&(H=g(kt,H,Ot),$t===null?St=kt:$t.sibling=kt,$t=kt);return le&&ea(Q,Ot),St}for(kt=u(kt);Ot<$.length;Ot++)rn=st(kt,Q,Ot,$[Ot],lt),rn!==null&&(r&&rn.alternate!==null&&kt.delete(rn.key===null?Ot:rn.key),H=g(rn,H,Ot),$t===null?St=rn:$t.sibling=rn,$t=rn);return r&&kt.forEach(function(_s){return s(Q,_s)}),le&&ea(Q,Ot),St}function jt(Q,H,$,lt){if($==null)throw Error(i(151));for(var St=null,$t=null,kt=H,Ot=H=0,rn=null,ue=$.next();kt!==null&&!ue.done;Ot++,ue=$.next()){kt.index>Ot?(rn=kt,kt=null):rn=kt.sibling;var _s=Z(Q,kt,ue.value,lt);if(_s===null){kt===null&&(kt=rn);break}r&&kt&&_s.alternate===null&&s(Q,kt),H=g(_s,H,Ot),$t===null?St=_s:$t.sibling=_s,$t=_s,kt=rn}if(ue.done)return o(Q,kt),le&&ea(Q,Ot),St;if(kt===null){for(;!ue.done;Ot++,ue=$.next())ue=ft(Q,ue.value,lt),ue!==null&&(H=g(ue,H,Ot),$t===null?St=ue:$t.sibling=ue,$t=ue);return le&&ea(Q,Ot),St}for(kt=u(kt);!ue.done;Ot++,ue=$.next())ue=st(kt,Q,Ot,ue.value,lt),ue!==null&&(r&&ue.alternate!==null&&kt.delete(ue.key===null?Ot:ue.key),H=g(ue,H,Ot),$t===null?St=ue:$t.sibling=ue,$t=ue);return r&&kt.forEach(function(xA){return s(Q,xA)}),le&&ea(Q,Ot),St}function Ne(Q,H,$,lt){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:t:{for(var St=$.key;H!==null;){if(H.key===St){if(St=$.type,St===p){if(H.tag===7){o(Q,H.sibling),lt=d(H,$.props.children),lt.return=Q,Q=lt;break t}}else if(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===tt&&Dy(St)===H.type){o(Q,H.sibling),lt=d(H,$.props),Tl(lt,$),lt.return=Q,Q=lt;break t}o(Q,H);break}else s(Q,H);H=H.sibling}$.type===p?(lt=fa($.props.children,Q.mode,lt,$.key),lt.return=Q,Q=lt):(lt=Uc($.type,$.key,$.props,null,Q.mode,lt),Tl(lt,$),lt.return=Q,Q=lt)}return S(Q);case f:t:{for(St=$.key;H!==null;){if(H.key===St)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){o(Q,H.sibling),lt=d(H,$.children||[]),lt.return=Q,Q=lt;break t}else{o(Q,H);break}else s(Q,H);H=H.sibling}lt=jd($,Q.mode,lt),lt.return=Q,Q=lt}return S(Q);case tt:return St=$._init,$=St($._payload),Ne(Q,H,$,lt)}if(M($))return It(Q,H,$,lt);if(W($)){if(St=W($),typeof St!="function")throw Error(i(150));return $=St.call($),jt(Q,H,$,lt)}if(typeof $.then=="function")return Ne(Q,H,gc($),lt);if($.$$typeof===b)return Ne(Q,H,Nc(Q,$),lt);yc(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(o(Q,H.sibling),lt=d(H,$),lt.return=Q,Q=lt):(o(Q,H),lt=Fd($,Q.mode,lt),lt.return=Q,Q=lt),S(Q)):o(Q,H)}return function(Q,H,$,lt){try{El=0;var St=Ne(Q,H,$,lt);return to=null,St}catch(kt){if(kt===_l)throw kt;var $t=pr(29,kt,null,Q.mode);return $t.lanes=lt,$t.return=Q,$t}finally{}}}var ra=Ny(!0),Oy=Ny(!1),eo=Ut(null),_c=Ut(0);function My(r,s){r=Ri,Qt(_c,r),Qt(eo,s),Ri=r|s.baseLanes}function Yf(){Qt(_c,Ri),Qt(eo,eo.current)}function $f(){Ri=_c.current,ae(eo),ae(_c)}var hr=Ut(null),Fr=null;function ts(r){var s=r.alternate;Qt(Ke,Ke.current&1),Qt(hr,r),Fr===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Fr=r)}function Uy(r){if(r.tag===22){if(Qt(Ke,Ke.current),Qt(hr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else es()}function es(){Qt(Ke,Ke.current),Qt(hr,hr.current)}function gi(r){ae(hr),Fr===r&&(Fr=null),ae(Ke)}var Ke=Ut(0);function vc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var p1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},m1=n.unstable_scheduleCallback,g1=n.unstable_NormalPriority,Qe={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new p1,data:new Map,refCount:0}}function wl(r){r.refCount--,r.refCount===0&&m1(g1,function(){r.controller.abort()})}var bl=null,Wf=0,no=0,ro=null;function y1(r,s){if(bl===null){var o=bl=[];Wf=0,no=rp(),ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wf++,s.then(Py,Py),s}function Py(){if(--Wf===0&&bl!==null){ro!==null&&(ro.status="fulfilled");var r=bl;bl=null,no=0,ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function _1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Ly=k.S;k.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&y1(r,s),Ly!==null&&Ly(r,s)};var ia=Ut(null);function Zf(){var r=ia.current;return r!==null?r:ye.pooledCache}function Ec(r,s){s===null?Qt(ia,ia.current):Qt(ia,s.pool)}function Vy(){var r=Zf();return r===null?null:{parent:Qe._currentValue,pool:r}}var ns=0,Yt=null,pe=null,Ve=null,Tc=!1,io=!1,sa=!1,wc=0,Sl=0,so=null,v1=0;function Ue(){throw Error(i(321))}function Jf(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Gn(r[o],s[o]))return!1;return!0}function td(r,s,o,u,d,g){return ns=g,Yt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=r===null||r.memoizedState===null?aa:rs,sa=!1,g=o(u,d),sa=!1,io&&(g=zy(s,o,u,d)),By(r),g}function By(r){k.H=jr;var s=pe!==null&&pe.next!==null;if(ns=0,Ve=pe=Yt=null,Tc=!1,Sl=0,so=null,s)throw Error(i(300));r===null||en||(r=r.dependencies,r!==null&&Dc(r)&&(en=!0))}function zy(r,s,o,u){Yt=r;var d=0;do{if(io&&(so=null),Sl=0,io=!1,25<=d)throw Error(i(301));if(d+=1,Ve=pe=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=oa,g=s(o,u)}while(io);return g}function E1(){var r=k.H,s=r.useState()[0];return s=typeof s.then=="function"?Al(s):s,r=r.useState()[0],(pe!==null?pe.memoizedState:null)!==r&&(Yt.flags|=1024),s}function ed(){var r=wc!==0;return wc=0,r}function nd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function rd(r){if(Tc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tc=!1}ns=0,Ve=pe=Yt=null,io=!1,Sl=wc=0,so=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Yt.memoizedState=Ve=r:Ve=Ve.next=r,Ve}function Be(){if(pe===null){var r=Yt.alternate;r=r!==null?r.memoizedState:null}else r=pe.next;var s=Ve===null?Yt.memoizedState:Ve.next;if(s!==null)Ve=s,pe=r;else{if(r===null)throw Yt.alternate===null?Error(i(467)):Error(i(310));pe=r,r={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Ve===null?Yt.memoizedState=Ve=r:Ve=Ve.next=r}return Ve}var bc;bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Al(r){var s=Sl;return Sl+=1,so===null&&(so=[]),r=Cy(so,r,s),s=Yt,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?aa:rs),r}function Sc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Al(r);if(r.$$typeof===b)return mn(r)}throw Error(i(438,String(r)))}function id(r){var s=null,o=Yt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Yt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bc(),Yt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=ht;return s.index++,o}function yi(r,s){return typeof s=="function"?s(r):s}function Ac(r){var s=Be();return sd(s,pe,r)}function sd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var S=d.next;d.next=g.next,g.next=S}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var I=S=null,L=null,G=s,at=!1;do{var ft=G.lane&-536870913;if(ft!==G.lane?(ie&ft)===ft:(ns&ft)===ft){var Z=G.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ft===no&&(at=!0);else if((ns&Z)===Z){G=G.next,Z===no&&(at=!0);continue}else ft={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(I=L=ft,S=g):L=L.next=ft,Yt.lanes|=Z,fs|=Z;ft=G.action,sa&&o(g,ft),g=G.hasEagerState?G.eagerState:o(g,ft)}else Z={lane:ft,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(I=L=Z,S=g):L=L.next=Z,Yt.lanes|=ft,fs|=ft;G=G.next}while(G!==null&&G!==s);if(L===null?S=g:L.next=I,!Gn(g,r.memoizedState)&&(en=!0,at&&(o=ro,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=L,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function ad(r){var s=Be(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do g=r(g,S.action),S=S.next;while(S!==d);Gn(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Fy(r,s,o){var u=Yt,d=Be(),g=le;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!Gn((pe||d).memoizedState,o);if(S&&(d.memoizedState=o,en=!0),d=d.queue,ud(Hy.bind(null,u,d,r),[r]),d.getSnapshot!==s||S||Ve!==null&&Ve.memoizedState.tag&1){if(u.flags|=2048,ao(9,qy.bind(null,u,d,o,s),{destroy:void 0},null),ye===null)throw Error(i(349));g||(ns&60)!==0||jy(u,s,o)}return o}function jy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Yt.updateQueue,s===null?(s=bc(),Yt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function qy(r,s,o,u){s.value=o,s.getSnapshot=u,Gy(s)&&Ky(r)}function Hy(r,s,o){return o(function(){Gy(s)&&Ky(r)})}function Gy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Gn(r,o)}catch{return!0}}function Ky(r){var s=Ji(r,2);s!==null&&Rn(s,r,2)}function od(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),sa){Mt(!0);try{o()}finally{Mt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},s}function Qy(r,s,o,u){return r.baseState=o,sd(r,pe,typeof u=="function"?u:yi)}function T1(r,s,o,u,d){if(Ic(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Yy(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Yy(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=k.T,S={};k.T=S;try{var I=o(d,u),L=k.S;L!==null&&L(S,I),$y(r,s,I)}catch(G){ld(r,s,G)}finally{k.T=g}}else try{g=o(d,u),$y(r,s,g)}catch(G){ld(r,s,G)}}function $y(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xy(r,s,u)},function(u){return ld(r,s,u)}):Xy(r,s,o)}function Xy(r,s,o){s.status="fulfilled",s.value=o,Wy(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Yy(r,o)))}function ld(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Wy(s),s=s.next;while(s!==u)}r.action=null}function Wy(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Zy(r,s){return s}function Jy(r,s){if(le){var o=ye.formState;if(o!==null){t:{var u=Yt;if(le){if(on){e:{for(var d=on,g=zr;d.nodeType!==8;){if(!g){d=null;break e}if(d=xr(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=xr(d.nextSibling),u=d.data==="F!";break t}}na(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:s},o.queue=u,o=y_.bind(null,Yt,u),u.dispatch=o,u=od(!1),g=pd.bind(null,Yt,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=T1.bind(null,Yt,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function t_(r){var s=Be();return e_(s,pe,r)}function e_(r,s,o){s=sd(r,s,Zy)[0],r=Ac(yi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Al(s):s;var u=Be(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&(Yt.flags|=2048,ao(9,w1.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function w1(r,s){r.action=s}function n_(r){var s=Be(),o=pe;if(o!==null)return e_(s,o,r);Be(),s=s.memoizedState,o=Be();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ao(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Yt.updateQueue,s===null&&(s=bc(),Yt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function r_(){return Be().memoizedState}function Rc(r,s,o,u){var d=Nn();Yt.flags|=r,d.memoizedState=ao(1|s,o,{destroy:void 0},u===void 0?null:u)}function xc(r,s,o,u){var d=Be();u=u===void 0?null:u;var g=d.memoizedState.inst;pe!==null&&u!==null&&Jf(u,pe.memoizedState.deps)?d.memoizedState=ao(s,o,g,u):(Yt.flags|=r,d.memoizedState=ao(1|s,o,g,u))}function i_(r,s){Rc(8390656,8,r,s)}function ud(r,s){xc(2048,8,r,s)}function s_(r,s){return xc(4,2,r,s)}function a_(r,s){return xc(4,4,r,s)}function o_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function l_(r,s,o){o=o!=null?o.concat([r]):null,xc(4,4,o_.bind(null,s,r),o)}function cd(){}function u_(r,s){var o=Be();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Jf(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function c_(r,s){var o=Be();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Jf(s,u[1]))return u[0];if(u=r(),sa){Mt(!0);try{r()}finally{Mt(!1)}}return o.memoizedState=[u,s],u}function hd(r,s,o){return o===void 0||(ns&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=fv(),Yt.lanes|=r,fs|=r,o)}function h_(r,s,o,u){return Gn(o,s)?o:eo.current!==null?(r=hd(r,o,u),Gn(r,s)||(en=!0),r):(ns&42)===0?(en=!0,r.memoizedState=o):(r=fv(),Yt.lanes|=r,fs|=r,s)}function f_(r,s,o,u,d){var g=vt.p;vt.p=g!==0&&8>g?g:8;var S=k.T,I={};k.T=I,pd(r,!1,s,o);try{var L=d(),G=k.S;if(G!==null&&G(I,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var at=_1(L,u);Rl(r,s,at,$n(r))}else Rl(r,s,u,$n(r))}catch(ft){Rl(r,s,{then:function(){},status:"rejected",reason:ft},$n())}finally{vt.p=g,k.T=S}}function b1(){}function fd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=d_(r).queue;f_(r,d,s,Nt,o===null?b1:function(){return p_(r),o(u)})}function d_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Nt,baseState:Nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Nt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function p_(r){var s=d_(r).next.queue;Rl(r,s,{},$n())}function dd(){return mn(Kl)}function m_(){return Be().memoizedState}function g_(){return Be().memoizedState}function S1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=as(o);var u=os(s,r,o);u!==null&&(Rn(u,s,o),Cl(u,s,o)),s={cache:Xf()},r.payload=s;return}s=s.return}}function A1(r,s,o){var u=$n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ic(r)?__(s,o):(o=qf(r,s,o,u),o!==null&&(Rn(o,r,u),v_(o,s,u)))}function y_(r,s,o){var u=$n();Rl(r,s,o,u)}function Rl(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ic(r))__(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,I=g(S,o);if(d.hasEagerState=!0,d.eagerState=I,Gn(I,S))return hc(r,s,d,0),ye===null&&cc(),!1}catch{}finally{}if(o=qf(r,s,d,u),o!==null)return Rn(o,r,u),v_(o,s,u),!0}return!1}function pd(r,s,o,u){if(u={lane:2,revertLane:rp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ic(r)){if(s)throw Error(i(479))}else s=qf(r,o,u,2),s!==null&&Rn(s,r,2)}function Ic(r){var s=r.alternate;return r===Yt||s!==null&&s===Yt}function __(r,s){io=Tc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function v_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,qi(r,o)}}var jr={readContext:mn,use:Sc,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue};jr.useCacheRefresh=Ue,jr.useMemoCache=Ue,jr.useHostTransitionStatus=Ue,jr.useFormState=Ue,jr.useActionState=Ue,jr.useOptimistic=Ue;var aa={readContext:mn,use:Sc,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:i_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Rc(4194308,4,o_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Rc(4194308,4,r,s)},useInsertionEffect:function(r,s){Rc(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(sa){Mt(!0);try{r()}finally{Mt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(sa){Mt(!0);try{o(s)}finally{Mt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=A1.bind(null,Yt,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=od(r);var s=r.queue,o=y_.bind(null,Yt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:cd,useDeferredValue:function(r,s){var o=Nn();return hd(o,r,s)},useTransition:function(){var r=od(!1);return r=f_.bind(null,Yt,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Yt,d=Nn();if(le){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ye===null)throw Error(i(349));(ie&60)!==0||jy(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,i_(Hy.bind(null,u,g,r),[r]),u.flags|=2048,ao(9,qy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=ye.identifierPrefix;if(le){var o=mi,u=pi;o=(u&~(1<<32-Bt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=wc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=v1++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=S1.bind(null,Yt)}};aa.useMemoCache=id,aa.useHostTransitionStatus=dd,aa.useFormState=Jy,aa.useActionState=Jy,aa.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=pd.bind(null,Yt,!0,o),o.dispatch=s,[r,s]};var rs={readContext:mn,use:Sc,useCallback:u_,useContext:mn,useEffect:ud,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:a_,useMemo:c_,useReducer:Ac,useRef:r_,useState:function(){return Ac(yi)},useDebugValue:cd,useDeferredValue:function(r,s){var o=Be();return h_(o,pe.memoizedState,r,s)},useTransition:function(){var r=Ac(yi)[0],s=Be().memoizedState;return[typeof r=="boolean"?r:Al(r),s]},useSyncExternalStore:Fy,useId:m_};rs.useCacheRefresh=g_,rs.useMemoCache=id,rs.useHostTransitionStatus=dd,rs.useFormState=t_,rs.useActionState=t_,rs.useOptimistic=function(r,s){var o=Be();return Qy(o,pe,r,s)};var oa={readContext:mn,use:Sc,useCallback:u_,useContext:mn,useEffect:ud,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:a_,useMemo:c_,useReducer:ad,useRef:r_,useState:function(){return ad(yi)},useDebugValue:cd,useDeferredValue:function(r,s){var o=Be();return pe===null?hd(o,r,s):h_(o,pe.memoizedState,r,s)},useTransition:function(){var r=ad(yi)[0],s=Be().memoizedState;return[typeof r=="boolean"?r:Al(r),s]},useSyncExternalStore:Fy,useId:m_};oa.useCacheRefresh=g_,oa.useMemoCache=id,oa.useHostTransitionStatus=dd,oa.useFormState=n_,oa.useActionState=n_,oa.useOptimistic=function(r,s){var o=Be();return pe!==null?Qy(o,pe,r,s):(o.baseState=r,[r,o.queue.dispatch])};function md(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:P({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var gd={isMounted:function(r){return(r=r._reactInternals)?Et(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=$n(),d=as(u);d.payload=s,o!=null&&(d.callback=o),s=os(r,d,u),s!==null&&(Rn(s,r,u),Cl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=$n(),d=as(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=os(r,d,u),s!==null&&(Rn(s,r,u),Cl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),u=as(o);u.tag=2,s!=null&&(u.callback=s),s=os(r,u,o),s!==null&&(Rn(s,r,o),Cl(s,r,o))}};function E_(r,s,o,u,d,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!dl(o,u)||!dl(d,g):!0}function T_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&gd.enqueueReplaceState(s,s.state,null)}function la(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=P({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Cc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function w_(r){Cc(r)}function b_(r){console.error(r)}function S_(r){Cc(r)}function kc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function A_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yd(r,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){kc(r,s)},o}function R_(r){return r=as(r),r.tag=3,r}function x_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){A_(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){A_(s,o,u),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function R1(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Il(s,o,d,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Fr===null?Zd():o.alternate===null&&De===0&&(De=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Qf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),tp(r,u,d)),!1;case 22:return o.flags|=65536,u===Qf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),tp(r,u,d)),!1}throw Error(i(435,o.tag))}return tp(r,u,d),Zd(),!1}if(le)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Kf&&(r=Error(i(422),{cause:u}),yl(lr(r,o)))):(u!==Kf&&(s=Error(i(423),{cause:u}),yl(lr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=lr(u,o),d=yd(r.stateNode,u,d),Nd(r,d),De!==4&&(De=2)),!1;var g=Error(i(520),{cause:u});if(g=lr(g,o),Ll===null?Ll=[g]:Ll.push(g),De!==4&&(De=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=yd(o.stateNode,u,r),Nd(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=R_(d),x_(d,r,o,u),Nd(o,d),!1}o=o.return}while(o!==null);return!1}var I_=Error(i(461)),en=!1;function ln(r,s,o,u){s.child=r===null?Oy(s,null,o,u):ra(s,r.child,o,u)}function C_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var S={};for(var I in u)I!=="ref"&&(S[I]=u[I])}else S=u;return ca(s),u=td(r,s,o,S,g,d),I=ed(),r!==null&&!en?(nd(r,s,d),_i(r,s,d)):(le&&I&&Hf(s),s.flags|=1,ln(r,s,u,d),s.child)}function k_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!zd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,D_(r,s,g,u,d)):(r=Uc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Rd(r,d)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:dl,o(S,u)&&r.ref===s.ref)return _i(r,s,d)}return s.flags|=1,r=hs(g,u),r.ref=s.ref,r.return=s,s.child=r}function D_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(dl(g,u)&&r.ref===s.ref)if(en=!1,s.pendingProps=u=g,Rd(r,d))(r.flags&131072)!==0&&(en=!0);else return s.lanes=r.lanes,_i(r,s,d)}return _d(r,s,o,u,d)}function N_(r,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(xl(r,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=S!==null?S.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return O_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ec(s,S!==null?S.cachePool:null),S!==null?My(s,S):Yf(),Uy(s);else return s.lanes=s.childLanes=536870912,O_(r,s,S!==null?S.baseLanes|o:o,o)}else S!==null?(Ec(s,S.cachePool),My(s,S),es(),s.memoizedState=null):(r!==null&&Ec(s,null),Yf(),es());return ln(r,s,d,o),s.child}function O_(r,s,o,u){var d=Zf();return d=d===null?null:{parent:Qe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Ec(s,null),Yf(),Uy(s),r!==null&&Il(r,s,u,!0),null}function xl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function _d(r,s,o,u,d){return ca(s),o=td(r,s,o,u,void 0,d),u=ed(),r!==null&&!en?(nd(r,s,d),_i(r,s,d)):(le&&u&&Hf(s),s.flags|=1,ln(r,s,o,d),s.child)}function M_(r,s,o,u,d,g){return ca(s),s.updateQueue=null,o=zy(s,u,o,d),By(r),u=ed(),r!==null&&!en?(nd(r,s,g),_i(r,s,g)):(le&&u&&Hf(s),s.flags|=1,ln(r,s,o,g),s.child)}function U_(r,s,o,u,d){if(ca(s),s.stateNode===null){var g=Wa,S=o.contextType;typeof S=="object"&&S!==null&&(g=mn(S)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},kd(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?mn(S):Wa,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(md(s,o,S,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&gd.enqueueReplaceState(g,g.state,null),Dl(s,u,g,d),kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,L=la(o,I);g.props=L;var G=g.context,at=o.contextType;S=Wa,typeof at=="object"&&at!==null&&(S=mn(at));var ft=o.getDerivedStateFromProps;at=typeof ft=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,at||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||G!==S)&&T_(s,g,u,S),ss=!1;var Z=s.memoizedState;g.state=Z,Dl(s,u,g,d),kl(),G=s.memoizedState,I||Z!==G||ss?(typeof ft=="function"&&(md(s,o,ft,u),G=s.memoizedState),(L=ss||E_(s,o,L,u,Z,G,S))?(at||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=S,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Dd(r,s),S=s.memoizedProps,at=la(o,S),g.props=at,ft=s.pendingProps,Z=g.context,G=o.contextType,L=Wa,typeof G=="object"&&G!==null&&(L=mn(G)),I=o.getDerivedStateFromProps,(G=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ft||Z!==L)&&T_(s,g,u,L),ss=!1,Z=s.memoizedState,g.state=Z,Dl(s,u,g,d),kl();var st=s.memoizedState;S!==ft||Z!==st||ss||r!==null&&r.dependencies!==null&&Dc(r.dependencies)?(typeof I=="function"&&(md(s,o,I,u),st=s.memoizedState),(at=ss||E_(s,o,at,u,Z,st,L)||r!==null&&r.dependencies!==null&&Dc(r.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,st,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,st,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=st),g.props=u,g.state=st,g.context=L,u=at):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,xl(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=ra(s,r.child,null,d),s.child=ra(s,null,o,d)):ln(r,s,o,d),s.memoizedState=g.state,r=s.child):r=_i(r,s,d),r}function P_(r,s,o,u){return gl(),s.flags|=256,ln(r,s,o,u),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function Ed(r){return{baseLanes:r,cachePool:Vy()}}function Td(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function L_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(Ke.current&2)!==0),S&&(d=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(le){if(d?ts(s):es(),le){var I=on,L;if(L=I){t:{for(L=I,I=zr;L.nodeType!==8;){if(!I){I=null;break t}if(L=xr(L.nextSibling),L===null){I=null;break t}}I=L}I!==null?(s.memoizedState={dehydrated:I,treeContext:ta!==null?{id:pi,overflow:mi}:null,retryLane:536870912},L=pr(18,null,null,0),L.stateNode=I,L.return=s,s.child=L,An=s,on=null,L=!0):L=!1}L||na(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;gi(s)}return I=u.children,u=u.fallback,d?(es(),d=s.mode,I=bd({mode:"hidden",children:I},d),u=fa(u,d,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,d=s.child,d.memoizedState=Ed(o),d.childLanes=Td(r,S,o),s.memoizedState=vd,u):(ts(s),wd(s,I))}if(L=r.memoizedState,L!==null&&(I=L.dehydrated,I!==null)){if(g)s.flags&256?(ts(s),s.flags&=-257,s=Sd(r,s,o)):s.memoizedState!==null?(es(),s.child=r.child,s.flags|=128,s=null):(es(),d=u.fallback,I=s.mode,u=bd({mode:"visible",children:u.children},I),d=fa(d,I,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,ra(s,r.child,null,o),u=s.child,u.memoizedState=Ed(o),u.childLanes=Td(r,S,o),s.memoizedState=vd,s=d);else if(ts(s),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var G=S.dgst;S=G,u=Error(i(419)),u.stack="",u.digest=S,yl({value:u,source:null,stack:null}),s=Sd(r,s,o)}else if(en||Il(r,s,o,!1),S=(o&r.childLanes)!==0,en||S){if(S=ye,S!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane)throw L.retryLane=u,Ji(r,u),Rn(S,r,u),I_}I.data==="$?"||Zd(),s=Sd(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=F1.bind(null,r),I._reactRetry=s,s=null):(r=L.treeContext,on=xr(I.nextSibling),An=s,le=!0,Ar=null,zr=!1,r!==null&&(ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ta,pi=r.id,mi=r.overflow,ta=s),s=wd(s,u.children),s.flags|=4096);return s}return d?(es(),d=u.fallback,I=s.mode,L=r.child,G=L.sibling,u=hs(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&31457280,G!==null?d=hs(G,d):(d=fa(d,I,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,I=r.child.memoizedState,I===null?I=Ed(o):(L=I.cachePool,L!==null?(G=Qe._currentValue,L=L.parent!==G?{parent:G,pool:G}:L):L=Vy(),I={baseLanes:I.baseLanes|o,cachePool:L}),d.memoizedState=I,d.childLanes=Td(r,S,o),s.memoizedState=vd,u):(ts(s),o=r.child,r=o.sibling,o=hs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function wd(r,s){return s=bd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function bd(r,s){return uv(r,s,0,null)}function Sd(r,s,o){return ra(s,r.child,null,o),r=wd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function V_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Id(r.return,s,o)}function Ad(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function B_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(r,s,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&V_(r,o,s);else if(r.tag===19)V_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qt(Ke,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&vc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Ad(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&vc(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Ad(s,!0,o,null,g);break;case"together":Ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Il(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=hs(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=hs(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Rd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Dc(r)))}function x1(r,s,o){switch(s.tag){case 3:zn(s,s.stateNode.containerInfo),is(s,Qe,r.memoizedState.cache),gl();break;case 27:case 5:tr(s);break;case 4:zn(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?L_(r,s,o):(ts(s),r=_i(r,s,o),r!==null?r.sibling:null);ts(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Il(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return B_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qt(Ke,Ke.current),u)break;return null;case 22:case 23:return s.lanes=0,N_(r,s,o);case 24:is(s,Qe,r.memoizedState.cache)}return _i(r,s,o)}function z_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)en=!0;else{if(!Rd(r,o)&&(s.flags&128)===0)return en=!1,x1(r,s,o);en=(r.flags&131072)!==0}else en=!1,le&&(s.flags&1048576)!==0&&Sy(s,pc,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")zd(u)?(r=la(u,r),s.tag=1,s=U_(null,s,u,r,o)):(s.tag=0,s=_d(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===U){s.tag=11,s=C_(null,s,u,r,o);break t}else if(d===K){s.tag=14,s=k_(null,s,u,r,o);break t}}throw s=O(u)||u,Error(i(306,s,""))}}return s;case 0:return _d(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),U_(r,s,u,d,o);case 3:t:{if(zn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,Dd(r,s),Dl(s,g,null,o);var S=s.memoizedState;if(g=S.cache,is(s,Qe,g),g!==d.cache&&Cd(s,[Qe],o,!0),kl(),g=S.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=P_(r,s,g,o);break t}else if(g!==u){u=lr(Error(i(424)),s),yl(u),s=P_(r,s,g,o);break t}else for(on=xr(s.stateNode.containerInfo.firstChild),An=s,le=!0,Ar=null,zr=!0,o=Oy(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(gl(),g===u){s=_i(r,s,o);break t}ln(r,s,g,o)}s=s.child}return s;case 26:return xl(r,s),r===null?(o=qv(s.type,null,s.pendingProps,null))?s.memoizedState=o:le||(o=s.type,r=s.pendingProps,u=Qc(Oe.current).createElement(o),u[Ze]=s,u[qe]=r,un(u,o,r),be(u),s.stateNode=u):s.memoizedState=qv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return tr(s),r===null&&le&&(u=s.stateNode=zv(s.type,s.pendingProps,Oe.current),An=s,zr=!0,on=xr(u.firstChild)),u=s.pendingProps.children,r!==null||le?ln(r,s,u,o):s.child=ra(s,null,u,o),xl(r,s),s.child;case 5:return r===null&&le&&((d=u=on)&&(u=rA(u,s.type,s.pendingProps,zr),u!==null?(s.stateNode=u,An=s,on=xr(u.firstChild),zr=!1,d=!0):d=!1),d||na(s)),tr(s),d=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,fp(d,g)?u=null:S!==null&&fp(d,S)&&(s.flags|=32),s.memoizedState!==null&&(d=td(r,s,E1,null,null,o),Kl._currentValue=d),xl(r,s),ln(r,s,u,o),s.child;case 6:return r===null&&le&&((r=o=on)&&(o=iA(o,s.pendingProps,zr),o!==null?(s.stateNode=o,An=s,on=null,r=!0):r=!1),r||na(s)),null;case 13:return L_(r,s,o);case 4:return zn(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=ra(s,null,u,o):ln(r,s,u,o),s.child;case 11:return C_(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),ln(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ca(s),d=mn(d),u=u(d),s.flags|=1,ln(r,s,u,o),s.child;case 14:return k_(r,s,s.type,s.pendingProps,o);case 15:return D_(r,s,s.type,s.pendingProps,o);case 19:return B_(r,s,o);case 22:return N_(r,s,o);case 24:return ca(s),u=mn(Qe),r===null?(d=Zf(),d===null&&(d=ye,g=Xf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},kd(s),is(s,Qe,d)):((r.lanes&o)!==0&&(Dd(r,s),Dl(s,null,null,o),kl()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),is(s,Qe,u)):(u=g.cache,is(s,Qe,u),u!==d.cache&&Cd(s,[Qe],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var xd=Ut(null),ua=null,vi=null;function is(r,s,o){Qt(xd,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=xd.current,ae(xd)}function Id(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Cd(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var S=d.child;g=g.firstContext;t:for(;g!==null;){var I=g;g=d;for(var L=0;L<s.length;L++)if(I.context===s[L]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Id(g.return,o,r),u||(S=null);break t}g=I.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Id(S,o,r),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===r){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Il(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var I=d.type;Gn(d.pendingProps.value,S.value)||(r!==null?r.push(I):r=[I])}}else if(d===dn.current){if(S=d.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Kl):r=[Kl])}d=d.return}r!==null&&Cd(s,r,o,u),s.flags|=262144}function Dc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ca(r){ua=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return F_(ua,r)}function Nc(r,s){return ua===null&&ca(r),F_(r,s)}function F_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var ss=!1;function kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function as(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function os(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=fc(r),wy(r,null,o),s}return hc(r,u,s,o),fc(r)}function Cl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,qi(r,o)}}function Nd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Od=!1;function kl(){if(Od){var r=ro;if(r!==null)throw r}}function Dl(r,s,o,u){Od=!1;var d=r.updateQueue;ss=!1;var g=d.firstBaseUpdate,S=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var L=I,G=L.next;L.next=null,S===null?g=G:S.next=G,S=L;var at=r.alternate;at!==null&&(at=at.updateQueue,I=at.lastBaseUpdate,I!==S&&(I===null?at.firstBaseUpdate=G:I.next=G,at.lastBaseUpdate=L))}if(g!==null){var ft=d.baseState;S=0,at=G=L=null,I=g;do{var Z=I.lane&-536870913,st=Z!==I.lane;if(st?(ie&Z)===Z:(u&Z)===Z){Z!==0&&Z===no&&(Od=!0),at!==null&&(at=at.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var It=r,jt=I;Z=s;var Ne=o;switch(jt.tag){case 1:if(It=jt.payload,typeof It=="function"){ft=It.call(Ne,ft,Z);break t}ft=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=jt.payload,Z=typeof It=="function"?It.call(Ne,ft,Z):It,Z==null)break t;ft=P({},ft,Z);break t;case 2:ss=!0}}Z=I.callback,Z!==null&&(r.flags|=64,st&&(r.flags|=8192),st=d.callbacks,st===null?d.callbacks=[Z]:st.push(Z))}else st={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},at===null?(G=at=st,L=ft):at=at.next=st,S|=Z;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;st=I,I=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);at===null&&(L=ft),d.baseState=L,d.firstBaseUpdate=G,d.lastBaseUpdate=at,g===null&&(d.shared.lanes=0),fs|=S,r.lanes=S,r.memoizedState=ft}}function j_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function q_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)j_(o[r],s)}function Nl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==d)}}catch(I){ge(s,s.return,I)}}function ls(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var S=u.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,d=s;var L=o;try{I()}catch(G){ge(d,L,G)}}}u=u.next}while(u!==g)}}catch(G){ge(s,s.return,G)}}function H_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{q_(s,o)}catch(u){ge(r,r.return,u)}}}function G_(r,s,o){o.props=la(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ge(r,s,u)}}function ha(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){ge(r,s,g)}}function Kn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ge(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ge(r,s,d)}else o.current=null}function K_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ge(r,r.return,d)}}function Q_(r,s,o){try{var u=r.stateNode;Z1(u,r.type,o,s),u[qe]=s}catch(d){ge(r,r.return,d)}}function Y_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Md(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Y_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ud(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kc));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Ud(r,s,o),r=r.sibling;r!==null;)Ud(r,s,o),r=r.sibling}function Oc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Oc(r,s,o),r=r.sibling;r!==null;)Oc(r,s,o),r=r.sibling}var Ti=!1,ke=!1,Pd=!1,$_=typeof WeakSet=="function"?WeakSet:Set,nn=null,X_=!1;function I1(r,s){if(r=r.containerInfo,cp=Jc,r=dy(r),Vf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var S=0,I=-1,L=-1,G=0,at=0,ft=r,Z=null;e:for(;;){for(var st;ft!==o||d!==0&&ft.nodeType!==3||(I=S+d),ft!==g||u!==0&&ft.nodeType!==3||(L=S+u),ft.nodeType===3&&(S+=ft.nodeValue.length),(st=ft.firstChild)!==null;)Z=ft,ft=st;for(;;){if(ft===r)break e;if(Z===o&&++G===d&&(I=S),Z===g&&++at===u&&(L=S),(st=ft.nextSibling)!==null)break;ft=Z,Z=ft.parentNode}ft=st}o=I===-1||L===-1?null:{start:I,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(hp={focusedElem:r,selectionRange:o},Jc=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var It=la(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(It,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(jt){ge(o,o.return,jt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)mp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":mp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}return It=X_,X_=!1,It}function W_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bi(r,o),u&4&&Nl(5,o);break;case 1:if(bi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){ge(o,o.return,I)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){ge(o,o.return,I)}}u&64&&H_(o),u&512&&ha(o,o.return);break;case 3:if(bi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{q_(u,r)}catch(I){ge(o,o.return,I)}}break;case 26:bi(r,o),u&512&&ha(o,o.return);break;case 27:case 5:bi(r,o),s===null&&u&4&&K_(o),u&512&&ha(o,o.return);break;case 12:bi(r,o);break;case 13:bi(r,o),u&4&&tv(r,o);break;case 22:if(d=o.memoizedState!==null||Ti,!d){s=s!==null&&s.memoizedState!==null||ke;var g=Ti,S=ke;Ti=d,(ke=s)&&!S?us(r,o,(o.subtreeFlags&8772)!==0):bi(r,o),Ti=g,ke=S}u&512&&(o.memoizedProps.mode==="manual"?ha(o,o.return):Kn(o,o.return));break;default:bi(r,o)}}function Z_(r){var s=r.alternate;s!==null&&(r.alternate=null,Z_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Fs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ze=null,Qn=!1;function wi(r,s,o){for(o=o.child;o!==null;)J_(r,s,o),o=o.sibling}function J_(r,s,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(rt,o)}catch{}switch(o.tag){case 26:ke||Kn(o,s),wi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Kn(o,s);var u=ze,d=Qn;for(ze=o.stateNode,wi(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fs(o),ze=u,Qn=d;break;case 5:ke||Kn(o,s);case 6:d=ze;var g=Qn;if(ze=null,wi(r,s,o),ze=d,Qn=g,ze!==null)if(Qn)try{r=ze,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(S){ge(o,s,S)}else try{ze.removeChild(o.stateNode)}catch(S){ge(o,s,S)}break;case 18:ze!==null&&(Qn?(s=ze,o=o.stateNode,s.nodeType===8?pp(s.parentNode,o):s.nodeType===1&&pp(s,o),Xl(s)):pp(ze,o.stateNode));break;case 4:u=ze,d=Qn,ze=o.stateNode.containerInfo,Qn=!0,wi(r,s,o),ze=u,Qn=d;break;case 0:case 11:case 14:case 15:ke||ls(2,o,s),ke||ls(4,o,s),wi(r,s,o);break;case 1:ke||(Kn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&G_(o,s,u)),wi(r,s,o);break;case 21:wi(r,s,o);break;case 22:ke||Kn(o,s),ke=(u=ke)||o.memoizedState!==null,wi(r,s,o),ke=u;break;default:wi(r,s,o)}}function tv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xl(r)}catch(o){ge(s,s.return,o)}}function C1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new $_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new $_),s;default:throw Error(i(435,r.tag))}}function Ld(r,s){var o=C1(r);s.forEach(function(u){var d=j1.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,S=s,I=S;t:for(;I!==null;){switch(I.tag){case 27:case 5:ze=I.stateNode,Qn=!1;break t;case 3:ze=I.stateNode.containerInfo,Qn=!0;break t;case 4:ze=I.stateNode.containerInfo,Qn=!0;break t}I=I.return}if(ze===null)throw Error(i(160));J_(g,S,d),ze=null,Qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ev(s,r),s=s.sibling}var Rr=null;function ev(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),dr(r),u&4&&(ls(3,r,r.return),Nl(3,r),ls(5,r,r.return));break;case 1:fr(s,r),dr(r),u&512&&(ke||o===null||Kn(o,o.return)),u&64&&Ti&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Rr;if(fr(s,r),dr(r),u&512&&(ke||o===null||Kn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){t:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Gi]||g[Ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Ze]=r,be(g),u=g;break t;case"link":var S=Kv("link","href",d).get(u+(o.href||""));if(S){for(var I=0;I<S.length;I++)if(g=S[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(I,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(S=Kv("meta","content",d).get(u+(o.content||""))){for(I=0;I<S.length;I++)if(g=S[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(I,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ze]=r,be(g),u=g}r.stateNode=u}else Qv(d,r.type,r.stateNode);else r.stateNode=Gv(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Qv(d,r.type,r.stateNode):Gv(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Q_(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var L=d.firstChild;L;){var G=L.nextSibling,at=L.nodeName;L[Gi]||at==="HEAD"||at==="BODY"||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=G}for(var ft=r.type,Z=d.attributes;Z.length;)d.removeAttributeNode(Z[0]);un(d,ft,g),d[Ze]=r,d[qe]=g}catch(It){ge(r,r.return,It)}}case 5:if(fr(s,r),dr(r),u&512&&(ke||o===null||Kn(o,o.return)),r.flags&32){d=r.stateNode;try{rr(d,"")}catch(It){ge(r,r.return,It)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Q_(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Pd=!0);break;case 6:if(fr(s,r),dr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(It){ge(r,r.return,It)}}break;case 3:if(Xc=null,d=Rr,Rr=Yc(s.containerInfo),fr(s,r),Rr=d,dr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xl(s.containerInfo)}catch(It){ge(r,r.return,It)}Pd&&(Pd=!1,nv(r));break;case 4:u=Rr,Rr=Yc(r.stateNode.containerInfo),fr(s,r),dr(r),Rr=u;break;case 12:fr(s,r),dr(r);break;case 13:fr(s,r),dr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kd=We()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ld(r,u)));break;case 22:if(u&512&&(ke||o===null||Kn(o,o.return)),L=r.memoizedState!==null,G=o!==null&&o.memoizedState!==null,at=Ti,ft=ke,Ti=at||L,ke=ft||G,fr(s,r),ke=ft,Ti=at,dr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=L?s._visibility&-2:s._visibility|1,L&&(s=Ti||ke,o===null||G||s||oo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){G=o=s;try{if(d=G.stateNode,L)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=G.stateNode,I=G.memoizedProps.style;var st=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(It){ge(G,G.return,It)}}}else if(s.tag===6){if(o===null){G=s;try{G.stateNode.nodeValue=L?"":G.memoizedProps}catch(It){ge(G,G.return,It)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ld(r,o))));break;case 19:fr(s,r),dr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ld(r,u)));break;case 21:break;default:fr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){t:{for(var o=r.return;o!==null;){if(Y_(o)){var u=o;break t}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,g=Md(r);Oc(r,g,d);break;case 5:var S=u.stateNode;u.flags&32&&(rr(S,""),u.flags&=-33);var I=Md(r);Oc(r,I,S);break;case 3:case 4:var L=u.stateNode.containerInfo,G=Md(r);Ud(r,G,L);break;default:throw Error(i(161))}}}catch(at){ge(r,r.return,at)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function nv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;nv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function bi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)W_(r,s.alternate,s),s=s.sibling}function oo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),oo(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&G_(s,s.return,o),oo(s);break;case 26:case 27:case 5:Kn(s,s.return),oo(s);break;case 22:Kn(s,s.return),s.memoizedState===null&&oo(s);break;default:oo(s)}r=r.sibling}}function us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:us(d,g,o),Nl(4,g);break;case 1:if(us(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ge(u,u.return,G)}if(u=g,d=u.updateQueue,d!==null){var I=u.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)j_(L[d],I)}catch(G){ge(u,u.return,G)}}o&&S&64&&H_(g),ha(g,g.return);break;case 26:case 27:case 5:us(d,g,o),o&&u===null&&S&4&&K_(g),ha(g,g.return);break;case 12:us(d,g,o);break;case 13:us(d,g,o),o&&S&4&&tv(d,g);break;case 22:g.memoizedState===null&&us(d,g,o),ha(g,g.return);break;default:us(d,g,o)}s=s.sibling}}function Vd(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&wl(o))}function Bd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wl(r))}function cs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rv(r,s,o,u),s=s.sibling}function rv(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:cs(r,s,o,u),d&2048&&Nl(9,s);break;case 3:cs(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wl(r)));break;case 12:if(d&2048){cs(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,I=g.onPostCommit;typeof I=="function"&&I(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){ge(s,s.return,L)}}else cs(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?cs(r,s,o,u):Ol(r,s):g._visibility&4?cs(r,s,o,u):(g._visibility|=4,lo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Vd(s.alternate,s);break;case 24:cs(r,s,o,u),d&2048&&Bd(s.alternate,s);break;default:cs(r,s,o,u)}}function lo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,S=s,I=o,L=u,G=S.flags;switch(S.tag){case 0:case 11:case 15:lo(g,S,I,L,d),Nl(8,S);break;case 23:break;case 22:var at=S.stateNode;S.memoizedState!==null?at._visibility&4?lo(g,S,I,L,d):Ol(g,S):(at._visibility|=4,lo(g,S,I,L,d)),d&&G&2048&&Vd(S.alternate,S);break;case 24:lo(g,S,I,L,d),d&&G&2048&&Bd(S.alternate,S);break;default:lo(g,S,I,L,d)}s=s.sibling}}function Ol(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Ol(o,u),d&2048&&Vd(u.alternate,u);break;case 24:Ol(o,u),d&2048&&Bd(u.alternate,u);break;default:Ol(o,u)}s=s.sibling}}var Ml=8192;function uo(r){if(r.subtreeFlags&Ml)for(r=r.child;r!==null;)iv(r),r=r.sibling}function iv(r){switch(r.tag){case 26:uo(r),r.flags&Ml&&r.memoizedState!==null&&yA(Rr,r.memoizedState,r.memoizedProps);break;case 5:uo(r);break;case 3:case 4:var s=Rr;Rr=Yc(r.stateNode.containerInfo),uo(r),Rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ml,Ml=16777216,uo(r),Ml=s):uo(r));break;default:uo(r)}}function sv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ul(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,ov(u,r)}sv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(r),r=r.sibling}function av(r){switch(r.tag){case 0:case 11:case 15:Ul(r),r.flags&2048&&ls(9,r,r.return);break;case 3:Ul(r);break;case 12:Ul(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Mc(r)):Ul(r);break;default:Ul(r)}}function Mc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,ov(u,r)}sv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ls(8,s,s.return),Mc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Mc(s));break;default:Mc(s)}r=r.sibling}}function ov(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else t:for(o=r;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(Z_(u),u===o){nn=null;break t}if(d!==null){d.return=g,nn=d;break t}nn=g}}}function k1(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,o,u){return new k1(r,s,o,u)}function zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hs(r,s){var o=r.alternate;return o===null?(o=pr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function lv(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Uc(r,s,o,u,d,g){var S=0;if(u=r,typeof r=="function")zd(r)&&(S=1);else if(typeof r=="string")S=mA(r,o,Ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case p:return fa(o.children,d,g,s);case m:S=8,d|=24;break;case _:return r=pr(12,o,s,d|2),r.elementType=_,r.lanes=g,r;case B:return r=pr(13,o,s,d),r.elementType=B,r.lanes=g,r;case q:return r=pr(19,o,s,d),r.elementType=q,r.lanes=g,r;case J:return uv(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case b:S=10;break t;case R:S=9;break t;case U:S=11;break t;case K:S=14;break t;case tt:S=16,u=null;break t}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=pr(S,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function fa(r,s,o,u){return r=pr(7,r,u,s),r.lanes=o,r}function uv(r,s,o,u){r=pr(22,r,u,s),r.elementType=J,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var S=Ji(g,2);S!==null&&(d._pendingVisibility|=2,Rn(S,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var S=Ji(g,2);S!==null&&(d._pendingVisibility&=-3,Rn(S,g,2))}}};return r.stateNode=d,r}function Fd(r,s,o){return r=pr(6,r,null,s),r.lanes=o,r}function jd(r,s,o){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Si(r){r.flags|=4}function cv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Yv(s)){if(s=hr.current,s!==null&&((ie&4194176)===ie?Fr!==null:(ie&62914560)!==ie&&(ie&536870912)===0||s!==Fr))throw vl=Qf,xy;r.flags|=8192}}function Pc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Fi():536870912,r.lanes|=s,ho|=s)}function Pl(r,s){if(!le)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Se(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function D1(r,s,o){var u=s.pendingProps;switch(Gf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei(Qe),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ml(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar!==null&&(Xd(Ar),Ar=null))),Se(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(Se(s),cv(s,o)):(Se(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),Se(s),cv(s,o)):(Se(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),Se(s),s.flags&=-16777217),null;case 27:Cr(s),o=Oe.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Se(s),null}r=Ie.current,ml(s)?Ay(s):(r=zv(d,u,o),s.stateNode=r,Si(s))}return Se(s),null;case 5:if(Cr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Se(s),null}if(r=Ie.current,ml(s))Ay(s);else{switch(d=Qc(Oe.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Ze]=s,r[qe]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;t:switch(un(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Si(s)}}return Se(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Oe.current,ml(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Ze]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Mv(r.nodeValue,o)),r||na(s)}else r=Qc(r).createTextNode(u),r[Ze]=s,s.stateNode=r}return Se(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=ml(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ze]=s}else gl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),d=!1}else Ar!==null&&(Xd(Ar),Ar=null),d=!0;if(!d)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Pc(s,s.updateQueue),Se(s),null;case 4:return kn(),r===null&&op(s.stateNode.containerInfo),Se(s),null;case 10:return Ei(s.type),Se(s),null;case 19:if(ae(Ke),d=s.memoizedState,d===null)return Se(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Pl(d,!1);else{if(De!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=vc(r),g!==null){for(s.flags|=128,Pl(d,!1),r=g.updateQueue,s.updateQueue=r,Pc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)lv(o,r),o=o.sibling;return Qt(Ke,Ke.current&1|2),s.child}r=r.sibling}d.tail!==null&&We()>Lc&&(s.flags|=128,u=!0,Pl(d,!1),s.lanes=4194304)}else{if(!u)if(r=vc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Pc(s,r),Pl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!le)return Se(s),null}else 2*We()-d.renderingStartTime>Lc&&o!==536870912&&(s.flags|=128,u=!0,Pl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=We(),s.sibling=null,r=Ke.current,Qt(Ke,u?r&1|2:r&1),s):(Se(s),null);case 22:case 23:return gi(s),$f(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),o=s.updateQueue,o!==null&&Pc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ae(ia),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei(Qe),Se(s),null;case 25:return null}throw Error(i(156,s.tag))}function N1(r,s){switch(Gf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(Qe),kn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Cr(s),null;case 13:if(gi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));gl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ae(Ke),null;case 4:return kn(),null;case 10:return Ei(s.type),null;case 22:case 23:return gi(s),$f(),r!==null&&ae(ia),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei(Qe),null;case 25:return null;default:return null}}function hv(r,s){switch(Gf(s),s.tag){case 3:Ei(Qe),kn();break;case 26:case 27:case 5:Cr(s);break;case 4:kn();break;case 13:gi(s);break;case 19:ae(Ke);break;case 10:Ei(s.type);break;case 22:case 23:gi(s),$f(),r!==null&&ae(ia);break;case 24:Ei(Qe)}}var O1={getCacheForType:function(r){var s=mn(Qe),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},M1=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ye=null,Xt=null,ie=0,_e=0,Yn=null,Ai=!1,co=!1,qd=!1,Ri=0,De=0,fs=0,da=0,Hd=0,mr=0,ho=0,Ll=null,qr=null,Gd=!1,Kd=0,Lc=1/0,Vc=null,ds=null,Bc=!1,pa=null,Vl=0,Qd=0,Yd=null,Bl=0,$d=null;function $n(){if((Ae&2)!==0&&ie!==0)return ie&-ie;if(k.T!==null){var r=no;return r!==0?r:rp()}return Gu()}function fv(){mr===0&&(mr=(ie&536870912)===0||le?Wo():536870912);var r=hr.current;return r!==null&&(r.flags|=32),mr}function Rn(r,s,o){(r===ye&&_e===2||r.cancelPendingCommit!==null)&&(fo(r,0),xi(r,ie,mr,!1)),Me(r,o),((Ae&2)===0||r!==ye)&&(r===ye&&((Ae&2)===0&&(da|=o),De===4&&xi(r,ie,mr,!1)),Hr(r))}function dv(r,s,o){if((Ae&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||zi(r,s),d=u?L1(r,s):Jd(r,s,!0),g=u;do{if(d===0){co&&!u&&xi(r,s,0,!1);break}else if(d===6)xi(r,s,0,!Ai);else{if(o=r.current.alternate,g&&!U1(o)){d=Jd(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var I=r;d=Ll;var L=I.current.memoizedState.isDehydrated;if(L&&(fo(I,S).flags|=256),S=Jd(I,S,!1),S!==2){if(qd&&!L){I.errorRecoveryDisabledLanes|=g,da|=g,d=4;break t}g=qr,qr=d,g!==null&&Xd(g)}d=S}if(g=!1,d!==2)continue}}if(d===1){fo(r,0),xi(r,s,0,!0);break}t:{switch(u=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){xi(u,s,mr,!Ai);break t}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Kd+300-We(),10<g)){if(xi(u,s,mr,!Ai),er(u,0)!==0)break t;u.timeoutHandle=Lv(pv.bind(null,u,o,qr,Vc,Gd,s,mr,da,ho,Ai,2,-0,0),g);break t}pv(u,o,qr,Vc,Gd,s,mr,da,ho,Ai,0,-0,0)}}break}while(!0);Hr(r)}function Xd(r){qr===null?qr=r:qr.push.apply(qr,r)}function pv(r,s,o,u,d,g,S,I,L,G,at,ft,Z){var st=s.subtreeFlags;if((st&8192||(st&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:gA},iv(s),s=_A(),s!==null)){r.cancelPendingCommit=s(Tv.bind(null,r,o,u,d,S,I,L,1,ft,Z)),xi(r,g,S,!G);return}Tv(r,o,u,d,S,I,L,at,ft,Z)}function U1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s,o,u){s&=~Hd,s&=~da,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-Bt(d),S=1<<g;u[g]=-1,d&=~S}o!==0&&ji(r,o,s)}function zc(){return(Ae&6)===0?(zl(0),!1):!0}function Wd(){if(Xt!==null){if(_e===0)var r=Xt.return;else r=Xt,vi=ua=null,rd(r),to=null,El=0,r=Xt;for(;r!==null;)hv(r.alternate,r),r=r.return;Xt=null}}function fo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,tA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Wd(),ye=r,Xt=o=hs(r.current,null),ie=s,_e=0,Yn=null,Ai=!1,co=zi(r,s),qd=!1,ho=mr=Hd=da=fs=De=0,qr=Ll=null,Gd=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Bt(u),g=1<<d;s|=r[d],u&=~g}return Ri=s,cc(),o}function mv(r,s){Yt=null,k.H=jr,s===_l?(s=ky(),_e=3):s===xy?(s=ky(),_e=4):_e=s===I_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Xt===null&&(De=1,kc(r,lr(s,r.current)))}function gv(){var r=k.H;return k.H=jr,r===null?jr:r}function yv(){var r=k.A;return k.A=O1,r}function Zd(){De=4,Ai||(ie&4194176)!==ie&&hr.current!==null||(co=!0),(fs&134217727)===0&&(da&134217727)===0||ye===null||xi(ye,ie,mr,!1)}function Jd(r,s,o){var u=Ae;Ae|=2;var d=gv(),g=yv();(ye!==r||ie!==s)&&(Vc=null,fo(r,s)),s=!1;var S=De;t:do try{if(_e!==0&&Xt!==null){var I=Xt,L=Yn;switch(_e){case 8:Wd(),S=6;break t;case 3:case 2:case 6:hr.current===null&&(s=!0);var G=_e;if(_e=0,Yn=null,po(r,I,L,G),o&&co){S=0;break t}break;default:G=_e,_e=0,Yn=null,po(r,I,L,G)}}P1(),S=De;break}catch(at){mv(r,at)}while(!0);return s&&r.shellSuspendCounter++,vi=ua=null,Ae=u,k.H=d,k.A=g,Xt===null&&(ye=null,ie=0,cc()),S}function P1(){for(;Xt!==null;)_v(Xt)}function L1(r,s){var o=Ae;Ae|=2;var u=gv(),d=yv();ye!==r||ie!==s?(Vc=null,Lc=We()+500,fo(r,s)):co=zi(r,s);t:do try{if(_e!==0&&Xt!==null){s=Xt;var g=Yn;e:switch(_e){case 1:_e=0,Yn=null,po(r,s,g,1);break;case 2:if(Iy(g)){_e=0,Yn=null,vv(s);break}s=function(){_e===2&&ye===r&&(_e=7),Hr(r)},g.then(s,s);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Iy(g)?(_e=0,Yn=null,vv(s)):(_e=0,Yn=null,po(r,s,g,7));break;case 5:var S=null;switch(Xt.tag){case 26:S=Xt.memoizedState;case 5:case 27:var I=Xt;if(!S||Yv(S)){_e=0,Yn=null;var L=I.sibling;if(L!==null)Xt=L;else{var G=I.return;G!==null?(Xt=G,Fc(G)):Xt=null}break e}}_e=0,Yn=null,po(r,s,g,5);break;case 6:_e=0,Yn=null,po(r,s,g,6);break;case 8:Wd(),De=6;break t;default:throw Error(i(462))}}V1();break}catch(at){mv(r,at)}while(!0);return vi=ua=null,k.H=u,k.A=d,Ae=o,Xt!==null?0:(ye=null,ie=0,cc(),De)}function V1(){for(;Xt!==null&&!pn();)_v(Xt)}function _v(r){var s=z_(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,s===null?Fc(r):Xt=s}function vv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=M_(o,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=M_(o,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:rd(s);default:hv(o,s),s=Xt=lv(s,Ri),s=z_(o,s,Ri)}r.memoizedProps=r.pendingProps,s===null?Fc(r):Xt=s}function po(r,s,o,u){vi=ua=null,rd(s),to=null,El=0;var d=s.return;try{if(R1(r,d,s,o,ie)){De=1,kc(r,lr(o,r.current)),Xt=null;return}}catch(g){if(d!==null)throw Xt=d,g;De=1,kc(r,lr(o,r.current)),Xt=null;return}s.flags&32768?(le||u===1?r=!0:co||(ie&536870912)!==0?r=!1:(Ai=r=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ev(s,r)):Fc(s)}function Fc(r){var s=r;do{if((s.flags&32768)!==0){Ev(s,Ai);return}r=s.return;var o=D1(s.alternate,s,Ri);if(o!==null){Xt=o;return}if(s=s.sibling,s!==null){Xt=s;return}Xt=s=r}while(s!==null);De===0&&(De=5)}function Ev(r,s){do{var o=N1(r.alternate,r);if(o!==null){o.flags&=32767,Xt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xt=r;return}Xt=r=o}while(r!==null);De=6,Xt=null}function Tv(r,s,o,u,d,g,S,I,L,G){var at=k.T,ft=vt.p;try{vt.p=2,k.T=null,B1(r,s,o,u,ft,d,g,S,I,L,G)}finally{k.T=at,vt.p=ft}}function B1(r,s,o,u,d,g,S,I){do mo();while(pa!==null);if((Ae&6)!==0)throw Error(i(327));var L=r.finishedWork;if(u=r.finishedLanes,L===null)return null;if(r.finishedWork=null,r.finishedLanes=0,L===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var G=L.lanes|L.childLanes;if(G|=jf,qu(r,u,G,g,S,I),r===ye&&(Xt=ye=null,ie=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Bc||(Bc=!0,Qd=G,Yd=o,q1(y,function(){return mo(),null})),o=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||o?(o=k.T,k.T=null,g=vt.p,vt.p=2,S=Ae,Ae|=4,I1(r,L),ev(L,r),u1(hp,r.containerInfo),Jc=!!cp,hp=cp=null,r.current=L,W_(r,L.alternate,L),Tr(),Ae=S,vt.p=g,k.T=o):r.current=L,Bc?(Bc=!1,pa=r,Vl=u):wv(r,G),G=r.pendingLanes,G===0&&(ds=null),ee(L.stateNode),Hr(r),s!==null)for(d=r.onRecoverableError,L=0;L<s.length;L++)G=s[L],d(G.value,{componentStack:G.stack});return(Vl&3)!==0&&mo(),G=r.pendingLanes,(u&4194218)!==0&&(G&42)!==0?r===$d?Bl++:(Bl=0,$d=r):Bl=0,zl(0),null}function wv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,wl(s)))}function mo(){if(pa!==null){var r=pa,s=Qd;Qd=0;var o=Hu(Vl),u=k.T,d=vt.p;try{if(vt.p=32>o?32:o,k.T=null,pa===null)var g=!1;else{o=Yd,Yd=null;var S=pa,I=Vl;if(pa=null,Vl=0,(Ae&6)!==0)throw Error(i(331));var L=Ae;if(Ae|=4,av(S.current),rv(S,S.current,I,o),Ae=L,zl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(rt,S)}catch{}g=!0}return g}finally{vt.p=d,k.T=u,wv(r,s)}}return!1}function bv(r,s,o){s=lr(o,s),s=yd(r.stateNode,s,2),r=os(r,s,2),r!==null&&(Me(r,2),Hr(r))}function ge(r,s,o){if(r.tag===3)bv(r,r,o);else for(;s!==null;){if(s.tag===3){bv(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){r=lr(o,r),o=R_(2),u=os(s,o,2),u!==null&&(x_(o,u,s,r),Me(u,2),Hr(u));break}}s=s.return}}function tp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new M1;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(qd=!0,d.add(o),r=z1.bind(null,r,s,o),s.then(r,r))}function z1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ye===r&&(ie&o)===o&&(De===4||De===3&&(ie&62914560)===ie&&300>We()-Kd?(Ae&2)===0&&fo(r,0):Hd|=o,ho===ie&&(ho=0)),Hr(r)}function Sv(r,s){s===0&&(s=Fi()),r=Ji(r,s),r!==null&&(Me(r,s),Hr(r))}function F1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Sv(r,o)}function j1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Sv(r,o)}function q1(r,s){return Fn(r,s)}var jc=null,go=null,ep=!1,qc=!1,np=!1,ma=0;function Hr(r){r!==go&&r.next===null&&(go===null?jc=go=r:go=go.next=r),qc=!0,ep||(ep=!0,G1(H1))}function zl(r,s){if(!np&&qc){np=!0;do for(var o=!1,u=jc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var S=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-Bt(42|r)+1)-1,g&=d&~(S&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,xv(u,g))}else g=ie,g=er(u,u===ye?g:0),(g&3)===0||zi(u,g)||(o=!0,xv(u,g));u=u.next}while(o);np=!1}}function H1(){qc=ep=!1;var r=0;ma!==0&&(J1()&&(r=ma),ma=0);for(var s=We(),o=null,u=jc;u!==null;){var d=u.next,g=Av(u,s);g===0?(u.next=null,o===null?jc=d:o.next=d,d===null&&(go=o)):(o=u,(r!==0||(g&3)!==0)&&(qc=!0)),u=d}zl(r)}function Av(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-Bt(g),I=1<<S,L=d[S];L===-1?((I&o)===0||(I&u)!==0)&&(d[S]=Oa(I,s)):L<=s&&(r.expiredLanes|=I),g&=~I}if(s=ye,o=ie,o=er(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&_e===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&jn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||zi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&jn(u),Hu(o)){case 2:case 8:o=A;break;case 32:o=y;break;case 268435456:o=D;break;default:o=y}return u=Rv.bind(null,r),o=Fn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&jn(u),r.callbackPriority=2,r.callbackNode=null,2}function Rv(r,s){var o=r.callbackNode;if(mo()&&r.callbackNode!==o)return null;var u=ie;return u=er(r,r===ye?u:0),u===0?null:(dv(r,u,s),Av(r,We()),r.callbackNode!=null&&r.callbackNode===o?Rv.bind(null,r):null)}function xv(r,s){if(mo())return null;dv(r,s,!0)}function G1(r){eA(function(){(Ae&6)!==0?Fn(et,r):r()})}function rp(){return ma===0&&(ma=Wo()),ma}function Iv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Or(""+r)}function Cv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function K1(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Iv((d[qe]||null).action),S=u.submitter;S&&(s=(s=S[qe]||null)?Iv(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var I=new za("action","action",null,u,d);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var L=S?Cv(d,S):new FormData(d);fd(o,{pending:!0,data:L,method:d.method,action:g},null,L)}}else typeof g=="function"&&(I.preventDefault(),L=S?Cv(d,S):new FormData(d),fd(o,{pending:!0,data:L,method:d.method,action:g},g,L))},currentTarget:d}]})}}for(var ip=0;ip<Ty.length;ip++){var sp=Ty[ip],Q1=sp.toLowerCase(),Y1=sp[0].toUpperCase()+sp.slice(1);Sr(Q1,"on"+Y1)}Sr(gy,"onAnimationEnd"),Sr(yy,"onAnimationIteration"),Sr(_y,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(h1,"onTransitionRun"),Sr(f1,"onTransitionStart"),Sr(d1,"onTransitionCancel"),Sr(vy,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function kv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var I=u[S],L=I.instance,G=I.currentTarget;if(I=I.listener,L!==g&&d.isPropagationStopped())break t;g=I,d.currentTarget=G;try{g(d)}catch(at){Cc(at)}d.currentTarget=null,g=L}else for(S=0;S<u.length;S++){if(I=u[S],L=I.instance,G=I.currentTarget,I=I.listener,L!==g&&d.isPropagationStopped())break t;g=I,d.currentTarget=G;try{g(d)}catch(at){Cc(at)}d.currentTarget=null,g=L}}}}function Jt(r,s){var o=s[zs];o===void 0&&(o=s[zs]=new Set);var u=r+"__bubble";o.has(u)||(Dv(s,r,2,!1),o.add(u))}function ap(r,s,o){var u=0;s&&(u|=4),Dv(o,r,u,s)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function op(r){if(!r[Hc]){r[Hc]=!0,Jo.forEach(function(o){o!=="selectionchange"&&($1.has(o)||ap(o,!1,r),ap(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hc]||(s[Hc]=!0,ap("selectionchange",!1,s))}}function Dv(r,s,o,u){switch(t0(s)){case 2:var d=TA;break;case 8:d=wA;break;default:d=Ep}o=d.bind(null,s,o,r),d=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function lp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(S===4)for(S=u.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===d||L.nodeType===8&&L.parentNode===d))return;S=S.return}for(;I!==null;){if(S=br(I),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){u=g=S;continue t}I=I.parentNode}}u=u.return}$u(function(){var G=g,at=Ba(o),ft=[];t:{var Z=Ey.get(r);if(Z!==void 0){var st=za,It=r;switch(r){case"keypress":if(Ur(o)===0)break t;case"keydown":case"keyup":st=Ka;break;case"focusin":It="focus",st=qa;break;case"focusout":It="blur",st=qa;break;case"beforeblur":case"afterblur":st=qa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=rc;break;case gy:case yy:case _y:st=Ha;break;case vy:st=sc;break;case"scroll":case"scrollend":st=Xu;break;case"wheel":st=Qa;break;case"copy":case"cut":case"paste":st=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=hl;break;case"toggle":case"beforetoggle":st=oc}var jt=(s&4)!==0,Ne=!jt&&(r==="scroll"||r==="scrollend"),Q=jt?Z!==null?Z+"Capture":null:Z;jt=[];for(var H=G,$;H!==null;){var lt=H;if($=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||$===null||Q===null||(lt=Gs(H,Q),lt!=null&&jt.push(jl(H,lt,$))),Ne)break;H=H.return}0<jt.length&&(Z=new st(Z,It,null,o,at),ft.push({event:Z,listeners:jt}))}}if((s&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",st=r==="mouseout"||r==="pointerout",Z&&o!==ir&&(It=o.relatedTarget||o.fromElement)&&(br(It)||It[si]))break t;if((st||Z)&&(Z=at.window===at?at:(Z=at.ownerDocument)?Z.defaultView||Z.parentWindow:window,st?(It=o.relatedTarget||o.toElement,st=G,It=It?br(It):null,It!==null&&(Ne=Et(It),jt=It.tag,It!==Ne||jt!==5&&jt!==27&&jt!==6)&&(It=null)):(st=null,It=G),st!==It)){if(jt=ar,lt="onMouseLeave",Q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(jt=hl,lt="onPointerLeave",Q="onPointerEnter",H="pointer"),Ne=st==null?Z:Ki(st),$=It==null?Z:Ki(It),Z=new jt(lt,H+"leave",st,o,at),Z.target=Ne,Z.relatedTarget=$,lt=null,br(at)===G&&(jt=new jt(Q,H+"enter",It,o,at),jt.target=$,jt.relatedTarget=Ne,lt=jt),Ne=lt,st&&It)e:{for(jt=st,Q=It,H=0,$=jt;$;$=yo($))H++;for($=0,lt=Q;lt;lt=yo(lt))$++;for(;0<H-$;)jt=yo(jt),H--;for(;0<$-H;)Q=yo(Q),$--;for(;H--;){if(jt===Q||Q!==null&&jt===Q.alternate)break e;jt=yo(jt),Q=yo(Q)}jt=null}else jt=null;st!==null&&Nv(ft,Z,st,jt,!1),It!==null&&Ne!==null&&Nv(ft,Ne,It,jt,!0)}}t:{if(Z=G?Ki(G):window,st=Z.nodeName&&Z.nodeName.toLowerCase(),st==="select"||st==="input"&&Z.type==="file")var St=sy;else if(Ge(Z))if(ay)St=o1;else{St=s1;var $t=i1}else st=Z.nodeName,!st||st.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&il(G.elementType)&&(St=sy):St=a1;if(St&&(St=St(r,G))){di(ft,St,o,at);break t}$t&&$t(r,Z,G),r==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&Va(Z,"number",Z.value)}switch($t=G?Ki(G):window,r){case"focusin":(Ge($t)||$t.contentEditable==="true")&&(Ya=$t,Bf=G,pl=null);break;case"focusout":pl=Bf=Ya=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,py(ft,o,at);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":py(ft,o,at)}var kt;if(Vr)t:{switch(r){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ne?nt(r,o)&&(Ot="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(w&&o.locale!=="ko"&&(ne||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ne&&(kt=al()):(Mr=at,Zi="value"in Mr?Mr.value:Mr.textContent,ne=!0)),$t=Gc(G,Ot),0<$t.length&&(Ot=new ul(Ot,r,null,o,at),ft.push({event:Ot,listeners:$t}),kt?Ot.data=kt:(kt=yt(o),kt!==null&&(Ot.data=kt)))),(kt=v?He(r,o):re(r,o))&&(Ot=Gc(G,"onBeforeInput"),0<Ot.length&&($t=new ul("onBeforeInput","beforeinput",null,o,at),ft.push({event:$t,listeners:Ot}),$t.data=kt)),K1(ft,r,G,o,at)}kv(ft,s)})}function jl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Gc(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Gs(r,o),d!=null&&u.unshift(jl(r,d,g)),d=Gs(r,s),d!=null&&u.push(jl(r,d,g))),r=r.return}return u}function yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Nv(r,s,o,u,d){for(var g=s._reactName,S=[];o!==null&&o!==u;){var I=o,L=I.alternate,G=I.stateNode;if(I=I.tag,L!==null&&L===u)break;I!==5&&I!==26&&I!==27||G===null||(L=G,d?(G=Gs(o,g),G!=null&&S.unshift(jl(o,G,L))):d||(G=Gs(o,g),G!=null&&S.push(jl(o,G,L)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var X1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function Ov(r){return(typeof r=="string"?r:""+r).replace(X1,`
`).replace(W1,"")}function Mv(r,s){return s=Ov(s),Ov(r)===s}function Kc(){}function me(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":$i(r,"class",u);break;case"tabIndex":$i(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(r,o,u);break;case"style":Yu(r,u,g);break;case"data":if(s!=="object"){$i(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Or(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&me(r,s,"name",d.name,d,null),me(r,s,"formEncType",d.formEncType,d,null),me(r,s,"formMethod",d.formMethod,d,null),me(r,s,"formTarget",d.formTarget,d,null)):(me(r,s,"encType",d.encType,d,null),me(r,s,"method",d.method,d,null),me(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Or(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Kc);break;case"onScroll":u!=null&&Jt("scroll",r);break;case"onScrollEnd":u!=null&&Jt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Or(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Jt("beforetoggle",r),Jt("toggle",r),Yi(r,"popover",u);break;case"xlinkActuate":nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nf.get(o)||o,Yi(r,o,u))}}function up(r,s,o,u,d,g){switch(o){case"style":Yu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Jt("scroll",r);break;case"onScrollEnd":u!=null&&Jt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break t}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Yi(r,o,u)}}}function un(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",r),Jt("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:me(r,s,g,S,o,null)}}d&&me(r,s,"srcSet",o.srcSet,o,null),u&&me(r,s,"src",o.src,o,null);return;case"input":Jt("invalid",r);var I=g=S=d=null,L=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var at=o[u];if(at!=null)switch(u){case"name":d=at;break;case"type":S=at;break;case"checked":L=at;break;case"defaultChecked":G=at;break;case"value":g=at;break;case"defaultValue":I=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,s));break;default:me(r,s,u,at,o,null)}}qs(r,g,I,L,G,S,d,!1),js(r);return;case"select":Jt("invalid",r),u=S=g=null;for(d in o)if(o.hasOwnProperty(d)&&(I=o[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":S=I;break;case"multiple":u=I;default:me(r,s,d,I,o,null)}s=g,o=S,r.multiple=!!u,s!=null?oe(r,!!u,s,!1):o!=null&&oe(r,!!u,o,!0);return;case"textarea":Jt("invalid",r),g=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(I=o[S],I!=null))switch(S){case"value":u=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:me(r,s,S,I,o,null)}Wi(r,u,d,g),js(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:me(r,s,L,u,o,null)}return;case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":Jt("load",r);break;case"video":case"audio":for(u=0;u<Fl.length;u++)Jt(Fl[u],r);break;case"image":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"embed":case"source":case"link":Jt("error",r),Jt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:me(r,s,G,u,o,null)}return;default:if(il(s)){for(at in o)o.hasOwnProperty(at)&&(u=o[at],u!==void 0&&up(r,s,at,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&me(r,s,I,u,o,null))}function Z1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,S=null,I=null,L=null,G=null,at=null;for(st in o){var ft=o[st];if(o.hasOwnProperty(st)&&ft!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":L=ft;default:u.hasOwnProperty(st)||me(r,s,st,null,u,ft)}}for(var Z in u){var st=u[Z];if(ft=o[Z],u.hasOwnProperty(Z)&&(st!=null||ft!=null))switch(Z){case"type":g=st;break;case"name":d=st;break;case"checked":G=st;break;case"defaultChecked":at=st;break;case"value":S=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,s));break;default:st!==ft&&me(r,s,Z,st,u,ft)}}Xi(r,S,I,L,G,at,g,d);return;case"select":st=S=I=Z=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":st=L;default:u.hasOwnProperty(g)||me(r,s,g,null,u,L)}for(d in u)if(g=u[d],L=o[d],u.hasOwnProperty(d)&&(g!=null||L!=null))switch(d){case"value":Z=g;break;case"defaultValue":I=g;break;case"multiple":S=g;default:g!==L&&me(r,s,d,g,u,L)}s=I,o=S,u=st,Z!=null?oe(r,!!o,Z,!1):!!u!=!!o&&(s!=null?oe(r,!!o,s,!0):oe(r,!!o,o?[]:"",!1));return;case"textarea":st=Z=null;for(I in o)if(d=o[I],o.hasOwnProperty(I)&&d!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:me(r,s,I,null,u,d)}for(S in u)if(d=u[S],g=o[S],u.hasOwnProperty(S)&&(d!=null||g!=null))switch(S){case"value":Z=d;break;case"defaultValue":st=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&me(r,s,S,d,u,g)}Hs(r,Z,st);return;case"option":for(var It in o)if(Z=o[It],o.hasOwnProperty(It)&&Z!=null&&!u.hasOwnProperty(It))switch(It){case"selected":r.selected=!1;break;default:me(r,s,It,null,u,Z)}for(L in u)if(Z=u[L],st=o[L],u.hasOwnProperty(L)&&Z!==st&&(Z!=null||st!=null))switch(L){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:me(r,s,L,Z,u,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in o)Z=o[jt],o.hasOwnProperty(jt)&&Z!=null&&!u.hasOwnProperty(jt)&&me(r,s,jt,null,u,Z);for(G in u)if(Z=u[G],st=o[G],u.hasOwnProperty(G)&&Z!==st&&(Z!=null||st!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:me(r,s,G,Z,u,st)}return;default:if(il(s)){for(var Ne in o)Z=o[Ne],o.hasOwnProperty(Ne)&&Z!==void 0&&!u.hasOwnProperty(Ne)&&up(r,s,Ne,void 0,u,Z);for(at in u)Z=u[at],st=o[at],!u.hasOwnProperty(at)||Z===st||Z===void 0&&st===void 0||up(r,s,at,Z,u,st);return}}for(var Q in o)Z=o[Q],o.hasOwnProperty(Q)&&Z!=null&&!u.hasOwnProperty(Q)&&me(r,s,Q,null,u,Z);for(ft in u)Z=u[ft],st=o[ft],!u.hasOwnProperty(ft)||Z===st||Z==null&&st==null||me(r,s,ft,Z,u,st)}var cp=null,hp=null;function Qc(r){return r.nodeType===9?r:r.ownerDocument}function Uv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function fp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dp=null;function J1(){var r=window.event;return r&&r.type==="popstate"?r===dp?!1:(dp=r,!0):(dp=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(r){return Vv.resolve(null).then(r).catch(nA)}:Lv;function nA(r){setTimeout(function(){throw r})}function pp(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){r.removeChild(d),Xl(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Xl(s)}function mp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mp(o),Fs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function rA(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Gi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=xr(r.nextSibling),r===null)break}return null}function iA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=xr(r.nextSibling),r===null))return null;return r}function xr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Bv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function zv(r,s,o){switch(s=Qc(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var gr=new Map,Fv=new Set;function Yc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ii=vt.d;vt.d={f:sA,r:aA,D:oA,C:lA,L:uA,m:cA,X:fA,S:hA,M:dA};function sA(){var r=Ii.f(),s=zc();return r||s}function aA(r){var s=ai(r);s!==null&&s.tag===5&&s.type==="form"?p_(s):Ii.r(r)}var _o=typeof document>"u"?null:document;function jv(r,s,o){var u=_o;if(u&&typeof s=="string"&&s){var d=Ce(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Fv.has(d)||(Fv.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",r),be(s),u.head.appendChild(s)))}}function oA(r){Ii.D(r),jv("dns-prefetch",r,null)}function lA(r,s){Ii.C(r,s),jv("preconnect",r,s)}function uA(r,s,o){Ii.L(r,s,o);var u=_o;if(u&&r&&s){var d='link[rel="preload"][as="'+Ce(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ce(o.imageSizes)+'"]')):d+='[href="'+Ce(r)+'"]';var g=d;switch(s){case"style":g=vo(r);break;case"script":g=Eo(r)}gr.has(g)||(r=P({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),gr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(ql(g))||s==="script"&&u.querySelector(Hl(g))||(s=u.createElement("link"),un(s,"link",r),be(s),u.head.appendChild(s)))}}function cA(r,s){Ii.m(r,s);var o=_o;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ce(u)+'"][href="'+Ce(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(r)}if(!gr.has(g)&&(r=P({rel:"modulepreload",href:r},s),gr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hl(g)))return}u=o.createElement("link"),un(u,"link",r),be(u),o.head.appendChild(u)}}}function hA(r,s,o){Ii.S(r,s,o);var u=_o;if(u&&r){var d=Qi(u).hoistableStyles,g=vo(r);s=s||"default";var S=d.get(g);if(!S){var I={loading:0,preload:null};if(S=u.querySelector(ql(g)))I.loading=5;else{r=P({rel:"stylesheet",href:r,"data-precedence":s},o),(o=gr.get(g))&&gp(r,o);var L=S=u.createElement("link");be(L),un(L,"link",r),L._p=new Promise(function(G,at){L.onload=G,L.onerror=at}),L.addEventListener("load",function(){I.loading|=1}),L.addEventListener("error",function(){I.loading|=2}),I.loading|=4,$c(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:I},d.set(g,S)}}}function fA(r,s){Ii.X(r,s);var o=_o;if(o&&r){var u=Qi(o).hoistableScripts,d=Eo(r),g=u.get(d);g||(g=o.querySelector(Hl(d)),g||(r=P({src:r,async:!0},s),(s=gr.get(d))&&yp(r,s),g=o.createElement("script"),be(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function dA(r,s){Ii.M(r,s);var o=_o;if(o&&r){var u=Qi(o).hoistableScripts,d=Eo(r),g=u.get(d);g||(g=o.querySelector(Hl(d)),g||(r=P({src:r,async:!0,type:"module"},s),(s=gr.get(d))&&yp(r,s),g=o.createElement("script"),be(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function qv(r,s,o,u){var d=(d=Oe.current)?Yc(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vo(o.href),o=Qi(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=vo(o.href);var g=Qi(d).hoistableStyles,S=g.get(r);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=d.querySelector(ql(r)))&&!g._p&&(S.instance=g,S.state.loading=5),gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gr.set(r,o),g||pA(d,r,o,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eo(o),o=Qi(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vo(r){return'href="'+Ce(r)+'"'}function ql(r){return'link[rel="stylesheet"]['+r+"]"}function Hv(r){return P({},r,{"data-precedence":r.precedence,precedence:null})}function pA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),be(s),r.head.appendChild(s))}function Eo(r){return'[src="'+Ce(r)+'"]'}function Hl(r){return"script[async]"+r}function Gv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(u)return s.instance=u,be(u),u;var d=P({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),be(u),un(u,"style",d),$c(u,o.precedence,r),s.instance=u;case"stylesheet":d=vo(o.href);var g=r.querySelector(ql(d));if(g)return s.state.loading|=4,s.instance=g,be(g),g;u=Hv(o),(d=gr.get(d))&&gp(u,d),g=(r.ownerDocument||r).createElement("link"),be(g);var S=g;return S._p=new Promise(function(I,L){S.onload=I,S.onerror=L}),un(g,"link",u),s.state.loading|=4,$c(g,o.precedence,r),s.instance=g;case"script":return g=Eo(o.src),(d=r.querySelector(Hl(g)))?(s.instance=d,be(d),d):(u=o,(d=gr.get(g))&&(u=P({},o),yp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),be(d),un(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,$c(u,o.precedence,r));return s.instance}function $c(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,S=0;S<u.length;S++){var I=u[S];if(I.dataset.precedence===s)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function yp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Xc=null;function Kv(r,s,o){if(Xc===null){var u=new Map,d=Xc=new Map;d.set(o,u)}else d=Xc,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Gi]||g[Ze]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var I=u.get(S);I?I.push(g):u.set(S,[g])}}return u}function Qv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function mA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Yv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Gl=null;function gA(){}function yA(r,s,o){if(Gl===null)throw Error(i(475));var u=Gl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=vo(o.href),g=r.querySelector(ql(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Wc.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,be(g);return}g=r.ownerDocument||r,o=Hv(o),(d=gr.get(d))&&gp(o,d),g=g.createElement("link"),be(g);var S=g;S._p=new Promise(function(I,L){S.onload=I,S.onerror=L}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Wc.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function _A(){if(Gl===null)throw Error(i(475));var r=Gl;return r.stylesheets&&r.count===0&&_p(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&_p(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)_p(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zc=null;function _p(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zc=new Map,s.forEach(vA,r),Zc=null,Wc.call(r))}function vA(r,s){if(!(s.state.loading&4)){var o=Zc.get(r);if(o)var u=o.get(null);else{o=new Map,Zc.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var S=d[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=s.instance,S=d.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,d),o.set(S,d),this.count++,u=Wc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Kl={$$typeof:b,Provider:null,Consumer:null,_currentValue:Nt,_currentValue2:Nt,_threadCount:0};function EA(r,s,o,u,d,g,S,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function $v(r,s,o,u,d,g,S,I,L,G,at,ft){return r=new EA(r,s,o,S,I,L,G,ft),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),r.current=g,g.stateNode=r,s=Xf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},kd(g),r}function Xv(r){return r?(r=Wa,r):Wa}function Wv(r,s,o,u,d,g){d=Xv(d),u.context===null?u.context=d:u.pendingContext=d,u=as(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=os(r,u,s),o!==null&&(Rn(o,r,s),Cl(o,r,s))}function Zv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function vp(r,s){Zv(r,s),(r=r.alternate)&&Zv(r,s)}function Jv(r){if(r.tag===13){var s=Ji(r,67108864);s!==null&&Rn(s,r,67108864),vp(r,67108864)}}var Jc=!0;function TA(r,s,o,u){var d=k.T;k.T=null;var g=vt.p;try{vt.p=2,Ep(r,s,o,u)}finally{vt.p=g,k.T=d}}function wA(r,s,o,u){var d=k.T;k.T=null;var g=vt.p;try{vt.p=8,Ep(r,s,o,u)}finally{vt.p=g,k.T=d}}function Ep(r,s,o,u){if(Jc){var d=Tp(u);if(d===null)lp(r,s,u,th,o),e0(r,u);else if(SA(d,r,s,o,u))u.stopPropagation();else if(e0(r,u),s&4&&-1<bA.indexOf(r)){for(;d!==null;){var g=ai(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=wr(g.pendingLanes);if(S!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var L=1<<31-Bt(S);I.entanglements[1]|=L,S&=~L}Hr(g),(Ae&6)===0&&(Lc=We()+500,zl(0))}}break;case 13:I=Ji(g,2),I!==null&&Rn(I,g,2),zc(),vp(g,2)}if(g=Tp(u),g===null&&lp(r,s,u,th,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else lp(r,s,u,null,o)}}function Tp(r){return r=Ba(r),wp(r)}var th=null;function wp(r){if(th=null,r=br(r),r!==null){var s=Et(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ft(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return th=r,null}function t0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wn()){case et:return 2;case A:return 8;case y:case E:return 32;case D:return 268435456;default:return 32}default:return 32}}var bp=!1,ps=null,ms=null,gs=null,Ql=new Map,Yl=new Map,ys=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(r,s){switch(r){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(s.pointerId)}}function $l(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ai(s),s!==null&&Jv(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function SA(r,s,o,u,d){switch(s){case"focusin":return ps=$l(ps,r,s,o,u,d),!0;case"dragenter":return ms=$l(ms,r,s,o,u,d),!0;case"mouseover":return gs=$l(gs,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Ql.set(g,$l(Ql.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Yl.set(g,$l(Yl.get(g)||null,r,s,o,u,d)),!0}return!1}function n0(r){var s=br(r.target);if(s!==null){var o=Et(s);if(o!==null){if(s=o.tag,s===13){if(s=Ft(o),s!==null){r.blockedOn=s,Hi(r.priority,function(){if(o.tag===13){var u=$n(),d=Ji(o,u);d!==null&&Rn(d,o,u),vp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function eh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Tp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ir=u,o.target.dispatchEvent(u),ir=null}else return s=ai(o),s!==null&&Jv(s),r.blockedOn=o,!1;s.shift()}return!0}function r0(r,s,o){eh(r)&&o.delete(s)}function AA(){bp=!1,ps!==null&&eh(ps)&&(ps=null),ms!==null&&eh(ms)&&(ms=null),gs!==null&&eh(gs)&&(gs=null),Ql.forEach(r0),Yl.forEach(r0)}function nh(r,s){r.blockedOn===s&&(r.blockedOn=null,bp||(bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AA)))}var rh=null;function i0(r){rh!==r&&(rh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rh===r&&(rh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(wp(u||o)===null)continue;break}var g=ai(o);g!==null&&(r.splice(s,3),s-=3,fd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Xl(r){function s(L){return nh(L,r)}ps!==null&&nh(ps,r),ms!==null&&nh(ms,r),gs!==null&&nh(gs,r),Ql.forEach(s),Yl.forEach(s);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)n0(o),o.blockedOn===null&&ys.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],S=d[qe]||null;if(typeof g=="function")S||i0(o);else if(S){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,S=g[qe]||null)I=S.formAction;else if(wp(d)!==null)continue}else I=S.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),i0(o)}}}function Sp(r){this._internalRoot=r}ih.prototype.render=Sp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=$n();Wv(o,u,r,s,null,null)},ih.prototype.unmount=Sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&mo(),Wv(r.current,2,null,r,null,null),zc(),s[si]=null}};function ih(r){this._internalRoot=r}ih.prototype.unstable_scheduleHydration=function(r){if(r){var s=Gu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,r),o===0&&n0(r)}};var s0=t.version;if(s0!=="19.0.0")throw Error(i(527,s0,"19.0.0"));vt.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=it(s),r=r!==null?_t(r):null,r=r===null?null:r.stateNode,r};var RA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:br,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{rt=sh.inject(RA),xt=sh}catch{}}return Jl.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=w_,g=b_,S=S_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=$v(r,1,!1,null,null,o,u,d,g,S,I,null),r[si]=s.current,op(r.nodeType===8?r.parentNode:r),new Sp(s)},Jl.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=w_,S=b_,I=S_,L=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=$v(r,1,!0,s,o??null,u,d,g,S,I,L,G),s.context=Xv(null),o=s.current,u=$n(),d=as(u),d.callback=null,os(o,d,u),s.current.lanes=u,Me(s,u),Hr(s),r[si]=s.current,op(r),new ih(s)},Jl.version="19.0.0",Jl}var v0;function HA(){if(v0)return Cp.exports;v0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cp.exports=qA(),Cp.exports}var GA=HA();const KA=Ru(GA),QA=()=>{};var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},YA=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],f=n[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let R=(f&15)<<2|m>>6,b=m&63;p||(b=64,c||(R=64)),i.push(e[_],e[T],e[R],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(NT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):YA(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const T=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new $A;const R=l<<2|f>>4;if(i.push(R),m!==64){const b=f<<4&240|m>>2;if(i.push(b),T!==64){const U=m<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(n){const t=NT(n);return OT.encodeByteArray(t,!0)},Ch=function(n){return XA(n).replace(/\./g,"")},MT=function(n){try{return OT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>WA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof E0>"u")return;const n=E0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&MT(n[1]);return t&&JSON.parse(t)},Zh=()=>{try{return QA()||ZA()||JA()||tR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UT=n=>{var t,e;return(e=(t=Zh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},PT=n=>{const t=UT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},LT=()=>{var n;return(n=Zh())===null||n===void 0?void 0:n.config},VT=n=>{var t;return(t=Zh())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ch(JSON.stringify(e)),Ch(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function rR(){var n;const t=(n=Zh())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class ii extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=hR,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?fR(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ii(a,f,i)}}function fR(n,t){return n.replace(dR,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const dR=/\{\$([^}]+)}/g;function pR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function wa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],c=t[a];if(T0(l)&&T0(c)){if(!wa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function T0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function mR(n,t){const e=new gR(n,t);return e.subscribe.bind(e)}class gR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");yR(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Op),a.error===void 0&&(a.error=Op),a.complete===void 0&&(a.complete=Op);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n){return n&&n._delegate?n._delegate:n}class ks{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new eR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ER(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(t,e){var i;const a=this.normalizeInstanceIdentifier(e),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(n){return n===ga?void 0:n}function ER(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new _R(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Wt||(Wt={}));const wR={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},bR=Wt.INFO,SR={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},AR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=SR[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=bR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}const RR=(n,t)=>t.some(e=>n instanceof e);let w0,b0;function xR(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,am=new WeakMap,FT=new WeakMap,Mp=new WeakMap,jm=new WeakMap;function CR(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Rs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&zT.set(e,n)}).catch(()=>{}),jm.set(t,n),t}function kR(n){if(am.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});am.set(n,t)}let om={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return am.get(n);if(t==="objectStoreNames")return n.objectStoreNames||FT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Rs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function DR(n){om=n(om)}function NR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Up(this),t,...e);return FT.set(i,t.sort?t.sort():[t]),Rs(i)}:IR().includes(n)?function(...t){return n.apply(Up(this),t),Rs(zT.get(this))}:function(...t){return Rs(n.apply(Up(this),t))}}function OR(n){return typeof n=="function"?NR(n):(n instanceof IDBTransaction&&kR(n),RR(n,xR())?new Proxy(n,om):n)}function Rs(n){if(n instanceof IDBRequest)return CR(n);if(Mp.has(n))return Mp.get(n);const t=OR(n);return t!==n&&(Mp.set(n,t),jm.set(t,n)),t}const Up=n=>jm.get(n);function MR(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),f=Rs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Rs(c.result),p.oldVersion,p.newVersion,Rs(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const UR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Pp=new Map;function S0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Pp.get(t))return Pp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=PR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||UR.includes(e)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[e](...f),a&&p.done]))[0]};return Pp.set(t,l),l}DR(n=>({...n,get:(t,e,i)=>S0(t,e)||n.get(t,e,i),has:(t,e)=>!!S0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(VR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function VR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lm="@firebase/app",A0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Fm("@firebase/app"),BR="@firebase/app-compat",zR="@firebase/analytics-compat",FR="@firebase/analytics",jR="@firebase/app-check-compat",qR="@firebase/app-check",HR="@firebase/auth",GR="@firebase/auth-compat",KR="@firebase/database",QR="@firebase/data-connect",YR="@firebase/database-compat",$R="@firebase/functions",XR="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",JR="@firebase/messaging",tx="@firebase/messaging-compat",ex="@firebase/performance",nx="@firebase/performance-compat",rx="@firebase/remote-config",ix="@firebase/remote-config-compat",sx="@firebase/storage",ax="@firebase/storage-compat",ox="@firebase/firestore",lx="@firebase/vertexai",ux="@firebase/firestore-compat",cx="firebase",hx="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",fx={[lm]:"fire-core",[BR]:"fire-core-compat",[FR]:"fire-analytics",[zR]:"fire-analytics-compat",[qR]:"fire-app-check",[jR]:"fire-app-check-compat",[HR]:"fire-auth",[GR]:"fire-auth-compat",[KR]:"fire-rtdb",[QR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[$R]:"fire-fn",[XR]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[JR]:"fire-fcm",[tx]:"fire-fcm-compat",[ex]:"fire-perf",[nx]:"fire-perf-compat",[rx]:"fire-rc",[ix]:"fire-rc-compat",[sx]:"fire-gcs",[ax]:"fire-gcs-compat",[ox]:"fire-fst",[ux]:"fire-fst-compat",[lx]:"fire-vertex","fire-js":"fire-js",[cx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,dx=new Map,cm=new Map;function R0(n,t){try{n.container.addComponent(t)}catch(e){Mi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ba(n){const t=n.name;if(cm.has(t))return Mi.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,n);for(const e of kh.values())R0(e,n);for(const e of dx.values())R0(e,n);return!0}function Jh(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _r(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new xu("app","Firebase",px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=hx;function jT(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:um,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(e||(e=LT()),!e)throw xs.create("no-options");const l=kh.get(a);if(l){if(wa(e,l.options)&&wa(i,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new TR(a);for(const p of cm.values())c.addComponent(p);const f=new mx(e,i,c);return kh.set(a,f),f}function qm(n=um){const t=kh.get(n);if(!t&&n===um&&LT())return jT();if(!t)throw xs.create("no-app",{appName:n});return t}function Xr(n,t,e){var i;let a=(i=fx[n])!==null&&i!==void 0?i:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mi.warn(f.join(" "));return}ba(new ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="firebase-heartbeat-database",yx=1,gu="firebase-heartbeat-store";let Lp=null;function qT(){return Lp||(Lp=MR(gx,yx,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(gu)}catch(e){console.warn(e)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Lp}async function _x(n){try{const e=(await qT()).transaction(gu),i=await e.objectStore(gu).get(HT(n));return await e.done,i}catch(t){if(t instanceof ii)Mi.warn(t.message);else{const e=xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(e.message)}}}async function x0(n,t){try{const i=(await qT()).transaction(gu,"readwrite");await i.objectStore(gu).put(t,HT(n)),await i.done}catch(e){if(e instanceof ii)Mi.warn(e.message);else{const i=xs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}function HT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=1024,Ex=30;class Tx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new bx(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=I0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Ex){const c=Sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I0(),{heartbeatsToSend:i,unsentEntries:a}=wx(this._heartbeatsCache.heartbeats),l=Ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Mi.warn(e),""}}}function I0(){return new Date().toISOString().substring(0,10)}function wx(n,t=vx){const e=[];let i=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),C0(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),C0(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class bx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _x(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function C0(n){return Ch(JSON.stringify({version:2,heartbeats:n})).length}function Sx(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){ba(new ks("platform-logger",t=>new LR(t),"PRIVATE")),ba(new ks("heartbeat",t=>new Tx(t),"PRIVATE")),Xr(lm,A0,n),Xr(lm,A0,"esm2017"),Xr("fire-js","")}Ax("");var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,GT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,O){function k(){}k.prototype=O.prototype,z.D=O.prototype,z.prototype=new k,z.prototype.constructor=z,z.C=function(P,V,F){for(var N=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)N[gt-2]=arguments[gt];return O.prototype[V].apply(P,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,O,k){k||(k=0);var P=Array(16);if(typeof O=="string")for(var V=0;16>V;++V)P[V]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(V=0;16>V;++V)P[V]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=z.g[0],k=z.g[1],V=z.g[2];var F=z.g[3],N=O+(F^k&(V^F))+P[0]+3614090360&4294967295;O=k+(N<<7&4294967295|N>>>25),N=F+(V^O&(k^V))+P[1]+3905402710&4294967295,F=O+(N<<12&4294967295|N>>>20),N=V+(k^F&(O^k))+P[2]+606105819&4294967295,V=F+(N<<17&4294967295|N>>>15),N=k+(O^V&(F^O))+P[3]+3250441966&4294967295,k=V+(N<<22&4294967295|N>>>10),N=O+(F^k&(V^F))+P[4]+4118548399&4294967295,O=k+(N<<7&4294967295|N>>>25),N=F+(V^O&(k^V))+P[5]+1200080426&4294967295,F=O+(N<<12&4294967295|N>>>20),N=V+(k^F&(O^k))+P[6]+2821735955&4294967295,V=F+(N<<17&4294967295|N>>>15),N=k+(O^V&(F^O))+P[7]+4249261313&4294967295,k=V+(N<<22&4294967295|N>>>10),N=O+(F^k&(V^F))+P[8]+1770035416&4294967295,O=k+(N<<7&4294967295|N>>>25),N=F+(V^O&(k^V))+P[9]+2336552879&4294967295,F=O+(N<<12&4294967295|N>>>20),N=V+(k^F&(O^k))+P[10]+4294925233&4294967295,V=F+(N<<17&4294967295|N>>>15),N=k+(O^V&(F^O))+P[11]+2304563134&4294967295,k=V+(N<<22&4294967295|N>>>10),N=O+(F^k&(V^F))+P[12]+1804603682&4294967295,O=k+(N<<7&4294967295|N>>>25),N=F+(V^O&(k^V))+P[13]+4254626195&4294967295,F=O+(N<<12&4294967295|N>>>20),N=V+(k^F&(O^k))+P[14]+2792965006&4294967295,V=F+(N<<17&4294967295|N>>>15),N=k+(O^V&(F^O))+P[15]+1236535329&4294967295,k=V+(N<<22&4294967295|N>>>10),N=O+(V^F&(k^V))+P[1]+4129170786&4294967295,O=k+(N<<5&4294967295|N>>>27),N=F+(k^V&(O^k))+P[6]+3225465664&4294967295,F=O+(N<<9&4294967295|N>>>23),N=V+(O^k&(F^O))+P[11]+643717713&4294967295,V=F+(N<<14&4294967295|N>>>18),N=k+(F^O&(V^F))+P[0]+3921069994&4294967295,k=V+(N<<20&4294967295|N>>>12),N=O+(V^F&(k^V))+P[5]+3593408605&4294967295,O=k+(N<<5&4294967295|N>>>27),N=F+(k^V&(O^k))+P[10]+38016083&4294967295,F=O+(N<<9&4294967295|N>>>23),N=V+(O^k&(F^O))+P[15]+3634488961&4294967295,V=F+(N<<14&4294967295|N>>>18),N=k+(F^O&(V^F))+P[4]+3889429448&4294967295,k=V+(N<<20&4294967295|N>>>12),N=O+(V^F&(k^V))+P[9]+568446438&4294967295,O=k+(N<<5&4294967295|N>>>27),N=F+(k^V&(O^k))+P[14]+3275163606&4294967295,F=O+(N<<9&4294967295|N>>>23),N=V+(O^k&(F^O))+P[3]+4107603335&4294967295,V=F+(N<<14&4294967295|N>>>18),N=k+(F^O&(V^F))+P[8]+1163531501&4294967295,k=V+(N<<20&4294967295|N>>>12),N=O+(V^F&(k^V))+P[13]+2850285829&4294967295,O=k+(N<<5&4294967295|N>>>27),N=F+(k^V&(O^k))+P[2]+4243563512&4294967295,F=O+(N<<9&4294967295|N>>>23),N=V+(O^k&(F^O))+P[7]+1735328473&4294967295,V=F+(N<<14&4294967295|N>>>18),N=k+(F^O&(V^F))+P[12]+2368359562&4294967295,k=V+(N<<20&4294967295|N>>>12),N=O+(k^V^F)+P[5]+4294588738&4294967295,O=k+(N<<4&4294967295|N>>>28),N=F+(O^k^V)+P[8]+2272392833&4294967295,F=O+(N<<11&4294967295|N>>>21),N=V+(F^O^k)+P[11]+1839030562&4294967295,V=F+(N<<16&4294967295|N>>>16),N=k+(V^F^O)+P[14]+4259657740&4294967295,k=V+(N<<23&4294967295|N>>>9),N=O+(k^V^F)+P[1]+2763975236&4294967295,O=k+(N<<4&4294967295|N>>>28),N=F+(O^k^V)+P[4]+1272893353&4294967295,F=O+(N<<11&4294967295|N>>>21),N=V+(F^O^k)+P[7]+4139469664&4294967295,V=F+(N<<16&4294967295|N>>>16),N=k+(V^F^O)+P[10]+3200236656&4294967295,k=V+(N<<23&4294967295|N>>>9),N=O+(k^V^F)+P[13]+681279174&4294967295,O=k+(N<<4&4294967295|N>>>28),N=F+(O^k^V)+P[0]+3936430074&4294967295,F=O+(N<<11&4294967295|N>>>21),N=V+(F^O^k)+P[3]+3572445317&4294967295,V=F+(N<<16&4294967295|N>>>16),N=k+(V^F^O)+P[6]+76029189&4294967295,k=V+(N<<23&4294967295|N>>>9),N=O+(k^V^F)+P[9]+3654602809&4294967295,O=k+(N<<4&4294967295|N>>>28),N=F+(O^k^V)+P[12]+3873151461&4294967295,F=O+(N<<11&4294967295|N>>>21),N=V+(F^O^k)+P[15]+530742520&4294967295,V=F+(N<<16&4294967295|N>>>16),N=k+(V^F^O)+P[2]+3299628645&4294967295,k=V+(N<<23&4294967295|N>>>9),N=O+(V^(k|~F))+P[0]+4096336452&4294967295,O=k+(N<<6&4294967295|N>>>26),N=F+(k^(O|~V))+P[7]+1126891415&4294967295,F=O+(N<<10&4294967295|N>>>22),N=V+(O^(F|~k))+P[14]+2878612391&4294967295,V=F+(N<<15&4294967295|N>>>17),N=k+(F^(V|~O))+P[5]+4237533241&4294967295,k=V+(N<<21&4294967295|N>>>11),N=O+(V^(k|~F))+P[12]+1700485571&4294967295,O=k+(N<<6&4294967295|N>>>26),N=F+(k^(O|~V))+P[3]+2399980690&4294967295,F=O+(N<<10&4294967295|N>>>22),N=V+(O^(F|~k))+P[10]+4293915773&4294967295,V=F+(N<<15&4294967295|N>>>17),N=k+(F^(V|~O))+P[1]+2240044497&4294967295,k=V+(N<<21&4294967295|N>>>11),N=O+(V^(k|~F))+P[8]+1873313359&4294967295,O=k+(N<<6&4294967295|N>>>26),N=F+(k^(O|~V))+P[15]+4264355552&4294967295,F=O+(N<<10&4294967295|N>>>22),N=V+(O^(F|~k))+P[6]+2734768916&4294967295,V=F+(N<<15&4294967295|N>>>17),N=k+(F^(V|~O))+P[13]+1309151649&4294967295,k=V+(N<<21&4294967295|N>>>11),N=O+(V^(k|~F))+P[4]+4149444226&4294967295,O=k+(N<<6&4294967295|N>>>26),N=F+(k^(O|~V))+P[11]+3174756917&4294967295,F=O+(N<<10&4294967295|N>>>22),N=V+(O^(F|~k))+P[2]+718787259&4294967295,V=F+(N<<15&4294967295|N>>>17),N=k+(F^(V|~O))+P[9]+3951481745&4294967295,z.g[0]=z.g[0]+O&4294967295,z.g[1]=z.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,z.g[2]=z.g[2]+V&4294967295,z.g[3]=z.g[3]+F&4294967295}i.prototype.u=function(z,O){O===void 0&&(O=z.length);for(var k=O-this.blockSize,P=this.B,V=this.h,F=0;F<O;){if(V==0)for(;F<=k;)a(this,z,F),F+=this.blockSize;if(typeof z=="string"){for(;F<O;)if(P[V++]=z.charCodeAt(F++),V==this.blockSize){a(this,P),V=0;break}}else for(;F<O;)if(P[V++]=z[F++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=O},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var O=1;O<z.length-8;++O)z[O]=0;var k=8*this.o;for(O=z.length-8;O<z.length;++O)z[O]=k&255,k/=256;for(this.u(z),z=Array(16),O=k=0;4>O;++O)for(var P=0;32>P;P+=8)z[k++]=this.g[O]>>>P&255;return z};function l(z,O){var k=f;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=O(z)}function c(z,O){this.h=O;for(var k=[],P=!0,V=z.length-1;0<=V;V--){var F=z[V]|0;P&&F==O||(k[V]=F,P=!1)}this.g=k}var f={};function p(z){return-128<=z&&128>z?l(z,function(O){return new c([O|0],0>O?-1:0)}):new c([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return T;if(0>z)return q(m(-z));for(var O=[],k=1,P=0;z>=k;P++)O[P]=z/k|0,k*=4294967296;return new c(O,0)}function _(z,O){if(z.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z.charAt(0)=="-")return q(_(z.substring(1),O));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(O,8)),P=T,V=0;V<z.length;V+=8){var F=Math.min(8,z.length-V),N=parseInt(z.substring(V,V+F),O);8>F?(F=m(Math.pow(O,F)),P=P.j(F).add(m(N))):(P=P.j(k),P=P.add(m(N)))}return P}var T=p(0),R=p(1),b=p(16777216);n=c.prototype,n.m=function(){if(B(this))return-q(this).m();for(var z=0,O=1,k=0;k<this.g.length;k++){var P=this.i(k);z+=(0<=P?P:4294967296+P)*O,O*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(U(this))return"0";if(B(this))return"-"+q(this).toString(z);for(var O=m(Math.pow(z,6)),k=this,P="";;){var V=ht(k,O).g;k=K(k,V.j(O));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(z);if(k=V,U(k))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function U(z){if(z.h!=0)return!1;for(var O=0;O<z.g.length;O++)if(z.g[O]!=0)return!1;return!0}function B(z){return z.h==-1}n.l=function(z){return z=K(this,z),B(z)?-1:U(z)?0:1};function q(z){for(var O=z.g.length,k=[],P=0;P<O;P++)k[P]=~z.g[P];return new c(k,~z.h).add(R)}n.abs=function(){return B(this)?q(this):this},n.add=function(z){for(var O=Math.max(this.g.length,z.g.length),k=[],P=0,V=0;V<=O;V++){var F=P+(this.i(V)&65535)+(z.i(V)&65535),N=(F>>>16)+(this.i(V)>>>16)+(z.i(V)>>>16);P=N>>>16,F&=65535,N&=65535,k[V]=N<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function K(z,O){return z.add(q(O))}n.j=function(z){if(U(this)||U(z))return T;if(B(this))return B(z)?q(this).j(q(z)):q(q(this).j(z));if(B(z))return q(this.j(q(z)));if(0>this.l(b)&&0>z.l(b))return m(this.m()*z.m());for(var O=this.g.length+z.g.length,k=[],P=0;P<2*O;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<z.g.length;V++){var F=this.i(P)>>>16,N=this.i(P)&65535,gt=z.i(V)>>>16,Tt=z.i(V)&65535;k[2*P+2*V]+=N*Tt,tt(k,2*P+2*V),k[2*P+2*V+1]+=F*Tt,tt(k,2*P+2*V+1),k[2*P+2*V+1]+=N*gt,tt(k,2*P+2*V+1),k[2*P+2*V+2]+=F*gt,tt(k,2*P+2*V+2)}for(P=0;P<O;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=O;P<2*O;P++)k[P]=0;return new c(k,0)};function tt(z,O){for(;(z[O]&65535)!=z[O];)z[O+1]+=z[O]>>>16,z[O]&=65535,O++}function J(z,O){this.g=z,this.h=O}function ht(z,O){if(U(O))throw Error("division by zero");if(U(z))return new J(T,T);if(B(z))return O=ht(q(z),O),new J(q(O.g),q(O.h));if(B(O))return O=ht(z,q(O)),new J(q(O.g),O.h);if(30<z.g.length){if(B(z)||B(O))throw Error("slowDivide_ only works with positive integers.");for(var k=R,P=O;0>=P.l(z);)k=ct(k),P=ct(P);var V=W(k,1),F=W(P,1);for(P=W(P,2),k=W(k,2);!U(P);){var N=F.add(P);0>=N.l(z)&&(V=V.add(k),F=N),P=W(P,1),k=W(k,1)}return O=K(z,V.j(O)),new J(V,O)}for(V=T;0<=z.l(O);){for(k=Math.max(1,Math.floor(z.m()/O.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=m(k),N=F.j(O);B(N)||0<N.l(z);)k-=P,F=m(k),N=F.j(O);U(F)&&(F=R),V=V.add(F),z=K(z,N)}return new J(V,z)}n.A=function(z){return ht(this,z).h},n.and=function(z){for(var O=Math.max(this.g.length,z.g.length),k=[],P=0;P<O;P++)k[P]=this.i(P)&z.i(P);return new c(k,this.h&z.h)},n.or=function(z){for(var O=Math.max(this.g.length,z.g.length),k=[],P=0;P<O;P++)k[P]=this.i(P)|z.i(P);return new c(k,this.h|z.h)},n.xor=function(z){for(var O=Math.max(this.g.length,z.g.length),k=[],P=0;P<O;P++)k[P]=this.i(P)^z.i(P);return new c(k,this.h^z.h)};function ct(z){for(var O=z.g.length+1,k=[],P=0;P<O;P++)k[P]=z.i(P)<<1|z.i(P-1)>>>31;return new c(k,z.h)}function W(z,O){var k=O>>5;O%=32;for(var P=z.g.length-k,V=[],F=0;F<P;F++)V[F]=0<O?z.i(F+k)>>>O|z.i(F+k+1)<<32-O:z.i(F+k);return new c(V,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,GT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Is=c}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KT,ru,QT,_h,hm,YT,$T,XT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function a(h,v){if(v)t:{var w=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in w))break t;w=w[Y]}h=h[h.length-1],C=w[h],v=v(C),v!=C&&v!=null&&t(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,C=!1,Y={next:function(){if(!C&&w<h.length){var nt=w++;return{value:v(nt,h[nt]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,w){return h.call.apply(h.bind,arguments)}function T(h,v,w){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,C),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function R(h,v,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,R.apply(null,arguments)}function b(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function U(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(C,Y,nt){for(var yt=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)yt[ne-2]=arguments[ne];return v.prototype[Y].apply(C,yt)}}function B(h){const v=h.length;if(0<v){const w=Array(v);for(let C=0;C<v;C++)w[C]=h[C];return w}return[]}function q(h,v){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(p(C)){const Y=h.length||0,nt=C.length||0;h.length=Y+nt;for(let yt=0;yt<nt;yt++)h[Y+yt]=C[yt]}else h.push(C)}}class K{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function tt(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ht(h){return ht[" "](h),h}ht[" "]=function(){};var ct=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function W(h,v,w){for(const C in h)v.call(w,h[C],C,h)}function z(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function O(h){const v={};for(const w in h)v[w]=h[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let w,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(w in C)h[w]=C[w];for(let nt=0;nt<k.length;nt++)w=k[nt],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function V(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function F(h){f.setTimeout(()=>{throw h},0)}function N(){var h=Ft;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class gt{constructor(){this.h=this.g=null}add(v,w){const C=Tt.get();C.set(v,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Tt=new K(()=>new pt,h=>h.reset());class pt{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Et=!1,Ft=new gt,x=()=>{const h=f.Promise.resolve(void 0);wt=()=>{h.then(it)}};var it=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(w){F(w)}var v=Tt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Et=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function Nt(h,v){if(M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ct){t:{try{ht(v.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Nt.aa.h.call(this)}}U(Nt,M);var At={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function ae(h,v,w,C,Y){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!C,this.ha=Y,this.key=++Ut,this.da=this.fa=!1}function Qt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h){this.src=h,this.g={},this.h=0}Ie.prototype.add=function(h,v,w,C,Y){var nt=h.toString();h=this.g[nt],h||(h=this.g[nt]=[],this.h++);var yt=Oe(h,v,C,Y);return-1<yt?(v=h[yt],w||(v.fa=!1)):(v=new ae(v,this.src,nt,!!C,Y),v.fa=w,h.push(v)),v};function Cn(h,v){var w=v.type;if(w in h.g){var C=h.g[w],Y=Array.prototype.indexOf.call(C,v,void 0),nt;(nt=0<=Y)&&Array.prototype.splice.call(C,Y,1),nt&&(Qt(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Oe(h,v,w,C){for(var Y=0;Y<h.length;++Y){var nt=h[Y];if(!nt.da&&nt.listener==v&&nt.capture==!!w&&nt.ha==C)return Y}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),zn={};function kn(h,v,w,C,Y){if(Array.isArray(v)){for(var nt=0;nt<v.length;nt++)kn(h,v[nt],w,C,Y);return null}return w=wn(w),h&&h[de]?h.K(v,w,m(C)?!!C.capture:!1,Y):tr(h,v,w,!1,C,Y)}function tr(h,v,w,C,Y,nt){if(!v)throw Error("Invalid event type");var yt=m(Y)?!!Y.capture:!!Y,ne=Tr(h);if(ne||(h[dn]=ne=new Ie(h)),w=ne.add(v,w,C,yt,nt),w.proxy)return w;if(C=Cr(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)vt||(Y=yt),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),C,Y);else if(h.attachEvent)h.attachEvent(jn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Cr(){function h(w){return v.call(h.src,h.listener,w)}const v=pn;return h}function Er(h,v,w,C,Y){if(Array.isArray(v))for(var nt=0;nt<v.length;nt++)Er(h,v[nt],w,C,Y);else C=m(C)?!!C.capture:!!C,w=wn(w),h&&h[de]?(h=h.i,v=String(v).toString(),v in h.g&&(nt=h.g[v],w=Oe(nt,w,C,Y),-1<w&&(Qt(nt[w]),Array.prototype.splice.call(nt,w,1),nt.length==0&&(delete h.g[v],h.h--)))):h&&(h=Tr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Oe(v,w,C,Y)),(w=-1<h?v[h]:null)&&Fn(w))}function Fn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])Cn(v.i,h);else{var w=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(w,C,h.capture):v.detachEvent?v.detachEvent(jn(w),C):v.addListener&&v.removeListener&&v.removeListener(C),(w=Tr(v))?(Cn(w,h),w.h==0&&(w.src=null,v[dn]=null)):Qt(h)}}}function jn(h){return h in zn?zn[h]:zn[h]="on"+h}function pn(h,v){if(h.da)h=!0;else{v=new Nt(v,this);var w=h.listener,C=h.ha||h.src;h.fa&&Fn(h),h=w.call(C,v)}return h}function Tr(h){return h=h[dn],h instanceof Ie?h:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(h){return typeof h=="function"?h:(h[We]||(h[We]=function(v){return h.handleEvent(v)}),h[We])}function et(){_t.call(this),this.i=new Ie(this),this.M=this,this.F=null}U(et,_t),et.prototype[de]=!0,et.prototype.removeEventListener=function(h,v,w,C){Er(this,h,v,w,C)};function A(h,v){var w,C=h.F;if(C)for(w=[];C;C=C.F)w.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var Y=v;v=new M(C,h),P(v,Y)}if(Y=!0,w)for(var nt=w.length-1;0<=nt;nt--){var yt=v.g=w[nt];Y=y(yt,C,!0,v)&&Y}if(yt=v.g=h,Y=y(yt,C,!0,v)&&Y,Y=y(yt,C,!1,v)&&Y,w)for(nt=0;nt<w.length;nt++)yt=v.g=w[nt],Y=y(yt,C,!1,v)&&Y}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],C=0;C<w.length;C++)Qt(w[C]);delete h.g[v],h.h--}}this.F=null},et.prototype.K=function(h,v,w,C){return this.i.add(String(h),v,!1,w,C)},et.prototype.L=function(h,v,w,C){return this.i.add(String(h),v,!0,w,C)};function y(h,v,w,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,nt=0;nt<v.length;++nt){var yt=v[nt];if(yt&&!yt.da&&yt.capture==w){var ne=yt.listener,He=yt.ha||yt.src;yt.fa&&Cn(h.i,yt),Y=ne.call(He,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function E(h,v,w){if(typeof h=="function")w&&(h=R(h,w));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function D(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,D(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class j extends _t{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:D(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X(h){_t.call(this),this.h=h,this.g={}}U(X,_t);var rt=[];function xt(h){W(h.g,function(v,w){this.g.hasOwnProperty(w)&&Fn(v)},h),h.g={}}X.prototype.N=function(){X.aa.N.call(this),xt(this)},X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=f.JSON.stringify,Mt=f.JSON.parse,Bt=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Ht(){}Ht.prototype.h=null;function Fu(h){return h.h||(h.h=h.i())}function ju(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){M.call(this,"d")}U(Bi,M);function wr(){M.call(this,"c")}U(wr,M);var er={},zi=null;function Oa(){return zi=zi||new et}er.La="serverreachability";function Wo(h){M.call(this,er.La,h)}U(Wo,M);function Fi(h){const v=Oa();A(v,new Wo(v))}er.STAT_EVENT="statevent";function Ma(h,v){M.call(this,er.STAT_EVENT,h),this.stat=v}U(Ma,M);function Me(h){const v=Oa();A(v,new Ma(v,h))}er.Ma="timingevent";function qu(h,v){M.call(this,er.Ma,h),this.size=v}U(qu,M);function ji(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function Hu(h,v,w,C,Y,nt){h.info(function(){if(h.g)if(nt)for(var yt="",ne=nt.split("&"),He=0;He<ne.length;He++){var re=ne[He].split("=");if(1<re.length){var tn=re[0];re=re[1];var Ge=tn.split("_");yt=2<=Ge.length&&Ge[1]=="type"?yt+(tn+"="+re+"&"):yt+(tn+"=redacted&")}}else yt=null;else yt=nt;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+v+`
`+w+`
`+yt})}function Gu(h,v,w,C,Y,nt,yt){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+v+`
`+w+`
`+nt+" "+yt})}function Hi(h,v,w,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ze(h,w)+(C?" "+C:"")})}function Dr(h,v){h.info(function(){return"TIMEOUT: "+v})}qi.prototype.info=function(){};function Ze(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var C=w[h];if(!(2>C.length)){var Y=C[1];if(Array.isArray(Y)&&!(1>Y.length)){var nt=Y[0];if(nt!="noop"&&nt!="stop"&&nt!="close")for(var yt=1;yt<Y.length;yt++)Y[yt]=""}}}}return ee(w)}catch{return v}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zs;function Ua(){}U(Ua,Ht),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},zs=new Ua;function Nr(h,v,w,C){this.j=h,this.i=v,this.l=w,this.R=C||1,this.U=new X(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zo}function Zo(){this.i=null,this.g="",this.h=!1}var Gi={},Fs={};function br(h,v,w){h.L=1,h.v=Hs(Ce(v)),h.m=w,h.P=!0,ai(h,null)}function ai(h,v){h.F=Date.now(),be(h),h.A=Ce(h.v);var w=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),ui(w.i,"t",C),h.C=0,w=h.j.J,h.h=new Zo,h.g=sc(h.j,w?v:null,!h.m),0<h.O&&(h.M=new j(R(h.Y,h,h.g),h.O)),v=h.U,w=h.g,C=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(rt[0]=Y.toString()),Y=rt);for(var nt=0;nt<Y.length;nt++){var yt=kn(w,Y[nt],C||v.handleEvent,!1,v.h||v);if(!yt)break;v.g[yt.key]=yt}v=h.H?O(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Fi(),Hu(h.i,h.u,h.A,h.l,h.R,h.m)}Nr.prototype.ca=function(h){h=h.target;const v=this.M;v&&ar(h)==3?v.j():this.Y(h)},Nr.prototype.Y=function(h){try{if(h==this.g)t:{const Ge=ar(this.g);var v=this.g.Ba();const di=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||Ge!=4||v==7||(v==8||0>=di?Fi(3):Fi(2)),Pa(this);var w=this.g.Z();this.X=w;e:if(Ki(this)){var C=Wu(this.g);h="";var Y=C.length,nt=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),qn(this);var yt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(nt&&v==Y-1)});C.length=0,this.h.g+=h,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=w==200,Gu(this.i,this.u,this.A,this.l,this.R,Ge,w),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,He=this.g;if((ne=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(ne)){var re=ne;break e}}re=null}if(w=re)Hi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,w);else{this.o=!1,this.s=3,Me(12),Dn(this),qn(this);break t}}if(this.P){w=!0;let an;for(;!this.J&&this.C<yt.length;)if(an=Qi(this,yt),an==Fs){Ge==4&&(this.s=4,Me(14),w=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Gi){this.s=4,Me(15),Hi(this.i,this.l,yt,"[Invalid Chunk]"),w=!1;break}else Hi(this.i,this.l,an,null),Hn(this,an);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||yt.length!=0||this.h.h||(this.s=1,Me(16),w=!1),this.o=this.o&&w,!w)Hi(this.i,this.l,yt,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(0<yt.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),Ws(tn),tn.M=!0,Me(11))}}else Hi(this.i,this.l,yt,null),Hn(this,yt);Ge==4&&Dn(this),this.o&&!this.J&&(Ge==4?nc(this.j,this):(this.o=!1,be(this)))}else Mf(this.g),w==400&&0<yt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),Dn(this),qn(this)}}}catch{}finally{}};function Ki(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qi(h,v){var w=h.C,C=v.indexOf(`
`,w);return C==-1?Fs:(w=Number(v.substring(w,C)),isNaN(w)?Gi:(C+=1,C+w>v.length?Fs:(v=v.slice(C,C+w),h.C=C+w,v)))}Nr.prototype.cancel=function(){this.J=!0,Dn(this)};function be(h){h.S=Date.now()+h.I,Jo(h,h.I)}function Jo(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ji(R(h.ba,h),v)}function Pa(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Nr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dr(this.i,this.A),this.L!=2&&(Fi(),Me(17)),Dn(this),this.s=2,qn(this)):Jo(this,this.S-h)};function qn(h){h.j.G==0||h.J||nc(h.j,h)}function Dn(h){Pa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,xt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hn(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||Yi(w.h,h))){if(!h.K&&Yi(w.h,h)&&w.G==3){try{var C=w.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ka(w),Ha(w);else break t;cl(w),Me(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=ji(R(w.Za,w),6e3));if(1>=Ku(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else fi(w,11)}else if((h.K||w.g==h)&&Ka(w),!tt(v))for(Y=w.Da.g.parse(v),v=0;v<Y.length;v++){let re=Y[v];if(w.T=re[0],re=re[1],w.G==2)if(re[0]=="c"){w.K=re[1],w.ia=re[2];const tn=re[3];tn!=null&&(w.la=tn,w.j.info("VER="+w.la));const Ge=re[4];Ge!=null&&(w.Aa=Ge,w.j.info("SVER="+w.Aa));const di=re[5];di!=null&&typeof di=="number"&&0<di&&(C=1.5*di,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const an=h.g;if(an){const Br=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var nt=C.h;nt.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&($i(nt,nt.h),nt.h=null))}if(C.D){const fl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(C.ya=fl,oe(C.I,C.D,fl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var yt=h;if(C.qa=ic(C,C.J?C.ia:null,C.W),yt.K){nr(C.h,yt);var ne=yt,He=C.L;He&&(ne.I=He),ne.B&&(Pa(ne),be(ne)),C.g=yt}else tc(C);0<w.i.length&&Ga(w)}else re[0]!="stop"&&re[0]!="close"||fi(w,7);else w.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?fi(w,7):ll(w):re[0]!="noop"&&w.l&&w.l.ta(re),w.v=0)}}Fi(4)}catch{}}var Cf=class{constructor(h,v){this.g=h,this.map=v}};function tl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ku(h){return h.h?1:h.g?h.g.size:0}function Yi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function $i(h,v){h.g?h.g.add(v):h.h=v}function nr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}tl.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return B(h.i)}function Qu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],w=h.length,C=0;C<w;C++)v.push(h[C]);return v}v=[],w=0;for(C in h)v[w++]=h[C];return v}function kf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const C in h)v[w++]=C;return v}}}function js(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=kf(h),C=Qu(h),Y=C.length,nt=0;nt<Y;nt++)v.call(void 0,C[nt],w&&w[nt],h)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var C=h[w].indexOf("="),Y=null;if(0<=C){var nt=h[w].substring(0,C);Y=h[w].substring(C+1)}else nt=h[w];v(nt,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function oi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof oi){this.h=h.h,Xi(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var v=h.i,w=new Or;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Va(this,w),this.m=h.m}else h&&(v=String(h).match(nl))?(this.h=!1,Xi(this,v[1]||"",!0),this.o=Wi(v[2]||""),this.g=Wi(v[3]||"",!0),qs(this,v[4]),this.l=Wi(v[5]||"",!0),Va(this,v[6]||"",!0),this.m=Wi(v[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}oi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(rr(v,rl,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(rr(v,rl,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(rr(w,w.charAt(0)=="/"?il:Yu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",rr(w,Of)),h.join("")};function Ce(h){return new oi(h)}function Xi(h,v,w){h.j=w?Wi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Va(h,v,w){v instanceof Or?(h.i=v,sl(h.i,h.h)):(w||(v=rr(v,Nf)),h.i=new Or(v,h.h))}function oe(h,v,w){h.i.set(v,w)}function Hs(h){return oe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rr(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Df),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Df(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var rl=/[#\/\?@]/g,Yu=/[#\?:]/g,il=/[#\?]/g,Nf=/[#\?@]/g,Of=/#/g;function Or(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&La(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Or.prototype,n.add=function(h,v){ir(this),this.i=null,h=ci(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function Ba(h,v){ir(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function li(h,v){return ir(h),v=ci(h,v),h.g.has(v)}n.forEach=function(h,v){ir(this),this.g.forEach(function(w,C){w.forEach(function(Y){h.call(v,Y,C,this)},this)},this)},n.na=function(){ir(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let C=0;C<v.length;C++){const Y=h[C];for(let nt=0;nt<Y.length;nt++)w.push(v[C])}return w},n.V=function(h){ir(this);let v=[];if(typeof h=="string")li(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},n.set=function(h,v){return ir(this),this.i=null,h=ci(this,h),li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ui(h,v,w){Ba(h,v),0<w.length&&(h.i=null,h.g.set(ci(h,v),B(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var C=v[w];const nt=encodeURIComponent(String(C)),yt=this.V(C);for(C=0;C<yt.length;C++){var Y=nt;yt[C]!==""&&(Y+="="+encodeURIComponent(String(yt[C]))),h.push(Y)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function sl(h,v){v&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(w,C){var Y=C.toLowerCase();C!=Y&&(Ba(this,C),ui(this,Y,w))},h)),h.j=v}function $u(h,v){const w=new qi;if(f.Image){const C=new Image;C.onload=b(sr,w,"TestLoadImage: loaded",!0,v,C),C.onerror=b(sr,w,"TestLoadImage: error",!1,v,C),C.onabort=b(sr,w,"TestLoadImage: abort",!1,v,C),C.ontimeout=b(sr,w,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Gs(h,v){const w=new qi,C=new AbortController,Y=setTimeout(()=>{C.abort(),sr(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(nt=>{clearTimeout(Y),nt.ok?sr(w,"TestPingServer: ok",!0,v):sr(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),sr(w,"TestPingServer: error",!1,v)})}function sr(h,v,w,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(w)}catch{}}function Ks(){this.g=new Bt}function Mr(h,v,w){const C=w||"";try{js(h,function(Y,nt){let yt=Y;m(Y)&&(yt=ee(Y)),v.push(C+nt+"="+encodeURIComponent(yt))})}catch(Y){throw v.push(C+"type="+encodeURIComponent("_badmap")),Y}}function Zi(h){this.l=h.Ub||null,this.j=h.eb||!1}U(Zi,Ht),Zi.prototype.g=function(){return new hi(this.l,this.j)},Zi.prototype.i=function(h){return function(){return h}}({});function hi(h,v){et.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(hi,et),n=hi.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Pr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ur(this):Pr(this),this.readyState==3&&al(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},n.Qa=function(h){this.g&&(this.response=h,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ol(h){let v="";return W(h,function(w,C){v+=C,v+=":",v+=w,v+=`\r
`}),v}function Je(h,v,w){t:{for(C in w){var C=!1;break t}C=!0}C||(w=ol(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):oe(h,v,w))}function he(h){et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(he,et);var za=/^https?$/i,Qs=["POST","PUT"];n=he.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zs.g(),this.v=this.o?Fu(this.o):Fu(zs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(nt){Xu(this,nt);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)w.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const nt of C.keys())w.set(nt,C.get(nt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(nt=>nt.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,v,void 0))||C||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,yt]of w)this.g.setRequestHeader(nt,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(nt){Xu(this,nt)}};function Xu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Fa(h),Lr(h)}function Fa(h){h.A||(h.A=!0,A(h,"complete"),A(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,A(this,"complete"),A(this,"abort"),Lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),he.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)E(h.Ea,0,h);else if(A(h,"readystatechange"),ar(h)==4){h.h=!1;try{const yt=h.Z();t:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var C;if(C=yt===0){var Y=String(h.D).match(nl)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),C=!za.test(Y?Y.toLowerCase():"")}w=C}if(w)A(h,"complete"),A(h,"success");else{h.m=6;try{var nt=2<ar(h)?h.g.statusText:""}catch{nt=""}h.l=nt+" ["+h.Z()+"]",Fa(h)}}finally{Lr(h)}}}}function Lr(h,v){if(h.g){Ys(h);const w=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||A(h,"ready");try{w.onreadystatechange=C}catch{}}}function Ys(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Mt(v)}};function Wu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(h){const v={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(tt(h[C]))continue;var w=V(h[C]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const nt=v[Y]||[];v[Y]=nt,nt.push(w)}z(v,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function qa(h){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,h),this.cb=$s("retryDelaySeedMs",1e4,h),this.Wa=$s("forwardChannelMaxRetries",2,h),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(h&&h.concurrentRequestLimit),this.Da=new Ks,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qa.prototype,n.la=8,n.G=1,n.connect=function(h,v,w,C){Me(0),this.W=h,this.H=v||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=ic(this,null,this.W),Ga(this)};function ll(h){if(Zu(h),h.G==3){var v=h.U++,w=Ce(h.I);if(oe(w,"SID",h.K),oe(w,"RID",v),oe(w,"TYPE","terminate"),Xs(h,w),v=new Nr(h,h.j,v),v.L=2,v.v=Hs(Ce(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=sc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),be(v)}rc(h)}function Ha(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function Zu(h){Ha(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ga(h){if(!el(h.h)&&!h.s){h.s=!0;var v=h.Ga;wt||x(),Et||(wt(),Et=!0),Ft.add(v,h),h.B=0}}function Uf(h,v){return Ku(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ji(R(h.Ga,h,v),hl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Nr(this,this.j,h);let nt=this.o;if(this.S&&(nt?(nt=O(nt),P(nt,this.S)):nt=this.S),this.m!==null||this.O||(Y.H=nt,nt=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=Ju(this,Y,v),w=Ce(this.I),oe(w,"RID",h),oe(w,"CVER",22),this.D&&oe(w,"X-HTTP-Session-Id",this.D),Xs(this,w),nt&&(this.O?v="headers="+encodeURIComponent(String(ol(nt)))+"&"+v:this.m&&Je(w,this.m,nt)),$i(this.h,Y),this.Ua&&oe(w,"TYPE","init"),this.P?(oe(w,"$req",v),oe(w,"SID","null"),Y.T=!0,br(Y,w,null)):br(Y,w,v),this.G=2}}else this.G==3&&(h?ul(this,h):this.i.length==0||el(this.h)||ul(this))};function ul(h,v){var w;v?w=v.l:w=h.U++;const C=Ce(h.I);oe(C,"SID",h.K),oe(C,"RID",w),oe(C,"AID",h.T),Xs(h,C),h.m&&h.o&&Je(C,h.m,h.o),w=new Nr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ju(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),$i(h.h,w),br(w,C,v)}function Xs(h,v){h.H&&W(h.H,function(w,C){oe(v,C,w)}),h.l&&js({},function(w,C){oe(v,C,w)})}function Ju(h,v,w){w=Math.min(h.i.length,w);var C=h.l?R(h.l.Na,h.l,h):null;t:{var Y=h.i;let nt=-1;for(;;){const yt=["count="+w];nt==-1?0<w?(nt=Y[0].g,yt.push("ofs="+nt)):nt=0:yt.push("ofs="+nt);let ne=!0;for(let He=0;He<w;He++){let re=Y[He].g;const tn=Y[He].map;if(re-=nt,0>re)nt=Math.max(0,Y[He].g-100),ne=!1;else try{Mr(tn,yt,"req"+re+"_")}catch{C&&C(tn)}}if(ne){C=yt.join("&");break t}}}return h=h.i.splice(0,w),v.D=h,C}function tc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;wt||x(),Et||(wt(),Et=!0),Ft.add(v,h),h.v=0}}function cl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ji(R(h.Fa,h),hl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ji(R(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Ha(this),ec(this))};function Ws(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ec(h){h.g=new Nr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Ce(h.qa);oe(v,"RID","rpc"),oe(v,"SID",h.K),oe(v,"AID",h.T),oe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&oe(v,"TO",h.ja),oe(v,"TYPE","xmlhttp"),Xs(h,v),h.m&&h.o&&Je(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Hs(Ce(v)),w.m=null,w.P=!0,ai(w,h)}n.Za=function(){this.C!=null&&(this.C=null,Ha(this),cl(this),Me(19))};function Ka(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function nc(h,v){var w=null;if(h.g==v){Ka(h),Ws(h),h.g=null;var C=2}else if(Yi(h.h,v))w=v.D,nr(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;C=Oa(),A(C,new qu(C,w)),Ga(h)}else tc(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(C==1&&Uf(h,v)||C==2&&cl(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),Y){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function hl(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function fi(h,v){if(h.j.info("Error code "+v),v==2){var w=R(h.fb,h),C=h.Xa;const Y=!C;C=new oi(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Xi(C,"https"),Hs(C),Y?$u(C.toString(),w):Gs(C.toString(),w)}else Me(2);h.G=0,h.l&&h.l.sa(v),rc(h),Zu(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function rc(h){if(h.G=0,h.ka=[],h.l){const v=bn(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ka,v),q(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function ic(h,v,w){var C=w instanceof oi?Ce(w):new oi(w);if(C.g!="")v&&(C.g=v+"."+C.g),qs(C,C.s);else{var Y=f.location;C=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var nt=new oi(null);C&&Xi(nt,C),v&&(nt.g=v),Y&&qs(nt,Y),w&&(nt.l=w),C=nt}return w=h.D,v=h.ya,w&&v&&oe(C,w,v),oe(C,"VER",h.la),Xs(h,C),C}function sc(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new he(new Zi({eb:w})):new he(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}n=ac.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qa(){}Qa.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){et.call(this),this.g=new qa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!tt(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!tt(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Vr(this)}U(Sn,et),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){ll(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ee(h),h=w);v.i.push(new Cf(v.Ya++,h)),v.G==3&&Ga(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,Sn.aa.N.call(this)};function oc(h){Bi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const w in v){h=w;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}U(oc,Bi);function lc(){wr.call(this),this.status=1}U(lc,wr);function Vr(h){this.g=h}U(Vr,ac),Vr.prototype.ua=function(){A(this.g,"a")},Vr.prototype.ta=function(h){A(this.g,new oc(h))},Vr.prototype.sa=function(h){A(this.g,new lc)},Vr.prototype.ra=function(){A(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,XT=function(){return new Qa},$T=function(){return Oa()},YT=er,hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,_h=qe,si.COMPLETE="complete",QT=si,ju.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",et.prototype.listen=et.prototype.K,ru=ju,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,KT=he}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",N0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Fm("@firebase/firestore");function So(){return Sa.logLevel}function bt(n,...t){if(Sa.logLevel<=Wt.DEBUG){const e=t.map(Hm);Sa.debug(`Firestore (${qo}): ${n}`,...e)}}function Ui(n,...t){if(Sa.logLevel<=Wt.ERROR){const e=t.map(Hm);Sa.error(`Firestore (${qo}): ${n}`,...e)}}function Uo(n,...t){if(Sa.logLevel<=Wt.WARN){const e=t.map(Hm);Sa.warn(`Firestore (${qo}): ${n}`,...e)}}function Hm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n="Unexpected state"){const t=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw Ui(t),new Error(t)}function fe(n,t){n||Pt()}function qt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ii{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_n.UNAUTHENTICATED))}shutdown(){}}class xx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ix{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){fe(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,e(p)):Promise.resolve();let l=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ni,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ni)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string"),new WT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string"),new _n(t)}}class Cx{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kx{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Cx(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dx{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){fe(this.o===void 0);const i=l=>{l.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const a=l=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new O0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fe(typeof e.token=="string"),this.R=e.token,new O0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Nx(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function te(n,t){return n<t?-1:n>t?1:0}function Po(n,t,e){return n.length===t.length&&n.every((i,a)=>e(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=-62135596800,U0=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(t){return $e.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*U0);return new $e(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<M0)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-M0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new $e(0,0))}static max(){return new zt(new $e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Kr{constructor(t,e,i){e===void 0?e=0:e>t.length&&Pt(),i===void 0?i=t.length-e:i>t.length-e&&Pt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Kr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Kr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=Kr.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Math.sign(t.length-e.length)}static compareSegments(t,e){const i=Kr.isNumericId(t),a=Kr.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Kr.extractNumericId(t).compare(Kr.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class we extends Kr{construct(t,e,i){return new we(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new we(e)}static emptyPath(){return new we([])}}const Ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Kr{construct(t,e,i){return new hn(t,e,i)}static isValidIdentifier(t){return Ox.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new hn([P0])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new Ct(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ct(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Ct(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(e)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(we.fromString(t))}static fromName(t){return new Dt(we.fromString(t).popFirst(5))}static empty(){return new Dt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return we.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function Mx(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=zt.fromTimestamp(i===1e9?new $e(e+1,0):new $e(e,i));return new Ds(a,Dt.empty(),t)}function Ux(n){return new Ds(n.readTime,n.key,yu)}class Ds{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ds(zt.min(),Dt.empty(),yu)}static max(){return new Ds(zt.max(),Dt.empty(),yu)}}function Px(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Dt.comparator(n.documentKey,t.documentKey),e!==0?e:te(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==dt.FAILED_PRECONDITION||n.message!==Lx)throw n;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,i)=>{e(t)})}static reject(t){return new ut((e,i)=>{i(t)})}static waitFor(t){return new ut((e,i)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&e()},p=>i(p))}),c=!0,l===a&&e()})}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next(a=>a?ut.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,l)=>{i.push(e.call(this,a,l))}),this.waitFor(i)}static mapArray(t,e){return new ut((i,a)=>{const l=t.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;e(t[m]).next(_=>{c[m]=_,++f,f===l&&i(c)},_=>a(_))}})}static doWhile(t,e){return new ut((i,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):i()};l()})}}function Bx(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Go(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.oe(i),this._e=i=>e.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}tf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function ef(n){return n==null}function Dh(n){return n===0&&1/n==-1/0}function zx(n){return typeof n=="number"&&Number.isInteger(n)&&!Dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function Fx(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=L0(t)),t=jx(n.get(e),t);return L0(t)}function jx(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case JT:e+="";break;default:e+=l}}return e}function L0(n){return n+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ls(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function tw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||cn.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new cn(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const t=this.left.check();if(t!==this.right.check())throw Pt();return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(t,e,i,a,l){return this}insert(t,e,i){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(t){return new B0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Xe(this.comparator);return e.data=t,e}}class B0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(t){let e=new Xe(hn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Wn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ew("Invalid base64 string: "+l):l}}(t);return new fn(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new fn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(n){if(fe(!!n),typeof n=="string"){let t=0;const e=qx.exec(n);if(fe(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?fn.fromBase64String(n):fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="server_timestamp",rw="__type__",iw="__previous_value__",sw="__local_write_time__";function Km(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[rw])===null||e===void 0?void 0:e.stringValue)===nw}function nf(n){const t=n.mapValue.fields[iw];return Km(t)?nf(t):t}function _u(n){const t=Ns(n.mapValue.fields[sw].timestampValue);return new $e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,e,i,a,l,c,f,p,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Nh="(default)";class vu{constructor(t,e){this.projectId=t,this.database=e||Nh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(t){return t instanceof vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__type__",Gx="__max__",uh={mapValue:{}},ow="__vector__",Oh="value";function Ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Km(n)?4:Qx(n)?9007199254740991:Kx(n)?10:11:Pt()}function ti(n,t){if(n===t)return!0;const e=Ms(n);if(e!==Ms(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return _u(n).isEqual(_u(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ns(a.timestampValue),f=Ns(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return Os(a.bytesValue).isEqual(Os(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return Pe(a.geoPointValue.latitude)===Pe(l.geoPointValue.latitude)&&Pe(a.geoPointValue.longitude)===Pe(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pe(a.integerValue)===Pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pe(a.doubleValue),f=Pe(l.doubleValue);return c===f?Dh(c)===Dh(f):isNaN(c)&&isNaN(f)}return!1}(n,t);case 9:return Po(n.arrayValue.values||[],t.arrayValue.values||[],ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(V0(c)!==V0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ti(c[p],f[p])))return!1;return!0}(n,t);default:return Pt()}}function Eu(n,t){return(n.values||[]).find(e=>ti(e,t))!==void 0}function Lo(n,t){if(n===t)return 0;const e=Ms(n),i=Ms(t);if(e!==i)return te(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Pe(l.integerValue||l.doubleValue),p=Pe(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,t);case 3:return z0(n.timestampValue,t.timestampValue);case 4:return z0(_u(n),_u(t));case 5:return te(n.stringValue,t.stringValue);case 6:return function(l,c){const f=Os(l),p=Os(c);return f.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const _=te(f[m],p[m]);if(_!==0)return _}return te(f.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const f=te(Pe(l.latitude),Pe(c.latitude));return f!==0?f:te(Pe(l.longitude),Pe(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return F0(n.arrayValue,t.arrayValue);case 10:return function(l,c){var f,p,m,_;const T=l.fields||{},R=c.fields||{},b=(f=T[Oh])===null||f===void 0?void 0:f.arrayValue,U=(p=R[Oh])===null||p===void 0?void 0:p.arrayValue,B=te(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:F0(b,U)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const R=te(p[T],_[T]);if(R!==0)return R;const b=Lo(f[p[T]],m[_[T]]);if(b!==0)return b}return te(p.length,_.length)}(n.mapValue,t.mapValue);default:throw Pt()}}function z0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return te(n,t);const e=Ns(n),i=Ns(t),a=te(e.seconds,i.seconds);return a!==0?a:te(e.nanos,i.nanos)}function F0(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Lo(e[a],i[a]);if(l)return l}return te(e.length,i.length)}function Vo(n){return fm(n)}function fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ns(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Os(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Dt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=fm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${fm(e.fields[c])}`;return a+"}"}(n.mapValue):Pt()}function vh(n){switch(Ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nf(n);return t?16+vh(t):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+vh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ls(i.fields,(l,c)=>{a+=l.length+vh(c)}),a}(n.mapValue);default:throw Pt()}}function dm(n){return!!n&&"integerValue"in n}function Qm(n){return!!n&&"arrayValue"in n}function j0(n){return!!n&&"nullValue"in n}function q0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Eh(n){return!!n&&"mapValue"in n}function Kx(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[aw])===null||e===void 0?void 0:e.stringValue)===ow}function ou(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ou(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ou(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Qx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Gx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Eh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ou(e)}setAll(t){let e=hn.emptyPath(),i={},a=[];t.forEach((c,f)=>{if(!e.isImmediateParentOf(f)){const p=this.getFieldsMap(e);this.applyChanges(p,i,a),i={},a=[],e=f.popLast()}c?i[f.lastSegment()]=ou(c):a.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Eh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ti(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Eh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Ls(e,(a,l)=>t[a]=l);for(const a of i)delete t[a]}clone(){return new Pn(ou(this.value))}}function lw(n){const t=[];return Ls(n.fields,(e,i)=>{const a=new hn([e]);if(Eh(i)){const l=lw(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,e,i,a,l,c,f){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new vn(t,0,zt.min(),zt.min(),zt.min(),Pn.empty(),0)}static newFoundDocument(t,e,i,a){return new vn(t,1,e,zt.min(),i,a,0)}static newNoDocument(t,e){return new vn(t,2,e,zt.min(),zt.min(),Pn.empty(),0)}static newUnknownDocument(t,e){return new vn(t,3,e,zt.min(),zt.min(),Pn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,e){this.position=t,this.inclusive=e}}function H0(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?i=Dt.comparator(Dt.fromName(c.referenceValue),e.key):i=Lo(c,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function G0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ti(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e="asc"){this.field=t,this.dir=e}}function Yx(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{}class Ye extends uw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Xx(t,e,i):e==="array-contains"?new Jx(t,i):e==="in"?new tI(t,i):e==="not-in"?new eI(t,i):e==="array-contains-any"?new nI(t,i):new Ye(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Wx(t,i):new Zx(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Lo(e,this.value)):e!==null&&Ms(this.value)===Ms(e)&&this.matchesComparison(Lo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends uw{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new ei(t,e)}matches(t){return cw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cw(n){return n.op==="and"}function hw(n){return $x(n)&&cw(n)}function $x(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function pm(n){if(n instanceof Ye)return n.field.canonicalString()+n.op.toString()+Vo(n.value);if(hw(n))return n.filters.map(t=>pm(t)).join(",");{const t=n.filters.map(e=>pm(e)).join(",");return`${n.op}(${t})`}}function fw(n,t){return n instanceof Ye?function(i,a){return a instanceof Ye&&i.op===a.op&&i.field.isEqual(a.field)&&ti(i.value,a.value)}(n,t):n instanceof ei?function(i,a){return a instanceof ei&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&fw(c,a.filters[f]),!0):!1}(n,t):void Pt()}function dw(n){return n instanceof Ye?function(e){return`${e.field.canonicalString()} ${e.op} ${Vo(e.value)}`}(n):n instanceof ei?function(e){return e.op.toString()+" {"+e.getFilters().map(dw).join(" ,")+"}"}(n):"Filter"}class Xx extends Ye{constructor(t,e,i){super(t,e,i),this.key=Dt.fromName(i.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Wx extends Ye{constructor(t,e){super(t,"in",e),this.keys=pw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Zx extends Ye{constructor(t,e){super(t,"not-in",e),this.keys=pw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function pw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Dt.fromName(i.referenceValue))}class Jx extends Ye{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Qm(e)&&Eu(e.arrayValue,this.value)}}class tI extends Ye{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Eu(this.value.arrayValue,e)}}class eI extends Ye{constructor(t,e){super(t,"not-in",e)}matches(t){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Eu(this.value.arrayValue,e)}}class nI extends Ye{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Qm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Eu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,e=null,i=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function K0(n,t=null,e=[],i=[],a=null,l=null,c=null){return new rI(n,t,e,i,a,l,c)}function Ym(n){const t=qt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>pm(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),ef(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Vo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Vo(i)).join(",")),t.le=e}return t.le}function $m(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Yx(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!fw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!G0(n.startAt,t.startAt)&&G0(n.endAt,t.endAt)}function mm(n){return Dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,e=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iI(n,t,e,i,a,l,c,f){return new rf(n,t,e,i,a,l,c,f)}function sf(n){return new rf(n)}function Q0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sI(n){return n.collectionGroup!==null}function lu(n){const t=qt(n);if(t.he===null){t.he=[];const e=new Set;for(const l of t.explicitOrderBy)t.he.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xe(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.he.push(new Uh(l,i))}),e.has(hn.keyField().canonicalString())||t.he.push(new Uh(hn.keyField(),i))}return t.he}function Wr(n){const t=qt(n);return t.Pe||(t.Pe=aI(t,lu(n))),t.Pe}function aI(n,t){if(n.limitType==="F")return K0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Uh(a.field,l)});const e=n.endAt?new Mh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mh(n.startAt.position,n.startAt.inclusive):null;return K0(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function gm(n,t,e){return new rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function af(n,t){return $m(Wr(n),Wr(t))&&n.limitType===t.limitType}function mw(n){return`${Ym(Wr(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(a=>dw(a)).join(", ")}]`),ef(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Vo(a)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Vo(a)).join(",")),`Target(${i})`}(Wr(n))}; limitType=${n.limitType})`}function of(n,t){return t.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Dt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,t)&&function(i,a){for(const l of lu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(i,a){return!(i.startAt&&!function(c,f,p){const m=H0(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,lu(i),a)||i.endAt&&!function(c,f,p){const m=H0(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,lu(i),a))}(n,t)}function oI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gw(n){return(t,e)=>{let i=!1;for(const a of lu(n)){const l=lI(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function lI(n,t,e){const i=n.field.isKeyField()?Dt.comparator(t.key,e.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Lo(p,m):Pt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(e,i)=>{for(const[a,l]of i)t(a,l)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Re(Dt.comparator);function Pi(){return uI}const yw=new Re(Dt.comparator);function iu(...n){let t=yw;for(const e of n)t=t.insert(e.key,e);return t}function _w(n){let t=yw;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ya(){return uu()}function vw(){return uu()}function uu(){return new ka(n=>n.toString(),(n,t)=>n.isEqual(t))}const cI=new Re(Dt.comparator),hI=new Xe(Dt.comparator);function Zt(...n){let t=hI;for(const e of n)t=t.add(e);return t}const fI=new Xe(te);function dI(){return fI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(t)?"-0":t}}function Ew(n){return{integerValue:""+n}}function pI(n,t){return zx(t)?Ew(t):Xm(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function mI(n,t,e){return n instanceof Ph?function(a,l){const c={fields:{[rw]:{stringValue:nw},[sw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Km(l)&&(l=nf(l)),l&&(c.fields[iw]=l),{mapValue:c}}(e,t):n instanceof Tu?ww(n,t):n instanceof wu?bw(n,t):function(a,l){const c=Tw(a,l),f=Y0(c)+Y0(a.Ie);return dm(c)&&dm(a.Ie)?Ew(f):Xm(a.serializer,f)}(n,t)}function gI(n,t,e){return n instanceof Tu?ww(n,t):n instanceof wu?bw(n,t):e}function Tw(n,t){return n instanceof Lh?function(i){return dm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(t)?t:{integerValue:0}:null}class Ph extends lf{}class Tu extends lf{constructor(t){super(),this.elements=t}}function ww(n,t){const e=Sw(t);for(const i of n.elements)e.some(a=>ti(a,i))||e.push(i);return{arrayValue:{values:e}}}class wu extends lf{constructor(t){super(),this.elements=t}}function bw(n,t){let e=Sw(t);for(const i of n.elements)e=e.filter(a=>!ti(a,i));return{arrayValue:{values:e}}}class Lh extends lf{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function Y0(n){return Pe(n.integerValue||n.doubleValue)}function Sw(n){return Qm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function yI(n,t){return n.field.isEqual(t.field)&&function(i,a){return i instanceof Tu&&a instanceof Tu||i instanceof wu&&a instanceof wu?Po(i.elements,a.elements,ti):i instanceof Lh&&a instanceof Lh?ti(i.Ie,a.Ie):i instanceof Ph&&a instanceof Ph}(n.transform,t.transform)}class _I{constructor(t,e){this.version=t,this.transformResults=e}}class vr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vr}static exists(t){return new vr(void 0,t)}static updateTime(t){return new vr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Th(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class uf{}function Aw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Wm(n.key,vr.none()):new Cu(n.key,n.data,vr.none());{const e=n.data,i=Pn.empty();let a=new Xe(hn.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Vs(n.key,i,new Wn(a.toArray()),vr.none())}}function vI(n,t,e){n instanceof Cu?function(a,l,c){const f=a.value.clone(),p=X0(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):n instanceof Vs?function(a,l,c){if(!Th(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=X0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Rw(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function cu(n,t,e,i){return n instanceof Cu?function(l,c,f,p){if(!Th(l.precondition,c))return f;const m=l.value.clone(),_=W0(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Vs?function(l,c,f,p){if(!Th(l.precondition,c))return f;const m=W0(l.fieldTransforms,p,c),_=c.data;return _.setAll(Rw(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,t,e,i):function(l,c,f){return Th(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,t,e)}function EI(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=Tw(i.transform,a||null);l!=null&&(e===null&&(e=Pn.empty()),e.set(i.field,l))}return e||null}function $0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Po(i,a,(l,c)=>yI(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cu extends uf{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vs extends uf{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function X0(n,t,e){const i=new Map;fe(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,f=t.data.field(l.field);i.set(l.field,gI(c,f,e[a]))}return i}function W0(n,t,e){const i=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);i.set(a.field,mI(l,c,t))}return i}class Wm extends uf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TI extends uf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&vI(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=cu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=cu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=vw();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=e.has(a.key)?null:f;const p=Aw(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Zt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,(e,i)=>$0(e,i))&&Po(this.baseMutations,t.baseMutations,(e,i)=>$0(e,i))}}class Zm{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){fe(t.mutations.length===i.length);let a=function(){return cI}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Zm(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,se;function AI(n){switch(n){case dt.OK:return Pt();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Pt()}}function xw(n){if(n===void 0)return Ui("GRPC error has no .code"),dt.UNKNOWN;switch(n){case Fe.OK:return dt.OK;case Fe.CANCELLED:return dt.CANCELLED;case Fe.UNKNOWN:return dt.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return dt.INTERNAL;case Fe.UNAVAILABLE:return dt.UNAVAILABLE;case Fe.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Fe.NOT_FOUND:return dt.NOT_FOUND;case Fe.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Fe.ABORTED:return dt.ABORTED;case Fe.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Fe.DATA_LOSS:return dt.DATA_LOSS;default:return Pt()}}(se=Fe||(Fe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Is([4294967295,4294967295],0);function Z0(n){const t=RI().encode(n),e=new GT;return e.update(t),new Uint8Array(e.digest())}function J0(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Is([e,i],0),new Is([a,l],0)]}class Jm{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new su(`Invalid padding: ${e}`);if(i<0)throw new su(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new su(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Is.fromNumber(this.Ee)}Ae(t,e,i){let a=t.add(e.multiply(Is.fromNumber(i)));return a.compare(xI)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=Z0(t),[i,a]=J0(e);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Jm(l,a,e);return i.forEach(f=>c.insert(f)),c}insert(t){if(this.Ee===0)return;const e=Z0(t),[i,a]=J0(e);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,ku.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new cf(zt.min(),a,new Re(te),Pi(),Zt())}}class ku{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ku(i,e,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,e,i,a){this.me=t,this.removedTargetIds=e,this.key=i,this.fe=a}}class Iw{constructor(t,e){this.targetId=t,this.ge=e}}class Cw{constructor(t,e,i=fn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class tE{constructor(){this.pe=0,this.ye=eE(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Zt(),e=Zt(),i=Zt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Pt()}}),new ku(this.we,this.be,t,e,i)}Me(){this.Se=!1,this.ye=eE()}xe(t,e){this.Se=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class II{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Pi(),this.$e=ch(),this.Ke=ch(),this.Ue=new Re(te)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const i=this.He(e);switch(t.state){case 0:this.Je(e)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(e);break;case 3:this.Je(e)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),i.Ce(t.resumeToken));break;default:Pt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((i,a)=>{this.Je(a)&&e(a)})}Ze(t){const e=t.targetId,i=t.ge.count,a=this.Xe(e);if(a){const l=a.target;if(mm(l))if(i===0){const c=new Dt(l.path);this.ze(e,c,vn.newNoDocument(c,zt.min()))}else fe(i===1);else{const c=this.et(e);if(c!==i){const f=this.tt(t),p=f?this.nt(f,t,c):1;if(p!==0){this.Ye(e);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,m)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let c,f;try{c=Os(i).toUint8Array()}catch(p){if(p instanceof ew)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Jm(c,a,l)}catch(p){return Uo(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(t,e,i){return e.ge.count===i-this.st(t,e.targetId)?0:2}st(t,e){const i=this.ke.getRemoteKeysForTarget(e);let a=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.ze(e,l,null),a++)}),a}ot(t){const e=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&mm(f.target)){const p=new Dt(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,t))}l.ve&&(e.set(c,l.Fe()),l.Me())}});let i=Zt();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new cf(t,e,this.Ue,this.Qe,i);return this.Qe=Pi(),this.$e=ch(),this.Ke=ch(),this.Ue=new Re(te),a}Ge(t,e){if(!this.Je(t))return;const i=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,i),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,i){if(!this.Je(t))return;const a=this.He(t);this.ut(t,e)?a.xe(e,1):a.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),i&&(this.Qe=this.Qe.insert(e,i))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new tE,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new Xe(te),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Xe(te),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||bt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new tE),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function ch(){return new Re(Dt.comparator)}function eE(){return new Re(Dt.comparator)}const CI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class NI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ym(n,t){return n.useProto3Json||ef(t)?t:{value:t}}function Vh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function OI(n,t){return Vh(n,t.toTimestamp())}function Zr(n){return fe(!!n),zt.fromTimestamp(function(e){const i=Ns(e);return new $e(i.seconds,i.nanos)}(n))}function tg(n,t){return _m(n,t).canonicalString()}function _m(n,t){const e=function(a){return new we(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Dw(n){const t=we.fromString(n);return fe(Pw(t)),t}function vm(n,t){return tg(n.databaseId,t.path)}function Vp(n,t){const e=Dw(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Dt(Ow(e))}function Nw(n,t){return tg(n.databaseId,t)}function MI(n){const t=Dw(n);return t.length===4?we.emptyPath():Ow(t)}function Em(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ow(n){return fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function nE(n,t,e){return{name:vm(n,t),fields:e.value.mapValue.fields}}function UI(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(fe(_===void 0||typeof _=="string"),fn.fromBase64String(_||"")):(fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),fn.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(m){const _=m.code===void 0?dt.UNKNOWN:xw(m.code);return new Ct(_,m.message||"")}(c);e=new Cw(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Vp(n,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):zt.min(),f=new Pn({mapValue:{fields:i.document.fields}}),p=vn.newFoundDocument(a,l,c,f),m=i.targetIds||[],_=i.removedTargetIds||[];e=new wh(m,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Vp(n,i.document),l=i.readTime?Zr(i.readTime):zt.min(),c=vn.newNoDocument(a,l),f=i.removedTargetIds||[];e=new wh([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Vp(n,i.document),l=i.removedTargetIds||[];e=new wh([],l,a,null)}else{if(!("filter"in t))return Pt();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new SI(a,l),f=i.targetId;e=new Iw(f,c)}}return e}function PI(n,t){let e;if(t instanceof Cu)e={update:nE(n,t.key,t.value)};else if(t instanceof Wm)e={delete:vm(n,t.key)};else if(t instanceof Vs)e={update:nE(n,t.key,t.data),updateMask:GI(t.fieldMask)};else{if(!(t instanceof TI))return Pt();e={verify:vm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof Ph)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Pt()}(0,i))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:OI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pt()}(n,t.precondition)),e}function LI(n,t){return n&&n.length>0?(fe(t!==void 0),n.map(e=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(zt.min())&&(c=Zr(l)),new _I(c,a.transformResults||[])}(e,t))):[]}function VI(n,t){return{documents:[Nw(n,t.path)]}}function BI(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Nw(n,a);const l=function(m){if(m.length!==0)return Uw(ei.create(m,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(R){return{field:Ro(R.field),direction:jI(R.dir)}}(_))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=ym(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:e,parent:a}}function zI(n){let t=MI(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){fe(i===1);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=function(T){const R=Mw(T);return R instanceof ei&&hw(R)?R.getFilters():[R]}(e.where));let c=[];e.orderBy&&(c=function(T){return T.map(R=>function(U){return new Uh(xo(U.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(e.orderBy));let f=null;e.limit&&(f=function(T){let R;return R=typeof T=="object"?T.value:T,ef(R)?null:R}(e.limit));let p=null;e.startAt&&(p=function(T){const R=!!T.before,b=T.values||[];return new Mh(b,R)}(e.startAt));let m=null;return e.endAt&&(m=function(T){const R=!T.before,b=T.values||[];return new Mh(b,R)}(e.endAt)),iI(t,a,c,l,f,"F",p,m)}function FI(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Mw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=xo(e.unaryFilter.field);return Ye.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(e.unaryFilter.field);return Ye.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(e.unaryFilter.field);return Ye.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(e.unaryFilter.field);return Ye.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(n):n.fieldFilter!==void 0?function(e){return Ye.create(xo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ei.create(e.compositeFilter.filters.map(i=>Mw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pt()}}(e.compositeFilter.op))}(n):Pt()}function jI(n){return CI[n]}function qI(n){return kI[n]}function HI(n){return DI[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function xo(n){return hn.fromServerFormat(n.fieldPath)}function Uw(n){return n instanceof Ye?function(e){if(e.op==="=="){if(q0(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NAN"}};if(j0(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(q0(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NAN"}};if(j0(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(e.field),op:qI(e.op),value:e.value}}}(n):n instanceof ei?function(e){const i=e.getFilters().map(a=>Uw(a));return i.length===1?i[0]:{compositeFilter:{op:HI(e.op),filters:i}}}(n):Pt()}function GI(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Pw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,e,i,a,l=zt.min(),c=zt.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new As(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.Tt=t}}function QI(n){const t=zI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.Tn=new $I}addToCollectionParentIndex(t,e){return this.Tn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(Ds.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(Ds.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class $I{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Xe(we.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Xe(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lw=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Lw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Bo(0)}static Un(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",XI=1048576;function sE([n,t],[e,i]){const a=te(n,e);return a===0?te(t,i):a}class WI{constructor(t){this.Hn=t,this.buffer=new Xe(sE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();sE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class ZI{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){bt(iE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Go(e)?bt(iE,"Ignoring IndexedDB error during garbage collection: ",e):await Ho(e)}await this.er(3e5)})}}class JI{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ut.resolve(tf.ae);const i=new WI(e);return this.tr.forEachTarget(t,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.tr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(rE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let i,a,l,c,f,p,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(i=T,f=Date.now(),this.removeTargets(t,i,e))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(m=Date.now(),So()<=Wt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function tC(n,t){return new JI(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new ka(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(i!==null&&cu(i.mutation,a,Wn.empty(),$e.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Zt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Zt()){const a=ya();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,i).next(l=>{let c=iu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=ya();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Zt()))}populateOverlays(t,e,i){const a=[];return i.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{e.set(c,f)})})}computeViews(t,e,i,a){let l=Pi();const c=uu(),f=function(){return uu()}();return e.forEach((p,m)=>{const _=i.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof Vs)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),cu(_.mutation,m,_.mutation.getFieldMask(),$e.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),e.forEach((m,_)=>{var T;return f.set(m,new nC(_,(T=c.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(t,e){const i=uu();let a=new Re((c,f)=>c-f),l=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=e.get(p);if(m===null)return;let _=i.get(p)||Wn.empty();_=f.applyToLocalView(m,_),i.set(p,_);const T=(a.get(f.batchId)||Zt()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,_=p.value,T=vw();_.forEach(R=>{if(!l.has(R)){const b=Aw(e.get(R),i.get(R));b!==null&&T.set(R,b),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,T))}return ut.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,a){return function(c){return Dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):sI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):ut.resolve(ya());let f=yu,p=l;return c.next(m=>ut.forEach(m,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?ut.resolve():this.remoteDocumentCache.getEntry(t,_).next(R=>{p=p.insert(_,R)}))).next(()=>this.populateOverlays(t,m,l)).next(()=>this.computeViews(t,p,m,Zt())).next(_=>({batchId:f,changes:_w(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(i=>{let a=iu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(t,l).next(f=>ut.forEach(f,p=>{const m=function(T,R){return new rf(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next(_=>{_.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,vn.newInvalidDocument(_)))});let f=iu();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&cu(_.mutation,m,Wn.empty(),$e.now()),of(e,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return ut.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(e)),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(a){return{name:a.name,query:QI(a.bundledQuery),readTime:Zr(a.readTime)}}(e)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.overlays=new Re(Dt.comparator),this.Rr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ya();return ut.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((a,l)=>{this.Et(t,e,l)}),ut.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const a=ya(),l=e.length+1,c=new Dt(e.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new Re((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let _=l.get(m.largestBatchId);_===null&&(_=ya(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=ya(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=a)););return ut.resolve(f)}Et(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new bI(e,i));let l=this.Rr.get(e);l===void 0&&(l=Zt(),this.Rr.set(e,l)),this.Rr.set(e,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Vr=new Xe(sn.mr),this.gr=new Xe(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const i=new sn(t,e);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.wr(new sn(t,e))}br(t,e){t.forEach(i=>this.removeReference(i,e))}Sr(t){const e=new Dt(new we([])),i=new sn(e,t),a=new sn(e,t+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new Dt(new we([])),i=new sn(e,t),a=new sn(e,t+1);let l=Zt();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new sn(t,0),i=this.Vr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class sn{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return Dt.comparator(t.key,e.key)||te(t.Cr,e.Cr)}static pr(t,e){return te(t.Cr,e.Cr)||Dt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Xe(sn.mr)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wI(l,e,i,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ut.resolve(c)}lookupMutationBatch(t,e){return ut.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Nr(i),l=a<0?0:a;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?Gm:this.Fr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new sn(e,0),a=new sn(e,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const f=this.Or(c.Cr);l.push(f)}),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Xe(te);return e.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),ut.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;Dt.isDocumentKey(l)||(l=l.child(""));const c=new sn(new Dt(l),0);let f=new Xe(te);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),ut.resolve(this.Br(f))}Br(t){const e=[];return t.forEach(i=>{const a=this.Or(i);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){fe(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ut.forEach(e.mutations,a=>{const l=new sn(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,e){const i=new sn(e,0),a=this.Mr.firstAfterOrEqual(i);return ut.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.kr=t,this.docs=function(){return new Re(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(e))}getEntries(t,e){let i=Pi();return e.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Pi();const c=e.path,f=new Dt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Px(Ux(_),i)<=0||(a.has(_.key)||of(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ut.resolve(l)}getAllFromCollectionGroup(t,e,i,a){Pt()}qr(t,e){return ut.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new uC(this)}getSize(t){return ut.resolve(this.size)}}class uC extends eC{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?e.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(i)}),ut.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.persistence=t,this.Qr=new ka(e=>Ym(e),$m),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new eg,this.targetCount=0,this.Ur=Bo.Kn()}forEachTarget(t,e){return this.Qr.forEach((i,a)=>e(a)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$r&&(this.$r=e),ut.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Bo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.zn(e),ut.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.Sr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),ut.waitFor(l).next(()=>a)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.Qr.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this.Kr.yr(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this.Kr.br(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),ut.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Kr.Sr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Kr.vr(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new tf(0),this.zr=!1,this.zr=!0,this.jr=new aC,this.referenceDelegate=t(this),this.Hr=new cC(this),this.indexManager=new YI,this.remoteDocumentCache=function(a){return new lC(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new KI(e),this.Yr=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sC,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Wr[t.toKey()];return i||(i=new oC(e,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,i){bt("MemoryPersistence","Starting transaction:",t);const a=new hC(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,e){return ut.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,e)))}}class hC extends Vx{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.ti=new eg,this.ni=null}static ri(t){return new ng(t)}get ii(){if(this.ni)return this.ni;throw Pt()}addReference(t,e,i){return this.ti.addReference(i,e),this.ii.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.ti.removeReference(i,e),this.ii.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),ut.resolve()}removeTarget(t,e){this.ti.Sr(e.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.ii,i=>{const a=Dt.fromPath(i);return this.si(t,a).next(l=>{l||e.removeEntry(a,zt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(i=>{i?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return ut.or([()=>ut.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Bh{constructor(t,e){this.persistence=t,this.oi=new ka(i=>Fx(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=tC(this,e)}static ri(t,e){return new Bh(t,e)}Zr(){}Xr(t){return ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}rr(t,e){return ut.forEach(this.oi,(i,a)=>this.ar(t,i,a).next(l=>l?ut.resolve():e(a)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,e).next(f=>{f||(i++,l.removeEntry(c,zt.min()))})).next(()=>l.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),ut.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),ut.resolve()}removeReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),ut.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=vh(t.data.value)),e}ar(t,e,i){return ut.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.oi.get(e);return ut.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Hi=i,this.Ji=a}static Yi(t,e){let i=Zt(),a=Zt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new rg(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lR()?8:Bx(En())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.rs(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,e,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new fC;return this._s(t,e,c).next(f=>{if(l.result=f,this.Xi)return this.us(t,e,c,f.size)})}).next(()=>l.result)}us(t,e,i,a){return i.documentReadCount<this.es?(So()<=Wt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Ao(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ut.resolve()):(So()<=Wt.DEBUG&&bt("QueryEngine","Query:",Ao(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(So()<=Wt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Ao(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wr(e))):ut.resolve())}rs(t,e){if(Q0(e))return ut.resolve(null);let i=Wr(e);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=gm(e,null,"F"),i=Wr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const c=Zt(...l);return this.ns.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,i).next(p=>{const m=this.cs(e,f);return this.ls(e,m,c,p.readTime)?this.rs(t,gm(e,null,"F")):this.hs(t,m,e,p)}))})))}ss(t,e,i,a){return Q0(e)||a.isEqual(zt.min())?ut.resolve(null):this.ns.getDocuments(t,i).next(l=>{const c=this.cs(e,l);return this.ls(e,c,i,a)?ut.resolve(null):(So()<=Wt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ao(e)),this.hs(t,c,e,Mx(a,yu)).next(f=>f))})}cs(t,e){let i=new Xe(gw(t));return e.forEach((a,l)=>{of(t,l)&&(i=i.add(l))}),i}ls(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,e,i){return So()<=Wt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Ao(e)),this.ns.getDocumentsMatchingQuery(t,e,Ds.min(),i)}hs(t,e,i,a){return this.ns.getDocumentsMatchingQuery(t,i,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",pC=3e8;class mC{constructor(t,e,i,a){this.persistence=t,this.Ps=e,this.serializer=a,this.Ts=new Re(te),this.Is=new ka(l=>Ym(l),$m),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function gC(n,t,e,i){return new mC(n,t,e,i)}async function Bw(n,t){const e=qt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,e.As(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Zt();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return e.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function yC(n,t){const e=qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),l=e.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,_){const T=m.batch,R=T.keys();let b=ut.resolve();return R.forEach(U=>{b=b.next(()=>_.getEntry(p,U)).next(B=>{const q=m.docVersions.get(U);fe(q!==null),B.version.compareTo(q)<0&&(T.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),_.addEntry(B)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Zt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,a))})}function zw(n){const t=qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function _C(n,t){const e=qt(n),i=t.snapshotVersion;let a=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.ds.newChangeBuffer({trackRemovals:!0});a=e.Ts;const f=[];t.targetChanges.forEach((_,T)=>{const R=a.get(T);if(!R)return;f.push(e.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>e.Hr.addMatchingKeys(l,_.addedDocuments,T)));let b=R.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken(fn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,i)),a=a.insert(T,b),function(B,q,K){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=pC?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,b,_)&&f.push(e.Hr.updateTargetData(l,b))});let p=Pi(),m=Zt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(vC(l,c,t.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!i.isEqual(zt.min())){const _=e.Hr.getLastRemoteSnapshotVersion(l).next(T=>e.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return ut.waitFor(f).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(e.Ts=a,l))}function vC(n,t,e){let i=Zt(),a=Zt();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let c=Pi();return e.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(zt.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):bt(ig,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function EC(n,t){const e=qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Gm),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function TC(n,t){const e=qt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.Hr.getTargetData(i,t).next(l=>l?(a=l,ut.resolve(a)):e.Hr.allocateTargetId(i).next(c=>(a=new As(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(i.targetId,i),e.Is.set(t,i.targetId)),i})}async function Tm(n,t,e){const i=qt(n),a=i.Ts.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Go(c))throw c;bt(ig,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ts=i.Ts.remove(t),i.Is.delete(a.target)}function aE(n,t,e){const i=qt(n);let a=zt.min(),l=Zt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const T=qt(p),R=T.Is.get(_);return R!==void 0?ut.resolve(T.Ts.get(R)):T.Hr.getTargetData(m,_)}(i,c,Wr(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,t,e?a:zt.min(),e?l:Zt())).next(f=>(wC(i,oI(t),f),{documents:f,gs:l})))}function wC(n,t,e){let i=n.Es.get(t)||zt.min();e.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(t,i)}class oE{constructor(){this.activeTargetIds=dI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.ho=new oE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,i){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new oE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class uE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bt(lE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){bt(lE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function wm(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Nh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(t,e,i,a,l){const c=wm(),f=this.So(t,e.toUriEncodedString());bt(Bp,`Sending RPC '${t}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(t,f,p,i).then(m=>(bt(Bp,`Received RPC '${t}' ${c}: `,m),m),m=>{throw Uo(Bp,`RPC '${t}' ${c} failed with error: `,m,"url: ",f,"request:",i),m})}Co(t,e,i,a,l,c){return this.bo(t,e,i,a,l)}Do(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}So(t,e){const i=AC[t];return`${this.po}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class IC extends RC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,i,a){const l=wm();return new Promise((c,f)=>{const p=new KT;p.setWithCredentials(!0),p.listenOnce(QT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const _=p.getResponseJson();bt(yn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),c(_);break;case _h.TIMEOUT:bt(yn,`RPC '${t}' ${l} timed out`),f(new Ct(dt.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const T=p.getStatus();if(bt(yn,`RPC '${t}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const b=R==null?void 0:R.error;if(b&&b.status&&b.message){const U=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(K)>=0?K:dt.UNKNOWN}(b.status);f(new Ct(U,b.message))}else f(new Ct(dt.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ct(dt.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{bt(yn,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(a);bt(yn,`RPC '${t}' ${l} sending request:`,a),p.send(e,"POST",m,i,15)})}Wo(t,e,i){const a=wm(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=XT(),f=$T(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const _=l.join("");bt(yn,`Creating RPC '${t}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);let R=!1,b=!1;const U=new xC({Fo:q=>{b?bt(yn,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(R||(bt(yn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),R=!0),bt(yn,`RPC '${t}' stream ${a} sending:`,q),T.send(q))},Mo:()=>T.close()}),B=(q,K,tt)=>{q.listen(K,J=>{try{tt(J)}catch(ht){setTimeout(()=>{throw ht},0)}})};return B(T,ru.EventType.OPEN,()=>{b||(bt(yn,`RPC '${t}' stream ${a} transport opened.`),U.Qo())}),B(T,ru.EventType.CLOSE,()=>{b||(b=!0,bt(yn,`RPC '${t}' stream ${a} transport closed`),U.Ko())}),B(T,ru.EventType.ERROR,q=>{b||(b=!0,Uo(yn,`RPC '${t}' stream ${a} transport errored:`,q),U.Ko(new Ct(dt.UNAVAILABLE,"The operation could not be completed")))}),B(T,ru.EventType.MESSAGE,q=>{var K;if(!b){const tt=q.data[0];fe(!!tt);const J=tt,ht=(J==null?void 0:J.error)||((K=J[0])===null||K===void 0?void 0:K.error);if(ht){bt(yn,`RPC '${t}' stream ${a} received error:`,ht);const ct=ht.status;let W=function(k){const P=Fe[k];if(P!==void 0)return xw(P)}(ct),z=ht.message;W===void 0&&(W=dt.INTERNAL,z="Unknown error status: "+ct+" with message "+ht.message),b=!0,U.Ko(new Ct(W,z)),T.close()}else bt(yn,`RPC '${t}' stream ${a} received:`,tt),U.Uo(tt)}}),B(f,YT.STAT_EVENT,q=>{q.stat===hm.PROXY?bt(yn,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===hm.NOPROXY&&bt(yn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return new NI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,e-i);a>0&&bt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class jw{constructor(t,e,i,a,l,c,f,p){this.Ti=t,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Fw(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===dt.RESOURCE_EXHAUSTED?(Ui(e.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===e&&this.V_(i,a)},i=>{t(()=>{const a=new Ct(dt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(t,e){const i=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return bt(cE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(bt(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends jw{constructor(t,e,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=UI(this.serializer,t),i=function(l){if(!("targetChange"in l))return zt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?zt.min():c.readTime?Zr(c.readTime):zt.min()}(t);return this.listener.p_(e,i)}y_(t){const e={};e.database=Em(this.serializer),e.addTarget=function(l,c){let f;const p=c.target;if(f=mm(p)?{documents:VI(l,p)}:{query:BI(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=kw(l,c.resumeToken);const m=ym(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(zt.min())>0){f.readTime=Vh(l,c.snapshotVersion.toTimestamp());const m=ym(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,t);const i=FI(this.serializer,t);i&&(e.labels=i),this.I_(e)}w_(t){const e={};e.database=Em(this.serializer),e.removeTarget=t,this.I_(e)}}class kC extends jw{constructor(t,e,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return fe(!!t.streamToken),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=LI(t.writeResults,t.commitTime),i=Zr(t.commitTime);return this.listener.v_(i,e)}C_(){const t={};t.database=Em(this.serializer),this.I_(t)}S_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>PI(this.serializer,i))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class NC extends DC{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ct(dt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,e,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(t,_m(e,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(dt.UNKNOWN,l.toString())})}Co(t,e,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(t,_m(e,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(dt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class OC{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(e),this.N_=!1):bt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class MC{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Da(this)&&(bt(Aa,"Restarting streams for network reachability change."),await async function(p){const m=qt(p);m.W_.add(4),await Du(m),m.j_.set("Unknown"),m.W_.delete(4),await ff(m)}(this))})}),this.j_=new OC(i,a)}}async function ff(n){if(Da(n))for(const t of n.G_)await t(!0)}async function Du(n){for(const t of n.G_)await t(!1)}function qw(n,t){const e=qt(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),lg(e)?og(e):Ko(e).c_()&&ag(e,t))}function sg(n,t){const e=qt(n),i=Ko(e);e.U_.delete(t),i.c_()&&Hw(e,t),e.U_.size===0&&(i.c_()?i.P_():Da(e)&&e.j_.set("Unknown"))}function ag(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ko(n).y_(t)}function Hw(n,t){n.H_.Ne(t),Ko(n).w_(t)}function og(n){n.H_=new II({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Ko(n).start(),n.j_.B_()}function lg(n){return Da(n)&&!Ko(n).u_()&&n.U_.size>0}function Da(n){return qt(n).W_.size===0}function Gw(n){n.H_=void 0}async function UC(n){n.j_.set("Online")}async function PC(n){n.U_.forEach((t,e)=>{ag(n,t)})}async function LC(n,t){Gw(n),lg(n)?(n.j_.q_(t),og(n)):n.j_.set("Unknown")}async function VC(n,t,e){if(n.j_.set("Online"),t instanceof Cw&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(n,t)}catch(i){bt(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zh(n,i)}else if(t instanceof wh?n.H_.We(t):t instanceof Iw?n.H_.Ze(t):n.H_.je(t),!e.isEqual(zt.min()))try{const i=await zw(n.localStore);e.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(fn.EMPTY_BYTE_STRING,_.snapshotVersion)),Hw(l,p);const T=new As(_.target,p,m,_.sequenceNumber);ag(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,e)}catch(i){bt(Aa,"Failed to raise snapshot:",i),await zh(n,i)}}async function zh(n,t,e){if(!Go(t))throw t;n.W_.add(1),await Du(n),n.j_.set("Offline"),e||(e=()=>zw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{bt(Aa,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await ff(n)})}function Kw(n,t){return t().catch(e=>zh(n,e,t))}async function df(n){const t=qt(n),e=Us(t);let i=t.K_.length>0?t.K_[t.K_.length-1].batchId:Gm;for(;BC(t);)try{const a=await EC(t.localStore,i);if(a===null){t.K_.length===0&&e.P_();break}i=a.batchId,zC(t,a)}catch(a){await zh(t,a)}Qw(t)&&Yw(t)}function BC(n){return Da(n)&&n.K_.length<10}function zC(n,t){n.K_.push(t);const e=Us(n);e.c_()&&e.b_&&e.S_(t.mutations)}function Qw(n){return Da(n)&&!Us(n).u_()&&n.K_.length>0}function Yw(n){Us(n).start()}async function FC(n){Us(n).C_()}async function jC(n){const t=Us(n);for(const e of n.K_)t.S_(e.mutations)}async function qC(n,t,e){const i=n.K_.shift(),a=Zm.from(i,t,e);await Kw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await df(n)}async function HC(n,t){t&&Us(n).b_&&await async function(i,a){if(function(c){return AI(c)&&c!==dt.ABORTED}(a.code)){const l=i.K_.shift();Us(i).h_(),await Kw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await df(i)}}(n,t),Qw(n)&&Yw(n)}async function hE(n,t){const e=qt(n);e.asyncQueue.verifyOperationInProgress(),bt(Aa,"RemoteStore received new credentials");const i=Da(e);e.W_.add(3),await Du(e),i&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await ff(e)}async function GC(n,t){const e=qt(n);t?(e.W_.delete(2),await ff(e)):t||(e.W_.add(2),await Du(e),e.j_.set("Unknown"))}function Ko(n){return n.J_||(n.J_=function(e,i,a){const l=qt(e);return l.M_(),new CC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:UC.bind(null,n),No:PC.bind(null,n),Lo:LC.bind(null,n),p_:VC.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),lg(n)?og(n):n.j_.set("Unknown")):(await n.J_.stop(),Gw(n))})),n.J_}function Us(n){return n.Y_||(n.Y_=function(e,i,a){const l=qt(e);return l.M_(),new kC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:FC.bind(null,n),Lo:HC.bind(null,n),D_:jC.bind(null,n),v_:qC.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await df(n)):(await n.Y_.stop(),n.K_.length>0&&(bt(Aa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const c=Date.now()+i,f=new ug(t,e,c,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(n,t){if(Ui("AsyncQueue",`${t}: ${n}`),Go(n))return new Ct(dt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Dt.comparator(e.key,i.key):(e,i)=>Dt.comparator(e.key,i.key),this.keyedMap=iu(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Co;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.Z_=new Re(Dt.comparator)}track(t){const e=t.doc.key,i=this.Z_.get(e);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(e):t.type===1&&i.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Pt():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class zo{constructor(t,e,i,a,l,c,f,p,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,a,l){const c=[];return e.forEach(f=>{c.push({type:0,doc:f})}),new zo(t,e,Co.emptySet(e),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&af(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class QC{constructor(){this.queries=dE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,i){const a=qt(e),l=a.queries;a.queries=dE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ct(dt.ABORTED,"Firestore shutting down"))}}function dE(){return new ka(n=>mw(n),af)}async function hg(n,t){const e=qt(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.na()&&t.ra()&&(i=2):(l=new KC,i=t.ra()?0:1);try{switch(i){case 0:l.ea=await e.onListen(a,!0);break;case 1:l.ea=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const f=cg(c,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.ta.push(t),t.sa(e.onlineState),l.ea&&t.oa(l.ea)&&dg(e)}async function fg(n,t){const e=qt(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function YC(n,t){const e=qt(n);let i=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(i=!0);c.ea=a}}i&&dg(e)}function $C(n,t,e){const i=qt(n),a=i.queries.get(t);if(a)for(const l of a.ta)l.onError(e);i.queries.delete(t)}function dg(n){n.ia.forEach(t=>{t.next()})}var bm,pE;(pE=bm||(bm={}))._a="default",pE.Cache="cache";class pg{constructor(t,e,i){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new zo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const i=e!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.key=t}}class Xw{constructor(t){this.key=t}}class XC{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Zt(),this.mutatedKeys=Zt(),this.ya=gw(t),this.wa=new Co(this.ya)}get ba(){return this.fa}Sa(t,e){const i=e?e.Da:new fE,a=e?e.wa:this.wa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((_,T)=>{const R=a.get(_),b=of(this.query,T)?T:null,U=!!R&&this.mutatedKeys.has(R.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let q=!1;R&&b?R.data.isEqual(b.data)?U!==B&&(i.track({type:3,doc:b}),q=!0):this.va(R,b)||(i.track({type:2,doc:b}),q=!0,(p&&this.ya(b,p)>0||m&&this.ya(b,m)<0)&&(f=!0)):!R&&b?(i.track({type:0,doc:b}),q=!0):R&&!b&&(i.track({type:1,doc:R}),q=!0,(p||m)&&(f=!0)),q&&(b?(c=c.add(b),l=B?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((_,T)=>function(b,U){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return B(b)-B(U)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),a=a!=null&&a;const f=e&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new zo(this.query,t.wa,l,c,t.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Zt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const e=[];return t.forEach(i=>{this.pa.has(i)||e.push(new Xw(i))}),this.pa.forEach(i=>{t.has(i)||e.push(new $w(i))}),e}Oa(t){this.fa=t.gs,this.pa=Zt();const e=this.Sa(t.documents);return this.applyChanges(e,!0)}Na(){return zo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const mg="SyncEngine";class WC{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class ZC{constructor(t){this.key=t,this.Ba=!1}}class JC{constructor(t,e,i,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ka(f=>mw(f),af),this.qa=new Map,this.Qa=new Set,this.$a=new Re(Dt.comparator),this.Ka=new Map,this.Ua=new eg,this.Wa={},this.Ga=new Map,this.za=Bo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tk(n,t,e=!0){const i=nb(n);let a;const l=i.ka.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Ww(i,t,e,!0),a}async function ek(n,t){const e=nb(n);await Ww(e,t,!0,!1)}async function Ww(n,t,e,i){const a=await TC(n.localStore,Wr(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let f;return i&&(f=await nk(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&qw(n.remoteStore,a),f}async function nk(n,t,e,i,a){n.Ha=(T,R,b)=>async function(B,q,K,tt){let J=q.view.Sa(K);J.ls&&(J=await aE(B.localStore,q.query,!1).then(({documents:z})=>q.view.Sa(z,J)));const ht=tt&&tt.targetChanges.get(q.targetId),ct=tt&&tt.targetMismatches.get(q.targetId)!=null,W=q.view.applyChanges(J,B.isPrimaryClient,ht,ct);return gE(B,q.targetId,W.Ma),W.snapshot}(n,T,R,b);const l=await aE(n.localStore,t,!0),c=new XC(t,l.gs),f=c.Sa(l.documents),p=ku.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,p);gE(n,e,m.Ma);const _=new WC(t,e,c);return n.ka.set(t,_),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),m.snapshot}async function rk(n,t,e){const i=qt(n),a=i.ka.get(t),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!af(c,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Tm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),e&&sg(i.remoteStore,a.targetId),Sm(i,a.targetId)}).catch(Ho)):(Sm(i,a.targetId),await Tm(i.localStore,a.targetId,!0))}async function ik(n,t){const e=qt(n),i=e.ka.get(t),a=e.qa.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),sg(e.remoteStore,i.targetId))}async function sk(n,t,e){const i=fk(n);try{const a=await function(c,f){const p=qt(c),m=$e.now(),_=f.reduce((b,U)=>b.add(U.key),Zt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let U=Pi(),B=Zt();return p.ds.getEntries(b,_).next(q=>{U=q,U.forEach((K,tt)=>{tt.isValidDocument()||(B=B.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,U)).next(q=>{T=q;const K=[];for(const tt of f){const J=EI(tt,T.get(tt.key).overlayedDocument);J!=null&&K.push(new Vs(tt.key,J,lw(J.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,K,f)}).next(q=>{R=q;const K=q.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(b,q.batchId,K)})}).then(()=>({batchId:R.batchId,changes:_w(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Re(te)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,e),await Nu(i,a.changes),await df(i.remoteStore)}catch(a){const l=cg(a,"Failed to persist write");e.reject(l)}}async function Zw(n,t){const e=qt(n);try{const i=await _C(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Ka.get(l);c&&(fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?fe(c.Ba):a.removedDocuments.size>0&&(fe(c.Ba),c.Ba=!1))}),await Nu(e,i,t)}catch(i){await Ho(i)}}function mE(n,t,e){const i=qt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.ka.forEach((l,c)=>{const f=c.view.sa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=qt(c);p.onlineState=f;let m=!1;p.queries.forEach((_,T)=>{for(const R of T.ta)R.sa(f)&&(m=!0)}),m&&dg(p)}(i.eventManager,t),a.length&&i.La.p_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ak(n,t,e){const i=qt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Ka.get(t),l=a&&a.key;if(l){let c=new Re(Dt.comparator);c=c.insert(l,vn.newNoDocument(l,zt.min()));const f=Zt().add(l),p=new cf(zt.min(),new Map,new Re(te),c,f);await Zw(i,p),i.$a=i.$a.remove(l),i.Ka.delete(t),gg(i)}else await Tm(i.localStore,t,!1).then(()=>Sm(i,t,e)).catch(Ho)}async function ok(n,t){const e=qt(n),i=t.batch.batchId;try{const a=await yC(e.localStore,t);tb(e,i,null),Jw(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Nu(e,a)}catch(a){await Ho(a)}}async function lk(n,t,e){const i=qt(n);try{const a=await function(c,f){const p=qt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,f).next(T=>(fe(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(i.localStore,t);tb(i,t,e),Jw(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Nu(i,a)}catch(a){await Ho(a)}}function Jw(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function tb(n,t,e){const i=qt(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Wa[i.currentUser.toKey()]=a}}function Sm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.qa.get(t))n.ka.delete(i),e&&n.La.Ja(i,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.Sr(t).forEach(i=>{n.Ua.containsKey(i)||eb(n,i)})}function eb(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(sg(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),gg(n))}function gE(n,t,e){for(const i of e)i instanceof $w?(n.Ua.addReference(i.key,t),uk(n,i)):i instanceof Xw?(bt(mg,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,t),n.Ua.containsKey(i.key)||eb(n,i.key)):Pt()}function uk(n,t){const e=t.key,i=e.path.canonicalString();n.$a.get(e)||n.Qa.has(i)||(bt(mg,"New document in limbo: "+e),n.Qa.add(i),gg(n))}function gg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new Dt(we.fromString(t)),i=n.za.next();n.Ka.set(i,new ZC(e)),n.$a=n.$a.insert(e,i),qw(n.remoteStore,new As(Wr(sf(e.path)),i,"TargetPurposeLimboResolution",tf.ae))}}async function Nu(n,t,e){const i=qt(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{c.push(i.Ha(p,t,e).then(m=>{var _;if((m||e)&&i.isPrimaryClient){const T=m?!m.fromCache:(_=e==null?void 0:e.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=rg.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const _=qt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ut.forEach(m,R=>ut.forEach(R.Hi,b=>_.persistence.referenceDelegate.addReference(T,R.targetId,b)).next(()=>ut.forEach(R.Ji,b=>_.persistence.referenceDelegate.removeReference(T,R.targetId,b)))))}catch(T){if(!Go(T))throw T;bt(ig,"Failed to update sequence numbers: "+T)}for(const T of m){const R=T.targetId;if(!T.fromCache){const b=_.Ts.get(R),U=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(U);_.Ts=_.Ts.insert(R,B)}}}(i.localStore,l))}async function ck(n,t){const e=qt(n);if(!e.currentUser.isEqual(t)){bt(mg,"User change. New user:",t.toKey());const i=await Bw(e.localStore,t);e.currentUser=t,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ct(dt.CANCELLED,c))})}),l.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Nu(e,i.Rs)}}function hk(n,t){const e=qt(n),i=e.Ka.get(t);if(i&&i.Ba)return Zt().add(i.key);{let a=Zt();const l=e.qa.get(t);if(!l)return a;for(const c of l){const f=e.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function nb(n){const t=qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ak.bind(null,t),t.La.p_=YC.bind(null,t.eventManager),t.La.Ja=$C.bind(null,t.eventManager),t}function fk(n){const t=qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ok.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lk.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return gC(this.persistence,new dC,t.initialUser,this.serializer)}Xa(t){return new Vw(ng.ri,this.serializer)}Za(t){return new bC}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class dk extends Fh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){fe(this.persistence.referenceDelegate instanceof Bh);const i=this.persistence.referenceDelegate.garbageCollector;return new ZI(i,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Vw(i=>Bh.ri(i,e),this.serializer)}}class Am{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ck.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new QC}()}createDatastore(t){const e=hf(t.databaseInfo.databaseId),i=function(l){return new IC(l)}(t.databaseInfo);return function(l,c,f,p){return new NC(l,c,f,p)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,a,l,c,f){return new MC(i,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,e=>mE(this.syncEngine,e,0),function(){return uE.D()?new uE:new SC}())}createSyncEngine(t,e){return function(a,l,c,f,p,m,_){const T=new JC(a,l,c,f,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=qt(a);bt(Aa,"RemoteStore shutting down."),l.W_.add(5),await Du(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Am.provider={build:()=>new Am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class pk{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=ZT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{bt(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(bt(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=cg(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Fp(n,t){n.asyncQueue.verifyOperationInProgress(),bt(Ps,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Bw(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function yE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await mk(n);bt(Ps,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>hE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>hE(t.remoteStore,a)),n._onlineComponents=t}async function mk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt(Ps,"Using user provided OfflineComponentProvider");try{await Fp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===dt.FAILED_PRECONDITION||a.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Uo("Error using user provided cache. Falling back to memory cache: "+e),await Fp(n,new Fh)}}else bt(Ps,"Using default OfflineComponentProvider"),await Fp(n,new dk(void 0));return n._offlineComponents}async function rb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt(Ps,"Using user provided OnlineComponentProvider"),await yE(n,n._uninitializedComponentsProvider._online)):(bt(Ps,"Using default OnlineComponentProvider"),await yE(n,new Am))),n._onlineComponents}function gk(n){return rb(n).then(t=>t.syncEngine)}async function jh(n){const t=await rb(n),e=t.eventManager;return e.onListen=tk.bind(null,t.syncEngine),e.onUnlisten=rk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ek.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ik.bind(null,t.syncEngine),e}function yk(n,t,e={}){const i=new Ni;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new yg({next:R=>{_.su(),c.enqueueAndForget(()=>fg(l,T));const b=R.docs.has(f);!b&&R.fromCache?m.reject(new Ct(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&R.fromCache&&p&&p.source==="server"?m.reject(new Ct(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new pg(sf(f.path),_,{includeMetadataChanges:!0,Ta:!0});return hg(l,T)}(await jh(n),n.asyncQueue,t,e,i)),i.promise}function _k(n,t,e={}){const i=new Ni;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new yg({next:R=>{_.su(),c.enqueueAndForget(()=>fg(l,T)),R.fromCache&&p.source==="server"?m.reject(new Ct(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new pg(f,_,{includeMetadataChanges:!0,Ta:!0});return hg(l,T)}(await jh(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n,t,e){if(!e)throw new Ct(dt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function vk(n,t,e,i){if(t===!0&&i===!0)throw new Ct(dt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function vE(n){if(!Dt.isDocumentKey(n))throw new Ct(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EE(n){if(Dt.isDocumentKey(n))throw new Ct(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _g(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Pt()}function Ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_g(n);throw new Ct(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="firestore.googleapis.com",TE=!0;class wE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ab,this.ssl=TE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:TE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XI)throw new Ct(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pf{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Rx;switch(i.type){case"firstParty":return new kx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ct(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=_E.get(e);i&&(bt("ComponentProvider","Removing Datastore"),_E.delete(e),i.terminate())}(this),Promise.resolve()}}function Ek(n,t,e,i={}){var a;const l=(n=Ln(n,pf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;l.host!==ab&&l.host!==f&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!wa(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=_n.MOCK_USER;else{m=BT(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ct(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(T)}n._authCredentials=new xx(new WT(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ou(this.firestore,t,this._query)}}class In{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}}class Cs extends Ou{constructor(t,e,i){super(t,e,sf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new Dt(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function mf(n,t,...e){if(n=Le(n),sb("collection","path",t),n instanceof pf){const i=we.fromString(t,...e);return EE(i),new Cs(n,null,i)}{if(!(n instanceof In||n instanceof Cs))throw new Ct(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(we.fromString(t,...e));return EE(i),new Cs(n.firestore,null,i)}}function bu(n,t,...e){if(n=Le(n),arguments.length===1&&(t=ZT.newId()),sb("doc","path",t),n instanceof pf){const i=we.fromString(t,...e);return vE(i),new In(n,null,new Dt(i))}{if(!(n instanceof In||n instanceof Cs))throw new Ct(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(we.fromString(t,...e));return vE(i),new In(n.firestore,n instanceof Cs?n.converter:null,new Dt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Fw(this,"async_queue_retry"),this.bu=()=>{const i=zp();i&&bt(bE,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=t;const e=zp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=zp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Go(t))throw t;bt(bE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.Su.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Ui("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const a=ug.createAndSchedule(this,t,e,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Pt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function AE(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Li extends pf{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new SE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function Tk(n,t){const e=typeof n=="object"?n:qm(),i=typeof n=="string"?n:Nh,a=Jh(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=PT("firestore");l&&Ek(a,...l)}return a}function gf(n){if(n._terminated)throw new Ct(dt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wk(n),n._firestoreClient}function wk(n){var t,e,i;const a=n._freezeSettings(),l=function(f,p,m,_){return new Hx(f,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,ib(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new pk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fo(fn.fromBase64String(t))}catch(e){throw new Ct(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Fo(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^__.*__$/;class Sk{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cu(t,this.data,e,this.fieldTransforms)}}class ob{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Vs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function lb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class wg{constructor(t,e,i,a,l,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new wg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:i,Qu:!1});return a.$u(t),a}Ku(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(lb(this.Lu)&&bk.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ak{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||hf(t)}ju(t,e,i,a=!1){return new wg({Lu:t,methodName:e,zu:i,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(n){const t=n._freezeSettings(),e=hf(n._databaseId);return new Ak(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ub(n,t,e,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,t,e,a);Sg("Data must be an object, but it was:",c,i);const f=cb(i,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const R=Rm(t,T,e);if(!c.contains(R))throw new Ct(dt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fb(_,R)||_.push(R)}p=new Wn(_),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new Sk(new Pn(f),p,m)}class _f extends vg{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _f}}function Rk(n,t,e,i){const a=n.ju(1,t,e);Sg("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();Ls(i,(p,m)=>{const _=Ag(t,p,e);m=Le(m);const T=a.Ku(_);if(m instanceof _f)l.push(_);else{const R=vf(m,T);R!=null&&(l.push(_),c.set(_,R))}});const f=new Wn(l);return new ob(c,f,a.fieldTransforms)}function xk(n,t,e,i,a,l){const c=n.ju(1,t,e),f=[Rm(t,i,e)],p=[a];if(l.length%2!=0)throw new Ct(dt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(Rm(t,l[R])),p.push(l[R+1]);const m=[],_=Pn.empty();for(let R=f.length-1;R>=0;--R)if(!fb(m,f[R])){const b=f[R];let U=p[R];U=Le(U);const B=c.Ku(b);if(U instanceof _f)m.push(b);else{const q=vf(U,B);q!=null&&(m.push(b),_.set(b,q))}}const T=new Wn(m);return new ob(_,T,c.fieldTransforms)}function vf(n,t){if(hb(n=Le(n)))return Sg("Unsupported field value:",t,n),cb(n,t);if(n instanceof vg)return function(i,a){if(!lb(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let p=vf(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,t)}return function(i,a){if((i=Le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=$e.fromDate(i);return{timestampValue:Vh(a.serializer,l)}}if(i instanceof $e){const l=new $e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vh(a.serializer,l)}}if(i instanceof Eg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fo)return{bytesValue:kw(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Tg)return function(c,f){return{mapValue:{fields:{[aw]:{stringValue:ow},[Oh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Xm(f.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${_g(i)}`)}(n,t)}function cb(n,t){const e={};return tw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(n,(i,a)=>{const l=vf(a,t.qu(i));l!=null&&(e[i]=l)}),{mapValue:{fields:e}}}function hb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof Eg||n instanceof Fo||n instanceof In||n instanceof vg||n instanceof Tg)}function Sg(n,t,e){if(!hb(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const i=_g(e);throw i==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+i)}}function Rm(n,t,e){if((t=Le(t))instanceof yf)return t._internalPath;if(typeof t=="string")return Ag(n,t);throw qh("Field path arguments must be of type string or ",n,!1,void 0,e)}const Ik=new RegExp("[~\\*/\\[\\]]");function Ag(n,t,e){if(t.search(Ik)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new yf(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qh(n,t,e,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ct(dt.INVALID_ARGUMENT,f+n+p)}function fb(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(pb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Ck extends db{data(){return super.data()}}function pb(n,t){return typeof t=="string"?Ag(n,t):t instanceof yf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kk{convertValue(t,e="none"){switch(Ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ls(t,(a,l)=>{i[a]=this.convertValue(l,e)}),i}convertVectorValue(t){var e,i,a;const l=(a=(i=(e=t.fields)===null||e===void 0?void 0:e[Oh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Pe(c.doubleValue));return new Tg(l)}convertGeoPoint(t){return new Eg(Pe(t.latitude),Pe(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=nf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(_u(t));default:return null}}convertTimestamp(t){const e=Ns(t);return new $e(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=we.fromString(t);fe(Pw(i));const a=new vu(i.get(1),i.get(3)),l=new Dt(i.popFirst(5));return a.isEqual(e)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yb extends db{constructor(t,e,i,a,l,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(pb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class bh extends yb{data(t={}){return super.data(t)}}class _b{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new au(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new bh(this._firestore,this._userDataWriter,i.key,i,new au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new bh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new bh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:Dk(f.type),doc:p,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Dk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){n=Ln(n,In);const t=Ln(n.firestore,Li);return yk(gf(t),n._key).then(e=>Eb(t,n,e))}class Rg extends kk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,e)}}function Ok(n){n=Ln(n,Ou);const t=Ln(n.firestore,Li),e=gf(t),i=new Rg(t);return mb(n._query),_k(e,n._query).then(a=>new _b(t,i,n,a))}function Mk(n,t,e){n=Ln(n,In);const i=Ln(n.firestore,Li),a=gb(n.converter,t,e);return Ef(i,[ub(bg(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,vr.none())])}function Uk(n,t,e,...i){n=Ln(n,In);const a=Ln(n.firestore,Li),l=bg(a);let c;return c=typeof(t=Le(t))=="string"||t instanceof yf?xk(l,"updateDoc",n._key,t,e,i):Rk(l,"updateDoc",n._key,t),Ef(a,[c.toMutation(n._key,vr.exists(!0))])}function Pk(n){return Ef(Ln(n.firestore,Li),[new Wm(n._key,vr.none())])}function Lk(n,t){const e=Ln(n.firestore,Li),i=bu(n),a=gb(n.converter,t);return Ef(e,[ub(bg(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function vb(n,...t){var e,i,a;n=Le(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||AE(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(AE(t[c])){const T=t[c];t[c]=(e=T.next)===null||e===void 0?void 0:e.bind(T),t[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),t[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let p,m,_;if(n instanceof In)m=Ln(n.firestore,Li),_=sf(n._key.path),p={next:T=>{t[c]&&t[c](Eb(m,n,T))},error:t[c+1],complete:t[c+2]};else{const T=Ln(n,Ou);m=Ln(T.firestore,Li),_=T._query;const R=new Rg(m);p={next:b=>{t[c]&&t[c](new _b(m,R,T,b))},error:t[c+1],complete:t[c+2]},mb(n._query)}return function(R,b,U,B){const q=new yg(B),K=new pg(b,q,U);return R.asyncQueue.enqueueAndForget(async()=>hg(await jh(R),K)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>fg(await jh(R),K))}}(gf(m),_,f,p)}function Ef(n,t){return function(i,a){const l=new Ni;return i.asyncQueue.enqueueAndForget(async()=>sk(await gk(i),a,l)),l.promise}(gf(n),t)}function Eb(n,t,e){const i=e.docs.get(t._key),a=new Rg(n);return new yb(n,a,t._key,i,new au(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){qo=a})(Ca),ba(new ks("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Li(new Ix(i.getProvider("auth-internal")),new Dx(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ct(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(m.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Xr(D0,N0,t),Xr(D0,N0,"esm2017")})();var Vk="firebase",Bk="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(Vk,Bk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebasestorage.googleapis.com",wb="storageBucket",zk=2*60*1e3,Fk=10*60*1e3,jk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends ii{constructor(t,e,i=0){super(jp(t),`Firebase Storage: ${e} (${jp(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function jp(n){return"storage/"+n}function xg(){const n="An unknown error occurred, please check the error payload for server response.";return new xe(Te.UNKNOWN,n)}function qk(n){return new xe(Te.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Hk(n){return new xe(Te.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gk(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Te.UNAUTHENTICATED,n)}function Kk(){return new xe(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qk(n){return new xe(Te.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function bb(){return new xe(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sb(){return new xe(Te.CANCELED,"User canceled the upload/download.")}function Yk(n){return new xe(Te.INVALID_URL,"Invalid URL '"+n+"'.")}function $k(n){return new xe(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Xk(){return new xe(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wb+"' property when initializing the app?")}function Ab(){return new xe(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wk(){return new xe(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Zk(){return new xe(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jk(n){return new xe(Te.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xm(n){return new xe(Te.INVALID_ARGUMENT,n)}function Rb(){return new xe(Te.APP_DELETED,"The Firebase app was deleted.")}function tD(n){return new xe(Te.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hu(n,t){return new xe(Te.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function tu(n){throw new xe(Te.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Zn.makeFromUrl(t,e)}catch{return new Zn(t,"")}if(i.path==="")return i;throw $k(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ht){ht.path.charAt(ht.path.length-1)==="/"&&(ht.path_=ht.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(ht){ht.path_=decodeURIComponent(ht.path)}const _="v[A-Za-z0-9_]+",T=e.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",b=new RegExp(`^https?://${T}/${_}/b/${a}/o${R}`,"i"),U={bucket:1,path:3},B=e===Tb?"(?:storage.googleapis.com|storage.cloud.google.com)":e,q="([^?#]*)",K=new RegExp(`^https?://${B}/${a}/${q}`,"i"),J=[{regex:f,indices:p,postModify:l},{regex:b,indices:U,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let ht=0;ht<J.length;ht++){const ct=J[ht],W=ct.regex.exec(t);if(W){const z=W[ct.indices.bucket];let O=W[ct.indices.path];O||(O=""),i=new Zn(z,O),ct.postModify(i);break}}if(i==null)throw Yk(t);return i}}class eD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n,t,e){let i=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function _(...q){m||(m=!0,t.apply(null,q))}function T(q){a=setTimeout(()=>{a=null,n(b,p())},q)}function R(){l&&clearTimeout(l)}function b(q,...K){if(m){R();return}if(q){R(),_.call(null,q,...K);return}if(p()||c){R(),_.call(null,q,...K);return}i<64&&(i*=2);let J;f===1?(f=2,J=0):J=(i+Math.random())*1e3,T(J)}let U=!1;function B(q){U||(U=!0,R(),!m&&(a!==null?(q||(f=2),clearTimeout(a),T(0)):q||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,B(!0)},e),B}function rD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){return n!==void 0}function sD(n){return typeof n=="function"}function aD(n){return typeof n=="object"&&!Array.isArray(n)}function Tf(n){return typeof n=="string"||n instanceof String}function RE(n){return Ig()&&n instanceof Blob}function Ig(){return typeof Blob<"u"}function xE(n,t,e,i){if(i<t)throw xm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw xm(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function xb(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const a=t(i)+"="+t(n[i]);e=e+a+"&"}return e=e.slice(0,-1),e}var va;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,e,i,a,l,c,f,p,m,_,T,R=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=T,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,U)=>{this.resolve_=b,this.reject_=U,this.start_()})}start_(){const t=(i,a)=>{if(a){i(!1,new fh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===va.NO_ERROR,p=l.getStatus();if(!f||Ib(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===va.ABORT;i(!1,new fh(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new fh(m,l))})},e=(i,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());iD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=xg();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Rb():Sb();c(p)}else{const p=bb();c(p)}};this.canceled_?e(!1,new fh(!1,null,!0)):this.backoffId_=nD(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function lD(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function uD(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cD(n,t){t&&(n["X-Firebase-GMPID"]=t)}function hD(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function fD(n,t,e,i,a,l,c=!0){const f=xb(n.urlParams),p=n.url+f,m=Object.assign({},n.headers);return cD(m,t),lD(m,e),uD(m,l),hD(m,i),new oD(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pD(...n){const t=dD();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(Ig())return new Blob(n);throw new xe(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mD(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){if(typeof atob>"u")throw Jk("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qp{constructor(t,e){this.data=t,this.contentType=e||null}}function yD(n,t){switch(n){case $r.RAW:return new qp(Cb(t));case $r.BASE64:case $r.BASE64URL:return new qp(kb(n,t));case $r.DATA_URL:return new qp(vD(t),ED(t))}throw xg()}function Cb(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const l=i,c=n.charCodeAt(++e);i=65536|(l&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function _D(n){let t;try{t=decodeURIComponent(n)}catch{throw hu($r.DATA_URL,"Malformed data URL.")}return Cb(t)}function kb(n,t){switch(n){case $r.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw hu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case $r.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw hu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=gD(t)}catch(a){throw a.message.includes("polyfill")?a:hu(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}class Db{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw hu($r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=TD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function vD(n){const t=new Db(n);return t.base64?kb($r.BASE64,t.rest):_D(t.rest)}function ED(n){return new Db(n).contentType}function TD(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,e){let i=0,a="";RE(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(RE(this.data_)){const i=this.data_,a=mD(i,t,e);return a===null?null:new Ts(a)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Ts(i,!0)}}static getBlob(...t){if(Ig()){const e=t.map(i=>i instanceof Ts?i.data_:i);return new Ts(pD.apply(null,e))}else{const e=t.map(c=>Tf(c)?yD($r.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return e.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ts(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n){let t;try{t=JSON.parse(n)}catch{return null}return aD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function bD(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function Ob(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,t){return t}class xn{constructor(t,e,i,a){this.server=t,this.local=e||t,this.writable=!!i,this.xform=a||SD}}let dh=null;function AD(n){return!Tf(n)||n.length<2?n:Ob(n)}function Mb(){if(dh)return dh;const n=[];n.push(new xn("bucket")),n.push(new xn("generation")),n.push(new xn("metageneration")),n.push(new xn("name","fullPath",!0));function t(l,c){return AD(c)}const e=new xn("name");e.xform=t,n.push(e);function i(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=i,n.push(a),n.push(new xn("timeCreated")),n.push(new xn("updated")),n.push(new xn("md5Hash",null,!0)),n.push(new xn("cacheControl",null,!0)),n.push(new xn("contentDisposition",null,!0)),n.push(new xn("contentEncoding",null,!0)),n.push(new xn("contentLanguage",null,!0)),n.push(new xn("contentType",null,!0)),n.push(new xn("metadata","customMetadata",!0)),dh=n,dh}function RD(n,t){function e(){const i=n.bucket,a=n.fullPath,l=new Zn(i,a);return t._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:e})}function xD(n,t,e){const i={};i.type="file";const a=e.length;for(let l=0;l<a;l++){const c=e[l];i[c.local]=c.xform(i,t[c.server])}return RD(i,n),i}function Ub(n,t,e){const i=Nb(t);return i===null?null:xD(n,i,e)}function ID(n,t,e,i){const a=Nb(t);if(a===null||!Tf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const _=n.bucket,T=n.fullPath,R="/b/"+c(_)+"/o/"+c(T),b=Mu(R,e,i),U=xb({alt:"media",token:m});return b+U})[0]}function Pb(n,t){const e={},i=t.length;for(let a=0;a<i;a++){const l=t[a];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}class Qo{constructor(t,e,i,a){this.url=t,this.method=e,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n){if(!n)throw xg()}function Cg(n,t){function e(i,a){const l=Ub(n,a,t);return Oi(l!==null),l}return e}function CD(n,t){function e(i,a){const l=Ub(n,a,t);return Oi(l!==null),ID(l,a,n.host,n._protocol)}return e}function Uu(n){function t(e,i){let a;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?a=Kk():a=Gk():e.getStatus()===402?a=Hk(n.bucket):e.getStatus()===403?a=Qk(n.path):a=i,a.status=e.getStatus(),a.serverResponse=i.serverResponse,a}return t}function Lb(n){const t=Uu(n);function e(i,a){let l=t(i,a);return i.getStatus()===404&&(l=qk(n.path)),l.serverResponse=a.serverResponse,l}return e}function kD(n,t,e){const i=t.fullServerUrl(),a=Mu(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new Qo(a,l,Cg(n,e),c);return f.errorHandler=Lb(t),f}function DD(n,t,e){const i=t.fullServerUrl(),a=Mu(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new Qo(a,l,CD(n,e),c);return f.errorHandler=Lb(t),f}function ND(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function Vb(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=ND(null,t)),i}function OD(n,t,e,i,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let J="";for(let ht=0;ht<2;ht++)J=J+Math.random().toString().slice(2);return J}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=Vb(t,i,a),_=Pb(m,e),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,R=`\r
--`+p+"--",b=Ts.getBlob(T,i,R);if(b===null)throw Ab();const U={name:m.fullPath},B=Mu(l,n.host,n._protocol),q="POST",K=n.maxUploadRetryTime,tt=new Qo(B,q,Cg(n,e),K);return tt.urlParams=U,tt.headers=c,tt.body=b.uploadData(),tt.errorHandler=Uu(t),tt}class Hh{constructor(t,e,i,a){this.current=t,this.total=e,this.finalized=!!i,this.metadata=a||null}}function kg(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!e&&(t||["active"]).indexOf(e)!==-1),e}function MD(n,t,e,i,a){const l=t.bucketOnlyServerUrl(),c=Vb(t,i,a),f={name:c.fullPath},p=Mu(l,n.host,n._protocol),m="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Pb(c,e),R=n.maxUploadRetryTime;function b(B){kg(B);let q;try{q=B.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(Tf(q)),q}const U=new Qo(p,m,b,R);return U.urlParams=f,U.headers=_,U.body=T,U.errorHandler=Uu(t),U}function UD(n,t,e,i){const a={"X-Goog-Upload-Command":"query"};function l(m){const _=kg(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}T||Oi(!1);const R=Number(T);return Oi(!isNaN(R)),new Hh(R,i.size(),_==="final")}const c="POST",f=n.maxUploadRetryTime,p=new Qo(e,c,l,f);return p.headers=a,p.errorHandler=Uu(t),p}const IE=256*1024;function PD(n,t,e,i,a,l,c,f){const p=new Hh(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw Wk();const m=p.total-p.current;let _=m;a>0&&(_=Math.min(_,a));const T=p.current,R=T+_;let b="";_===0?b="finalize":m===_?b="upload, finalize":b="upload";const U={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${p.current}`},B=i.slice(T,R);if(B===null)throw Ab();function q(ht,ct){const W=kg(ht,["active","final"]),z=p.current+_,O=i.size();let k;return W==="final"?k=Cg(t,l)(ht,ct):k=null,new Hh(z,O,W==="final",k)}const K="POST",tt=t.maxUploadRetryTime,J=new Qo(e,K,q,tt);return J.headers=U,J.body=B.uploadData(),J.progressCallback=f||null,J.errorHandler=Uu(n),J}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hp(n){switch(n){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e,i){if(sD(t)||e!=null||i!=null)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class VD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,a){if(this.sent_)throw tu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class BD extends VD{initXhr(){this.xhr_.responseType="text"}}function Io(){return new BD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Mb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Ib(a.status,[]))if(l)a=bb();else{this.sleepTime=Math.max(this.sleepTime*2,jk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,e)=>{const i=MD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Io,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const a=UD(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,Io,e,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=IE*this._chunkMultiplier,e=new Hh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=PD(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Io,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){IE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=kD(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Io,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=OD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Io,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e=this._state==="paused";this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Sb(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=Hp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,a){const l=new LD(e||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);e!==-1&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Hp(this._state)){case Un.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const e=this._reject;To(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Hp(this._state)){case Un.RUNNING:case Un.PAUSED:t.next&&To(t.next.bind(t,this.snapshot))();break;case Un.SUCCESS:t.complete&&To(t.complete.bind(t))();break;case Un.CANCELED:case Un.ERROR:t.error&&To(t.error.bind(t,this._error))();break;default:t.error&&To(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,e){this._service=t,e instanceof Zn?this._location=e:this._location=Zn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ra(t,e)}get root(){const t=new Zn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ob(this._location.path)}get storage(){return this._service}get parent(){const t=wD(this._location.path);if(t===null)return null;const e=new Zn(this._location.bucket,t);return new Ra(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw tD(t)}}function FD(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new zD(n,new Ts(t),e)}function jD(n){n._throwIfRoot("getDownloadURL");const t=DD(n.storage,n._location,Mb());return n.storage.makeRequestWithTokens(t,Io).then(e=>{if(e===null)throw Zk();return e})}function qD(n,t){const e=bD(n._location.path,t),i=new Zn(n._location.bucket,e);return new Ra(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n){return/^[A-Za-z]+:\/\//.test(n)}function GD(n,t){return new Ra(n,t)}function Bb(n,t){if(n instanceof Dg){const e=n;if(e._bucket==null)throw Xk();const i=new Ra(e,e._bucket);return t!=null?Bb(i,t):i}else return t!==void 0?qD(n,t):n}function KD(n,t){if(t&&HD(t)){if(n instanceof Dg)return GD(n,t);throw xm("To use ref(service, url), the first argument must be a Storage instance.")}else return Bb(n,t)}function CE(n,t){const e=t==null?void 0:t[wb];return e==null?null:Zn.makeFromBucketSpec(e,n)}function QD(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:BT(a,n.app.options.projectId))}class Dg{constructor(t,e,i,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zk,this._maxUploadRetryTime=Fk,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,t):this._bucket=CE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){xE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){xE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ra(this,t)}_makeRequest(t,e,i,a,l=!0){if(this._deleted)return new eD(Rb());{const c=fD(t,this._appId,i,a,e,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,a).getPromise()}}const kE="@firebase/storage",DE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="storage";function Fb(n,t,e){return n=Le(n),FD(n,t,e)}function jb(n){return n=Le(n),jD(n)}function qb(n,t){return n=Le(n),KD(n,t)}function YD(n=qm(),t){n=Le(n);const i=Jh(n,zb).getImmediate({identifier:t}),a=PT("storage");return a&&$D(i,...a),i}function $D(n,t,e,i={}){QD(n,t,e,i)}function XD(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Dg(e,i,a,t,Ca)}function WD(){ba(new ks(zb,XD,"PUBLIC").setMultipleInstances(!0)),Xr(kE,DE,""),Xr(kE,DE,"esm2017")}WD();function Ng(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(e[i[a]]=n[i[a]]);return e}function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZD=Hb,Gb=new xu("auth","Firebase",Hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Fm("@firebase/auth");function JD(n,...t){Gh.logLevel<=Wt.WARN&&Gh.warn(`Auth (${Ca}): ${n}`,...t)}function Sh(n,...t){Gh.logLevel<=Wt.ERROR&&Gh.error(`Auth (${Ca}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,...t){throw Mg(n,...t)}function Ir(n,...t){return Mg(n,...t)}function Og(n,t,e){const i=Object.assign(Object.assign({},ZD()),{[t]:e});return new xu("auth","Firebase",i).create(t,{appName:n.name})}function Ea(n){return Og(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tN(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ni(n,"argument-error"),Og(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Gb.create(n,...t)}function Vt(n,t,...e){if(!n)throw Mg(t,...e)}function Ci(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Sh(t),new Error(t)}function Vi(n,t){n||Ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eN(){return NE()==="http:"||NE()==="https:"}function NE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eN()||sR()||"connection"in navigator)?navigator.onLine:!0}function rN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Vi(e>t,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return nN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n,t){Vi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Pu(3e4,6e4);function Pg(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Yo(n,t,e,i,a={}){return Qb(n,a,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const f=Iu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:p},l);return iR()||(m.referrerPolicy="no-referrer"),Kb.fetch()(Yb(n,n.config.apiHost,e,f),m)})}async function Qb(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iN),t);try{const a=new oN(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ph(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ph(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ph(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Og(n,_,m);ni(n,_)}}catch(a){if(a instanceof ii)throw a;ni(n,"network-request-failed",{message:String(a)})}}async function aN(n,t,e,i,a={}){const l=await Yo(n,t,e,i,a);return"mfaPendingCredential"in l&&ni(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Yb(n,t,e,i){const a=`${t}${e}?${i}`;return n.config.emulator?Ug(n.config,a):`${n.config.apiScheme}://${a}`}class oN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),sN.get())})}}function ph(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Ir(n,t,i);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(n,t){return Yo(n,"POST","/v1/accounts:delete",t)}async function $b(n,t){return Yo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uN(n,t=!1){const e=Le(n),i=await e.getIdToken(t),a=Lg(i);Vt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:fu(Gp(a.auth_time)),issuedAtTime:fu(Gp(a.iat)),expirationTime:fu(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gp(n){return Number(n)*1e3}function Lg(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const a=MT(e);return a?JSON.parse(a):(Sh("Failed to decode base64 JWT payload"),null)}catch(a){return Sh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function OE(n){const t=Lg(n);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ii&&cN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n){var t;const e=n.auth,i=await n.getIdToken(),a=await Su(n,$b(e,{idToken:i}));Vt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Xb(l.providerUserInfo):[],f=dN(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function fN(n){const t=Le(n);await Kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dN(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function Xb(n){return n.map(t=>{var{providerId:e}=t,i=Ng(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,t){const e=await Qb(n,{},async()=>{const i=Iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Yb(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Kb.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function mN(n,t){return Yo(n,"POST","/v2/accounts:revokeToken",Pg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const e=OE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await pN(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,c=new ko;return i&&(Vt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(Vt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Vt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,t){Vt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ki{constructor(t){var{uid:e,auth:i,stsTokenManager:a}=t,l=Ng(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Su(this,this.stsTokenManager.getToken(this.auth,t));return Vt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return uN(this,t)}reload(){return fN(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ki(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Kh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await Su(this,lN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,a,l,c,f,p,m,_;const T=(i=e.displayName)!==null&&i!==void 0?i:void 0,R=(a=e.email)!==null&&a!==void 0?a:void 0,b=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,U=(c=e.photoURL)!==null&&c!==void 0?c:void 0,B=(f=e.tenantId)!==null&&f!==void 0?f:void 0,q=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,K=(m=e.createdAt)!==null&&m!==void 0?m:void 0,tt=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:ht,isAnonymous:ct,providerData:W,stsTokenManager:z}=e;Vt(J&&z,t,"internal-error");const O=ko.fromJSON(this.name,z);Vt(typeof J=="string",t,"internal-error"),vs(T,t.name),vs(R,t.name),Vt(typeof ht=="boolean",t,"internal-error"),Vt(typeof ct=="boolean",t,"internal-error"),vs(b,t.name),vs(U,t.name),vs(B,t.name),vs(q,t.name),vs(K,t.name),vs(tt,t.name);const k=new ki({uid:J,auth:t,email:R,emailVerified:ht,displayName:T,isAnonymous:ct,photoURL:U,phoneNumber:b,tenantId:B,stsTokenManager:O,createdAt:K,lastLoginAt:tt});return W&&Array.isArray(W)&&(k.providerData=W.map(P=>Object.assign({},P))),q&&(k._redirectEventId=q),k}static async _fromIdTokenResponse(t,e,i=!1){const a=new ko;a.updateFromServerResponse(e);const l=new ki({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Kh(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];Vt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Xb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new ko;f.updateFromIdToken(i);const p=new ki({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function Di(n){Vi(n instanceof Function,"Expected a class definition");let t=ME.get(n);return t?(Vi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ME.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Wb.type="NONE";const UE=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n,t,e){return`firebase:${n}:${t}:${e}`}class Do{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ah(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ah("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ki._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Do(Di(UE),t,i);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(UE);const c=Ah(i,t.config.apiKey,t.name);let f=null;for(const m of e)try{const _=await m._get(c);if(_){const T=ki._fromJSON(t,_);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Do(l,t,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(e.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Do(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rS(t))return"Blackberry";if(iS(t))return"Webos";if(Jb(t))return"Safari";if((t.includes("chrome/")||tS(t))&&!t.includes("edge/"))return"Chrome";if(nS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Zb(n=En()){return/firefox\//i.test(n)}function Jb(n=En()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tS(n=En()){return/crios\//i.test(n)}function eS(n=En()){return/iemobile/i.test(n)}function nS(n=En()){return/android/i.test(n)}function rS(n=En()){return/blackberry/i.test(n)}function iS(n=En()){return/webos/i.test(n)}function Vg(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gN(n=En()){var t;return Vg(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yN(){return oR()&&document.documentMode===10}function sS(n=En()){return Vg(n)||nS(n)||iS(n)||rS(n)||/windows phone/i.test(n)||eS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,t=[]){let e;switch(n){case"Browser":e=PE(En());break;case"Worker":e=`${PE(En())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((c,f)=>{try{const p=t(l);c(p)}catch(p){f(p)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,t={}){return Yo(n,"GET","/v2/passwordPolicy",Pg(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=6;class TN{constructor(t){var e,i,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:EN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new _N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Di(e)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Do.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await $b(this,{idToken:t}),i=await ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Kh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_r(this.app))return Promise.reject(Ea(this));const e=t?Le(t):null;return e&&Vt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _r(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vN(this),e=new TN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new xu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await mN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Di(t)||this._popupRedirectResolver;Vt(e,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Di(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,i,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&JD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wf(n){return Le(n)}class LE{constructor(t){this.auth=t,this.observer=null,this.addObserver=mR(e=>this.observer=e)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bN(n){Bg=n}function SN(n){return Bg.loadJS(n)}function AN(){return Bg.gapiScript}function RN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n,t){const e=Jh(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(wa(l,t??{}))return a;ni(a,"already-initialized")}return e.initialize({options:t})}function IN(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Di);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function CN(n,t,e){const i=wf(n);Vt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=oS(t),{host:c,port:f}=kN(t),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Vt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Vt(wa(m,i.config.emulator)&&wa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,DN()}function oS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function kN(n){const t=oS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:VE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:VE(c)}}}function VE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function DN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ci("not implemented")}_getIdTokenResponse(t){return Ci("not implemented")}_linkToIdToken(t,e){return Ci("not implemented")}_getReauthenticationResolver(t){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(n,t){return aN(n,"POST","/v1/accounts:signInWithIdp",Pg(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="http://localhost";class xa extends lS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ni("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a}=e,l=Ng(e,["providerId","signInMethod"]);if(!i||!a)return null;const c=new xa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return No(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,No(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,No(t,e)}buildRequest(){const t={requestUri:NN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Iu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends zg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Lu{constructor(){super("facebook.com")}static credential(t){return xa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return xa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Qr.credential(e,i)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Lu{constructor(){super("github.com")}static credential(t){return xa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Lu{constructor(){super("twitter.com")}static credential(t,e){return xa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ss.credential(e,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await ki._fromIdTokenResponse(t,i,a),c=BE(i);return new jo({user:l,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=BE(i);return new jo({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function BE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends ii{constructor(t,e,i,a){var l;super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Qh(t,e,i,a)}}function uS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(n,l,t,i):l})}async function ON(n,t,e=!1){const i=await Su(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return jo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(n,t,e=!1){const{auth:i}=n;if(_r(i.app))return Promise.reject(Ea(i));const a="reauthenticate";try{const l=await Su(n,uS(i,a,t,n),e);Vt(l.idToken,i,"internal-error");const c=Lg(l.idToken);Vt(c,i,"internal-error");const{sub:f}=c;return Vt(n.uid===f,i,"user-mismatch"),jo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,t,e=!1){if(_r(n.app))return Promise.reject(Ea(n));const i="signIn",a=await uS(n,i,t),l=await jo._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function PN(n,t,e,i){return Le(n).onIdTokenChanged(t,e,i)}function LN(n,t,e){return Le(n).beforeAuthStateChanged(t,e)}function bf(n,t,e,i){return Le(n).onAuthStateChanged(t,e,i)}function VN(n){return Le(n).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1e3,zN=10;class hS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);yN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,zN):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}hS.type="LOCAL";const FN=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}fS.type="SESSION";const dS=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Sf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(e.origin,l)),p=await jN(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Fg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const R=T;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function HN(n){Jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function GN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QN(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebaseLocalStorageDb",YN=1,$h="firebaseLocalStorage",gS="fbase_key";class Vu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Af(n,t){return n.transaction([$h],t?"readwrite":"readonly").objectStore($h)}function $N(){const n=indexedDB.deleteDatabase(mS);return new Vu(n).toPromise()}function km(){const n=indexedDB.open(mS,YN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($h,{keyPath:gS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($h)?t(i):(i.close(),await $N(),t(await km()))})})}async function zE(n,t,e){const i=Af(n,!0).put({[gS]:t,value:e});return new Vu(i).toPromise()}async function XN(n,t){const e=Af(n,!1).get(t),i=await new Vu(e).toPromise();return i===void 0?null:i.value}function FE(n,t){const e=Af(n,!0).delete(t);return new Vu(e).toPromise()}const WN=800,ZN=3;class yS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>ZN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(QN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await GN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await km();return await zE(t,Yh,"1"),await FE(t,Yh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>XN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>FE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Af(a,!1).getAll();return new Vu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yS.type="LOCAL";const JN=yS;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(n,t){return t?Di(t):(Vt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends lS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,e){return No(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function tO(n){return UN(n.auth,new jg(n),n.bypassAuthState)}function eO(n){const{auth:t,user:e}=n;return Vt(e,t,"internal-error"),MN(e,new jg(n),n.bypassAuthState)}async function nO(n){const{auth:t,user:e}=n;return Vt(e,t,"internal-error"),ON(e,new jg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return nO;case"reauthViaPopup":case"reauthViaRedirect":return eO;default:ni(this.auth,"internal-error")}}resolve(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Pu(2e3,1e4);async function iO(n,t,e){if(_r(n.app))return Promise.reject(Ir(n,"operation-not-supported-in-this-environment"));const i=wf(n);tN(n,t,zg);const a=_S(i,e);return new _a(i,"signInViaPopup",t,a).executeNotNull()}class _a extends vS{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const t=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rO.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="pendingRedirect",Rh=new Map;class aO extends vS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Rh.get(this.auth._key());if(!t){try{const i=await oO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Rh.set(this.auth._key(),t)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oO(n,t){const e=cO(t),i=uO(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function lO(n,t){Rh.set(n._key(),t)}function uO(n){return Di(n._redirectPersistence)}function cO(n){return Ah(sO,n.config.apiKey,n.name)}async function hO(n,t,e=!1){if(_r(n.app))return Promise.reject(Ea(n));const i=wf(n),a=_S(i,t),c=await new aO(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=10*60*1e3;class dO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!ES(t)){const a=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ir(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(t))}saveEventToCache(t){this.cachedEventUids.add(jE(t)),this.lastProcessedEventTime=Date.now()}}function jE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ES({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,t={}){return Yo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yO=/^https?/;async function _O(n){if(n.config.emulator)return;const{authorizedDomains:t}=await mO(n);for(const e of t)try{if(vO(e))return}catch{}ni(n,"unauthorized-domain")}function vO(n){const t=Im(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!yO.test(e))return!1;if(gO.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Pu(3e4,6e4);function qE(){const n=Jr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function TO(n){return new Promise((t,e)=>{var i,a,l;function c(){qE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qE(),e(Ir(n,"network-request-failed"))},timeout:EO.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)c();else{const f=RN("iframefcb");return Jr()[f]=()=>{gapi.load?c():e(Ir(n,"network-request-failed"))},SN(`${AN()}?onload=${f}`).catch(p=>e(p))}}).catch(t=>{throw xh=null,t})}let xh=null;function wO(n){return xh=xh||TO(n),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Pu(5e3,15e3),SO="__/auth/iframe",AO="emulator/auth/iframe",RO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IO(n){const t=n.config;Vt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Ug(t,AO):`https://${n.config.authDomain}/${SO}`,i={apiKey:t.apiKey,appName:n.name,v:Ca},a=xO.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${Iu(i).slice(1)}`}async function CO(n){const t=await wO(n),e=Jr().gapi;return Vt(e,n,"internal-error"),t.open({where:document.body,url:IO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ir(n,"network-request-failed"),f=Jr().setTimeout(()=>{l(c)},bO.get());function p(){Jr().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,NO=600,OO="_blank",MO="http://localhost";class HE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UO(n,t,e,i=DO,a=NO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},kO),{width:i.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();e&&(f=tS(m)?OO:e),Zb(m)&&(t=t||MO,p.scrollbars="yes");const _=Object.entries(p).reduce((R,[b,U])=>`${R}${b}=${U},`,"");if(gN(m)&&f!=="_self")return PO(t||"",f),new HE(null);const T=window.open(t||"",f,_);Vt(T,n,"popup-blocked");try{T.focus()}catch{}return new HE(T)}function PO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="__/auth/handler",VO="emulator/auth/handler",BO=encodeURIComponent("fac");async function GE(n,t,e,i,a,l){Vt(n.config.authDomain,n,"auth-domain-config-required"),Vt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ca,eventId:a};if(t instanceof zg){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",pR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof Lu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),m=p?`#${BO}=${encodeURIComponent(p)}`:"";return`${zO(n)}?${Iu(f).slice(1)}${m}`}function zO({config:n}){return n.emulator?Ug(n,VO):`https://${n.authDomain}/${LO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dS,this._completeRedirectFn=hO,this._overrideRedirectResult=lO}async _openPopup(t,e,i,a){var l;Vi((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await GE(t,e,i,Im(),a);return UO(t,c,Fg())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await GE(t,e,i,Im(),a);return HN(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Vi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await CO(t),i=new dO(t);return e.register("authEvent",a=>(Vt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Kp,{type:Kp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Kp];c!==void 0&&e(!!c),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=_O(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return sS()||Jb()||Vg()}}const jO=FO;var KE="@firebase/auth",QE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GO(n){ba(new ks("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Vt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(n)},m=new wN(i,a,l,p);return IN(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),ba(new ks("auth-internal",t=>{const e=wf(t.getProvider("auth").getImmediate());return(i=>new qO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(KE,QE,HO(n)),Xr(KE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=5*60,QO=VT("authIdTokenMaxAge")||KO;let YE=null;const YO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>QO)return;const a=e==null?void 0:e.token;YE!==a&&(YE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $O(n=qm()){const t=Jh(n,"auth");if(t.isInitialized())return t.getImmediate();const e=xN(n,{popupRedirectResolver:jO,persistence:[JN,FN,dS]}),i=VT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=YO(l.toString());LN(e,c,()=>c(e.currentUser)),PN(e,f=>c(f))}}const a=UT("auth");return a&&CN(e,`http://${a}`),e}function XO(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}bN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Ir("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",XO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GO("Browser");const WO={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},qg=jT(WO),Ia=Tk(qg),TS=YD(qg),Ta=$O(qg);new Qr;const Hg=mf(Ia,"eotv-enemies");mf(Ia,"eotv-enemy-tags");const ZO=mf(Ia,"eotv-enemy-tags");function JO({selectedTags:n,setSelectedTags:t,customTags:e,setCustomTags:i}){const[a,l]=Rt.useState([]);Rt.useEffect(()=>{(async()=>{const m=await Ok(ZO);l(m.docs.map(_=>({id:_.id,..._.data()})))})()},[]);const c=Rt.useCallback(p=>{const m=p.target.value;m&&!n.includes(m)&&t(_=>[..._,m])},[n,t]),f=Rt.useCallback(p=>{i(p.target.value.split(",").map(m=>m.trim()))},[i]);return ot.jsxs("div",{children:[ot.jsx("label",{children:"Выберите теги:"}),ot.jsxs("select",{onChange:c,children:[ot.jsx("option",{value:"",children:"-- Выбрать --"}),a.map(p=>ot.jsx("option",{value:p.slug,children:p.name},p.id))]}),ot.jsx("label",{children:"Пользовательские теги (через запятую):"}),ot.jsx("input",{type:"text",value:e.join(", "),onChange:f}),ot.jsxs("p",{children:["Выбранные теги: ",n.join(", ")]})]})}function tM(){const[n,t]=Rt.useState(!1),[e,i]=Rt.useState(""),[a,l]=Rt.useState(""),[c,f]=Rt.useState([]),[p,m]=Rt.useState([]),[_,T]=Rt.useState(null),[R,b]=Rt.useState(null),[U,B]=Rt.useState(""),[q,K]=Rt.useState(""),[tt,J]=Rt.useState(0),[ht,ct]=Rt.useState(0),[W,z]=Rt.useState(null),[O,k]=Rt.useState(!0),P=Rt.useRef(null);Rt.useEffect(()=>{const N=bf(Ta,gt=>{z(gt),k(!1)});return()=>N()},[]);const V=async(N,gt,Tt)=>{if(!N)return;const pt=qb(TS,`enemies/${W.uid}/${N.name}`),wt=Fb(pt,N);wt.on("state_changed",Et=>{const Ft=Et.bytesTransferred/Et.totalBytes*100;Tt(Ft)},Et=>{console.error("Ошибка загрузки:",Et)},async()=>{const Et=await jb(wt.snapshot.ref);gt(Et)})},F=async N=>{if(N.preventDefault(),!e||!W)return;const gt={name:e,customDescription:a,tags:c,customTags:p,imageURL:U,imageURL2:q,authorUid:W.uid};await Lk(Hg,gt),t(!1),i(""),l(""),f([]),m([]),T(null),b(null),B(""),K(""),J(0),ct(0)};return Rt.useEffect(()=>{const N=gt=>{P.current&&!P.current.contains(gt.target)&&t(!1)};return n?document.addEventListener("mousedown",N):document.removeEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[n]),ot.jsx("div",{className:`relative flex flex-col items-center justify-center bg-gray-800 text-white p-4 rounded-xl shadow-lg cursor-pointer transition-all duration-300 ease-in-out 
        ${n?"scale-105 w-full max-w-lg p-8":"w-40 h-56 aspect-[2/3] hover:scale-110"}
      `,onClick:()=>t(!0),children:n?ot.jsxs("div",{ref:P,className:"w-full",onClick:N=>N.stopPropagation(),children:[ot.jsx("h3",{className:"text-2xl font-bold text-center mb-4",children:"Добавить противника"}),ot.jsxs("form",{onSubmit:F,className:"flex flex-col gap-4",children:[ot.jsx("input",{type:"text",placeholder:"Имя противника",value:e,onChange:N=>i(N.target.value),required:!0,disabled:O,className:"w-full p-2 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue"}),ot.jsx("textarea",{placeholder:"Описание",value:a,onChange:N=>l(N.target.value),disabled:O,className:"w-full p-2 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue"}),ot.jsx(JO,{selectedTags:c,setSelectedTags:f,customTags:p,setCustomTags:m}),ot.jsx("input",{type:"file",onChange:N=>T(N.target.files[0]),disabled:O,className:"text-sm text-gray-400"}),ot.jsx("button",{type:"button",onClick:()=>V(_,B,J),disabled:!_||O,className:"w-full px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded",children:"Загрузить основное изображение"}),tt>0&&ot.jsxs("p",{className:"text-xs text-gray-300",children:["Прогресс: ",tt.toFixed(2),"%"]}),U&&ot.jsx("img",{src:U,alt:"Загруженное изображение 1",className:"w-full h-auto rounded-md"}),ot.jsx("input",{type:"file",onChange:N=>b(N.target.files[0]),disabled:O,className:"text-sm text-gray-400"}),ot.jsx("button",{type:"button",onClick:()=>V(R,K,ct),disabled:!R||O,className:"w-full px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded",children:"Загрузить дополнительное изображение"}),ht>0&&ot.jsxs("p",{className:"text-xs text-gray-300",children:["Прогресс: ",ht.toFixed(2),"%"]}),q&&ot.jsx("img",{src:q,alt:"Загруженное изображение 2",className:"w-full h-auto rounded-md"}),ot.jsxs("div",{className:"flex gap-4",children:[ot.jsx("button",{type:"submit",disabled:!W||O,className:"w-full px-4 py-2 bg-green-500 text-white rounded",children:"Добавить"}),ot.jsx("button",{type:"button",onClick:()=>t(!1),className:"w-full px-4 py-2 bg-red-500 text-white rounded",children:"Отмена"})]})]})]}):ot.jsxs(ot.Fragment,{children:[ot.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-neonBlue rounded-full transform transition-transform duration-300 hover:rotate-90",children:ot.jsx("span",{className:"text-3xl font-bold text-darkBg",children:"+"})}),ot.jsx("p",{className:"mt-2 text-lg",children:"Добавить"})]})})}function eM(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const nM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iM={};function $E(n,t){return(iM.jsx?rM:nM).test(n)}const sM=/[ \t\n\f\r]/g;function aM(n){return typeof n=="object"?n.type==="text"?XE(n.value):!1:XE(n)}function XE(n){return n.replace(sM,"")===""}class Bu{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}Bu.prototype.normal={};Bu.prototype.property={};Bu.prototype.space=void 0;function wS(n,t){const e={},i={};for(const a of n)Object.assign(e,a.property),Object.assign(i,a.normal);return new Bu(e,i,t)}function Dm(n){return n.toLowerCase()}class Bn{constructor(t,e){this.attribute=e,this.property=t}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let oM=0;const Gt=Na(),je=Na(),bS=Na(),mt=Na(),ve=Na(),Oo=Na(),Xn=Na();function Na(){return 2**++oM}const Nm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Gt,booleanish:je,commaOrSpaceSeparated:Xn,commaSeparated:Oo,number:mt,overloadedBoolean:bS,spaceSeparated:ve},Symbol.toStringTag,{value:"Module"})),Qp=Object.keys(Nm);class Gg extends Bn{constructor(t,e,i,a){let l=-1;if(super(t,e),WE(this,"space",a),typeof i=="number")for(;++l<Qp.length;){const c=Qp[l];WE(this,Qp[l],(i&Nm[c])===Nm[c])}}}Gg.prototype.defined=!0;function WE(n,t,e){e&&(n[t]=e)}function $o(n){const t={},e={};for(const[i,a]of Object.entries(n.properties)){const l=new Gg(i,n.transform(n.attributes||{},i),a,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,e[Dm(i)]=i,e[Dm(l.attribute)]=i}return new Bu(t,e,n.space)}const SS=$o({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:mt,ariaColIndex:mt,ariaColSpan:mt,ariaControls:ve,ariaCurrent:null,ariaDescribedBy:ve,ariaDetails:null,ariaDisabled:je,ariaDropEffect:ve,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:ve,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ve,ariaLevel:mt,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:ve,ariaPlaceholder:null,ariaPosInSet:mt,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:ve,ariaRowCount:mt,ariaRowIndex:mt,ariaRowSpan:mt,ariaSelected:je,ariaSetSize:mt,ariaSort:null,ariaValueMax:mt,ariaValueMin:mt,ariaValueNow:mt,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function AS(n,t){return t in n?n[t]:t}function RS(n,t){return AS(n,t.toLowerCase())}const lM=$o({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Oo,acceptCharset:ve,accessKey:ve,action:null,allow:null,allowFullScreen:Gt,allowPaymentRequest:Gt,allowUserMedia:Gt,alt:null,as:null,async:Gt,autoCapitalize:null,autoComplete:ve,autoFocus:Gt,autoPlay:Gt,blocking:ve,capture:null,charSet:null,checked:Gt,cite:null,className:ve,cols:mt,colSpan:null,content:null,contentEditable:je,controls:Gt,controlsList:ve,coords:mt|Oo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Gt,defer:Gt,dir:null,dirName:null,disabled:Gt,download:bS,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Gt,formTarget:null,headers:ve,height:mt,hidden:Gt,high:mt,href:null,hrefLang:null,htmlFor:ve,httpEquiv:ve,id:null,imageSizes:null,imageSrcSet:null,inert:Gt,inputMode:null,integrity:null,is:null,isMap:Gt,itemId:null,itemProp:ve,itemRef:ve,itemScope:Gt,itemType:ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Gt,low:mt,manifest:null,max:null,maxLength:mt,media:null,method:null,min:null,minLength:mt,multiple:Gt,muted:Gt,name:null,nonce:null,noModule:Gt,noValidate:Gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Gt,optimum:mt,pattern:null,ping:ve,placeholder:null,playsInline:Gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Gt,referrerPolicy:null,rel:ve,required:Gt,reversed:Gt,rows:mt,rowSpan:mt,sandbox:ve,scope:null,scoped:Gt,seamless:Gt,selected:Gt,shadowRootClonable:Gt,shadowRootDelegatesFocus:Gt,shadowRootMode:null,shape:null,size:mt,sizes:null,slot:null,span:mt,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:mt,step:null,style:null,tabIndex:mt,target:null,title:null,translate:null,type:null,typeMustMatch:Gt,useMap:null,value:je,width:mt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ve,axis:null,background:null,bgColor:null,border:mt,borderColor:null,bottomMargin:mt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Gt,declare:Gt,event:null,face:null,frame:null,frameBorder:null,hSpace:mt,leftMargin:mt,link:null,longDesc:null,lowSrc:null,marginHeight:mt,marginWidth:mt,noResize:Gt,noHref:Gt,noShade:Gt,noWrap:Gt,object:null,profile:null,prompt:null,rev:null,rightMargin:mt,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:mt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:mt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Gt,disableRemotePlayback:Gt,prefix:null,property:null,results:mt,security:null,unselectable:null},space:"html",transform:RS}),uM=$o({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xn,accentHeight:mt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:mt,amplitude:mt,arabicForm:null,ascent:mt,attributeName:null,attributeType:null,azimuth:mt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:mt,by:null,calcMode:null,capHeight:mt,className:ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:mt,diffuseConstant:mt,direction:null,display:null,dur:null,divisor:mt,dominantBaseline:null,download:Gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:mt,enableBackground:null,end:null,event:null,exponent:mt,externalResourcesRequired:null,fill:null,fillOpacity:mt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Oo,g2:Oo,glyphName:Oo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:mt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:mt,horizOriginX:mt,horizOriginY:mt,id:null,ideographic:mt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:mt,k:mt,k1:mt,k2:mt,k3:mt,k4:mt,kernelMatrix:Xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:mt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:mt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:mt,overlineThickness:mt,paintOrder:null,panose1:null,path:null,pathLength:mt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:mt,pointsAtY:mt,pointsAtZ:mt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xn,rev:Xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xn,requiredFeatures:Xn,requiredFonts:Xn,requiredFormats:Xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:mt,specularExponent:mt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:mt,strikethroughThickness:mt,string:null,stroke:null,strokeDashArray:Xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:mt,strokeOpacity:mt,strokeWidth:null,style:null,surfaceScale:mt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xn,tabIndex:mt,tableValues:null,target:null,targetX:mt,targetY:mt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:mt,underlineThickness:mt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:mt,values:null,vAlphabetic:mt,vMathematical:mt,vectorEffect:null,vHanging:mt,vIdeographic:mt,version:null,vertAdvY:mt,vertOriginX:mt,vertOriginY:mt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:mt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:AS}),xS=$o({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),IS=$o({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:RS}),CS=$o({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),cM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hM=/[A-Z]/g,ZE=/-[a-z]/g,fM=/^data[-\w.:]+$/i;function dM(n,t){const e=Dm(t);let i=t,a=Bn;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&fM.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(ZE,mM);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!ZE.test(l)){let c=l.replace(hM,pM);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}a=Gg}return new a(i,t)}function pM(n){return"-"+n.toLowerCase()}function mM(n){return n.charAt(1).toUpperCase()}const gM=wS([SS,lM,xS,IS,CS],"html"),Kg=wS([SS,uM,xS,IS,CS],"svg");function yM(n){return n.join(" ").trim()}var wo={},Yp,JE;function _M(){if(JE)return Yp;JE=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",_="*",T="",R="comment",b="declaration";Yp=function(B,q){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];q=q||{};var K=1,tt=1;function J(N){var gt=N.match(t);gt&&(K+=gt.length);var Tt=N.lastIndexOf(p);tt=~Tt?N.length-Tt:tt+N.length}function ht(){var N={line:K,column:tt};return function(gt){return gt.position=new ct(N),O(),gt}}function ct(N){this.start=N,this.end={line:K,column:tt},this.source=q.source}ct.prototype.content=B;function W(N){var gt=new Error(q.source+":"+K+":"+tt+": "+N);if(gt.reason=N,gt.filename=q.source,gt.line=K,gt.column=tt,gt.source=B,!q.silent)throw gt}function z(N){var gt=N.exec(B);if(gt){var Tt=gt[0];return J(Tt),B=B.slice(Tt.length),gt}}function O(){z(e)}function k(N){var gt;for(N=N||[];gt=P();)gt!==!1&&N.push(gt);return N}function P(){var N=ht();if(!(m!=B.charAt(0)||_!=B.charAt(1))){for(var gt=2;T!=B.charAt(gt)&&(_!=B.charAt(gt)||m!=B.charAt(gt+1));)++gt;if(gt+=2,T===B.charAt(gt-1))return W("End of comment missing");var Tt=B.slice(2,gt-2);return tt+=2,J(Tt),B=B.slice(gt),tt+=2,N({type:R,comment:Tt})}}function V(){var N=ht(),gt=z(i);if(gt){if(P(),!z(a))return W("property missing ':'");var Tt=z(l),pt=N({type:b,property:U(gt[0].replace(n,T)),value:Tt?U(Tt[0].replace(n,T)):T});return z(c),pt}}function F(){var N=[];k(N);for(var gt;gt=V();)gt!==!1&&(N.push(gt),k(N));return N}return O(),F()};function U(B){return B?B.replace(f,T):T}return Yp}var tT;function vM(){if(tT)return wo;tT=1;var n=wo&&wo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wo,"__esModule",{value:!0}),wo.default=e;var t=n(_M());function e(i,a){var l=null;if(!i||typeof i!="string")return l;var c=(0,t.default)(i),f=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,_=p.value;f?a(m,_,p):_&&(l=l||{},l[m]=_)}}),l}return wo}var EM=vM();const eT=Ru(EM),TM=eT.default||eT,kS=DS("end"),Qg=DS("start");function DS(n){return t;function t(e){const i=e&&e.position&&e.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function wM(n){const t=Qg(n),e=kS(n);if(t&&e)return{start:t,end:e}}function du(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?nT(n.position):"start"in n||"end"in n?nT(n):"line"in n||"column"in n?Om(n):""}function Om(n){return rT(n&&n.line)+":"+rT(n&&n.column)}function nT(n){return Om(n&&n.start)+"-"+Om(n&&n.end)}function rT(n){return n&&typeof n=="number"?n:1}class Tn extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let a="",l={},c=!1;if(e&&("line"in e&&"column"in e?l={place:e}:"start"in e&&"end"in e?l={place:e}:"type"in e?l={ancestors:[e],place:e.position}:l={...e}),typeof t=="string"?a=t:!l.cause&&t&&(c=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=du(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const Yg={}.hasOwnProperty,bM=new Map,SM=/[A-Z]/g,AM=/-([a-z])/g,RM=new Set(["table","tbody","thead","tfoot","tr"]),xM=new Set(["td","th"]),NS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function IM(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=PM(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=UM(e,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Kg:gM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=OS(a,n,void 0);return l&&typeof l!="string"?l:a.create(n,a.Fragment,{children:l||void 0},void 0)}function OS(n,t,e){if(t.type==="element")return CM(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return kM(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return NM(n,t,e);if(t.type==="mdxjsEsm")return DM(n,t);if(t.type==="root")return OM(n,t,e);if(t.type==="text")return MM(n,t)}function CM(n,t,e){const i=n.schema;let a=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=Kg,n.schema=a),n.ancestors.push(t);const l=US(n,t.tagName,!1),c=LM(n,t);let f=Xg(n,t);return RM.has(t.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!aM(p):!0})),MS(n,c,l,t),$g(c,f),n.ancestors.pop(),n.schema=i,n.create(t,l,c,e)}function kM(n,t){if(t.data&&t.data.estree&&n.evaluater){const i=t.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Au(n,t.position)}function DM(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);Au(n,t.position)}function NM(n,t,e){const i=n.schema;let a=i;t.name==="svg"&&i.space==="html"&&(a=Kg,n.schema=a),n.ancestors.push(t);const l=t.name===null?n.Fragment:US(n,t.name,!0),c=VM(n,t),f=Xg(n,t);return MS(n,c,l,t),$g(c,f),n.ancestors.pop(),n.schema=i,n.create(t,l,c,e)}function OM(n,t,e){const i={};return $g(i,Xg(n,t)),n.create(t,n.Fragment,i,e)}function MM(n,t){return t.value}function MS(n,t,e,i){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=i)}function $g(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function UM(n,t,e){return i;function i(a,l,c,f){const m=Array.isArray(c.children)?e:t;return f?m(l,c,f):m(l,c)}}function PM(n,t){return e;function e(i,a,l,c){const f=Array.isArray(l.children),p=Qg(i);return t(a,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:n,lineNumber:p?p.line:void 0},void 0)}}function LM(n,t){const e={};let i,a;for(a in t.properties)if(a!=="children"&&Yg.call(t.properties,a)){const l=BM(n,a,t.properties[a]);if(l){const[c,f]=l;n.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&xM.has(t.tagName)?i=f:e[c]=f}}if(i){const l=e.style||(e.style={});l[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function VM(n,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(e,n.evaluater.evaluateExpression(f.argument))}else Au(n,t.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const f=i.value.data.estree.body[0];f.type,l=n.evaluater.evaluateExpression(f.expression)}else Au(n,t.position);else l=i.value===null?!0:i.value;e[a]=l}return e}function Xg(n,t){const e=[];let i=-1;const a=n.passKeys?new Map:bM;for(;++i<t.children.length;){const l=t.children[i];let c;if(n.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const f=OS(n,l,c);f!==void 0&&e.push(f)}return e}function BM(n,t,e){const i=dM(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?eM(e):yM(e)),i.property==="style"){let a=typeof e=="object"?e:zM(n,String(e));return n.stylePropertyNameCase==="css"&&(a=FM(a)),["style",a]}return[n.elementAttributeNameCase==="react"&&i.space?cM[i.property]||i.property:i.attribute,e]}}function zM(n,t){const e={};try{TM(t,i)}catch(a){if(!n.ignoreInvalidStyle){const l=a,c=new Tn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=n.filePath||void 0,c.url=NS+"#cannot-parse-style-attribute",c}}return e;function i(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(AM,qM)),e[c]=l}}function US(n,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,c;for(;++l<a.length;){const f=$E(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=c}else i=$E(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const a=i.value;return Yg.call(n.components,a)?n.components[a]:a}if(n.evaluater)return n.evaluater.evaluateExpression(i);Au(n)}function Au(n,t){const e=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=NS+"#cannot-handle-mdx-estrees-without-createevaluater",e}function FM(n){const t={};let e;for(e in n)Yg.call(n,e)&&(t[jM(e)]=n[e]);return t}function jM(n){let t=n.replace(SM,HM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qM(n,t){return t.toUpperCase()}function HM(n){return"-"+n.toLowerCase()}const $p={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},GM={};function KM(n,t){const e=GM,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,a=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return PS(n,i,a)}function PS(n,t,e){if(QM(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return iT(n.children,t,e)}return Array.isArray(n)?iT(n,t,e):""}function iT(n,t,e){const i=[];let a=-1;for(;++a<n.length;)i[a]=PS(n[a],t,e);return i.join("")}function QM(n){return!!(n&&typeof n=="object")}const sT=document.createElement("i");function Wg(n){const t="&"+n+";";sT.innerHTML=t;const e=sT.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function ri(n,t,e,i){const a=n.length;let l=0,c;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,e=e>0?e:0,i.length<1e4)c=Array.from(i),c.unshift(t,e),n.splice(...c);else for(e&&n.splice(t,e);l<i.length;)c=i.slice(l,l+1e4),c.unshift(t,0),n.splice(...c),l+=1e4,t+=1e4}function yr(n,t){return n.length>0?(ri(n,n.length,0,t),n):t}const aT={}.hasOwnProperty;function YM(n){const t={};let e=-1;for(;++e<n.length;)$M(t,n[e]);return t}function $M(n,t){let e;for(e in t){const a=(aT.call(n,e)?n[e]:void 0)||(n[e]={}),l=t[e];let c;if(l)for(c in l){aT.call(a,c)||(a[c]=[]);const f=l[c];XM(a[c],Array.isArray(f)?f:f?[f]:[])}}}function XM(n,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?n:i).push(t[e]);ri(n,0,0,i)}function LS(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}function Mo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yr=Bs(/[A-Za-z]/),Jn=Bs(/[\dA-Za-z]/),WM=Bs(/[#-'*+\--9=?A-Z^-~]/);function Mm(n){return n!==null&&(n<32||n===127)}const Um=Bs(/\d/),ZM=Bs(/[\dA-Fa-f]/),JM=Bs(/[!-/:-@[-`{-~]/);function Lt(n){return n!==null&&n<-2}function Vn(n){return n!==null&&(n<0||n===32)}function ce(n){return n===-2||n===-1||n===32}const t4=Bs(new RegExp("\\p{P}|\\p{S}","u")),e4=Bs(/\s/);function Bs(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function Xo(n){const t=[];let e=-1,i=0,a=0;for(;++e<n.length;){const l=n.charCodeAt(e);let c="";if(l===37&&Jn(n.charCodeAt(e+1))&&Jn(n.charCodeAt(e+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=n.charCodeAt(e+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),a=1):c="�"}else c=String.fromCharCode(l);c&&(t.push(n.slice(i,e),encodeURIComponent(c)),i=e+a+1,c=""),a&&(e+=a,a=0)}return t.join("")+n.slice(i)}function Ee(n,t,e,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ce(p)?(n.enter(e),f(p)):t(p)}function f(p){return ce(p)&&l++<a?(n.consume(p),f):(n.exit(e),t(p))}}const n4={tokenize:r4};function r4(n){const t=n.attempt(this.parser.constructs.contentInitial,i,a);let e;return t;function i(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),Ee(n,t,"linePrefix")}function a(f){return n.enter("paragraph"),l(f)}function l(f){const p=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=p),e=p,c(f)}function c(f){if(f===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(f);return}return Lt(f)?(n.consume(f),n.exit("chunkText"),l):(n.consume(f),c)}}const i4={tokenize:s4},oT={tokenize:a4};function s4(n){const t=this,e=[];let i=0,a,l,c;return f;function f(J){if(i<e.length){const ht=e[i];return t.containerState=ht[1],n.attempt(ht[0].continuation,p,m)(J)}return m(J)}function p(J){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&tt();const ht=t.events.length;let ct=ht,W;for(;ct--;)if(t.events[ct][0]==="exit"&&t.events[ct][1].type==="chunkFlow"){W=t.events[ct][1].end;break}K(i);let z=ht;for(;z<t.events.length;)t.events[z][1].end={...W},z++;return ri(t.events,ct+1,0,t.events.slice(ht)),t.events.length=z,m(J)}return f(J)}function m(J){if(i===e.length){if(!a)return R(J);if(a.currentConstruct&&a.currentConstruct.concrete)return U(J);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(oT,_,T)(J)}function _(J){return a&&tt(),K(i),R(J)}function T(J){return t.parser.lazy[t.now().line]=i!==e.length,c=t.now().offset,U(J)}function R(J){return t.containerState={},n.attempt(oT,b,U)(J)}function b(J){return i++,e.push([t.currentConstruct,t.containerState]),R(J)}function U(J){if(J===null){a&&tt(),K(0),n.consume(J);return}return a=a||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),B(J)}function B(J){if(J===null){q(n.exit("chunkFlow"),!0),K(0),n.consume(J);return}return Lt(J)?(n.consume(J),q(n.exit("chunkFlow")),i=0,t.interrupt=void 0,f):(n.consume(J),B)}function q(J,ht){const ct=t.sliceStream(J);if(ht&&ct.push(null),J.previous=l,l&&(l.next=J),l=J,a.defineSkip(J.start),a.write(ct),t.parser.lazy[J.start.line]){let W=a.events.length;for(;W--;)if(a.events[W][1].start.offset<c&&(!a.events[W][1].end||a.events[W][1].end.offset>c))return;const z=t.events.length;let O=z,k,P;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(k){P=t.events[O][1].end;break}k=!0}for(K(i),W=z;W<t.events.length;)t.events[W][1].end={...P},W++;ri(t.events,O+1,0,t.events.slice(z)),t.events.length=W}}function K(J){let ht=e.length;for(;ht-- >J;){const ct=e[ht];t.containerState=ct[1],ct[0].exit.call(t,n)}e.length=J}function tt(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function a4(n,t,e){return Ee(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lT(n){if(n===null||Vn(n)||e4(n))return 1;if(t4(n))return 2}function Zg(n,t,e){const i=[];let a=-1;for(;++a<n.length;){const l=n[a].resolveAll;l&&!i.includes(l)&&(t=l(t,e),i.push(l))}return t}const Pm={name:"attention",resolveAll:o4,tokenize:l4};function o4(n,t){let e=-1,i,a,l,c,f,p,m,_;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(i=e;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&t.sliceSerialize(n[i][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[i][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;p=n[i][1].end.offset-n[i][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const T={...n[i][1].end},R={...n[e][1].start};uT(T,-p),uT(R,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...n[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:R},l={type:p>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[e][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},n[i][1].end={...c.start},n[e][1].start={...f.end},m=[],n[i][1].end.offset-n[i][1].start.offset&&(m=yr(m,[["enter",n[i][1],t],["exit",n[i][1],t]])),m=yr(m,[["enter",a,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=yr(m,Zg(t.parser.constructs.insideSpan.null,n.slice(i+1,e),t)),m=yr(m,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",a,t]]),n[e][1].end.offset-n[e][1].start.offset?(_=2,m=yr(m,[["enter",n[e][1],t],["exit",n[e][1],t]])):_=0,ri(n,i-1,e-i+3,m),e=i+m.length-_-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function l4(n,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,a=lT(i);let l;return c;function c(p){return l=p,n.enter("attentionSequence"),f(p)}function f(p){if(p===l)return n.consume(p),f;const m=n.exit("attentionSequence"),_=lT(p),T=!_||_===2&&a||e.includes(p),R=!a||a===2&&_||e.includes(i);return m._open=!!(l===42?T:T&&(a||!R)),m._close=!!(l===42?R:R&&(_||!T)),t(p)}}function uT(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const u4={name:"autolink",tokenize:c4};function c4(n,t,e){let i=0;return a;function a(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l}function l(b){return Yr(b)?(n.consume(b),c):b===64?e(b):m(b)}function c(b){return b===43||b===45||b===46||Jn(b)?(i=1,f(b)):m(b)}function f(b){return b===58?(n.consume(b),i=0,p):(b===43||b===45||b===46||Jn(b))&&i++<32?(n.consume(b),f):(i=0,m(b))}function p(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),t):b===null||b===32||b===60||Mm(b)?e(b):(n.consume(b),p)}function m(b){return b===64?(n.consume(b),_):WM(b)?(n.consume(b),m):e(b)}function _(b){return Jn(b)?T(b):e(b)}function T(b){return b===46?(n.consume(b),i=0,_):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),t):R(b)}function R(b){if((b===45||Jn(b))&&i++<63){const U=b===45?R:T;return n.consume(b),U}return e(b)}}const Rf={partial:!0,tokenize:h4};function h4(n,t,e){return i;function i(l){return ce(l)?Ee(n,a,"linePrefix")(l):a(l)}function a(l){return l===null||Lt(l)?t(l):e(l)}}const VS={continuation:{tokenize:d4},exit:p4,name:"blockQuote",tokenize:f4};function f4(n,t,e){const i=this;return a;function a(c){if(c===62){const f=i.containerState;return f.open||(n.enter("blockQuote",{_container:!0}),f.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),l}return e(c)}function l(c){return ce(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(c))}}function d4(n,t,e){const i=this;return a;function a(c){return ce(c)?Ee(n,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return n.attempt(VS,t,e)(c)}}function p4(n){n.exit("blockQuote")}const BS={name:"characterEscape",tokenize:m4};function m4(n,t,e){return i;function i(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),a}function a(l){return JM(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(l)}}const zS={name:"characterReference",tokenize:g4};function g4(n,t,e){const i=this;let a=0,l,c;return f;function f(T){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(T),n.exit("characterReferenceMarker"),p}function p(T){return T===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(T),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),l=31,c=Jn,_(T))}function m(T){return T===88||T===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(T),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),l=6,c=ZM,_):(n.enter("characterReferenceValue"),l=7,c=Um,_(T))}function _(T){if(T===59&&a){const R=n.exit("characterReferenceValue");return c===Jn&&!Wg(i.sliceSerialize(R))?e(T):(n.enter("characterReferenceMarker"),n.consume(T),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return c(T)&&a++<l?(n.consume(T),_):e(T)}}const cT={partial:!0,tokenize:_4},hT={concrete:!0,name:"codeFenced",tokenize:y4};function y4(n,t,e){const i=this,a={partial:!0,tokenize:ct};let l=0,c=0,f;return p;function p(W){return m(W)}function m(W){const z=i.events[i.events.length-1];return l=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,f=W,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),_(W)}function _(W){return W===f?(c++,n.consume(W),_):c<3?e(W):(n.exit("codeFencedFenceSequence"),ce(W)?Ee(n,T,"whitespace")(W):T(W))}function T(W){return W===null||Lt(W)?(n.exit("codeFencedFence"),i.interrupt?t(W):n.check(cT,B,ht)(W)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),R(W))}function R(W){return W===null||Lt(W)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),T(W)):ce(W)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ee(n,b,"whitespace")(W)):W===96&&W===f?e(W):(n.consume(W),R)}function b(W){return W===null||Lt(W)?T(W):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),U(W))}function U(W){return W===null||Lt(W)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),T(W)):W===96&&W===f?e(W):(n.consume(W),U)}function B(W){return n.attempt(a,ht,q)(W)}function q(W){return n.enter("lineEnding"),n.consume(W),n.exit("lineEnding"),K}function K(W){return l>0&&ce(W)?Ee(n,tt,"linePrefix",l+1)(W):tt(W)}function tt(W){return W===null||Lt(W)?n.check(cT,B,ht)(W):(n.enter("codeFlowValue"),J(W))}function J(W){return W===null||Lt(W)?(n.exit("codeFlowValue"),tt(W)):(n.consume(W),J)}function ht(W){return n.exit("codeFenced"),t(W)}function ct(W,z,O){let k=0;return P;function P(Tt){return W.enter("lineEnding"),W.consume(Tt),W.exit("lineEnding"),V}function V(Tt){return W.enter("codeFencedFence"),ce(Tt)?Ee(W,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Tt):F(Tt)}function F(Tt){return Tt===f?(W.enter("codeFencedFenceSequence"),N(Tt)):O(Tt)}function N(Tt){return Tt===f?(k++,W.consume(Tt),N):k>=c?(W.exit("codeFencedFenceSequence"),ce(Tt)?Ee(W,gt,"whitespace")(Tt):gt(Tt)):O(Tt)}function gt(Tt){return Tt===null||Lt(Tt)?(W.exit("codeFencedFence"),z(Tt)):O(Tt)}}}function _4(n,t,e){const i=this;return a;function a(c){return c===null?e(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?e(c):t(c)}}const Xp={name:"codeIndented",tokenize:E4},v4={partial:!0,tokenize:T4};function E4(n,t,e){const i=this;return a;function a(m){return n.enter("codeIndented"),Ee(n,l,"linePrefix",5)(m)}function l(m){const _=i.events[i.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?c(m):e(m)}function c(m){return m===null?p(m):Lt(m)?n.attempt(v4,c,p)(m):(n.enter("codeFlowValue"),f(m))}function f(m){return m===null||Lt(m)?(n.exit("codeFlowValue"),c(m)):(n.consume(m),f)}function p(m){return n.exit("codeIndented"),t(m)}}function T4(n,t,e){const i=this;return a;function a(c){return i.parser.lazy[i.now().line]?e(c):Lt(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),a):Ee(n,l,"linePrefix",5)(c)}function l(c){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):Lt(c)?a(c):e(c)}}const w4={name:"codeText",previous:S4,resolve:b4,tokenize:A4};function b4(n){let t=n.length-4,e=3,i,a;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(i=e;++i<t;)if(n[i][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)a===void 0?i!==t&&n[i][1].type!=="lineEnding"&&(a=i):(i===t||n[i][1].type==="lineEnding")&&(n[a][1].type="codeTextData",i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),t-=i-a-2,i=a+2),a=void 0);return n}function S4(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function A4(n,t,e){let i=0,a,l;return c;function c(T){return n.enter("codeText"),n.enter("codeTextSequence"),f(T)}function f(T){return T===96?(n.consume(T),i++,f):(n.exit("codeTextSequence"),p(T))}function p(T){return T===null?e(T):T===32?(n.enter("space"),n.consume(T),n.exit("space"),p):T===96?(l=n.enter("codeTextSequence"),a=0,_(T)):Lt(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),p):(n.enter("codeTextData"),m(T))}function m(T){return T===null||T===32||T===96||Lt(T)?(n.exit("codeTextData"),p(T)):(n.consume(T),m)}function _(T){return T===96?(n.consume(T),a++,_):a===i?(n.exit("codeTextSequence"),n.exit("codeText"),t(T)):(l.type="codeTextData",m(T))}}class R4{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const a=e||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&eu(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),eu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),eu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);eu(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);eu(this.left,e.reverse())}}}function eu(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function FS(n){const t={};let e=-1,i,a,l,c,f,p,m;const _=new R4(n);for(;++e<_.length;){for(;e in t;)e=t[e];if(i=_.get(e),e&&i[1].type==="chunkFlow"&&_.get(e-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,x4(_,e)),e=t[e],m=!0);else if(i[1]._container){for(l=e,a=void 0;l--;)if(c=_.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(_.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(i[1].end={..._.get(a)[1].start},f=_.slice(a,e),f.unshift(i),_.splice(a,e-a+1,f))}}return ri(n,0,Number.POSITIVE_INFINITY,_.slice(0)),!m}function x4(n,t){const e=n.get(t)[1],i=n.get(t)[2];let a=t-1;const l=[];let c=e._tokenizer;c||(c=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],m={};let _,T,R=-1,b=e,U=0,B=0;const q=[B];for(;b;){for(;n.get(++a)[1]!==b;);l.push(a),b._tokenizer||(_=i.sliceStream(b),b.next||_.push(null),T&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(_),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=b,b=b.next}for(b=e;++R<f.length;)f[R][0]==="exit"&&f[R-1][0]==="enter"&&f[R][1].type===f[R-1][1].type&&f[R][1].start.line!==f[R][1].end.line&&(B=R+1,q.push(B),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):q.pop(),R=q.length;R--;){const K=f.slice(q[R],q[R+1]),tt=l.pop();p.push([tt,tt+K.length-1]),n.splice(tt,2,K)}for(p.reverse(),R=-1;++R<p.length;)m[U+p[R][0]]=U+p[R][1],U+=p[R][1]-p[R][0]-1;return m}const I4={resolve:k4,tokenize:D4},C4={partial:!0,tokenize:N4};function k4(n){return FS(n),n}function D4(n,t){let e;return i;function i(f){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Lt(f)?n.check(C4,c,l)(f):(n.consume(f),a)}function l(f){return n.exit("chunkContent"),n.exit("content"),t(f)}function c(f){return n.consume(f),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,a}}function N4(n,t,e){const i=this;return a;function a(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),Ee(n,l,"linePrefix")}function l(c){if(c===null||Lt(c))return e(c);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):n.interrupt(i.parser.constructs.flow,e,t)(c)}}function jS(n,t,e,i,a,l,c,f,p){const m=p||Number.POSITIVE_INFINITY;let _=0;return T;function T(K){return K===60?(n.enter(i),n.enter(a),n.enter(l),n.consume(K),n.exit(l),R):K===null||K===32||K===41||Mm(K)?e(K):(n.enter(i),n.enter(c),n.enter(f),n.enter("chunkString",{contentType:"string"}),B(K))}function R(K){return K===62?(n.enter(l),n.consume(K),n.exit(l),n.exit(a),n.exit(i),t):(n.enter(f),n.enter("chunkString",{contentType:"string"}),b(K))}function b(K){return K===62?(n.exit("chunkString"),n.exit(f),R(K)):K===null||K===60||Lt(K)?e(K):(n.consume(K),K===92?U:b)}function U(K){return K===60||K===62||K===92?(n.consume(K),b):b(K)}function B(K){return!_&&(K===null||K===41||Vn(K))?(n.exit("chunkString"),n.exit(f),n.exit(c),n.exit(i),t(K)):_<m&&K===40?(n.consume(K),_++,B):K===41?(n.consume(K),_--,B):K===null||K===32||K===40||Mm(K)?e(K):(n.consume(K),K===92?q:B)}function q(K){return K===40||K===41||K===92?(n.consume(K),B):B(K)}}function qS(n,t,e,i,a,l){const c=this;let f=0,p;return m;function m(b){return n.enter(i),n.enter(a),n.consume(b),n.exit(a),n.enter(l),_}function _(b){return f>999||b===null||b===91||b===93&&!p||b===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?e(b):b===93?(n.exit(l),n.enter(a),n.consume(b),n.exit(a),n.exit(i),t):Lt(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),_):(n.enter("chunkString",{contentType:"string"}),T(b))}function T(b){return b===null||b===91||b===93||Lt(b)||f++>999?(n.exit("chunkString"),_(b)):(n.consume(b),p||(p=!ce(b)),b===92?R:T)}function R(b){return b===91||b===92||b===93?(n.consume(b),f++,T):T(b)}}function HS(n,t,e,i,a,l){let c;return f;function f(R){return R===34||R===39||R===40?(n.enter(i),n.enter(a),n.consume(R),n.exit(a),c=R===40?41:R,p):e(R)}function p(R){return R===c?(n.enter(a),n.consume(R),n.exit(a),n.exit(i),t):(n.enter(l),m(R))}function m(R){return R===c?(n.exit(l),p(c)):R===null?e(R):Lt(R)?(n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),Ee(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===c||R===null||Lt(R)?(n.exit("chunkString"),m(R)):(n.consume(R),R===92?T:_)}function T(R){return R===c||R===92?(n.consume(R),_):_(R)}}function pu(n,t){let e;return i;function i(a){return Lt(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),e=!0,i):ce(a)?Ee(n,i,e?"linePrefix":"lineSuffix")(a):t(a)}}const O4={name:"definition",tokenize:U4},M4={partial:!0,tokenize:P4};function U4(n,t,e){const i=this;let a;return l;function l(b){return n.enter("definition"),c(b)}function c(b){return qS.call(i,n,f,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function f(b){return a=Mo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),p):e(b)}function p(b){return Vn(b)?pu(n,m)(b):m(b)}function m(b){return jS(n,_,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function _(b){return n.attempt(M4,T,T)(b)}function T(b){return ce(b)?Ee(n,R,"whitespace")(b):R(b)}function R(b){return b===null||Lt(b)?(n.exit("definition"),i.parser.defined.push(a),t(b)):e(b)}}function P4(n,t,e){return i;function i(f){return Vn(f)?pu(n,a)(f):e(f)}function a(f){return HS(n,l,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ce(f)?Ee(n,c,"whitespace")(f):c(f)}function c(f){return f===null||Lt(f)?t(f):e(f)}}const L4={name:"hardBreakEscape",tokenize:V4};function V4(n,t,e){return i;function i(l){return n.enter("hardBreakEscape"),n.consume(l),a}function a(l){return Lt(l)?(n.exit("hardBreakEscape"),t(l)):e(l)}}const B4={name:"headingAtx",resolve:z4,tokenize:F4};function z4(n,t){let e=n.length-2,i=3,a,l;return n[i][1].type==="whitespace"&&(i+=2),e-2>i&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&n[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(a={type:"atxHeadingText",start:n[i][1].start,end:n[e][1].end},l={type:"chunkText",start:n[i][1].start,end:n[e][1].end,contentType:"text"},ri(n,i,e-i+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),n}function F4(n,t,e){let i=0;return a;function a(_){return n.enter("atxHeading"),l(_)}function l(_){return n.enter("atxHeadingSequence"),c(_)}function c(_){return _===35&&i++<6?(n.consume(_),c):_===null||Vn(_)?(n.exit("atxHeadingSequence"),f(_)):e(_)}function f(_){return _===35?(n.enter("atxHeadingSequence"),p(_)):_===null||Lt(_)?(n.exit("atxHeading"),t(_)):ce(_)?Ee(n,f,"whitespace")(_):(n.enter("atxHeadingText"),m(_))}function p(_){return _===35?(n.consume(_),p):(n.exit("atxHeadingSequence"),f(_))}function m(_){return _===null||_===35||Vn(_)?(n.exit("atxHeadingText"),f(_)):(n.consume(_),m)}}const j4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fT=["pre","script","style","textarea"],q4={concrete:!0,name:"htmlFlow",resolveTo:K4,tokenize:Q4},H4={partial:!0,tokenize:$4},G4={partial:!0,tokenize:Y4};function K4(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function Q4(n,t,e){const i=this;let a,l,c,f,p;return m;function m(M){return _(M)}function _(M){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(M),T}function T(M){return M===33?(n.consume(M),R):M===47?(n.consume(M),l=!0,B):M===63?(n.consume(M),a=3,i.interrupt?t:x):Yr(M)?(n.consume(M),c=String.fromCharCode(M),q):e(M)}function R(M){return M===45?(n.consume(M),a=2,b):M===91?(n.consume(M),a=5,f=0,U):Yr(M)?(n.consume(M),a=4,i.interrupt?t:x):e(M)}function b(M){return M===45?(n.consume(M),i.interrupt?t:x):e(M)}function U(M){const vt="CDATA[";return M===vt.charCodeAt(f++)?(n.consume(M),f===vt.length?i.interrupt?t:F:U):e(M)}function B(M){return Yr(M)?(n.consume(M),c=String.fromCharCode(M),q):e(M)}function q(M){if(M===null||M===47||M===62||Vn(M)){const vt=M===47,Nt=c.toLowerCase();return!vt&&!l&&fT.includes(Nt)?(a=1,i.interrupt?t(M):F(M)):j4.includes(c.toLowerCase())?(a=6,vt?(n.consume(M),K):i.interrupt?t(M):F(M)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(M):l?tt(M):J(M))}return M===45||Jn(M)?(n.consume(M),c+=String.fromCharCode(M),q):e(M)}function K(M){return M===62?(n.consume(M),i.interrupt?t:F):e(M)}function tt(M){return ce(M)?(n.consume(M),tt):P(M)}function J(M){return M===47?(n.consume(M),P):M===58||M===95||Yr(M)?(n.consume(M),ht):ce(M)?(n.consume(M),J):P(M)}function ht(M){return M===45||M===46||M===58||M===95||Jn(M)?(n.consume(M),ht):ct(M)}function ct(M){return M===61?(n.consume(M),W):ce(M)?(n.consume(M),ct):J(M)}function W(M){return M===null||M===60||M===61||M===62||M===96?e(M):M===34||M===39?(n.consume(M),p=M,z):ce(M)?(n.consume(M),W):O(M)}function z(M){return M===p?(n.consume(M),p=null,k):M===null||Lt(M)?e(M):(n.consume(M),z)}function O(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Vn(M)?ct(M):(n.consume(M),O)}function k(M){return M===47||M===62||ce(M)?J(M):e(M)}function P(M){return M===62?(n.consume(M),V):e(M)}function V(M){return M===null||Lt(M)?F(M):ce(M)?(n.consume(M),V):e(M)}function F(M){return M===45&&a===2?(n.consume(M),pt):M===60&&a===1?(n.consume(M),wt):M===62&&a===4?(n.consume(M),it):M===63&&a===3?(n.consume(M),x):M===93&&a===5?(n.consume(M),Ft):Lt(M)&&(a===6||a===7)?(n.exit("htmlFlowData"),n.check(H4,_t,N)(M)):M===null||Lt(M)?(n.exit("htmlFlowData"),N(M)):(n.consume(M),F)}function N(M){return n.check(G4,gt,_t)(M)}function gt(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),Tt}function Tt(M){return M===null||Lt(M)?N(M):(n.enter("htmlFlowData"),F(M))}function pt(M){return M===45?(n.consume(M),x):F(M)}function wt(M){return M===47?(n.consume(M),c="",Et):F(M)}function Et(M){if(M===62){const vt=c.toLowerCase();return fT.includes(vt)?(n.consume(M),it):F(M)}return Yr(M)&&c.length<8?(n.consume(M),c+=String.fromCharCode(M),Et):F(M)}function Ft(M){return M===93?(n.consume(M),x):F(M)}function x(M){return M===62?(n.consume(M),it):M===45&&a===2?(n.consume(M),x):F(M)}function it(M){return M===null||Lt(M)?(n.exit("htmlFlowData"),_t(M)):(n.consume(M),it)}function _t(M){return n.exit("htmlFlow"),t(M)}}function Y4(n,t,e){const i=this;return a;function a(c){return Lt(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l):e(c)}function l(c){return i.parser.lazy[i.now().line]?e(c):t(c)}}function $4(n,t,e){return i;function i(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),n.attempt(Rf,t,e)}}const X4={name:"htmlText",tokenize:W4};function W4(n,t,e){const i=this;let a,l,c;return f;function f(x){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(x),p}function p(x){return x===33?(n.consume(x),m):x===47?(n.consume(x),ct):x===63?(n.consume(x),J):Yr(x)?(n.consume(x),O):e(x)}function m(x){return x===45?(n.consume(x),_):x===91?(n.consume(x),l=0,U):Yr(x)?(n.consume(x),tt):e(x)}function _(x){return x===45?(n.consume(x),b):e(x)}function T(x){return x===null?e(x):x===45?(n.consume(x),R):Lt(x)?(c=T,wt(x)):(n.consume(x),T)}function R(x){return x===45?(n.consume(x),b):T(x)}function b(x){return x===62?pt(x):x===45?R(x):T(x)}function U(x){const it="CDATA[";return x===it.charCodeAt(l++)?(n.consume(x),l===it.length?B:U):e(x)}function B(x){return x===null?e(x):x===93?(n.consume(x),q):Lt(x)?(c=B,wt(x)):(n.consume(x),B)}function q(x){return x===93?(n.consume(x),K):B(x)}function K(x){return x===62?pt(x):x===93?(n.consume(x),K):B(x)}function tt(x){return x===null||x===62?pt(x):Lt(x)?(c=tt,wt(x)):(n.consume(x),tt)}function J(x){return x===null?e(x):x===63?(n.consume(x),ht):Lt(x)?(c=J,wt(x)):(n.consume(x),J)}function ht(x){return x===62?pt(x):J(x)}function ct(x){return Yr(x)?(n.consume(x),W):e(x)}function W(x){return x===45||Jn(x)?(n.consume(x),W):z(x)}function z(x){return Lt(x)?(c=z,wt(x)):ce(x)?(n.consume(x),z):pt(x)}function O(x){return x===45||Jn(x)?(n.consume(x),O):x===47||x===62||Vn(x)?k(x):e(x)}function k(x){return x===47?(n.consume(x),pt):x===58||x===95||Yr(x)?(n.consume(x),P):Lt(x)?(c=k,wt(x)):ce(x)?(n.consume(x),k):pt(x)}function P(x){return x===45||x===46||x===58||x===95||Jn(x)?(n.consume(x),P):V(x)}function V(x){return x===61?(n.consume(x),F):Lt(x)?(c=V,wt(x)):ce(x)?(n.consume(x),V):k(x)}function F(x){return x===null||x===60||x===61||x===62||x===96?e(x):x===34||x===39?(n.consume(x),a=x,N):Lt(x)?(c=F,wt(x)):ce(x)?(n.consume(x),F):(n.consume(x),gt)}function N(x){return x===a?(n.consume(x),a=void 0,Tt):x===null?e(x):Lt(x)?(c=N,wt(x)):(n.consume(x),N)}function gt(x){return x===null||x===34||x===39||x===60||x===61||x===96?e(x):x===47||x===62||Vn(x)?k(x):(n.consume(x),gt)}function Tt(x){return x===47||x===62||Vn(x)?k(x):e(x)}function pt(x){return x===62?(n.consume(x),n.exit("htmlTextData"),n.exit("htmlText"),t):e(x)}function wt(x){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),Et}function Et(x){return ce(x)?Ee(n,Ft,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):Ft(x)}function Ft(x){return n.enter("htmlTextData"),c(x)}}const Jg={name:"labelEnd",resolveAll:eU,resolveTo:nU,tokenize:rU},Z4={tokenize:iU},J4={tokenize:sU},tU={tokenize:aU};function eU(n){let t=-1;const e=[];for(;++t<n.length;){const i=n[t][1];if(e.push(n[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",t+=a}}return n.length!==e.length&&ri(n,0,n.length,e),n}function nU(n,t){let e=n.length,i=0,a,l,c,f;for(;e--;)if(a=n[e][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;n[e][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(n[e][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=e,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(c=e);const p={type:n[l][1].type==="labelLink"?"link":"image",start:{...n[l][1].start},end:{...n[n.length-1][1].end}},m={type:"label",start:{...n[l][1].start},end:{...n[c][1].end}},_={type:"labelText",start:{...n[l+i+2][1].end},end:{...n[c-2][1].start}};return f=[["enter",p,t],["enter",m,t]],f=yr(f,n.slice(l+1,l+i+3)),f=yr(f,[["enter",_,t]]),f=yr(f,Zg(t.parser.constructs.insideSpan.null,n.slice(l+i+4,c-3),t)),f=yr(f,[["exit",_,t],n[c-2],n[c-1],["exit",m,t]]),f=yr(f,n.slice(c+1)),f=yr(f,[["exit",p,t]]),ri(n,l,n.length,f),n}function rU(n,t,e){const i=this;let a=i.events.length,l,c;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return f;function f(R){return l?l._inactive?T(R):(c=i.parser.defined.includes(Mo(i.sliceSerialize({start:l.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(R),n.exit("labelMarker"),n.exit("labelEnd"),p):e(R)}function p(R){return R===40?n.attempt(Z4,_,c?_:T)(R):R===91?n.attempt(J4,_,c?m:T)(R):c?_(R):T(R)}function m(R){return n.attempt(tU,_,T)(R)}function _(R){return t(R)}function T(R){return l._balanced=!0,e(R)}}function iU(n,t,e){return i;function i(T){return n.enter("resource"),n.enter("resourceMarker"),n.consume(T),n.exit("resourceMarker"),a}function a(T){return Vn(T)?pu(n,l)(T):l(T)}function l(T){return T===41?_(T):jS(n,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return Vn(T)?pu(n,p)(T):_(T)}function f(T){return e(T)}function p(T){return T===34||T===39||T===40?HS(n,m,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):_(T)}function m(T){return Vn(T)?pu(n,_)(T):_(T)}function _(T){return T===41?(n.enter("resourceMarker"),n.consume(T),n.exit("resourceMarker"),n.exit("resource"),t):e(T)}}function sU(n,t,e){const i=this;return a;function a(f){return qS.call(i,n,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Mo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(f):e(f)}function c(f){return e(f)}}function aU(n,t,e){return i;function i(l){return n.enter("reference"),n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),a}function a(l){return l===93?(n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),n.exit("reference"),t):e(l)}}const oU={name:"labelStartImage",resolveAll:Jg.resolveAll,tokenize:lU};function lU(n,t,e){const i=this;return a;function a(f){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(f),n.exit("labelImageMarker"),l}function l(f){return f===91?(n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelImage"),c):e(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(f):t(f)}}const uU={name:"labelStartLink",resolveAll:Jg.resolveAll,tokenize:cU};function cU(n,t,e){const i=this;return a;function a(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(c):t(c)}}const Wp={name:"lineEnding",tokenize:hU};function hU(n,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Ee(n,t,"linePrefix")}}const Ih={name:"thematicBreak",tokenize:fU};function fU(n,t,e){let i=0,a;return l;function l(m){return n.enter("thematicBreak"),c(m)}function c(m){return a=m,f(m)}function f(m){return m===a?(n.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Lt(m))?(n.exit("thematicBreak"),t(m)):e(m)}function p(m){return m===a?(n.consume(m),i++,p):(n.exit("thematicBreakSequence"),ce(m)?Ee(n,f,"whitespace")(m):f(m))}}const On={continuation:{tokenize:gU},exit:_U,name:"list",tokenize:mU},dU={partial:!0,tokenize:vU},pU={partial:!0,tokenize:yU};function mU(n,t,e){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(b){const U=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(U==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Um(b)){if(i.containerState.type||(i.containerState.type=U,n.enter(U,{_container:!0})),U==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(Ih,e,m)(b):m(b);if(!i.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(b)}return e(b)}function p(b){return Um(b)&&++c<10?(n.consume(b),p):(!i.interrupt||c<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),m(b)):e(b)}function m(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,n.check(Rf,i.interrupt?e:_,n.attempt(dU,R,T))}function _(b){return i.containerState.initialBlankLine=!0,l++,R(b)}function T(b){return ce(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),R):e(b)}function R(b){return i.containerState.size=l+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(b)}}function gU(n,t,e){const i=this;return i.containerState._closeFlow=void 0,n.check(Rf,a,l);function a(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ee(n,t,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ce(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(pU,t,c)(f))}function c(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ee(n,n.attempt(On,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function yU(n,t,e){const i=this;return Ee(n,a,"listItemIndent",i.containerState.size+1);function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?t(l):e(l)}}function _U(n){n.exit(this.containerState.type)}function vU(n,t,e){const i=this;return Ee(n,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=i.events[i.events.length-1];return!ce(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):e(l)}}const dT={name:"setextUnderline",resolveTo:EU,tokenize:TU};function EU(n,t){let e=n.length,i,a,l;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){i=e;break}n[e][1].type==="paragraph"&&(a=e)}else n[e][1].type==="content"&&n.splice(e,1),!l&&n[e][1].type==="definition"&&(l=e);const c={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[a][1].type="setextHeadingText",l?(n.splice(a,0,["enter",c,t]),n.splice(l+1,0,["exit",n[i][1],t]),n[i][1].end={...n[l][1].end}):n[i][1]=c,n.push(["exit",c,t]),n}function TU(n,t,e){const i=this;let a;return l;function l(m){let _=i.events.length,T;for(;_--;)if(i.events[_][1].type!=="lineEnding"&&i.events[_][1].type!=="linePrefix"&&i.events[_][1].type!=="content"){T=i.events[_][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||T)?(n.enter("setextHeadingLine"),a=m,c(m)):e(m)}function c(m){return n.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(n.consume(m),f):(n.exit("setextHeadingLineSequence"),ce(m)?Ee(n,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Lt(m)?(n.exit("setextHeadingLine"),t(m)):e(m)}}const wU={tokenize:bU};function bU(n){const t=this,e=n.attempt(Rf,i,n.attempt(this.parser.constructs.flowInitial,a,Ee(n,n.attempt(this.parser.constructs.flow,a,n.attempt(I4,a)),"linePrefix")));return e;function i(l){if(l===null){n.consume(l);return}return n.enter("lineEndingBlank"),n.consume(l),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function a(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const SU={resolveAll:KS()},AU=GS("string"),RU=GS("text");function GS(n){return{resolveAll:KS(n==="text"?xU:void 0),tokenize:t};function t(e){const i=this,a=this.parser.constructs[n],l=e.attempt(a,c,f);return c;function c(_){return m(_)?l(_):f(_)}function f(_){if(_===null){e.consume(_);return}return e.enter("data"),e.consume(_),p}function p(_){return m(_)?(e.exit("data"),l(_)):(e.consume(_),p)}function m(_){if(_===null)return!0;const T=a[_];let R=-1;if(T)for(;++R<T.length;){const b=T[R];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function KS(n){return t;function t(e,i){let a=-1,l;for(;++a<=e.length;)l===void 0?e[a]&&e[a][1].type==="data"&&(l=a,a++):(!e[a]||e[a][1].type!=="data")&&(a!==l+2&&(e[l][1].end=e[a-1][1].end,e.splice(l+2,a-l-2),a=l+2),l=void 0);return n?n(e,i):e}}function xU(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const i=n[e-1][1],a=t.sliceStream(i);let l=a.length,c=-1,f=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(m===-2)p=!0,f++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&e===n.length&&(f=0),f){const m={type:e===n.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(n.splice(e,0,["enter",m,t],["exit",m,t]),e+=2)}e++}return n}const IU={42:On,43:On,45:On,48:On,49:On,50:On,51:On,52:On,53:On,54:On,55:On,56:On,57:On,62:VS},CU={91:O4},kU={[-2]:Xp,[-1]:Xp,32:Xp},DU={35:B4,42:Ih,45:[dT,Ih],60:q4,61:dT,95:Ih,96:hT,126:hT},NU={38:zS,92:BS},OU={[-5]:Wp,[-4]:Wp,[-3]:Wp,33:oU,38:zS,42:Pm,60:[u4,X4],91:uU,92:[L4,BS],93:Jg,95:Pm,96:w4},MU={null:[Pm,SU]},UU={null:[42,95]},PU={null:[]},LU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:UU,contentInitial:CU,disable:PU,document:IU,flow:DU,flowInitial:kU,insideSpan:MU,string:NU,text:OU},Symbol.toStringTag,{value:"Module"}));function VU(n,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:z(ct),check:z(W),consume:tt,enter:J,exit:ht,interrupt:z(W,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:U,parser:n,previous:null,sliceSerialize:R,sliceStream:b,write:T};let _=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function T(V){return c=yr(c,V),q(),c[c.length-1]!==null?[]:(O(t,0),m.events=Zg(l,m.events,m),m.events)}function R(V,F){return zU(b(V),F)}function b(V){return BU(c,V)}function U(){const{_bufferIndex:V,_index:F,line:N,column:gt,offset:Tt}=i;return{_bufferIndex:V,_index:F,line:N,column:gt,offset:Tt}}function B(V){a[V.line]=V.column,P()}function q(){let V;for(;i._index<c.length;){const F=c[i._index];if(typeof F=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<F.length;)K(F.charCodeAt(i._bufferIndex));else K(F)}}function K(V){_=_(V)}function tt(V){Lt(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,P()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=V}function J(V,F){const N=F||{};return N.type=V,N.start=U(),m.events.push(["enter",N,m]),f.push(N),N}function ht(V){const F=f.pop();return F.end=U(),m.events.push(["exit",F,m]),F}function ct(V,F){O(V,F.from)}function W(V,F){F.restore()}function z(V,F){return N;function N(gt,Tt,pt){let wt,Et,Ft,x;return Array.isArray(gt)?_t(gt):"tokenize"in gt?_t([gt]):it(gt);function it(At){return de;function de(Ut){const ae=Ut!==null&&At[Ut],Qt=Ut!==null&&At.null,Ie=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return _t(Ie)(Ut)}}function _t(At){return wt=At,Et=0,At.length===0?pt:M(At[Et])}function M(At){return de;function de(Ut){return x=k(),Ft=At,At.partial||(m.currentConstruct=At),At.name&&m.parser.constructs.disable.null.includes(At.name)?Nt():At.tokenize.call(F?Object.assign(Object.create(m),F):m,p,vt,Nt)(Ut)}}function vt(At){return V(Ft,x),Tt}function Nt(At){return x.restore(),++Et<wt.length?M(wt[Et]):pt}}}function O(V,F){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&ri(m.events,F,m.events.length-F,V.resolve(m.events.slice(F),m)),V.resolveTo&&(m.events=V.resolveTo(m.events,m))}function k(){const V=U(),F=m.previous,N=m.currentConstruct,gt=m.events.length,Tt=Array.from(f);return{from:gt,restore:pt};function pt(){i=V,m.previous=F,m.currentConstruct=N,m.events.length=gt,f=Tt,P()}}function P(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function BU(n,t){const e=t.start._index,i=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let c;if(e===a)c=[n[e].slice(i,l)];else{if(c=n.slice(e,a),i>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(i):c.shift()}l>0&&c.push(n[a].slice(0,l))}return c}function zU(n,t){let e=-1;const i=[];let a;for(;++e<n.length;){const l=n[e];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,i.push(c)}return i.join("")}function FU(n){const i={constructs:YM([LU,...(n||{}).extensions||[]]),content:a(n4),defined:[],document:a(i4),flow:a(wU),lazy:{},string:a(AU),text:a(RU)};return i;function a(l){return c;function c(f){return VU(i,l,f)}}}function jU(n){for(;!FS(n););return n}const pT=/[\0\t\n\r]/g;function qU(){let n=1,t="",e=!0,i;return a;function a(l,c,f){const p=[];let m,_,T,R,b;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),T=0,t="",e&&(l.charCodeAt(0)===65279&&T++,e=void 0);T<l.length;){if(pT.lastIndex=T,m=pT.exec(l),R=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(R),!m){t=l.slice(T);break}if(b===10&&T===R&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),T<R&&(p.push(l.slice(T,R)),n+=R-T),b){case 0:{p.push(65533),n++;break}case 9:{for(_=Math.ceil(n/4)*4,p.push(-2);n++<_;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:i=!0,n=1}T=R+1}return f&&(i&&p.push(-5),t&&p.push(t),p.push(null)),p}}const HU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GU(n){return n.replace(HU,KU)}function KU(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const a=e.charCodeAt(1),l=a===120||a===88;return LS(e.slice(l?2:1),l?16:10)}return Wg(e)||n}const QS={}.hasOwnProperty;function QU(n,t,e){return typeof t!="string"&&(e=t,t=void 0),YU(e)(jU(FU(e).document().write(qU()(n,t,!0))))}function YU(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Er),autolinkProtocol:k,autolinkEmail:k,atxHeading:l(zn),blockQuote:l(Qt),characterEscape:k,characterReference:k,codeFenced:l(Ie),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ie,c),codeText:l(Cn,c),codeTextData:k,data:k,codeFlowValue:k,definition:l(Oe),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(tr,c),htmlFlowData:k,htmlText:l(tr,c),htmlTextData:k,image:l(Cr),label:c,link:l(Er),listItem:l(jn),listItemValue:R,listOrdered:l(Fn,T),listUnordered:l(Fn),paragraph:l(pn),reference:M,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(zn),strong:l(Tr),thematicBreak:l(wn)},exit:{atxHeading:p(),atxHeadingSequence:ct,autolink:p(),autolinkEmail:ae,autolinkProtocol:Ut,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Nt,characterReferenceMarkerNumeric:Nt,characterReferenceValue:At,characterReference:de,codeFenced:p(q),codeFencedFence:B,codeFencedFenceInfo:b,codeFencedFenceMeta:U,codeFlowValue:P,codeIndented:p(K),codeText:p(Tt),codeTextData:P,data:P,definition:p(),definitionDestinationString:ht,definitionLabelString:tt,definitionTitleString:J,emphasis:p(),hardBreakEscape:p(F),hardBreakTrailing:p(F),htmlFlow:p(N),htmlFlowData:P,htmlText:p(gt),htmlTextData:P,image:p(wt),label:Ft,labelText:Et,lineEnding:V,link:p(pt),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:vt,resourceDestinationString:x,resourceTitleString:it,resource:_t,setextHeading:p(O),setextHeadingLineSequence:z,setextHeadingText:W,strong:p(),thematicBreak:p()}};YS(t,(n||{}).mdastExtensions||[]);const e={};return i;function i(et){let A={type:"root",children:[]};const y={stack:[A],tokenStack:[],config:t,enter:f,exit:m,buffer:c,resume:_,data:e},E=[];let D=-1;for(;++D<et.length;)if(et[D][1].type==="listOrdered"||et[D][1].type==="listUnordered")if(et[D][0]==="enter")E.push(D);else{const j=E.pop();D=a(et,j,D)}for(D=-1;++D<et.length;){const j=t[et[D][0]];QS.call(j,et[D][1].type)&&j[et[D][1].type].call(Object.assign({sliceSerialize:et[D][2].sliceSerialize},y),et[D][1])}if(y.tokenStack.length>0){const j=y.tokenStack[y.tokenStack.length-1];(j[1]||mT).call(y,void 0,j[0])}for(A.position={start:Es(et.length>0?et[0][1].start:{line:1,column:1,offset:0}),end:Es(et.length>0?et[et.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<t.transforms.length;)A=t.transforms[D](A)||A;return A}function a(et,A,y){let E=A-1,D=-1,j=!1,X,rt,xt,ee;for(;++E<=y;){const Mt=et[E];switch(Mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mt[0]==="enter"?D++:D--,ee=void 0;break}case"lineEndingBlank":{Mt[0]==="enter"&&(X&&!ee&&!D&&!xt&&(xt=E),ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ee=void 0}if(!D&&Mt[0]==="enter"&&Mt[1].type==="listItemPrefix"||D===-1&&Mt[0]==="exit"&&(Mt[1].type==="listUnordered"||Mt[1].type==="listOrdered")){if(X){let Bt=E;for(rt=void 0;Bt--;){const Ht=et[Bt];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;rt&&(et[rt][1].type="lineEndingBlank",j=!0),Ht[1].type="lineEnding",rt=Bt}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}xt&&(!rt||xt<rt)&&(X._spread=!0),X.end=Object.assign({},rt?et[rt][1].start:Mt[1].end),et.splice(rt||E,0,["exit",X,Mt[2]]),E++,y++}if(Mt[1].type==="listItemPrefix"){const Bt={type:"listItem",_spread:!1,start:Object.assign({},Mt[1].start),end:void 0};X=Bt,et.splice(E,0,["enter",Bt,Mt[2]]),E++,y++,xt=void 0,ee=!0}}}return et[A][1]._spread=j,y}function l(et,A){return y;function y(E){f.call(this,et(E),E),A&&A.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(et,A,y){this.stack[this.stack.length-1].children.push(et),this.stack.push(et),this.tokenStack.push([A,y||void 0]),et.position={start:Es(A.start),end:void 0}}function p(et){return A;function A(y){et&&et.call(this,y),m.call(this,y)}}function m(et,A){const y=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==et.type&&(A?A.call(this,et,E[0]):(E[1]||mT).call(this,et,E[0]));else throw new Error("Cannot close `"+et.type+"` ("+du({start:et.start,end:et.end})+"): it’s not open");y.position.end=Es(et.end)}function _(){return KM(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function R(et){if(this.data.expectingFirstListItemValue){const A=this.stack[this.stack.length-2];A.start=Number.parseInt(this.sliceSerialize(et),10),this.data.expectingFirstListItemValue=void 0}}function b(){const et=this.resume(),A=this.stack[this.stack.length-1];A.lang=et}function U(){const et=this.resume(),A=this.stack[this.stack.length-1];A.meta=et}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function q(){const et=this.resume(),A=this.stack[this.stack.length-1];A.value=et.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function K(){const et=this.resume(),A=this.stack[this.stack.length-1];A.value=et.replace(/(\r?\n|\r)$/g,"")}function tt(et){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=Mo(this.sliceSerialize(et)).toLowerCase()}function J(){const et=this.resume(),A=this.stack[this.stack.length-1];A.title=et}function ht(){const et=this.resume(),A=this.stack[this.stack.length-1];A.url=et}function ct(et){const A=this.stack[this.stack.length-1];if(!A.depth){const y=this.sliceSerialize(et).length;A.depth=y}}function W(){this.data.setextHeadingSlurpLineEnding=!0}function z(et){const A=this.stack[this.stack.length-1];A.depth=this.sliceSerialize(et).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function k(et){const y=this.stack[this.stack.length-1].children;let E=y[y.length-1];(!E||E.type!=="text")&&(E=We(),E.position={start:Es(et.start),end:void 0},y.push(E)),this.stack.push(E)}function P(et){const A=this.stack.pop();A.value+=this.sliceSerialize(et),A.position.end=Es(et.end)}function V(et){const A=this.stack[this.stack.length-1];if(this.data.atHardBreak){const y=A.children[A.children.length-1];y.position.end=Es(et.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(A.type)&&(k.call(this,et),P.call(this,et))}function F(){this.data.atHardBreak=!0}function N(){const et=this.resume(),A=this.stack[this.stack.length-1];A.value=et}function gt(){const et=this.resume(),A=this.stack[this.stack.length-1];A.value=et}function Tt(){const et=this.resume(),A=this.stack[this.stack.length-1];A.value=et}function pt(){const et=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";et.type+="Reference",et.referenceType=A,delete et.url,delete et.title}else delete et.identifier,delete et.label;this.data.referenceType=void 0}function wt(){const et=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";et.type+="Reference",et.referenceType=A,delete et.url,delete et.title}else delete et.identifier,delete et.label;this.data.referenceType=void 0}function Et(et){const A=this.sliceSerialize(et),y=this.stack[this.stack.length-2];y.label=GU(A),y.identifier=Mo(A).toLowerCase()}function Ft(){const et=this.stack[this.stack.length-1],A=this.resume(),y=this.stack[this.stack.length-1];if(this.data.inReference=!0,y.type==="link"){const E=et.children;y.children=E}else y.alt=A}function x(){const et=this.resume(),A=this.stack[this.stack.length-1];A.url=et}function it(){const et=this.resume(),A=this.stack[this.stack.length-1];A.title=et}function _t(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function vt(et){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=Mo(this.sliceSerialize(et)).toLowerCase(),this.data.referenceType="full"}function Nt(et){this.data.characterReferenceType=et.type}function At(et){const A=this.sliceSerialize(et),y=this.data.characterReferenceType;let E;y?(E=LS(A,y==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=Wg(A);const D=this.stack[this.stack.length-1];D.value+=E}function de(et){const A=this.stack.pop();A.position.end=Es(et.end)}function Ut(et){P.call(this,et);const A=this.stack[this.stack.length-1];A.url=this.sliceSerialize(et)}function ae(et){P.call(this,et);const A=this.stack[this.stack.length-1];A.url="mailto:"+this.sliceSerialize(et)}function Qt(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function zn(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function tr(){return{type:"html",value:""}}function Cr(){return{type:"image",title:null,url:"",alt:null}}function Er(){return{type:"link",title:null,url:"",children:[]}}function Fn(et){return{type:"list",ordered:et.type==="listOrdered",start:null,spread:et._spread,children:[]}}function jn(et){return{type:"listItem",spread:et._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function Tr(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function wn(){return{type:"thematicBreak"}}}function Es(n){return{line:n.line,column:n.column,offset:n.offset}}function YS(n,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?YS(n,i):$U(n,i)}}function $U(n,t){let e;for(e in t)if(QS.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&n[e].push(...i);break}case"transforms":{const i=t[e];i&&n[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(n[e],i);break}}}function mT(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+du({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+du({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+du({start:t.start,end:t.end})+") is still open")}function XU(n){const t=this;t.parser=e;function e(i){return QU(i,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function WU(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function ZU(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function JU(n,t){const e=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(a.data={meta:t.meta}),n.patch(t,a),a=n.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},n.patch(t,a),a}function tP(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function eP(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function nP(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=Xo(i.toLowerCase()),l=n.footnoteOrder.indexOf(i);let c,f=n.footnoteCounts.get(i);f===void 0?(f=0,n.footnoteOrder.push(i),c=n.footnoteOrder.length):c=l+1,f+=1,n.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+a,id:e+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};n.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return n.patch(t,m),n.applyData(t,m)}function rP(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function iP(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function $S(n,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const a=n.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=i:a.push({type:"text",value:i}),a}function sP(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return $S(n,t);const a={src:Xo(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return n.patch(t,l),n.applyData(t,l)}function aP(n,t){const e={src:Xo(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,i),n.applyData(t,i)}function oP(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,i),n.applyData(t,i)}function lP(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return $S(n,t);const a={href:Xo(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:n.all(t)};return n.patch(t,l),n.applyData(t,l)}function uP(n,t){const e={href:Xo(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function cP(n,t,e){const i=n.all(t),a=e?hP(e):XS(t),l={},c=[];if(typeof t.checked=="boolean"){const _=i[0];let T;_&&_.type==="element"&&_.tagName==="p"?T=_:(T={type:"element",tagName:"p",properties:{},children:[]},i.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const _=i[f];(a||f!==0||_.type!=="element"||_.tagName!=="p")&&c.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!a?c.push(..._.children):c.push(_)}const p=i[i.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return n.patch(t,m),n.applyData(t,m)}function hP(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let i=-1;for(;!t&&++i<e.length;)t=XS(e[i])}return t}function XS(n){const t=n.spread;return t??n.children.length>1}function fP(n,t){const e={},i=n.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++a<i.length;){const c=i[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(i,!0)};return n.patch(t,l),n.applyData(t,l)}function dP(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function pP(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function mP(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function gP(n,t){const e=n.all(t),i=e.shift(),a=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(t.children[0],c),a.push(c)}if(e.length>0){const c={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},f=Qg(t.children[1]),p=kS(t.children[t.children.length-1]);f&&p&&(c.position={start:f,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:n.wrap(a,!0)};return n.patch(t,l),n.applyData(t,l)}function yP(n,t,e){const i=e?e.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",c=e&&e.type==="table"?e.align:void 0,f=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<f;){const T=t.children[p],R={},b=c?c[p]:void 0;b&&(R.align=b);let U={type:"element",tagName:l,properties:R,children:[]};T&&(U.children=n.all(T),n.patch(T,U),U=n.applyData(T,U)),m.push(U)}const _={type:"element",tagName:"tr",properties:{},children:n.wrap(m,!0)};return n.patch(t,_),n.applyData(t,_)}function _P(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const gT=9,yT=32;function vP(n){const t=String(n),e=/\r?\n|\r/g;let i=e.exec(t),a=0;const l=[];for(;i;)l.push(_T(t.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=e.exec(t);return l.push(_T(t.slice(a),a>0,!1)),l.join("")}function _T(n,t,e){let i=0,a=n.length;if(t){let l=n.codePointAt(i);for(;l===gT||l===yT;)i++,l=n.codePointAt(i)}if(e){let l=n.codePointAt(a-1);for(;l===gT||l===yT;)a--,l=n.codePointAt(a-1)}return a>i?n.slice(i,a):""}function EP(n,t){const e={type:"text",value:vP(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function TP(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const wP={blockquote:WU,break:ZU,code:JU,delete:tP,emphasis:eP,footnoteReference:nP,heading:rP,html:iP,imageReference:sP,image:aP,inlineCode:oP,linkReference:lP,link:uP,listItem:cP,list:fP,paragraph:dP,root:pP,strong:mP,table:gP,tableCell:_P,tableRow:yP,text:EP,thematicBreak:TP,toml:mh,yaml:mh,definition:mh,footnoteDefinition:mh};function mh(){}const WS=-1,xf=0,mu=1,Xh=2,ty=3,ey=4,ny=5,ry=6,ZS=7,JS=8,vT=typeof self=="object"?self:globalThis,bP=(n,t)=>{const e=(a,l)=>(n.set(l,a),a),i=a=>{if(n.has(a))return n.get(a);const[l,c]=t[a];switch(l){case xf:case WS:return e(c,a);case mu:{const f=e([],a);for(const p of c)f.push(i(p));return f}case Xh:{const f=e({},a);for(const[p,m]of c)f[i(p)]=i(m);return f}case ty:return e(new Date(c),a);case ey:{const{source:f,flags:p}=c;return e(new RegExp(f,p),a)}case ny:{const f=e(new Map,a);for(const[p,m]of c)f.set(i(p),i(m));return f}case ry:{const f=e(new Set,a);for(const p of c)f.add(i(p));return f}case ZS:{const{name:f,message:p}=c;return e(new vT[f](p),a)}case JS:return e(BigInt(c),a);case"BigInt":return e(Object(BigInt(c)),a);case"ArrayBuffer":return e(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return e(new DataView(f),c)}}return e(new vT[l](c),a)};return i},ET=n=>bP(new Map,n)(0),bo="",{toString:SP}={},{keys:AP}=Object,nu=n=>{const t=typeof n;if(t!=="object"||!n)return[xf,t];const e=SP.call(n).slice(8,-1);switch(e){case"Array":return[mu,bo];case"Object":return[Xh,bo];case"Date":return[ty,bo];case"RegExp":return[ey,bo];case"Map":return[ny,bo];case"Set":return[ry,bo];case"DataView":return[mu,e]}return e.includes("Array")?[mu,e]:e.includes("Error")?[ZS,e]:[Xh,e]},gh=([n,t])=>n===xf&&(t==="function"||t==="symbol"),RP=(n,t,e,i)=>{const a=(c,f)=>{const p=i.push(c)-1;return e.set(f,p),p},l=c=>{if(e.has(c))return e.get(c);let[f,p]=nu(c);switch(f){case xf:{let _=c;switch(p){case"bigint":f=JS,_=c.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+p);_=null;break;case"undefined":return a([WS],c)}return a([f,_],c)}case mu:{if(p){let R=c;return p==="DataView"?R=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(R=new Uint8Array(c)),a([p,[...R]],c)}const _=[],T=a([f,_],c);for(const R of c)_.push(l(R));return T}case Xh:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const _=[],T=a([f,_],c);for(const R of AP(c))(n||!gh(nu(c[R])))&&_.push([l(R),l(c[R])]);return T}case ty:return a([f,c.toISOString()],c);case ey:{const{source:_,flags:T}=c;return a([f,{source:_,flags:T}],c)}case ny:{const _=[],T=a([f,_],c);for(const[R,b]of c)(n||!(gh(nu(R))||gh(nu(b))))&&_.push([l(R),l(b)]);return T}case ry:{const _=[],T=a([f,_],c);for(const R of c)(n||!gh(nu(R)))&&_.push(l(R));return T}}const{message:m}=c;return a([f,{name:p,message:m}],c)};return l},TT=(n,{json:t,lossy:e}={})=>{const i=[];return RP(!(t||e),!!t,new Map,i)(n),i},Wh=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?ET(TT(n,t)):structuredClone(n):(n,t)=>ET(TT(n,t));function xP(n,t){const e=[{type:"text",value:"↩"}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function IP(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function CP(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||xP,i=n.options.footnoteBackLabel||IP,a=n.options.footnoteLabel||"Footnotes",l=n.options.footnoteLabelTagName||"h2",c=n.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<n.footnoteOrder.length;){const m=n.footnoteById.get(n.footnoteOrder[p]);if(!m)continue;const _=n.all(m),T=String(m.identifier).toUpperCase(),R=Xo(T.toLowerCase());let b=0;const U=[],B=n.footnoteCounts.get(T);for(;B!==void 0&&++b<=B;){U.length>0&&U.push({type:"text",value:" "});let tt=typeof e=="string"?e:e(p,b);typeof tt=="string"&&(tt={type:"text",value:tt}),U.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+R+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,b),className:["data-footnote-backref"]},children:Array.isArray(tt)?tt:[tt]})}const q=_[_.length-1];if(q&&q.type==="element"&&q.tagName==="p"){const tt=q.children[q.children.length-1];tt&&tt.type==="text"?tt.value+=" ":q.children.push({type:"text",value:" "}),q.children.push(...U)}else _.push(...U);const K={type:"element",tagName:"li",properties:{id:t+"fn-"+R},children:n.wrap(_,!0)};n.patch(m,K),f.push(K)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Wh(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(f,!0)},{type:"text",value:`
`}]}}const t1=function(n){if(n==null)return OP;if(typeof n=="function")return If(n);if(typeof n=="object")return Array.isArray(n)?kP(n):DP(n);if(typeof n=="string")return NP(n);throw new Error("Expected function, string, or object as test")};function kP(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=t1(n[e]);return If(i);function i(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function DP(n){const t=n;return If(e);function e(i){const a=i;let l;for(l in n)if(a[l]!==t[l])return!1;return!0}}function NP(n){return If(t);function t(e){return e&&e.type===n}}function If(n){return t;function t(e,i,a){return!!(MP(e)&&n.call(this,e,typeof i=="number"?i:void 0,a||void 0))}}function OP(){return!0}function MP(n){return n!==null&&typeof n=="object"&&"type"in n}const e1=[],UP=!0,wT=!1,PP="skip";function LP(n,t,e,i){let a;typeof t=="function"&&typeof e!="function"?(i=e,e=t):a=t;const l=t1(a),c=i?-1:1;f(n,void 0,[])();function f(p,m,_){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const b=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(R,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return R;function R(){let b=e1,U,B,q;if((!t||l(p,m,_[_.length-1]||void 0))&&(b=VP(e(p,_)),b[0]===wT))return b;if("children"in p&&p.children){const K=p;if(K.children&&b[0]!==PP)for(B=(i?K.children.length:-1)+c,q=_.concat(K);B>-1&&B<K.children.length;){const tt=K.children[B];if(U=f(tt,B,q)(),U[0]===wT)return U;B=typeof U[1]=="number"?U[1]:B+c}}return b}}}function VP(n){return Array.isArray(n)?n:typeof n=="number"?[UP,n]:n==null?e1:[n]}function n1(n,t,e,i){let a,l,c;typeof t=="function"?(l=void 0,c=t,a=e):(l=t,c=e,a=i),LP(n,l,f,a);function f(p,m){const _=m[m.length-1],T=_?_.children.indexOf(p):void 0;return c(p,T,_)}}const Lm={}.hasOwnProperty,BP={};function zP(n,t){const e=t||BP,i=new Map,a=new Map,l=new Map,c={...wP,...e.handlers},f={all:m,applyData:jP,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:e,patch:FP,wrap:HP};return n1(n,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const T=_.type==="definition"?i:a,R=String(_.identifier).toUpperCase();T.has(R)||T.set(R,_)}}),f;function p(_,T){const R=_.type,b=f.handlers[R];if(Lm.call(f.handlers,R)&&b)return b(f,_,T);if(f.options.passThrough&&f.options.passThrough.includes(R)){if("children"in _){const{children:B,...q}=_,K=Wh(q);return K.children=f.all(_),K}return Wh(_)}return(f.options.unknownHandler||qP)(f,_,T)}function m(_){const T=[];if("children"in _){const R=_.children;let b=-1;for(;++b<R.length;){const U=f.one(R[b],_);if(U){if(b&&R[b-1].type==="break"&&(!Array.isArray(U)&&U.type==="text"&&(U.value=bT(U.value)),!Array.isArray(U)&&U.type==="element")){const B=U.children[0];B&&B.type==="text"&&(B.value=bT(B.value))}Array.isArray(U)?T.push(...U):T.push(U)}}}return T}}function FP(n,t){n.position&&(t.position=wM(n))}function jP(n,t){let e=t;if(n&&n.data){const i=n.data.hName,a=n.data.hChildren,l=n.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const c="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:c}}e.type==="element"&&l&&Object.assign(e.properties,Wh(l)),"children"in e&&e.children&&a!==null&&a!==void 0&&(e.children=a)}return e}function qP(n,t){const e=t.data||{},i="value"in t&&!(Lm.call(e,"hProperties")||Lm.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function HP(n,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<n.length;)i&&e.push({type:"text",value:`
`}),e.push(n[i]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function bT(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function ST(n,t){const e=zP(n,t),i=e.one(n,void 0),a=CP(e),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function GP(n,t){return n&&"run"in n?async function(e,i){const a=ST(e,{file:i,...t});await n.run(a,i)}:function(e,i){return ST(e,{file:i,...n||t})}}function AT(n){if(n)throw n}var Zp,RT;function KP(){if(RT)return Zp;RT=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var _=n.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&n.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!_&&!T)return!1;var R;for(R in m);return typeof R>"u"||n.call(m,R)},c=function(m,_){e&&_.name==="__proto__"?e(m,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):m[_.name]=_.newValue},f=function(m,_){if(_==="__proto__")if(n.call(m,_)){if(i)return i(m,_).value}else return;return m[_]};return Zp=function p(){var m,_,T,R,b,U,B=arguments[0],q=1,K=arguments.length,tt=!1;for(typeof B=="boolean"&&(tt=B,B=arguments[1]||{},q=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});q<K;++q)if(m=arguments[q],m!=null)for(_ in m)T=f(B,_),R=f(m,_),B!==R&&(tt&&R&&(l(R)||(b=a(R)))?(b?(b=!1,U=T&&a(T)?T:[]):U=T&&l(T)?T:{},c(B,{name:_,newValue:p(tt,U,R)})):typeof R<"u"&&c(B,{name:_,newValue:R}));return B},Zp}var QP=KP();const Jp=Ru(QP);function Vm(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function YP(){const n=[],t={run:e,use:i};return t;function e(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...m){const _=n[++l];let T=-1;if(p){c(p);return}for(;++T<a.length;)(m[T]===null||m[T]===void 0)&&(m[T]=a[T]);a=m,_?$P(_,f)(...m):c(null,...m)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return n.push(a),t}}function $P(n,t){let e;return i;function i(...c){const f=n.length>c.length;let p;f&&c.push(a);try{p=n.apply(this,c)}catch(m){const _=m;if(f&&e)throw _;return a(_)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){e||(e=!0,t(c,...f))}function l(c){a(null,c)}}const Gr={basename:XP,dirname:WP,extname:ZP,join:JP,sep:"/"};function XP(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zu(n);let e=0,i=-1,a=n.length,l;if(t===void 0||t.length===0||t.length>n.length){for(;a--;)if(n.codePointAt(a)===47){if(l){e=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":n.slice(e,i)}if(t===n)return"";let c=-1,f=t.length-1;for(;a--;)if(n.codePointAt(a)===47){if(l){e=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(n.codePointAt(a)===t.codePointAt(f--)?f<0&&(i=a):(f=-1,i=c));return e===i?i=c:i<0&&(i=n.length),n.slice(e,i)}function WP(n){if(zu(n),n.length===0)return".";let t=-1,e=n.length,i;for(;--e;)if(n.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function ZP(n){zu(n);let t=n.length,e=-1,i=0,a=-1,l=0,c;for(;t--;){const f=n.codePointAt(t);if(f===47){if(c){i=t+1;break}continue}e<0&&(c=!0,e=t+1),f===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||e<0||l===0||l===1&&a===e-1&&a===i+1?"":n.slice(a,e)}function JP(...n){let t=-1,e;for(;++t<n.length;)zu(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":tL(e)}function tL(n){zu(n);const t=n.codePointAt(0)===47;let e=eL(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function eL(n,t){let e="",i=0,a=-1,l=0,c=-1,f,p;for(;++c<=n.length;){if(c<n.length)f=n.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(p=e.lastIndexOf("/"),p!==e.length-1){p<0?(e="",i=0):(e=e.slice(0,p),i=e.length-1-e.lastIndexOf("/")),a=c,l=0;continue}}else if(e.length>0){e="",i=0,a=c,l=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+n.slice(a+1,c):e=n.slice(a+1,c),i=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return e}function zu(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const nL={cwd:rL};function rL(){return"/"}function Bm(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function iL(n){if(typeof n=="string")n=new URL(n);else if(!Bm(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sL(n)}function sL(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const tm=["history","path","basename","stem","extname","dirname"];class r1{constructor(t){let e;t?Bm(t)?e={path:t}:typeof t=="string"||aL(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":nL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<tm.length;){const l=tm[i];l in e&&e[l]!==void 0&&e[l]!==null&&(this[l]=l==="history"?[...e[l]]:e[l])}let a;for(a in e)tm.includes(a)||(this[a]=e[a])}get basename(){return typeof this.path=="string"?Gr.basename(this.path):void 0}set basename(t){nm(t,"basename"),em(t,"basename"),this.path=Gr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gr.dirname(this.path):void 0}set dirname(t){xT(this.basename,"dirname"),this.path=Gr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gr.extname(this.path):void 0}set extname(t){if(em(t,"extname"),xT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Bm(t)&&(t=iL(t)),nm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gr.basename(this.path,this.extname):void 0}set stem(t){nm(t,"stem"),em(t,"stem"),this.path=Gr.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const a=this.message(t,e,i);throw a.fatal=!0,a}info(t,e,i){const a=this.message(t,e,i);return a.fatal=void 0,a}message(t,e,i){const a=new Tn(t,e,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function em(n,t){if(n&&n.includes(Gr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gr.sep+"`")}function nm(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function xT(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function aL(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const oL=function(n){const i=this.constructor.prototype,a=i[n],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},lL={}.hasOwnProperty;class iy extends oL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=YP()}copy(){const t=new iy;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(Jp(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(sm("data",this.frozen),this.namespace[t]=e,this):lL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(sm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=e.call(t,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=yh(t),i=this.parser||this.Parser;return rm("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),rm("process",this.parser||this.Parser),im("process",this.compiler||this.Compiler),e?a(void 0,e):new Promise(a);function a(l,c){const f=yh(t),p=i.parse(f);i.run(p,f,function(_,T,R){if(_||!T||!R)return m(_);const b=T,U=i.stringify(b,R);hL(U)?R.value=U:R.result=U,m(_,R)});function m(_,T){_||!T?c(_):l?l(T):e(void 0,T)}}}processSync(t){let e=!1,i;return this.freeze(),rm("processSync",this.parser||this.Parser),im("processSync",this.compiler||this.Compiler),this.process(t,a),CT("processSync","process",e),i;function a(l,c){e=!0,AT(l),i=c}}run(t,e,i){IT(t),this.freeze();const a=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?l(void 0,i):new Promise(l);function l(c,f){const p=yh(e);a.run(t,p,m);function m(_,T,R){const b=T||t;_?f(_):c?c(b):i(void 0,b,R)}}}runSync(t,e){let i=!1,a;return this.run(t,e,l),CT("runSync","run",i),a;function l(c,f){AT(c),a=f,i=!0}}stringify(t,e){this.freeze();const i=yh(e),a=this.compiler||this.Compiler;return im("stringify",a),IT(t),a(t,i)}use(t,...e){const i=this.attachers,a=this.namespace;if(sm("use",this.frozen),t!=null)if(typeof t=="function")p(t,e);else if(typeof t=="object")Array.isArray(t)?f(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[_,...T]=m;p(_,T)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=Jp(!0,a.settings,m.settings))}function f(m){let _=-1;if(m!=null)if(Array.isArray(m))for(;++_<m.length;){const T=m[_];l(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,_){let T=-1,R=-1;for(;++T<i.length;)if(i[T][0]===m){R=T;break}if(R===-1)i.push([m,..._]);else if(_.length>0){let[b,...U]=_;const B=i[R][1];Vm(B)&&Vm(b)&&(b=Jp(!0,B,b)),i[R]=[m,b,...U]}}}}const uL=new iy().freeze();function rm(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function im(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function sm(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function IT(n){if(!Vm(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function CT(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function yh(n){return cL(n)?n:new r1(n)}function cL(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function hL(n){return typeof n=="string"||fL(n)}function fL(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const dL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kT=[],DT={allowDangerousHtml:!0},pL=/^(https?|ircs?|mailto|xmpp)$/i,mL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gL(n){const t=yL(n),e=_L(n);return vL(t.runSync(t.parse(e),e),n)}function yL(n){const t=n.rehypePlugins||kT,e=n.remarkPlugins||kT,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...DT}:DT;return uL().use(XU).use(e).use(GP,i).use(t)}function _L(n){const t=n.children||"",e=new r1;return typeof t=="string"&&(e.value=t),e}function vL(n,t){const e=t.allowedElements,i=t.allowElement,a=t.components,l=t.disallowedElements,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||EL;for(const _ of mL)Object.hasOwn(t,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+dL+_.id,void 0);return n1(n,m),IM(n,{Fragment:ot.Fragment,components:a,ignoreInvalidStyle:!0,jsx:ot.jsx,jsxs:ot.jsxs,passKeys:!0,passNode:!0});function m(_,T,R){if(_.type==="raw"&&R&&typeof T=="number")return c?R.children.splice(T,1):R.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let b;for(b in $p)if(Object.hasOwn($p,b)&&Object.hasOwn(_.properties,b)){const U=_.properties[b],B=$p[b];(B===null||B.includes(_.tagName))&&(_.properties[b]=p(String(U||""),b,_))}}if(_.type==="element"){let b=e?!e.includes(_.tagName):l?l.includes(_.tagName):!1;if(!b&&i&&typeof T=="number"&&(b=!i(_,T,R)),b&&R&&typeof T=="number")return f&&_.children?R.children.splice(T,1,..._.children):R.children.splice(T,1),T}}}function EL(n){const t=n.indexOf(":"),e=n.indexOf("?"),i=n.indexOf("#"),a=n.indexOf("/");return t===-1||a!==-1&&t>a||e!==-1&&t>e||i!==-1&&t>i||pL.test(n.slice(0,t))?n:""}function TL({title:n,titleId:t,...e},i){return Rt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?Rt.createElement("title",{id:t},n):null,Rt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const wL=Rt.forwardRef(TL);function bL({title:n,titleId:t,...e},i){return Rt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?Rt.createElement("title",{id:t},n):null,Rt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const SL=Rt.forwardRef(bL);function AL({title:n,titleId:t,...e},i){return Rt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?Rt.createElement("title",{id:t},n):null,Rt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const RL=Rt.forwardRef(AL);function xL({title:n,titleId:t,...e},i){return Rt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?Rt.createElement("title",{id:t},n):null,Rt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const IL=Rt.forwardRef(xL);function CL({title:n,titleId:t,...e},i){return Rt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?Rt.createElement("title",{id:t},n):null,Rt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const kL=Rt.forwardRef(CL);function DL({enemy:n,onClose:t}){const[e,i]=Rt.useState(n.name),[a,l]=Rt.useState(n.customDescription),[c,f]=Rt.useState(null),[p,m]=Rt.useState(null),[_,T]=Rt.useState(n.imageURL||""),[R,b]=Rt.useState(n.imageURL2||""),[U,B]=Rt.useState(0),[q,K]=Rt.useState(0),tt=async(ht,ct,W)=>{if(!ht)return;const z=qb(TS,`enemies/${n.authorUid}/${ht.name}`),O=Fb(z,ht);O.on("state_changed",k=>{const P=k.bytesTransferred/k.totalBytes*100;W(P)},k=>{console.error("Ошибка загрузки:",k)},async()=>{const k=await jb(O.snapshot.ref);ct(k)})},J=async ht=>{ht.preventDefault();const ct={name:e,customDescription:a,imageURL:_,imageURL2:R},W=bu(Ia,"eotv-enemies",n.id);await Uk(W,ct),t()};return ot.jsxs("div",{className:"edit-modal",children:[ot.jsx("h3",{children:"Редактирование противника"}),ot.jsxs("form",{onSubmit:J,children:[ot.jsx("input",{type:"text",value:e,onChange:ht=>i(ht.target.value),required:!0}),ot.jsx("textarea",{value:a,onChange:ht=>l(ht.target.value)}),ot.jsx("input",{type:"file",onChange:ht=>f(ht.target.files[0])}),ot.jsx("button",{type:"button",onClick:()=>tt(c,T,B),disabled:!c,children:"Обновить основное изображение"}),U>0&&ot.jsxs("p",{children:["Прогресс загрузки: ",U.toFixed(2),"%"]}),_&&ot.jsx("img",{src:_,alt:"Обновленное изображение",width:100}),ot.jsx("input",{type:"file",onChange:ht=>m(ht.target.files[0])}),ot.jsx("button",{type:"button",onClick:()=>tt(p,b,K),disabled:!p,children:"Обновить доп. изображение"}),q>0&&ot.jsxs("p",{children:["Прогресс загрузки: ",q.toFixed(2),"%"]}),R&&ot.jsx("img",{src:R,alt:"Обновленное изображение 2",width:100}),ot.jsx("button",{type:"submit",children:"Сохранить"}),ot.jsx("button",{type:"button",onClick:t,children:"Отмена"})]})]})}function NL({index:n,isSelected:t,enemy:e,author:i,onClick:a,onPrev:l,onNext:c,close:f,onDelete:p}){const m=Ta.currentUser,_=Rt.useRef(null),[T,R]=Rt.useState(!1);return Rt.useEffect(()=>{const b=U=>{_.current===U.target&&(f(),R(!1))};return t?document.addEventListener("mousedown",b):document.removeEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[t]),ot.jsx("div",{ref:_,className:`bg-gray-800 text-white shadow-lg cursor-pointer  overflow-hidden 
        ${t?"fixed z-50 inset-0 p-5 bg-black flex justify-center items-center":"relative w-40 h-56 aspect-[2/3] hover:scale-110 flex flex-col rounded-xl transition-all duration-300 ease-in-out"}
        `,onClick:()=>!t&&a(n),children:t?T?ot.jsx(DL,{enemy:e,onClose:()=>R(!1)}):ot.jsx(ot.Fragment,{children:ot.jsxs("div",{className:"relative bg-gray-900 rounded-2xl w-full flex shadow-lg h-full max-w-7xl overflow-hidden",children:[ot.jsx("img",{src:e.imageURL,alt:e.name,className:"w-3/14 object-cover"}),ot.jsxs("div",{className:"w-4/7 flex flex-col px-6 overflow-y-auto",children:[ot.jsx("h2",{className:"text-2xl font-bold text-center p-6 pt-10",children:e.name}),ot.jsx(gL,{components:{p:({node:b,...U})=>ot.jsx("p",{className:"text-gray-300 text-sm mt-2",...U}),strong:({node:b,...U})=>ot.jsx("strong",{className:"text-white font-bold",...U}),em:({node:b,...U})=>ot.jsx("em",{className:"italic text-gray-400",...U}),ul:({node:b,...U})=>ot.jsx("ul",{className:"list-disc list-inside text-gray-300 mt-2",...U}),li:({node:b,...U})=>ot.jsx("li",{className:"ml-4",...U})},children:e.customDescription})]}),e.imageURL2&&ot.jsx("img",{src:e.imageURL2,alt:"Extra",className:"w-3/14 object-cover"}),ot.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:ot.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((b,U)=>ot.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:b},U))})}),ot.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[ot.jsx("span",{className:"text-sm",children:(i==null?void 0:i.displayName)||"Unknown"}),ot.jsx("img",{src:i==null?void 0:i.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-500"})]}),ot.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer drop-shadow-xl",children:ot.jsx(kL,{className:"w-6 h-6"})}),m&&m.uid===e.authorUid&&ot.jsxs("div",{className:"absolute top-2 right-10 flex gap-2",children:[ot.jsx("button",{onClick:()=>R(!0),className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:ot.jsx(RL,{className:"w-6 h-6"})}),ot.jsx("button",{onClick:p,className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:ot.jsx(IL,{className:"w-6 h-6"})})]}),ot.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:l,children:ot.jsx(wL,{className:"w-5 h-5 text-white"})}),ot.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:c,children:ot.jsx(SL,{className:"w-5 h-5 text-white"})})]})}):ot.jsxs(ot.Fragment,{children:[ot.jsx("img",{src:e.imageURL,alt:e.name,className:"w-full h-32 object-cover"}),ot.jsxs("div",{className:"p-2 flex flex-col",children:[ot.jsx("p",{className:"text-sm text-center font-bold",children:e.name}),ot.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:ot.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((b,U)=>ot.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:b},U))})}),ot.jsx("div",{className:"absolute items-center gap-2 mt-1 right-4 bottom-4",children:ot.jsx("img",{src:i==null?void 0:i.photoURL,alt:"Avatar",className:"w-6 h-6 rounded-full",title:(i==null?void 0:i.displayName)||"Unknown"})})]}),e.imageURL2&&ot.jsx("img",{src:e.imageURL2,alt:"Extra",className:"hidden"})]})},e.id)}function OL(){const[n,t]=Rt.useState([]),[e,i]=Rt.useState({}),[a,l]=Rt.useState(null),[c,f]=Rt.useState(null);Rt.useEffect(()=>{const R=vb(Hg,async U=>{const B=U.docs.map(tt=>({id:tt.id,...tt.data()}));t(B);const q=[...new Set(B.map(tt=>tt.authorUid))],K={};for(const tt of q){const J=bu(Ia,"users",tt),ht=await Nk(J);ht.exists()&&(K[tt]=ht.data())}i(K)}),b=bf(Ta,U=>{l(U)});return()=>{R(),b()}},[]);const p=async R=>{a&&window.confirm("Удалить этого противника?")&&await Pk(bu(Ia,"eotv-enemies",R))},m=()=>{f(R=>R===n.length-1?0:R+1)},_=()=>{f(R=>R===0?n.length-1:R-1)},T=()=>{f(null)};return ot.jsxs("div",{className:"flex flex-wrap gap-4 justify-center relative",children:[a&&ot.jsx(tM,{}),n.map((R,b)=>ot.jsx(NL,{index:b,isSelected:c===b,enemy:R,author:e[R.authorUid],onClick:f,onPrev:_,onNext:m,close:T,onDelete:()=>p(R.id)},R.id))]})}const ML=mf(Ia,"users");function UL(){const[n,t]=Rt.useState(null);Rt.useEffect(()=>{const a=bf(Ta,async l=>{if(t(l),l){const c=bu(ML,l.uid);await Mk(c,{displayName:l.displayName||"Unknown",photoURL:l.photoURL||""},{merge:!0})}});return()=>a()},[]);const e=async()=>{const a=new Qr;await iO(Ta,a)},i=async()=>{await VN(Ta)};return ot.jsx("div",{className:"flex items-center gap-4",children:n?ot.jsxs(ot.Fragment,{children:[ot.jsx("img",{src:n.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",className:"w-10 h-10 rounded-full border border-gray-600 shadow"}),ot.jsx("button",{onClick:i,className:"text-sm text-red-500 hover:text-red-400 transition",children:"Выйти"})]}):ot.jsx("button",{onClick:e,className:"px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded hover:bg-opacity-80 transition",children:"Войти"})})}function PL(){return ot.jsx("header",{className:"text-sky-300",children:ot.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:ot.jsxs("div",{className:"flex h-16 items-center justify-between",children:[ot.jsxs("div",{className:"flex items-center gap-2",children:[ot.jsx("img",{src:"./logo.png",alt:"d320",className:"w-10 h-10"}),ot.jsx("h1",{className:"text-2xl font-bold text-sky-300",children:"d320"})]}),ot.jsx(UL,{})]})})})}function LL(){const[n,t]=Rt.useState([]),[e,i]=Rt.useState(null);return Rt.useEffect(()=>{const a=vb(Hg,c=>{const f=c.docs.map(p=>({id:p.id,...p.data()}));t(f)}),l=bf(Ta,c=>{i(c)});return()=>{a(),l()}},[]),ot.jsxs("div",{className:"bg-slate-900 text-sky-200 min-h-screen",children:[ot.jsx(PL,{}),ot.jsxs("main",{className:"p-6 max-w-screen-xl mx-auto",children:[ot.jsx("h2",{className:"text-3xl font-bold text-center",children:"Каталог протвиников для игры Грань Вселенной"}),ot.jsxs("p",{className:"text-center text-gray-400 p-4",children:["Официальный сайт игры: ",ot.jsx("a",{className:"link",href:"http://eotvrpg.ru/",target:"_blank",children:"http://eotvrpg.ru/"})]}),ot.jsx(OL,{enemies:n})]})]})}const VL=KA.createRoot(document.getElementById("root"));VL.render(ot.jsx(VA.StrictMode,{children:ot.jsx(LL,{})}));
