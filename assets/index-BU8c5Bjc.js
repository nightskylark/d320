(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Su(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={},$l={},o0;function xA(){if(o0)return $l;o0=1,$l.byteLength=f,$l.toByteArray=m,$l.fromByteArray=R;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)e[a]=i[a],t[i.charCodeAt(a)]=a;t[45]=62,t[95]=63;function c(S){var U=S.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=S.indexOf("=");B===-1&&(B=U);var q=B===U?0:4-B%4;return[B,q]}function f(S){var U=c(S),B=U[0],q=U[1];return(B+q)*3/4-q}function p(S,U,B){return(U+B)*3/4-B}function m(S){var U,B=c(S),q=B[0],K=B[1],rt=new n(p(S,q,K)),et=0,mt=K>0?q-4:q,ft;for(ft=0;ft<mt;ft+=4)U=t[S.charCodeAt(ft)]<<18|t[S.charCodeAt(ft+1)]<<12|t[S.charCodeAt(ft+2)]<<6|t[S.charCodeAt(ft+3)],rt[et++]=U>>16&255,rt[et++]=U>>8&255,rt[et++]=U&255;return K===2&&(U=t[S.charCodeAt(ft)]<<2|t[S.charCodeAt(ft+1)]>>4,rt[et++]=U&255),K===1&&(U=t[S.charCodeAt(ft)]<<10|t[S.charCodeAt(ft+1)]<<4|t[S.charCodeAt(ft+2)]>>2,rt[et++]=U>>8&255,rt[et++]=U&255),rt}function _(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function T(S,U,B){for(var q,K=[],rt=U;rt<B;rt+=3)q=(S[rt]<<16&16711680)+(S[rt+1]<<8&65280)+(S[rt+2]&255),K.push(_(q));return K.join("")}function R(S){for(var U,B=S.length,q=B%3,K=[],rt=16383,et=0,mt=B-q;et<mt;et+=rt)K.push(T(S,et,et+rt>mt?mt:et+rt));return q===1?(U=S[B-1],K.push(e[U>>2]+e[U<<4&63]+"==")):q===2&&(U=(S[B-2]<<8)+S[B-1],K.push(e[U>>10]+e[U>>4&63]+e[U<<2&63]+"=")),K.join("")}return $l}var ah={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var l0;function IA(){return l0||(l0=1,ah.read=function(e,t,n,i,a){var l,c,f=a*8-i-1,p=(1<<f)-1,m=p>>1,_=-7,T=n?a-1:0,R=n?-1:1,S=e[t+T];for(T+=R,l=S&(1<<-_)-1,S>>=-_,_+=f;_>0;l=l*256+e[t+T],T+=R,_-=8);for(c=l&(1<<-_)-1,l>>=-_,_+=i;_>0;c=c*256+e[t+T],T+=R,_-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-m}return(S?-1:1)*c*Math.pow(2,l-i)},ah.write=function(e,t,n,i,a,l){var c,f,p,m=l*8-a-1,_=(1<<m)-1,T=_>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:l-1,U=i?1:-1,B=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,c=_):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+T>=1?t+=R/p:t+=R*Math.pow(2,1-T),t*p>=2&&(c++,p/=2),c+T>=_?(f=0,c=_):c+T>=1?(f=(t*p-1)*Math.pow(2,a),c=c+T):(f=t*Math.pow(2,T-1)*Math.pow(2,a),c=0));a>=8;e[n+S]=f&255,S+=U,f/=256,a-=8);for(c=c<<a|f,m+=a;m>0;e[n+S]=c&255,S+=U,c/=256,m-=8);e[n+S-U]|=B*128}),ah}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var u0;function CA(){return u0||(u0=1,function(e){const t=xA(),n=IA(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=rt,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(A,y),A.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(A){if(A>a)throw new RangeError('The value "'+A+'" is invalid for option "size"');const y=new Uint8Array(A);return Object.setPrototypeOf(y,f.prototype),y}function f(A,y,E){if(typeof A=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(A)}return p(A,y,E)}f.poolSize=8192;function p(A,y,E){if(typeof A=="string")return R(A,y);if(ArrayBuffer.isView(A))return U(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pn(A,ArrayBuffer)||A&&pn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(A,SharedArrayBuffer)||A&&pn(A.buffer,SharedArrayBuffer)))return B(A,y,E);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=A.valueOf&&A.valueOf();if(k!=null&&k!==A)return f.from(k,y,E);const j=q(A);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return f.from(A[Symbol.toPrimitive]("string"),y,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}f.from=function(A,y,E){return p(A,y,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function _(A,y,E){return m(A),A<=0?c(A):y!==void 0?typeof E=="string"?c(A).fill(y,E):c(A).fill(y):c(A)}f.alloc=function(A,y,E){return _(A,y,E)};function T(A){return m(A),c(A<0?0:K(A)|0)}f.allocUnsafe=function(A){return T(A)},f.allocUnsafeSlow=function(A){return T(A)};function R(A,y){if((typeof y!="string"||y==="")&&(y="utf8"),!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const E=et(A,y)|0;let k=c(E);const j=k.write(A,y);return j!==E&&(k=k.slice(0,j)),k}function S(A){const y=A.length<0?0:K(A.length)|0,E=c(y);for(let k=0;k<y;k+=1)E[k]=A[k]&255;return E}function U(A){if(pn(A,Uint8Array)){const y=new Uint8Array(A);return B(y.buffer,y.byteOffset,y.byteLength)}return S(A)}function B(A,y,E){if(y<0||A.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<y+(E||0))throw new RangeError('"length" is outside of buffer bounds');let k;return y===void 0&&E===void 0?k=new Uint8Array(A):E===void 0?k=new Uint8Array(A,y):k=new Uint8Array(A,y,E),Object.setPrototypeOf(k,f.prototype),k}function q(A){if(f.isBuffer(A)){const y=K(A.length)|0,E=c(y);return E.length===0||A.copy(E,0,0,y),E}if(A.length!==void 0)return typeof A.length!="number"||Tr(A.length)?c(0):S(A);if(A.type==="Buffer"&&Array.isArray(A.data))return S(A.data)}function K(A){if(A>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return A|0}function rt(A){return+A!=A&&(A=0),f.alloc(+A)}f.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==f.prototype},f.compare=function(y,E){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),pn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(y)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===E)return 0;let k=y.length,j=E.length;for(let $=0,nt=Math.min(k,j);$<nt;++$)if(y[$]!==E[$]){k=y[$],j=E[$];break}return k<j?-1:j<k?1:0},f.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(y,E){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return f.alloc(0);let k;if(E===void 0)for(E=0,k=0;k<y.length;++k)E+=y[k].length;const j=f.allocUnsafe(E);let $=0;for(k=0;k<y.length;++k){let nt=y[k];if(pn(nt,Uint8Array))$+nt.length>j.length?(f.isBuffer(nt)||(nt=f.from(nt)),nt.copy(j,$)):Uint8Array.prototype.set.call(j,nt,$);else if(f.isBuffer(nt))nt.copy(j,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=nt.length}return j};function et(A,y){if(f.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&E===0)return 0;let j=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return tr(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Fn(A).length;default:if(j)return k?-1:tr(A).length;y=(""+y).toLowerCase(),j=!0}}f.byteLength=et;function mt(A,y,E){let k=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,y>>>=0,E<=y))return"";for(A||(A="utf8");;)switch(A){case"hex":return Ht(this,y,E);case"utf8":case"utf-8":return vt(this,y,E);case"ascii":return Tt(this,y,E);case"latin1":case"binary":return wt(this,y,E);case"base64":return N(this,y,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,y,E);default:if(k)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),k=!0}}f.prototype._isBuffer=!0;function ft(A,y,E){const k=A[y];A[y]=A[E],A[E]=k}f.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<y;E+=2)ft(this,E,E+1);return this},f.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<y;E+=4)ft(this,E,E+3),ft(this,E+1,E+2);return this},f.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<y;E+=8)ft(this,E,E+7),ft(this,E+1,E+6),ft(this,E+2,E+5),ft(this,E+3,E+4);return this},f.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?vt(this,0,y):mt.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(y){if(!f.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:f.compare(this,y)===0},f.prototype.inspect=function(){let y="";const E=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(y+=" ... "),"<Buffer "+y+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(y,E,k,j,$){if(pn(y,Uint8Array)&&(y=f.from(y,y.offset,y.byteLength)),!f.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(E===void 0&&(E=0),k===void 0&&(k=y?y.length:0),j===void 0&&(j=0),$===void 0&&($=this.length),E<0||k>y.length||j<0||$>this.length)throw new RangeError("out of range index");if(j>=$&&E>=k)return 0;if(j>=$)return-1;if(E>=k)return 1;if(E>>>=0,k>>>=0,j>>>=0,$>>>=0,this===y)return 0;let nt=$-j,xt=k-E;const ee=Math.min(nt,xt),Mt=this.slice(j,$),Bt=y.slice(E,k);for(let qt=0;qt<ee;++qt)if(Mt[qt]!==Bt[qt]){nt=Mt[qt],xt=Bt[qt];break}return nt<xt?-1:xt<nt?1:0};function Z(A,y,E,k,j){if(A.length===0)return-1;if(typeof E=="string"?(k=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Tr(E)&&(E=j?0:A.length-1),E<0&&(E=A.length+E),E>=A.length){if(j)return-1;E=A.length-1}else if(E<0)if(j)E=0;else return-1;if(typeof y=="string"&&(y=f.from(y,k)),f.isBuffer(y))return y.length===0?-1:z(A,y,E,k,j);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(A,y,E):Uint8Array.prototype.lastIndexOf.call(A,y,E):z(A,[y],E,k,j);throw new TypeError("val must be string, number or Buffer")}function z(A,y,E,k,j){let $=1,nt=A.length,xt=y.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(A.length<2||y.length<2)return-1;$=2,nt/=2,xt/=2,E/=2}function ee(Bt,qt){return $===1?Bt[qt]:Bt.readUInt16BE(qt*$)}let Mt;if(j){let Bt=-1;for(Mt=E;Mt<nt;Mt++)if(ee(A,Mt)===ee(y,Bt===-1?0:Mt-Bt)){if(Bt===-1&&(Bt=Mt),Mt-Bt+1===xt)return Bt*$}else Bt!==-1&&(Mt-=Mt-Bt),Bt=-1}else for(E+xt>nt&&(E=nt-xt),Mt=E;Mt>=0;Mt--){let Bt=!0;for(let qt=0;qt<xt;qt++)if(ee(A,Mt+qt)!==ee(y,qt)){Bt=!1;break}if(Bt)return Mt}return-1}f.prototype.includes=function(y,E,k){return this.indexOf(y,E,k)!==-1},f.prototype.indexOf=function(y,E,k){return Z(this,y,E,k,!0)},f.prototype.lastIndexOf=function(y,E,k){return Z(this,y,E,k,!1)};function M(A,y,E,k){E=Number(E)||0;const j=A.length-E;k?(k=Number(k),k>j&&(k=j)):k=j;const $=y.length;k>$/2&&(k=$/2);let nt;for(nt=0;nt<k;++nt){const xt=parseInt(y.substr(nt*2,2),16);if(Tr(xt))return nt;A[E+nt]=xt}return nt}function D(A,y,E,k){return jn(tr(y,A.length-E),A,E,k)}function P(A,y,E,k){return jn(Cr(y),A,E,k)}function V(A,y,E,k){return jn(Fn(y),A,E,k)}function F(A,y,E,k){return jn(Er(y,A.length-E),A,E,k)}f.prototype.write=function(y,E,k,j){if(E===void 0)j="utf8",k=this.length,E=0;else if(k===void 0&&typeof E=="string")j=E,k=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(k)?(k=k>>>0,j===void 0&&(j="utf8")):(j=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-E;if((k===void 0||k>$)&&(k=$),y.length>0&&(k<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let nt=!1;for(;;)switch(j){case"hex":return M(this,y,E,k);case"utf8":case"utf-8":return D(this,y,E,k);case"ascii":case"latin1":case"binary":return P(this,y,E,k);case"base64":return V(this,y,E,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,y,E,k);default:if(nt)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),nt=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(A,y,E){return y===0&&E===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(y,E))}function vt(A,y,E){E=Math.min(A.length,E);const k=[];let j=y;for(;j<E;){const $=A[j];let nt=null,xt=$>239?4:$>223?3:$>191?2:1;if(j+xt<=E){let ee,Mt,Bt,qt;switch(xt){case 1:$<128&&(nt=$);break;case 2:ee=A[j+1],(ee&192)===128&&(qt=($&31)<<6|ee&63,qt>127&&(nt=qt));break;case 3:ee=A[j+1],Mt=A[j+2],(ee&192)===128&&(Mt&192)===128&&(qt=($&15)<<12|(ee&63)<<6|Mt&63,qt>2047&&(qt<55296||qt>57343)&&(nt=qt));break;case 4:ee=A[j+1],Mt=A[j+2],Bt=A[j+3],(ee&192)===128&&(Mt&192)===128&&(Bt&192)===128&&(qt=($&15)<<18|(ee&63)<<12|(Mt&63)<<6|Bt&63,qt>65535&&qt<1114112&&(nt=qt))}}nt===null?(nt=65533,xt=1):nt>65535&&(nt-=65536,k.push(nt>>>10&1023|55296),nt=56320|nt&1023),k.push(nt),j+=xt}return dt(k)}const Et=4096;function dt(A){const y=A.length;if(y<=Et)return String.fromCharCode.apply(String,A);let E="",k=0;for(;k<y;)E+=String.fromCharCode.apply(String,A.slice(k,k+=Et));return E}function Tt(A,y,E){let k="";E=Math.min(A.length,E);for(let j=y;j<E;++j)k+=String.fromCharCode(A[j]&127);return k}function wt(A,y,E){let k="";E=Math.min(A.length,E);for(let j=y;j<E;++j)k+=String.fromCharCode(A[j]);return k}function Ht(A,y,E){const k=A.length;(!y||y<0)&&(y=0),(!E||E<0||E>k)&&(E=k);let j="";for(let $=y;$<E;++$)j+=We[A[$]];return j}function x(A,y,E){const k=A.slice(y,E);let j="";for(let $=0;$<k.length-1;$+=2)j+=String.fromCharCode(k[$]+k[$+1]*256);return j}f.prototype.slice=function(y,E){const k=this.length;y=~~y,E=E===void 0?k:~~E,y<0?(y+=k,y<0&&(y=0)):y>k&&(y=k),E<0?(E+=k,E<0&&(E=0)):E>k&&(E=k),E<y&&(E=y);const j=this.subarray(y,E);return Object.setPrototypeOf(j,f.prototype),j};function it(A,y,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+y>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(y,E,k){y=y>>>0,E=E>>>0,k||it(y,E,this.length);let j=this[y],$=1,nt=0;for(;++nt<E&&($*=256);)j+=this[y+nt]*$;return j},f.prototype.readUintBE=f.prototype.readUIntBE=function(y,E,k){y=y>>>0,E=E>>>0,k||it(y,E,this.length);let j=this[y+--E],$=1;for(;E>0&&($*=256);)j+=this[y+--E]*$;return j},f.prototype.readUint8=f.prototype.readUInt8=function(y,E){return y=y>>>0,E||it(y,1,this.length),this[y]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(y,E){return y=y>>>0,E||it(y,2,this.length),this[y]|this[y+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(y,E){return y=y>>>0,E||it(y,2,this.length),this[y]<<8|this[y+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(y,E){return y=y>>>0,E||it(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(y,E){return y=y>>>0,E||it(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},f.prototype.readBigUInt64LE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],k=this[y+7];(E===void 0||k===void 0)&&dn(y,this.length-8);const j=E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,$=this[++y]+this[++y]*2**8+this[++y]*2**16+k*2**24;return BigInt(j)+(BigInt($)<<BigInt(32))}),f.prototype.readBigUInt64BE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],k=this[y+7];(E===void 0||k===void 0)&&dn(y,this.length-8);const j=E*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],$=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+k;return(BigInt(j)<<BigInt(32))+BigInt($)}),f.prototype.readIntLE=function(y,E,k){y=y>>>0,E=E>>>0,k||it(y,E,this.length);let j=this[y],$=1,nt=0;for(;++nt<E&&($*=256);)j+=this[y+nt]*$;return $*=128,j>=$&&(j-=Math.pow(2,8*E)),j},f.prototype.readIntBE=function(y,E,k){y=y>>>0,E=E>>>0,k||it(y,E,this.length);let j=E,$=1,nt=this[y+--j];for(;j>0&&($*=256);)nt+=this[y+--j]*$;return $*=128,nt>=$&&(nt-=Math.pow(2,8*E)),nt},f.prototype.readInt8=function(y,E){return y=y>>>0,E||it(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},f.prototype.readInt16LE=function(y,E){y=y>>>0,E||it(y,2,this.length);const k=this[y]|this[y+1]<<8;return k&32768?k|4294901760:k},f.prototype.readInt16BE=function(y,E){y=y>>>0,E||it(y,2,this.length);const k=this[y+1]|this[y]<<8;return k&32768?k|4294901760:k},f.prototype.readInt32LE=function(y,E){return y=y>>>0,E||it(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},f.prototype.readInt32BE=function(y,E){return y=y>>>0,E||it(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},f.prototype.readBigInt64LE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],k=this[y+7];(E===void 0||k===void 0)&&dn(y,this.length-8);const j=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(k<<24);return(BigInt(j)<<BigInt(32))+BigInt(E+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),f.prototype.readBigInt64BE=wn(function(y){y=y>>>0,Oe(y,"offset");const E=this[y],k=this[y+7];(E===void 0||k===void 0)&&dn(y,this.length-8);const j=(E<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(j)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+k)}),f.prototype.readFloatLE=function(y,E){return y=y>>>0,E||it(y,4,this.length),n.read(this,y,!0,23,4)},f.prototype.readFloatBE=function(y,E){return y=y>>>0,E||it(y,4,this.length),n.read(this,y,!1,23,4)},f.prototype.readDoubleLE=function(y,E){return y=y>>>0,E||it(y,8,this.length),n.read(this,y,!0,52,8)},f.prototype.readDoubleBE=function(y,E){return y=y>>>0,E||it(y,8,this.length),n.read(this,y,!1,52,8)};function yt(A,y,E,k,j,$){if(!f.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>j||y<$)throw new RangeError('"value" argument is out of bounds');if(E+k>A.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(y,E,k,j){if(y=+y,E=E>>>0,k=k>>>0,!j){const xt=Math.pow(2,8*k)-1;yt(this,y,E,k,xt,0)}let $=1,nt=0;for(this[E]=y&255;++nt<k&&($*=256);)this[E+nt]=y/$&255;return E+k},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(y,E,k,j){if(y=+y,E=E>>>0,k=k>>>0,!j){const xt=Math.pow(2,8*k)-1;yt(this,y,E,k,xt,0)}let $=k-1,nt=1;for(this[E+$]=y&255;--$>=0&&(nt*=256);)this[E+$]=y/nt&255;return E+k},f.prototype.writeUint8=f.prototype.writeUInt8=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,1,255,0),this[E]=y&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,2,65535,0),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,2,65535,0),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,4,4294967295,0),this[E+3]=y>>>24,this[E+2]=y>>>16,this[E+1]=y>>>8,this[E]=y&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,4,4294967295,0),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4};function O(A,y,E,k,j){Cn(y,k,j,A,E,7);let $=Number(y&BigInt(4294967295));A[E++]=$,$=$>>8,A[E++]=$,$=$>>8,A[E++]=$,$=$>>8,A[E++]=$;let nt=Number(y>>BigInt(32)&BigInt(4294967295));return A[E++]=nt,nt=nt>>8,A[E++]=nt,nt=nt>>8,A[E++]=nt,nt=nt>>8,A[E++]=nt,E}function _t(A,y,E,k,j){Cn(y,k,j,A,E,7);let $=Number(y&BigInt(4294967295));A[E+7]=$,$=$>>8,A[E+6]=$,$=$>>8,A[E+5]=$,$=$>>8,A[E+4]=$;let nt=Number(y>>BigInt(32)&BigInt(4294967295));return A[E+3]=nt,nt=nt>>8,A[E+2]=nt,nt=nt>>8,A[E+1]=nt,nt=nt>>8,A[E]=nt,E+8}f.prototype.writeBigUInt64LE=wn(function(y,E=0){return O(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=wn(function(y,E=0){return _t(this,y,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(y,E,k,j){if(y=+y,E=E>>>0,!j){const ee=Math.pow(2,8*k-1);yt(this,y,E,k,ee-1,-ee)}let $=0,nt=1,xt=0;for(this[E]=y&255;++$<k&&(nt*=256);)y<0&&xt===0&&this[E+$-1]!==0&&(xt=1),this[E+$]=(y/nt>>0)-xt&255;return E+k},f.prototype.writeIntBE=function(y,E,k,j){if(y=+y,E=E>>>0,!j){const ee=Math.pow(2,8*k-1);yt(this,y,E,k,ee-1,-ee)}let $=k-1,nt=1,xt=0;for(this[E+$]=y&255;--$>=0&&(nt*=256);)y<0&&xt===0&&this[E+$+1]!==0&&(xt=1),this[E+$]=(y/nt>>0)-xt&255;return E+k},f.prototype.writeInt8=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,1,127,-128),y<0&&(y=255+y+1),this[E]=y&255,E+1},f.prototype.writeInt16LE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,2,32767,-32768),this[E]=y&255,this[E+1]=y>>>8,E+2},f.prototype.writeInt16BE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,2,32767,-32768),this[E]=y>>>8,this[E+1]=y&255,E+2},f.prototype.writeInt32LE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,4,2147483647,-2147483648),this[E]=y&255,this[E+1]=y>>>8,this[E+2]=y>>>16,this[E+3]=y>>>24,E+4},f.prototype.writeInt32BE=function(y,E,k){return y=+y,E=E>>>0,k||yt(this,y,E,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[E]=y>>>24,this[E+1]=y>>>16,this[E+2]=y>>>8,this[E+3]=y&255,E+4},f.prototype.writeBigInt64LE=wn(function(y,E=0){return O(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=wn(function(y,E=0){return _t(this,y,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nt(A,y,E,k,j,$){if(E+k>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Rt(A,y,E,k,j){return y=+y,E=E>>>0,j||Nt(A,y,E,4),n.write(A,y,E,k,23,4),E+4}f.prototype.writeFloatLE=function(y,E,k){return Rt(this,y,E,!0,k)},f.prototype.writeFloatBE=function(y,E,k){return Rt(this,y,E,!1,k)};function de(A,y,E,k,j){return y=+y,E=E>>>0,j||Nt(A,y,E,8),n.write(A,y,E,k,52,8),E+8}f.prototype.writeDoubleLE=function(y,E,k){return de(this,y,E,!0,k)},f.prototype.writeDoubleBE=function(y,E,k){return de(this,y,E,!1,k)},f.prototype.copy=function(y,E,k,j){if(!f.isBuffer(y))throw new TypeError("argument should be a Buffer");if(k||(k=0),!j&&j!==0&&(j=this.length),E>=y.length&&(E=y.length),E||(E=0),j>0&&j<k&&(j=k),j===k||y.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),y.length-E<j-k&&(j=y.length-E+k);const $=j-k;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,k,j):Uint8Array.prototype.set.call(y,this.subarray(k,j),E),$},f.prototype.fill=function(y,E,k,j){if(typeof y=="string"){if(typeof E=="string"?(j=E,E=0,k=this.length):typeof k=="string"&&(j=k,k=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!f.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(y.length===1){const nt=y.charCodeAt(0);(j==="utf8"&&nt<128||j==="latin1")&&(y=nt)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(E<0||this.length<E||this.length<k)throw new RangeError("Out of range index");if(k<=E)return this;E=E>>>0,k=k===void 0?this.length:k>>>0,y||(y=0);let $;if(typeof y=="number")for($=E;$<k;++$)this[$]=y;else{const nt=f.isBuffer(y)?y:f.from(y,j),xt=nt.length;if(xt===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for($=0;$<k-E;++$)this[$+E]=nt[$%xt]}return this};const Ut={};function ae(A,y,E){Ut[A]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(A,y){return`The "${A}" argument must be of type number. Received type ${typeof y}`},TypeError),ae("ERR_OUT_OF_RANGE",function(A,y,E){let k=`The value of "${A}" is out of range.`,j=E;return Number.isInteger(E)&&Math.abs(E)>2**32?j=Qt(String(E)):typeof E=="bigint"&&(j=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(j=Qt(j)),j+="n"),k+=` It must be ${y}. Received ${j}`,k},RangeError);function Qt(A){let y="",E=A.length;const k=A[0]==="-"?1:0;for(;E>=k+4;E-=3)y=`_${A.slice(E-3,E)}${y}`;return`${A.slice(0,E)}${y}`}function Ie(A,y,E){Oe(y,"offset"),(A[y]===void 0||A[y+E]===void 0)&&dn(y,A.length-(E+1))}function Cn(A,y,E,k,j,$){if(A>E||A<y){const nt=typeof y=="bigint"?"n":"";let xt;throw y===0||y===BigInt(0)?xt=`>= 0${nt} and < 2${nt} ** ${($+1)*8}${nt}`:xt=`>= -(2${nt} ** ${($+1)*8-1}${nt}) and < 2 ** ${($+1)*8-1}${nt}`,new Ut.ERR_OUT_OF_RANGE("value",xt,A)}Ie(k,j,$)}function Oe(A,y){if(typeof A!="number")throw new Ut.ERR_INVALID_ARG_TYPE(y,"number",A)}function dn(A,y,E){throw Math.floor(A)!==A?(Oe(A,E),new Ut.ERR_OUT_OF_RANGE("offset","an integer",A)):y<0?new Ut.ERR_BUFFER_OUT_OF_BOUNDS:new Ut.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${y}`,A)}const zn=/[^+/0-9A-Za-z-_]/g;function kn(A){if(A=A.split("=")[0],A=A.trim().replace(zn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function tr(A,y){y=y||1/0;let E;const k=A.length;let j=null;const $=[];for(let nt=0;nt<k;++nt){if(E=A.charCodeAt(nt),E>55295&&E<57344){if(!j){if(E>56319){(y-=3)>-1&&$.push(239,191,189);continue}else if(nt+1===k){(y-=3)>-1&&$.push(239,191,189);continue}j=E;continue}if(E<56320){(y-=3)>-1&&$.push(239,191,189),j=E;continue}E=(j-55296<<10|E-56320)+65536}else j&&(y-=3)>-1&&$.push(239,191,189);if(j=null,E<128){if((y-=1)<0)break;$.push(E)}else if(E<2048){if((y-=2)<0)break;$.push(E>>6|192,E&63|128)}else if(E<65536){if((y-=3)<0)break;$.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((y-=4)<0)break;$.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return $}function Cr(A){const y=[];for(let E=0;E<A.length;++E)y.push(A.charCodeAt(E)&255);return y}function Er(A,y){let E,k,j;const $=[];for(let nt=0;nt<A.length&&!((y-=2)<0);++nt)E=A.charCodeAt(nt),k=E>>8,j=E%256,$.push(j),$.push(k);return $}function Fn(A){return t.toByteArray(kn(A))}function jn(A,y,E,k){let j;for(j=0;j<k&&!(j+E>=y.length||j>=A.length);++j)y[j+E]=A[j];return j}function pn(A,y){return A instanceof y||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===y.name}function Tr(A){return A!==A}const We=function(){const A="0123456789abcdef",y=new Array(256);for(let E=0;E<16;++E){const k=E*16;for(let j=0;j<16;++j)y[k+j]=A[E]+A[j]}return y}();function wn(A){return typeof BigInt>"u"?J:A}function J(){throw new Error("BigInt not supported")}}(Sp)),Sp}var kA=CA(),Ap={exports:{}},c0;function DA(){if(c0)return Ap.exports;c0=1;var e=Ap.exports={},t,n;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=a}catch{n=a}})();function l(B){if(t===setTimeout)return setTimeout(B,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(B,0);try{return t(B,0)}catch{try{return t.call(null,B,0)}catch{return t.call(this,B,0)}}}function c(B){if(n===clearTimeout)return clearTimeout(B);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(B);try{return n(B)}catch{try{return n.call(null,B)}catch{return n.call(this,B)}}}var f=[],p=!1,m,_=-1;function T(){!p||!m||(p=!1,m.length?f=m.concat(f):_=-1,f.length&&R())}function R(){if(!p){var B=l(T);p=!0;for(var q=f.length;q;){for(m=f,f=[];++_<q;)m&&m[_].run();_=-1,q=f.length}m=null,p=!1,c(B)}}e.nextTick=function(B){var q=new Array(arguments.length-1);if(arguments.length>1)for(var K=1;K<arguments.length;K++)q[K-1]=arguments[K];f.push(new S(B,q)),f.length===1&&!p&&l(R)};function S(B,q){this.fun=B,this.array=q}S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function U(){}return e.on=U,e.addListener=U,e.once=U,e.off=U,e.removeListener=U,e.removeAllListeners=U,e.emit=U,e.prependListener=U,e.prependOnceListener=U,e.listeners=function(B){return[]},e.binding=function(B){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(B){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Ap.exports}var NA=DA();const OA=Su(NA);window.Buffer=kA.Buffer;window.process=OA;var Rp={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function MA(){if(h0)return Wl;h0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Wl.Fragment=t,Wl.jsx=n,Wl.jsxs=n,Wl}var f0;function UA(){return f0||(f0=1,Rp.exports=MA()),Rp.exports}var ot=UA(),xp={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function PA(){if(d0)return Kt;d0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function q(x,it,yt){this.props=x,this.context=it,this.refs=B,this.updater=yt||S}q.prototype.isReactComponent={},q.prototype.setState=function(x,it){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,it,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function K(){}K.prototype=q.prototype;function rt(x,it,yt){this.props=x,this.context=it,this.refs=B,this.updater=yt||S}var et=rt.prototype=new K;et.constructor=rt,U(et,q.prototype),et.isPureReactComponent=!0;var mt=Array.isArray,ft={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function z(x,it,yt,O,_t,Nt){return yt=Nt.ref,{$$typeof:e,type:x,key:it,ref:yt!==void 0?yt:null,props:Nt}}function M(x,it){return z(x.type,it,void 0,void 0,void 0,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===e}function P(x){var it={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(yt){return it[yt]})}var V=/\/+/g;function F(x,it){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):it.toString(36)}function N(){}function vt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(it){x.status==="pending"&&(x.status="fulfilled",x.value=it)},function(it){x.status==="pending"&&(x.status="rejected",x.reason=it)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Et(x,it,yt,O,_t){var Nt=typeof x;(Nt==="undefined"||Nt==="boolean")&&(x=null);var Rt=!1;if(x===null)Rt=!0;else switch(Nt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(x.$$typeof){case e:case t:Rt=!0;break;case _:return Rt=x._init,Et(Rt(x._payload),it,yt,O,_t)}}if(Rt)return _t=_t(x),Rt=O===""?"."+F(x,0):O,mt(_t)?(yt="",Rt!=null&&(yt=Rt.replace(V,"$&/")+"/"),Et(_t,it,yt,"",function(ae){return ae})):_t!=null&&(D(_t)&&(_t=M(_t,yt+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(V,"$&/")+"/")+Rt)),it.push(_t)),1;Rt=0;var de=O===""?".":O+":";if(mt(x))for(var Ut=0;Ut<x.length;Ut++)O=x[Ut],Nt=de+F(O,Ut),Rt+=Et(O,it,yt,Nt,_t);else if(Ut=R(x),typeof Ut=="function")for(x=Ut.call(x),Ut=0;!(O=x.next()).done;)O=O.value,Nt=de+F(O,Ut++),Rt+=Et(O,it,yt,Nt,_t);else if(Nt==="object"){if(typeof x.then=="function")return Et(vt(x),it,yt,O,_t);throw it=String(x),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function dt(x,it,yt){if(x==null)return x;var O=[],_t=0;return Et(x,O,"","",function(Nt){return it.call(yt,Nt,_t++)}),O}function Tt(x){if(x._status===-1){var it=x._result;it=it(),it.then(function(yt){(x._status===0||x._status===-1)&&(x._status=1,x._result=yt)},function(yt){(x._status===0||x._status===-1)&&(x._status=2,x._result=yt)}),x._status===-1&&(x._status=0,x._result=it)}if(x._status===1)return x._result.default;throw x._result}var wt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ht(){}return Kt.Children={map:dt,forEach:function(x,it,yt){dt(x,function(){it.apply(this,arguments)},yt)},count:function(x){var it=0;return dt(x,function(){it++}),it},toArray:function(x){return dt(x,function(it){return it})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Kt.Component=q,Kt.Fragment=n,Kt.Profiler=a,Kt.PureComponent=rt,Kt.StrictMode=i,Kt.Suspense=p,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Kt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Kt.cache=function(x){return function(){return x.apply(null,arguments)}},Kt.cloneElement=function(x,it,yt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var O=U({},x.props),_t=x.key,Nt=void 0;if(it!=null)for(Rt in it.ref!==void 0&&(Nt=void 0),it.key!==void 0&&(_t=""+it.key),it)!Z.call(it,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&it.ref===void 0||(O[Rt]=it[Rt]);var Rt=arguments.length-2;if(Rt===1)O.children=yt;else if(1<Rt){for(var de=Array(Rt),Ut=0;Ut<Rt;Ut++)de[Ut]=arguments[Ut+2];O.children=de}return z(x.type,_t,void 0,void 0,Nt,O)},Kt.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Kt.createElement=function(x,it,yt){var O,_t={},Nt=null;if(it!=null)for(O in it.key!==void 0&&(Nt=""+it.key),it)Z.call(it,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(_t[O]=it[O]);var Rt=arguments.length-2;if(Rt===1)_t.children=yt;else if(1<Rt){for(var de=Array(Rt),Ut=0;Ut<Rt;Ut++)de[Ut]=arguments[Ut+2];_t.children=de}if(x&&x.defaultProps)for(O in Rt=x.defaultProps,Rt)_t[O]===void 0&&(_t[O]=Rt[O]);return z(x,Nt,void 0,void 0,null,_t)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(x){return{$$typeof:f,render:x}},Kt.isValidElement=D,Kt.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:Tt}},Kt.memo=function(x,it){return{$$typeof:m,type:x,compare:it===void 0?null:it}},Kt.startTransition=function(x){var it=ft.T,yt={};ft.T=yt;try{var O=x(),_t=ft.S;_t!==null&&_t(yt,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(Ht,wt)}catch(Nt){wt(Nt)}finally{ft.T=it}},Kt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Kt.use=function(x){return ft.H.use(x)},Kt.useActionState=function(x,it,yt){return ft.H.useActionState(x,it,yt)},Kt.useCallback=function(x,it){return ft.H.useCallback(x,it)},Kt.useContext=function(x){return ft.H.useContext(x)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(x,it){return ft.H.useDeferredValue(x,it)},Kt.useEffect=function(x,it){return ft.H.useEffect(x,it)},Kt.useId=function(){return ft.H.useId()},Kt.useImperativeHandle=function(x,it,yt){return ft.H.useImperativeHandle(x,it,yt)},Kt.useInsertionEffect=function(x,it){return ft.H.useInsertionEffect(x,it)},Kt.useLayoutEffect=function(x,it){return ft.H.useLayoutEffect(x,it)},Kt.useMemo=function(x,it){return ft.H.useMemo(x,it)},Kt.useOptimistic=function(x,it){return ft.H.useOptimistic(x,it)},Kt.useReducer=function(x,it,yt){return ft.H.useReducer(x,it,yt)},Kt.useRef=function(x){return ft.H.useRef(x)},Kt.useState=function(x){return ft.H.useState(x)},Kt.useSyncExternalStore=function(x,it,yt){return ft.H.useSyncExternalStore(x,it,yt)},Kt.useTransition=function(){return ft.H.useTransition()},Kt.version="19.0.0",Kt}var p0;function zm(){return p0||(p0=1,xp.exports=PA()),xp.exports}var St=zm();const LA=Su(St);var Ip={exports:{}},Zl={},Cp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function VA(){return m0||(m0=1,function(e){function t(dt,Tt){var wt=dt.length;dt.push(Tt);t:for(;0<wt;){var Ht=wt-1>>>1,x=dt[Ht];if(0<a(x,Tt))dt[Ht]=Tt,dt[wt]=x,wt=Ht;else break t}}function n(dt){return dt.length===0?null:dt[0]}function i(dt){if(dt.length===0)return null;var Tt=dt[0],wt=dt.pop();if(wt!==Tt){dt[0]=wt;t:for(var Ht=0,x=dt.length,it=x>>>1;Ht<it;){var yt=2*(Ht+1)-1,O=dt[yt],_t=yt+1,Nt=dt[_t];if(0>a(O,wt))_t<x&&0>a(Nt,O)?(dt[Ht]=Nt,dt[_t]=wt,Ht=_t):(dt[Ht]=O,dt[yt]=wt,Ht=yt);else if(_t<x&&0>a(Nt,wt))dt[Ht]=Nt,dt[_t]=wt,Ht=_t;else break t}}return Tt}function a(dt,Tt){var wt=dt.sortIndex-Tt.sortIndex;return wt!==0?wt:dt.id-Tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],m=[],_=1,T=null,R=3,S=!1,U=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function et(dt){for(var Tt=n(m);Tt!==null;){if(Tt.callback===null)i(m);else if(Tt.startTime<=dt)i(m),Tt.sortIndex=Tt.expirationTime,t(p,Tt);else break;Tt=n(m)}}function mt(dt){if(B=!1,et(dt),!U)if(n(p)!==null)U=!0,vt();else{var Tt=n(m);Tt!==null&&Et(mt,Tt.startTime-dt)}}var ft=!1,Z=-1,z=5,M=-1;function D(){return!(e.unstable_now()-M<z)}function P(){if(ft){var dt=e.unstable_now();M=dt;var Tt=!0;try{t:{U=!1,B&&(B=!1,K(Z),Z=-1),S=!0;var wt=R;try{e:{for(et(dt),T=n(p);T!==null&&!(T.expirationTime>dt&&D());){var Ht=T.callback;if(typeof Ht=="function"){T.callback=null,R=T.priorityLevel;var x=Ht(T.expirationTime<=dt);if(dt=e.unstable_now(),typeof x=="function"){T.callback=x,et(dt),Tt=!0;break e}T===n(p)&&i(p),et(dt)}else i(p);T=n(p)}if(T!==null)Tt=!0;else{var it=n(m);it!==null&&Et(mt,it.startTime-dt),Tt=!1}}break t}finally{T=null,R=wt,S=!1}Tt=void 0}}finally{Tt?V():ft=!1}}}var V;if(typeof rt=="function")V=function(){rt(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,N=F.port2;F.port1.onmessage=P,V=function(){N.postMessage(null)}}else V=function(){q(P,0)};function vt(){ft||(ft=!0,V())}function Et(dt,Tt){Z=q(function(){dt(e.unstable_now())},Tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(dt){dt.callback=null},e.unstable_continueExecution=function(){U||S||(U=!0,vt())},e.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<dt?Math.floor(1e3/dt):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(dt){switch(R){case 1:case 2:case 3:var Tt=3;break;default:Tt=R}var wt=R;R=Tt;try{return dt()}finally{R=wt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(dt,Tt){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var wt=R;R=dt;try{return Tt()}finally{R=wt}},e.unstable_scheduleCallback=function(dt,Tt,wt){var Ht=e.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?Ht+wt:Ht):wt=Ht,dt){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=wt+x,dt={id:_++,callback:Tt,priorityLevel:dt,startTime:wt,expirationTime:x,sortIndex:-1},wt>Ht?(dt.sortIndex=wt,t(m,dt),n(p)===null&&dt===n(m)&&(B?(K(Z),Z=-1):B=!0,Et(mt,wt-Ht))):(dt.sortIndex=x,t(p,dt),U||S||(U=!0,vt())),dt},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(dt){var Tt=R;return function(){var wt=R;R=Tt;try{return dt.apply(this,arguments)}finally{R=wt}}}}(kp)),kp}var g0;function BA(){return g0||(g0=1,Cp.exports=VA()),Cp.exports}var Dp={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function zA(){if(y0)return gn;y0=1;var e=zm();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,_)},gn.flushSync=function(p){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=_,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:S}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=f(_,m.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var _0;function FA(){if(_0)return Dp.exports;_0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dp.exports=zA(),Dp.exports}var v0;function jA(){if(v0)return Zl;v0=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=BA(),t=zm(),n=FA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),S=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),mt=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=ft&&r[ft]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function M(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case _:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case S:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case K:return s=r.displayName||null,s!==null?s:M(r.type)||"Memo";case rt:s=r._payload,r=r._init;try{return M(r(s))}catch{}}return null}var D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,V,F;function N(r){if(V===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+r+F}var vt=!1;function Et(r,s){if(!r||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(st){var W=st}Reflect.construct(r,[],ct)}else{try{ct.call()}catch(st){W=st}r.call(ct.prototype)}}else{try{throw Error()}catch(st){W=st}(ct=r())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(st){if(st&&W&&typeof st.stack=="string")return[st.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],I=g[1];if(b&&I){var L=b.split(`
`),G=I.split(`
`);for(d=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===L.length||d===G.length)for(u=L.length-1,d=G.length-1;1<=u&&0<=d&&L[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(L[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||L[u]!==G[d]){var at=`
`+L[u].replace(" at new "," at ");return r.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",r.displayName)),at}while(1<=u&&0<=d);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?N(o):""}function dt(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=Et(r.type,!1),r;case 11:return r=Et(r.type.render,!1),r;case 1:return r=Et(r.type,!0),r;default:return""}}function Tt(r){try{var s="";do s+=dt(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function wt(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ht(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function x(r){if(wt(r)!==r)throw Error(i(188))}function it(r){var s=r.alternate;if(!s){if(s=wt(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return x(d),r;if(g===u)return x(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,I=d.child;I;){if(I===o){b=!0,o=d,u=g;break}if(I===u){b=!0,u=d,o=g;break}I=I.sibling}if(!b){for(I=g.child;I;){if(I===o){b=!0,o=g,u=d;break}if(I===u){b=!0,u=g,o=d;break}I=I.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function yt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=yt(r),s!==null)return s;r=r.sibling}return null}var O=Array.isArray,_t=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nt={pending:!1,data:null,method:null,action:null},Rt=[],de=-1;function Ut(r){return{current:r}}function ae(r){0>de||(r.current=Rt[de],Rt[de]=null,de--)}function Qt(r,s){de++,Rt[de]=r.current,r.current=s}var Ie=Ut(null),Cn=Ut(null),Oe=Ut(null),dn=Ut(null);function zn(r,s){switch(Qt(Oe,s),Qt(Cn,r),Qt(Ie,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Pv(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Pv(r),s=Lv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Ie),Qt(Ie,s)}function kn(){ae(Ie),ae(Cn),ae(Oe)}function tr(r){r.memoizedState!==null&&Qt(dn,r);var s=Ie.current,o=Lv(s,r.type);s!==o&&(Qt(Cn,r),Qt(Ie,o))}function Cr(r){Cn.current===r&&(ae(Ie),ae(Cn)),dn.current===r&&(ae(dn),Gl._currentValue=Nt)}var Er=Object.prototype.hasOwnProperty,Fn=e.unstable_scheduleCallback,jn=e.unstable_cancelCallback,pn=e.unstable_shouldYield,Tr=e.unstable_requestPaint,We=e.unstable_now,wn=e.unstable_getCurrentPriorityLevel,J=e.unstable_ImmediatePriority,A=e.unstable_UserBlockingPriority,y=e.unstable_NormalPriority,E=e.unstable_LowPriority,k=e.unstable_IdlePriority,j=e.log,$=e.unstable_setDisableYieldValue,nt=null,xt=null;function ee(r){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(nt,r,void 0,(r.current.flags&128)===128)}catch{}}function Mt(r){if(typeof j=="function"&&$(r),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(nt,r)}catch{}}var Bt=Math.clz32?Math.clz32:ju,qt=Math.log,Fu=Math.LN2;function ju(r){return r>>>=0,r===0?32:31-(qt(r)/Fu|0)|0}var kr=128,Bi=4194304;function wr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function er(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,d=r.suspendedLanes,g=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~d,o!==0?u=wr(o):(g&=I,g!==0?u=wr(g):r||(b=I&~b,b!==0&&(u=wr(b))))):(I=o&~d,I!==0?u=wr(I):g!==0?u=wr(g):r||(b=o&~b,b!==0&&(u=wr(b)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,b=s&-s,d>=b||d===32&&(b&4194176)!==0)?s:u}function zi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Da(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var r=kr;return kr<<=1,(kr&4194176)===0&&(kr=128),r}function Fi(){var r=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),r}function Na(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Me(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qu(r,s,o,u,d,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,L=r.expirationTimes,G=r.hiddenUpdates;for(o=b&~o;0<o;){var at=31-Bt(o),ct=1<<at;I[at]=0,L[at]=-1;var W=G[at];if(W!==null)for(G[at]=null,at=0;at<W.length;at++){var st=W[at];st!==null&&(st.lane&=-536870913)}o&=~ct}u!==0&&ji(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function ji(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Bt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function qi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Bt(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Hu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Gu(){var r=_t.p;return r!==0?r:(r=window.event,r===void 0?32:e0(r.type))}function Hi(r,s){var o=_t.p;try{return _t.p=r,s()}finally{_t.p=o}}var Dr=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Dr,qe="__reactProps$"+Dr,si="__reactContainer$"+Dr,zs="__reactEvents$"+Dr,Oa="__reactListeners$"+Dr,Nr="__reactHandles$"+Dr,Wo="__reactResources$"+Dr,Gi="__reactMarker$"+Dr;function Fs(r){delete r[Ze],delete r[qe],delete r[zs],delete r[Oa],delete r[Nr]}function br(r){var s=r[Ze];if(s)return s;for(var o=r.parentNode;o;){if(s=o[si]||o[Ze]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=zv(r);r!==null;){if(o=r[Ze])return o;r=zv(r)}return s}r=o,o=r.parentNode}return null}function ai(r){if(r=r[Ze]||r[si]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ki(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qi(r){var s=r[Wo];return s||(s=r[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(r){r[Gi]=!0}var Zo=new Set,Ma={};function qn(r,s){Dn(r,s),Dn(r+"Capture",s)}function Dn(r,s){for(Ma[r]=s,r=0;r<s.length;r++)Zo.add(s[r])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},tl={};function Ku(r){return Er.call(tl,r)?!0:Er.call(Jo,r)?!1:If.test(r)?tl[r]=!0:(Jo[r]=!0,!1)}function Yi(r,s,o){if(Ku(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Xi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cf(r){var s=Qu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function js(r){r._valueTracker||(r._valueTracker=Cf(r))}function el(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Qu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ua(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oi=/[\n"\\]/g;function Ce(r){return r.replace(oi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $i(r,s,o,u,d,g,b,I){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Pa(r,b,bn(s)):o!=null?Pa(r,b,bn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+bn(I):r.removeAttribute("name")}function qs(r,s,o,u,d,g,b,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Pa(r,s,o){s==="number"&&Ua(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function oe(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Hs(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function Wi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(O(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||kf.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Yu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&nl(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&nl(r,g,s[g])}function rl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(r){return Nf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function La(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,ui=null;function ci(r){var s=ai(r);if(s&&(r=s.stateNode)){var o=r[qe]||null;t:switch(r=s.stateNode,s.type){case"input":if($i(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[qe]||null;if(!d)throw Error(i(90));$i(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&el(u)}break t;case"textarea":Hs(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&oe(r,!!o.multiple,s,!1)}}}var il=!1;function Xu(r,s,o){if(il)return r(s,o);il=!0;try{var u=r(s);return u}finally{if(il=!1,(li!==null||ui!==null)&&(zc(),li&&(s=li,r=ui,ui=li=null,ci(s),r)))for(s=0;s<r.length;s++)ci(r[s])}}function Gs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Hn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{sr=!1}var Mr=null,Zi=null,hi=null;function sl(){if(hi)return hi;var r,s=Zi,o=s.length,u,d="value"in Mr?Mr.value:Mr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return hi=d.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function al(){return!1}function Je(r){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pr:al,this.isPropagationStopped=al,this}return P(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Je(he),Qs=P({},he,{view:0,detail:0}),$u=Je(Qs),Ba,za,Lr,Ys=P({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(Ba=r.screenX-Lr.screenX,za=r.screenY-Lr.screenY):za=Ba=0,Lr=r),Ba)},movementY:function(r){return"movementY"in r?r.movementY:za}}),ar=Je(Ys),Wu=P({},Ys,{dataTransfer:0}),Of=Je(Wu),Xs=P({},Qs,{relatedTarget:0}),Fa=Je(Xs),ol=P({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Je(ol),Zu=P({},he,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qa=Je(Zu),Mf=P({},he,{data:0}),ll=Je(Mf),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=tc[r])?!!s[r]:!1}function Ws(){return ul}var ec=P({},Qs,{key:function(r){if(r.key){var s=$s[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ju[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ha=Je(ec),nc=P({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Je(nc),fi=P({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),rc=Je(fi),ic=P({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Je(ic),ac=P({},Ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Je(ac),Sn=P({},he,{newState:0,oldState:0}),oc=Je(Sn),lc=[9,13,27,32],Vr=Hn&&"CompositionEvent"in window,h=null;Hn&&"documentMode"in document&&(h=document.documentMode);var v=Hn&&"TextEvent"in window&&!h,w=Hn&&(!Vr||h&&8<h&&11>=h),C=" ",Y=!1;function tt(r,s){switch(r){case"keyup":return lc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ne=!1;function He(r,s){switch(r){case"compositionend":return gt(s);case"keypress":return s.which!==32?null:(Y=!0,C);case"textInput":return r=s.data,r===C&&Y?null:r;default:return null}}function re(r,s){if(ne)return r==="compositionend"||!Vr&&tt(r,s)?(r=sl(),hi=Zi=Mr=null,ne=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!tn[r.type]:s==="textarea"}function di(r,s,o,u){li?ui?ui.push(u):ui=[u]:li=u,s=Gc(s,"onChange"),0<s.length&&(o=new Va("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var an=null,Br=null;function hl(r){Dv(r,0)}function uc(r){var s=Ki(r);if(el(s))return r}function ay(r,s){if(r==="change")return s}var oy=!1;if(Hn){var Uf;if(Hn){var Pf="oninput"in document;if(!Pf){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),Pf=typeof ly.oninput=="function"}Uf=Pf}else Uf=!1;oy=Uf&&(!document.documentMode||9<document.documentMode)}function uy(){an&&(an.detachEvent("onpropertychange",cy),Br=an=null)}function cy(r){if(r.propertyName==="value"&&uc(Br)){var s=[];di(s,Br,r,La(r)),Xu(hl,s)}}function rS(r,s,o){r==="focusin"?(uy(),an=s,Br=o,an.attachEvent("onpropertychange",cy)):r==="focusout"&&uy()}function iS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uc(Br)}function sS(r,s){if(r==="click")return uc(s)}function aS(r,s){if(r==="input"||r==="change")return uc(s)}function oS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:oS;function fl(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Er.call(s,d)||!Gn(r[d],s[d]))return!1}return!0}function hy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fy(r,s){var o=hy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=hy(o)}}function dy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function py(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ua(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ua(r.document)}return s}function Lf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function lS(r,s){var o=py(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&dy(s.ownerDocument.documentElement,s)){if(u!==null&&Lf(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=fy(s,g);var b=fy(s,u);d&&b&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var uS=Hn&&"documentMode"in document&&11>=document.documentMode,Ka=null,Vf=null,dl=null,Bf=!1;function my(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bf||Ka==null||Ka!==Ua(u)||(u=Ka,"selectionStart"in u&&Lf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&fl(dl,u)||(dl=u,u=Gc(Vf,"onSelect"),0<u.length&&(s=new Va("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ka)))}function Zs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Qa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},zf={},gy={};Hn&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Js(r){if(zf[r])return zf[r];if(!Qa[r])return r;var s=Qa[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in gy)return zf[r]=s[o];return r}var yy=Js("animationend"),_y=Js("animationiteration"),vy=Js("animationstart"),cS=Js("transitionrun"),hS=Js("transitionstart"),fS=Js("transitioncancel"),Ey=Js("transitionend"),Ty=new Map,wy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(r,s){Ty.set(r,s),qn(s,[r])}var or=[],Ya=0,Ff=0;function cc(){for(var r=Ya,s=Ff=Ya=0;s<r;){var o=or[s];or[s++]=null;var u=or[s];or[s++]=null;var d=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&by(o,d,g)}}function hc(r,s,o,u){or[Ya++]=r,or[Ya++]=s,or[Ya++]=o,or[Ya++]=u,Ff|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function jf(r,s,o,u){return hc(r,s,o,u),fc(r)}function Ji(r,s){return hc(r,null,null,s),fc(r)}function by(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-Bt(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function fc(r){if(50<Vl)throw Vl=0,Yd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Xa={},Sy=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=Sy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Tt(s)},Sy.set(r,s),s)}return{value:r,source:s,stack:Tt(s)}}var $a=[],Wa=0,dc=null,pc=0,ur=[],cr=0,ta=null,pi=1,mi="";function ea(r,s){$a[Wa++]=pc,$a[Wa++]=dc,dc=r,pc=s}function Ay(r,s,o){ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ta,ta=r;var u=pi;r=mi;var d=32-Bt(u)-1;u&=~(1<<d),o+=1;var g=32-Bt(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,pi=1<<32-Bt(s)+d|o<<d|u,mi=g+r}else pi=1<<g|o<<d|u,mi=r}function qf(r){r.return!==null&&(ea(r,1),Ay(r,1,0))}function Hf(r){for(;r===dc;)dc=$a[--Wa],$a[Wa]=null,pc=$a[--Wa],$a[Wa]=null;for(;r===ta;)ta=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null,pi=ur[--cr],ur[cr]=null}var An=null,on=null,le=!1,Ar=null,zr=!1,Gf=Error(i(519));function na(r){var s=Error(i(418,""));throw gl(lr(s,r)),Gf}function Ry(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ze]=r,s[qe]=u,o){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(o=0;o<zl.length;o++)Jt(zl[o],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":Jt("invalid",s),qs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(s);break;case"select":Jt("invalid",s);break;case"textarea":Jt("invalid",s),Wi(s,u.value,u.defaultValue,u.children),js(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Uv(s.textContent,o)?(u.popover!=null&&(Jt("beforetoggle",s),Jt("toggle",s)),u.onScroll!=null&&Jt("scroll",s),u.onScrollEnd!=null&&Jt("scrollend",s),u.onClick!=null&&(s.onclick=Kc),s=!0):s=!1,s||na(r)}function xy(r){for(An=r.return;An;)switch(An.tag){case 3:case 27:zr=!0;return;case 5:case 13:zr=!1;return;default:An=An.return}}function pl(r){if(r!==An)return!1;if(!le)return xy(r),le=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||hp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&on&&na(r),xy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){on=xr(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}on=null}}else on=An?xr(r.stateNode.nextSibling):null;return!0}function ml(){on=An=null,le=!1}function gl(r){Ar===null?Ar=[r]:Ar.push(r)}var yl=Error(i(460)),Iy=Error(i(474)),Kf={then:function(){}};function Cy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function mc(){}function ky(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(mc,mc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===yl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(mc,mc);else{if(r=ye,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===yl?Error(i(483)):r}throw _l=s,yl}}var _l=null;function Dy(){if(_l===null)throw Error(i(459));var r=_l;return _l=null,r}var Za=null,vl=0;function gc(r){var s=vl;return vl+=1,Za===null&&(Za=[]),ky(Za,r,s)}function El(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function yc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Ny(r){var s=r._init;return s(r._payload)}function Oy(r){function s(Q,H){if(r){var X=Q.deletions;X===null?(Q.deletions=[H],Q.flags|=16):X.push(H)}}function o(Q,H){if(!r)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function u(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function d(Q,H){return Q=hs(Q,H),Q.index=0,Q.sibling=null,Q}function g(Q,H,X){return Q.index=X,r?(X=Q.alternate,X!==null?(X=X.index,X<H?(Q.flags|=33554434,H):X):(Q.flags|=33554434,H)):(Q.flags|=1048576,H)}function b(Q){return r&&Q.alternate===null&&(Q.flags|=33554434),Q}function I(Q,H,X,lt){return H===null||H.tag!==6?(H=zd(X,Q.mode,lt),H.return=Q,H):(H=d(H,X),H.return=Q,H)}function L(Q,H,X,lt){var At=X.type;return At===p?at(Q,H,X.props.children,lt,X.key):H!==null&&(H.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===rt&&Ny(At)===H.type)?(H=d(H,X.props),El(H,X),H.return=Q,H):(H=Uc(X.type,X.key,X.props,null,Q.mode,lt),El(H,X),H.return=Q,H)}function G(Q,H,X,lt){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Fd(X,Q.mode,lt),H.return=Q,H):(H=d(H,X.children||[]),H.return=Q,H)}function at(Q,H,X,lt,At){return H===null||H.tag!==7?(H=fa(X,Q.mode,lt,At),H.return=Q,H):(H=d(H,X),H.return=Q,H)}function ct(Q,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=zd(""+H,Q.mode,X),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return X=Uc(H.type,H.key,H.props,null,Q.mode,X),El(X,H),X.return=Q,X;case f:return H=Fd(H,Q.mode,X),H.return=Q,H;case rt:var lt=H._init;return H=lt(H._payload),ct(Q,H,X)}if(O(H)||Z(H))return H=fa(H,Q.mode,X,null),H.return=Q,H;if(typeof H.then=="function")return ct(Q,gc(H),X);if(H.$$typeof===S)return ct(Q,Nc(Q,H),X);yc(Q,H)}return null}function W(Q,H,X,lt){var At=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return At!==null?null:I(Q,H,""+X,lt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return X.key===At?L(Q,H,X,lt):null;case f:return X.key===At?G(Q,H,X,lt):null;case rt:return At=X._init,X=At(X._payload),W(Q,H,X,lt)}if(O(X)||Z(X))return At!==null?null:at(Q,H,X,lt,null);if(typeof X.then=="function")return W(Q,H,gc(X),lt);if(X.$$typeof===S)return W(Q,H,Nc(Q,X),lt);yc(Q,X)}return null}function st(Q,H,X,lt,At){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Q=Q.get(X)||null,I(H,Q,""+lt,At);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case c:return Q=Q.get(lt.key===null?X:lt.key)||null,L(H,Q,lt,At);case f:return Q=Q.get(lt.key===null?X:lt.key)||null,G(H,Q,lt,At);case rt:var Xt=lt._init;return lt=Xt(lt._payload),st(Q,H,X,lt,At)}if(O(lt)||Z(lt))return Q=Q.get(X)||null,at(H,Q,lt,At,null);if(typeof lt.then=="function")return st(Q,H,X,gc(lt),At);if(lt.$$typeof===S)return st(Q,H,X,Nc(H,lt),At);yc(H,lt)}return null}function It(Q,H,X,lt){for(var At=null,Xt=null,kt=H,Ot=H=0,rn=null;kt!==null&&Ot<X.length;Ot++){kt.index>Ot?(rn=kt,kt=null):rn=kt.sibling;var ue=W(Q,kt,X[Ot],lt);if(ue===null){kt===null&&(kt=rn);break}r&&kt&&ue.alternate===null&&s(Q,kt),H=g(ue,H,Ot),Xt===null?At=ue:Xt.sibling=ue,Xt=ue,kt=rn}if(Ot===X.length)return o(Q,kt),le&&ea(Q,Ot),At;if(kt===null){for(;Ot<X.length;Ot++)kt=ct(Q,X[Ot],lt),kt!==null&&(H=g(kt,H,Ot),Xt===null?At=kt:Xt.sibling=kt,Xt=kt);return le&&ea(Q,Ot),At}for(kt=u(kt);Ot<X.length;Ot++)rn=st(kt,Q,Ot,X[Ot],lt),rn!==null&&(r&&rn.alternate!==null&&kt.delete(rn.key===null?Ot:rn.key),H=g(rn,H,Ot),Xt===null?At=rn:Xt.sibling=rn,Xt=rn);return r&&kt.forEach(function(_s){return s(Q,_s)}),le&&ea(Q,Ot),At}function Ft(Q,H,X,lt){if(X==null)throw Error(i(151));for(var At=null,Xt=null,kt=H,Ot=H=0,rn=null,ue=X.next();kt!==null&&!ue.done;Ot++,ue=X.next()){kt.index>Ot?(rn=kt,kt=null):rn=kt.sibling;var _s=W(Q,kt,ue.value,lt);if(_s===null){kt===null&&(kt=rn);break}r&&kt&&_s.alternate===null&&s(Q,kt),H=g(_s,H,Ot),Xt===null?At=_s:Xt.sibling=_s,Xt=_s,kt=rn}if(ue.done)return o(Q,kt),le&&ea(Q,Ot),At;if(kt===null){for(;!ue.done;Ot++,ue=X.next())ue=ct(Q,ue.value,lt),ue!==null&&(H=g(ue,H,Ot),Xt===null?At=ue:Xt.sibling=ue,Xt=ue);return le&&ea(Q,Ot),At}for(kt=u(kt);!ue.done;Ot++,ue=X.next())ue=st(kt,Q,Ot,ue.value,lt),ue!==null&&(r&&ue.alternate!==null&&kt.delete(ue.key===null?Ot:ue.key),H=g(ue,H,Ot),Xt===null?At=ue:Xt.sibling=ue,Xt=ue);return r&&kt.forEach(function(RA){return s(Q,RA)}),le&&ea(Q,Ot),At}function Ne(Q,H,X,lt){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case c:t:{for(var At=X.key;H!==null;){if(H.key===At){if(At=X.type,At===p){if(H.tag===7){o(Q,H.sibling),lt=d(H,X.props.children),lt.return=Q,Q=lt;break t}}else if(H.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===rt&&Ny(At)===H.type){o(Q,H.sibling),lt=d(H,X.props),El(lt,X),lt.return=Q,Q=lt;break t}o(Q,H);break}else s(Q,H);H=H.sibling}X.type===p?(lt=fa(X.props.children,Q.mode,lt,X.key),lt.return=Q,Q=lt):(lt=Uc(X.type,X.key,X.props,null,Q.mode,lt),El(lt,X),lt.return=Q,Q=lt)}return b(Q);case f:t:{for(At=X.key;H!==null;){if(H.key===At)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(Q,H.sibling),lt=d(H,X.children||[]),lt.return=Q,Q=lt;break t}else{o(Q,H);break}else s(Q,H);H=H.sibling}lt=Fd(X,Q.mode,lt),lt.return=Q,Q=lt}return b(Q);case rt:return At=X._init,X=At(X._payload),Ne(Q,H,X,lt)}if(O(X))return It(Q,H,X,lt);if(Z(X)){if(At=Z(X),typeof At!="function")throw Error(i(150));return X=At.call(X),Ft(Q,H,X,lt)}if(typeof X.then=="function")return Ne(Q,H,gc(X),lt);if(X.$$typeof===S)return Ne(Q,H,Nc(Q,X),lt);yc(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(Q,H.sibling),lt=d(H,X),lt.return=Q,Q=lt):(o(Q,H),lt=zd(X,Q.mode,lt),lt.return=Q,Q=lt),b(Q)):o(Q,H)}return function(Q,H,X,lt){try{vl=0;var At=Ne(Q,H,X,lt);return Za=null,At}catch(kt){if(kt===yl)throw kt;var Xt=pr(29,kt,null,Q.mode);return Xt.lanes=lt,Xt.return=Q,Xt}finally{}}}var ra=Oy(!0),My=Oy(!1),Ja=Ut(null),_c=Ut(0);function Uy(r,s){r=Ri,Qt(_c,r),Qt(Ja,s),Ri=r|s.baseLanes}function Qf(){Qt(_c,Ri),Qt(Ja,Ja.current)}function Yf(){Ri=_c.current,ae(Ja),ae(_c)}var hr=Ut(null),Fr=null;function ts(r){var s=r.alternate;Qt(Ke,Ke.current&1),Qt(hr,r),Fr===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Fr=r)}function Py(r){if(r.tag===22){if(Qt(Ke,Ke.current),Qt(hr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else es()}function es(){Qt(Ke,Ke.current),Qt(hr,hr.current)}function gi(r){ae(hr),Fr===r&&(Fr=null),ae(Ke)}var Ke=Ut(0);function vc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},pS=e.unstable_scheduleCallback,mS=e.unstable_NormalPriority,Qe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new dS,data:new Map,refCount:0}}function Tl(r){r.refCount--,r.refCount===0&&pS(mS,function(){r.controller.abort()})}var wl=null,$f=0,to=0,eo=null;function gS(r,s){if(wl===null){var o=wl=[];$f=0,to=np(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $f++,s.then(Ly,Ly),s}function Ly(){if(--$f===0&&wl!==null){eo!==null&&(eo.status="fulfilled");var r=wl;wl=null,to=0,eo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function yS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Vy=D.S;D.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&gS(r,s),Vy!==null&&Vy(r,s)};var ia=Ut(null);function Wf(){var r=ia.current;return r!==null?r:ye.pooledCache}function Ec(r,s){s===null?Qt(ia,ia.current):Qt(ia,s.pool)}function By(){var r=Wf();return r===null?null:{parent:Qe._currentValue,pool:r}}var ns=0,Yt=null,pe=null,Ve=null,Tc=!1,no=!1,sa=!1,wc=0,bl=0,ro=null,_S=0;function Ue(){throw Error(i(321))}function Zf(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Gn(r[o],s[o]))return!1;return!0}function Jf(r,s,o,u,d,g){return ns=g,Yt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=r===null||r.memoizedState===null?aa:rs,sa=!1,g=o(u,d),sa=!1,no&&(g=Fy(s,o,u,d)),zy(r),g}function zy(r){D.H=jr;var s=pe!==null&&pe.next!==null;if(ns=0,Ve=pe=Yt=null,Tc=!1,bl=0,ro=null,s)throw Error(i(300));r===null||en||(r=r.dependencies,r!==null&&Dc(r)&&(en=!0))}function Fy(r,s,o,u){Yt=r;var d=0;do{if(no&&(ro=null),bl=0,no=!1,25<=d)throw Error(i(301));if(d+=1,Ve=pe=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}D.H=oa,g=s(o,u)}while(no);return g}function vS(){var r=D.H,s=r.useState()[0];return s=typeof s.then=="function"?Sl(s):s,r=r.useState()[0],(pe!==null?pe.memoizedState:null)!==r&&(Yt.flags|=1024),s}function td(){var r=wc!==0;return wc=0,r}function ed(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function nd(r){if(Tc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tc=!1}ns=0,Ve=pe=Yt=null,no=!1,bl=wc=0,ro=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Yt.memoizedState=Ve=r:Ve=Ve.next=r,Ve}function Be(){if(pe===null){var r=Yt.alternate;r=r!==null?r.memoizedState:null}else r=pe.next;var s=Ve===null?Yt.memoizedState:Ve.next;if(s!==null)Ve=s,pe=r;else{if(r===null)throw Yt.alternate===null?Error(i(467)):Error(i(310));pe=r,r={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Ve===null?Yt.memoizedState=Ve=r:Ve=Ve.next=r}return Ve}var bc;bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Sl(r){var s=bl;return bl+=1,ro===null&&(ro=[]),r=ky(ro,r,s),s=Yt,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?aa:rs),r}function Sc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Sl(r);if(r.$$typeof===S)return mn(r)}throw Error(i(438,String(r)))}function rd(r){var s=null,o=Yt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Yt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bc(),Yt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=mt;return s.index++,o}function yi(r,s){return typeof s=="function"?s(r):s}function Ac(r){var s=Be();return id(s,pe,r)}function id(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var I=b=null,L=null,G=s,at=!1;do{var ct=G.lane&-536870913;if(ct!==G.lane?(ie&ct)===ct:(ns&ct)===ct){var W=G.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ct===to&&(at=!0);else if((ns&W)===W){G=G.next,W===to&&(at=!0);continue}else ct={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(I=L=ct,b=g):L=L.next=ct,Yt.lanes|=W,fs|=W;ct=G.action,sa&&o(g,ct),g=G.hasEagerState?G.eagerState:o(g,ct)}else W={lane:ct,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(I=L=W,b=g):L=L.next=W,Yt.lanes|=ct,fs|=ct;G=G.next}while(G!==null&&G!==s);if(L===null?b=g:L.next=I,!Gn(g,r.memoizedState)&&(en=!0,at&&(o=eo,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=L,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function sd(r){var s=Be(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=r(g,b.action),b=b.next;while(b!==d);Gn(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function jy(r,s,o){var u=Yt,d=Be(),g=le;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Gn((pe||d).memoizedState,o);if(b&&(d.memoizedState=o,en=!0),d=d.queue,ld(Gy.bind(null,u,d,r),[r]),d.getSnapshot!==s||b||Ve!==null&&Ve.memoizedState.tag&1){if(u.flags|=2048,io(9,Hy.bind(null,u,d,o,s),{destroy:void 0},null),ye===null)throw Error(i(349));g||(ns&60)!==0||qy(u,s,o)}return o}function qy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Yt.updateQueue,s===null?(s=bc(),Yt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Hy(r,s,o,u){s.value=o,s.getSnapshot=u,Ky(s)&&Qy(r)}function Gy(r,s,o){return o(function(){Ky(s)&&Qy(r)})}function Ky(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Gn(r,o)}catch{return!0}}function Qy(r){var s=Ji(r,2);s!==null&&Rn(s,r,2)}function ad(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),sa){Mt(!0);try{o()}finally{Mt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},s}function Yy(r,s,o,u){return r.baseState=o,id(r,pe,typeof u=="function"?u:yi)}function ES(r,s,o,u,d){if(Ic(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};D.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Xy(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Xy(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=D.T,b={};D.T=b;try{var I=o(d,u),L=D.S;L!==null&&L(b,I),$y(r,s,I)}catch(G){od(r,s,G)}finally{D.T=g}}else try{g=o(d,u),$y(r,s,g)}catch(G){od(r,s,G)}}function $y(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Wy(r,s,u)},function(u){return od(r,s,u)}):Wy(r,s,o)}function Wy(r,s,o){s.status="fulfilled",s.value=o,Zy(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Xy(r,o)))}function od(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Zy(s),s=s.next;while(s!==u)}r.action=null}function Zy(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Jy(r,s){return s}function t_(r,s){if(le){var o=ye.formState;if(o!==null){t:{var u=Yt;if(le){if(on){e:{for(var d=on,g=zr;d.nodeType!==8;){if(!g){d=null;break e}if(d=xr(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=xr(d.nextSibling),u=d.data==="F!";break t}}na(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:s},o.queue=u,o=__.bind(null,Yt,u),u.dispatch=o,u=ad(!1),g=dd.bind(null,Yt,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=ES.bind(null,Yt,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function e_(r){var s=Be();return n_(s,pe,r)}function n_(r,s,o){s=id(r,s,Jy)[0],r=Ac(yi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Sl(s):s;var u=Be(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&(Yt.flags|=2048,io(9,TS.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function TS(r,s){r.action=s}function r_(r){var s=Be(),o=pe;if(o!==null)return n_(s,o,r);Be(),s=s.memoizedState,o=Be();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function io(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Yt.updateQueue,s===null&&(s=bc(),Yt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function i_(){return Be().memoizedState}function Rc(r,s,o,u){var d=Nn();Yt.flags|=r,d.memoizedState=io(1|s,o,{destroy:void 0},u===void 0?null:u)}function xc(r,s,o,u){var d=Be();u=u===void 0?null:u;var g=d.memoizedState.inst;pe!==null&&u!==null&&Zf(u,pe.memoizedState.deps)?d.memoizedState=io(s,o,g,u):(Yt.flags|=r,d.memoizedState=io(1|s,o,g,u))}function s_(r,s){Rc(8390656,8,r,s)}function ld(r,s){xc(2048,8,r,s)}function a_(r,s){return xc(4,2,r,s)}function o_(r,s){return xc(4,4,r,s)}function l_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function u_(r,s,o){o=o!=null?o.concat([r]):null,xc(4,4,l_.bind(null,s,r),o)}function ud(){}function c_(r,s){var o=Be();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Zf(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function h_(r,s){var o=Be();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Zf(s,u[1]))return u[0];if(u=r(),sa){Mt(!0);try{r()}finally{Mt(!1)}}return o.memoizedState=[u,s],u}function cd(r,s,o){return o===void 0||(ns&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=dv(),Yt.lanes|=r,fs|=r,o)}function f_(r,s,o,u){return Gn(o,s)?o:Ja.current!==null?(r=cd(r,o,u),Gn(r,s)||(en=!0),r):(ns&42)===0?(en=!0,r.memoizedState=o):(r=dv(),Yt.lanes|=r,fs|=r,s)}function d_(r,s,o,u,d){var g=_t.p;_t.p=g!==0&&8>g?g:8;var b=D.T,I={};D.T=I,dd(r,!1,s,o);try{var L=d(),G=D.S;if(G!==null&&G(I,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var at=yS(L,u);Al(r,s,at,Xn(r))}else Al(r,s,u,Xn(r))}catch(ct){Al(r,s,{then:function(){},status:"rejected",reason:ct},Xn())}finally{_t.p=g,D.T=b}}function wS(){}function hd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=p_(r).queue;d_(r,d,s,Nt,o===null?wS:function(){return m_(r),o(u)})}function p_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Nt,baseState:Nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Nt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function m_(r){var s=p_(r).next.queue;Al(r,s,{},Xn())}function fd(){return mn(Gl)}function g_(){return Be().memoizedState}function y_(){return Be().memoizedState}function bS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Xn();r=as(o);var u=os(s,r,o);u!==null&&(Rn(u,s,o),Il(u,s,o)),s={cache:Xf()},r.payload=s;return}s=s.return}}function SS(r,s,o){var u=Xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ic(r)?v_(s,o):(o=jf(r,s,o,u),o!==null&&(Rn(o,r,u),E_(o,s,u)))}function __(r,s,o){var u=Xn();Al(r,s,o,u)}function Al(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ic(r))v_(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,I=g(b,o);if(d.hasEagerState=!0,d.eagerState=I,Gn(I,b))return hc(r,s,d,0),ye===null&&cc(),!1}catch{}finally{}if(o=jf(r,s,d,u),o!==null)return Rn(o,r,u),E_(o,s,u),!0}return!1}function dd(r,s,o,u){if(u={lane:2,revertLane:np(),action:u,hasEagerState:!1,eagerState:null,next:null},Ic(r)){if(s)throw Error(i(479))}else s=jf(r,o,u,2),s!==null&&Rn(s,r,2)}function Ic(r){var s=r.alternate;return r===Yt||s!==null&&s===Yt}function v_(r,s){no=Tc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function E_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,qi(r,o)}}var jr={readContext:mn,use:Sc,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue};jr.useCacheRefresh=Ue,jr.useMemoCache=Ue,jr.useHostTransitionStatus=Ue,jr.useFormState=Ue,jr.useActionState=Ue,jr.useOptimistic=Ue;var aa={readContext:mn,use:Sc,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:s_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Rc(4194308,4,l_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Rc(4194308,4,r,s)},useInsertionEffect:function(r,s){Rc(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(sa){Mt(!0);try{r()}finally{Mt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(sa){Mt(!0);try{o(s)}finally{Mt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=SS.bind(null,Yt,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=ad(r);var s=r.queue,o=__.bind(null,Yt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ud,useDeferredValue:function(r,s){var o=Nn();return cd(o,r,s)},useTransition:function(){var r=ad(!1);return r=d_.bind(null,Yt,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Yt,d=Nn();if(le){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ye===null)throw Error(i(349));(ie&60)!==0||qy(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,s_(Gy.bind(null,u,g,r),[r]),u.flags|=2048,io(9,Hy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=ye.identifierPrefix;if(le){var o=mi,u=pi;o=(u&~(1<<32-Bt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=wc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=_S++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=bS.bind(null,Yt)}};aa.useMemoCache=rd,aa.useHostTransitionStatus=fd,aa.useFormState=t_,aa.useActionState=t_,aa.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=dd.bind(null,Yt,!0,o),o.dispatch=s,[r,s]};var rs={readContext:mn,use:Sc,useCallback:c_,useContext:mn,useEffect:ld,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Ac,useRef:i_,useState:function(){return Ac(yi)},useDebugValue:ud,useDeferredValue:function(r,s){var o=Be();return f_(o,pe.memoizedState,r,s)},useTransition:function(){var r=Ac(yi)[0],s=Be().memoizedState;return[typeof r=="boolean"?r:Sl(r),s]},useSyncExternalStore:jy,useId:g_};rs.useCacheRefresh=y_,rs.useMemoCache=rd,rs.useHostTransitionStatus=fd,rs.useFormState=e_,rs.useActionState=e_,rs.useOptimistic=function(r,s){var o=Be();return Yy(o,pe,r,s)};var oa={readContext:mn,use:Sc,useCallback:c_,useContext:mn,useEffect:ld,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:sd,useRef:i_,useState:function(){return sd(yi)},useDebugValue:ud,useDeferredValue:function(r,s){var o=Be();return pe===null?cd(o,r,s):f_(o,pe.memoizedState,r,s)},useTransition:function(){var r=sd(yi)[0],s=Be().memoizedState;return[typeof r=="boolean"?r:Sl(r),s]},useSyncExternalStore:jy,useId:g_};oa.useCacheRefresh=y_,oa.useMemoCache=rd,oa.useHostTransitionStatus=fd,oa.useFormState=r_,oa.useActionState=r_,oa.useOptimistic=function(r,s){var o=Be();return pe!==null?Yy(o,pe,r,s):(o.baseState=r,[r,o.queue.dispatch])};function pd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:P({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var md={isMounted:function(r){return(r=r._reactInternals)?wt(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Xn(),d=as(u);d.payload=s,o!=null&&(d.callback=o),s=os(r,d,u),s!==null&&(Rn(s,r,u),Il(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Xn(),d=as(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=os(r,d,u),s!==null&&(Rn(s,r,u),Il(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Xn(),u=as(o);u.tag=2,s!=null&&(u.callback=s),s=os(r,u,o),s!==null&&(Rn(s,r,o),Il(s,r,o))}};function T_(r,s,o,u,d,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!fl(o,u)||!fl(d,g):!0}function w_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&md.enqueueReplaceState(s,s.state,null)}function la(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=P({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Cc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function b_(r){Cc(r)}function S_(r){console.error(r)}function A_(r){Cc(r)}function kc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function R_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gd(r,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){kc(r,s)},o}function x_(r){return r=as(r),r.tag=3,r}function I_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){R_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){R_(s,o,u),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function AS(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&xl(s,o,d,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Fr===null?Wd():o.alternate===null&&De===0&&(De=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Kf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Jd(r,u,d)),!1;case 22:return o.flags|=65536,u===Kf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Jd(r,u,d)),!1}throw Error(i(435,o.tag))}return Jd(r,u,d),Wd(),!1}if(le)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Gf&&(r=Error(i(422),{cause:u}),gl(lr(r,o)))):(u!==Gf&&(s=Error(i(423),{cause:u}),gl(lr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=lr(u,o),d=gd(r.stateNode,u,d),Dd(r,d),De!==4&&(De=2)),!1;var g=Error(i(520),{cause:u});if(g=lr(g,o),Pl===null?Pl=[g]:Pl.push(g),De!==4&&(De=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=gd(o.stateNode,u,r),Dd(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=x_(d),I_(d,r,o,u),Dd(o,d),!1}o=o.return}while(o!==null);return!1}var C_=Error(i(461)),en=!1;function ln(r,s,o,u){s.child=r===null?My(s,null,o,u):ra(s,r.child,o,u)}function k_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var I in u)I!=="ref"&&(b[I]=u[I])}else b=u;return ca(s),u=Jf(r,s,o,b,g,d),I=td(),r!==null&&!en?(ed(r,s,d),_i(r,s,d)):(le&&I&&qf(s),s.flags|=1,ln(r,s,u,d),s.child)}function D_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Bd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,N_(r,s,g,u,d)):(r=Uc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Ad(r,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(b,u)&&r.ref===s.ref)return _i(r,s,d)}return s.flags|=1,r=hs(g,u),r.ref=s.ref,r.return=s,s.child=r}function N_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(fl(g,u)&&r.ref===s.ref)if(en=!1,s.pendingProps=u=g,Ad(r,d))(r.flags&131072)!==0&&(en=!0);else return s.lanes=r.lanes,_i(r,s,d)}return yd(r,s,o,u,d)}function O_(r,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(Rl(r,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return M_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ec(s,b!==null?b.cachePool:null),b!==null?Uy(s,b):Qf(),Py(s);else return s.lanes=s.childLanes=536870912,M_(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Ec(s,b.cachePool),Uy(s,b),es(),s.memoizedState=null):(r!==null&&Ec(s,null),Qf(),es());return ln(r,s,d,o),s.child}function M_(r,s,o,u){var d=Wf();return d=d===null?null:{parent:Qe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Ec(s,null),Qf(),Py(s),r!==null&&xl(r,s,u,!0),null}function Rl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function yd(r,s,o,u,d){return ca(s),o=Jf(r,s,o,u,void 0,d),u=td(),r!==null&&!en?(ed(r,s,d),_i(r,s,d)):(le&&u&&qf(s),s.flags|=1,ln(r,s,o,d),s.child)}function U_(r,s,o,u,d,g){return ca(s),s.updateQueue=null,o=Fy(s,u,o,d),zy(r),u=td(),r!==null&&!en?(ed(r,s,g),_i(r,s,g)):(le&&u&&qf(s),s.flags|=1,ln(r,s,o,g),s.child)}function P_(r,s,o,u,d){if(ca(s),s.stateNode===null){var g=Xa,b=o.contextType;typeof b=="object"&&b!==null&&(g=mn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=md,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Cd(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?mn(b):Xa,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(pd(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&md.enqueueReplaceState(g,g.state,null),kl(s,u,g,d),Cl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,L=la(o,I);g.props=L;var G=g.context,at=o.contextType;b=Xa,typeof at=="object"&&at!==null&&(b=mn(at));var ct=o.getDerivedStateFromProps;at=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,at||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||G!==b)&&w_(s,g,u,b),ss=!1;var W=s.memoizedState;g.state=W,kl(s,u,g,d),Cl(),G=s.memoizedState,I||W!==G||ss?(typeof ct=="function"&&(pd(s,o,ct,u),G=s.memoizedState),(L=ss||T_(s,o,L,u,W,G,b))?(at||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=b,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,kd(r,s),b=s.memoizedProps,at=la(o,b),g.props=at,ct=s.pendingProps,W=g.context,G=o.contextType,L=Xa,typeof G=="object"&&G!==null&&(L=mn(G)),I=o.getDerivedStateFromProps,(G=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ct||W!==L)&&w_(s,g,u,L),ss=!1,W=s.memoizedState,g.state=W,kl(s,u,g,d),Cl();var st=s.memoizedState;b!==ct||W!==st||ss||r!==null&&r.dependencies!==null&&Dc(r.dependencies)?(typeof I=="function"&&(pd(s,o,I,u),st=s.memoizedState),(at=ss||T_(s,o,at,u,W,st,L)||r!==null&&r.dependencies!==null&&Dc(r.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,st,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,st,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=st),g.props=u,g.state=st,g.context=L,u=at):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Rl(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=ra(s,r.child,null,d),s.child=ra(s,null,o,d)):ln(r,s,o,d),s.memoizedState=g.state,r=s.child):r=_i(r,s,d),r}function L_(r,s,o,u){return ml(),s.flags|=256,ln(r,s,o,u),s.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function vd(r){return{baseLanes:r,cachePool:By()}}function Ed(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function V_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Ke.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(le){if(d?ts(s):es(),le){var I=on,L;if(L=I){t:{for(L=I,I=zr;L.nodeType!==8;){if(!I){I=null;break t}if(L=xr(L.nextSibling),L===null){I=null;break t}}I=L}I!==null?(s.memoizedState={dehydrated:I,treeContext:ta!==null?{id:pi,overflow:mi}:null,retryLane:536870912},L=pr(18,null,null,0),L.stateNode=I,L.return=s,s.child=L,An=s,on=null,L=!0):L=!1}L||na(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;gi(s)}return I=u.children,u=u.fallback,d?(es(),d=s.mode,I=wd({mode:"hidden",children:I},d),u=fa(u,d,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,d=s.child,d.memoizedState=vd(o),d.childLanes=Ed(r,b,o),s.memoizedState=_d,u):(ts(s),Td(s,I))}if(L=r.memoizedState,L!==null&&(I=L.dehydrated,I!==null)){if(g)s.flags&256?(ts(s),s.flags&=-257,s=bd(r,s,o)):s.memoizedState!==null?(es(),s.child=r.child,s.flags|=128,s=null):(es(),d=u.fallback,I=s.mode,u=wd({mode:"visible",children:u.children},I),d=fa(d,I,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,ra(s,r.child,null,o),u=s.child,u.memoizedState=vd(o),u.childLanes=Ed(r,b,o),s.memoizedState=_d,s=d);else if(ts(s),I.data==="$!"){if(b=I.nextSibling&&I.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(i(419)),u.stack="",u.digest=b,gl({value:u,source:null,stack:null}),s=bd(r,s,o)}else if(en||xl(r,s,o,!1),b=(o&r.childLanes)!==0,en||b){if(b=ye,b!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane)throw L.retryLane=u,Ji(r,u),Rn(b,r,u),C_}I.data==="$?"||Wd(),s=bd(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=zS.bind(null,r),I._reactRetry=s,s=null):(r=L.treeContext,on=xr(I.nextSibling),An=s,le=!0,Ar=null,zr=!1,r!==null&&(ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ta,pi=r.id,mi=r.overflow,ta=s),s=Td(s,u.children),s.flags|=4096);return s}return d?(es(),d=u.fallback,I=s.mode,L=r.child,G=L.sibling,u=hs(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&31457280,G!==null?d=hs(G,d):(d=fa(d,I,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,I=r.child.memoizedState,I===null?I=vd(o):(L=I.cachePool,L!==null?(G=Qe._currentValue,L=L.parent!==G?{parent:G,pool:G}:L):L=By(),I={baseLanes:I.baseLanes|o,cachePool:L}),d.memoizedState=I,d.childLanes=Ed(r,b,o),s.memoizedState=_d,u):(ts(s),o=r.child,r=o.sibling,o=hs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Td(r,s){return s=wd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function wd(r,s){return cv(r,s,0,null)}function bd(r,s,o){return ra(s,r.child,null,o),r=Td(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function B_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),xd(r.return,s,o)}function Sd(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function z_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(r,s,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&B_(r,o,s);else if(r.tag===19)B_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qt(Ke,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&vc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Sd(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&vc(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Sd(s,!0,o,null,g);break;case"together":Sd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(xl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=hs(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=hs(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Ad(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Dc(r)))}function RS(r,s,o){switch(s.tag){case 3:zn(s,s.stateNode.containerInfo),is(s,Qe,r.memoizedState.cache),ml();break;case 27:case 5:tr(s);break;case 4:zn(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?V_(r,s,o):(ts(s),r=_i(r,s,o),r!==null?r.sibling:null);ts(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(xl(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return z_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qt(Ke,Ke.current),u)break;return null;case 22:case 23:return s.lanes=0,O_(r,s,o);case 24:is(s,Qe,r.memoizedState.cache)}return _i(r,s,o)}function F_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)en=!0;else{if(!Ad(r,o)&&(s.flags&128)===0)return en=!1,RS(r,s,o);en=(r.flags&131072)!==0}else en=!1,le&&(s.flags&1048576)!==0&&Ay(s,pc,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Bd(u)?(r=la(u,r),s.tag=1,s=P_(null,s,u,r,o)):(s.tag=0,s=yd(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===U){s.tag=11,s=k_(null,s,u,r,o);break t}else if(d===K){s.tag=14,s=D_(null,s,u,r,o);break t}}throw s=M(u)||u,Error(i(306,s,""))}}return s;case 0:return yd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),P_(r,s,u,d,o);case 3:t:{if(zn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,kd(r,s),kl(s,g,null,o);var b=s.memoizedState;if(g=b.cache,is(s,Qe,g),g!==d.cache&&Id(s,[Qe],o,!0),Cl(),g=b.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=L_(r,s,g,o);break t}else if(g!==u){u=lr(Error(i(424)),s),gl(u),s=L_(r,s,g,o);break t}else for(on=xr(s.stateNode.containerInfo.firstChild),An=s,le=!0,Ar=null,zr=!0,o=My(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ml(),g===u){s=_i(r,s,o);break t}ln(r,s,g,o)}s=s.child}return s;case 26:return Rl(r,s),r===null?(o=Hv(s.type,null,s.pendingProps,null))?s.memoizedState=o:le||(o=s.type,r=s.pendingProps,u=Qc(Oe.current).createElement(o),u[Ze]=s,u[qe]=r,un(u,o,r),be(u),s.stateNode=u):s.memoizedState=Hv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return tr(s),r===null&&le&&(u=s.stateNode=Fv(s.type,s.pendingProps,Oe.current),An=s,zr=!0,on=xr(u.firstChild)),u=s.pendingProps.children,r!==null||le?ln(r,s,u,o):s.child=ra(s,null,u,o),Rl(r,s),s.child;case 5:return r===null&&le&&((d=u=on)&&(u=nA(u,s.type,s.pendingProps,zr),u!==null?(s.stateNode=u,An=s,on=xr(u.firstChild),zr=!1,d=!0):d=!1),d||na(s)),tr(s),d=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,hp(d,g)?u=null:b!==null&&hp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=Jf(r,s,vS,null,null,o),Gl._currentValue=d),Rl(r,s),ln(r,s,u,o),s.child;case 6:return r===null&&le&&((r=o=on)&&(o=rA(o,s.pendingProps,zr),o!==null?(s.stateNode=o,An=s,on=null,r=!0):r=!1),r||na(s)),null;case 13:return V_(r,s,o);case 4:return zn(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=ra(s,null,u,o):ln(r,s,u,o),s.child;case 11:return k_(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),ln(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ca(s),d=mn(d),u=u(d),s.flags|=1,ln(r,s,u,o),s.child;case 14:return D_(r,s,s.type,s.pendingProps,o);case 15:return N_(r,s,s.type,s.pendingProps,o);case 19:return z_(r,s,o);case 22:return O_(r,s,o);case 24:return ca(s),u=mn(Qe),r===null?(d=Wf(),d===null&&(d=ye,g=Xf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Cd(s),is(s,Qe,d)):((r.lanes&o)!==0&&(kd(r,s),kl(s,null,null,o),Cl()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),is(s,Qe,u)):(u=g.cache,is(s,Qe,u),u!==d.cache&&Id(s,[Qe],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Rd=Ut(null),ua=null,vi=null;function is(r,s,o){Qt(Rd,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=Rd.current,ae(Rd)}function xd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Id(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var I=g;g=d;for(var L=0;L<s.length;L++)if(I.context===s[L]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),xd(g.return,o,r),u||(b=null);break t}g=I.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),xd(b,o,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function xl(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var I=d.type;Gn(d.pendingProps.value,b.value)||(r!==null?r.push(I):r=[I])}}else if(d===dn.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Gl):r=[Gl])}d=d.return}r!==null&&Id(s,r,o,u),s.flags|=262144}function Dc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ca(r){ua=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return j_(ua,r)}function Nc(r,s){return ua===null&&ca(r),j_(r,s)}function j_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var ss=!1;function Cd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function as(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function os(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=fc(r),by(r,null,o),s}return hc(r,u,s,o),fc(r)}function Il(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,qi(r,o)}}function Dd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Nd=!1;function Cl(){if(Nd){var r=eo;if(r!==null)throw r}}function kl(r,s,o,u){Nd=!1;var d=r.updateQueue;ss=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var L=I,G=L.next;L.next=null,b===null?g=G:b.next=G,b=L;var at=r.alternate;at!==null&&(at=at.updateQueue,I=at.lastBaseUpdate,I!==b&&(I===null?at.firstBaseUpdate=G:I.next=G,at.lastBaseUpdate=L))}if(g!==null){var ct=d.baseState;b=0,at=G=L=null,I=g;do{var W=I.lane&-536870913,st=W!==I.lane;if(st?(ie&W)===W:(u&W)===W){W!==0&&W===to&&(Nd=!0),at!==null&&(at=at.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var It=r,Ft=I;W=s;var Ne=o;switch(Ft.tag){case 1:if(It=Ft.payload,typeof It=="function"){ct=It.call(Ne,ct,W);break t}ct=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ft.payload,W=typeof It=="function"?It.call(Ne,ct,W):It,W==null)break t;ct=P({},ct,W);break t;case 2:ss=!0}}W=I.callback,W!==null&&(r.flags|=64,st&&(r.flags|=8192),st=d.callbacks,st===null?d.callbacks=[W]:st.push(W))}else st={lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},at===null?(G=at=st,L=ct):at=at.next=st,b|=W;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;st=I,I=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);at===null&&(L=ct),d.baseState=L,d.firstBaseUpdate=G,d.lastBaseUpdate=at,g===null&&(d.shared.lanes=0),fs|=b,r.lanes=b,r.memoizedState=ct}}function q_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function H_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)q_(o[r],s)}function Dl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(I){ge(s,s.return,I)}}function ls(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var b=u.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,d=s;var L=o;try{I()}catch(G){ge(d,L,G)}}}u=u.next}while(u!==g)}}catch(G){ge(s,s.return,G)}}function G_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{H_(s,o)}catch(u){ge(r,r.return,u)}}}function K_(r,s,o){o.props=la(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ge(r,s,u)}}function ha(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){ge(r,s,g)}}function Kn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ge(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ge(r,s,d)}else o.current=null}function Q_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ge(r,r.return,d)}}function Y_(r,s,o){try{var u=r.stateNode;WS(u,r.type,o,s),u[qe]=s}catch(d){ge(r,r.return,d)}}function X_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Od(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||X_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Md(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kc));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Md(r,s,o),r=r.sibling;r!==null;)Md(r,s,o),r=r.sibling}function Oc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Oc(r,s,o),r=r.sibling;r!==null;)Oc(r,s,o),r=r.sibling}var Ti=!1,ke=!1,Ud=!1,$_=typeof WeakSet=="function"?WeakSet:Set,nn=null,W_=!1;function xS(r,s){if(r=r.containerInfo,up=Jc,r=py(r),Lf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,I=-1,L=-1,G=0,at=0,ct=r,W=null;e:for(;;){for(var st;ct!==o||d!==0&&ct.nodeType!==3||(I=b+d),ct!==g||u!==0&&ct.nodeType!==3||(L=b+u),ct.nodeType===3&&(b+=ct.nodeValue.length),(st=ct.firstChild)!==null;)W=ct,ct=st;for(;;){if(ct===r)break e;if(W===o&&++G===d&&(I=b),W===g&&++at===u&&(L=b),(st=ct.nextSibling)!==null)break;ct=W,W=ct.parentNode}ct=st}o=I===-1||L===-1?null:{start:I,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:r,selectionRange:o},Jc=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var It=la(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(It,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ft){ge(o,o.return,Ft)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)pp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}return It=W_,W_=!1,It}function Z_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bi(r,o),u&4&&Dl(5,o);break;case 1:if(bi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){ge(o,o.return,I)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){ge(o,o.return,I)}}u&64&&G_(o),u&512&&ha(o,o.return);break;case 3:if(bi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{H_(u,r)}catch(I){ge(o,o.return,I)}}break;case 26:bi(r,o),u&512&&ha(o,o.return);break;case 27:case 5:bi(r,o),s===null&&u&4&&Q_(o),u&512&&ha(o,o.return);break;case 12:bi(r,o);break;case 13:bi(r,o),u&4&&ev(r,o);break;case 22:if(d=o.memoizedState!==null||Ti,!d){s=s!==null&&s.memoizedState!==null||ke;var g=Ti,b=ke;Ti=d,(ke=s)&&!b?us(r,o,(o.subtreeFlags&8772)!==0):bi(r,o),Ti=g,ke=b}u&512&&(o.memoizedProps.mode==="manual"?ha(o,o.return):Kn(o,o.return));break;default:bi(r,o)}}function J_(r){var s=r.alternate;s!==null&&(r.alternate=null,J_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Fs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ze=null,Qn=!1;function wi(r,s,o){for(o=o.child;o!==null;)tv(r,s,o),o=o.sibling}function tv(r,s,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(nt,o)}catch{}switch(o.tag){case 26:ke||Kn(o,s),wi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Kn(o,s);var u=ze,d=Qn;for(ze=o.stateNode,wi(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fs(o),ze=u,Qn=d;break;case 5:ke||Kn(o,s);case 6:d=ze;var g=Qn;if(ze=null,wi(r,s,o),ze=d,Qn=g,ze!==null)if(Qn)try{r=ze,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(b){ge(o,s,b)}else try{ze.removeChild(o.stateNode)}catch(b){ge(o,s,b)}break;case 18:ze!==null&&(Qn?(s=ze,o=o.stateNode,s.nodeType===8?dp(s.parentNode,o):s.nodeType===1&&dp(s,o),Xl(s)):dp(ze,o.stateNode));break;case 4:u=ze,d=Qn,ze=o.stateNode.containerInfo,Qn=!0,wi(r,s,o),ze=u,Qn=d;break;case 0:case 11:case 14:case 15:ke||ls(2,o,s),ke||ls(4,o,s),wi(r,s,o);break;case 1:ke||(Kn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&K_(o,s,u)),wi(r,s,o);break;case 21:wi(r,s,o);break;case 22:ke||Kn(o,s),ke=(u=ke)||o.memoizedState!==null,wi(r,s,o),ke=u;break;default:wi(r,s,o)}}function ev(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xl(r)}catch(o){ge(s,s.return,o)}}function IS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new $_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new $_),s;default:throw Error(i(435,r.tag))}}function Pd(r,s){var o=IS(r);s.forEach(function(u){var d=FS.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,b=s,I=b;t:for(;I!==null;){switch(I.tag){case 27:case 5:ze=I.stateNode,Qn=!1;break t;case 3:ze=I.stateNode.containerInfo,Qn=!0;break t;case 4:ze=I.stateNode.containerInfo,Qn=!0;break t}I=I.return}if(ze===null)throw Error(i(160));tv(g,b,d),ze=null,Qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)nv(s,r),s=s.sibling}var Rr=null;function nv(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),dr(r),u&4&&(ls(3,r,r.return),Dl(3,r),ls(5,r,r.return));break;case 1:fr(s,r),dr(r),u&512&&(ke||o===null||Kn(o,o.return)),u&64&&Ti&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Rr;if(fr(s,r),dr(r),u&512&&(ke||o===null||Kn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){t:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Gi]||g[Ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Ze]=r,be(g),u=g;break t;case"link":var b=Qv("link","href",d).get(u+(o.href||""));if(b){for(var I=0;I<b.length;I++)if(g=b[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(I,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(b=Qv("meta","content",d).get(u+(o.content||""))){for(I=0;I<b.length;I++)if(g=b[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(I,1);break e}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ze]=r,be(g),u=g}r.stateNode=u}else Yv(d,r.type,r.stateNode);else r.stateNode=Kv(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Yv(d,r.type,r.stateNode):Kv(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Y_(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var L=d.firstChild;L;){var G=L.nextSibling,at=L.nodeName;L[Gi]||at==="HEAD"||at==="BODY"||at==="SCRIPT"||at==="STYLE"||at==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=G}for(var ct=r.type,W=d.attributes;W.length;)d.removeAttributeNode(W[0]);un(d,ct,g),d[Ze]=r,d[qe]=g}catch(It){ge(r,r.return,It)}}case 5:if(fr(s,r),dr(r),u&512&&(ke||o===null||Kn(o,o.return)),r.flags&32){d=r.stateNode;try{rr(d,"")}catch(It){ge(r,r.return,It)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Y_(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Ud=!0);break;case 6:if(fr(s,r),dr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(It){ge(r,r.return,It)}}break;case 3:if($c=null,d=Rr,Rr=Yc(s.containerInfo),fr(s,r),Rr=d,dr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xl(s.containerInfo)}catch(It){ge(r,r.return,It)}Ud&&(Ud=!1,rv(r));break;case 4:u=Rr,Rr=Yc(r.stateNode.containerInfo),fr(s,r),dr(r),Rr=u;break;case 12:fr(s,r),dr(r);break;case 13:fr(s,r),dr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gd=We()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Pd(r,u)));break;case 22:if(u&512&&(ke||o===null||Kn(o,o.return)),L=r.memoizedState!==null,G=o!==null&&o.memoizedState!==null,at=Ti,ct=ke,Ti=at||L,ke=ct||G,fr(s,r),ke=ct,Ti=at,dr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=L?s._visibility&-2:s._visibility|1,L&&(s=Ti||ke,o===null||G||s||so(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){G=o=s;try{if(d=G.stateNode,L)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=G.stateNode,I=G.memoizedProps.style;var st=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(It){ge(G,G.return,It)}}}else if(s.tag===6){if(o===null){G=s;try{G.stateNode.nodeValue=L?"":G.memoizedProps}catch(It){ge(G,G.return,It)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Pd(r,o))));break;case 19:fr(s,r),dr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Pd(r,u)));break;case 21:break;default:fr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){t:{for(var o=r.return;o!==null;){if(X_(o)){var u=o;break t}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,g=Od(r);Oc(r,g,d);break;case 5:var b=u.stateNode;u.flags&32&&(rr(b,""),u.flags&=-33);var I=Od(r);Oc(r,I,b);break;case 3:case 4:var L=u.stateNode.containerInfo,G=Od(r);Md(r,G,L);break;default:throw Error(i(161))}}}catch(at){ge(r,r.return,at)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;rv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function bi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z_(r,s.alternate,s),s=s.sibling}function so(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),so(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K_(s,s.return,o),so(s);break;case 26:case 27:case 5:Kn(s,s.return),so(s);break;case 22:Kn(s,s.return),s.memoizedState===null&&so(s);break;default:so(s)}r=r.sibling}}function us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:us(d,g,o),Dl(4,g);break;case 1:if(us(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ge(u,u.return,G)}if(u=g,d=u.updateQueue,d!==null){var I=u.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)q_(L[d],I)}catch(G){ge(u,u.return,G)}}o&&b&64&&G_(g),ha(g,g.return);break;case 26:case 27:case 5:us(d,g,o),o&&u===null&&b&4&&Q_(g),ha(g,g.return);break;case 12:us(d,g,o);break;case 13:us(d,g,o),o&&b&4&&ev(d,g);break;case 22:g.memoizedState===null&&us(d,g,o),ha(g,g.return);break;default:us(d,g,o)}s=s.sibling}}function Ld(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Tl(o))}function Vd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Tl(r))}function cs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iv(r,s,o,u),s=s.sibling}function iv(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:cs(r,s,o,u),d&2048&&Dl(9,s);break;case 3:cs(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Tl(r)));break;case 12:if(d&2048){cs(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,I=g.onPostCommit;typeof I=="function"&&I(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){ge(s,s.return,L)}}else cs(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?cs(r,s,o,u):Nl(r,s):g._visibility&4?cs(r,s,o,u):(g._visibility|=4,ao(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Ld(s.alternate,s);break;case 24:cs(r,s,o,u),d&2048&&Vd(s.alternate,s);break;default:cs(r,s,o,u)}}function ao(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,I=o,L=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:ao(g,b,I,L,d),Dl(8,b);break;case 23:break;case 22:var at=b.stateNode;b.memoizedState!==null?at._visibility&4?ao(g,b,I,L,d):Nl(g,b):(at._visibility|=4,ao(g,b,I,L,d)),d&&G&2048&&Ld(b.alternate,b);break;case 24:ao(g,b,I,L,d),d&&G&2048&&Vd(b.alternate,b);break;default:ao(g,b,I,L,d)}s=s.sibling}}function Nl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Nl(o,u),d&2048&&Ld(u.alternate,u);break;case 24:Nl(o,u),d&2048&&Vd(u.alternate,u);break;default:Nl(o,u)}s=s.sibling}}var Ol=8192;function oo(r){if(r.subtreeFlags&Ol)for(r=r.child;r!==null;)sv(r),r=r.sibling}function sv(r){switch(r.tag){case 26:oo(r),r.flags&Ol&&r.memoizedState!==null&&gA(Rr,r.memoizedState,r.memoizedProps);break;case 5:oo(r);break;case 3:case 4:var s=Rr;Rr=Yc(r.stateNode.containerInfo),oo(r),Rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ol,Ol=16777216,oo(r),Ol=s):oo(r));break;default:oo(r)}}function av(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ml(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,lv(u,r)}av(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ov(r),r=r.sibling}function ov(r){switch(r.tag){case 0:case 11:case 15:Ml(r),r.flags&2048&&ls(9,r,r.return);break;case 3:Ml(r);break;case 12:Ml(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Mc(r)):Ml(r);break;default:Ml(r)}}function Mc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,lv(u,r)}av(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ls(8,s,s.return),Mc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Mc(s));break;default:Mc(s)}r=r.sibling}}function lv(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else t:for(o=r;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(J_(u),u===o){nn=null;break t}if(d!==null){d.return=g,nn=d;break t}nn=g}}}function CS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,o,u){return new CS(r,s,o,u)}function Bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hs(r,s){var o=r.alternate;return o===null?(o=pr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function uv(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Uc(r,s,o,u,d,g){var b=0;if(u=r,typeof r=="function")Bd(r)&&(b=1);else if(typeof r=="string")b=pA(r,o,Ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case p:return fa(o.children,d,g,s);case m:b=8,d|=24;break;case _:return r=pr(12,o,s,d|2),r.elementType=_,r.lanes=g,r;case B:return r=pr(13,o,s,d),r.elementType=B,r.lanes=g,r;case q:return r=pr(19,o,s,d),r.elementType=q,r.lanes=g,r;case et:return cv(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case S:b=10;break t;case R:b=9;break t;case U:b=11;break t;case K:b=14;break t;case rt:b=16,u=null;break t}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=pr(b,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function fa(r,s,o,u){return r=pr(7,r,u,s),r.lanes=o,r}function cv(r,s,o,u){r=pr(22,r,u,s),r.elementType=et,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var b=Ji(g,2);b!==null&&(d._pendingVisibility|=2,Rn(b,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var b=Ji(g,2);b!==null&&(d._pendingVisibility&=-3,Rn(b,g,2))}}};return r.stateNode=d,r}function zd(r,s,o){return r=pr(6,r,null,s),r.lanes=o,r}function Fd(r,s,o){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Si(r){r.flags|=4}function hv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Xv(s)){if(s=hr.current,s!==null&&((ie&4194176)===ie?Fr!==null:(ie&62914560)!==ie&&(ie&536870912)===0||s!==Fr))throw _l=Kf,Iy;r.flags|=8192}}function Pc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Fi():536870912,r.lanes|=s,uo|=s)}function Ul(r,s){if(!le)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Se(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function kS(r,s,o){var u=s.pendingProps;switch(Hf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(s),null;case 1:return Se(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei(Qe),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(pl(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar!==null&&(Xd(Ar),Ar=null))),Se(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(Se(s),hv(s,o)):(Se(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),Se(s),hv(s,o)):(Se(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),Se(s),s.flags&=-16777217),null;case 27:Cr(s),o=Oe.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Se(s),null}r=Ie.current,pl(s)?Ry(s):(r=Fv(d,u,o),s.stateNode=r,Si(s))}return Se(s),null;case 5:if(Cr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Se(s),null}if(r=Ie.current,pl(s))Ry(s);else{switch(d=Qc(Oe.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Ze]=s,r[qe]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;t:switch(un(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Si(s)}}return Se(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Oe.current,pl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Ze]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Uv(r.nodeValue,o)),r||na(s)}else r=Qc(r).createTextNode(u),r[Ze]=s,s.stateNode=r}return Se(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=pl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ze]=s}else ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Se(s),d=!1}else Ar!==null&&(Xd(Ar),Ar=null),d=!0;if(!d)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Pc(s,s.updateQueue),Se(s),null;case 4:return kn(),r===null&&ap(s.stateNode.containerInfo),Se(s),null;case 10:return Ei(s.type),Se(s),null;case 19:if(ae(Ke),d=s.memoizedState,d===null)return Se(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Ul(d,!1);else{if(De!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=vc(r),g!==null){for(s.flags|=128,Ul(d,!1),r=g.updateQueue,s.updateQueue=r,Pc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)uv(o,r),o=o.sibling;return Qt(Ke,Ke.current&1|2),s.child}r=r.sibling}d.tail!==null&&We()>Lc&&(s.flags|=128,u=!0,Ul(d,!1),s.lanes=4194304)}else{if(!u)if(r=vc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Pc(s,r),Ul(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!le)return Se(s),null}else 2*We()-d.renderingStartTime>Lc&&o!==536870912&&(s.flags|=128,u=!0,Ul(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=We(),s.sibling=null,r=Ke.current,Qt(Ke,u?r&1|2:r&1),s):(Se(s),null);case 22:case 23:return gi(s),Yf(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Se(s),s.subtreeFlags&6&&(s.flags|=8192)):Se(s),o=s.updateQueue,o!==null&&Pc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ae(ia),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei(Qe),Se(s),null;case 25:return null}throw Error(i(156,s.tag))}function DS(r,s){switch(Hf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(Qe),kn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Cr(s),null;case 13:if(gi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ml()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ae(Ke),null;case 4:return kn(),null;case 10:return Ei(s.type),null;case 22:case 23:return gi(s),Yf(),r!==null&&ae(ia),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei(Qe),null;case 25:return null;default:return null}}function fv(r,s){switch(Hf(s),s.tag){case 3:Ei(Qe),kn();break;case 26:case 27:case 5:Cr(s);break;case 4:kn();break;case 13:gi(s);break;case 19:ae(Ke);break;case 10:Ei(s.type);break;case 22:case 23:gi(s),Yf(),r!==null&&ae(ia);break;case 24:Ei(Qe)}}var NS={getCacheForType:function(r){var s=mn(Qe),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},OS=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ye=null,$t=null,ie=0,_e=0,Yn=null,Ai=!1,lo=!1,jd=!1,Ri=0,De=0,fs=0,da=0,qd=0,mr=0,uo=0,Pl=null,qr=null,Hd=!1,Gd=0,Lc=1/0,Vc=null,ds=null,Bc=!1,pa=null,Ll=0,Kd=0,Qd=null,Vl=0,Yd=null;function Xn(){if((Ae&2)!==0&&ie!==0)return ie&-ie;if(D.T!==null){var r=to;return r!==0?r:np()}return Gu()}function dv(){mr===0&&(mr=(ie&536870912)===0||le?$o():536870912);var r=hr.current;return r!==null&&(r.flags|=32),mr}function Rn(r,s,o){(r===ye&&_e===2||r.cancelPendingCommit!==null)&&(co(r,0),xi(r,ie,mr,!1)),Me(r,o),((Ae&2)===0||r!==ye)&&(r===ye&&((Ae&2)===0&&(da|=o),De===4&&xi(r,ie,mr,!1)),Hr(r))}function pv(r,s,o){if((Ae&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||zi(r,s),d=u?PS(r,s):Zd(r,s,!0),g=u;do{if(d===0){lo&&!u&&xi(r,s,0,!1);break}else if(d===6)xi(r,s,0,!Ai);else{if(o=r.current.alternate,g&&!MS(o)){d=Zd(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var I=r;d=Pl;var L=I.current.memoizedState.isDehydrated;if(L&&(co(I,b).flags|=256),b=Zd(I,b,!1),b!==2){if(jd&&!L){I.errorRecoveryDisabledLanes|=g,da|=g,d=4;break t}g=qr,qr=d,g!==null&&Xd(g)}d=b}if(g=!1,d!==2)continue}}if(d===1){co(r,0),xi(r,s,0,!0);break}t:{switch(u=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){xi(u,s,mr,!Ai);break t}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Gd+300-We(),10<g)){if(xi(u,s,mr,!Ai),er(u,0)!==0)break t;u.timeoutHandle=Vv(mv.bind(null,u,o,qr,Vc,Hd,s,mr,da,uo,Ai,2,-0,0),g);break t}mv(u,o,qr,Vc,Hd,s,mr,da,uo,Ai,0,-0,0)}}break}while(!0);Hr(r)}function Xd(r){qr===null?qr=r:qr.push.apply(qr,r)}function mv(r,s,o,u,d,g,b,I,L,G,at,ct,W){var st=s.subtreeFlags;if((st&8192||(st&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:mA},sv(s),s=yA(),s!==null)){r.cancelPendingCommit=s(wv.bind(null,r,o,u,d,b,I,L,1,ct,W)),xi(r,g,b,!G);return}wv(r,o,u,d,b,I,L,at,ct,W)}function MS(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s,o,u){s&=~qd,s&=~da,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-Bt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&ji(r,o,s)}function zc(){return(Ae&6)===0?(Bl(0),!1):!0}function $d(){if($t!==null){if(_e===0)var r=$t.return;else r=$t,vi=ua=null,nd(r),Za=null,vl=0,r=$t;for(;r!==null;)fv(r.alternate,r),r=r.return;$t=null}}function co(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,JS(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),$d(),ye=r,$t=o=hs(r.current,null),ie=s,_e=0,Yn=null,Ai=!1,lo=zi(r,s),jd=!1,uo=mr=qd=da=fs=De=0,qr=Pl=null,Hd=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Bt(u),g=1<<d;s|=r[d],u&=~g}return Ri=s,cc(),o}function gv(r,s){Yt=null,D.H=jr,s===yl?(s=Dy(),_e=3):s===Iy?(s=Dy(),_e=4):_e=s===C_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,$t===null&&(De=1,kc(r,lr(s,r.current)))}function yv(){var r=D.H;return D.H=jr,r===null?jr:r}function _v(){var r=D.A;return D.A=NS,r}function Wd(){De=4,Ai||(ie&4194176)!==ie&&hr.current!==null||(lo=!0),(fs&134217727)===0&&(da&134217727)===0||ye===null||xi(ye,ie,mr,!1)}function Zd(r,s,o){var u=Ae;Ae|=2;var d=yv(),g=_v();(ye!==r||ie!==s)&&(Vc=null,co(r,s)),s=!1;var b=De;t:do try{if(_e!==0&&$t!==null){var I=$t,L=Yn;switch(_e){case 8:$d(),b=6;break t;case 3:case 2:case 6:hr.current===null&&(s=!0);var G=_e;if(_e=0,Yn=null,ho(r,I,L,G),o&&lo){b=0;break t}break;default:G=_e,_e=0,Yn=null,ho(r,I,L,G)}}US(),b=De;break}catch(at){gv(r,at)}while(!0);return s&&r.shellSuspendCounter++,vi=ua=null,Ae=u,D.H=d,D.A=g,$t===null&&(ye=null,ie=0,cc()),b}function US(){for(;$t!==null;)vv($t)}function PS(r,s){var o=Ae;Ae|=2;var u=yv(),d=_v();ye!==r||ie!==s?(Vc=null,Lc=We()+500,co(r,s)):lo=zi(r,s);t:do try{if(_e!==0&&$t!==null){s=$t;var g=Yn;e:switch(_e){case 1:_e=0,Yn=null,ho(r,s,g,1);break;case 2:if(Cy(g)){_e=0,Yn=null,Ev(s);break}s=function(){_e===2&&ye===r&&(_e=7),Hr(r)},g.then(s,s);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Cy(g)?(_e=0,Yn=null,Ev(s)):(_e=0,Yn=null,ho(r,s,g,7));break;case 5:var b=null;switch($t.tag){case 26:b=$t.memoizedState;case 5:case 27:var I=$t;if(!b||Xv(b)){_e=0,Yn=null;var L=I.sibling;if(L!==null)$t=L;else{var G=I.return;G!==null?($t=G,Fc(G)):$t=null}break e}}_e=0,Yn=null,ho(r,s,g,5);break;case 6:_e=0,Yn=null,ho(r,s,g,6);break;case 8:$d(),De=6;break t;default:throw Error(i(462))}}LS();break}catch(at){gv(r,at)}while(!0);return vi=ua=null,D.H=u,D.A=d,Ae=o,$t!==null?0:(ye=null,ie=0,cc(),De)}function LS(){for(;$t!==null&&!pn();)vv($t)}function vv(r){var s=F_(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,s===null?Fc(r):$t=s}function Ev(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=U_(o,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=U_(o,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:nd(s);default:fv(o,s),s=$t=uv(s,Ri),s=F_(o,s,Ri)}r.memoizedProps=r.pendingProps,s===null?Fc(r):$t=s}function ho(r,s,o,u){vi=ua=null,nd(s),Za=null,vl=0;var d=s.return;try{if(AS(r,d,s,o,ie)){De=1,kc(r,lr(o,r.current)),$t=null;return}}catch(g){if(d!==null)throw $t=d,g;De=1,kc(r,lr(o,r.current)),$t=null;return}s.flags&32768?(le||u===1?r=!0:lo||(ie&536870912)!==0?r=!1:(Ai=r=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tv(s,r)):Fc(s)}function Fc(r){var s=r;do{if((s.flags&32768)!==0){Tv(s,Ai);return}r=s.return;var o=kS(s.alternate,s,Ri);if(o!==null){$t=o;return}if(s=s.sibling,s!==null){$t=s;return}$t=s=r}while(s!==null);De===0&&(De=5)}function Tv(r,s){do{var o=DS(r.alternate,r);if(o!==null){o.flags&=32767,$t=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){$t=r;return}$t=r=o}while(r!==null);De=6,$t=null}function wv(r,s,o,u,d,g,b,I,L,G){var at=D.T,ct=_t.p;try{_t.p=2,D.T=null,VS(r,s,o,u,ct,d,g,b,I,L,G)}finally{D.T=at,_t.p=ct}}function VS(r,s,o,u,d,g,b,I){do fo();while(pa!==null);if((Ae&6)!==0)throw Error(i(327));var L=r.finishedWork;if(u=r.finishedLanes,L===null)return null;if(r.finishedWork=null,r.finishedLanes=0,L===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var G=L.lanes|L.childLanes;if(G|=Ff,qu(r,u,G,g,b,I),r===ye&&($t=ye=null,ie=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Bc||(Bc=!0,Kd=G,Qd=o,jS(y,function(){return fo(),null})),o=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||o?(o=D.T,D.T=null,g=_t.p,_t.p=2,b=Ae,Ae|=4,xS(r,L),nv(L,r),lS(cp,r.containerInfo),Jc=!!up,cp=up=null,r.current=L,Z_(r,L.alternate,L),Tr(),Ae=b,_t.p=g,D.T=o):r.current=L,Bc?(Bc=!1,pa=r,Ll=u):bv(r,G),G=r.pendingLanes,G===0&&(ds=null),ee(L.stateNode),Hr(r),s!==null)for(d=r.onRecoverableError,L=0;L<s.length;L++)G=s[L],d(G.value,{componentStack:G.stack});return(Ll&3)!==0&&fo(),G=r.pendingLanes,(u&4194218)!==0&&(G&42)!==0?r===Yd?Vl++:(Vl=0,Yd=r):Vl=0,Bl(0),null}function bv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Tl(s)))}function fo(){if(pa!==null){var r=pa,s=Kd;Kd=0;var o=Hu(Ll),u=D.T,d=_t.p;try{if(_t.p=32>o?32:o,D.T=null,pa===null)var g=!1;else{o=Qd,Qd=null;var b=pa,I=Ll;if(pa=null,Ll=0,(Ae&6)!==0)throw Error(i(331));var L=Ae;if(Ae|=4,ov(b.current),iv(b,b.current,I,o),Ae=L,Bl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(nt,b)}catch{}g=!0}return g}finally{_t.p=d,D.T=u,bv(r,s)}}return!1}function Sv(r,s,o){s=lr(o,s),s=gd(r.stateNode,s,2),r=os(r,s,2),r!==null&&(Me(r,2),Hr(r))}function ge(r,s,o){if(r.tag===3)Sv(r,r,o);else for(;s!==null;){if(s.tag===3){Sv(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){r=lr(o,r),o=x_(2),u=os(s,o,2),u!==null&&(I_(o,u,s,r),Me(u,2),Hr(u));break}}s=s.return}}function Jd(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new OS;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(jd=!0,d.add(o),r=BS.bind(null,r,s,o),s.then(r,r))}function BS(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ye===r&&(ie&o)===o&&(De===4||De===3&&(ie&62914560)===ie&&300>We()-Gd?(Ae&2)===0&&co(r,0):qd|=o,uo===ie&&(uo=0)),Hr(r)}function Av(r,s){s===0&&(s=Fi()),r=Ji(r,s),r!==null&&(Me(r,s),Hr(r))}function zS(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Av(r,o)}function FS(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Av(r,o)}function jS(r,s){return Fn(r,s)}var jc=null,po=null,tp=!1,qc=!1,ep=!1,ma=0;function Hr(r){r!==po&&r.next===null&&(po===null?jc=po=r:po=po.next=r),qc=!0,tp||(tp=!0,HS(qS))}function Bl(r,s){if(!ep&&qc){ep=!0;do for(var o=!1,u=jc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-Bt(42|r)+1)-1,g&=d&~(b&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,Iv(u,g))}else g=ie,g=er(u,u===ye?g:0),(g&3)===0||zi(u,g)||(o=!0,Iv(u,g));u=u.next}while(o);ep=!1}}function qS(){qc=tp=!1;var r=0;ma!==0&&(ZS()&&(r=ma),ma=0);for(var s=We(),o=null,u=jc;u!==null;){var d=u.next,g=Rv(u,s);g===0?(u.next=null,o===null?jc=d:o.next=d,d===null&&(po=o)):(o=u,(r!==0||(g&3)!==0)&&(qc=!0)),u=d}Bl(r)}function Rv(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-Bt(g),I=1<<b,L=d[b];L===-1?((I&o)===0||(I&u)!==0)&&(d[b]=Da(I,s)):L<=s&&(r.expiredLanes|=I),g&=~I}if(s=ye,o=ie,o=er(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&_e===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&jn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||zi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&jn(u),Hu(o)){case 2:case 8:o=A;break;case 32:o=y;break;case 268435456:o=k;break;default:o=y}return u=xv.bind(null,r),o=Fn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&jn(u),r.callbackPriority=2,r.callbackNode=null,2}function xv(r,s){var o=r.callbackNode;if(fo()&&r.callbackNode!==o)return null;var u=ie;return u=er(r,r===ye?u:0),u===0?null:(pv(r,u,s),Rv(r,We()),r.callbackNode!=null&&r.callbackNode===o?xv.bind(null,r):null)}function Iv(r,s){if(fo())return null;pv(r,s,!0)}function HS(r){tA(function(){(Ae&6)!==0?Fn(J,r):r()})}function np(){return ma===0&&(ma=$o()),ma}function Cv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Or(""+r)}function kv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function GS(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Cv((d[qe]||null).action),b=u.submitter;b&&(s=(s=b[qe]||null)?Cv(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var I=new Va("action","action",null,u,d);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var L=b?kv(d,b):new FormData(d);hd(o,{pending:!0,data:L,method:d.method,action:g},null,L)}}else typeof g=="function"&&(I.preventDefault(),L=b?kv(d,b):new FormData(d),hd(o,{pending:!0,data:L,method:d.method,action:g},g,L))},currentTarget:d}]})}}for(var rp=0;rp<wy.length;rp++){var ip=wy[rp],KS=ip.toLowerCase(),QS=ip[0].toUpperCase()+ip.slice(1);Sr(KS,"on"+QS)}Sr(yy,"onAnimationEnd"),Sr(_y,"onAnimationIteration"),Sr(vy,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(cS,"onTransitionRun"),Sr(hS,"onTransitionStart"),Sr(fS,"onTransitionCancel"),Sr(Ey,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Dv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var I=u[b],L=I.instance,G=I.currentTarget;if(I=I.listener,L!==g&&d.isPropagationStopped())break t;g=I,d.currentTarget=G;try{g(d)}catch(at){Cc(at)}d.currentTarget=null,g=L}else for(b=0;b<u.length;b++){if(I=u[b],L=I.instance,G=I.currentTarget,I=I.listener,L!==g&&d.isPropagationStopped())break t;g=I,d.currentTarget=G;try{g(d)}catch(at){Cc(at)}d.currentTarget=null,g=L}}}}function Jt(r,s){var o=s[zs];o===void 0&&(o=s[zs]=new Set);var u=r+"__bubble";o.has(u)||(Nv(s,r,2,!1),o.add(u))}function sp(r,s,o){var u=0;s&&(u|=4),Nv(o,r,u,s)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function ap(r){if(!r[Hc]){r[Hc]=!0,Zo.forEach(function(o){o!=="selectionchange"&&(YS.has(o)||sp(o,!1,r),sp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hc]||(s[Hc]=!0,sp("selectionchange",!1,s))}}function Nv(r,s,o,u){switch(e0(s)){case 2:var d=EA;break;case 8:d=TA;break;default:d=vp}o=d.bind(null,s,o,r),d=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function op(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&(L=b.stateNode.containerInfo,L===d||L.nodeType===8&&L.parentNode===d))return;b=b.return}for(;I!==null;){if(b=br(I),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=g=b;continue t}I=I.parentNode}}u=u.return}Xu(function(){var G=g,at=La(o),ct=[];t:{var W=Ty.get(r);if(W!==void 0){var st=Va,It=r;switch(r){case"keypress":if(Ur(o)===0)break t;case"keydown":case"keyup":st=Ha;break;case"focusin":It="focus",st=Fa;break;case"focusout":It="blur",st=Fa;break;case"beforeblur":case"afterblur":st=Fa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=rc;break;case yy:case _y:case vy:st=ja;break;case Ey:st=sc;break;case"scroll":case"scrollend":st=$u;break;case"wheel":st=Ga;break;case"copy":case"cut":case"paste":st=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=cl;break;case"toggle":case"beforetoggle":st=oc}var Ft=(s&4)!==0,Ne=!Ft&&(r==="scroll"||r==="scrollend"),Q=Ft?W!==null?W+"Capture":null:W;Ft=[];for(var H=G,X;H!==null;){var lt=H;if(X=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||X===null||Q===null||(lt=Gs(H,Q),lt!=null&&Ft.push(Fl(H,lt,X))),Ne)break;H=H.return}0<Ft.length&&(W=new st(W,It,null,o,at),ct.push({event:W,listeners:Ft}))}}if((s&7)===0){t:{if(W=r==="mouseover"||r==="pointerover",st=r==="mouseout"||r==="pointerout",W&&o!==ir&&(It=o.relatedTarget||o.fromElement)&&(br(It)||It[si]))break t;if((st||W)&&(W=at.window===at?at:(W=at.ownerDocument)?W.defaultView||W.parentWindow:window,st?(It=o.relatedTarget||o.toElement,st=G,It=It?br(It):null,It!==null&&(Ne=wt(It),Ft=It.tag,It!==Ne||Ft!==5&&Ft!==27&&Ft!==6)&&(It=null)):(st=null,It=G),st!==It)){if(Ft=ar,lt="onMouseLeave",Q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Ft=cl,lt="onPointerLeave",Q="onPointerEnter",H="pointer"),Ne=st==null?W:Ki(st),X=It==null?W:Ki(It),W=new Ft(lt,H+"leave",st,o,at),W.target=Ne,W.relatedTarget=X,lt=null,br(at)===G&&(Ft=new Ft(Q,H+"enter",It,o,at),Ft.target=X,Ft.relatedTarget=Ne,lt=Ft),Ne=lt,st&&It)e:{for(Ft=st,Q=It,H=0,X=Ft;X;X=mo(X))H++;for(X=0,lt=Q;lt;lt=mo(lt))X++;for(;0<H-X;)Ft=mo(Ft),H--;for(;0<X-H;)Q=mo(Q),X--;for(;H--;){if(Ft===Q||Q!==null&&Ft===Q.alternate)break e;Ft=mo(Ft),Q=mo(Q)}Ft=null}else Ft=null;st!==null&&Ov(ct,W,st,Ft,!1),It!==null&&Ne!==null&&Ov(ct,Ne,It,Ft,!0)}}t:{if(W=G?Ki(G):window,st=W.nodeName&&W.nodeName.toLowerCase(),st==="select"||st==="input"&&W.type==="file")var At=ay;else if(Ge(W))if(oy)At=aS;else{At=iS;var Xt=rS}else st=W.nodeName,!st||st.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?G&&rl(G.elementType)&&(At=ay):At=sS;if(At&&(At=At(r,G))){di(ct,At,o,at);break t}Xt&&Xt(r,W,G),r==="focusout"&&G&&W.type==="number"&&G.memoizedProps.value!=null&&Pa(W,"number",W.value)}switch(Xt=G?Ki(G):window,r){case"focusin":(Ge(Xt)||Xt.contentEditable==="true")&&(Ka=Xt,Vf=G,dl=null);break;case"focusout":dl=Vf=Ka=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,my(ct,o,at);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":my(ct,o,at)}var kt;if(Vr)t:{switch(r){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ne?tt(r,o)&&(Ot="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(w&&o.locale!=="ko"&&(ne||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ne&&(kt=sl()):(Mr=at,Zi="value"in Mr?Mr.value:Mr.textContent,ne=!0)),Xt=Gc(G,Ot),0<Xt.length&&(Ot=new ll(Ot,r,null,o,at),ct.push({event:Ot,listeners:Xt}),kt?Ot.data=kt:(kt=gt(o),kt!==null&&(Ot.data=kt)))),(kt=v?He(r,o):re(r,o))&&(Ot=Gc(G,"onBeforeInput"),0<Ot.length&&(Xt=new ll("onBeforeInput","beforeinput",null,o,at),ct.push({event:Xt,listeners:Ot}),Xt.data=kt)),GS(ct,r,G,o,at)}Dv(ct,s)})}function Fl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Gc(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Gs(r,o),d!=null&&u.unshift(Fl(r,d,g)),d=Gs(r,s),d!=null&&u.push(Fl(r,d,g))),r=r.return}return u}function mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Ov(r,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var I=o,L=I.alternate,G=I.stateNode;if(I=I.tag,L!==null&&L===u)break;I!==5&&I!==26&&I!==27||G===null||(L=G,d?(G=Gs(o,g),G!=null&&b.unshift(Fl(o,G,L))):d||(G=Gs(o,g),G!=null&&b.push(Fl(o,G,L)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var XS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Mv(r){return(typeof r=="string"?r:""+r).replace(XS,`
`).replace($S,"")}function Uv(r,s){return s=Mv(s),Mv(r)===s}function Kc(){}function me(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":Xi(r,"class",u);break;case"tabIndex":Xi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(r,o,u);break;case"style":Yu(r,u,g);break;case"data":if(s!=="object"){Xi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Or(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&me(r,s,"name",d.name,d,null),me(r,s,"formEncType",d.formEncType,d,null),me(r,s,"formMethod",d.formMethod,d,null),me(r,s,"formTarget",d.formTarget,d,null)):(me(r,s,"encType",d.encType,d,null),me(r,s,"method",d.method,d,null),me(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Or(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Kc);break;case"onScroll":u!=null&&Jt("scroll",r);break;case"onScrollEnd":u!=null&&Jt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Or(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Jt("beforetoggle",r),Jt("toggle",r),Yi(r,"popover",u);break;case"xlinkActuate":nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Df.get(o)||o,Yi(r,o,u))}}function lp(r,s,o,u,d,g){switch(o){case"style":Yu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Jt("scroll",r);break;case"onScrollEnd":u!=null&&Jt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break t}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Yi(r,o,u)}}}function un(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",r),Jt("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:me(r,s,g,b,o,null)}}d&&me(r,s,"srcSet",o.srcSet,o,null),u&&me(r,s,"src",o.src,o,null);return;case"input":Jt("invalid",r);var I=g=b=d=null,L=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var at=o[u];if(at!=null)switch(u){case"name":d=at;break;case"type":b=at;break;case"checked":L=at;break;case"defaultChecked":G=at;break;case"value":g=at;break;case"defaultValue":I=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,s));break;default:me(r,s,u,at,o,null)}}qs(r,g,I,L,G,b,d,!1),js(r);return;case"select":Jt("invalid",r),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(I=o[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":b=I;break;case"multiple":u=I;default:me(r,s,d,I,o,null)}s=g,o=b,r.multiple=!!u,s!=null?oe(r,!!u,s,!1):o!=null&&oe(r,!!u,o,!0);return;case"textarea":Jt("invalid",r),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(I=o[b],I!=null))switch(b){case"value":u=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:me(r,s,b,I,o,null)}Wi(r,u,d,g),js(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:me(r,s,L,u,o,null)}return;case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":Jt("load",r);break;case"video":case"audio":for(u=0;u<zl.length;u++)Jt(zl[u],r);break;case"image":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"embed":case"source":case"link":Jt("error",r),Jt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:me(r,s,G,u,o,null)}return;default:if(rl(s)){for(at in o)o.hasOwnProperty(at)&&(u=o[at],u!==void 0&&lp(r,s,at,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&me(r,s,I,u,o,null))}function WS(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,I=null,L=null,G=null,at=null;for(st in o){var ct=o[st];if(o.hasOwnProperty(st)&&ct!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":L=ct;default:u.hasOwnProperty(st)||me(r,s,st,null,u,ct)}}for(var W in u){var st=u[W];if(ct=o[W],u.hasOwnProperty(W)&&(st!=null||ct!=null))switch(W){case"type":g=st;break;case"name":d=st;break;case"checked":G=st;break;case"defaultChecked":at=st;break;case"value":b=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,s));break;default:st!==ct&&me(r,s,W,st,u,ct)}}$i(r,b,I,L,G,at,g,d);return;case"select":st=b=I=W=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":st=L;default:u.hasOwnProperty(g)||me(r,s,g,null,u,L)}for(d in u)if(g=u[d],L=o[d],u.hasOwnProperty(d)&&(g!=null||L!=null))switch(d){case"value":W=g;break;case"defaultValue":I=g;break;case"multiple":b=g;default:g!==L&&me(r,s,d,g,u,L)}s=I,o=b,u=st,W!=null?oe(r,!!o,W,!1):!!u!=!!o&&(s!=null?oe(r,!!o,s,!0):oe(r,!!o,o?[]:"",!1));return;case"textarea":st=W=null;for(I in o)if(d=o[I],o.hasOwnProperty(I)&&d!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:me(r,s,I,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":W=d;break;case"defaultValue":st=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&me(r,s,b,d,u,g)}Hs(r,W,st);return;case"option":for(var It in o)if(W=o[It],o.hasOwnProperty(It)&&W!=null&&!u.hasOwnProperty(It))switch(It){case"selected":r.selected=!1;break;default:me(r,s,It,null,u,W)}for(L in u)if(W=u[L],st=o[L],u.hasOwnProperty(L)&&W!==st&&(W!=null||st!=null))switch(L){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:me(r,s,L,W,u,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in o)W=o[Ft],o.hasOwnProperty(Ft)&&W!=null&&!u.hasOwnProperty(Ft)&&me(r,s,Ft,null,u,W);for(G in u)if(W=u[G],st=o[G],u.hasOwnProperty(G)&&W!==st&&(W!=null||st!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:me(r,s,G,W,u,st)}return;default:if(rl(s)){for(var Ne in o)W=o[Ne],o.hasOwnProperty(Ne)&&W!==void 0&&!u.hasOwnProperty(Ne)&&lp(r,s,Ne,void 0,u,W);for(at in u)W=u[at],st=o[at],!u.hasOwnProperty(at)||W===st||W===void 0&&st===void 0||lp(r,s,at,W,u,st);return}}for(var Q in o)W=o[Q],o.hasOwnProperty(Q)&&W!=null&&!u.hasOwnProperty(Q)&&me(r,s,Q,null,u,W);for(ct in u)W=u[ct],st=o[ct],!u.hasOwnProperty(ct)||W===st||W==null&&st==null||me(r,s,ct,W,u,st)}var up=null,cp=null;function Qc(r){return r.nodeType===9?r:r.ownerDocument}function Pv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function hp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fp=null;function ZS(){var r=window.event;return r&&r.type==="popstate"?r===fp?!1:(fp=r,!0):(fp=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(r){return Bv.resolve(null).then(r).catch(eA)}:Vv;function eA(r){setTimeout(function(){throw r})}function dp(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){r.removeChild(d),Xl(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Xl(s)}function pp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pp(o),Fs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function nA(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Gi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=xr(r.nextSibling),r===null)break}return null}function rA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=xr(r.nextSibling),r===null))return null;return r}function xr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function zv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Fv(r,s,o){switch(s=Qc(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var gr=new Map,jv=new Set;function Yc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ii=_t.d;_t.d={f:iA,r:sA,D:aA,C:oA,L:lA,m:uA,X:hA,S:cA,M:fA};function iA(){var r=Ii.f(),s=zc();return r||s}function sA(r){var s=ai(r);s!==null&&s.tag===5&&s.type==="form"?m_(s):Ii.r(r)}var go=typeof document>"u"?null:document;function qv(r,s,o){var u=go;if(u&&typeof s=="string"&&s){var d=Ce(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),jv.has(d)||(jv.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",r),be(s),u.head.appendChild(s)))}}function aA(r){Ii.D(r),qv("dns-prefetch",r,null)}function oA(r,s){Ii.C(r,s),qv("preconnect",r,s)}function lA(r,s,o){Ii.L(r,s,o);var u=go;if(u&&r&&s){var d='link[rel="preload"][as="'+Ce(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ce(o.imageSizes)+'"]')):d+='[href="'+Ce(r)+'"]';var g=d;switch(s){case"style":g=yo(r);break;case"script":g=_o(r)}gr.has(g)||(r=P({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),gr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(jl(g))||s==="script"&&u.querySelector(ql(g))||(s=u.createElement("link"),un(s,"link",r),be(s),u.head.appendChild(s)))}}function uA(r,s){Ii.m(r,s);var o=go;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ce(u)+'"][href="'+Ce(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_o(r)}if(!gr.has(g)&&(r=P({rel:"modulepreload",href:r},s),gr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ql(g)))return}u=o.createElement("link"),un(u,"link",r),be(u),o.head.appendChild(u)}}}function cA(r,s,o){Ii.S(r,s,o);var u=go;if(u&&r){var d=Qi(u).hoistableStyles,g=yo(r);s=s||"default";var b=d.get(g);if(!b){var I={loading:0,preload:null};if(b=u.querySelector(jl(g)))I.loading=5;else{r=P({rel:"stylesheet",href:r,"data-precedence":s},o),(o=gr.get(g))&&mp(r,o);var L=b=u.createElement("link");be(L),un(L,"link",r),L._p=new Promise(function(G,at){L.onload=G,L.onerror=at}),L.addEventListener("load",function(){I.loading|=1}),L.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Xc(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:I},d.set(g,b)}}}function hA(r,s){Ii.X(r,s);var o=go;if(o&&r){var u=Qi(o).hoistableScripts,d=_o(r),g=u.get(d);g||(g=o.querySelector(ql(d)),g||(r=P({src:r,async:!0},s),(s=gr.get(d))&&gp(r,s),g=o.createElement("script"),be(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function fA(r,s){Ii.M(r,s);var o=go;if(o&&r){var u=Qi(o).hoistableScripts,d=_o(r),g=u.get(d);g||(g=o.querySelector(ql(d)),g||(r=P({src:r,async:!0,type:"module"},s),(s=gr.get(d))&&gp(r,s),g=o.createElement("script"),be(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Hv(r,s,o,u){var d=(d=Oe.current)?Yc(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=yo(o.href),o=Qi(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=yo(o.href);var g=Qi(d).hoistableStyles,b=g.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=d.querySelector(jl(r)))&&!g._p&&(b.instance=g,b.state.loading=5),gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gr.set(r,o),g||dA(d,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(o),o=Qi(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yo(r){return'href="'+Ce(r)+'"'}function jl(r){return'link[rel="stylesheet"]['+r+"]"}function Gv(r){return P({},r,{"data-precedence":r.precedence,precedence:null})}function dA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),be(s),r.head.appendChild(s))}function _o(r){return'[src="'+Ce(r)+'"]'}function ql(r){return"script[async]"+r}function Kv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(u)return s.instance=u,be(u),u;var d=P({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),be(u),un(u,"style",d),Xc(u,o.precedence,r),s.instance=u;case"stylesheet":d=yo(o.href);var g=r.querySelector(jl(d));if(g)return s.state.loading|=4,s.instance=g,be(g),g;u=Gv(o),(d=gr.get(d))&&mp(u,d),g=(r.ownerDocument||r).createElement("link"),be(g);var b=g;return b._p=new Promise(function(I,L){b.onload=I,b.onerror=L}),un(g,"link",u),s.state.loading|=4,Xc(g,o.precedence,r),s.instance=g;case"script":return g=_o(o.src),(d=r.querySelector(ql(g)))?(s.instance=d,be(d),d):(u=o,(d=gr.get(g))&&(u=P({},o),gp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),be(d),un(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xc(u,o.precedence,r));return s.instance}function Xc(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var I=u[b];if(I.dataset.precedence===s)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function mp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var $c=null;function Qv(r,s,o){if($c===null){var u=new Map,d=$c=new Map;d.set(o,u)}else d=$c,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Gi]||g[Ze]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var I=u.get(b);I?I.push(g):u.set(b,[g])}}return u}function Yv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function pA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Hl=null;function mA(){}function gA(r,s,o){if(Hl===null)throw Error(i(475));var u=Hl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=yo(o.href),g=r.querySelector(jl(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Wc.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,be(g);return}g=r.ownerDocument||r,o=Gv(o),(d=gr.get(d))&&mp(o,d),g=g.createElement("link"),be(g);var b=g;b._p=new Promise(function(I,L){b.onload=I,b.onerror=L}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Wc.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function yA(){if(Hl===null)throw Error(i(475));var r=Hl;return r.stylesheets&&r.count===0&&yp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&yp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Wc(){if(this.count--,this.count===0){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zc=null;function yp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zc=new Map,s.forEach(_A,r),Zc=null,Wc.call(r))}function _A(r,s){if(!(s.state.loading&4)){var o=Zc.get(r);if(o)var u=o.get(null);else{o=new Map,Zc.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Wc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Gl={$$typeof:S,Provider:null,Consumer:null,_currentValue:Nt,_currentValue2:Nt,_threadCount:0};function vA(r,s,o,u,d,g,b,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function $v(r,s,o,u,d,g,b,I,L,G,at,ct){return r=new vA(r,s,o,b,I,L,G,ct),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),r.current=g,g.stateNode=r,s=Xf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Cd(g),r}function Wv(r){return r?(r=Xa,r):Xa}function Zv(r,s,o,u,d,g){d=Wv(d),u.context===null?u.context=d:u.pendingContext=d,u=as(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=os(r,u,s),o!==null&&(Rn(o,r,s),Il(o,r,s))}function Jv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function _p(r,s){Jv(r,s),(r=r.alternate)&&Jv(r,s)}function t0(r){if(r.tag===13){var s=Ji(r,67108864);s!==null&&Rn(s,r,67108864),_p(r,67108864)}}var Jc=!0;function EA(r,s,o,u){var d=D.T;D.T=null;var g=_t.p;try{_t.p=2,vp(r,s,o,u)}finally{_t.p=g,D.T=d}}function TA(r,s,o,u){var d=D.T;D.T=null;var g=_t.p;try{_t.p=8,vp(r,s,o,u)}finally{_t.p=g,D.T=d}}function vp(r,s,o,u){if(Jc){var d=Ep(u);if(d===null)op(r,s,u,th,o),n0(r,u);else if(bA(d,r,s,o,u))u.stopPropagation();else if(n0(r,u),s&4&&-1<wA.indexOf(r)){for(;d!==null;){var g=ai(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=wr(g.pendingLanes);if(b!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;b;){var L=1<<31-Bt(b);I.entanglements[1]|=L,b&=~L}Hr(g),(Ae&6)===0&&(Lc=We()+500,Bl(0))}}break;case 13:I=Ji(g,2),I!==null&&Rn(I,g,2),zc(),_p(g,2)}if(g=Ep(u),g===null&&op(r,s,u,th,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else op(r,s,u,null,o)}}function Ep(r){return r=La(r),Tp(r)}var th=null;function Tp(r){if(th=null,r=br(r),r!==null){var s=wt(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ht(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return th=r,null}function e0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wn()){case J:return 2;case A:return 8;case y:case E:return 32;case k:return 268435456;default:return 32}default:return 32}}var wp=!1,ps=null,ms=null,gs=null,Kl=new Map,Ql=new Map,ys=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(r,s){switch(r){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(s.pointerId)}}function Yl(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ai(s),s!==null&&t0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function bA(r,s,o,u,d){switch(s){case"focusin":return ps=Yl(ps,r,s,o,u,d),!0;case"dragenter":return ms=Yl(ms,r,s,o,u,d),!0;case"mouseover":return gs=Yl(gs,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Kl.set(g,Yl(Kl.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Ql.set(g,Yl(Ql.get(g)||null,r,s,o,u,d)),!0}return!1}function r0(r){var s=br(r.target);if(s!==null){var o=wt(s);if(o!==null){if(s=o.tag,s===13){if(s=Ht(o),s!==null){r.blockedOn=s,Hi(r.priority,function(){if(o.tag===13){var u=Xn(),d=Ji(o,u);d!==null&&Rn(d,o,u),_p(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function eh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Ep(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ir=u,o.target.dispatchEvent(u),ir=null}else return s=ai(o),s!==null&&t0(s),r.blockedOn=o,!1;s.shift()}return!0}function i0(r,s,o){eh(r)&&o.delete(s)}function SA(){wp=!1,ps!==null&&eh(ps)&&(ps=null),ms!==null&&eh(ms)&&(ms=null),gs!==null&&eh(gs)&&(gs=null),Kl.forEach(i0),Ql.forEach(i0)}function nh(r,s){r.blockedOn===s&&(r.blockedOn=null,wp||(wp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SA)))}var rh=null;function s0(r){rh!==r&&(rh=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rh===r&&(rh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Tp(u||o)===null)continue;break}var g=ai(o);g!==null&&(r.splice(s,3),s-=3,hd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Xl(r){function s(L){return nh(L,r)}ps!==null&&nh(ps,r),ms!==null&&nh(ms,r),gs!==null&&nh(gs,r),Kl.forEach(s),Ql.forEach(s);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)r0(o),o.blockedOn===null&&ys.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[qe]||null;if(typeof g=="function")b||s0(o);else if(b){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[qe]||null)I=b.formAction;else if(Tp(d)!==null)continue}else I=b.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),s0(o)}}}function bp(r){this._internalRoot=r}ih.prototype.render=bp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Xn();Zv(o,u,r,s,null,null)},ih.prototype.unmount=bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&fo(),Zv(r.current,2,null,r,null,null),zc(),s[si]=null}};function ih(r){this._internalRoot=r}ih.prototype.unstable_scheduleHydration=function(r){if(r){var s=Gu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,r),o===0&&r0(r)}};var a0=t.version;if(a0!=="19.0.0")throw Error(i(527,a0,"19.0.0"));_t.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=it(s),r=r!==null?yt(r):null,r=r===null?null:r.stateNode,r};var AA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:br,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{nt=sh.inject(AA),xt=sh}catch{}}return Zl.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=b_,g=S_,b=A_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=$v(r,1,!1,null,null,o,u,d,g,b,I,null),r[si]=s.current,ap(r.nodeType===8?r.parentNode:r),new bp(s)},Zl.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=b_,b=S_,I=A_,L=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=$v(r,1,!0,s,o??null,u,d,g,b,I,L,G),s.context=Wv(null),o=s.current,u=Xn(),d=as(u),d.callback=null,os(o,d,u),s.current.lanes=u,Me(s,u),Hr(s),r[si]=s.current,ap(r),new ih(s)},Zl.version="19.0.0",Zl}var E0;function qA(){if(E0)return Ip.exports;E0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ip.exports=jA(),Ip.exports}var HA=qA();const GA=Su(HA),KA=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},QA=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(p&1023))}else{const l=e[n++],c=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},MT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,p=a+2<e.length,m=p?e[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let R=(f&15)<<2|m>>6,S=m&63;p||(S=64,c||(R=64)),i.push(n[_],n[T],n[R],n[S])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(OT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const m=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new YA;const R=l<<2|f>>4;if(i.push(R),m!==64){const S=f<<4&240|m>>2;if(i.push(S),T!==64){const U=m<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(e){const t=OT(e);return MT.encodeByteArray(t,!0)},Ch=function(e){return XA(e).replace(/\./g,"")},UT=function(e){try{return MT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=()=>$A().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof T0>"u")return;const e=T0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},JA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&UT(e[1]);return t&&JSON.parse(t)},Jh=()=>{try{return KA()||WA()||ZA()||JA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},PT=e=>{var t,n;return(n=(t=Jh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},LT=e=>{const t=PT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},VT=()=>{var e;return(e=Jh())===null||e===void 0?void 0:e.config},BT=e=>{var t;return(t=Jh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ch(JSON.stringify(n)),Ch(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function nR(){var e;const t=(e=Jh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const e=En();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class ii extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=cR,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?hR(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ii(a,f,i)}}function hR(e,t){return e.replace(fR,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const fR=/\{\$([^}]+)}/g;function dR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ta(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const l=e[a],c=t[a];if(w0(l)&&w0(c)){if(!Ta(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function w0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function pR(e,t){const n=new mR(e,t);return n.subscribe.bind(n)}class mR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let a;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gR(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:i},a.next===void 0&&(a.next=Np),a.error===void 0&&(a.error=Np),a.complete===void 0&&(a.complete=Np);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return e&&e._delegate?e._delegate:e}class ks{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new tR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vR(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(t,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_R(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _R(e){return e===ga?void 0:e}function vR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Wt||(Wt={}));const TR={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},wR=Wt.INFO,bR={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},SR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=bR[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=wR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}const AR=(e,t)=>t.some(n=>e instanceof n);let b0,S0;function RR(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,sm=new WeakMap,jT=new WeakMap,Op=new WeakMap,jm=new WeakMap;function IR(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Rs(e.result)),a()},c=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&FT.set(n,e)}).catch(()=>{}),jm.set(t,e),t}function CR(e){if(sm.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});sm.set(e,t)}let am={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kR(e){am=e(am)}function DR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Mp(this),t,...n);return jT.set(i,t.sort?t.sort():[t]),Rs(i)}:xR().includes(e)?function(...t){return e.apply(Mp(this),t),Rs(FT.get(this))}:function(...t){return Rs(e.apply(Mp(this),t))}}function NR(e){return typeof e=="function"?DR(e):(e instanceof IDBTransaction&&CR(e),AR(e,RR())?new Proxy(e,am):e)}function Rs(e){if(e instanceof IDBRequest)return IR(e);if(Op.has(e))return Op.get(e);const t=NR(e);return t!==e&&(Op.set(e,t),jm.set(t,e)),t}const Mp=e=>jm.get(e);function OR(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=Rs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Rs(c.result),p.oldVersion,p.newVersion,Rs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const MR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],Up=new Map;function A0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Up.get(t))return Up.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=UR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||MR.includes(n)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&p.done]))[0]};return Up.set(t,l),l}kR(e=>({...e,get:(t,n,i)=>A0(t,n)||e.get(t,n,i),has:(t,n)=>!!A0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function LR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const om="@firebase/app",R0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Fm("@firebase/app"),VR="@firebase/app-compat",BR="@firebase/analytics-compat",zR="@firebase/analytics",FR="@firebase/app-check-compat",jR="@firebase/app-check",qR="@firebase/auth",HR="@firebase/auth-compat",GR="@firebase/database",KR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",$R="@firebase/installations",WR="@firebase/installations-compat",ZR="@firebase/messaging",JR="@firebase/messaging-compat",tx="@firebase/performance",ex="@firebase/performance-compat",nx="@firebase/remote-config",rx="@firebase/remote-config-compat",ix="@firebase/storage",sx="@firebase/storage-compat",ax="@firebase/firestore",ox="@firebase/vertexai",lx="@firebase/firestore-compat",ux="firebase",cx="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",hx={[om]:"fire-core",[VR]:"fire-core-compat",[zR]:"fire-analytics",[BR]:"fire-analytics-compat",[jR]:"fire-app-check",[FR]:"fire-app-check-compat",[qR]:"fire-auth",[HR]:"fire-auth-compat",[GR]:"fire-rtdb",[KR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[$R]:"fire-iid",[WR]:"fire-iid-compat",[ZR]:"fire-fcm",[JR]:"fire-fcm-compat",[tx]:"fire-perf",[ex]:"fire-perf-compat",[nx]:"fire-rc",[rx]:"fire-rc-compat",[ix]:"fire-gcs",[sx]:"fire-gcs-compat",[ax]:"fire-fst",[lx]:"fire-fst-compat",[ox]:"fire-vertex","fire-js":"fire-js",[ux]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,fx=new Map,um=new Map;function x0(e,t){try{e.container.addComponent(t)}catch(n){Mi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wa(e){const t=e.name;if(um.has(t))return Mi.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,e);for(const n of kh.values())x0(n,e);for(const n of fx.values())x0(n,e);return!0}function tf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _r(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Au("app","Firebase",dx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=cx;function qT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:lm,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(n||(n=VT()),!n)throw xs.create("no-options");const l=kh.get(a);if(l){if(Ta(n,l.options)&&Ta(i,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new ER(a);for(const p of um.values())c.addComponent(p);const f=new px(n,i,c);return kh.set(a,f),f}function qm(e=lm){const t=kh.get(e);if(!t&&e===lm&&VT())return qT();if(!t)throw xs.create("no-app",{appName:e});return t}function $r(e,t,n){var i;let a=(i=hx[e])!==null&&i!==void 0?i:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mi.warn(f.join(" "));return}wa(new ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firebase-heartbeat-database",gx=1,mu="firebase-heartbeat-store";let Pp=null;function HT(){return Pp||(Pp=OR(mx,gx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(e=>{throw xs.create("idb-open",{originalErrorMessage:e.message})})),Pp}async function yx(e){try{const n=(await HT()).transaction(mu),i=await n.objectStore(mu).get(GT(e));return await n.done,i}catch(t){if(t instanceof ii)Mi.warn(t.message);else{const n=xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(n.message)}}}async function I0(e,t){try{const i=(await HT()).transaction(mu,"readwrite");await i.objectStore(mu).put(t,GT(e)),await i.done}catch(n){if(n instanceof ii)Mi.warn(n.message);else{const i=xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(i.message)}}}function GT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=1024,vx=30;class Ex{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=C0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>vx){const c=bx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C0(),{heartbeatsToSend:i,unsentEntries:a}=Tx(this._heartbeatsCache.heartbeats),l=Ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Mi.warn(n),""}}}function C0(){return new Date().toISOString().substring(0,10)}function Tx(e,t=_x){const n=[];let i=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),k0(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),k0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class wx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function k0(e){return Ch(JSON.stringify({version:2,heartbeats:e})).length}function bx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(e){wa(new ks("platform-logger",t=>new PR(t),"PRIVATE")),wa(new ks("heartbeat",t=>new Ex(t),"PRIVATE")),$r(om,R0,e),$r(om,R0,"esm2017"),$r("fire-js","")}Sx("");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,KT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,M){function D(){}D.prototype=M.prototype,z.D=M.prototype,z.prototype=new D,z.prototype.constructor=z,z.C=function(P,V,F){for(var N=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)N[vt-2]=arguments[vt];return M.prototype[V].apply(P,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,M,D){D||(D=0);var P=Array(16);if(typeof M=="string")for(var V=0;16>V;++V)P[V]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(V=0;16>V;++V)P[V]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=z.g[0],D=z.g[1],V=z.g[2];var F=z.g[3],N=M+(F^D&(V^F))+P[0]+3614090360&4294967295;M=D+(N<<7&4294967295|N>>>25),N=F+(V^M&(D^V))+P[1]+3905402710&4294967295,F=M+(N<<12&4294967295|N>>>20),N=V+(D^F&(M^D))+P[2]+606105819&4294967295,V=F+(N<<17&4294967295|N>>>15),N=D+(M^V&(F^M))+P[3]+3250441966&4294967295,D=V+(N<<22&4294967295|N>>>10),N=M+(F^D&(V^F))+P[4]+4118548399&4294967295,M=D+(N<<7&4294967295|N>>>25),N=F+(V^M&(D^V))+P[5]+1200080426&4294967295,F=M+(N<<12&4294967295|N>>>20),N=V+(D^F&(M^D))+P[6]+2821735955&4294967295,V=F+(N<<17&4294967295|N>>>15),N=D+(M^V&(F^M))+P[7]+4249261313&4294967295,D=V+(N<<22&4294967295|N>>>10),N=M+(F^D&(V^F))+P[8]+1770035416&4294967295,M=D+(N<<7&4294967295|N>>>25),N=F+(V^M&(D^V))+P[9]+2336552879&4294967295,F=M+(N<<12&4294967295|N>>>20),N=V+(D^F&(M^D))+P[10]+4294925233&4294967295,V=F+(N<<17&4294967295|N>>>15),N=D+(M^V&(F^M))+P[11]+2304563134&4294967295,D=V+(N<<22&4294967295|N>>>10),N=M+(F^D&(V^F))+P[12]+1804603682&4294967295,M=D+(N<<7&4294967295|N>>>25),N=F+(V^M&(D^V))+P[13]+4254626195&4294967295,F=M+(N<<12&4294967295|N>>>20),N=V+(D^F&(M^D))+P[14]+2792965006&4294967295,V=F+(N<<17&4294967295|N>>>15),N=D+(M^V&(F^M))+P[15]+1236535329&4294967295,D=V+(N<<22&4294967295|N>>>10),N=M+(V^F&(D^V))+P[1]+4129170786&4294967295,M=D+(N<<5&4294967295|N>>>27),N=F+(D^V&(M^D))+P[6]+3225465664&4294967295,F=M+(N<<9&4294967295|N>>>23),N=V+(M^D&(F^M))+P[11]+643717713&4294967295,V=F+(N<<14&4294967295|N>>>18),N=D+(F^M&(V^F))+P[0]+3921069994&4294967295,D=V+(N<<20&4294967295|N>>>12),N=M+(V^F&(D^V))+P[5]+3593408605&4294967295,M=D+(N<<5&4294967295|N>>>27),N=F+(D^V&(M^D))+P[10]+38016083&4294967295,F=M+(N<<9&4294967295|N>>>23),N=V+(M^D&(F^M))+P[15]+3634488961&4294967295,V=F+(N<<14&4294967295|N>>>18),N=D+(F^M&(V^F))+P[4]+3889429448&4294967295,D=V+(N<<20&4294967295|N>>>12),N=M+(V^F&(D^V))+P[9]+568446438&4294967295,M=D+(N<<5&4294967295|N>>>27),N=F+(D^V&(M^D))+P[14]+3275163606&4294967295,F=M+(N<<9&4294967295|N>>>23),N=V+(M^D&(F^M))+P[3]+4107603335&4294967295,V=F+(N<<14&4294967295|N>>>18),N=D+(F^M&(V^F))+P[8]+1163531501&4294967295,D=V+(N<<20&4294967295|N>>>12),N=M+(V^F&(D^V))+P[13]+2850285829&4294967295,M=D+(N<<5&4294967295|N>>>27),N=F+(D^V&(M^D))+P[2]+4243563512&4294967295,F=M+(N<<9&4294967295|N>>>23),N=V+(M^D&(F^M))+P[7]+1735328473&4294967295,V=F+(N<<14&4294967295|N>>>18),N=D+(F^M&(V^F))+P[12]+2368359562&4294967295,D=V+(N<<20&4294967295|N>>>12),N=M+(D^V^F)+P[5]+4294588738&4294967295,M=D+(N<<4&4294967295|N>>>28),N=F+(M^D^V)+P[8]+2272392833&4294967295,F=M+(N<<11&4294967295|N>>>21),N=V+(F^M^D)+P[11]+1839030562&4294967295,V=F+(N<<16&4294967295|N>>>16),N=D+(V^F^M)+P[14]+4259657740&4294967295,D=V+(N<<23&4294967295|N>>>9),N=M+(D^V^F)+P[1]+2763975236&4294967295,M=D+(N<<4&4294967295|N>>>28),N=F+(M^D^V)+P[4]+1272893353&4294967295,F=M+(N<<11&4294967295|N>>>21),N=V+(F^M^D)+P[7]+4139469664&4294967295,V=F+(N<<16&4294967295|N>>>16),N=D+(V^F^M)+P[10]+3200236656&4294967295,D=V+(N<<23&4294967295|N>>>9),N=M+(D^V^F)+P[13]+681279174&4294967295,M=D+(N<<4&4294967295|N>>>28),N=F+(M^D^V)+P[0]+3936430074&4294967295,F=M+(N<<11&4294967295|N>>>21),N=V+(F^M^D)+P[3]+3572445317&4294967295,V=F+(N<<16&4294967295|N>>>16),N=D+(V^F^M)+P[6]+76029189&4294967295,D=V+(N<<23&4294967295|N>>>9),N=M+(D^V^F)+P[9]+3654602809&4294967295,M=D+(N<<4&4294967295|N>>>28),N=F+(M^D^V)+P[12]+3873151461&4294967295,F=M+(N<<11&4294967295|N>>>21),N=V+(F^M^D)+P[15]+530742520&4294967295,V=F+(N<<16&4294967295|N>>>16),N=D+(V^F^M)+P[2]+3299628645&4294967295,D=V+(N<<23&4294967295|N>>>9),N=M+(V^(D|~F))+P[0]+4096336452&4294967295,M=D+(N<<6&4294967295|N>>>26),N=F+(D^(M|~V))+P[7]+1126891415&4294967295,F=M+(N<<10&4294967295|N>>>22),N=V+(M^(F|~D))+P[14]+2878612391&4294967295,V=F+(N<<15&4294967295|N>>>17),N=D+(F^(V|~M))+P[5]+4237533241&4294967295,D=V+(N<<21&4294967295|N>>>11),N=M+(V^(D|~F))+P[12]+1700485571&4294967295,M=D+(N<<6&4294967295|N>>>26),N=F+(D^(M|~V))+P[3]+2399980690&4294967295,F=M+(N<<10&4294967295|N>>>22),N=V+(M^(F|~D))+P[10]+4293915773&4294967295,V=F+(N<<15&4294967295|N>>>17),N=D+(F^(V|~M))+P[1]+2240044497&4294967295,D=V+(N<<21&4294967295|N>>>11),N=M+(V^(D|~F))+P[8]+1873313359&4294967295,M=D+(N<<6&4294967295|N>>>26),N=F+(D^(M|~V))+P[15]+4264355552&4294967295,F=M+(N<<10&4294967295|N>>>22),N=V+(M^(F|~D))+P[6]+2734768916&4294967295,V=F+(N<<15&4294967295|N>>>17),N=D+(F^(V|~M))+P[13]+1309151649&4294967295,D=V+(N<<21&4294967295|N>>>11),N=M+(V^(D|~F))+P[4]+4149444226&4294967295,M=D+(N<<6&4294967295|N>>>26),N=F+(D^(M|~V))+P[11]+3174756917&4294967295,F=M+(N<<10&4294967295|N>>>22),N=V+(M^(F|~D))+P[2]+718787259&4294967295,V=F+(N<<15&4294967295|N>>>17),N=D+(F^(V|~M))+P[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,z.g[2]=z.g[2]+V&4294967295,z.g[3]=z.g[3]+F&4294967295}i.prototype.u=function(z,M){M===void 0&&(M=z.length);for(var D=M-this.blockSize,P=this.B,V=this.h,F=0;F<M;){if(V==0)for(;F<=D;)a(this,z,F),F+=this.blockSize;if(typeof z=="string"){for(;F<M;)if(P[V++]=z.charCodeAt(F++),V==this.blockSize){a(this,P),V=0;break}}else for(;F<M;)if(P[V++]=z[F++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=M},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;var D=8*this.o;for(M=z.length-8;M<z.length;++M)z[M]=D&255,D/=256;for(this.u(z),z=Array(16),M=D=0;4>M;++M)for(var P=0;32>P;P+=8)z[D++]=this.g[M]>>>P&255;return z};function l(z,M){var D=f;return Object.prototype.hasOwnProperty.call(D,z)?D[z]:D[z]=M(z)}function c(z,M){this.h=M;for(var D=[],P=!0,V=z.length-1;0<=V;V--){var F=z[V]|0;P&&F==M||(D[V]=F,P=!1)}this.g=D}var f={};function p(z){return-128<=z&&128>z?l(z,function(M){return new c([M|0],0>M?-1:0)}):new c([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return T;if(0>z)return q(m(-z));for(var M=[],D=1,P=0;z>=D;P++)M[P]=z/D|0,D*=4294967296;return new c(M,0)}function _(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return q(_(z.substring(1),M));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(M,8)),P=T,V=0;V<z.length;V+=8){var F=Math.min(8,z.length-V),N=parseInt(z.substring(V,V+F),M);8>F?(F=m(Math.pow(M,F)),P=P.j(F).add(m(N))):(P=P.j(D),P=P.add(m(N)))}return P}var T=p(0),R=p(1),S=p(16777216);e=c.prototype,e.m=function(){if(B(this))return-q(this).m();for(var z=0,M=1,D=0;D<this.g.length;D++){var P=this.i(D);z+=(0<=P?P:4294967296+P)*M,M*=4294967296}return z},e.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(U(this))return"0";if(B(this))return"-"+q(this).toString(z);for(var M=m(Math.pow(z,6)),D=this,P="";;){var V=mt(D,M).g;D=K(D,V.j(M));var F=((0<D.g.length?D.g[0]:D.h)>>>0).toString(z);if(D=V,U(D))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},e.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function U(z){if(z.h!=0)return!1;for(var M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function B(z){return z.h==-1}e.l=function(z){return z=K(this,z),B(z)?-1:U(z)?0:1};function q(z){for(var M=z.g.length,D=[],P=0;P<M;P++)D[P]=~z.g[P];return new c(D,~z.h).add(R)}e.abs=function(){return B(this)?q(this):this},e.add=function(z){for(var M=Math.max(this.g.length,z.g.length),D=[],P=0,V=0;V<=M;V++){var F=P+(this.i(V)&65535)+(z.i(V)&65535),N=(F>>>16)+(this.i(V)>>>16)+(z.i(V)>>>16);P=N>>>16,F&=65535,N&=65535,D[V]=N<<16|F}return new c(D,D[D.length-1]&-2147483648?-1:0)};function K(z,M){return z.add(q(M))}e.j=function(z){if(U(this)||U(z))return T;if(B(this))return B(z)?q(this).j(q(z)):q(q(this).j(z));if(B(z))return q(this.j(q(z)));if(0>this.l(S)&&0>z.l(S))return m(this.m()*z.m());for(var M=this.g.length+z.g.length,D=[],P=0;P<2*M;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<z.g.length;V++){var F=this.i(P)>>>16,N=this.i(P)&65535,vt=z.i(V)>>>16,Et=z.i(V)&65535;D[2*P+2*V]+=N*Et,rt(D,2*P+2*V),D[2*P+2*V+1]+=F*Et,rt(D,2*P+2*V+1),D[2*P+2*V+1]+=N*vt,rt(D,2*P+2*V+1),D[2*P+2*V+2]+=F*vt,rt(D,2*P+2*V+2)}for(P=0;P<M;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=M;P<2*M;P++)D[P]=0;return new c(D,0)};function rt(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function et(z,M){this.g=z,this.h=M}function mt(z,M){if(U(M))throw Error("division by zero");if(U(z))return new et(T,T);if(B(z))return M=mt(q(z),M),new et(q(M.g),q(M.h));if(B(M))return M=mt(z,q(M)),new et(q(M.g),M.h);if(30<z.g.length){if(B(z)||B(M))throw Error("slowDivide_ only works with positive integers.");for(var D=R,P=M;0>=P.l(z);)D=ft(D),P=ft(P);var V=Z(D,1),F=Z(P,1);for(P=Z(P,2),D=Z(D,2);!U(P);){var N=F.add(P);0>=N.l(z)&&(V=V.add(D),F=N),P=Z(P,1),D=Z(D,1)}return M=K(z,V.j(M)),new et(V,M)}for(V=T;0<=z.l(M);){for(D=Math.max(1,Math.floor(z.m()/M.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=m(D),N=F.j(M);B(N)||0<N.l(z);)D-=P,F=m(D),N=F.j(M);U(F)&&(F=R),V=V.add(F),z=K(z,N)}return new et(V,z)}e.A=function(z){return mt(this,z).h},e.and=function(z){for(var M=Math.max(this.g.length,z.g.length),D=[],P=0;P<M;P++)D[P]=this.i(P)&z.i(P);return new c(D,this.h&z.h)},e.or=function(z){for(var M=Math.max(this.g.length,z.g.length),D=[],P=0;P<M;P++)D[P]=this.i(P)|z.i(P);return new c(D,this.h|z.h)},e.xor=function(z){for(var M=Math.max(this.g.length,z.g.length),D=[],P=0;P<M;P++)D[P]=this.i(P)^z.i(P);return new c(D,this.h^z.h)};function ft(z){for(var M=z.g.length+1,D=[],P=0;P<M;P++)D[P]=z.i(P)<<1|z.i(P-1)>>>31;return new c(D,z.h)}function Z(z,M){var D=M>>5;M%=32;for(var P=z.g.length-D,V=[],F=0;F<P;F++)V[F]=0<M?z.i(F+D)>>>M|z.i(F+D+1)<<32-M:z.i(F+D);return new c(V,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,KT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Is=c}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,nu,YT,_h,cm,XT,$T,WT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)t:{var w=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in w))break t;w=w[Y]}h=h[h.length-1],C=w[h],v=v(C),v!=C&&v!=null&&t(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,C=!1,Y={next:function(){if(!C&&w<h.length){var tt=w++;return{value:v(tt,h[tt]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,w){return h.call.apply(h.bind,arguments)}function T(h,v,w){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,C),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function R(h,v,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,R.apply(null,arguments)}function S(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function U(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(C,Y,tt){for(var gt=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)gt[ne-2]=arguments[ne];return v.prototype[Y].apply(C,gt)}}function B(h){const v=h.length;if(0<v){const w=Array(v);for(let C=0;C<v;C++)w[C]=h[C];return w}return[]}function q(h,v){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(p(C)){const Y=h.length||0,tt=C.length||0;h.length=Y+tt;for(let gt=0;gt<tt;gt++)h[Y+gt]=C[gt]}else h.push(C)}}class K{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function rt(h){return/^[\s\xa0]*$/.test(h)}function et(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function mt(h){return mt[" "](h),h}mt[" "]=function(){};var ft=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Z(h,v,w){for(const C in h)v.call(w,h[C],C,h)}function z(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function M(h){const v={};for(const w in h)v[w]=h[w];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let w,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(w in C)h[w]=C[w];for(let tt=0;tt<D.length;tt++)w=D[tt],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function V(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function F(h){f.setTimeout(()=>{throw h},0)}function N(){var h=Ht;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class vt{constructor(){this.h=this.g=null}add(v,w){const C=Et.get();C.set(v,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Et=new K(()=>new dt,h=>h.reset());class dt{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,wt=!1,Ht=new vt,x=()=>{const h=f.Promise.resolve(void 0);Tt=()=>{h.then(it)}};var it=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(w){F(w)}var v=Et;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}wt=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function Nt(h,v){if(O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ft){t:{try{mt(v.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Nt.aa.h.call(this)}}U(Nt,O);var Rt={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function ae(h,v,w,C,Y){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!C,this.ha=Y,this.key=++Ut,this.da=this.fa=!1}function Qt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h){this.src=h,this.g={},this.h=0}Ie.prototype.add=function(h,v,w,C,Y){var tt=h.toString();h=this.g[tt],h||(h=this.g[tt]=[],this.h++);var gt=Oe(h,v,C,Y);return-1<gt?(v=h[gt],w||(v.fa=!1)):(v=new ae(v,this.src,tt,!!C,Y),v.fa=w,h.push(v)),v};function Cn(h,v){var w=v.type;if(w in h.g){var C=h.g[w],Y=Array.prototype.indexOf.call(C,v,void 0),tt;(tt=0<=Y)&&Array.prototype.splice.call(C,Y,1),tt&&(Qt(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Oe(h,v,w,C){for(var Y=0;Y<h.length;++Y){var tt=h[Y];if(!tt.da&&tt.listener==v&&tt.capture==!!w&&tt.ha==C)return Y}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),zn={};function kn(h,v,w,C,Y){if(Array.isArray(v)){for(var tt=0;tt<v.length;tt++)kn(h,v[tt],w,C,Y);return null}return w=wn(w),h&&h[de]?h.K(v,w,m(C)?!!C.capture:!1,Y):tr(h,v,w,!1,C,Y)}function tr(h,v,w,C,Y,tt){if(!v)throw Error("Invalid event type");var gt=m(Y)?!!Y.capture:!!Y,ne=Tr(h);if(ne||(h[dn]=ne=new Ie(h)),w=ne.add(v,w,C,gt,tt),w.proxy)return w;if(C=Cr(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)_t||(Y=gt),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),C,Y);else if(h.attachEvent)h.attachEvent(jn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Cr(){function h(w){return v.call(h.src,h.listener,w)}const v=pn;return h}function Er(h,v,w,C,Y){if(Array.isArray(v))for(var tt=0;tt<v.length;tt++)Er(h,v[tt],w,C,Y);else C=m(C)?!!C.capture:!!C,w=wn(w),h&&h[de]?(h=h.i,v=String(v).toString(),v in h.g&&(tt=h.g[v],w=Oe(tt,w,C,Y),-1<w&&(Qt(tt[w]),Array.prototype.splice.call(tt,w,1),tt.length==0&&(delete h.g[v],h.h--)))):h&&(h=Tr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Oe(v,w,C,Y)),(w=-1<h?v[h]:null)&&Fn(w))}function Fn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])Cn(v.i,h);else{var w=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(w,C,h.capture):v.detachEvent?v.detachEvent(jn(w),C):v.addListener&&v.removeListener&&v.removeListener(C),(w=Tr(v))?(Cn(w,h),w.h==0&&(w.src=null,v[dn]=null)):Qt(h)}}}function jn(h){return h in zn?zn[h]:zn[h]="on"+h}function pn(h,v){if(h.da)h=!0;else{v=new Nt(v,this);var w=h.listener,C=h.ha||h.src;h.fa&&Fn(h),h=w.call(C,v)}return h}function Tr(h){return h=h[dn],h instanceof Ie?h:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(h){return typeof h=="function"?h:(h[We]||(h[We]=function(v){return h.handleEvent(v)}),h[We])}function J(){yt.call(this),this.i=new Ie(this),this.M=this,this.F=null}U(J,yt),J.prototype[de]=!0,J.prototype.removeEventListener=function(h,v,w,C){Er(this,h,v,w,C)};function A(h,v){var w,C=h.F;if(C)for(w=[];C;C=C.F)w.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new O(v,h);else if(v instanceof O)v.target=v.target||h;else{var Y=v;v=new O(C,h),P(v,Y)}if(Y=!0,w)for(var tt=w.length-1;0<=tt;tt--){var gt=v.g=w[tt];Y=y(gt,C,!0,v)&&Y}if(gt=v.g=h,Y=y(gt,C,!0,v)&&Y,Y=y(gt,C,!1,v)&&Y,w)for(tt=0;tt<w.length;tt++)gt=v.g=w[tt],Y=y(gt,C,!1,v)&&Y}J.prototype.N=function(){if(J.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],C=0;C<w.length;C++)Qt(w[C]);delete h.g[v],h.h--}}this.F=null},J.prototype.K=function(h,v,w,C){return this.i.add(String(h),v,!1,w,C)},J.prototype.L=function(h,v,w,C){return this.i.add(String(h),v,!0,w,C)};function y(h,v,w,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,tt=0;tt<v.length;++tt){var gt=v[tt];if(gt&&!gt.da&&gt.capture==w){var ne=gt.listener,He=gt.ha||gt.src;gt.fa&&Cn(h.i,gt),Y=ne.call(He,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function E(h,v,w){if(typeof h=="function")w&&(h=R(h,w));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function k(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,k(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class j extends yt{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:k(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $(h){yt.call(this),this.h=h,this.g={}}U($,yt);var nt=[];function xt(h){Z(h.g,function(v,w){this.g.hasOwnProperty(w)&&Fn(v)},h),h.g={}}$.prototype.N=function(){$.aa.N.call(this),xt(this)},$.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ee=f.JSON.stringify,Mt=f.JSON.parse,Bt=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function qt(){}qt.prototype.h=null;function Fu(h){return h.h||(h.h=h.i())}function ju(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){O.call(this,"d")}U(Bi,O);function wr(){O.call(this,"c")}U(wr,O);var er={},zi=null;function Da(){return zi=zi||new J}er.La="serverreachability";function $o(h){O.call(this,er.La,h)}U($o,O);function Fi(h){const v=Da();A(v,new $o(v))}er.STAT_EVENT="statevent";function Na(h,v){O.call(this,er.STAT_EVENT,h),this.stat=v}U(Na,O);function Me(h){const v=Da();A(v,new Na(v,h))}er.Ma="timingevent";function qu(h,v){O.call(this,er.Ma,h),this.size=v}U(qu,O);function ji(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function Hu(h,v,w,C,Y,tt){h.info(function(){if(h.g)if(tt)for(var gt="",ne=tt.split("&"),He=0;He<ne.length;He++){var re=ne[He].split("=");if(1<re.length){var tn=re[0];re=re[1];var Ge=tn.split("_");gt=2<=Ge.length&&Ge[1]=="type"?gt+(tn+"="+re+"&"):gt+(tn+"=redacted&")}}else gt=null;else gt=tt;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+v+`
`+w+`
`+gt})}function Gu(h,v,w,C,Y,tt,gt){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+v+`
`+w+`
`+tt+" "+gt})}function Hi(h,v,w,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ze(h,w)+(C?" "+C:"")})}function Dr(h,v){h.info(function(){return"TIMEOUT: "+v})}qi.prototype.info=function(){};function Ze(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var C=w[h];if(!(2>C.length)){var Y=C[1];if(Array.isArray(Y)&&!(1>Y.length)){var tt=Y[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var gt=1;gt<Y.length;gt++)Y[gt]=""}}}}return ee(w)}catch{return v}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zs;function Oa(){}U(Oa,qt),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},zs=new Oa;function Nr(h,v,w,C){this.j=h,this.i=v,this.l=w,this.R=C||1,this.U=new $(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wo}function Wo(){this.i=null,this.g="",this.h=!1}var Gi={},Fs={};function br(h,v,w){h.L=1,h.v=Hs(Ce(v)),h.m=w,h.P=!0,ai(h,null)}function ai(h,v){h.F=Date.now(),be(h),h.A=Ce(h.v);var w=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),ui(w.i,"t",C),h.C=0,w=h.j.J,h.h=new Wo,h.g=sc(h.j,w?v:null,!h.m),0<h.O&&(h.M=new j(R(h.Y,h,h.g),h.O)),v=h.U,w=h.g,C=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(nt[0]=Y.toString()),Y=nt);for(var tt=0;tt<Y.length;tt++){var gt=kn(w,Y[tt],C||v.handleEvent,!1,v.h||v);if(!gt)break;v.g[gt.key]=gt}v=h.H?M(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Fi(),Hu(h.i,h.u,h.A,h.l,h.R,h.m)}Nr.prototype.ca=function(h){h=h.target;const v=this.M;v&&ar(h)==3?v.j():this.Y(h)},Nr.prototype.Y=function(h){try{if(h==this.g)t:{const Ge=ar(this.g);var v=this.g.Ba();const di=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||Ge!=4||v==7||(v==8||0>=di?Fi(3):Fi(2)),Ma(this);var w=this.g.Z();this.X=w;e:if(Ki(this)){var C=Wu(this.g);h="";var Y=C.length,tt=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),qn(this);var gt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(tt&&v==Y-1)});C.length=0,this.h.g+=h,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=w==200,Gu(this.i,this.u,this.A,this.l,this.R,Ge,w),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,He=this.g;if((ne=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(ne)){var re=ne;break e}}re=null}if(w=re)Hi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,w);else{this.o=!1,this.s=3,Me(12),Dn(this),qn(this);break t}}if(this.P){w=!0;let an;for(;!this.J&&this.C<gt.length;)if(an=Qi(this,gt),an==Fs){Ge==4&&(this.s=4,Me(14),w=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Gi){this.s=4,Me(15),Hi(this.i,this.l,gt,"[Invalid Chunk]"),w=!1;break}else Hi(this.i,this.l,an,null),Hn(this,an);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||gt.length!=0||this.h.h||(this.s=1,Me(16),w=!1),this.o=this.o&&w,!w)Hi(this.i,this.l,gt,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(0<gt.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Ws(tn),tn.M=!0,Me(11))}}else Hi(this.i,this.l,gt,null),Hn(this,gt);Ge==4&&Dn(this),this.o&&!this.J&&(Ge==4?nc(this.j,this):(this.o=!1,be(this)))}else Of(this.g),w==400&&0<gt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),Dn(this),qn(this)}}}catch{}finally{}};function Ki(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qi(h,v){var w=h.C,C=v.indexOf(`
`,w);return C==-1?Fs:(w=Number(v.substring(w,C)),isNaN(w)?Gi:(C+=1,C+w>v.length?Fs:(v=v.slice(C,C+w),h.C=C+w,v)))}Nr.prototype.cancel=function(){this.J=!0,Dn(this)};function be(h){h.S=Date.now()+h.I,Zo(h,h.I)}function Zo(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ji(R(h.ba,h),v)}function Ma(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Nr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dr(this.i,this.A),this.L!=2&&(Fi(),Me(17)),Dn(this),this.s=2,qn(this)):Zo(this,this.S-h)};function qn(h){h.j.G==0||h.J||nc(h.j,h)}function Dn(h){Ma(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,xt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hn(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||Yi(w.h,h))){if(!h.K&&Yi(w.h,h)&&w.G==3){try{var C=w.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ha(w),ja(w);else break t;ul(w),Me(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=ji(R(w.Za,w),6e3));if(1>=Ku(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else fi(w,11)}else if((h.K||w.g==h)&&Ha(w),!rt(v))for(Y=w.Da.g.parse(v),v=0;v<Y.length;v++){let re=Y[v];if(w.T=re[0],re=re[1],w.G==2)if(re[0]=="c"){w.K=re[1],w.ia=re[2];const tn=re[3];tn!=null&&(w.la=tn,w.j.info("VER="+w.la));const Ge=re[4];Ge!=null&&(w.Aa=Ge,w.j.info("SVER="+w.Aa));const di=re[5];di!=null&&typeof di=="number"&&0<di&&(C=1.5*di,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const an=h.g;if(an){const Br=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var tt=C.h;tt.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Xi(tt,tt.h),tt.h=null))}if(C.D){const hl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(C.ya=hl,oe(C.I,C.D,hl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var gt=h;if(C.qa=ic(C,C.J?C.ia:null,C.W),gt.K){nr(C.h,gt);var ne=gt,He=C.L;He&&(ne.I=He),ne.B&&(Ma(ne),be(ne)),C.g=gt}else tc(C);0<w.i.length&&qa(w)}else re[0]!="stop"&&re[0]!="close"||fi(w,7);else w.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?fi(w,7):ol(w):re[0]!="noop"&&w.l&&w.l.ta(re),w.v=0)}}Fi(4)}catch{}}var If=class{constructor(h,v){this.g=h,this.map=v}};function Jo(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ku(h){return h.h?1:h.g?h.g.size:0}function Yi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Xi(h,v){h.g?h.g.add(v):h.h=v}function nr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Jo.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return B(h.i)}function Qu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],w=h.length,C=0;C<w;C++)v.push(h[C]);return v}v=[],w=0;for(C in h)v[w++]=h[C];return v}function Cf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const C in h)v[w++]=C;return v}}}function js(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=Cf(h),C=Qu(h),Y=C.length,tt=0;tt<Y;tt++)v.call(void 0,C[tt],w&&w[tt],h)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var C=h[w].indexOf("="),Y=null;if(0<=C){var tt=h[w].substring(0,C);Y=h[w].substring(C+1)}else tt=h[w];v(tt,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function oi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof oi){this.h=h.h,$i(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var v=h.i,w=new Or;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Pa(this,w),this.m=h.m}else h&&(v=String(h).match(el))?(this.h=!1,$i(this,v[1]||"",!0),this.o=Wi(v[2]||""),this.g=Wi(v[3]||"",!0),qs(this,v[4]),this.l=Wi(v[5]||"",!0),Pa(this,v[6]||"",!0),this.m=Wi(v[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}oi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(rr(v,nl,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(rr(v,nl,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(rr(w,w.charAt(0)=="/"?rl:Yu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",rr(w,Nf)),h.join("")};function Ce(h){return new oi(h)}function $i(h,v,w){h.j=w?Wi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Pa(h,v,w){v instanceof Or?(h.i=v,il(h.i,h.h)):(w||(v=rr(v,Df)),h.i=new Or(v,h.h))}function oe(h,v,w){h.i.set(v,w)}function Hs(h){return oe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rr(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,kf),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var nl=/[#\/\?@]/g,Yu=/[#\?:]/g,rl=/[#\?]/g,Df=/[#\?@]/g,Nf=/#/g;function Or(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}e=Or.prototype,e.add=function(h,v){ir(this),this.i=null,h=ci(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function La(h,v){ir(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function li(h,v){return ir(h),v=ci(h,v),h.g.has(v)}e.forEach=function(h,v){ir(this),this.g.forEach(function(w,C){w.forEach(function(Y){h.call(v,Y,C,this)},this)},this)},e.na=function(){ir(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let C=0;C<v.length;C++){const Y=h[C];for(let tt=0;tt<Y.length;tt++)w.push(v[C])}return w},e.V=function(h){ir(this);let v=[];if(typeof h=="string")li(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},e.set=function(h,v){return ir(this),this.i=null,h=ci(this,h),li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ui(h,v,w){La(h,v),0<w.length&&(h.i=null,h.g.set(ci(h,v),B(w)),h.h+=w.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var C=v[w];const tt=encodeURIComponent(String(C)),gt=this.V(C);for(C=0;C<gt.length;C++){var Y=tt;gt[C]!==""&&(Y+="="+encodeURIComponent(String(gt[C]))),h.push(Y)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function il(h,v){v&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(w,C){var Y=C.toLowerCase();C!=Y&&(La(this,C),ui(this,Y,w))},h)),h.j=v}function Xu(h,v){const w=new qi;if(f.Image){const C=new Image;C.onload=S(sr,w,"TestLoadImage: loaded",!0,v,C),C.onerror=S(sr,w,"TestLoadImage: error",!1,v,C),C.onabort=S(sr,w,"TestLoadImage: abort",!1,v,C),C.ontimeout=S(sr,w,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Gs(h,v){const w=new qi,C=new AbortController,Y=setTimeout(()=>{C.abort(),sr(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(tt=>{clearTimeout(Y),tt.ok?sr(w,"TestPingServer: ok",!0,v):sr(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),sr(w,"TestPingServer: error",!1,v)})}function sr(h,v,w,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(w)}catch{}}function Ks(){this.g=new Bt}function Mr(h,v,w){const C=w||"";try{js(h,function(Y,tt){let gt=Y;m(Y)&&(gt=ee(Y)),v.push(C+tt+"="+encodeURIComponent(gt))})}catch(Y){throw v.push(C+"type="+encodeURIComponent("_badmap")),Y}}function Zi(h){this.l=h.Ub||null,this.j=h.eb||!1}U(Zi,qt),Zi.prototype.g=function(){return new hi(this.l,this.j)},Zi.prototype.i=function(h){return function(){return h}}({});function hi(h,v){J.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(hi,J),e=hi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Pr(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ur(this):Pr(this),this.readyState==3&&sl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},e.Qa=function(h){this.g&&(this.response=h,Ur(this))},e.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pr(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function al(h){let v="";return Z(h,function(w,C){v+=C,v+=":",v+=w,v+=`\r
`}),v}function Je(h,v,w){t:{for(C in w){var C=!1;break t}C=!0}C||(w=al(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):oe(h,v,w))}function he(h){J.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(he,J);var Va=/^https?$/i,Qs=["POST","PUT"];e=he.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zs.g(),this.v=this.o?Fu(this.o):Fu(zs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(tt){$u(this,tt);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)w.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const tt of C.keys())w.set(tt,C.get(tt));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(tt=>tt.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,v,void 0))||C||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,gt]of w)this.g.setRequestHeader(tt,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(tt){$u(this,tt)}};function $u(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ba(h),Lr(h)}function Ba(h){h.A||(h.A=!0,A(h,"complete"),A(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,A(this,"complete"),A(this,"abort"),Lr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),he.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},e.bb=function(){za(this)};function za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)E(h.Ea,0,h);else if(A(h,"readystatechange"),ar(h)==4){h.h=!1;try{const gt=h.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var w;if(!(w=v)){var C;if(C=gt===0){var Y=String(h.D).match(el)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),C=!Va.test(Y?Y.toLowerCase():"")}w=C}if(w)A(h,"complete"),A(h,"success");else{h.m=6;try{var tt=2<ar(h)?h.g.statusText:""}catch{tt=""}h.l=tt+" ["+h.Z()+"]",Ba(h)}}finally{Lr(h)}}}}function Lr(h,v){if(h.g){Ys(h);const w=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||A(h,"ready");try{w.onreadystatechange=C}catch{}}}function Ys(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Mt(v)}};function Wu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(h){const v={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(rt(h[C]))continue;var w=V(h[C]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const tt=v[Y]||[];v[Y]=tt,tt.push(w)}z(v,function(C){return C.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function Fa(h){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,h),this.cb=Xs("retryDelaySeedMs",1e4,h),this.Wa=Xs("forwardChannelMaxRetries",2,h),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Jo(h&&h.concurrentRequestLimit),this.Da=new Ks,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Fa.prototype,e.la=8,e.G=1,e.connect=function(h,v,w,C){Me(0),this.W=h,this.H=v||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=ic(this,null,this.W),qa(this)};function ol(h){if(Zu(h),h.G==3){var v=h.U++,w=Ce(h.I);if(oe(w,"SID",h.K),oe(w,"RID",v),oe(w,"TYPE","terminate"),$s(h,w),v=new Nr(h,h.j,v),v.L=2,v.v=Hs(Ce(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=sc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),be(v)}rc(h)}function ja(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function Zu(h){ja(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ha(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function qa(h){if(!tl(h.h)&&!h.s){h.s=!0;var v=h.Ga;Tt||x(),wt||(Tt(),wt=!0),Ht.add(v,h),h.B=0}}function Mf(h,v){return Ku(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ji(R(h.Ga,h,v),cl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Nr(this,this.j,h);let tt=this.o;if(this.S&&(tt?(tt=M(tt),P(tt,this.S)):tt=this.S),this.m!==null||this.O||(Y.H=tt,tt=null),this.P)t:{for(var v=0,w=0;w<this.i.length;w++){e:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=w;break t}if(v===4096||w===this.i.length-1){v=w+1;break t}}v=1e3}else v=1e3;v=Ju(this,Y,v),w=Ce(this.I),oe(w,"RID",h),oe(w,"CVER",22),this.D&&oe(w,"X-HTTP-Session-Id",this.D),$s(this,w),tt&&(this.O?v="headers="+encodeURIComponent(String(al(tt)))+"&"+v:this.m&&Je(w,this.m,tt)),Xi(this.h,Y),this.Ua&&oe(w,"TYPE","init"),this.P?(oe(w,"$req",v),oe(w,"SID","null"),Y.T=!0,br(Y,w,null)):br(Y,w,v),this.G=2}}else this.G==3&&(h?ll(this,h):this.i.length==0||tl(this.h)||ll(this))};function ll(h,v){var w;v?w=v.l:w=h.U++;const C=Ce(h.I);oe(C,"SID",h.K),oe(C,"RID",w),oe(C,"AID",h.T),$s(h,C),h.m&&h.o&&Je(C,h.m,h.o),w=new Nr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ju(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xi(h.h,w),br(w,C,v)}function $s(h,v){h.H&&Z(h.H,function(w,C){oe(v,C,w)}),h.l&&js({},function(w,C){oe(v,C,w)})}function Ju(h,v,w){w=Math.min(h.i.length,w);var C=h.l?R(h.l.Na,h.l,h):null;t:{var Y=h.i;let tt=-1;for(;;){const gt=["count="+w];tt==-1?0<w?(tt=Y[0].g,gt.push("ofs="+tt)):tt=0:gt.push("ofs="+tt);let ne=!0;for(let He=0;He<w;He++){let re=Y[He].g;const tn=Y[He].map;if(re-=tt,0>re)tt=Math.max(0,Y[He].g-100),ne=!1;else try{Mr(tn,gt,"req"+re+"_")}catch{C&&C(tn)}}if(ne){C=gt.join("&");break t}}}return h=h.i.splice(0,w),v.D=h,C}function tc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Tt||x(),wt||(Tt(),wt=!0),Ht.add(v,h),h.v=0}}function ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ji(R(h.Fa,h),cl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ji(R(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),ja(this),ec(this))};function Ws(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ec(h){h.g=new Nr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Ce(h.qa);oe(v,"RID","rpc"),oe(v,"SID",h.K),oe(v,"AID",h.T),oe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&oe(v,"TO",h.ja),oe(v,"TYPE","xmlhttp"),$s(h,v),h.m&&h.o&&Je(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Hs(Ce(v)),w.m=null,w.P=!0,ai(w,h)}e.Za=function(){this.C!=null&&(this.C=null,ja(this),ul(this),Me(19))};function Ha(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function nc(h,v){var w=null;if(h.g==v){Ha(h),Ws(h),h.g=null;var C=2}else if(Yi(h.h,v))w=v.D,nr(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;C=Da(),A(C,new qu(C,w)),qa(h)}else tc(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(C==1&&Mf(h,v)||C==2&&ul(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),Y){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function cl(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function fi(h,v){if(h.j.info("Error code "+v),v==2){var w=R(h.fb,h),C=h.Xa;const Y=!C;C=new oi(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$i(C,"https"),Hs(C),Y?Xu(C.toString(),w):Gs(C.toString(),w)}else Me(2);h.G=0,h.l&&h.l.sa(v),rc(h),Zu(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function rc(h){if(h.G=0,h.ka=[],h.l){const v=bn(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ka,v),q(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function ic(h,v,w){var C=w instanceof oi?Ce(w):new oi(w);if(C.g!="")v&&(C.g=v+"."+C.g),qs(C,C.s);else{var Y=f.location;C=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var tt=new oi(null);C&&$i(tt,C),v&&(tt.g=v),Y&&qs(tt,Y),w&&(tt.l=w),C=tt}return w=h.D,v=h.ya,w&&v&&oe(C,w,v),oe(C,"VER",h.la),$s(h,C),C}function sc(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new he(new Zi({eb:w})):new he(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}e=ac.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ga(){}Ga.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){J.call(this),this.g=new Fa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!rt(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!rt(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Vr(this)}U(Sn,J),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){ol(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ee(h),h=w);v.i.push(new If(v.Ya++,h)),v.G==3&&qa(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Sn.aa.N.call(this)};function oc(h){Bi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const w in v){h=w;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}U(oc,Bi);function lc(){wr.call(this),this.status=1}U(lc,wr);function Vr(h){this.g=h}U(Vr,ac),Vr.prototype.ua=function(){A(this.g,"a")},Vr.prototype.ta=function(h){A(this.g,new oc(h))},Vr.prototype.sa=function(h){A(this.g,new lc)},Vr.prototype.ra=function(){A(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,WT=function(){return new Ga},$T=function(){return Da()},XT=er,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,_h=qe,si.COMPLETE="complete",YT=si,ju.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",J.prototype.listen=J.prototype.K,nu=ju,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,QT=he}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",O0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Fm("@firebase/firestore");function wo(){return ba.logLevel}function bt(e,...t){if(ba.logLevel<=Wt.DEBUG){const n=t.map(Hm);ba.debug(`Firestore (${Fo}): ${e}`,...n)}}function Ui(e,...t){if(ba.logLevel<=Wt.ERROR){const n=t.map(Hm);ba.error(`Firestore (${Fo}): ${e}`,...n)}}function Oo(e,...t){if(ba.logLevel<=Wt.WARN){const n=t.map(Hm);ba.warn(`Firestore (${Fo}): ${e}`,...n)}}function Hm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e="Unexpected state"){const t=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+e;throw Ui(t),new Error(t)}function fe(e,t){e||Pt()}function jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ii{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ax{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class Rx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xx{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){fe(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ni,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ni)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string"),new ZT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string"),new _n(t)}}class Ix{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Cx{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new Ix(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kx{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){fe(this.o===void 0);const i=l=>{l.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const a=l=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new M0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new M0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Dx(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=t.charAt(a[l]%62))}return i}}function te(e,t){return e<t?-1:e>t?1:0}function Mo(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,P0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*P0);return new Xe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<U0)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-U0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Xe(0,0))}static max(){return new zt(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class Kr{constructor(t,n,i){n===void 0?n=0:n>t.length&&Pt(),i===void 0?i=t.length-n:i>t.length-n&&Pt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Kr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Kr?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const l=Kr.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Math.sign(t.length-n.length)}static compareSegments(t,n){const i=Kr.isNumericId(t),a=Kr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Kr.extractNumericId(t).compare(Kr.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class we extends Kr{construct(t,n,i){return new we(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new we(n)}static emptyPath(){return new we([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Kr{construct(t,n,i){return new hn(t,n,i)}static isValidIdentifier(t){return Nx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new hn([L0])}static fromServerFormat(t){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new Ct(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ct(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Ct(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(we.fromString(t))}static fromName(t){return new Dt(we.fromString(t).popFirst(5))}static empty(){return new Dt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return we.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new we(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function Ox(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=zt.fromTimestamp(i===1e9?new Xe(n+1,0):new Xe(n,i));return new Ds(a,Dt.empty(),t)}function Mx(e){return new Ds(e.readTime,e.key,gu)}class Ds{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ds(zt.min(),Dt.empty(),gu)}static max(){return new Ds(zt.max(),Dt.empty(),gu)}}function Ux(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Dt.comparator(e.documentKey,t.documentKey),n!==0?n:te(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(e){if(e.code!==ht.FAILED_PRECONDITION||e.message!==Px)throw e;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ut((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ut?n:ut.resolve(n)}catch(n){return ut.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ut.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ut.reject(n)}static resolve(t){return new ut((n,i)=>{n(t)})}static reject(t){return new ut((n,i)=>{i(t)})}static waitFor(t){return new ut((n,i)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(t){let n=ut.resolve(!1);for(const i of t)n=n.next(a=>a?ut.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(t,n){return new ut((i,a)=>{const l=t.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(t[m]).next(_=>{c[m]=_,++f,f===l&&i(c)},_=>a(_))}})}static doWhile(t,n){return new ut((i,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):i()};l()})}}function Vx(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}ef.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function nf(e){return e==null}function Dh(e){return e===0&&1/e==-1/0}function Bx(e){return typeof e=="number"&&Number.isInteger(e)&&!Dh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function zx(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=V0(t)),t=Fx(e.get(n),t);return V0(t)}function Fx(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case tw:n+="";break;default:n+=l}}return n}function V0(e){return e+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ls(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ew(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.comparator=t,this.root=n||cn.EMPTY}insert(t,n){return new Re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,n,i,a,l){this.key=t,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,l){return new cn(t??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const t=this.left.check();if(t!==this.right.check())throw Pt();return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(t,n,i,a,l){return this}insert(t,n,i){return new cn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(t){return new z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $e(this.comparator);return n.data=t,n}}class z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(t){let n=new $e(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nw("Invalid base64 string: "+l):l}}(t);return new fn(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(e){if(fe(!!e),typeof e=="string"){let t=0;const n=jx.exec(e);if(fe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Os(e){return typeof e=="string"?fn.fromBase64String(e):fn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="server_timestamp",iw="__type__",sw="__previous_value__",aw="__local_write_time__";function Km(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[iw])===null||n===void 0?void 0:n.stringValue)===rw}function rf(e){const t=e.mapValue.fields[sw];return Km(t)?rf(t):t}function yu(e){const t=Ns(e.mapValue.fields[aw].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,n,i,a,l,c,f,p,m){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Nh="(default)";class _u{constructor(t,n){this.projectId=t,this.database=n||Nh}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__type__",Hx="__max__",uh={mapValue:{}},lw="__vector__",Oh="value";function Ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Km(e)?4:Kx(e)?9007199254740991:Gx(e)?10:11:Pt()}function ti(e,t){if(e===t)return!0;const n=Ms(e);if(n!==Ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yu(e).isEqual(yu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ns(a.timestampValue),f=Ns(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return Os(a.bytesValue).isEqual(Os(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Pe(a.geoPointValue.latitude)===Pe(l.geoPointValue.latitude)&&Pe(a.geoPointValue.longitude)===Pe(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pe(a.integerValue)===Pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pe(a.doubleValue),f=Pe(l.doubleValue);return c===f?Dh(c)===Dh(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Mo(e.arrayValue.values||[],t.arrayValue.values||[],ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(B0(c)!==B0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ti(c[p],f[p])))return!1;return!0}(e,t);default:return Pt()}}function vu(e,t){return(e.values||[]).find(n=>ti(n,t))!==void 0}function Uo(e,t){if(e===t)return 0;const n=Ms(e),i=Ms(t);if(n!==i)return te(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Pe(l.integerValue||l.doubleValue),p=Pe(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(e,t);case 3:return F0(e.timestampValue,t.timestampValue);case 4:return F0(yu(e),yu(t));case 5:return te(e.stringValue,t.stringValue);case 6:return function(l,c){const f=Os(l),p=Os(c);return f.compareTo(p)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const _=te(f[m],p[m]);if(_!==0)return _}return te(f.length,p.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=te(Pe(l.latitude),Pe(c.latitude));return f!==0?f:te(Pe(l.longitude),Pe(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return j0(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,p,m,_;const T=l.fields||{},R=c.fields||{},S=(f=T[Oh])===null||f===void 0?void 0:f.arrayValue,U=(p=R[Oh])===null||p===void 0?void 0:p.arrayValue,B=te(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:j0(S,U)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const R=te(p[T],_[T]);if(R!==0)return R;const S=Uo(f[p[T]],m[_[T]]);if(S!==0)return S}return te(p.length,_.length)}(e.mapValue,t.mapValue);default:throw Pt()}}function F0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return te(e,t);const n=Ns(e),i=Ns(t),a=te(n.seconds,i.seconds);return a!==0?a:te(n.nanos,i.nanos)}function j0(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Uo(n[a],i[a]);if(l)return l}return te(n.length,i.length)}function Po(e){return hm(e)}function hm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ns(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Os(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Dt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=hm(l);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${hm(n.fields[c])}`;return a+"}"}(e.mapValue):Pt()}function vh(e){switch(Ms(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rf(e);return t?16+vh(t):16;case 5:return 2*e.stringValue.length;case 6:return Os(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+vh(l),0)}(e.arrayValue);case 10:case 11:return function(i){let a=0;return Ls(i.fields,(l,c)=>{a+=l.length+vh(c)}),a}(e.mapValue);default:throw Pt()}}function fm(e){return!!e&&"integerValue"in e}function Qm(e){return!!e&&"arrayValue"in e}function q0(e){return!!e&&"nullValue"in e}function H0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eh(e){return!!e&&"mapValue"in e}function Gx(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[ow])===null||n===void 0?void 0:n.stringValue)===lw}function au(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ls(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=au(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=au(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Hx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(n)}setAll(t){let n=hn.emptyPath(),i={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=au(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(t){const n=this.field(t.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ti(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];Eh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Ls(n,(a,l)=>t[a]=l);for(const a of i)delete t[a]}clone(){return new Pn(au(this.value))}}function uw(e){const t=[];return Ls(e.fields,(n,i)=>{const a=new hn([n]);if(Eh(i)){const l=uw(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,n,i,a,l,c,f){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new vn(t,0,zt.min(),zt.min(),zt.min(),Pn.empty(),0)}static newFoundDocument(t,n,i,a){return new vn(t,1,n,zt.min(),i,a,0)}static newNoDocument(t,n){return new vn(t,2,n,zt.min(),zt.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new vn(t,3,n,zt.min(),zt.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n){this.position=t,this.inclusive=n}}function G0(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?i=Dt.comparator(Dt.fromName(c.referenceValue),n.key):i=Uo(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function K0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ti(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Qx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class Ye extends cw{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Xx(t,n,i):n==="array-contains"?new Zx(t,i):n==="in"?new Jx(t,i):n==="not-in"?new tI(t,i):n==="array-contains-any"?new eI(t,i):new Ye(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new $x(t,i):new Wx(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends cw{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ei(t,n)}matches(t){return hw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hw(e){return e.op==="and"}function fw(e){return Yx(e)&&hw(e)}function Yx(e){for(const t of e.filters)if(t instanceof ei)return!1;return!0}function dm(e){if(e instanceof Ye)return e.field.canonicalString()+e.op.toString()+Po(e.value);if(fw(e))return e.filters.map(t=>dm(t)).join(",");{const t=e.filters.map(n=>dm(n)).join(",");return`${e.op}(${t})`}}function dw(e,t){return e instanceof Ye?function(i,a){return a instanceof Ye&&i.op===a.op&&i.field.isEqual(a.field)&&ti(i.value,a.value)}(e,t):e instanceof ei?function(i,a){return a instanceof ei&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&dw(c,a.filters[f]),!0):!1}(e,t):void Pt()}function pw(e){return e instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`}(e):e instanceof ei?function(n){return n.op.toString()+" {"+n.getFilters().map(pw).join(" ,")+"}"}(e):"Filter"}class Xx extends Ye{constructor(t,n,i){super(t,n,i),this.key=Dt.fromName(i.referenceValue)}matches(t){const n=Dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class $x extends Ye{constructor(t,n){super(t,"in",n),this.keys=mw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Wx extends Ye{constructor(t,n){super(t,"not-in",n),this.keys=mw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Dt.fromName(i.referenceValue))}class Zx extends Ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qm(n)&&vu(n.arrayValue,this.value)}}class Jx extends Ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class tI extends Ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!vu(this.value.arrayValue,n)}}class eI extends Ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>vu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n=null,i=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function Q0(e,t=null,n=[],i=[],a=null,l=null,c=null){return new nI(e,t,n,i,a,l,c)}function Ym(e){const t=jt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>dm(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),nf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Po(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Po(i)).join(",")),t.le=n}return t.le}function Xm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!dw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!K0(e.startAt,t.startAt)&&K0(e.endAt,t.endAt)}function pm(e){return Dt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rI(e,t,n,i,a,l,c,f){return new sf(e,t,n,i,a,l,c,f)}function af(e){return new sf(e)}function Y0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function iI(e){return e.collectionGroup!==null}function ou(e){const t=jt(e);if(t.he===null){t.he=[];const n=new Set;for(const l of t.explicitOrderBy)t.he.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new $e(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.he.push(new Uh(l,i))}),n.has(hn.keyField().canonicalString())||t.he.push(new Uh(hn.keyField(),i))}return t.he}function Wr(e){const t=jt(e);return t.Pe||(t.Pe=sI(t,ou(e))),t.Pe}function sI(e,t){if(e.limitType==="F")return Q0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Uh(a.field,l)});const n=e.endAt?new Mh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Mh(e.startAt.position,e.startAt.inclusive):null;return Q0(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function mm(e,t,n){return new sf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function of(e,t){return Xm(Wr(e),Wr(t))&&e.limitType===t.limitType}function gw(e){return`${Ym(Wr(e))}|lt:${e.limitType}`}function bo(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>pw(a)).join(", ")}]`),nf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Po(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Po(a)).join(",")),`Target(${i})`}(Wr(e))}; limitType=${e.limitType})`}function lf(e,t){return t.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Dt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(e,t)&&function(i,a){for(const l of ou(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(c,f,p){const m=G0(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,ou(i),a)||i.endAt&&!function(c,f,p){const m=G0(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,ou(i),a))}(e,t)}function aI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yw(e){return(t,n)=>{let i=!1;for(const a of ou(e)){const l=oI(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function oI(e,t,n){const i=e.field.isKeyField()?Dt.comparator(t.key,n.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Uo(p,m):Pt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(n,i)=>{for(const[a,l]of i)t(a,l)})}isEmpty(){return ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Re(Dt.comparator);function Pi(){return lI}const _w=new Re(Dt.comparator);function ru(...e){let t=_w;for(const n of e)t=t.insert(n.key,n);return t}function vw(e){let t=_w;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ya(){return lu()}function Ew(){return lu()}function lu(){return new Ia(e=>e.toString(),(e,t)=>e.isEqual(t))}const uI=new Re(Dt.comparator),cI=new $e(Dt.comparator);function Zt(...e){let t=cI;for(const n of e)t=t.add(n);return t}const hI=new $e(te);function fI(){return hI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(t)?"-0":t}}function Tw(e){return{integerValue:""+e}}function dI(e,t){return Bx(t)?Tw(t):$m(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function pI(e,t,n){return e instanceof Ph?function(a,l){const c={fields:{[iw]:{stringValue:rw},[aw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Km(l)&&(l=rf(l)),l&&(c.fields[sw]=l),{mapValue:c}}(n,t):e instanceof Eu?bw(e,t):e instanceof Tu?Sw(e,t):function(a,l){const c=ww(a,l),f=X0(c)+X0(a.Ie);return fm(c)&&fm(a.Ie)?Tw(f):$m(a.serializer,f)}(e,t)}function mI(e,t,n){return e instanceof Eu?bw(e,t):e instanceof Tu?Sw(e,t):n}function ww(e,t){return e instanceof Lh?function(i){return fm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(t)?t:{integerValue:0}:null}class Ph extends uf{}class Eu extends uf{constructor(t){super(),this.elements=t}}function bw(e,t){const n=Aw(t);for(const i of e.elements)n.some(a=>ti(a,i))||n.push(i);return{arrayValue:{values:n}}}class Tu extends uf{constructor(t){super(),this.elements=t}}function Sw(e,t){let n=Aw(t);for(const i of e.elements)n=n.filter(a=>!ti(a,i));return{arrayValue:{values:n}}}class Lh extends uf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function X0(e){return Pe(e.integerValue||e.doubleValue)}function Aw(e){return Qm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function gI(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Eu&&a instanceof Eu||i instanceof Tu&&a instanceof Tu?Mo(i.elements,a.elements,ti):i instanceof Lh&&a instanceof Lh?ti(i.Ie,a.Ie):i instanceof Ph&&a instanceof Ph}(e.transform,t.transform)}class yI{constructor(t,n){this.version=t,this.transformResults=n}}class vr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vr}static exists(t){return new vr(void 0,t)}static updateTime(t){return new vr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Th(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class cf{}function Rw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Wm(e.key,vr.none()):new xu(e.key,e.data,vr.none());{const n=e.data,i=Pn.empty();let a=new $e(hn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Vs(e.key,i,new Wn(a.toArray()),vr.none())}}function _I(e,t,n){e instanceof xu?function(a,l,c){const f=a.value.clone(),p=W0(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Vs?function(a,l,c){if(!Th(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=W0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(xw(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function uu(e,t,n,i){return e instanceof xu?function(l,c,f,p){if(!Th(l.precondition,c))return f;const m=l.value.clone(),_=Z0(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(e,t,n,i):e instanceof Vs?function(l,c,f,p){if(!Th(l.precondition,c))return f;const m=Z0(l.fieldTransforms,p,c),_=c.data;return _.setAll(xw(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(e,t,n,i):function(l,c,f){return Th(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function vI(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),l=ww(i.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function $0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Mo(i,a,(l,c)=>gI(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xu extends cf{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vs extends cf{constructor(t,n,i,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function W0(e,t,n){const i=new Map;fe(e.length===n.length);for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);i.set(l.field,mI(c,f,n[a]))}return i}function Z0(e,t,n){const i=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);i.set(a.field,pI(l,c,t))}return i}class Wm extends cf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends cf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&_I(l,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=uu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=uu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=Ew();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const p=Rw(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Zt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,(n,i)=>$0(n,i))&&Mo(this.baseMutations,t.baseMutations,(n,i)=>$0(n,i))}}class Zm{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){fe(t.mutations.length===i.length);let a=function(){return uI}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Zm(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,se;function SI(e){switch(e){case ht.OK:return Pt();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Pt()}}function Iw(e){if(e===void 0)return Ui("GRPC error has no .code"),ht.UNKNOWN;switch(e){case Fe.OK:return ht.OK;case Fe.CANCELLED:return ht.CANCELLED;case Fe.UNKNOWN:return ht.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return ht.INTERNAL;case Fe.UNAVAILABLE:return ht.UNAVAILABLE;case Fe.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Fe.NOT_FOUND:return ht.NOT_FOUND;case Fe.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Fe.ABORTED:return ht.ABORTED;case Fe.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Fe.DATA_LOSS:return ht.DATA_LOSS;default:return Pt()}}(se=Fe||(Fe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Is([4294967295,4294967295],0);function J0(e){const t=AI().encode(e),n=new KT;return n.update(t),new Uint8Array(n.digest())}function tE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Is([n,i],0),new Is([a,l],0)]}class Jm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new iu(`Invalid padding: ${n}`);if(i<0)throw new iu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new iu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Is.fromNumber(this.Ee)}Ae(t,n,i){let a=t.add(n.multiply(Is.fromNumber(i)));return a.compare(RI)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=J0(t),[i,a]=tE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Jm(l,a,n);return i.forEach(f=>c.insert(f)),c}insert(t){if(this.Ee===0)return;const n=J0(t),[i,a]=tE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n,i,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,Iu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new hf(zt.min(),a,new Re(te),Pi(),Zt())}}class Iu{constructor(t,n,i,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Iu(i,n,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,i,a){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=a}}class Cw{constructor(t,n){this.targetId=t,this.ge=n}}class kw{constructor(t,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class eE{constructor(){this.pe=0,this.ye=nE(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Zt(),n=Zt(),i=Zt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Pt()}}),new Iu(this.we,this.be,t,n,i)}Me(){this.Se=!1,this.ye=nE()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class xI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Pi(),this.$e=ch(),this.Ke=ch(),this.Ue=new Re(te)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:Pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,i=t.ge.count,a=this.Xe(n);if(a){const l=a.target;if(pm(l))if(i===0){const c=new Dt(l.path);this.ze(n,c,vn.newNoDocument(c,zt.min()))}else fe(i===1);else{const c=this.et(n);if(c!==i){const f=this.tt(t),p=f?this.nt(f,t,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Os(i).toUint8Array()}catch(p){if(p instanceof nw)return Oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Jm(c,a,l)}catch(p){return Oo(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&pm(f.target)){const p=new Dt(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,t))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Zt();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new hf(t,n,this.Ue,this.Qe,i);return this.Qe=Pi(),this.$e=ch(),this.Ke=ch(),this.Ue=new Re(te),a}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new eE,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new $e(te),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new $e(te),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||bt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new eE),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function ch(){return new Re(Dt.comparator)}function nE(){return new Re(Dt.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kI={and:"AND",or:"OR"};class DI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gm(e,t){return e.useProto3Json||nf(t)?t:{value:t}}function Vh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NI(e,t){return Vh(e,t.toTimestamp())}function Zr(e){return fe(!!e),zt.fromTimestamp(function(n){const i=Ns(n);return new Xe(i.seconds,i.nanos)}(e))}function tg(e,t){return ym(e,t).canonicalString()}function ym(e,t){const n=function(a){return new we(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Nw(e){const t=we.fromString(e);return fe(Lw(t)),t}function _m(e,t){return tg(e.databaseId,t.path)}function Lp(e,t){const n=Nw(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dt(Mw(n))}function Ow(e,t){return tg(e.databaseId,t)}function OI(e){const t=Nw(e);return t.length===4?we.emptyPath():Mw(t)}function vm(e){return new we(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mw(e){return fe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function rE(e,t,n){return{name:_m(e,t),fields:n.value.mapValue.fields}}function MI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(fe(_===void 0||typeof _=="string"),fn.fromBase64String(_||"")):(fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),fn.fromUint8Array(_||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(m){const _=m.code===void 0?ht.UNKNOWN:Iw(m.code);return new Ct(_,m.message||"")}(c);n=new kw(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Lp(e,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):zt.min(),f=new Pn({mapValue:{fields:i.document.fields}}),p=vn.newFoundDocument(a,l,c,f),m=i.targetIds||[],_=i.removedTargetIds||[];n=new wh(m,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Lp(e,i.document),l=i.readTime?Zr(i.readTime):zt.min(),c=vn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new wh([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Lp(e,i.document),l=i.removedTargetIds||[];n=new wh([],l,a,null)}else{if(!("filter"in t))return Pt();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new bI(a,l),f=i.targetId;n=new Cw(f,c)}}return n}function UI(e,t){let n;if(t instanceof xu)n={update:rE(e,t.key,t.value)};else if(t instanceof Wm)n={delete:_m(e,t.key)};else if(t instanceof Vs)n={update:rE(e,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof EI))return Pt();n={verify:_m(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof Ph)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Eu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Pt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:NI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pt()}(e,t.precondition)),n}function PI(e,t){return e&&e.length>0?(fe(t!==void 0),e.map(n=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(zt.min())&&(c=Zr(l)),new yI(c,a.transformResults||[])}(n,t))):[]}function LI(e,t){return{documents:[Ow(e,t.path)]}}function VI(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ow(e,a);const l=function(m){if(m.length!==0)return Pw(ei.create(m,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(R){return{field:So(R.field),direction:FI(R.dir)}}(_))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=gm(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:n,parent:a}}function BI(e){let t=OI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){fe(i===1);const _=n.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];n.where&&(l=function(T){const R=Uw(T);return R instanceof ei&&fw(R)?R.getFilters():[R]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(R=>function(U){return new Uh(Ao(U.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(n.orderBy));let f=null;n.limit&&(f=function(T){let R;return R=typeof T=="object"?T.value:T,nf(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(T){const R=!!T.before,S=T.values||[];return new Mh(S,R)}(n.startAt));let m=null;return n.endAt&&(m=function(T){const R=!T.before,S=T.values||[];return new Mh(S,R)}(n.endAt)),rI(t,a,c,l,f,"F",p,m)}function zI(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Uw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ao(n.unaryFilter.field);return Ye.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ao(n.unaryFilter.field);return Ye.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(n.unaryFilter.field);return Ye.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(n.unaryFilter.field);return Ye.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(e):e.fieldFilter!==void 0?function(n){return Ye.create(Ao(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ei.create(n.compositeFilter.filters.map(i=>Uw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(e):Pt()}function FI(e){return II[e]}function jI(e){return CI[e]}function qI(e){return kI[e]}function So(e){return{fieldPath:e.canonicalString()}}function Ao(e){return hn.fromServerFormat(e.fieldPath)}function Pw(e){return e instanceof Ye?function(n){if(n.op==="=="){if(H0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(q0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(q0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:jI(n.op),value:n.value}}}(e):e instanceof ei?function(n){const i=n.getFilters().map(a=>Pw(a));return i.length===1?i[0]:{compositeFilter:{op:qI(n.op),filters:i}}}(e):Pt()}function HI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Lw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,n,i,a,l=zt.min(),c=zt.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new As(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.Tt=t}}function KI(e){const t=BI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Tn=new YI}addToCollectionParentIndex(t,n){return this.Tn.add(n),ut.resolve()}getCollectionParents(t,n){return ut.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return ut.resolve()}deleteFieldIndex(t,n){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,n){return ut.resolve()}getDocumentsMatchingTarget(t,n){return ut.resolve(null)}getIndexType(t,n){return ut.resolve(0)}getFieldIndexes(t,n){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,n){return ut.resolve(Ds.min())}getMinOffsetFromCollectionGroup(t,n){return ut.resolve(Ds.min())}updateCollectionGroup(t,n,i){return ut.resolve()}updateIndexEntries(t,n){return ut.resolve()}}class YI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new $e(we.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new $e(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vw=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Vw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Lo(0)}static Un(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",XI=1048576;function aE([e,t],[n,i]){const a=te(e,n);return a===0?te(t,i):a}class $I{constructor(t){this.Hn=t,this.buffer=new $e(aE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();aE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WI{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){bt(sE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?bt(sE,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.er(3e5)})}}class ZI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ut.resolve(ef.ae);const i=new $I(n);return this.tr.forEachTarget(t,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(iE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,a,l,c,f,p,m;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(i=T,f=Date.now(),this.removeTargets(t,i,n))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(m=Date.now(),wo()<=Wt.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function JI(e,t){return new ZI(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changes=new Ia(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ut.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&uu(i.mutation,a,Wn.empty(),Xe.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Zt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Zt()){const a=ya();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(l=>{let c=ru();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const i=ya();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Zt()))}populateOverlays(t,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,i,a){let l=Pi();const c=lu(),f=function(){return lu()}();return n.forEach((p,m)=>{const _=i.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof Vs)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),uu(_.mutation,m,_.mutation.getFieldMask(),Xe.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),n.forEach((m,_)=>{var T;return f.set(m,new eC(_,(T=c.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(t,n){const i=lu();let a=new Re((c,f)=>c-f),l=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let _=i.get(p)||Wn.empty();_=f.applyToLocalView(m,_),i.set(p,_);const T=(a.get(f.batchId)||Zt()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,_=p.value,T=Ew();_.forEach(R=>{if(!l.has(R)){const S=Rw(n.get(R),i.get(R));S!==null&&T.set(R,S),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,T))}return ut.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(c){return Dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):iI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-l.size):ut.resolve(ya());let f=gu,p=l;return c.next(m=>ut.forEach(m,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?ut.resolve():this.remoteDocumentCache.getEntry(t,_).next(R=>{p=p.insert(_,R)}))).next(()=>this.populateOverlays(t,m,l)).next(()=>this.computeViews(t,p,m,Zt())).next(_=>({batchId:f,changes:vw(_)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Dt(n)).next(i=>{let a=ru();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const l=n.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(t,l).next(f=>ut.forEach(f,p=>{const m=function(T,R){return new sf(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next(_=>{_.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,vn.newInvalidDocument(_)))});let f=ru();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&uu(_.mutation,m,Wn.empty(),Xe.now()),lf(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return ut.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(n)),ut.resolve()}getNamedQuery(t,n){return ut.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:KI(a.bundledQuery),readTime:Zr(a.readTime)}}(n)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.overlays=new Re(Dt.comparator),this.Rr=new Map}getOverlay(t,n){return ut.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ya();return ut.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,l)=>{this.Et(t,n,l)}),ut.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ut.resolve()}getOverlaysForCollection(t,n,i){const a=ya(),l=n.length+1,c=new Dt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let l=new Re((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let _=l.get(m.largestBatchId);_===null&&(_=ya(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const f=ya(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>f.set(m,_)),!(f.size()>=a)););return ut.resolve(f)}Et(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new wI(n,i));let l=this.Rr.get(n);l===void 0&&(l=Zt(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Vr=new $e(sn.mr),this.gr=new $e(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new sn(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new sn(t,n))}br(t,n){t.forEach(i=>this.removeReference(i,n))}Sr(t){const n=new Dt(new we([])),i=new sn(n,t),a=new sn(n,t+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Dt(new we([])),i=new sn(n,t),a=new sn(n,t+1);let l=Zt();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new sn(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class sn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Dt.comparator(t.key,n.key)||te(t.Cr,n.Cr)}static pr(t,n){return te(t.Cr,n.Cr)||Dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $e(sn.mr)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TI(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ut.resolve(c)}lookupMutationBatch(t,n){return ut.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?Gm:this.Fr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const f=this.Or(c.Cr);l.push(f)}),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new $e(te);return n.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),ut.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let l=i;Dt.isDocumentKey(l)||(l=l.child(""));const c=new sn(new Dt(l),0);let f=new $e(te);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),ut.resolve(this.Br(f))}Br(t){const n=[];return t.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ut.forEach(n.mutations,a=>{const l=new sn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new sn(n,0),a=this.Mr.firstAfterOrEqual(i);return ut.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.kr=t,this.docs=function(){return new Re(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ut.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(t,n){let i=Pi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),ut.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let l=Pi();const c=n.path,f=new Dt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Ux(Mx(_),i)<=0||(a.has(_.key)||lf(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ut.resolve(l)}getAllFromCollectionGroup(t,n,i,a){Pt()}qr(t,n){return ut.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new lC(this)}getSize(t){return ut.resolve(this.size)}}class lC extends tC{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(i)}),ut.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.persistence=t,this.Qr=new Ia(n=>Ym(n),Xm),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new eg,this.targetCount=0,this.Ur=Lo.Kn()}forEachTarget(t,n){return this.Qr.forEach((i,a)=>n(a)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ut.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Lo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,ut.resolve()}updateTargetData(t,n){return this.zn(n),ut.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,n,i){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),ut.waitFor(l).next(()=>a)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return ut.resolve(i)}addMatchingKeys(t,n,i){return this.Kr.yr(n,i),ut.resolve()}removeMatchingKeys(t,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),ut.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),ut.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Kr.vr(n);return ut.resolve(i)}containsKey(t,n){return ut.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new ef(0),this.zr=!1,this.zr=!0,this.jr=new sC,this.referenceDelegate=t(this),this.Hr=new uC(this),this.indexManager=new QI,this.remoteDocumentCache=function(a){return new oC(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new GI(n),this.Yr=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new aC(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){bt("MemoryPersistence","Starting transaction:",t);const a=new cC(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,n){return ut.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class cC extends Lx{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.ti=new eg,this.ni=null}static ri(t){return new ng(t)}get ii(){if(this.ni)return this.ni;throw Pt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ut.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),ut.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.ii,i=>{const a=Dt.fromPath(i);return this.si(t,a).next(l=>{l||n.removeEntry(a,zt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return ut.or([()=>ut.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Bh{constructor(t,n){this.persistence=t,this.oi=new Ia(i=>zx(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=JI(this,n)}static ri(t,n){return new Bh(t,n)}Zr(){}Xr(t){return ut.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(a=>i+a))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return ut.forEach(this.oi,(i,a)=>this.ar(t,i,a).next(l=>l?ut.resolve():n(a)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,n).next(f=>{f||(i++,l.removeEntry(c,zt.min()))})).next(()=>l.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),ut.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ut.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),ut.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vh(t.data.value)),n}ar(t,n,i){return ut.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return ut.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(t,n){let i=Zt(),a=Zt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new rg(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oR()?8:Vx(En())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,a){const l={result:null};return this.rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new hC;return this._s(t,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(t,n,c,f.size)})}).next(()=>l.result)}us(t,n,i,a){return i.documentReadCount<this.es?(wo()<=Wt.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ut.resolve()):(wo()<=Wt.DEBUG&&bt("QueryEngine","Query:",bo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(wo()<=Wt.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wr(n))):ut.resolve())}rs(t,n){if(Y0(n))return ut.resolve(null);let i=Wr(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=mm(n,null,"F"),i=Wr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const c=Zt(...l);return this.ns.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,i).next(p=>{const m=this.cs(n,f);return this.ls(n,m,c,p.readTime)?this.rs(t,mm(n,null,"F")):this.hs(t,m,n,p)}))})))}ss(t,n,i,a){return Y0(n)||a.isEqual(zt.min())?ut.resolve(null):this.ns.getDocuments(t,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ut.resolve(null):(wo()<=Wt.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bo(n)),this.hs(t,c,n,Ox(a,gu)).next(f=>f))})}cs(t,n){let i=new $e(yw(t));return n.forEach((a,l)=>{lf(t,l)&&(i=i.add(l))}),i}ls(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,n,i){return wo()<=Wt.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ns.getDocumentsMatchingQuery(t,n,Ds.min(),i)}hs(t,n,i,a){return this.ns.getDocumentsMatchingQuery(t,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",dC=3e8;class pC{constructor(t,n,i,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new Re(te),this.Is=new Ia(l=>Ym(l),Xm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function mC(e,t,n,i){return new pC(e,t,n,i)}async function zw(e,t){const n=jt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Zt();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){f.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function gC(e,t){const n=jt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,_){const T=m.batch,R=T.keys();let S=ut.resolve();return R.forEach(U=>{S=S.next(()=>_.getEntry(p,U)).next(B=>{const q=m.docVersions.get(U);fe(q!==null),B.version.compareTo(q)<0&&(T.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),_.addEntry(B)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(n,i,t,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Zt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function Fw(e){const t=jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function yC(e,t){const n=jt(e),i=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];t.targetChanges.forEach((_,T)=>{const R=a.get(T);if(!R)return;f.push(n.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(l,_.addedDocuments,T)));let S=R.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),a=a.insert(T,S),function(B,q,K){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=dC?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,S,_)&&f.push(n.Hr.updateTargetData(l,S))});let p=Pi(),m=Zt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(_C(l,c,t.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!i.isEqual(zt.min())){const _=n.Hr.getLastRemoteSnapshotVersion(l).next(T=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return ut.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function _C(e,t,n){let i=Zt(),a=Zt();return n.forEach(l=>i=i.add(l)),t.getEntries(e,i).next(l=>{let c=Pi();return n.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(zt.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):bt(ig,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function vC(e,t){const n=jt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function EC(e,t){const n=jt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,t).next(l=>l?(a=l,ut.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new As(t,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function Em(e,t,n){const i=jt(e),a=i.Ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!qo(c))throw c;bt(ig,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ts=i.Ts.remove(t),i.Is.delete(a.target)}function oE(e,t,n){const i=jt(e);let a=zt.min(),l=Zt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const T=jt(p),R=T.Is.get(_);return R!==void 0?ut.resolve(T.Ts.get(R)):T.Hr.getTargetData(m,_)}(i,c,Wr(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,t,n?a:zt.min(),n?l:Zt())).next(f=>(TC(i,aI(t),f),{documents:f,gs:l})))}function TC(e,t,n){let i=e.Es.get(t)||zt.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),e.Es.set(t,i)}class lE{constructor(){this.activeTargetIds=fI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.ho=new lE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new lE,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){bt(uE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){bt(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Tm(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Nh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(t,n,i,a,l){const c=Tm(),f=this.So(t,n.toUriEncodedString());bt(Vp,`Sending RPC '${t}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(t,f,p,i).then(m=>(bt(Vp,`Received RPC '${t}' ${c}: `,m),m),m=>{throw Oo(Vp,`RPC '${t}' ${c} failed with error: `,m,"url: ",f,"request:",i),m})}Co(t,n,i,a,l,c){return this.bo(t,n,i,a,l)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}So(t,n){const i=SC[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class xC extends AC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,a){const l=Tm();return new Promise((c,f)=>{const p=new QT;p.setWithCredentials(!0),p.listenOnce(YT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const _=p.getResponseJson();bt(yn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),c(_);break;case _h.TIMEOUT:bt(yn,`RPC '${t}' ${l} timed out`),f(new Ct(ht.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const T=p.getStatus();if(bt(yn,`RPC '${t}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const S=R==null?void 0:R.error;if(S&&S.status&&S.message){const U=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(K)>=0?K:ht.UNKNOWN}(S.status);f(new Ct(U,S.message))}else f(new Ct(ht.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ct(ht.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{bt(yn,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(a);bt(yn,`RPC '${t}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(t,n,i){const a=Tm(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=WT(),f=$T(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const _=l.join("");bt(yn,`Creating RPC '${t}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);let R=!1,S=!1;const U=new RC({Fo:q=>{S?bt(yn,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(R||(bt(yn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),R=!0),bt(yn,`RPC '${t}' stream ${a} sending:`,q),T.send(q))},Mo:()=>T.close()}),B=(q,K,rt)=>{q.listen(K,et=>{try{rt(et)}catch(mt){setTimeout(()=>{throw mt},0)}})};return B(T,nu.EventType.OPEN,()=>{S||(bt(yn,`RPC '${t}' stream ${a} transport opened.`),U.Qo())}),B(T,nu.EventType.CLOSE,()=>{S||(S=!0,bt(yn,`RPC '${t}' stream ${a} transport closed`),U.Ko())}),B(T,nu.EventType.ERROR,q=>{S||(S=!0,Oo(yn,`RPC '${t}' stream ${a} transport errored:`,q),U.Ko(new Ct(ht.UNAVAILABLE,"The operation could not be completed")))}),B(T,nu.EventType.MESSAGE,q=>{var K;if(!S){const rt=q.data[0];fe(!!rt);const et=rt,mt=(et==null?void 0:et.error)||((K=et[0])===null||K===void 0?void 0:K.error);if(mt){bt(yn,`RPC '${t}' stream ${a} received error:`,mt);const ft=mt.status;let Z=function(D){const P=Fe[D];if(P!==void 0)return Iw(P)}(ft),z=mt.message;Z===void 0&&(Z=ht.INTERNAL,z="Unknown error status: "+ft+" with message "+mt.message),S=!0,U.Ko(new Ct(Z,z)),T.close()}else bt(yn,`RPC '${t}' stream ${a} received:`,rt),U.Uo(rt)}}),B(f,XT.STAT_EVENT,q=>{q.stat===cm.PROXY?bt(yn,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===cm.NOPROXY&&bt(yn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e){return new DI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n,i=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&bt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class qw{constructor(t,n,i,a,l,c,f,p){this.Ti=t,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jw(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{t(()=>{const a=new Ct(ht.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return bt(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(bt(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IC extends qw{constructor(t,n,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=MI(this.serializer,t),i=function(l){if(!("targetChange"in l))return zt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?zt.min():c.readTime?Zr(c.readTime):zt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=vm(this.serializer),n.addTarget=function(l,c){let f;const p=c.target;if(f=pm(p)?{documents:LI(l,p)}:{query:VI(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Dw(l,c.resumeToken);const m=gm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(zt.min())>0){f.readTime=Vh(l,c.snapshotVersion.toTimestamp());const m=gm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,t);const i=zI(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=vm(this.serializer),n.removeTarget=t,this.I_(n)}}class CC extends qw{constructor(t,n,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return fe(!!t.streamToken),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=PI(t.writeResults,t.commitTime),i=Zr(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=vm(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>UI(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class DC extends kC{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(t,ym(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ht.UNKNOWN,l.toString())})}Co(t,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(t,ym(n,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(ht.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(n),this.N_=!1):bt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class OC{constructor(t,n,i,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Ca(this)&&(bt(Sa,"Restarting streams for network reachability change."),await async function(p){const m=jt(p);m.W_.add(4),await Cu(m),m.j_.set("Unknown"),m.W_.delete(4),await df(m)}(this))})}),this.j_=new NC(i,a)}}async function df(e){if(Ca(e))for(const t of e.G_)await t(!0)}async function Cu(e){for(const t of e.G_)await t(!1)}function Hw(e,t){const n=jt(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),lg(n)?og(n):Ho(n).c_()&&ag(n,t))}function sg(e,t){const n=jt(e),i=Ho(n);n.U_.delete(t),i.c_()&&Gw(n,t),n.U_.size===0&&(i.c_()?i.P_():Ca(n)&&n.j_.set("Unknown"))}function ag(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ho(e).y_(t)}function Gw(e,t){e.H_.Ne(t),Ho(e).w_(t)}function og(e){e.H_=new xI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Ho(e).start(),e.j_.B_()}function lg(e){return Ca(e)&&!Ho(e).u_()&&e.U_.size>0}function Ca(e){return jt(e).W_.size===0}function Kw(e){e.H_=void 0}async function MC(e){e.j_.set("Online")}async function UC(e){e.U_.forEach((t,n)=>{ag(e,t)})}async function PC(e,t){Kw(e),lg(e)?(e.j_.q_(t),og(e)):e.j_.set("Unknown")}async function LC(e,t,n){if(e.j_.set("Online"),t instanceof kw&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(e,t)}catch(i){bt(Sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zh(e,i)}else if(t instanceof wh?e.H_.We(t):t instanceof Cw?e.H_.Ze(t):e.H_.je(t),!n.isEqual(zt.min()))try{const i=await Fw(e.localStore);n.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.U_.get(m);_&&l.U_.set(m,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const _=l.U_.get(p);if(!_)return;l.U_.set(p,_.withResumeToken(fn.EMPTY_BYTE_STRING,_.snapshotVersion)),Gw(l,p);const T=new As(_.target,p,m,_.sequenceNumber);ag(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(i){bt(Sa,"Failed to raise snapshot:",i),await zh(e,i)}}async function zh(e,t,n){if(!qo(t))throw t;e.W_.add(1),await Cu(e),e.j_.set("Offline"),n||(n=()=>Fw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{bt(Sa,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await df(e)})}function Qw(e,t){return t().catch(n=>zh(e,n,t))}async function pf(e){const t=jt(e),n=Us(t);let i=t.K_.length>0?t.K_[t.K_.length-1].batchId:Gm;for(;VC(t);)try{const a=await vC(t.localStore,i);if(a===null){t.K_.length===0&&n.P_();break}i=a.batchId,BC(t,a)}catch(a){await zh(t,a)}Yw(t)&&Xw(t)}function VC(e){return Ca(e)&&e.K_.length<10}function BC(e,t){e.K_.push(t);const n=Us(e);n.c_()&&n.b_&&n.S_(t.mutations)}function Yw(e){return Ca(e)&&!Us(e).u_()&&e.K_.length>0}function Xw(e){Us(e).start()}async function zC(e){Us(e).C_()}async function FC(e){const t=Us(e);for(const n of e.K_)t.S_(n.mutations)}async function jC(e,t,n){const i=e.K_.shift(),a=Zm.from(i,t,n);await Qw(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await pf(e)}async function qC(e,t){t&&Us(e).b_&&await async function(i,a){if(function(c){return SI(c)&&c!==ht.ABORTED}(a.code)){const l=i.K_.shift();Us(i).h_(),await Qw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await pf(i)}}(e,t),Yw(e)&&Xw(e)}async function fE(e,t){const n=jt(e);n.asyncQueue.verifyOperationInProgress(),bt(Sa,"RemoteStore received new credentials");const i=Ca(n);n.W_.add(3),await Cu(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await df(n)}async function HC(e,t){const n=jt(e);t?(n.W_.delete(2),await df(n)):t||(n.W_.add(2),await Cu(n),n.j_.set("Unknown"))}function Ho(e){return e.J_||(e.J_=function(n,i,a){const l=jt(n);return l.M_(),new IC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:MC.bind(null,e),No:UC.bind(null,e),Lo:PC.bind(null,e),p_:LC.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),lg(e)?og(e):e.j_.set("Unknown")):(await e.J_.stop(),Kw(e))})),e.J_}function Us(e){return e.Y_||(e.Y_=function(n,i,a){const l=jt(n);return l.M_(),new CC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:zC.bind(null,e),Lo:qC.bind(null,e),D_:FC.bind(null,e),v_:jC.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await pf(e)):(await e.Y_.stop(),e.K_.length>0&&(bt(Sa,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,n,i,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,l){const c=Date.now()+i,f=new ug(t,n,c,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(e,t){if(Ui("AsyncQueue",`${t}: ${e}`),qo(e))return new Ct(ht.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(t){return new xo(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Dt.comparator(n.key,i.key):(n,i)=>Dt.comparator(n.key,i.key),this.keyedMap=ru(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new xo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Z_=new Re(Dt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Pt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Vo{constructor(t,n,i,a,l,c,f,p,m){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,n,i,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Vo(t,n,xo.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&of(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class KC{constructor(){this.queries=pE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=jt(n),l=a.queries;a.queries=pE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ct(ht.ABORTED,"Firestore shutting down"))}}function pE(){return new Ia(e=>gw(e),of)}async function hg(e,t){const n=jt(e);let i=3;const a=t.query;let l=n.queries.get(a);l?!l.na()&&t.ra()&&(i=2):(l=new GC,i=t.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=cg(c,`Initialization of query '${bo(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.ta.push(t),t.sa(n.onlineState),l.ea&&t.oa(l.ea)&&dg(n)}async function fg(e,t){const n=jt(e),i=t.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function QC(e,t){const n=jt(e);let i=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(i=!0);c.ea=a}}i&&dg(n)}function YC(e,t,n){const i=jt(e),a=i.queries.get(t);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(t)}function dg(e){e.ia.forEach(t=>{t.next()})}var wm,mE;(mE=wm||(wm={}))._a="default",mE.Cache="cache";class pg{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Vo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.key=t}}class Ww{constructor(t){this.key=t}}class XC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Zt(),this.mutatedKeys=Zt(),this.ya=yw(t),this.wa=new xo(this.ya)}get ba(){return this.fa}Sa(t,n){const i=n?n.Da:new dE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((_,T)=>{const R=a.get(_),S=lf(this.query,T)?T:null,U=!!R&&this.mutatedKeys.has(R.key),B=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let q=!1;R&&S?R.data.isEqual(S.data)?U!==B&&(i.track({type:3,doc:S}),q=!0):this.va(R,S)||(i.track({type:2,doc:S}),q=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(f=!0)):!R&&S?(i.track({type:0,doc:S}),q=!0):R&&!S&&(i.track({type:1,doc:R}),q=!0,(p||m)&&(f=!0)),q&&(S?(c=c.add(S),l=B?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((_,T)=>function(S,U){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return B(S)-B(U)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),a=a!=null&&a;const f=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Vo(this.query,t.wa,l,c,t.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new dE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Zt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new Ww(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new $w(i))}),n}Oa(t){this.fa=t.gs,this.pa=Zt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return Vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const mg="SyncEngine";class $C{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class WC{constructor(t){this.key=t,this.Ba=!1}}class ZC{constructor(t,n,i,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ia(f=>gw(f),of),this.qa=new Map,this.Qa=new Set,this.$a=new Re(Dt.comparator),this.Ka=new Map,this.Ua=new eg,this.Wa={},this.Ga=new Map,this.za=Lo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JC(e,t,n=!0){const i=rb(e);let a;const l=i.ka.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Zw(i,t,n,!0),a}async function tk(e,t){const n=rb(e);await Zw(n,t,!0,!1)}async function Zw(e,t,n,i){const a=await EC(e.localStore,Wr(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await ek(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&Hw(e.remoteStore,a),f}async function ek(e,t,n,i,a){e.Ha=(T,R,S)=>async function(B,q,K,rt){let et=q.view.Sa(K);et.ls&&(et=await oE(B.localStore,q.query,!1).then(({documents:z})=>q.view.Sa(z,et)));const mt=rt&&rt.targetChanges.get(q.targetId),ft=rt&&rt.targetMismatches.get(q.targetId)!=null,Z=q.view.applyChanges(et,B.isPrimaryClient,mt,ft);return yE(B,q.targetId,Z.Ma),Z.snapshot}(e,T,R,S);const l=await oE(e.localStore,t,!0),c=new XC(t,l.gs),f=c.Sa(l.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),m=c.applyChanges(f,e.isPrimaryClient,p);yE(e,n,m.Ma);const _=new $C(t,n,c);return e.ka.set(t,_),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),m.snapshot}async function nk(e,t,n){const i=jt(e),a=i.ka.get(t),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!of(c,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Em(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&sg(i.remoteStore,a.targetId),bm(i,a.targetId)}).catch(jo)):(bm(i,a.targetId),await Em(i.localStore,a.targetId,!0))}async function rk(e,t){const n=jt(e),i=n.ka.get(t),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sg(n.remoteStore,i.targetId))}async function ik(e,t,n){const i=hk(e);try{const a=await function(c,f){const p=jt(c),m=Xe.now(),_=f.reduce((S,U)=>S.add(U.key),Zt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let U=Pi(),B=Zt();return p.ds.getEntries(S,_).next(q=>{U=q,U.forEach((K,rt)=>{rt.isValidDocument()||(B=B.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,U)).next(q=>{T=q;const K=[];for(const rt of f){const et=vI(rt,T.get(rt.key).overlayedDocument);et!=null&&K.push(new Vs(rt.key,et,uw(et.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,K,f)}).next(q=>{R=q;const K=q.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(S,q.batchId,K)})}).then(()=>({batchId:R.batchId,changes:vw(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Re(te)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await ku(i,a.changes),await pf(i.remoteStore)}catch(a){const l=cg(a,"Failed to persist write");n.reject(l)}}async function Jw(e,t){const n=jt(e);try{const i=await yC(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?fe(c.Ba):a.removedDocuments.size>0&&(fe(c.Ba),c.Ba=!1))}),await ku(n,i,t)}catch(i){await jo(i)}}function gE(e,t,n){const i=jt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const f=c.view.sa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=jt(c);p.onlineState=f;let m=!1;p.queries.forEach((_,T)=>{for(const R of T.ta)R.sa(f)&&(m=!0)}),m&&dg(p)}(i.eventManager,t),a.length&&i.La.p_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function sk(e,t,n){const i=jt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Ka.get(t),l=a&&a.key;if(l){let c=new Re(Dt.comparator);c=c.insert(l,vn.newNoDocument(l,zt.min()));const f=Zt().add(l),p=new hf(zt.min(),new Map,new Re(te),c,f);await Jw(i,p),i.$a=i.$a.remove(l),i.Ka.delete(t),gg(i)}else await Em(i.localStore,t,!1).then(()=>bm(i,t,n)).catch(jo)}async function ak(e,t){const n=jt(e),i=t.batch.batchId;try{const a=await gC(n.localStore,t);eb(n,i,null),tb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ku(n,a)}catch(a){await jo(a)}}async function ok(e,t,n){const i=jt(e);try{const a=await function(c,f){const p=jt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,f).next(T=>(fe(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(i.localStore,t);eb(i,t,n),tb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ku(i,a)}catch(a){await jo(a)}}function tb(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function eb(e,t,n){const i=jt(e);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),i.Wa[i.currentUser.toKey()]=a}}function bm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach(i=>{e.Ua.containsKey(i)||nb(e,i)})}function nb(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(sg(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),gg(e))}function yE(e,t,n){for(const i of n)i instanceof $w?(e.Ua.addReference(i.key,t),lk(e,i)):i instanceof Ww?(bt(mg,"Document no longer in limbo: "+i.key),e.Ua.removeReference(i.key,t),e.Ua.containsKey(i.key)||nb(e,i.key)):Pt()}function lk(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(bt(mg,"New document in limbo: "+n),e.Qa.add(i),gg(e))}function gg(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Dt(we.fromString(t)),i=e.za.next();e.Ka.set(i,new WC(n)),e.$a=e.$a.insert(n,i),Hw(e.remoteStore,new As(Wr(af(n.path)),i,"TargetPurposeLimboResolution",ef.ae))}}async function ku(e,t,n){const i=jt(e),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{c.push(i.Ha(p,t,n).then(m=>{var _;if((m||n)&&i.isPrimaryClient){const T=m?!m.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=rg.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const _=jt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ut.forEach(m,R=>ut.forEach(R.Hi,S=>_.persistence.referenceDelegate.addReference(T,R.targetId,S)).next(()=>ut.forEach(R.Ji,S=>_.persistence.referenceDelegate.removeReference(T,R.targetId,S)))))}catch(T){if(!qo(T))throw T;bt(ig,"Failed to update sequence numbers: "+T)}for(const T of m){const R=T.targetId;if(!T.fromCache){const S=_.Ts.get(R),U=S.snapshotVersion,B=S.withLastLimboFreeSnapshotVersion(U);_.Ts=_.Ts.insert(R,B)}}}(i.localStore,l))}async function uk(e,t){const n=jt(e);if(!n.currentUser.isEqual(t)){bt(mg,"User change. New user:",t.toKey());const i=await zw(n.localStore,t);n.currentUser=t,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ct(ht.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ku(n,i.Rs)}}function ck(e,t){const n=jt(e),i=n.Ka.get(t);if(i&&i.Ba)return Zt().add(i.key);{let a=Zt();const l=n.qa.get(t);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function rb(e){const t=jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ck.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sk.bind(null,t),t.La.p_=QC.bind(null,t.eventManager),t.La.Ja=YC.bind(null,t.eventManager),t}function hk(e){const t=jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ak.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ok.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ff(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return mC(this.persistence,new fC,t.initialUser,this.serializer)}Xa(t){return new Bw(ng.ri,this.serializer)}Za(t){return new wC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class fk extends Fh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){fe(this.persistence.referenceDelegate instanceof Bh);const i=this.persistence.referenceDelegate.garbageCollector;return new WI(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Bw(i=>Bh.ri(i,n),this.serializer)}}class Sm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uk.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new KC}()}createDatastore(t){const n=ff(t.databaseInfo.databaseId),i=function(l){return new xC(l)}(t.databaseInfo);return function(l,c,f,p){return new DC(l,c,f,p)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,l,c,f){return new OC(i,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return cE.D()?new cE:new bC}())}createSyncEngine(t,n){return function(a,l,c,f,p,m,_){const T=new ZC(a,l,c,f,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=jt(a);bt(Sa,"RemoteStore shutting down."),l.W_.add(5),await Cu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class dk{constructor(t,n,i,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=JT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{bt(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(bt(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=cg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function zp(e,t){e.asyncQueue.verifyOperationInProgress(),bt(Ps,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await zw(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _E(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pk(e);bt(Ps,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>fE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>fE(t.remoteStore,a)),e._onlineComponents=t}async function pk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){bt(Ps,"Using user provided OfflineComponentProvider");try{await zp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===ht.FAILED_PRECONDITION||a.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await zp(e,new Fh)}}else bt(Ps,"Using default OfflineComponentProvider"),await zp(e,new fk(void 0));return e._offlineComponents}async function ib(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(bt(Ps,"Using user provided OnlineComponentProvider"),await _E(e,e._uninitializedComponentsProvider._online)):(bt(Ps,"Using default OnlineComponentProvider"),await _E(e,new Sm))),e._onlineComponents}function mk(e){return ib(e).then(t=>t.syncEngine)}async function jh(e){const t=await ib(e),n=t.eventManager;return n.onListen=JC.bind(null,t.syncEngine),n.onUnlisten=nk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rk.bind(null,t.syncEngine),n}function gk(e,t,n={}){const i=new Ni;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new yg({next:R=>{_.su(),c.enqueueAndForget(()=>fg(l,T));const S=R.docs.has(f);!S&&R.fromCache?m.reject(new Ct(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&R.fromCache&&p&&p.source==="server"?m.reject(new Ct(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new pg(af(f.path),_,{includeMetadataChanges:!0,Ta:!0});return hg(l,T)}(await jh(e),e.asyncQueue,t,n,i)),i.promise}function yk(e,t,n={}){const i=new Ni;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const _=new yg({next:R=>{_.su(),c.enqueueAndForget(()=>fg(l,T)),R.fromCache&&p.source==="server"?m.reject(new Ct(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new pg(f,_,{includeMetadataChanges:!0,Ta:!0});return hg(l,T)}(await jh(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e,t,n){if(!n)throw new Ct(ht.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _k(e,t,n,i){if(t===!0&&i===!0)throw new Ct(ht.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function EE(e){if(!Dt.isDocumentKey(e))throw new Ct(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function TE(e){if(Dt.isDocumentKey(e))throw new Ct(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _g(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pt()}function Ln(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_g(e);throw new Ct(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firestore.googleapis.com",wE=!0;class bE{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ob,this.ssl=wE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:wE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Vw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XI)throw new Ct(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_k("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mf{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ax;switch(i.type){case"firstParty":return new Cx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ct(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=vE.get(n);i&&(bt("ComponentProvider","Removing Datastore"),vE.delete(n),i.terminate())}(this),Promise.resolve()}}function vk(e,t,n,i={}){var a;const l=(e=Ln(e,mf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),f=`${t}:${n}`;l.host!==ob&&l.host!==f&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!Ta(p,c)&&(e._setSettings(p),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=_n.MOCK_USER;else{m=zT(i.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ct(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(T)}e._authCredentials=new Rx(new ZT(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Du(this.firestore,t,this._query)}}class In{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}}class Cs extends Du{constructor(t,n,i){super(t,n,af(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new Dt(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function vg(e,t,...n){if(e=Le(e),ab("collection","path",t),e instanceof mf){const i=we.fromString(t,...n);return TE(i),new Cs(e,null,i)}{if(!(e instanceof In||e instanceof Cs))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(we.fromString(t,...n));return TE(i),new Cs(e.firestore,null,i)}}function Nu(e,t,...n){if(e=Le(e),arguments.length===1&&(t=JT.newId()),ab("doc","path",t),e instanceof mf){const i=we.fromString(t,...n);return EE(i),new In(e,null,new Dt(i))}{if(!(e instanceof In||e instanceof Cs))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(we.fromString(t,...n));return EE(i),new In(e.firestore,e instanceof Cs?e.converter:null,new Dt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class AE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jw(this,"async_queue_retry"),this.bu=()=>{const i=Bp();i&&bt(SE,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=t;const n=Bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!qo(t))throw t;bt(SE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Ui("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=ug.createAndSchedule(this,t,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Pt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function RE(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(e,["next","error","complete"])}class Li extends mf{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new AE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new AE(t),this._firestoreClient=void 0,await t}}}function Ek(e,t){const n=typeof e=="object"?e:qm(),i=typeof e=="string"?e:Nh,a=tf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=LT("firestore");l&&vk(a,...l)}return a}function gf(e){if(e._terminated)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Tk(e),e._firestoreClient}function Tk(e){var t,n,i;const a=e._freezeSettings(),l=function(f,p,m,_){return new qx(f,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,sb(_.experimentalLongPollingOptions),_.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new dk(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bo(fn.fromBase64String(t))}catch(n){throw new Ct(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bo(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=/^__.*__$/;class bk{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new xu(t,this.data,n,this.fieldTransforms)}}class lb{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ub(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class bg{constructor(t,n,i,a,l,c){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:i,Qu:!1});return a.$u(t),a}Ku(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(ub(this.Lu)&&wk.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Sk{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||ff(t)}ju(t,n,i,a=!1){return new bg({Lu:t,methodName:n,zu:i,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(e){const t=e._freezeSettings(),n=ff(e._databaseId);return new Sk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cb(e,t,n,i,a,l={}){const c=e.ju(l.merge||l.mergeFields?2:0,t,n,a);Ag("Data must be an object, but it was:",c,i);const f=hb(i,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const R=Am(t,T,n);if(!c.contains(R))throw new Ct(ht.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);db(_,R)||_.push(R)}p=new Wn(_),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new bk(new Pn(f),p,m)}class _f extends Eg{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _f}}function Ak(e,t,n,i){const a=e.ju(1,t,n);Ag("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();Ls(i,(p,m)=>{const _=Rg(t,p,n);m=Le(m);const T=a.Ku(_);if(m instanceof _f)l.push(_);else{const R=vf(m,T);R!=null&&(l.push(_),c.set(_,R))}});const f=new Wn(l);return new lb(c,f,a.fieldTransforms)}function Rk(e,t,n,i,a,l){const c=e.ju(1,t,n),f=[Am(t,i,n)],p=[a];if(l.length%2!=0)throw new Ct(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(Am(t,l[R])),p.push(l[R+1]);const m=[],_=Pn.empty();for(let R=f.length-1;R>=0;--R)if(!db(m,f[R])){const S=f[R];let U=p[R];U=Le(U);const B=c.Ku(S);if(U instanceof _f)m.push(S);else{const q=vf(U,B);q!=null&&(m.push(S),_.set(S,q))}}const T=new Wn(m);return new lb(_,T,c.fieldTransforms)}function vf(e,t){if(fb(e=Le(e)))return Ag("Unsupported field value:",t,e),hb(e,t);if(e instanceof Eg)return function(i,a){if(!ub(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let p=vf(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(e,t)}return function(i,a){if((i=Le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Xe.fromDate(i);return{timestampValue:Vh(a.serializer,l)}}if(i instanceof Xe){const l=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vh(a.serializer,l)}}if(i instanceof Tg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bo)return{bytesValue:Dw(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof wg)return function(c,f){return{mapValue:{fields:{[ow]:{stringValue:lw},[Oh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return $m(f.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${_g(i)}`)}(e,t)}function hb(e,t){const n={};return ew(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(e,(i,a)=>{const l=vf(a,t.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function fb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xe||e instanceof Tg||e instanceof Bo||e instanceof In||e instanceof Eg||e instanceof wg)}function Ag(e,t,n){if(!fb(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=_g(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function Am(e,t,n){if((t=Le(t))instanceof yf)return t._internalPath;if(typeof t=="string")return Rg(e,t);throw qh("Field path arguments must be of type string or ",e,!1,void 0,n)}const xk=new RegExp("[~\\*/\\[\\]]");function Rg(e,t,n){if(t.search(xk)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yf(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qh(e,t,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ct(ht.INVALID_ARGUMENT,f+e+p)}function db(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,n,i,a,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ik extends pb{data(){return super.data()}}function mb(e,t){return typeof t=="string"?Rg(e,t):t instanceof yf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ct(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ck{convertValue(t,n="none"){switch(Ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ls(t,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(t){var n,i,a;const l=(a=(i=(n=t.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Pe(c.doubleValue));return new wg(l)}convertGeoPoint(t){return new Tg(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=rf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(yu(t));default:return null}}convertTimestamp(t){const n=Ns(t);return new Xe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=we.fromString(t);fe(Lw(i));const a=new _u(i.get(1),i.get(3)),l=new Dt(i.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _b extends pb{constructor(t,n,i,a,l,c){super(t,n,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(mb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class bh extends _b{data(t={}){return super.data(t)}}class vb{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new bh(this._firestore,this._userDataWriter,i.key,i,new su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new bh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new bh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:kk(f.type),doc:p,oldIndex:m,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e){e=Ln(e,In);const t=Ln(e.firestore,Li);return gk(gf(t),e._key).then(n=>Eb(t,e,n))}class xg extends Ck{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Nk(e){e=Ln(e,Du);const t=Ln(e.firestore,Li),n=gf(t),i=new xg(t);return gb(e._query),yk(n,e._query).then(a=>new vb(t,i,e,a))}function Ok(e,t,n){e=Ln(e,In);const i=Ln(e.firestore,Li),a=yb(e.converter,t,n);return Ef(i,[cb(Sg(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,vr.none())])}function Mk(e,t,n,...i){e=Ln(e,In);const a=Ln(e.firestore,Li),l=Sg(a);let c;return c=typeof(t=Le(t))=="string"||t instanceof yf?Rk(l,"updateDoc",e._key,t,n,i):Ak(l,"updateDoc",e._key,t),Ef(a,[c.toMutation(e._key,vr.exists(!0))])}function Uk(e){return Ef(Ln(e.firestore,Li),[new Wm(e._key,vr.none())])}function Pk(e,t){const n=Ln(e.firestore,Li),i=Nu(e),a=yb(e.converter,t);return Ef(n,[cb(Sg(e.firestore),"addDoc",i._key,a,e.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function Lk(e,...t){var n,i,a;e=Le(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||RE(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(RE(t[c])){const T=t[c];t[c]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),t[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let p,m,_;if(e instanceof In)m=Ln(e.firestore,Li),_=af(e._key.path),p={next:T=>{t[c]&&t[c](Eb(m,e,T))},error:t[c+1],complete:t[c+2]};else{const T=Ln(e,Du);m=Ln(T.firestore,Li),_=T._query;const R=new xg(m);p={next:S=>{t[c]&&t[c](new vb(m,R,T,S))},error:t[c+1],complete:t[c+2]},gb(e._query)}return function(R,S,U,B){const q=new yg(B),K=new pg(S,q,U);return R.asyncQueue.enqueueAndForget(async()=>hg(await jh(R),K)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>fg(await jh(R),K))}}(gf(m),_,f,p)}function Ef(e,t){return function(i,a){const l=new Ni;return i.asyncQueue.enqueueAndForget(async()=>ik(await mk(i),a,l)),l.promise}(gf(e),t)}function Eb(e,t,n){const i=n.docs.get(t._key),a=new xg(e);return new _b(e,a,t._key,i,new su(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Fo=a})(xa),wa(new ks("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Li(new xx(i.getProvider("auth-internal")),new kx(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ct(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(m.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),$r(N0,O0,t),$r(N0,O0,"esm2017")})();var Vk="firebase",Bk="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(Vk,Bk,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebasestorage.googleapis.com",wb="storageBucket",zk=2*60*1e3,Fk=10*60*1e3,jk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends ii{constructor(t,n,i=0){super(Fp(t),`Firebase Storage: ${n} (${Fp(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Fp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Fp(e){return"storage/"+e}function Ig(){const e="An unknown error occurred, please check the error payload for server response.";return new xe(Te.UNKNOWN,e)}function qk(e){return new xe(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Hk(e){return new xe(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gk(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Te.UNAUTHENTICATED,e)}function Kk(){return new xe(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Qk(e){return new xe(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function bb(){return new xe(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sb(){return new xe(Te.CANCELED,"User canceled the upload/download.")}function Yk(e){return new xe(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function Xk(e){return new xe(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function $k(){return new xe(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wb+"' property when initializing the app?")}function Ab(){return new xe(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wk(){return new xe(Te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Zk(){return new xe(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jk(e){return new xe(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rm(e){return new xe(Te.INVALID_ARGUMENT,e)}function Rb(){return new xe(Te.APP_DELETED,"The Firebase app was deleted.")}function tD(e){return new xe(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cu(e,t){return new xe(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Jl(e){throw new xe(Te.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Zn.makeFromUrl(t,n)}catch{return new Zn(t,"")}if(i.path==="")return i;throw Xk(t)}static makeFromUrl(t,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(mt){mt.path.charAt(mt.path.length-1)==="/"&&(mt.path_=mt.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(mt){mt.path_=decodeURIComponent(mt.path)}const _="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",S=new RegExp(`^https?://${T}/${_}/b/${a}/o${R}`,"i"),U={bucket:1,path:3},B=n===Tb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",K=new RegExp(`^https?://${B}/${a}/${q}`,"i"),et=[{regex:f,indices:p,postModify:l},{regex:S,indices:U,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let mt=0;mt<et.length;mt++){const ft=et[mt],Z=ft.regex.exec(t);if(Z){const z=Z[ft.indices.bucket];let M=Z[ft.indices.path];M||(M=""),i=new Zn(z,M),ft.postModify(i);break}}if(i==null)throw Yk(t);return i}}class eD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e,t,n){let i=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function _(...q){m||(m=!0,t.apply(null,q))}function T(q){a=setTimeout(()=>{a=null,e(S,p())},q)}function R(){l&&clearTimeout(l)}function S(q,...K){if(m){R();return}if(q){R(),_.call(null,q,...K);return}if(p()||c){R(),_.call(null,q,...K);return}i<64&&(i*=2);let et;f===1?(f=2,et=0):et=(i+Math.random())*1e3,T(et)}let U=!1;function B(q){U||(U=!0,R(),!m&&(a!==null?(q||(f=2),clearTimeout(a),T(0)):q||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function rD(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(e){return e!==void 0}function sD(e){return typeof e=="function"}function aD(e){return typeof e=="object"&&!Array.isArray(e)}function Tf(e){return typeof e=="string"||e instanceof String}function xE(e){return Cg()&&e instanceof Blob}function Cg(){return typeof Blob<"u"}function IE(e,t,n,i){if(i<t)throw Rm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Rm(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function xb(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const a=t(i)+"="+t(e[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var va;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(va||(va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n,i,a,l,c,f,p,m,_,T,R=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=T,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,U)=>{this.resolve_=S,this.reject_=U,this.start_()})}start_(){const t=(i,a)=>{if(a){i(!1,new fh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===va.NO_ERROR,p=l.getStatus();if(!f||Ib(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===va.ABORT;i(!1,new fh(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new fh(m,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());iD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=Ig();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Rb():Sb();c(p)}else{const p=bb();c(p)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=nD(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function lD(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function uD(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cD(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hD(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fD(e,t,n,i,a,l,c=!0){const f=xb(e.urlParams),p=e.url+f,m=Object.assign({},e.headers);return cD(m,t),lD(m,n),uD(m,l),hD(m,i),new oD(p,e.method,m,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pD(...e){const t=dD();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(Cg())return new Blob(e);throw new xe(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mD(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(e){if(typeof atob>"u")throw Jk("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jp{constructor(t,n){this.data=t,this.contentType=n||null}}function yD(e,t){switch(e){case Xr.RAW:return new jp(Cb(t));case Xr.BASE64:case Xr.BASE64URL:return new jp(kb(e,t));case Xr.DATA_URL:return new jp(vD(t),ED(t))}throw Ig()}function Cb(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=i,c=e.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function _D(e){let t;try{t=decodeURIComponent(e)}catch{throw cu(Xr.DATA_URL,"Malformed data URL.")}return Cb(t)}function kb(e,t){switch(e){case Xr.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw cu(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw cu(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gD(t)}catch(a){throw a.message.includes("polyfill")?a:cu(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class Db{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw cu(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=TD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function vD(e){const t=new Db(e);return t.base64?kb(Xr.BASE64,t.rest):_D(t.rest)}function ED(e){return new Db(e).contentType}function TD(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n){let i=0,a="";xE(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(xE(this.data_)){const i=this.data_,a=mD(i,t,n);return a===null?null:new Ts(a)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Ts(i,!0)}}static getBlob(...t){if(Cg()){const n=t.map(i=>i instanceof Ts?i.data_:i);return new Ts(pD.apply(null,n))}else{const n=t.map(c=>Tf(c)?yD(Xr.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ts(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(e){let t;try{t=JSON.parse(e)}catch{return null}return aD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function bD(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function Ob(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e,t){return t}class xn{constructor(t,n,i,a){this.server=t,this.local=n||t,this.writable=!!i,this.xform=a||SD}}let dh=null;function AD(e){return!Tf(e)||e.length<2?e:Ob(e)}function Mb(){if(dh)return dh;const e=[];e.push(new xn("bucket")),e.push(new xn("generation")),e.push(new xn("metageneration")),e.push(new xn("name","fullPath",!0));function t(l,c){return AD(c)}const n=new xn("name");n.xform=t,e.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=i,e.push(a),e.push(new xn("timeCreated")),e.push(new xn("updated")),e.push(new xn("md5Hash",null,!0)),e.push(new xn("cacheControl",null,!0)),e.push(new xn("contentDisposition",null,!0)),e.push(new xn("contentEncoding",null,!0)),e.push(new xn("contentLanguage",null,!0)),e.push(new xn("contentType",null,!0)),e.push(new xn("metadata","customMetadata",!0)),dh=e,dh}function RD(e,t){function n(){const i=e.bucket,a=e.fullPath,l=new Zn(i,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function xD(e,t,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,t[c.server])}return RD(i,e),i}function Ub(e,t,n){const i=Nb(t);return i===null?null:xD(e,i,n)}function ID(e,t,n,i){const a=Nb(t);if(a===null||!Tf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const _=e.bucket,T=e.fullPath,R="/b/"+c(_)+"/o/"+c(T),S=Ou(R,n,i),U=xb({alt:"media",token:m});return S+U})[0]}function Pb(e,t){const n={},i=t.length;for(let a=0;a<i;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class Go{constructor(t,n,i,a){this.url=t,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(e){if(!e)throw Ig()}function kg(e,t){function n(i,a){const l=Ub(e,a,t);return Oi(l!==null),l}return n}function CD(e,t){function n(i,a){const l=Ub(e,a,t);return Oi(l!==null),ID(l,a,e.host,e._protocol)}return n}function Mu(e){function t(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=Kk():a=Gk():n.getStatus()===402?a=Hk(e.bucket):n.getStatus()===403?a=Qk(e.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return t}function Lb(e){const t=Mu(e);function n(i,a){let l=t(i,a);return i.getStatus()===404&&(l=qk(e.path)),l.serverResponse=a.serverResponse,l}return n}function kD(e,t,n){const i=t.fullServerUrl(),a=Ou(i,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new Go(a,l,kg(e,n),c);return f.errorHandler=Lb(t),f}function DD(e,t,n){const i=t.fullServerUrl(),a=Ou(i,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new Go(a,l,CD(e,n),c);return f.errorHandler=Lb(t),f}function ND(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Vb(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=ND(null,t)),i}function OD(e,t,n,i,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let et="";for(let mt=0;mt<2;mt++)et=et+Math.random().toString().slice(2);return et}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=Vb(t,i,a),_=Pb(m,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,R=`\r
--`+p+"--",S=Ts.getBlob(T,i,R);if(S===null)throw Ab();const U={name:m.fullPath},B=Ou(l,e.host,e._protocol),q="POST",K=e.maxUploadRetryTime,rt=new Go(B,q,kg(e,n),K);return rt.urlParams=U,rt.headers=c,rt.body=S.uploadData(),rt.errorHandler=Mu(t),rt}class Hh{constructor(t,n,i,a){this.current=t,this.total=n,this.finalized=!!i,this.metadata=a||null}}function Dg(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(t||["active"]).indexOf(n)!==-1),n}function MD(e,t,n,i,a){const l=t.bucketOnlyServerUrl(),c=Vb(t,i,a),f={name:c.fullPath},p=Ou(l,e.host,e._protocol),m="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Pb(c,n),R=e.maxUploadRetryTime;function S(B){Dg(B);let q;try{q=B.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(Tf(q)),q}const U=new Go(p,m,S,R);return U.urlParams=f,U.headers=_,U.body=T,U.errorHandler=Mu(t),U}function UD(e,t,n,i){const a={"X-Goog-Upload-Command":"query"};function l(m){const _=Dg(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}T||Oi(!1);const R=Number(T);return Oi(!isNaN(R)),new Hh(R,i.size(),_==="final")}const c="POST",f=e.maxUploadRetryTime,p=new Go(n,c,l,f);return p.headers=a,p.errorHandler=Mu(t),p}const CE=256*1024;function PD(e,t,n,i,a,l,c,f){const p=new Hh(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw Wk();const m=p.total-p.current;let _=m;a>0&&(_=Math.min(_,a));const T=p.current,R=T+_;let S="";_===0?S="finalize":m===_?S="upload, finalize":S="upload";const U={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${p.current}`},B=i.slice(T,R);if(B===null)throw Ab();function q(mt,ft){const Z=Dg(mt,["active","final"]),z=p.current+_,M=i.size();let D;return Z==="final"?D=kg(t,l)(mt,ft):D=null,new Hh(z,M,Z==="final",D)}const K="POST",rt=t.maxUploadRetryTime,et=new Go(n,K,q,rt);return et.headers=U,et.body=B.uploadData(),et.progressCallback=f||null,et.errorHandler=Mu(e),et}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qp(e){switch(e){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,i){if(sD(t)||n!=null||i!=null)this.next=t,this.error=n??void 0,this.complete=i??void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class VD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,a){if(this.sent_)throw Jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class BD extends VD{initXhr(){this.xhr_.responseType="text"}}function Ro(){return new BD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Mb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Ib(a.status,[]))if(l)a=bb();else{this.sleepTime=Math.max(this.sleepTime*2,jk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Te.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":t(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{const i=MD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Ro,t,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,i)=>{const a=UD(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,Ro,n,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=CE*this._chunkMultiplier,n=new Hh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=PD(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Ro,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){CE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const i=kD(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Ro,t,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const i=OD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Ro,t,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Sb(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=qp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,i,a){const l=new LD(n||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(qp(this._state)){case Un.SUCCESS:vo(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const n=this._reject;vo(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(qp(this._state)){case Un.RUNNING:case Un.PAUSED:t.next&&vo(t.next.bind(t,this.snapshot))();break;case Un.SUCCESS:t.complete&&vo(t.complete.bind(t))();break;case Un.CANCELED:case Un.ERROR:t.error&&vo(t.error.bind(t,this._error))();break;default:t.error&&vo(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this._service=t,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Aa(t,n)}get root(){const t=new Zn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ob(this._location.path)}get storage(){return this._service}get parent(){const t=wD(this._location.path);if(t===null)return null;const n=new Zn(this._location.bucket,t);return new Aa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw tD(t)}}function FD(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new zD(e,new Ts(t),n)}function jD(e){e._throwIfRoot("getDownloadURL");const t=DD(e.storage,e._location,Mb());return e.storage.makeRequestWithTokens(t,Ro).then(n=>{if(n===null)throw Zk();return n})}function qD(e,t){const n=bD(e._location.path,t),i=new Zn(e._location.bucket,n);return new Aa(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e){return/^[A-Za-z]+:\/\//.test(e)}function GD(e,t){return new Aa(e,t)}function Bb(e,t){if(e instanceof Ng){const n=e;if(n._bucket==null)throw $k();const i=new Aa(n,n._bucket);return t!=null?Bb(i,t):i}else return t!==void 0?qD(e,t):e}function KD(e,t){if(t&&HD(t)){if(e instanceof Ng)return GD(e,t);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}else return Bb(e,t)}function kE(e,t){const n=t==null?void 0:t[wb];return n==null?null:Zn.makeFromBucketSpec(n,e)}function QD(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:a}=i;a&&(e._overrideAuthToken=typeof a=="string"?a:zT(a,e.app.options.projectId))}class Ng{constructor(t,n,i,a,l){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zk,this._maxUploadRetryTime=Fk,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=kE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,t):this._bucket=kE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){IE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){IE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Aa(this,t)}_makeRequest(t,n,i,a,l=!0){if(this._deleted)return new eD(Rb());{const c=fD(t,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,a).getPromise()}}const DE="@firebase/storage",NE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="storage";function YD(e,t,n){return e=Le(e),FD(e,t,n)}function XD(e){return e=Le(e),jD(e)}function $D(e,t){return e=Le(e),KD(e,t)}function WD(e=qm(),t){e=Le(e);const i=tf(e,zb).getImmediate({identifier:t}),a=LT("storage");return a&&ZD(i,...a),i}function ZD(e,t,n,i={}){QD(e,t,n,i)}function JD(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ng(n,i,a,t,xa)}function tN(){wa(new ks(zb,JD,"PUBLIC").setMultipleInstances(!0)),$r(DE,NE,""),$r(DE,NE,"esm2017")}tN();function Og(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=Fb,jb=new Au("auth","Firebase",Fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Fm("@firebase/auth");function nN(e,...t){Gh.logLevel<=Wt.WARN&&Gh.warn(`Auth (${xa}): ${e}`,...t)}function Sh(e,...t){Gh.logLevel<=Wt.ERROR&&Gh.error(`Auth (${xa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,...t){throw Ug(e,...t)}function Ir(e,...t){return Ug(e,...t)}function Mg(e,t,n){const i=Object.assign(Object.assign({},eN()),{[t]:n});return new Au("auth","Firebase",i).create(t,{appName:e.name})}function Ea(e){return Mg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rN(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&ni(e,"argument-error"),Mg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ug(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return jb.create(e,...t)}function Vt(e,t,...n){if(!e)throw Ug(t,...n)}function Ci(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sh(t),new Error(t)}function Vi(e,t){e||Ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function iN(){return OE()==="http:"||OE()==="https:"}function OE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||iR()||"connection"in navigator)?navigator.onLine:!0}function aN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Vi(n>t,"Short delay should be less than long delay!"),this.isMobile=eR()||sR()}get(){return sN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e,t){Vi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Uu(3e4,6e4);function Lg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ko(e,t,n,i,a={}){return Hb(e,a,async()=>{let l={},c={};i&&(t==="GET"?c=i:l={body:JSON.stringify(i)});const f=Ru(Object.assign({key:e.config.apiKey},c)).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const m=Object.assign({method:t,headers:p},l);return rR()||(m.referrerPolicy="no-referrer"),qb.fetch()(Gb(e,e.config.apiHost,n,f),m)})}async function Hb(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},oN),t);try{const a=new cN(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ph(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ph(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw ph(e,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Mg(e,_,m);ni(e,_)}}catch(a){if(a instanceof ii)throw a;ni(e,"network-request-failed",{message:String(a)})}}async function uN(e,t,n,i,a={}){const l=await Ko(e,t,n,i,a);return"mfaPendingCredential"in l&&ni(e,"multi-factor-auth-required",{_serverResponse:l}),l}function Gb(e,t,n,i){const a=`${t}${n}?${i}`;return e.config.emulator?Pg(e.config,a):`${e.config.apiScheme}://${a}`}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),lN.get())})}}function ph(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ir(e,t,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(e,t){return Ko(e,"POST","/v1/accounts:delete",t)}async function Kb(e,t){return Ko(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fN(e,t=!1){const n=Le(e),i=await n.getIdToken(t),a=Vg(i);Vt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:hu(Hp(a.auth_time)),issuedAtTime:hu(Hp(a.iat)),expirationTime:hu(Hp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hp(e){return Number(e)*1e3}function Vg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const a=UT(n);return a?JSON.parse(a):(Sh("Failed to decode base64 JWT payload"),null)}catch(a){return Sh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function ME(e){const t=Vg(e);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ii&&dN(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function dN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(e){var t;const n=e.auth,i=await e.getIdToken(),a=await wu(e,Kb(n,{idToken:i}));Vt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Qb(l.providerUserInfo):[],f=gN(e.providerData,c),p=e.isAnonymous,m=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(e,T)}async function mN(e){const t=Le(e);await Kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gN(e,t){return[...e.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function Qb(e){return e.map(t=>{var{providerId:n}=t,i=Og(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t){const n=await Hb(e,{},async()=>{const i=Ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=Gb(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",qb.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _N(e,t){return Ko(e,"POST","/v2/accounts:revokeToken",Lg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ME(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const n=ME(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await yN(t,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Io;return i&&(Vt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(Vt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Vt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(e,t){Vt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ki{constructor(t){var{uid:n,auth:i,stsTokenManager:a}=t,l=Og(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await wu(this,this.stsTokenManager.getToken(this.auth,t));return Vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fN(this,t)}reload(){return mN(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ki(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await wu(this,hN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,a,l,c,f,p,m,_;const T=(i=n.displayName)!==null&&i!==void 0?i:void 0,R=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,U=(c=n.photoURL)!==null&&c!==void 0?c:void 0,B=(f=n.tenantId)!==null&&f!==void 0?f:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(m=n.createdAt)!==null&&m!==void 0?m:void 0,rt=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:et,emailVerified:mt,isAnonymous:ft,providerData:Z,stsTokenManager:z}=n;Vt(et&&z,t,"internal-error");const M=Io.fromJSON(this.name,z);Vt(typeof et=="string",t,"internal-error"),vs(T,t.name),vs(R,t.name),Vt(typeof mt=="boolean",t,"internal-error"),Vt(typeof ft=="boolean",t,"internal-error"),vs(S,t.name),vs(U,t.name),vs(B,t.name),vs(q,t.name),vs(K,t.name),vs(rt,t.name);const D=new ki({uid:et,auth:t,email:R,emailVerified:mt,displayName:T,isAnonymous:ft,photoURL:U,phoneNumber:S,tenantId:B,stsTokenManager:M,createdAt:K,lastLoginAt:rt});return Z&&Array.isArray(Z)&&(D.providerData=Z.map(P=>Object.assign({},P))),q&&(D._redirectEventId=q),D}static async _fromIdTokenResponse(t,n,i=!1){const a=new Io;a.updateFromServerResponse(n);const l=new ki({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Kh(l),l}static async _fromGetAccountInfoResponse(t,n,i){const a=n.users[0];Vt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Qb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Io;f.updateFromIdToken(i);const p=new ki({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Im(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;function Di(e){Vi(e instanceof Function,"Expected a class definition");let t=UE.get(e);return t?(Vi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,UE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Yb.type="NONE";const PE=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e,t,n){return`firebase:${e}:${t}:${n}`}class Co{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ah(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ah("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ki._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Co(Di(PE),t,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(PE);const c=Ah(i,t.config.apiKey,t.name);let f=null;for(const m of n)try{const _=await m._get(c);if(_){const T=ki._fromJSON(t,_);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Co(l,t,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Co(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(t1(t))return"Blackberry";if(e1(t))return"Webos";if($b(t))return"Safari";if((t.includes("chrome/")||Wb(t))&&!t.includes("edge/"))return"Chrome";if(Jb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Xb(e=En()){return/firefox\//i.test(e)}function $b(e=En()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wb(e=En()){return/crios\//i.test(e)}function Zb(e=En()){return/iemobile/i.test(e)}function Jb(e=En()){return/android/i.test(e)}function t1(e=En()){return/blackberry/i.test(e)}function e1(e=En()){return/webos/i.test(e)}function Bg(e=En()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vN(e=En()){var t;return Bg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EN(){return aR()&&document.documentMode===10}function n1(e=En()){return Bg(e)||Jb(e)||e1(e)||t1(e)||/windows phone/i.test(e)||Zb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(e,t=[]){let n;switch(e){case"Browser":n=LE(En());break;case"Worker":n=`${LE(En())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=l=>new Promise((c,f)=>{try{const p=t(l);c(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(e,t={}){return Ko(e,"GET","/v2/passwordPolicy",Lg(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=6;class SN{constructor(t){var n,i,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:bN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,n,i,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new TN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Co.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kb(this,{idToken:t}),i=await ki._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Kh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_r(this.app))return Promise.reject(Ea(this));const n=t?Le(t):null;return n&&Vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _r(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wN(this),n=new SN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Au("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await _N(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Di(t)||this._popupRedirectResolver;Vt(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&nN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wf(e){return Le(e)}class VE{constructor(t){this.auth=t,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(e){zg=e}function xN(e){return zg.loadJS(e)}function IN(){return zg.gapiScript}function CN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(e,t){const n=tf(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ta(l,t??{}))return a;ni(a,"already-initialized")}return n.initialize({options:t})}function DN(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function NN(e,t,n){const i=wf(e);Vt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=i1(t),{host:c,port:f}=ON(t),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Vt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Vt(Ta(m,i.config.emulator)&&Ta(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,MN()}function i1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ON(e){const t=i1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:BE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:BE(c)}}}function BE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function MN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(t){return Ci("not implemented")}_linkToIdToken(t,n){return Ci("not implemented")}_getReauthenticationResolver(t){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(e,t){return uN(e,"POST","/v1/accounts:signInWithIdp",Lg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="http://localhost";class Ra extends s1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a}=n,l=Og(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ra(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return ko(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ko(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ko(t,n)}buildRequest(){const t={requestUri:UN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ru(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Fg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Pu{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ra._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Qr.credential(n,i)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Pu{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Pu{constructor(){super("twitter.com")}static credential(t,n){return Ra._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ss.credential(n,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,a=!1){const l=await ki._fromIdTokenResponse(t,i,a),c=zE(i);return new zo({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const a=zE(i);return new zo({user:t,providerId:a,_tokenResponse:i,operationType:n})}}function zE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends ii{constructor(t,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,a){return new Qh(t,n,i,a)}}function a1(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(e,l,t,i):l})}async function PN(e,t,n=!1){const i=await wu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zo._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(e,t,n=!1){const{auth:i}=e;if(_r(i.app))return Promise.reject(Ea(i));const a="reauthenticate";try{const l=await wu(e,a1(i,a,t,e),n);Vt(l.idToken,i,"internal-error");const c=Vg(l.idToken);Vt(c,i,"internal-error");const{sub:f}=c;return Vt(e.uid===f,i,"user-mismatch"),zo._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(e,t,n=!1){if(_r(e.app))return Promise.reject(Ea(e));const i="signIn",a=await a1(e,i,t),l=await zo._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(l.user),l}function BN(e,t,n,i){return Le(e).onIdTokenChanged(t,n,i)}function zN(e,t,n){return Le(e).beforeAuthStateChanged(t,n)}function FN(e,t,n,i){return Le(e).onAuthStateChanged(t,n,i)}function jN(e){return Le(e).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1e3,HN=10;class l1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&t(n,a,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);EN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,HN):a()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}l1.type="LOCAL";const GN=l1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}u1.type="SESSION";const c1=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const i=new bf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,l)),p=await KN(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=jg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const R=T;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function YN(e){Jr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function XN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function WN(){return h1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebaseLocalStorageDb",ZN=1,Xh="firebaseLocalStorage",d1="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(e,t){return e.transaction([Xh],t?"readwrite":"readonly").objectStore(Xh)}function JN(){const e=indexedDB.deleteDatabase(f1);return new Lu(e).toPromise()}function Cm(){const e=indexedDB.open(f1,ZN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Xh,{keyPath:d1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Xh)?t(i):(i.close(),await JN(),t(await Cm()))})})}async function FE(e,t,n){const i=Sf(e,!0).put({[d1]:t,value:n});return new Lu(i).toPromise()}async function tO(e,t){const n=Sf(e,!1).get(t),i=await new Lu(n).toPromise();return i===void 0?null:i.value}function jE(e,t){const n=Sf(e,!0).delete(t);return new Lu(n).toPromise()}const eO=800,nO=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>nO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(WN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cm();return await FE(t,Yh,"1"),await jE(t,Yh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>FE(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>tO(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Sf(a,!1).getAll();return new Lu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const rO=p1;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(e,t){return t?Di(t):(Vt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends s1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ko(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ko(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iO(e){return VN(e.auth,new qg(e),e.bypassAuthState)}function sO(e){const{auth:t,user:n}=e;return Vt(n,t,"internal-error"),LN(n,new qg(e),e.bypassAuthState)}async function aO(e){const{auth:t,user:n}=e;return Vt(n,t,"internal-error"),PN(n,new qg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return aO;case"reauthViaPopup":case"reauthViaRedirect":return sO;default:ni(this.auth,"internal-error")}}resolve(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Uu(2e3,1e4);async function lO(e,t,n){if(_r(e.app))return Promise.reject(Ir(e,"operation-not-supported-in-this-environment"));const i=wf(e);rN(e,t,Fg);const a=m1(i,n);return new _a(i,"signInViaPopup",t,a).executeNotNull()}class _a extends g1{constructor(t,n,i,a,l){super(t,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const t=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oO.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="pendingRedirect",Rh=new Map;class cO extends g1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Rh.get(this.auth._key());if(!t){try{const i=await hO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Rh.set(this.auth._key(),t)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hO(e,t){const n=pO(t),i=dO(e);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function fO(e,t){Rh.set(e._key(),t)}function dO(e){return Di(e._redirectPersistence)}function pO(e){return Ah(uO,e.config.apiKey,e.name)}async function mO(e,t,n=!1){if(_r(e.app))return Promise.reject(Ea(e));const i=wf(e),a=m1(i,t),c=await new cO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=10*60*1e3;class yO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_O(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!y1(t)){const a=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gO&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(t))}saveEventToCache(t){this.cachedEventUids.add(qE(t)),this.lastProcessedEventTime=Date.now()}}function qE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function y1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _O(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(e,t={}){return Ko(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TO=/^https?/;async function wO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vO(e);for(const n of t)try{if(bO(n))return}catch{}ni(e,"unauthorized-domain")}function bO(e){const t=xm(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!TO.test(n))return!1;if(EO.test(e))return i===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Uu(3e4,6e4);function HE(){const e=Jr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function AO(e){return new Promise((t,n)=>{var i,a,l;function c(){HE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(Ir(e,"network-request-failed"))},timeout:SO.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)c();else{const f=CN("iframefcb");return Jr()[f]=()=>{gapi.load?c():n(Ir(e,"network-request-failed"))},xN(`${IN()}?onload=${f}`).catch(p=>n(p))}}).catch(t=>{throw xh=null,t})}let xh=null;function RO(e){return xh=xh||AO(e),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Uu(5e3,15e3),IO="__/auth/iframe",CO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(e){const t=e.config;Vt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Pg(t,CO):`https://${e.config.authDomain}/${IO}`,i={apiKey:t.apiKey,appName:e.name,v:xa},a=DO.get(e.config.apiHost);a&&(i.eid=a);const l=e._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Ru(i).slice(1)}`}async function OO(e){const t=await RO(e),n=Jr().gapi;return Vt(n,e,"internal-error"),t.open({where:document.body,url:NO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ir(e,"network-request-failed"),f=Jr().setTimeout(()=>{l(c)},xO.get());function p(){Jr().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UO=500,PO=600,LO="_blank",VO="http://localhost";class GE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BO(e,t,n,i=UO,a=PO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},MO),{width:i.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();n&&(f=Wb(m)?LO:n),Xb(m)&&(t=t||VO,p.scrollbars="yes");const _=Object.entries(p).reduce((R,[S,U])=>`${R}${S}=${U},`,"");if(vN(m)&&f!=="_self")return zO(t||"",f),new GE(null);const T=window.open(t||"",f,_);Vt(T,e,"popup-blocked");try{T.focus()}catch{}return new GE(T)}function zO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="__/auth/handler",jO="emulator/auth/handler",qO=encodeURIComponent("fac");async function KE(e,t,n,i,a,l){Vt(e.config.authDomain,e,"auth-domain-config-required"),Vt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:xa,eventId:a};if(t instanceof Fg){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",dR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof Pu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await e._getAppCheckToken(),m=p?`#${qO}=${encodeURIComponent(p)}`:"";return`${HO(e)}?${Ru(f).slice(1)}${m}`}function HO({config:e}){return e.emulator?Pg(e,jO):`https://${e.authDomain}/${FO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="webStorageSupport";class GO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=mO,this._overrideRedirectResult=fO}async _openPopup(t,n,i,a){var l;Vi((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await KE(t,n,i,xm(),a);return BO(t,c,jg())}async _openRedirect(t,n,i,a){await this._originValidation(t);const l=await KE(t,n,i,xm(),a);return YN(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Vi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await OO(t),i=new yO(t);return n.register("authEvent",a=>(Vt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gp,{type:Gp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Gp];c!==void 0&&n(!!c),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return n1()||$b()||Bg()}}const KO=GO;var QE="@firebase/auth",YE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XO(e){wa(new ks("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Vt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(e)},m=new AN(i,a,l,p);return DN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),wa(new ks("auth-internal",t=>{const n=wf(t.getProvider("auth").getImmediate());return(i=>new QO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(QE,YE,YO(e)),$r(QE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=5*60,WO=BT("authIdTokenMaxAge")||$O;let XE=null;const ZO=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>WO)return;const a=n==null?void 0:n.token;XE!==a&&(XE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function JO(e=qm()){const t=tf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=kN(e,{popupRedirectResolver:KO,persistence:[rO,GN,c1]}),i=BT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ZO(l.toString());zN(n,c,()=>c(n.currentUser)),BN(n,f=>c(f))}}const a=PT("auth");return a&&NN(n,`http://${a}`),n}function tM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}RN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=a=>{const l=Ir("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",tM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XO("Browser");const eM={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},Hg=qT(eM),Qo=Ek(Hg),nM=WD(Hg),km=JO(Hg);new Qr;const _1=vg(Qo,"eotv-enemies"),rM=vg(Qo,"eotv-enemy-tags"),v1=St.createContext(null),iM=({children:e})=>{const[t,n]=St.useState(null);return St.useEffect(()=>FN(km,n),[]),ot.jsx(v1.Provider,{value:t,children:e})},Vu=()=>St.useContext(v1);function sM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const aM=St.forwardRef(sM);function oM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const lM=St.forwardRef(oM);function uM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const cM=St.forwardRef(uM);function hM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const fM=St.forwardRef(hM);function dM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const pM=St.forwardRef(dM);function mM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const gM=St.forwardRef(mM);function yM({title:e,titleId:t,...n},i){return St.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?St.createElement("title",{id:t},e):null,St.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Gg=St.forwardRef(yM),_M=(e,t,n,i)=>{const a=$D(nM,`enemies/${e}/${t.name}`),l=YD(a,t);l.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;i(f)},c=>{console.error(" :",c)},async()=>{const c=await XD(l.snapshot.ref);n(c)})},$h=({imageURL:e,setImageURL:t,ownerUid:n,className:i})=>{const[a,l]=St.useState(0),c=p=>{p&&_M(n,p,t,l)},f=p=>{p.preventDefault(),c(p.dataTransfer.files[0])};return ot.jsxs("div",{className:`w-3/14 flex items-center justify-center bg-gray-800 relative overflow-hidden group ${i||""}`,onDrop:f,onDragOver:p=>p.preventDefault(),children:[e&&ot.jsx("img",{src:e,className:"object-cover w-full h-full",alt:""}),ot.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),ot.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[ot.jsx(aM,{className:"w-8 h-8"}),ot.jsx("span",{className:"text-xs",children:"   "})]}),a>0&&a<100&&ot.jsxs("span",{className:"absolute bottom-2 left-2 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},vM=({selectedTags:e,setSelectedTags:t,customTags:n,setCustomTags:i})=>{const[a,l]=St.useState([]),[c,f]=St.useState("");St.useEffect(()=>{(async()=>{const S=await Nk(rM);l(S.docs.map(U=>({id:U.id,...U.data()})))})()},[]);const p=Array.from(new Set([...a.map(R=>R.slug),...n])),m=St.useCallback(R=>{const S=R.trim();S&&(e.includes(S)||t([...e,S]),!a.some(U=>U.slug===S)&&!n.includes(S)&&i([...n,S]))},[e,t,a,n,i]),_=St.useCallback(R=>{(R.key==="Enter"||R.key===",")&&(R.preventDefault(),m(c),f(""))},[c,m]),T=St.useCallback(R=>{t(e.filter(S=>S!==R))},[e,t]);return ot.jsxs("div",{className:"mt-auto py-4",children:[ot.jsx("label",{className:"block text-sm mb-1",children:""}),ot.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-700 p-2 rounded",children:[e.map(R=>ot.jsxs("span",{className:"bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1",children:[R,ot.jsx("button",{type:"button",onClick:()=>T(R),className:"text-red-400 hover:text-white",children:""})]},R)),ot.jsx("input",{type:"text",value:c,list:"tag-suggestions",onChange:R=>f(R.target.value),onKeyDown:_,className:"bg-transparent outline-none flex-1 text-sm text-white"}),ot.jsx("datalist",{id:"tag-suggestions",children:p.map(R=>ot.jsx("option",{value:R},R))})]})]})},E1=({name:e,setName:t,customDescription:n,setCustomDescription:i,selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f,children:p})=>ot.jsxs("div",{className:"w-4/7 flex flex-col px-6 h-full overflow-y-auto",children:[ot.jsx("input",{type:"text",placeholder:" ",value:e,onChange:m=>t(m.target.value),className:"w-full p-2 mt-4 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue",required:!0}),ot.jsx("textarea",{placeholder:"",value:n,onChange:m=>i(m.target.value),className:"w-full p-2 mt-4 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue flex-1 resize-none"}),ot.jsx(vM,{selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f}),p]}),EM=()=>{const[e,t]=St.useState(!1),[n,i]=St.useState(""),[a,l]=St.useState(""),[c,f]=St.useState([]),[p,m]=St.useState([]),[_,T]=St.useState(""),[R,S]=St.useState(""),U=Vu(),B=St.useRef(null),q=async K=>{if(K.preventDefault(),!U)return;const rt={name:n,customDescription:a,tags:c,customTags:p,imageURL:_,imageURL2:R,authorUid:U.uid};await Pk(_1,rt),t(!1),i(""),l(""),f([]),m([]),T(""),S("")};return St.useEffect(()=>{const K=rt=>{B.current&&!B.current.contains(rt.target)&&t(!1)};return e&&document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[e]),e?ot.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5 bg-black flex items-center justify-center",onClick:()=>t(!1),children:ot.jsx("div",{role:"dialog",onClick:K=>K.stopPropagation(),className:"relative bg-gray-900 rounded-2xl w-full max-w-7xl flex shadow-lg overflow-hidden h-full",children:ot.jsxs("form",{ref:B,onSubmit:q,className:"flex w-full h-full",children:[ot.jsx($h,{imageURL:_,setImageURL:T,ownerUid:(U==null?void 0:U.uid)||""}),ot.jsx(E1,{name:n,setName:i,customDescription:a,setCustomDescription:l,selectedTags:c,setSelectedTags:f,customTags:p,setCustomTags:m,children:ot.jsxs("div",{className:"flex gap-4 py-4",children:[ot.jsxs("button",{type:"button",onClick:()=>t(!1),className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition cursor-pointer",children:[ot.jsx(Gg,{className:"w-5 h-5"}),""]}),ot.jsxs("button",{type:"submit",disabled:!U,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:[ot.jsx(pM,{className:"w-5 h-5"}),""]})]})}),ot.jsx($h,{imageURL:R,setImageURL:S,ownerUid:(U==null?void 0:U.uid)||""})]})})}):ot.jsxs("div",{role:"button",tabIndex:0,className:"group relative flex flex-col items-center justify-center bg-gray-800 text-white p-4 rounded-xl shadow-lg cursor-pointer w-40 h-56 aspect-[2/3] hover:scale-110 transition-all duration-300 ease-in-out",onClick:()=>t(!0),onKeyDown:K=>K.key==="Enter"&&t(!0),children:[ot.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-neonBlue rounded-full transform transition-transform duration-300 group-hover:rotate-90",children:ot.jsx("span",{className:"text-3xl font-bold text-darkBg",children:"+"})}),ot.jsx("p",{className:"mt-2 text-lg",children:""})]})},TM=({index:e,enemy:t,author:n,onClick:i})=>{const a=St.useRef(null);return ot.jsxs("div",{ref:a,className:"bg-gray-800 text-white shadow-lg cursor-pointer  overflow-hidden relative w-40 h-56 aspect-[2/3] hover:scale-110 flex flex-col rounded-xl transition-all duration-300 ease-in-out",onClick:()=>i(e),children:[ot.jsx("img",{src:t.imageURL,alt:t.name,className:"w-full h-32 object-cover"}),ot.jsxs("div",{className:"p-2 flex flex-col",children:[ot.jsx("p",{className:"text-sm text-center font-bold",children:t.name}),ot.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:ot.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((l,c)=>ot.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:l},c))})}),ot.jsx("div",{className:"absolute items-center gap-2 mt-1 right-4 bottom-4",children:ot.jsx("img",{src:n==null?void 0:n.photoURL,alt:"Avatar",className:"w-6 h-6 rounded-full",title:(n==null?void 0:n.displayName)||"Unknown"})})]}),t.imageURL2&&ot.jsx("img",{src:t.imageURL2,alt:"Extra",className:"hidden"})]},t.id)},wM=({enemies:e,users:t,onSelect:n})=>{const i=Vu();return ot.jsxs("div",{className:"flex flex-wrap gap-4 justify-center relative",children:[i&&ot.jsx(EM,{}),e.map((a,l)=>ot.jsx(TM,{index:l,enemy:a,author:t[a.authorUid],onClick:()=>n(l)},a.id))]})};function bM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const SM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RM={};function $E(e,t){return(RM.jsx?AM:SM).test(e)}const xM=/[ \t\n\f\r]/g;function IM(e){return typeof e=="object"?e.type==="text"?WE(e.value):!1:WE(e)}function WE(e){return e.replace(xM,"")===""}class Bu{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}}Bu.prototype.normal={};Bu.prototype.property={};Bu.prototype.space=void 0;function T1(e,t){const n={},i={};for(const a of e)Object.assign(n,a.property),Object.assign(i,a.normal);return new Bu(n,i,t)}function Dm(e){return e.toLowerCase()}class Bn{constructor(t,n){this.attribute=n,this.property=t}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let CM=0;const Gt=ka(),je=ka(),w1=ka(),pt=ka(),ve=ka(),Do=ka(),$n=ka();function ka(){return 2**++CM}const Nm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Gt,booleanish:je,commaOrSpaceSeparated:$n,commaSeparated:Do,number:pt,overloadedBoolean:w1,spaceSeparated:ve},Symbol.toStringTag,{value:"Module"})),Kp=Object.keys(Nm);class Kg extends Bn{constructor(t,n,i,a){let l=-1;if(super(t,n),ZE(this,"space",a),typeof i=="number")for(;++l<Kp.length;){const c=Kp[l];ZE(this,Kp[l],(i&Nm[c])===Nm[c])}}}Kg.prototype.defined=!0;function ZE(e,t,n){n&&(e[t]=n)}function Yo(e){const t={},n={};for(const[i,a]of Object.entries(e.properties)){const l=new Kg(i,e.transform(e.attributes||{},i),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),t[i]=l,n[Dm(i)]=i,n[Dm(l.attribute)]=i}return new Bu(t,n,e.space)}const b1=Yo({properties:{ariaActiveDescendant:null,ariaAtomic:je,ariaAutoComplete:null,ariaBusy:je,ariaChecked:je,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:ve,ariaCurrent:null,ariaDescribedBy:ve,ariaDetails:null,ariaDisabled:je,ariaDropEffect:ve,ariaErrorMessage:null,ariaExpanded:je,ariaFlowTo:ve,ariaGrabbed:je,ariaHasPopup:null,ariaHidden:je,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ve,ariaLevel:pt,ariaLive:null,ariaModal:je,ariaMultiLine:je,ariaMultiSelectable:je,ariaOrientation:null,ariaOwns:ve,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:je,ariaReadOnly:je,ariaRelevant:null,ariaRequired:je,ariaRoleDescription:ve,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:je,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function S1(e,t){return t in e?e[t]:t}function A1(e,t){return S1(e,t.toLowerCase())}const kM=Yo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Do,acceptCharset:ve,accessKey:ve,action:null,allow:null,allowFullScreen:Gt,allowPaymentRequest:Gt,allowUserMedia:Gt,alt:null,as:null,async:Gt,autoCapitalize:null,autoComplete:ve,autoFocus:Gt,autoPlay:Gt,blocking:ve,capture:null,charSet:null,checked:Gt,cite:null,className:ve,cols:pt,colSpan:null,content:null,contentEditable:je,controls:Gt,controlsList:ve,coords:pt|Do,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Gt,defer:Gt,dir:null,dirName:null,disabled:Gt,download:w1,draggable:je,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Gt,formTarget:null,headers:ve,height:pt,hidden:Gt,high:pt,href:null,hrefLang:null,htmlFor:ve,httpEquiv:ve,id:null,imageSizes:null,imageSrcSet:null,inert:Gt,inputMode:null,integrity:null,is:null,isMap:Gt,itemId:null,itemProp:ve,itemRef:ve,itemScope:Gt,itemType:ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Gt,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:Gt,muted:Gt,name:null,nonce:null,noModule:Gt,noValidate:Gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Gt,optimum:pt,pattern:null,ping:ve,placeholder:null,playsInline:Gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Gt,referrerPolicy:null,rel:ve,required:Gt,reversed:Gt,rows:pt,rowSpan:pt,sandbox:ve,scope:null,scoped:Gt,seamless:Gt,selected:Gt,shadowRootClonable:Gt,shadowRootDelegatesFocus:Gt,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:je,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:Gt,useMap:null,value:je,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ve,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Gt,declare:Gt,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:Gt,noHref:Gt,noShade:Gt,noWrap:Gt,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:je,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Gt,disableRemotePlayback:Gt,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:A1}),DM=Yo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$n,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:Gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Do,g2:Do,glyphName:Do,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:$n,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$n,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$n,rev:$n,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$n,requiredFeatures:$n,requiredFonts:$n,requiredFormats:$n,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:$n,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$n,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$n,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:S1}),R1=Yo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),x1=Yo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:A1}),I1=Yo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),NM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OM=/[A-Z]/g,JE=/-[a-z]/g,MM=/^data[-\w.:]+$/i;function UM(e,t){const n=Dm(t);let i=t,a=Bn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&MM.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(JE,LM);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!JE.test(l)){let c=l.replace(OM,PM);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}a=Kg}return new a(i,t)}function PM(e){return"-"+e.toLowerCase()}function LM(e){return e.charAt(1).toUpperCase()}const VM=T1([b1,kM,R1,x1,I1],"html"),Qg=T1([b1,DM,R1,x1,I1],"svg");function BM(e){return e.join(" ").trim()}var Eo={},Qp,tT;function zM(){if(tT)return Qp;tT=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",_="*",T="",R="comment",S="declaration";Qp=function(B,q){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];q=q||{};var K=1,rt=1;function et(N){var vt=N.match(t);vt&&(K+=vt.length);var Et=N.lastIndexOf(p);rt=~Et?N.length-Et:rt+N.length}function mt(){var N={line:K,column:rt};return function(vt){return vt.position=new ft(N),M(),vt}}function ft(N){this.start=N,this.end={line:K,column:rt},this.source=q.source}ft.prototype.content=B;function Z(N){var vt=new Error(q.source+":"+K+":"+rt+": "+N);if(vt.reason=N,vt.filename=q.source,vt.line=K,vt.column=rt,vt.source=B,!q.silent)throw vt}function z(N){var vt=N.exec(B);if(vt){var Et=vt[0];return et(Et),B=B.slice(Et.length),vt}}function M(){z(n)}function D(N){var vt;for(N=N||[];vt=P();)vt!==!1&&N.push(vt);return N}function P(){var N=mt();if(!(m!=B.charAt(0)||_!=B.charAt(1))){for(var vt=2;T!=B.charAt(vt)&&(_!=B.charAt(vt)||m!=B.charAt(vt+1));)++vt;if(vt+=2,T===B.charAt(vt-1))return Z("End of comment missing");var Et=B.slice(2,vt-2);return rt+=2,et(Et),B=B.slice(vt),rt+=2,N({type:R,comment:Et})}}function V(){var N=mt(),vt=z(i);if(vt){if(P(),!z(a))return Z("property missing ':'");var Et=z(l),dt=N({type:S,property:U(vt[0].replace(e,T)),value:Et?U(Et[0].replace(e,T)):T});return z(c),dt}}function F(){var N=[];D(N);for(var vt;vt=V();)vt!==!1&&(N.push(vt),D(N));return N}return M(),F()};function U(B){return B?B.replace(f,T):T}return Qp}var eT;function FM(){if(eT)return Eo;eT=1;var e=Eo&&Eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=n;var t=e(zM());function n(i,a){var l=null;if(!i||typeof i!="string")return l;var c=(0,t.default)(i),f=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,_=p.value;f?a(m,_,p):_&&(l=l||{},l[m]=_)}}),l}return Eo}var jM=FM();const nT=Su(jM),qM=nT.default||nT,C1=k1("end"),Yg=k1("start");function k1(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function HM(e){const t=Yg(e),n=C1(e);if(t&&n)return{start:t,end:n}}function fu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?rT(e.position):"start"in e||"end"in e?rT(e):"line"in e||"column"in e?Om(e):""}function Om(e){return iT(e&&e.line)+":"+iT(e&&e.column)}function rT(e){return Om(e&&e.start)+"-"+Om(e&&e.end)}function iT(e){return e&&typeof e=="number"?e:1}class Tn extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?a=t:!l.cause&&t&&(c=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=fu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const Xg={}.hasOwnProperty,GM=new Map,KM=/[A-Z]/g,QM=/-([a-z])/g,YM=new Set(["table","tbody","thead","tfoot","tr"]),XM=new Set(["td","th"]),D1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function $M(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=i4(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=r4(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Qg:VM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=N1(a,e,void 0);return l&&typeof l!="string"?l:a.create(e,a.Fragment,{children:l||void 0},void 0)}function N1(e,t,n){if(t.type==="element")return WM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ZM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return t4(e,t,n);if(t.type==="mdxjsEsm")return JM(e,t);if(t.type==="root")return e4(e,t,n);if(t.type==="text")return n4(e,t)}function WM(e,t,n){const i=e.schema;let a=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=Qg,e.schema=a),e.ancestors.push(t);const l=M1(e,t.tagName,!1),c=s4(e,t);let f=Wg(e,t);return YM.has(t.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!IM(p):!0})),O1(e,c,l,t),$g(c,f),e.ancestors.pop(),e.schema=i,e.create(t,l,c,n)}function ZM(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}bu(e,t.position)}function JM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);bu(e,t.position)}function t4(e,t,n){const i=e.schema;let a=i;t.name==="svg"&&i.space==="html"&&(a=Qg,e.schema=a),e.ancestors.push(t);const l=t.name===null?e.Fragment:M1(e,t.name,!0),c=a4(e,t),f=Wg(e,t);return O1(e,c,l,t),$g(c,f),e.ancestors.pop(),e.schema=i,e.create(t,l,c,n)}function e4(e,t,n){const i={};return $g(i,Wg(e,t)),e.create(t,e.Fragment,i,n)}function n4(e,t){return t.value}function O1(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function $g(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function r4(e,t,n){return i;function i(a,l,c,f){const m=Array.isArray(c.children)?n:t;return f?m(l,c,f):m(l,c)}}function i4(e,t){return n;function n(i,a,l,c){const f=Array.isArray(l.children),p=Yg(i);return t(a,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function s4(e,t){const n={};let i,a;for(a in t.properties)if(a!=="children"&&Xg.call(t.properties,a)){const l=o4(e,a,t.properties[a]);if(l){const[c,f]=l;e.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&XM.has(t.tagName)?i=f:n[c]=f}}if(i){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function a4(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else bu(e,t.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const f=i.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else bu(e,t.position);else l=i.value===null?!0:i.value;n[a]=l}return n}function Wg(e,t){const n=[];let i=-1;const a=e.passKeys?new Map:GM;for(;++i<t.children.length;){const l=t.children[i];let c;if(e.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const f=N1(e,l,c);f!==void 0&&n.push(f)}return n}function o4(e,t,n){const i=UM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?bM(n):BM(n)),i.property==="style"){let a=typeof n=="object"?n:l4(e,String(n));return e.stylePropertyNameCase==="css"&&(a=u4(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?NM[i.property]||i.property:i.attribute,n]}}function l4(e,t){const n={};try{qM(t,i)}catch(a){if(!e.ignoreInvalidStyle){const l=a,c=new Tn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=e.filePath||void 0,c.url=D1+"#cannot-parse-style-attribute",c}}return n;function i(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(QM,h4)),n[c]=l}}function M1(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,c;for(;++l<a.length;){const f=$E(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=c}else i=$E(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const a=i.value;return Xg.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(i);bu(e)}function bu(e,t){const n=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=D1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function u4(e){const t={};let n;for(n in e)Xg.call(e,n)&&(t[c4(n)]=e[n]);return t}function c4(e){let t=e.replace(KM,f4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function h4(e,t){return t.toUpperCase()}function f4(e){return"-"+e.toLowerCase()}const Yp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},d4={};function p4(e,t){const n=d4,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return U1(e,i,a)}function U1(e,t,n){if(m4(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return sT(e.children,t,n)}return Array.isArray(e)?sT(e,t,n):""}function sT(e,t,n){const i=[];let a=-1;for(;++a<e.length;)i[a]=U1(e[a],t,n);return i.join("")}function m4(e){return!!(e&&typeof e=="object")}const aT=document.createElement("i");function Zg(e){const t="&"+e+";";aT.innerHTML=t;const n=aT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ri(e,t,n,i){const a=e.length;let l=0,c;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(t,n),e.splice(...c);else for(n&&e.splice(t,n);l<i.length;)c=i.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function yr(e,t){return e.length>0?(ri(e,e.length,0,t),e):t}const oT={}.hasOwnProperty;function g4(e){const t={};let n=-1;for(;++n<e.length;)y4(t,e[n]);return t}function y4(e,t){let n;for(n in t){const a=(oT.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let c;if(l)for(c in l){oT.call(a,c)||(a[c]=[]);const f=l[c];_4(a[c],Array.isArray(f)?f:f?[f]:[])}}}function _4(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);ri(e,0,0,i)}function P1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function No(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yr=Bs(/[A-Za-z]/),Jn=Bs(/[\dA-Za-z]/),v4=Bs(/[#-'*+\--9=?A-Z^-~]/);function Mm(e){return e!==null&&(e<32||e===127)}const Um=Bs(/\d/),E4=Bs(/[\dA-Fa-f]/),T4=Bs(/[!-/:-@[-`{-~]/);function Lt(e){return e!==null&&e<-2}function Vn(e){return e!==null&&(e<0||e===32)}function ce(e){return e===-2||e===-1||e===32}const w4=Bs(new RegExp("\\p{P}|\\p{S}","u")),b4=Bs(/\s/);function Bs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Xo(e){const t=[];let n=-1,i=0,a=0;for(;++n<e.length;){const l=e.charCodeAt(n);let c="";if(l===37&&Jn(e.charCodeAt(n+1))&&Jn(e.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),a=1):c=""}else c=String.fromCharCode(l);c&&(t.push(e.slice(i,n),encodeURIComponent(c)),i=n+a+1,c=""),a&&(n+=a,a=0)}return t.join("")+e.slice(i)}function Ee(e,t,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ce(p)?(e.enter(n),f(p)):t(p)}function f(p){return ce(p)&&l++<a?(e.consume(p),f):(e.exit(n),t(p))}}const S4={tokenize:A4};function A4(e){const t=e.attempt(this.parser.constructs.contentInitial,i,a);let n;return t;function i(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ee(e,t,"linePrefix")}function a(f){return e.enter("paragraph"),l(f)}function l(f){const p=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(f)}function c(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Lt(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),c)}}const R4={tokenize:x4},lT={tokenize:I4};function x4(e){const t=this,n=[];let i=0,a,l,c;return f;function f(et){if(i<n.length){const mt=n[i];return t.containerState=mt[1],e.attempt(mt[0].continuation,p,m)(et)}return m(et)}function p(et){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&rt();const mt=t.events.length;let ft=mt,Z;for(;ft--;)if(t.events[ft][0]==="exit"&&t.events[ft][1].type==="chunkFlow"){Z=t.events[ft][1].end;break}K(i);let z=mt;for(;z<t.events.length;)t.events[z][1].end={...Z},z++;return ri(t.events,ft+1,0,t.events.slice(mt)),t.events.length=z,m(et)}return f(et)}function m(et){if(i===n.length){if(!a)return R(et);if(a.currentConstruct&&a.currentConstruct.concrete)return U(et);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(lT,_,T)(et)}function _(et){return a&&rt(),K(i),R(et)}function T(et){return t.parser.lazy[t.now().line]=i!==n.length,c=t.now().offset,U(et)}function R(et){return t.containerState={},e.attempt(lT,S,U)(et)}function S(et){return i++,n.push([t.currentConstruct,t.containerState]),R(et)}function U(et){if(et===null){a&&rt(),K(0),e.consume(et);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),B(et)}function B(et){if(et===null){q(e.exit("chunkFlow"),!0),K(0),e.consume(et);return}return Lt(et)?(e.consume(et),q(e.exit("chunkFlow")),i=0,t.interrupt=void 0,f):(e.consume(et),B)}function q(et,mt){const ft=t.sliceStream(et);if(mt&&ft.push(null),et.previous=l,l&&(l.next=et),l=et,a.defineSkip(et.start),a.write(ft),t.parser.lazy[et.start.line]){let Z=a.events.length;for(;Z--;)if(a.events[Z][1].start.offset<c&&(!a.events[Z][1].end||a.events[Z][1].end.offset>c))return;const z=t.events.length;let M=z,D,P;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(D){P=t.events[M][1].end;break}D=!0}for(K(i),Z=z;Z<t.events.length;)t.events[Z][1].end={...P},Z++;ri(t.events,M+1,0,t.events.slice(z)),t.events.length=Z}}function K(et){let mt=n.length;for(;mt-- >et;){const ft=n[mt];t.containerState=ft[1],ft[0].exit.call(t,e)}n.length=et}function rt(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function I4(e,t,n){return Ee(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function uT(e){if(e===null||Vn(e)||b4(e))return 1;if(w4(e))return 2}function Jg(e,t,n){const i=[];let a=-1;for(;++a<e.length;){const l=e[a].resolveAll;l&&!i.includes(l)&&(t=l(t,n),i.push(l))}return t}const Pm={name:"attention",resolveAll:C4,tokenize:k4};function C4(e,t){let n=-1,i,a,l,c,f,p,m,_;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;p=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const T={...e[i][1].end},R={...e[n][1].start};cT(T,-p),cT(R,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...e[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:R},l={type:p>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},e[i][1].end={...c.start},e[n][1].start={...f.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=yr(m,[["enter",e[i][1],t],["exit",e[i][1],t]])),m=yr(m,[["enter",a,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=yr(m,Jg(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),m=yr(m,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(_=2,m=yr(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):_=0,ri(e,i-1,n-i+3,m),n=i+m.length-_-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function k4(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=uT(i);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),f(p)}function f(p){if(p===l)return e.consume(p),f;const m=e.exit("attentionSequence"),_=uT(p),T=!_||_===2&&a||n.includes(p),R=!a||a===2&&_||n.includes(i);return m._open=!!(l===42?T:T&&(a||!R)),m._close=!!(l===42?R:R&&(_||!T)),t(p)}}function cT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const D4={name:"autolink",tokenize:N4};function N4(e,t,n){let i=0;return a;function a(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Yr(S)?(e.consume(S),c):S===64?n(S):m(S)}function c(S){return S===43||S===45||S===46||Jn(S)?(i=1,f(S)):m(S)}function f(S){return S===58?(e.consume(S),i=0,p):(S===43||S===45||S===46||Jn(S))&&i++<32?(e.consume(S),f):(i=0,m(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Mm(S)?n(S):(e.consume(S),p)}function m(S){return S===64?(e.consume(S),_):v4(S)?(e.consume(S),m):n(S)}function _(S){return Jn(S)?T(S):n(S)}function T(S){return S===46?(e.consume(S),i=0,_):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):R(S)}function R(S){if((S===45||Jn(S))&&i++<63){const U=S===45?R:T;return e.consume(S),U}return n(S)}}const Af={partial:!0,tokenize:O4};function O4(e,t,n){return i;function i(l){return ce(l)?Ee(e,a,"linePrefix")(l):a(l)}function a(l){return l===null||Lt(l)?t(l):n(l)}}const L1={continuation:{tokenize:U4},exit:P4,name:"blockQuote",tokenize:M4};function M4(e,t,n){const i=this;return a;function a(c){if(c===62){const f=i.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return n(c)}function l(c){return ce(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function U4(e,t,n){const i=this;return a;function a(c){return ce(c)?Ee(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(L1,t,n)(c)}}function P4(e){e.exit("blockQuote")}const V1={name:"characterEscape",tokenize:L4};function L4(e,t,n){return i;function i(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),a}function a(l){return T4(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const B1={name:"characterReference",tokenize:V4};function V4(e,t,n){const i=this;let a=0,l,c;return f;function f(T){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),p}function p(T){return T===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(T),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,c=Jn,_(T))}function m(T){return T===88||T===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(T),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=E4,_):(e.enter("characterReferenceValue"),l=7,c=Um,_(T))}function _(T){if(T===59&&a){const R=e.exit("characterReferenceValue");return c===Jn&&!Zg(i.sliceSerialize(R))?n(T):(e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(T)&&a++<l?(e.consume(T),_):n(T)}}const hT={partial:!0,tokenize:z4},fT={concrete:!0,name:"codeFenced",tokenize:B4};function B4(e,t,n){const i=this,a={partial:!0,tokenize:ft};let l=0,c=0,f;return p;function p(Z){return m(Z)}function m(Z){const z=i.events[i.events.length-1];return l=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,f=Z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),_(Z)}function _(Z){return Z===f?(c++,e.consume(Z),_):c<3?n(Z):(e.exit("codeFencedFenceSequence"),ce(Z)?Ee(e,T,"whitespace")(Z):T(Z))}function T(Z){return Z===null||Lt(Z)?(e.exit("codeFencedFence"),i.interrupt?t(Z):e.check(hT,B,mt)(Z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),R(Z))}function R(Z){return Z===null||Lt(Z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T(Z)):ce(Z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ee(e,S,"whitespace")(Z)):Z===96&&Z===f?n(Z):(e.consume(Z),R)}function S(Z){return Z===null||Lt(Z)?T(Z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),U(Z))}function U(Z){return Z===null||Lt(Z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),T(Z)):Z===96&&Z===f?n(Z):(e.consume(Z),U)}function B(Z){return e.attempt(a,mt,q)(Z)}function q(Z){return e.enter("lineEnding"),e.consume(Z),e.exit("lineEnding"),K}function K(Z){return l>0&&ce(Z)?Ee(e,rt,"linePrefix",l+1)(Z):rt(Z)}function rt(Z){return Z===null||Lt(Z)?e.check(hT,B,mt)(Z):(e.enter("codeFlowValue"),et(Z))}function et(Z){return Z===null||Lt(Z)?(e.exit("codeFlowValue"),rt(Z)):(e.consume(Z),et)}function mt(Z){return e.exit("codeFenced"),t(Z)}function ft(Z,z,M){let D=0;return P;function P(Et){return Z.enter("lineEnding"),Z.consume(Et),Z.exit("lineEnding"),V}function V(Et){return Z.enter("codeFencedFence"),ce(Et)?Ee(Z,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Et):F(Et)}function F(Et){return Et===f?(Z.enter("codeFencedFenceSequence"),N(Et)):M(Et)}function N(Et){return Et===f?(D++,Z.consume(Et),N):D>=c?(Z.exit("codeFencedFenceSequence"),ce(Et)?Ee(Z,vt,"whitespace")(Et):vt(Et)):M(Et)}function vt(Et){return Et===null||Lt(Et)?(Z.exit("codeFencedFence"),z(Et)):M(Et)}}}function z4(e,t,n){const i=this;return a;function a(c){return c===null?n(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?n(c):t(c)}}const Xp={name:"codeIndented",tokenize:j4},F4={partial:!0,tokenize:q4};function j4(e,t,n){const i=this;return a;function a(m){return e.enter("codeIndented"),Ee(e,l,"linePrefix",5)(m)}function l(m){const _=i.events[i.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Lt(m)?e.attempt(F4,c,p)(m):(e.enter("codeFlowValue"),f(m))}function f(m){return m===null||Lt(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),f)}function p(m){return e.exit("codeIndented"),t(m)}}function q4(e,t,n){const i=this;return a;function a(c){return i.parser.lazy[i.now().line]?n(c):Lt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):Ee(e,l,"linePrefix",5)(c)}function l(c){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):Lt(c)?a(c):n(c)}}const H4={name:"codeText",previous:K4,resolve:G4,tokenize:Q4};function G4(e){let t=e.length-4,n=3,i,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)a===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(a=i):(i===t||e[i][1].type==="lineEnding")&&(e[a][1].type="codeTextData",i!==a+2&&(e[a][1].end=e[i-1][1].end,e.splice(a+2,i-a-2),t-=i-a-2,i=a+2),a=void 0);return e}function K4(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q4(e,t,n){let i=0,a,l;return c;function c(T){return e.enter("codeText"),e.enter("codeTextSequence"),f(T)}function f(T){return T===96?(e.consume(T),i++,f):(e.exit("codeTextSequence"),p(T))}function p(T){return T===null?n(T):T===32?(e.enter("space"),e.consume(T),e.exit("space"),p):T===96?(l=e.enter("codeTextSequence"),a=0,_(T)):Lt(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(T))}function m(T){return T===null||T===32||T===96||Lt(T)?(e.exit("codeTextData"),p(T)):(e.consume(T),m)}function _(T){return T===96?(e.consume(T),a++,_):a===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(T)):(l.type="codeTextData",m(T))}}class Y4{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const a=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&tu(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),tu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),tu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);tu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);tu(this.left,n.reverse())}}}function tu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function z1(e){const t={};let n=-1,i,a,l,c,f,p,m;const _=new Y4(e);for(;++n<_.length;){for(;n in t;)n=t[n];if(i=_.get(n),n&&i[1].type==="chunkFlow"&&_.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,X4(_,n)),n=t[n],m=!0);else if(i[1]._container){for(l=n,a=void 0;l--;)if(c=_.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(_.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(i[1].end={..._.get(a)[1].start},f=_.slice(a,n),f.unshift(i),_.splice(a,n-a+1,f))}}return ri(e,0,Number.POSITIVE_INFINITY,_.slice(0)),!m}function X4(e,t){const n=e.get(t)[1],i=e.get(t)[2];let a=t-1;const l=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],m={};let _,T,R=-1,S=n,U=0,B=0;const q=[B];for(;S;){for(;e.get(++a)[1]!==S;);l.push(a),S._tokenizer||(_=i.sliceStream(S),S.next||_.push(null),T&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(_),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=S,S=S.next}for(S=n;++R<f.length;)f[R][0]==="exit"&&f[R-1][0]==="enter"&&f[R][1].type===f[R-1][1].type&&f[R][1].start.line!==f[R][1].end.line&&(B=R+1,q.push(B),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):q.pop(),R=q.length;R--;){const K=f.slice(q[R],q[R+1]),rt=l.pop();p.push([rt,rt+K.length-1]),e.splice(rt,2,K)}for(p.reverse(),R=-1;++R<p.length;)m[U+p[R][0]]=U+p[R][1],U+=p[R][1]-p[R][0]-1;return m}const $4={resolve:Z4,tokenize:J4},W4={partial:!0,tokenize:tU};function Z4(e){return z1(e),e}function J4(e,t){let n;return i;function i(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Lt(f)?e.check(W4,c,l)(f):(e.consume(f),a)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function c(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function tU(e,t,n){const i=this;return a;function a(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Ee(e,l,"linePrefix")}function l(c){if(c===null||Lt(c))return n(c);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):e.interrupt(i.parser.constructs.flow,n,t)(c)}}function F1(e,t,n,i,a,l,c,f,p){const m=p||Number.POSITIVE_INFINITY;let _=0;return T;function T(K){return K===60?(e.enter(i),e.enter(a),e.enter(l),e.consume(K),e.exit(l),R):K===null||K===32||K===41||Mm(K)?n(K):(e.enter(i),e.enter(c),e.enter(f),e.enter("chunkString",{contentType:"string"}),B(K))}function R(K){return K===62?(e.enter(l),e.consume(K),e.exit(l),e.exit(a),e.exit(i),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(K))}function S(K){return K===62?(e.exit("chunkString"),e.exit(f),R(K)):K===null||K===60||Lt(K)?n(K):(e.consume(K),K===92?U:S)}function U(K){return K===60||K===62||K===92?(e.consume(K),S):S(K)}function B(K){return!_&&(K===null||K===41||Vn(K))?(e.exit("chunkString"),e.exit(f),e.exit(c),e.exit(i),t(K)):_<m&&K===40?(e.consume(K),_++,B):K===41?(e.consume(K),_--,B):K===null||K===32||K===40||Mm(K)?n(K):(e.consume(K),K===92?q:B)}function q(K){return K===40||K===41||K===92?(e.consume(K),B):B(K)}}function j1(e,t,n,i,a,l){const c=this;let f=0,p;return m;function m(S){return e.enter(i),e.enter(a),e.consume(S),e.exit(a),e.enter(l),_}function _(S){return f>999||S===null||S===91||S===93&&!p||S===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?n(S):S===93?(e.exit(l),e.enter(a),e.consume(S),e.exit(a),e.exit(i),t):Lt(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),_):(e.enter("chunkString",{contentType:"string"}),T(S))}function T(S){return S===null||S===91||S===93||Lt(S)||f++>999?(e.exit("chunkString"),_(S)):(e.consume(S),p||(p=!ce(S)),S===92?R:T)}function R(S){return S===91||S===92||S===93?(e.consume(S),f++,T):T(S)}}function q1(e,t,n,i,a,l){let c;return f;function f(R){return R===34||R===39||R===40?(e.enter(i),e.enter(a),e.consume(R),e.exit(a),c=R===40?41:R,p):n(R)}function p(R){return R===c?(e.enter(a),e.consume(R),e.exit(a),e.exit(i),t):(e.enter(l),m(R))}function m(R){return R===c?(e.exit(l),p(c)):R===null?n(R):Lt(R)?(e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),Ee(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===c||R===null||Lt(R)?(e.exit("chunkString"),m(R)):(e.consume(R),R===92?T:_)}function T(R){return R===c||R===92?(e.consume(R),_):_(R)}}function du(e,t){let n;return i;function i(a){return Lt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,i):ce(a)?Ee(e,i,n?"linePrefix":"lineSuffix")(a):t(a)}}const eU={name:"definition",tokenize:rU},nU={partial:!0,tokenize:iU};function rU(e,t,n){const i=this;let a;return l;function l(S){return e.enter("definition"),c(S)}function c(S){return j1.call(i,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return a=No(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):n(S)}function p(S){return Vn(S)?du(e,m)(S):m(S)}function m(S){return F1(e,_,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function _(S){return e.attempt(nU,T,T)(S)}function T(S){return ce(S)?Ee(e,R,"whitespace")(S):R(S)}function R(S){return S===null||Lt(S)?(e.exit("definition"),i.parser.defined.push(a),t(S)):n(S)}}function iU(e,t,n){return i;function i(f){return Vn(f)?du(e,a)(f):n(f)}function a(f){return q1(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ce(f)?Ee(e,c,"whitespace")(f):c(f)}function c(f){return f===null||Lt(f)?t(f):n(f)}}const sU={name:"hardBreakEscape",tokenize:aU};function aU(e,t,n){return i;function i(l){return e.enter("hardBreakEscape"),e.consume(l),a}function a(l){return Lt(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const oU={name:"headingAtx",resolve:lU,tokenize:uU};function lU(e,t){let n=e.length-2,i=3,a,l;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},l={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},ri(e,i,n-i+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),e}function uU(e,t,n){let i=0;return a;function a(_){return e.enter("atxHeading"),l(_)}function l(_){return e.enter("atxHeadingSequence"),c(_)}function c(_){return _===35&&i++<6?(e.consume(_),c):_===null||Vn(_)?(e.exit("atxHeadingSequence"),f(_)):n(_)}function f(_){return _===35?(e.enter("atxHeadingSequence"),p(_)):_===null||Lt(_)?(e.exit("atxHeading"),t(_)):ce(_)?Ee(e,f,"whitespace")(_):(e.enter("atxHeadingText"),m(_))}function p(_){return _===35?(e.consume(_),p):(e.exit("atxHeadingSequence"),f(_))}function m(_){return _===null||_===35||Vn(_)?(e.exit("atxHeadingText"),f(_)):(e.consume(_),m)}}const cU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dT=["pre","script","style","textarea"],hU={concrete:!0,name:"htmlFlow",resolveTo:pU,tokenize:mU},fU={partial:!0,tokenize:yU},dU={partial:!0,tokenize:gU};function pU(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function mU(e,t,n){const i=this;let a,l,c,f,p;return m;function m(O){return _(O)}function _(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),T}function T(O){return O===33?(e.consume(O),R):O===47?(e.consume(O),l=!0,B):O===63?(e.consume(O),a=3,i.interrupt?t:x):Yr(O)?(e.consume(O),c=String.fromCharCode(O),q):n(O)}function R(O){return O===45?(e.consume(O),a=2,S):O===91?(e.consume(O),a=5,f=0,U):Yr(O)?(e.consume(O),a=4,i.interrupt?t:x):n(O)}function S(O){return O===45?(e.consume(O),i.interrupt?t:x):n(O)}function U(O){const _t="CDATA[";return O===_t.charCodeAt(f++)?(e.consume(O),f===_t.length?i.interrupt?t:F:U):n(O)}function B(O){return Yr(O)?(e.consume(O),c=String.fromCharCode(O),q):n(O)}function q(O){if(O===null||O===47||O===62||Vn(O)){const _t=O===47,Nt=c.toLowerCase();return!_t&&!l&&dT.includes(Nt)?(a=1,i.interrupt?t(O):F(O)):cU.includes(c.toLowerCase())?(a=6,_t?(e.consume(O),K):i.interrupt?t(O):F(O)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(O):l?rt(O):et(O))}return O===45||Jn(O)?(e.consume(O),c+=String.fromCharCode(O),q):n(O)}function K(O){return O===62?(e.consume(O),i.interrupt?t:F):n(O)}function rt(O){return ce(O)?(e.consume(O),rt):P(O)}function et(O){return O===47?(e.consume(O),P):O===58||O===95||Yr(O)?(e.consume(O),mt):ce(O)?(e.consume(O),et):P(O)}function mt(O){return O===45||O===46||O===58||O===95||Jn(O)?(e.consume(O),mt):ft(O)}function ft(O){return O===61?(e.consume(O),Z):ce(O)?(e.consume(O),ft):et(O)}function Z(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),p=O,z):ce(O)?(e.consume(O),Z):M(O)}function z(O){return O===p?(e.consume(O),p=null,D):O===null||Lt(O)?n(O):(e.consume(O),z)}function M(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Vn(O)?ft(O):(e.consume(O),M)}function D(O){return O===47||O===62||ce(O)?et(O):n(O)}function P(O){return O===62?(e.consume(O),V):n(O)}function V(O){return O===null||Lt(O)?F(O):ce(O)?(e.consume(O),V):n(O)}function F(O){return O===45&&a===2?(e.consume(O),dt):O===60&&a===1?(e.consume(O),Tt):O===62&&a===4?(e.consume(O),it):O===63&&a===3?(e.consume(O),x):O===93&&a===5?(e.consume(O),Ht):Lt(O)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(fU,yt,N)(O)):O===null||Lt(O)?(e.exit("htmlFlowData"),N(O)):(e.consume(O),F)}function N(O){return e.check(dU,vt,yt)(O)}function vt(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),Et}function Et(O){return O===null||Lt(O)?N(O):(e.enter("htmlFlowData"),F(O))}function dt(O){return O===45?(e.consume(O),x):F(O)}function Tt(O){return O===47?(e.consume(O),c="",wt):F(O)}function wt(O){if(O===62){const _t=c.toLowerCase();return dT.includes(_t)?(e.consume(O),it):F(O)}return Yr(O)&&c.length<8?(e.consume(O),c+=String.fromCharCode(O),wt):F(O)}function Ht(O){return O===93?(e.consume(O),x):F(O)}function x(O){return O===62?(e.consume(O),it):O===45&&a===2?(e.consume(O),x):F(O)}function it(O){return O===null||Lt(O)?(e.exit("htmlFlowData"),yt(O)):(e.consume(O),it)}function yt(O){return e.exit("htmlFlow"),t(O)}}function gU(e,t,n){const i=this;return a;function a(c){return Lt(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):n(c)}function l(c){return i.parser.lazy[i.now().line]?n(c):t(c)}}function yU(e,t,n){return i;function i(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Af,t,n)}}const _U={name:"htmlText",tokenize:vU};function vU(e,t,n){const i=this;let a,l,c;return f;function f(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),p}function p(x){return x===33?(e.consume(x),m):x===47?(e.consume(x),ft):x===63?(e.consume(x),et):Yr(x)?(e.consume(x),M):n(x)}function m(x){return x===45?(e.consume(x),_):x===91?(e.consume(x),l=0,U):Yr(x)?(e.consume(x),rt):n(x)}function _(x){return x===45?(e.consume(x),S):n(x)}function T(x){return x===null?n(x):x===45?(e.consume(x),R):Lt(x)?(c=T,Tt(x)):(e.consume(x),T)}function R(x){return x===45?(e.consume(x),S):T(x)}function S(x){return x===62?dt(x):x===45?R(x):T(x)}function U(x){const it="CDATA[";return x===it.charCodeAt(l++)?(e.consume(x),l===it.length?B:U):n(x)}function B(x){return x===null?n(x):x===93?(e.consume(x),q):Lt(x)?(c=B,Tt(x)):(e.consume(x),B)}function q(x){return x===93?(e.consume(x),K):B(x)}function K(x){return x===62?dt(x):x===93?(e.consume(x),K):B(x)}function rt(x){return x===null||x===62?dt(x):Lt(x)?(c=rt,Tt(x)):(e.consume(x),rt)}function et(x){return x===null?n(x):x===63?(e.consume(x),mt):Lt(x)?(c=et,Tt(x)):(e.consume(x),et)}function mt(x){return x===62?dt(x):et(x)}function ft(x){return Yr(x)?(e.consume(x),Z):n(x)}function Z(x){return x===45||Jn(x)?(e.consume(x),Z):z(x)}function z(x){return Lt(x)?(c=z,Tt(x)):ce(x)?(e.consume(x),z):dt(x)}function M(x){return x===45||Jn(x)?(e.consume(x),M):x===47||x===62||Vn(x)?D(x):n(x)}function D(x){return x===47?(e.consume(x),dt):x===58||x===95||Yr(x)?(e.consume(x),P):Lt(x)?(c=D,Tt(x)):ce(x)?(e.consume(x),D):dt(x)}function P(x){return x===45||x===46||x===58||x===95||Jn(x)?(e.consume(x),P):V(x)}function V(x){return x===61?(e.consume(x),F):Lt(x)?(c=V,Tt(x)):ce(x)?(e.consume(x),V):D(x)}function F(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),a=x,N):Lt(x)?(c=F,Tt(x)):ce(x)?(e.consume(x),F):(e.consume(x),vt)}function N(x){return x===a?(e.consume(x),a=void 0,Et):x===null?n(x):Lt(x)?(c=N,Tt(x)):(e.consume(x),N)}function vt(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===47||x===62||Vn(x)?D(x):(e.consume(x),vt)}function Et(x){return x===47||x===62||Vn(x)?D(x):n(x)}function dt(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}function Tt(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),wt}function wt(x){return ce(x)?Ee(e,Ht,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):Ht(x)}function Ht(x){return e.enter("htmlTextData"),c(x)}}const ty={name:"labelEnd",resolveAll:bU,resolveTo:SU,tokenize:AU},EU={tokenize:RU},TU={tokenize:xU},wU={tokenize:IU};function bU(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",t+=a}}return e.length!==n.length&&ri(e,0,e.length,n),e}function SU(e,t){let n=e.length,i=0,a,l,c,f;for(;n--;)if(a=e[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(c=n);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},_={type:"labelText",start:{...e[l+i+2][1].end},end:{...e[c-2][1].start}};return f=[["enter",p,t],["enter",m,t]],f=yr(f,e.slice(l+1,l+i+3)),f=yr(f,[["enter",_,t]]),f=yr(f,Jg(t.parser.constructs.insideSpan.null,e.slice(l+i+4,c-3),t)),f=yr(f,[["exit",_,t],e[c-2],e[c-1],["exit",m,t]]),f=yr(f,e.slice(c+1)),f=yr(f,[["exit",p,t]]),ri(e,l,e.length,f),e}function AU(e,t,n){const i=this;let a=i.events.length,l,c;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return f;function f(R){return l?l._inactive?T(R):(c=i.parser.defined.includes(No(i.sliceSerialize({start:l.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(R),e.exit("labelMarker"),e.exit("labelEnd"),p):n(R)}function p(R){return R===40?e.attempt(EU,_,c?_:T)(R):R===91?e.attempt(TU,_,c?m:T)(R):c?_(R):T(R)}function m(R){return e.attempt(wU,_,T)(R)}function _(R){return t(R)}function T(R){return l._balanced=!0,n(R)}}function RU(e,t,n){return i;function i(T){return e.enter("resource"),e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),a}function a(T){return Vn(T)?du(e,l)(T):l(T)}function l(T){return T===41?_(T):F1(e,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return Vn(T)?du(e,p)(T):_(T)}function f(T){return n(T)}function p(T){return T===34||T===39||T===40?q1(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):_(T)}function m(T){return Vn(T)?du(e,_)(T):_(T)}function _(T){return T===41?(e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),e.exit("resource"),t):n(T)}}function xU(e,t,n){const i=this;return a;function a(f){return j1.call(i,e,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(No(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function c(f){return n(f)}}function IU(e,t,n){return i;function i(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),a}function a(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const CU={name:"labelStartImage",resolveAll:ty.resolveAll,tokenize:kU};function kU(e,t,n){const i=this;return a;function a(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),c):n(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):t(f)}}const DU={name:"labelStartLink",resolveAll:ty.resolveAll,tokenize:NU};function NU(e,t,n){const i=this;return a;function a(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):t(c)}}const $p={name:"lineEnding",tokenize:OU};function OU(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Ee(e,t,"linePrefix")}}const Ih={name:"thematicBreak",tokenize:MU};function MU(e,t,n){let i=0,a;return l;function l(m){return e.enter("thematicBreak"),c(m)}function c(m){return a=m,f(m)}function f(m){return m===a?(e.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Lt(m))?(e.exit("thematicBreak"),t(m)):n(m)}function p(m){return m===a?(e.consume(m),i++,p):(e.exit("thematicBreakSequence"),ce(m)?Ee(e,f,"whitespace")(m):f(m))}}const On={continuation:{tokenize:VU},exit:zU,name:"list",tokenize:LU},UU={partial:!0,tokenize:FU},PU={partial:!0,tokenize:BU};function LU(e,t,n){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(S){const U=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(U==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:Um(S)){if(i.containerState.type||(i.containerState.type=U,e.enter(U,{_container:!0})),U==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(Ih,n,m)(S):m(S);if(!i.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return n(S)}function p(S){return Um(S)&&++c<10?(e.consume(S),p):(!i.interrupt||c<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),m(S)):n(S)}function m(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,e.check(Af,i.interrupt?n:_,e.attempt(UU,R,T))}function _(S){return i.containerState.initialBlankLine=!0,l++,R(S)}function T(S){return ce(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),R):n(S)}function R(S){return i.containerState.size=l+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function VU(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Af,a,l);function a(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ee(e,t,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ce(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(PU,t,c)(f))}function c(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ee(e,e.attempt(On,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function BU(e,t,n){const i=this;return Ee(e,a,"listItemIndent",i.containerState.size+1);function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?t(l):n(l)}}function zU(e){e.exit(this.containerState.type)}function FU(e,t,n){const i=this;return Ee(e,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=i.events[i.events.length-1];return!ce(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const pT={name:"setextUnderline",resolveTo:jU,tokenize:qU};function jU(e,t){let n=e.length,i,a,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",l?(e.splice(a,0,["enter",c,t]),e.splice(l+1,0,["exit",e[i][1],t]),e[i][1].end={...e[l][1].end}):e[i][1]=c,e.push(["exit",c,t]),e}function qU(e,t,n){const i=this;let a;return l;function l(m){let _=i.events.length,T;for(;_--;)if(i.events[_][1].type!=="lineEnding"&&i.events[_][1].type!=="linePrefix"&&i.events[_][1].type!=="content"){T=i.events[_][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||T)?(e.enter("setextHeadingLine"),a=m,c(m)):n(m)}function c(m){return e.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(e.consume(m),f):(e.exit("setextHeadingLineSequence"),ce(m)?Ee(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Lt(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const HU={tokenize:GU};function GU(e){const t=this,n=e.attempt(Af,i,e.attempt(this.parser.constructs.flowInitial,a,Ee(e,e.attempt(this.parser.constructs.flow,a,e.attempt($4,a)),"linePrefix")));return n;function i(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const KU={resolveAll:G1()},QU=H1("string"),YU=H1("text");function H1(e){return{resolveAll:G1(e==="text"?XU:void 0),tokenize:t};function t(n){const i=this,a=this.parser.constructs[e],l=n.attempt(a,c,f);return c;function c(_){return m(_)?l(_):f(_)}function f(_){if(_===null){n.consume(_);return}return n.enter("data"),n.consume(_),p}function p(_){return m(_)?(n.exit("data"),l(_)):(n.consume(_),p)}function m(_){if(_===null)return!0;const T=a[_];let R=-1;if(T)for(;++R<T.length;){const S=T[R];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function G1(e){return t;function t(n,i){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return e?e(n,i):n}}function XU(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],a=t.sliceStream(i);let l=a.length,c=-1,f=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(m===-2)p=!0,f++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const m={type:n===e.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const $U={42:On,43:On,45:On,48:On,49:On,50:On,51:On,52:On,53:On,54:On,55:On,56:On,57:On,62:L1},WU={91:eU},ZU={[-2]:Xp,[-1]:Xp,32:Xp},JU={35:oU,42:Ih,45:[pT,Ih],60:hU,61:pT,95:Ih,96:fT,126:fT},tP={38:B1,92:V1},eP={[-5]:$p,[-4]:$p,[-3]:$p,33:CU,38:B1,42:Pm,60:[D4,_U],91:DU,92:[sU,V1],93:ty,95:Pm,96:H4},nP={null:[Pm,KU]},rP={null:[42,95]},iP={null:[]},sP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rP,contentInitial:WU,disable:iP,document:$U,flow:JU,flowInitial:ZU,insideSpan:nP,string:tP,text:eP},Symbol.toStringTag,{value:"Module"}));function aP(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:z(ft),check:z(Z),consume:rt,enter:et,exit:mt,interrupt:z(Z,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:U,parser:e,previous:null,sliceSerialize:R,sliceStream:S,write:T};let _=t.tokenize.call(m,p);return t.resolveAll&&l.push(t),m;function T(V){return c=yr(c,V),q(),c[c.length-1]!==null?[]:(M(t,0),m.events=Jg(l,m.events,m),m.events)}function R(V,F){return lP(S(V),F)}function S(V){return oP(c,V)}function U(){const{_bufferIndex:V,_index:F,line:N,column:vt,offset:Et}=i;return{_bufferIndex:V,_index:F,line:N,column:vt,offset:Et}}function B(V){a[V.line]=V.column,P()}function q(){let V;for(;i._index<c.length;){const F=c[i._index];if(typeof F=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<F.length;)K(F.charCodeAt(i._bufferIndex));else K(F)}}function K(V){_=_(V)}function rt(V){Lt(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,P()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=V}function et(V,F){const N=F||{};return N.type=V,N.start=U(),m.events.push(["enter",N,m]),f.push(N),N}function mt(V){const F=f.pop();return F.end=U(),m.events.push(["exit",F,m]),F}function ft(V,F){M(V,F.from)}function Z(V,F){F.restore()}function z(V,F){return N;function N(vt,Et,dt){let Tt,wt,Ht,x;return Array.isArray(vt)?yt(vt):"tokenize"in vt?yt([vt]):it(vt);function it(Rt){return de;function de(Ut){const ae=Ut!==null&&Rt[Ut],Qt=Ut!==null&&Rt.null,Ie=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return yt(Ie)(Ut)}}function yt(Rt){return Tt=Rt,wt=0,Rt.length===0?dt:O(Rt[wt])}function O(Rt){return de;function de(Ut){return x=D(),Ht=Rt,Rt.partial||(m.currentConstruct=Rt),Rt.name&&m.parser.constructs.disable.null.includes(Rt.name)?Nt():Rt.tokenize.call(F?Object.assign(Object.create(m),F):m,p,_t,Nt)(Ut)}}function _t(Rt){return V(Ht,x),Et}function Nt(Rt){return x.restore(),++wt<Tt.length?O(Tt[wt]):dt}}}function M(V,F){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&ri(m.events,F,m.events.length-F,V.resolve(m.events.slice(F),m)),V.resolveTo&&(m.events=V.resolveTo(m.events,m))}function D(){const V=U(),F=m.previous,N=m.currentConstruct,vt=m.events.length,Et=Array.from(f);return{from:vt,restore:dt};function dt(){i=V,m.previous=F,m.currentConstruct=N,m.events.length=vt,f=Et,P()}}function P(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function oP(e,t){const n=t.start._index,i=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let c;if(n===a)c=[e[n].slice(i,l)];else{if(c=e.slice(n,a),i>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(i):c.shift()}l>0&&c.push(e[a].slice(0,l))}return c}function lP(e,t){let n=-1;const i=[];let a;for(;++n<e.length;){const l=e[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,i.push(c)}return i.join("")}function uP(e){const i={constructs:g4([sP,...(e||{}).extensions||[]]),content:a(S4),defined:[],document:a(R4),flow:a(HU),lazy:{},string:a(QU),text:a(YU)};return i;function a(l){return c;function c(f){return aP(i,l,f)}}}function cP(e){for(;!z1(e););return e}const mT=/[\0\t\n\r]/g;function hP(){let e=1,t="",n=!0,i;return a;function a(l,c,f){const p=[];let m,_,T,R,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),T=0,t="",n&&(l.charCodeAt(0)===65279&&T++,n=void 0);T<l.length;){if(mT.lastIndex=T,m=mT.exec(l),R=m&&m.index!==void 0?m.index:l.length,S=l.charCodeAt(R),!m){t=l.slice(T);break}if(S===10&&T===R&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),T<R&&(p.push(l.slice(T,R)),e+=R-T),S){case 0:{p.push(65533),e++;break}case 9:{for(_=Math.ceil(e/4)*4,p.push(-2);e++<_;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:i=!0,e=1}T=R+1}return f&&(i&&p.push(-5),t&&p.push(t),p.push(null)),p}}const fP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dP(e){return e.replace(fP,pP)}function pP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return P1(n.slice(l?2:1),l?16:10)}return Zg(n)||e}const K1={}.hasOwnProperty;function mP(e,t,n){return typeof t!="string"&&(n=t,t=void 0),gP(n)(cP(uP(n).document().write(hP()(e,t,!0))))}function gP(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Er),autolinkProtocol:D,autolinkEmail:D,atxHeading:l(zn),blockQuote:l(Qt),characterEscape:D,characterReference:D,codeFenced:l(Ie),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ie,c),codeText:l(Cn,c),codeTextData:D,data:D,codeFlowValue:D,definition:l(Oe),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(tr,c),htmlFlowData:D,htmlText:l(tr,c),htmlTextData:D,image:l(Cr),label:c,link:l(Er),listItem:l(jn),listItemValue:R,listOrdered:l(Fn,T),listUnordered:l(Fn),paragraph:l(pn),reference:O,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(zn),strong:l(Tr),thematicBreak:l(wn)},exit:{atxHeading:p(),atxHeadingSequence:ft,autolink:p(),autolinkEmail:ae,autolinkProtocol:Ut,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Nt,characterReferenceMarkerNumeric:Nt,characterReferenceValue:Rt,characterReference:de,codeFenced:p(q),codeFencedFence:B,codeFencedFenceInfo:S,codeFencedFenceMeta:U,codeFlowValue:P,codeIndented:p(K),codeText:p(Et),codeTextData:P,data:P,definition:p(),definitionDestinationString:mt,definitionLabelString:rt,definitionTitleString:et,emphasis:p(),hardBreakEscape:p(F),hardBreakTrailing:p(F),htmlFlow:p(N),htmlFlowData:P,htmlText:p(vt),htmlTextData:P,image:p(Tt),label:Ht,labelText:wt,lineEnding:V,link:p(dt),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:_t,resourceDestinationString:x,resourceTitleString:it,resource:yt,setextHeading:p(M),setextHeadingLineSequence:z,setextHeadingText:Z,strong:p(),thematicBreak:p()}};Q1(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(J){let A={type:"root",children:[]};const y={stack:[A],tokenStack:[],config:t,enter:f,exit:m,buffer:c,resume:_,data:n},E=[];let k=-1;for(;++k<J.length;)if(J[k][1].type==="listOrdered"||J[k][1].type==="listUnordered")if(J[k][0]==="enter")E.push(k);else{const j=E.pop();k=a(J,j,k)}for(k=-1;++k<J.length;){const j=t[J[k][0]];K1.call(j,J[k][1].type)&&j[J[k][1].type].call(Object.assign({sliceSerialize:J[k][2].sliceSerialize},y),J[k][1])}if(y.tokenStack.length>0){const j=y.tokenStack[y.tokenStack.length-1];(j[1]||gT).call(y,void 0,j[0])}for(A.position={start:Es(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Es(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},k=-1;++k<t.transforms.length;)A=t.transforms[k](A)||A;return A}function a(J,A,y){let E=A-1,k=-1,j=!1,$,nt,xt,ee;for(;++E<=y;){const Mt=J[E];switch(Mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mt[0]==="enter"?k++:k--,ee=void 0;break}case"lineEndingBlank":{Mt[0]==="enter"&&($&&!ee&&!k&&!xt&&(xt=E),ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ee=void 0}if(!k&&Mt[0]==="enter"&&Mt[1].type==="listItemPrefix"||k===-1&&Mt[0]==="exit"&&(Mt[1].type==="listUnordered"||Mt[1].type==="listOrdered")){if($){let Bt=E;for(nt=void 0;Bt--;){const qt=J[Bt];if(qt[1].type==="lineEnding"||qt[1].type==="lineEndingBlank"){if(qt[0]==="exit")continue;nt&&(J[nt][1].type="lineEndingBlank",j=!0),qt[1].type="lineEnding",nt=Bt}else if(!(qt[1].type==="linePrefix"||qt[1].type==="blockQuotePrefix"||qt[1].type==="blockQuotePrefixWhitespace"||qt[1].type==="blockQuoteMarker"||qt[1].type==="listItemIndent"))break}xt&&(!nt||xt<nt)&&($._spread=!0),$.end=Object.assign({},nt?J[nt][1].start:Mt[1].end),J.splice(nt||E,0,["exit",$,Mt[2]]),E++,y++}if(Mt[1].type==="listItemPrefix"){const Bt={type:"listItem",_spread:!1,start:Object.assign({},Mt[1].start),end:void 0};$=Bt,J.splice(E,0,["enter",Bt,Mt[2]]),E++,y++,xt=void 0,ee=!0}}}return J[A][1]._spread=j,y}function l(J,A){return y;function y(E){f.call(this,J(E),E),A&&A.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(J,A,y){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([A,y||void 0]),J.position={start:Es(A.start),end:void 0}}function p(J){return A;function A(y){J&&J.call(this,y),m.call(this,y)}}function m(J,A){const y=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==J.type&&(A?A.call(this,J,E[0]):(E[1]||gT).call(this,J,E[0]));else throw new Error("Cannot close `"+J.type+"` ("+fu({start:J.start,end:J.end})+"): its not open");y.position.end=Es(J.end)}function _(){return p4(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function R(J){if(this.data.expectingFirstListItemValue){const A=this.stack[this.stack.length-2];A.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function S(){const J=this.resume(),A=this.stack[this.stack.length-1];A.lang=J}function U(){const J=this.resume(),A=this.stack[this.stack.length-1];A.meta=J}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function q(){const J=this.resume(),A=this.stack[this.stack.length-1];A.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function K(){const J=this.resume(),A=this.stack[this.stack.length-1];A.value=J.replace(/(\r?\n|\r)$/g,"")}function rt(J){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=No(this.sliceSerialize(J)).toLowerCase()}function et(){const J=this.resume(),A=this.stack[this.stack.length-1];A.title=J}function mt(){const J=this.resume(),A=this.stack[this.stack.length-1];A.url=J}function ft(J){const A=this.stack[this.stack.length-1];if(!A.depth){const y=this.sliceSerialize(J).length;A.depth=y}}function Z(){this.data.setextHeadingSlurpLineEnding=!0}function z(J){const A=this.stack[this.stack.length-1];A.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function D(J){const y=this.stack[this.stack.length-1].children;let E=y[y.length-1];(!E||E.type!=="text")&&(E=We(),E.position={start:Es(J.start),end:void 0},y.push(E)),this.stack.push(E)}function P(J){const A=this.stack.pop();A.value+=this.sliceSerialize(J),A.position.end=Es(J.end)}function V(J){const A=this.stack[this.stack.length-1];if(this.data.atHardBreak){const y=A.children[A.children.length-1];y.position.end=Es(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(A.type)&&(D.call(this,J),P.call(this,J))}function F(){this.data.atHardBreak=!0}function N(){const J=this.resume(),A=this.stack[this.stack.length-1];A.value=J}function vt(){const J=this.resume(),A=this.stack[this.stack.length-1];A.value=J}function Et(){const J=this.resume(),A=this.stack[this.stack.length-1];A.value=J}function dt(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=A,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function Tt(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=A,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function wt(J){const A=this.sliceSerialize(J),y=this.stack[this.stack.length-2];y.label=dP(A),y.identifier=No(A).toLowerCase()}function Ht(){const J=this.stack[this.stack.length-1],A=this.resume(),y=this.stack[this.stack.length-1];if(this.data.inReference=!0,y.type==="link"){const E=J.children;y.children=E}else y.alt=A}function x(){const J=this.resume(),A=this.stack[this.stack.length-1];A.url=J}function it(){const J=this.resume(),A=this.stack[this.stack.length-1];A.title=J}function yt(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function _t(J){const A=this.resume(),y=this.stack[this.stack.length-1];y.label=A,y.identifier=No(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function Nt(J){this.data.characterReferenceType=J.type}function Rt(J){const A=this.sliceSerialize(J),y=this.data.characterReferenceType;let E;y?(E=P1(A,y==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=Zg(A);const k=this.stack[this.stack.length-1];k.value+=E}function de(J){const A=this.stack.pop();A.position.end=Es(J.end)}function Ut(J){P.call(this,J);const A=this.stack[this.stack.length-1];A.url=this.sliceSerialize(J)}function ae(J){P.call(this,J);const A=this.stack[this.stack.length-1];A.url="mailto:"+this.sliceSerialize(J)}function Qt(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function zn(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function tr(){return{type:"html",value:""}}function Cr(){return{type:"image",title:null,url:"",alt:null}}function Er(){return{type:"link",title:null,url:"",children:[]}}function Fn(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function jn(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function Tr(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function wn(){return{type:"thematicBreak"}}}function Es(e){return{line:e.line,column:e.column,offset:e.offset}}function Q1(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Q1(e,i):yP(e,i)}}function yP(e,t){let n;for(n in t)if(K1.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function gT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fu({start:t.start,end:t.end})+") is still open")}function _P(e){const t=this;t.parser=n;function n(i){return mP(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function vP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function EP(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function TP(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function wP(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bP(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SP(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=Xo(i.toLowerCase()),l=e.footnoteOrder.indexOf(i);let c,f=e.footnoteCounts.get(i);f===void 0?(f=0,e.footnoteOrder.push(i),c=e.footnoteOrder.length):c=l+1,f+=1,e.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,m),e.applyData(t,m)}function AP(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RP(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Y1(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const a=e.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=i:a.push({type:"text",value:i}),a}function xP(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Y1(e,t);const a={src:Xo(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,l),e.applyData(t,l)}function IP(e,t){const n={src:Xo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function CP(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function kP(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Y1(e,t);const a={href:Xo(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function DP(e,t){const n={href:Xo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function NP(e,t,n){const i=e.all(t),a=n?OP(n):X1(t),l={},c=[];if(typeof t.checked=="boolean"){const _=i[0];let T;_&&_.type==="element"&&_.tagName==="p"?T=_:(T={type:"element",tagName:"p",properties:{},children:[]},i.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const _=i[f];(a||f!==0||_.type!=="element"||_.tagName!=="p")&&c.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!a?c.push(..._.children):c.push(_)}const p=i[i.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,m),e.applyData(t,m)}function OP(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=X1(n[i])}return t}function X1(e){const t=e.spread;return t??e.children.length>1}function MP(e,t){const n={},i=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<i.length;){const c=i[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,l),e.applyData(t,l)}function UP(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PP(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function LP(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VP(e,t){const n=e.all(t),i=n.shift(),a=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Yg(t.children[1]),p=C1(t.children[t.children.length-1]);f&&p&&(c.position={start:f,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function BP(e,t,n){const i=n?n.children:void 0,l=(i?i.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,f=c?c.length:t.children.length;let p=-1;const m=[];for(;++p<f;){const T=t.children[p],R={},S=c?c[p]:void 0;S&&(R.align=S);let U={type:"element",tagName:l,properties:R,children:[]};T&&(U.children=e.all(T),e.patch(T,U),U=e.applyData(T,U)),m.push(U)}const _={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,_),e.applyData(t,_)}function zP(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const yT=9,_T=32;function FP(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),a=0;const l=[];for(;i;)l.push(vT(t.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(t);return l.push(vT(t.slice(a),a>0,!1)),l.join("")}function vT(e,t,n){let i=0,a=e.length;if(t){let l=e.codePointAt(i);for(;l===yT||l===_T;)i++,l=e.codePointAt(i)}if(n){let l=e.codePointAt(a-1);for(;l===yT||l===_T;)a--,l=e.codePointAt(a-1)}return a>i?e.slice(i,a):""}function jP(e,t){const n={type:"text",value:FP(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function qP(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const HP={blockquote:vP,break:EP,code:TP,delete:wP,emphasis:bP,footnoteReference:SP,heading:AP,html:RP,imageReference:xP,image:IP,inlineCode:CP,linkReference:kP,link:DP,listItem:NP,list:MP,paragraph:UP,root:PP,strong:LP,table:VP,tableCell:zP,tableRow:BP,text:jP,thematicBreak:qP,toml:mh,yaml:mh,definition:mh,footnoteDefinition:mh};function mh(){}const $1=-1,Rf=0,pu=1,Wh=2,ey=3,ny=4,ry=5,iy=6,W1=7,Z1=8,ET=typeof self=="object"?self:globalThis,GP=(e,t)=>{const n=(a,l)=>(e.set(l,a),a),i=a=>{if(e.has(a))return e.get(a);const[l,c]=t[a];switch(l){case Rf:case $1:return n(c,a);case pu:{const f=n([],a);for(const p of c)f.push(i(p));return f}case Wh:{const f=n({},a);for(const[p,m]of c)f[i(p)]=i(m);return f}case ey:return n(new Date(c),a);case ny:{const{source:f,flags:p}=c;return n(new RegExp(f,p),a)}case ry:{const f=n(new Map,a);for(const[p,m]of c)f.set(i(p),i(m));return f}case iy:{const f=n(new Set,a);for(const p of c)f.add(i(p));return f}case W1:{const{name:f,message:p}=c;return n(new ET[f](p),a)}case Z1:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return n(new DataView(f),c)}}return n(new ET[l](c),a)};return i},TT=e=>GP(new Map,e)(0),To="",{toString:KP}={},{keys:QP}=Object,eu=e=>{const t=typeof e;if(t!=="object"||!e)return[Rf,t];const n=KP.call(e).slice(8,-1);switch(n){case"Array":return[pu,To];case"Object":return[Wh,To];case"Date":return[ey,To];case"RegExp":return[ny,To];case"Map":return[ry,To];case"Set":return[iy,To];case"DataView":return[pu,n]}return n.includes("Array")?[pu,n]:n.includes("Error")?[W1,n]:[Wh,n]},gh=([e,t])=>e===Rf&&(t==="function"||t==="symbol"),YP=(e,t,n,i)=>{const a=(c,f)=>{const p=i.push(c)-1;return n.set(f,p),p},l=c=>{if(n.has(c))return n.get(c);let[f,p]=eu(c);switch(f){case Rf:{let _=c;switch(p){case"bigint":f=Z1,_=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);_=null;break;case"undefined":return a([$1],c)}return a([f,_],c)}case pu:{if(p){let R=c;return p==="DataView"?R=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(R=new Uint8Array(c)),a([p,[...R]],c)}const _=[],T=a([f,_],c);for(const R of c)_.push(l(R));return T}case Wh:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const _=[],T=a([f,_],c);for(const R of QP(c))(e||!gh(eu(c[R])))&&_.push([l(R),l(c[R])]);return T}case ey:return a([f,c.toISOString()],c);case ny:{const{source:_,flags:T}=c;return a([f,{source:_,flags:T}],c)}case ry:{const _=[],T=a([f,_],c);for(const[R,S]of c)(e||!(gh(eu(R))||gh(eu(S))))&&_.push([l(R),l(S)]);return T}case iy:{const _=[],T=a([f,_],c);for(const R of c)(e||!gh(eu(R)))&&_.push(l(R));return T}}const{message:m}=c;return a([f,{name:p,message:m}],c)};return l},wT=(e,{json:t,lossy:n}={})=>{const i=[];return YP(!(t||n),!!t,new Map,i)(e),i},Zh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?TT(wT(e,t)):structuredClone(e):(e,t)=>TT(wT(e,t));function XP(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $P(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function WP(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||XP,i=e.options.footnoteBackLabel||$P,a=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const _=e.all(m),T=String(m.identifier).toUpperCase(),R=Xo(T.toLowerCase());let S=0;const U=[],B=e.footnoteCounts.get(T);for(;B!==void 0&&++S<=B;){U.length>0&&U.push({type:"text",value:" "});let rt=typeof n=="string"?n:n(p,S);typeof rt=="string"&&(rt={type:"text",value:rt}),U.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+R+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,S),className:["data-footnote-backref"]},children:Array.isArray(rt)?rt:[rt]})}const q=_[_.length-1];if(q&&q.type==="element"&&q.tagName==="p"){const rt=q.children[q.children.length-1];rt&&rt.type==="text"?rt.value+=" ":q.children.push({type:"text",value:" "}),q.children.push(...U)}else _.push(...U);const K={type:"element",tagName:"li",properties:{id:t+"fn-"+R},children:e.wrap(_,!0)};e.patch(m,K),f.push(K)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Zh(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const J1=function(e){if(e==null)return eL;if(typeof e=="function")return xf(e);if(typeof e=="object")return Array.isArray(e)?ZP(e):JP(e);if(typeof e=="string")return tL(e);throw new Error("Expected function, string, or object as test")};function ZP(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=J1(e[n]);return xf(i);function i(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function JP(e){const t=e;return xf(n);function n(i){const a=i;let l;for(l in e)if(a[l]!==t[l])return!1;return!0}}function tL(e){return xf(t);function t(n){return n&&n.type===e}}function xf(e){return t;function t(n,i,a){return!!(nL(n)&&e.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function eL(){return!0}function nL(e){return e!==null&&typeof e=="object"&&"type"in e}const tS=[],rL=!0,bT=!1,iL="skip";function sL(e,t,n,i){let a;typeof t=="function"&&typeof n!="function"?(i=n,n=t):a=t;const l=J1(a),c=i?-1:1;f(e,void 0,[])();function f(p,m,_){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const S=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(R,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return R;function R(){let S=tS,U,B,q;if((!t||l(p,m,_[_.length-1]||void 0))&&(S=aL(n(p,_)),S[0]===bT))return S;if("children"in p&&p.children){const K=p;if(K.children&&S[0]!==iL)for(B=(i?K.children.length:-1)+c,q=_.concat(K);B>-1&&B<K.children.length;){const rt=K.children[B];if(U=f(rt,B,q)(),U[0]===bT)return U;B=typeof U[1]=="number"?U[1]:B+c}}return S}}}function aL(e){return Array.isArray(e)?e:typeof e=="number"?[rL,e]:e==null?tS:[e]}function eS(e,t,n,i){let a,l,c;typeof t=="function"?(l=void 0,c=t,a=n):(l=t,c=n,a=i),sL(e,l,f,a);function f(p,m){const _=m[m.length-1],T=_?_.children.indexOf(p):void 0;return c(p,T,_)}}const Lm={}.hasOwnProperty,oL={};function lL(e,t){const n=t||oL,i=new Map,a=new Map,l=new Map,c={...HP,...n.handlers},f={all:m,applyData:cL,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:uL,wrap:fL};return eS(e,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const T=_.type==="definition"?i:a,R=String(_.identifier).toUpperCase();T.has(R)||T.set(R,_)}}),f;function p(_,T){const R=_.type,S=f.handlers[R];if(Lm.call(f.handlers,R)&&S)return S(f,_,T);if(f.options.passThrough&&f.options.passThrough.includes(R)){if("children"in _){const{children:B,...q}=_,K=Zh(q);return K.children=f.all(_),K}return Zh(_)}return(f.options.unknownHandler||hL)(f,_,T)}function m(_){const T=[];if("children"in _){const R=_.children;let S=-1;for(;++S<R.length;){const U=f.one(R[S],_);if(U){if(S&&R[S-1].type==="break"&&(!Array.isArray(U)&&U.type==="text"&&(U.value=ST(U.value)),!Array.isArray(U)&&U.type==="element")){const B=U.children[0];B&&B.type==="text"&&(B.value=ST(B.value))}Array.isArray(U)?T.push(...U):T.push(U)}}}return T}}function uL(e,t){e.position&&(t.position=HM(e))}function cL(e,t){let n=t;if(e&&e.data){const i=e.data.hName,a=e.data.hChildren,l=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,Zh(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function hL(e,t){const n=t.data||{},i="value"in t&&!(Lm.call(n,"hProperties")||Lm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function fL(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ST(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function AT(e,t){const n=lL(e,t),i=n.one(e,void 0),a=WP(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function dL(e,t){return e&&"run"in e?async function(n,i){const a=AT(n,{file:i,...t});await e.run(a,i)}:function(n,i){return AT(n,{file:i,...e||t})}}function RT(e){if(e)throw e}var Wp,xT;function pL(){if(xT)return Wp;xT=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var _=e.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!_&&!T)return!1;var R;for(R in m);return typeof R>"u"||e.call(m,R)},c=function(m,_){n&&_.name==="__proto__"?n(m,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):m[_.name]=_.newValue},f=function(m,_){if(_==="__proto__")if(e.call(m,_)){if(i)return i(m,_).value}else return;return m[_]};return Wp=function p(){var m,_,T,R,S,U,B=arguments[0],q=1,K=arguments.length,rt=!1;for(typeof B=="boolean"&&(rt=B,B=arguments[1]||{},q=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});q<K;++q)if(m=arguments[q],m!=null)for(_ in m)T=f(B,_),R=f(m,_),B!==R&&(rt&&R&&(l(R)||(S=a(R)))?(S?(S=!1,U=T&&a(T)?T:[]):U=T&&l(T)?T:{},c(B,{name:_,newValue:p(rt,U,R)})):typeof R<"u"&&c(B,{name:_,newValue:R}));return B},Wp}var mL=pL();const Zp=Su(mL);function Vm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gL(){const e=[],t={run:n,use:i};return t;function n(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...m){const _=e[++l];let T=-1;if(p){c(p);return}for(;++T<a.length;)(m[T]===null||m[T]===void 0)&&(m[T]=a[T]);a=m,_?yL(_,f)(...m):c(null,...m)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function yL(e,t){let n;return i;function i(...c){const f=e.length>c.length;let p;f&&c.push(a);try{p=e.apply(this,c)}catch(m){const _=m;if(f&&n)throw _;return a(_)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){n||(n=!0,t(c,...f))}function l(c){a(null,c)}}const Gr={basename:_L,dirname:vL,extname:EL,join:TL,sep:"/"};function _L(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zu(e);let n=0,i=-1,a=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let c=-1,f=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(e.codePointAt(a)===t.codePointAt(f--)?f<0&&(i=a):(f=-1,i=c));return n===i?i=c:i<0&&(i=e.length),e.slice(n,i)}function vL(e){if(zu(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function EL(e){zu(e);let t=e.length,n=-1,i=0,a=-1,l=0,c;for(;t--;){const f=e.codePointAt(t);if(f===47){if(c){i=t+1;break}continue}n<0&&(c=!0,n=t+1),f===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===i+1?"":e.slice(a,n)}function TL(...e){let t=-1,n;for(;++t<e.length;)zu(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wL(n)}function wL(e){zu(e);const t=e.codePointAt(0)===47;let n=bL(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function bL(e,t){let n="",i=0,a=-1,l=0,c=-1,f,p;for(;++c<=e.length;){if(c<e.length)f=e.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),a=c,l=0;continue}}else if(n.length>0){n="",i=0,a=c,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(a+1,c):n=e.slice(a+1,c),i=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return n}function zu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const SL={cwd:AL};function AL(){return"/"}function Bm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function RL(e){if(typeof e=="string")e=new URL(e);else if(!Bm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xL(e)}function xL(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Jp=["history","path","basename","stem","extname","dirname"];class nS{constructor(t){let n;t?Bm(t)?n={path:t}:typeof t=="string"||IL(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":SL.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Jp.length;){const l=Jp[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)Jp.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Gr.basename(this.path):void 0}set basename(t){em(t,"basename"),tm(t,"basename"),this.path=Gr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gr.dirname(this.path):void 0}set dirname(t){IT(this.basename,"dirname"),this.path=Gr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gr.extname(this.path):void 0}set extname(t){if(tm(t,"extname"),IT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Bm(t)&&(t=RL(t)),em(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gr.basename(this.path,this.extname):void 0}set stem(t){em(t,"stem"),tm(t,"stem"),this.path=Gr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const a=this.message(t,n,i);throw a.fatal=!0,a}info(t,n,i){const a=this.message(t,n,i);return a.fatal=void 0,a}message(t,n,i){const a=new Tn(t,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function tm(e,t){if(e&&e.includes(Gr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gr.sep+"`")}function em(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function IT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function IL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CL=function(e){const i=this.constructor.prototype,a=i[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},kL={}.hasOwnProperty;class sy extends CL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=gL()}copy(){const t=new sy;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Zp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(im("data",this.frozen),this.namespace[t]=n,this):kL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(im("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(t,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yh(t),i=this.parser||this.Parser;return nm("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),nm("process",this.parser||this.Parser),rm("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,c){const f=yh(t),p=i.parse(f);i.run(p,f,function(_,T,R){if(_||!T||!R)return m(_);const S=T,U=i.stringify(S,R);OL(U)?R.value=U:R.result=U,m(_,R)});function m(_,T){_||!T?c(_):l?l(T):n(void 0,T)}}}processSync(t){let n=!1,i;return this.freeze(),nm("processSync",this.parser||this.Parser),rm("processSync",this.compiler||this.Compiler),this.process(t,a),kT("processSync","process",n),i;function a(l,c){n=!0,RT(l),i=c}}run(t,n,i){CT(t),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(c,f){const p=yh(n);a.run(t,p,m);function m(_,T,R){const S=T||t;_?f(_):c?c(S):i(void 0,S,R)}}}runSync(t,n){let i=!1,a;return this.run(t,n,l),kT("runSync","run",i),a;function l(c,f){RT(c),a=f,i=!0}}stringify(t,n){this.freeze();const i=yh(n),a=this.compiler||this.Compiler;return rm("stringify",a),CT(t),a(t,i)}use(t,...n){const i=this.attachers,a=this.namespace;if(im("use",this.frozen),t!=null)if(typeof t=="function")p(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[_,...T]=m;p(_,T)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=Zp(!0,a.settings,m.settings))}function f(m){let _=-1;if(m!=null)if(Array.isArray(m))for(;++_<m.length;){const T=m[_];l(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,_){let T=-1,R=-1;for(;++T<i.length;)if(i[T][0]===m){R=T;break}if(R===-1)i.push([m,..._]);else if(_.length>0){let[S,...U]=_;const B=i[R][1];Vm(B)&&Vm(S)&&(S=Zp(!0,B,S)),i[R]=[m,S,...U]}}}}const DL=new sy().freeze();function nm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function rm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function im(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CT(e){if(!Vm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function kT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yh(e){return NL(e)?e:new nS(e)}function NL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function OL(e){return typeof e=="string"||ML(e)}function ML(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const UL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",DT=[],NT={allowDangerousHtml:!0},PL=/^(https?|ircs?|mailto|xmpp)$/i,LL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function VL(e){const t=BL(e),n=zL(e);return FL(t.runSync(t.parse(n),n),e)}function BL(e){const t=e.rehypePlugins||DT,n=e.remarkPlugins||DT,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...NT}:NT;return DL().use(_P).use(n).use(dL,i).use(t)}function zL(e){const t=e.children||"",n=new nS;return typeof t=="string"&&(n.value=t),n}function FL(e,t){const n=t.allowedElements,i=t.allowElement,a=t.components,l=t.disallowedElements,c=t.skipHtml,f=t.unwrapDisallowed,p=t.urlTransform||jL;for(const _ of LL)Object.hasOwn(t,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+UL+_.id,void 0);return eS(e,m),$M(e,{Fragment:ot.Fragment,components:a,ignoreInvalidStyle:!0,jsx:ot.jsx,jsxs:ot.jsxs,passKeys:!0,passNode:!0});function m(_,T,R){if(_.type==="raw"&&R&&typeof T=="number")return c?R.children.splice(T,1):R.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let S;for(S in Yp)if(Object.hasOwn(Yp,S)&&Object.hasOwn(_.properties,S)){const U=_.properties[S],B=Yp[S];(B===null||B.includes(_.tagName))&&(_.properties[S]=p(String(U||""),S,_))}}if(_.type==="element"){let S=n?!n.includes(_.tagName):l?l.includes(_.tagName):!1;if(!S&&i&&typeof T=="number"&&(S=!i(_,T,R)),S&&R&&typeof T=="number")return f&&_.children?R.children.splice(T,1,..._.children):R.children.splice(T,1),T}}}function jL(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||i!==-1&&t>i||PL.test(e.slice(0,t))?e:""}const qL=({enemy:e,onClose:t})=>{const[n,i]=St.useState(e.name),[a,l]=St.useState(e.customDescription),[c,f]=St.useState(e.tags||[]),[p,m]=St.useState(e.customTags||[]),[_,T]=St.useState(e.imageURL||""),[R,S]=St.useState(e.imageURL2||""),U=St.useRef(!0),B=St.useCallback(async()=>{const q=Nu(Qo,"eotv-enemies",e.id);await Mk(q,{name:n,customDescription:a,tags:c,customTags:p,imageURL:_,imageURL2:R})},[e.id,n,a,c,p,_,R]);return St.useEffect(()=>{if(U.current){U.current=!1;return}const q=setTimeout(()=>{B()},800);return()=>clearTimeout(q)},[n,a,c,p,_,R,B]),ot.jsxs("div",{className:"relative bg-gray-900 rounded-2xl w-full flex shadow-lg h-full max-w-7xl overflow-hidden",children:[ot.jsx($h,{imageURL:_,setImageURL:T,ownerUid:e.authorUid}),ot.jsx(E1,{name:n,setName:i,customDescription:a,setCustomDescription:l,selectedTags:c,setSelectedTags:f,customTags:p,setCustomTags:m}),ot.jsx($h,{imageURL:R,setImageURL:S,ownerUid:e.authorUid}),ot.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:ot.jsx(Gg,{className:"w-6 h-6"})})]})},HL=({enemy:e,author:t,onPrev:n,onNext:i,close:a,onDelete:l})=>{const c=Vu(),f=St.useRef(null),[p,m]=St.useState(!1),_=T=>{f.current===T.target&&(a(),m(!1))};return ot.jsx("div",{ref:f,onClick:_,className:"text-white shadow-lg cursor-pointer  overflow-hidden fixed z-50 inset-0 p-5 bg-black flex justify-center items-center",children:p?ot.jsx(qL,{enemy:e,onClose:()=>m(!1)}):ot.jsx(ot.Fragment,{children:ot.jsxs("div",{className:"relative bg-gray-900 rounded-2xl w-full flex shadow-lg h-full max-w-7xl overflow-hidden",children:[ot.jsx("img",{src:e.imageURL,alt:e.name,className:"w-3/14 object-cover"}),ot.jsxs("div",{className:"w-4/7 flex flex-col px-6 overflow-y-auto",children:[ot.jsx("h2",{className:"text-2xl font-bold text-center p-6 pt-10",children:e.name}),ot.jsx(VL,{components:{p:({node:T,...R})=>ot.jsx("p",{className:"text-gray-300 text-sm mt-2",...R}),strong:({node:T,...R})=>ot.jsx("strong",{className:"text-white font-bold",...R}),em:({node:T,...R})=>ot.jsx("em",{className:"italic text-gray-400",...R}),ul:({node:T,...R})=>ot.jsx("ul",{className:"list-disc list-inside text-gray-300 mt-2",...R}),li:({node:T,...R})=>ot.jsx("li",{className:"ml-4",...R})},children:e.customDescription})]}),e.imageURL2&&ot.jsx("img",{src:e.imageURL2,alt:"Extra",className:"w-3/14 object-cover"}),ot.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:ot.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((T,R)=>ot.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:T},R))})}),ot.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[ot.jsx("span",{className:"text-sm",children:(t==null?void 0:t.displayName)||"Unknown"}),ot.jsx("img",{src:t==null?void 0:t.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-500"})]}),ot.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer drop-shadow-xl",children:ot.jsx(Gg,{className:"w-6 h-6"})}),c&&c.uid===e.authorUid&&ot.jsxs("div",{className:"absolute top-2 right-10 flex gap-2",children:[ot.jsx("button",{onClick:()=>m(!0),className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:ot.jsx(fM,{className:"w-6 h-6"})}),ot.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:ot.jsx(gM,{className:"w-6 h-6"})})]}),ot.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:n,children:ot.jsx(lM,{className:"w-5 h-5 text-white"})}),ot.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:i,children:ot.jsx(cM,{className:"w-5 h-5 text-white"})})]})})},e.id)},GL=vg(Qo,"users"),KL=()=>{const e=Vu();St.useEffect(()=>{if(!e)return;const i=Nu(GL,e.uid);Ok(i,{displayName:e.displayName||"Unknown",photoURL:e.photoURL||""},{merge:!0})},[e]);const t=async()=>{const i=new Qr;await lO(km,i)},n=async()=>{await jN(km)};return ot.jsx("div",{className:"flex items-center gap-4",children:e?ot.jsxs(ot.Fragment,{children:[ot.jsx("img",{src:e.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",className:"w-10 h-10 rounded-full border border-gray-600 shadow"}),ot.jsx("button",{onClick:n,className:"text-sm text-red-500 hover:text-red-400 transition",children:""})]}):ot.jsx("button",{onClick:t,className:"px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded hover:bg-opacity-80 transition",children:""})})},QL=()=>ot.jsx("header",{className:"text-sky-300",children:ot.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:ot.jsxs("div",{className:"flex h-16 items-center justify-between",children:[ot.jsxs("div",{className:"flex items-center gap-2",children:[ot.jsx("img",{src:"./logo.png",alt:"d320",className:"w-10 h-10"}),ot.jsx("h1",{className:"text-2xl font-bold text-sky-300",children:"d320"})]}),ot.jsx(KL,{})]})})}),YL=async e=>{const t={};return await Promise.all(e.map(async n=>{const i=await Dk(Nu(Qo,"users",n));i.exists()&&(t[n]=i.data())})),t},XL=()=>{const[e,t]=St.useState([]),[n,i]=St.useState({}),[a,l]=St.useState(null),c=Vu();St.useEffect(()=>Lk(_1,R=>{const S=R.docs.map(U=>({id:U.id,...U.data()}));t(S)}),[]),St.useEffect(()=>{const T=[...new Set(e.map(R=>R.authorUid))];YL(T).then(i)},[e]);const f=async T=>{c&&window.confirm("  ?")&&(await Uk(Nu(Qo,"eotv-enemies",T)),l(null))},p=()=>{!e.length||a===null||l((a+1)%e.length)},m=()=>{!e.length||a===null||l((a-1+e.length)%e.length)},_=a!==null?e[a]:null;return ot.jsxs("div",{className:"bg-slate-900 text-sky-200 min-h-screen",children:[ot.jsx(QL,{}),ot.jsxs("main",{className:"p-6 max-w-screen-xl mx-auto",children:[ot.jsx("h2",{className:"text-3xl font-bold text-center",children:"     "}),ot.jsxs("p",{className:"text-center text-gray-400 p-4",children:["  : ",ot.jsx("a",{className:"link",href:"http://eotvrpg.ru/",target:"_blank",children:"http://eotvrpg.ru/"})]}),ot.jsx(wM,{enemies:e,users:n,onSelect:l})]}),_&&ot.jsx(HL,{enemy:_,author:n[_.authorUid],onPrev:m,onNext:p,close:()=>l(null),onDelete:()=>f(_.id)})]})},$L=GA.createRoot(document.getElementById("root"));$L.render(ot.jsx(LA.StrictMode,{children:ot.jsx(iM,{children:ot.jsx(XL,{})})}));
