(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Cu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={},ru={},mv;function QA(){if(mv)return ru;mv=1,ru.byteLength=f,ru.toByteArray=m,ru.fromByteArray=A;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)t[a]=i[a],e[i.charCodeAt(a)]=a;e[45]=62,e[95]=63;function c(b){var P=b.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=b.indexOf("=");B===-1&&(B=P);var F=B===P?0:4-B%4;return[B,F]}function f(b){var P=c(b),B=P[0],F=P[1];return(B+F)*3/4-F}function p(b,P,B){return(P+B)*3/4-B}function m(b){var P,B=c(b),F=B[0],G=B[1],te=new n(p(b,F,G)),J=0,fe=G>0?F-4:F,ae;for(ae=0;ae<fe;ae+=4)P=e[b.charCodeAt(ae)]<<18|e[b.charCodeAt(ae+1)]<<12|e[b.charCodeAt(ae+2)]<<6|e[b.charCodeAt(ae+3)],te[J++]=P>>16&255,te[J++]=P>>8&255,te[J++]=P&255;return G===2&&(P=e[b.charCodeAt(ae)]<<2|e[b.charCodeAt(ae+1)]>>4,te[J++]=P&255),G===1&&(P=e[b.charCodeAt(ae)]<<10|e[b.charCodeAt(ae+1)]<<4|e[b.charCodeAt(ae+2)]>>2,te[J++]=P>>8&255,te[J++]=P&255),te}function y(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function w(b,P,B){for(var F,G=[],te=P;te<B;te+=3)F=(b[te]<<16&16711680)+(b[te+1]<<8&65280)+(b[te+2]&255),G.push(y(F));return G.join("")}function A(b){for(var P,B=b.length,F=B%3,G=[],te=16383,J=0,fe=B-F;J<fe;J+=te)G.push(w(b,J,J+te>fe?fe:J+te));return F===1?(P=b[B-1],G.push(t[P>>2]+t[P<<4&63]+"==")):F===2&&(P=(b[B-2]<<8)+b[B-1],G.push(t[P>>10]+t[P>>4&63]+t[P<<2&63]+"=")),G.join("")}return ru}var ch={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var gv;function $A(){return gv||(gv=1,ch.read=function(t,e,n,i,a){var l,c,f=a*8-i-1,p=(1<<f)-1,m=p>>1,y=-7,w=n?a-1:0,A=n?-1:1,b=t[e+w];for(w+=A,l=b&(1<<-y)-1,b>>=-y,y+=f;y>0;l=l*256+t[e+w],w+=A,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=i;y>0;c=c*256+t[e+w],w+=A,y-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(b?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-m}return(b?-1:1)*c*Math.pow(2,l-i)},ch.write=function(t,e,n,i,a,l){var c,f,p,m=l*8-a-1,y=(1<<m)-1,w=y>>1,A=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:l-1,P=i?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+w>=1?e+=A/p:e+=A*Math.pow(2,1-w),e*p>=2&&(c++,p/=2),c+w>=y?(f=0,c=y):c+w>=1?(f=(e*p-1)*Math.pow(2,a),c=c+w):(f=e*Math.pow(2,w-1)*Math.pow(2,a),c=0));a>=8;t[n+b]=f&255,b+=P,f/=256,a-=8);for(c=c<<a|f,m+=a;m>0;t[n+b]=c&255,b+=P,c/=256,m-=8);t[n+b-P]|=B*128}),ch}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var yv;function YA(){return yv||(yv=1,function(t){const e=QA(),n=$A(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=te,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const x=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(x,_),x.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(x){if(x>a)throw new RangeError('The value "'+x+'" is invalid for option "size"');const _=new Uint8Array(x);return Object.setPrototypeOf(_,f.prototype),_}function f(x,_,E){if(typeof x=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(x)}return p(x,_,E)}f.poolSize=8192;function p(x,_,E){if(typeof x=="string")return A(x,_);if(ArrayBuffer.isView(x))return P(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(pn(x,ArrayBuffer)||x&&pn(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(x,SharedArrayBuffer)||x&&pn(x.buffer,SharedArrayBuffer)))return B(x,_,E);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=x.valueOf&&x.valueOf();if(D!=null&&D!==x)return f.from(D,_,E);const H=F(x);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return f.from(x[Symbol.toPrimitive]("string"),_,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}f.from=function(x,_,E){return p(x,_,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function y(x,_,E){return m(x),x<=0?c(x):_!==void 0?typeof E=="string"?c(x).fill(_,E):c(x).fill(_):c(x)}f.alloc=function(x,_,E){return y(x,_,E)};function w(x){return m(x),c(x<0?0:G(x)|0)}f.allocUnsafe=function(x){return w(x)},f.allocUnsafeSlow=function(x){return w(x)};function A(x,_){if((typeof _!="string"||_==="")&&(_="utf8"),!f.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const E=J(x,_)|0;let D=c(E);const H=D.write(x,_);return H!==E&&(D=D.slice(0,H)),D}function b(x){const _=x.length<0?0:G(x.length)|0,E=c(_);for(let D=0;D<_;D+=1)E[D]=x[D]&255;return E}function P(x){if(pn(x,Uint8Array)){const _=new Uint8Array(x);return B(_.buffer,_.byteOffset,_.byteLength)}return b(x)}function B(x,_,E){if(_<0||x.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<_+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return _===void 0&&E===void 0?D=new Uint8Array(x):E===void 0?D=new Uint8Array(x,_):D=new Uint8Array(x,_,E),Object.setPrototypeOf(D,f.prototype),D}function F(x){if(f.isBuffer(x)){const _=G(x.length)|0,E=c(_);return E.length===0||x.copy(E,0,0,_),E}if(x.length!==void 0)return typeof x.length!="number"||wr(x.length)?c(0):b(x);if(x.type==="Buffer"&&Array.isArray(x.data))return b(x.data)}function G(x){if(x>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return x|0}function te(x){return+x!=x&&(x=0),f.alloc(+x)}f.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==f.prototype},f.compare=function(_,E){if(pn(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),pn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(_)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===E)return 0;let D=_.length,H=E.length;for(let Z=0,ie=Math.min(D,H);Z<ie;++Z)if(_[Z]!==E[Z]){D=_[Z],H=E[Z];break}return D<H?-1:H<D?1:0},f.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(_,E){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return f.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<_.length;++D)E+=_[D].length;const H=f.allocUnsafe(E);let Z=0;for(D=0;D<_.length;++D){let ie=_[D];if(pn(ie,Uint8Array))Z+ie.length>H.length?(f.isBuffer(ie)||(ie=f.from(ie)),ie.copy(H,Z)):Uint8Array.prototype.set.call(H,ie,Z);else if(f.isBuffer(ie))ie.copy(H,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=ie.length}return H};function J(x,_){if(f.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||pn(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const E=x.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let H=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return er(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return jn(x).length;default:if(H)return D?-1:er(x).length;_=(""+_).toLowerCase(),H=!0}}f.byteLength=J;function fe(x,_,E){let D=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,_>>>=0,E<=_))return"";for(x||(x="utf8");;)switch(x){case"hex":return He(this,_,E);case"utf8":case"utf-8":return Ee(this,_,E);case"ascii":return Te(this,_,E);case"latin1":case"binary":return be(this,_,E);case"base64":return N(this,_,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,_,E);default:if(D)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),D=!0}}f.prototype._isBuffer=!0;function ae(x,_,E){const D=x[_];x[_]=x[E],x[E]=D}f.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<_;E+=2)ae(this,E,E+1);return this},f.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<_;E+=4)ae(this,E,E+3),ae(this,E+1,E+2);return this},f.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<_;E+=8)ae(this,E,E+7),ae(this,E+1,E+6),ae(this,E+2,E+5),ae(this,E+3,E+4);return this},f.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?Ee(this,0,_):fe.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(_){if(!f.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:f.compare(this,_)===0},f.prototype.inspect=function(){let _="";const E=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(_+=" ... "),"<Buffer "+_+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(_,E,D,H,Z){if(pn(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(E===void 0&&(E=0),D===void 0&&(D=_?_.length:0),H===void 0&&(H=0),Z===void 0&&(Z=this.length),E<0||D>_.length||H<0||Z>this.length)throw new RangeError("out of range index");if(H>=Z&&E>=D)return 0;if(H>=Z)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,H>>>=0,Z>>>=0,this===_)return 0;let ie=Z-H,Re=D-E;const tt=Math.min(ie,Re),Me=this.slice(H,Z),Be=_.slice(E,D);for(let qe=0;qe<tt;++qe)if(Me[qe]!==Be[qe]){ie=Me[qe],Re=Be[qe];break}return ie<Re?-1:Re<ie?1:0};function X(x,_,E,D,H){if(x.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,wr(E)&&(E=H?0:x.length-1),E<0&&(E=x.length+E),E>=x.length){if(H)return-1;E=x.length-1}else if(E<0)if(H)E=0;else return-1;if(typeof _=="string"&&(_=f.from(_,D)),f.isBuffer(_))return _.length===0?-1:z(x,_,E,D,H);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(x,_,E):Uint8Array.prototype.lastIndexOf.call(x,_,E):z(x,[_],E,D,H);throw new TypeError("val must be string, number or Buffer")}function z(x,_,E,D,H){let Z=1,ie=x.length,Re=_.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(x.length<2||_.length<2)return-1;Z=2,ie/=2,Re/=2,E/=2}function tt(Be,qe){return Z===1?Be[qe]:Be.readUInt16BE(qe*Z)}let Me;if(H){let Be=-1;for(Me=E;Me<ie;Me++)if(tt(x,Me)===tt(_,Be===-1?0:Me-Be)){if(Be===-1&&(Be=Me),Me-Be+1===Re)return Be*Z}else Be!==-1&&(Me-=Me-Be),Be=-1}else for(E+Re>ie&&(E=ie-Re),Me=E;Me>=0;Me--){let Be=!0;for(let qe=0;qe<Re;qe++)if(tt(x,Me+qe)!==tt(_,qe)){Be=!1;break}if(Be)return Me}return-1}f.prototype.includes=function(_,E,D){return this.indexOf(_,E,D)!==-1},f.prototype.indexOf=function(_,E,D){return X(this,_,E,D,!0)},f.prototype.lastIndexOf=function(_,E,D){return X(this,_,E,D,!1)};function M(x,_,E,D){E=Number(E)||0;const H=x.length-E;D?(D=Number(D),D>H&&(D=H)):D=H;const Z=_.length;D>Z/2&&(D=Z/2);let ie;for(ie=0;ie<D;++ie){const Re=parseInt(_.substr(ie*2,2),16);if(wr(Re))return ie;x[E+ie]=Re}return ie}function k(x,_,E,D){return Fn(er(_,x.length-E),x,E,D)}function O(x,_,E,D){return Fn(kr(_),x,E,D)}function U(x,_,E,D){return Fn(jn(_),x,E,D)}function j(x,_,E,D){return Fn(Er(_,x.length-E),x,E,D)}f.prototype.write=function(_,E,D,H){if(E===void 0)H="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")H=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,H===void 0&&(H="utf8")):(H=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-E;if((D===void 0||D>Z)&&(D=Z),_.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let ie=!1;for(;;)switch(H){case"hex":return M(this,_,E,D);case"utf8":case"utf-8":return k(this,_,E,D);case"ascii":case"latin1":case"binary":return O(this,_,E,D);case"base64":return U(this,_,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,_,E,D);default:if(ie)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),ie=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(x,_,E){return _===0&&E===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(_,E))}function Ee(x,_,E){E=Math.min(x.length,E);const D=[];let H=_;for(;H<E;){const Z=x[H];let ie=null,Re=Z>239?4:Z>223?3:Z>191?2:1;if(H+Re<=E){let tt,Me,Be,qe;switch(Re){case 1:Z<128&&(ie=Z);break;case 2:tt=x[H+1],(tt&192)===128&&(qe=(Z&31)<<6|tt&63,qe>127&&(ie=qe));break;case 3:tt=x[H+1],Me=x[H+2],(tt&192)===128&&(Me&192)===128&&(qe=(Z&15)<<12|(tt&63)<<6|Me&63,qe>2047&&(qe<55296||qe>57343)&&(ie=qe));break;case 4:tt=x[H+1],Me=x[H+2],Be=x[H+3],(tt&192)===128&&(Me&192)===128&&(Be&192)===128&&(qe=(Z&15)<<18|(tt&63)<<12|(Me&63)<<6|Be&63,qe>65535&&qe<1114112&&(ie=qe))}}ie===null?(ie=65533,Re=1):ie>65535&&(ie-=65536,D.push(ie>>>10&1023|55296),ie=56320|ie&1023),D.push(ie),H+=Re}return me(D)}const we=4096;function me(x){const _=x.length;if(_<=we)return String.fromCharCode.apply(String,x);let E="",D=0;for(;D<_;)E+=String.fromCharCode.apply(String,x.slice(D,D+=we));return E}function Te(x,_,E){let D="";E=Math.min(x.length,E);for(let H=_;H<E;++H)D+=String.fromCharCode(x[H]&127);return D}function be(x,_,E){let D="";E=Math.min(x.length,E);for(let H=_;H<E;++H)D+=String.fromCharCode(x[H]);return D}function He(x,_,E){const D=x.length;(!_||_<0)&&(_=0),(!E||E<0||E>D)&&(E=D);let H="";for(let Z=_;Z<E;++Z)H+=Wt[x[Z]];return H}function R(x,_,E){const D=x.slice(_,E);let H="";for(let Z=0;Z<D.length-1;Z+=2)H+=String.fromCharCode(D[Z]+D[Z+1]*256);return H}f.prototype.slice=function(_,E){const D=this.length;_=~~_,E=E===void 0?D:~~E,_<0?(_+=D,_<0&&(_=0)):_>D&&(_=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<_&&(E=_);const H=this.subarray(_,E);return Object.setPrototypeOf(H,f.prototype),H};function oe(x,_,E){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+_>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(_,E,D){_=_>>>0,E=E>>>0,D||oe(_,E,this.length);let H=this[_],Z=1,ie=0;for(;++ie<E&&(Z*=256);)H+=this[_+ie]*Z;return H},f.prototype.readUintBE=f.prototype.readUIntBE=function(_,E,D){_=_>>>0,E=E>>>0,D||oe(_,E,this.length);let H=this[_+--E],Z=1;for(;E>0&&(Z*=256);)H+=this[_+--E]*Z;return H},f.prototype.readUint8=f.prototype.readUInt8=function(_,E){return _=_>>>0,E||oe(_,1,this.length),this[_]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(_,E){return _=_>>>0,E||oe(_,2,this.length),this[_]|this[_+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(_,E){return _=_>>>0,E||oe(_,2,this.length),this[_]<<8|this[_+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(_,E){return _=_>>>0,E||oe(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(_,E){return _=_>>>0,E||oe(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},f.prototype.readBigUInt64LE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const H=E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Z=this[++_]+this[++_]*2**8+this[++_]*2**16+D*2**24;return BigInt(H)+(BigInt(Z)<<BigInt(32))}),f.prototype.readBigUInt64BE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const H=E*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Z=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+D;return(BigInt(H)<<BigInt(32))+BigInt(Z)}),f.prototype.readIntLE=function(_,E,D){_=_>>>0,E=E>>>0,D||oe(_,E,this.length);let H=this[_],Z=1,ie=0;for(;++ie<E&&(Z*=256);)H+=this[_+ie]*Z;return Z*=128,H>=Z&&(H-=Math.pow(2,8*E)),H},f.prototype.readIntBE=function(_,E,D){_=_>>>0,E=E>>>0,D||oe(_,E,this.length);let H=E,Z=1,ie=this[_+--H];for(;H>0&&(Z*=256);)ie+=this[_+--H]*Z;return Z*=128,ie>=Z&&(ie-=Math.pow(2,8*E)),ie},f.prototype.readInt8=function(_,E){return _=_>>>0,E||oe(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},f.prototype.readInt16LE=function(_,E){_=_>>>0,E||oe(_,2,this.length);const D=this[_]|this[_+1]<<8;return D&32768?D|4294901760:D},f.prototype.readInt16BE=function(_,E){_=_>>>0,E||oe(_,2,this.length);const D=this[_+1]|this[_]<<8;return D&32768?D|4294901760:D},f.prototype.readInt32LE=function(_,E){return _=_>>>0,E||oe(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},f.prototype.readInt32BE=function(_,E){return _=_>>>0,E||oe(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},f.prototype.readBigInt64LE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const H=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(D<<24);return(BigInt(H)<<BigInt(32))+BigInt(E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),f.prototype.readBigInt64BE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const H=(E<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(H)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+D)}),f.prototype.readFloatLE=function(_,E){return _=_>>>0,E||oe(_,4,this.length),n.read(this,_,!0,23,4)},f.prototype.readFloatBE=function(_,E){return _=_>>>0,E||oe(_,4,this.length),n.read(this,_,!1,23,4)},f.prototype.readDoubleLE=function(_,E){return _=_>>>0,E||oe(_,8,this.length),n.read(this,_,!0,52,8)},f.prototype.readDoubleBE=function(_,E){return _=_>>>0,E||oe(_,8,this.length),n.read(this,_,!1,52,8)};function _e(x,_,E,D,H,Z){if(!f.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>H||_<Z)throw new RangeError('"value" argument is out of bounds');if(E+D>x.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(_,E,D,H){if(_=+_,E=E>>>0,D=D>>>0,!H){const Re=Math.pow(2,8*D)-1;_e(this,_,E,D,Re,0)}let Z=1,ie=0;for(this[E]=_&255;++ie<D&&(Z*=256);)this[E+ie]=_/Z&255;return E+D},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(_,E,D,H){if(_=+_,E=E>>>0,D=D>>>0,!H){const Re=Math.pow(2,8*D)-1;_e(this,_,E,D,Re,0)}let Z=D-1,ie=1;for(this[E+Z]=_&255;--Z>=0&&(ie*=256);)this[E+Z]=_/ie&255;return E+D},f.prototype.writeUint8=f.prototype.writeUInt8=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,1,255,0),this[E]=_&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,65535,0),this[E]=_&255,this[E+1]=_>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,65535,0),this[E]=_>>>8,this[E+1]=_&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,4294967295,0),this[E+3]=_>>>24,this[E+2]=_>>>16,this[E+1]=_>>>8,this[E]=_&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,4294967295,0),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4};function L(x,_,E,D,H){Cn(_,D,H,x,E,7);let Z=Number(_&BigInt(4294967295));x[E++]=Z,Z=Z>>8,x[E++]=Z,Z=Z>>8,x[E++]=Z,Z=Z>>8,x[E++]=Z;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return x[E++]=ie,ie=ie>>8,x[E++]=ie,ie=ie>>8,x[E++]=ie,ie=ie>>8,x[E++]=ie,E}function ve(x,_,E,D,H){Cn(_,D,H,x,E,7);let Z=Number(_&BigInt(4294967295));x[E+7]=Z,Z=Z>>8,x[E+6]=Z,Z=Z>>8,x[E+5]=Z,Z=Z>>8,x[E+4]=Z;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return x[E+3]=ie,ie=ie>>8,x[E+2]=ie,ie=ie>>8,x[E+1]=ie,ie=ie>>8,x[E]=ie,E+8}f.prototype.writeBigUInt64LE=Tn(function(_,E=0){return L(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Tn(function(_,E=0){return ve(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(_,E,D,H){if(_=+_,E=E>>>0,!H){const tt=Math.pow(2,8*D-1);_e(this,_,E,D,tt-1,-tt)}let Z=0,ie=1,Re=0;for(this[E]=_&255;++Z<D&&(ie*=256);)_<0&&Re===0&&this[E+Z-1]!==0&&(Re=1),this[E+Z]=(_/ie>>0)-Re&255;return E+D},f.prototype.writeIntBE=function(_,E,D,H){if(_=+_,E=E>>>0,!H){const tt=Math.pow(2,8*D-1);_e(this,_,E,D,tt-1,-tt)}let Z=D-1,ie=1,Re=0;for(this[E+Z]=_&255;--Z>=0&&(ie*=256);)_<0&&Re===0&&this[E+Z+1]!==0&&(Re=1),this[E+Z]=(_/ie>>0)-Re&255;return E+D},f.prototype.writeInt8=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,1,127,-128),_<0&&(_=255+_+1),this[E]=_&255,E+1},f.prototype.writeInt16LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,32767,-32768),this[E]=_&255,this[E+1]=_>>>8,E+2},f.prototype.writeInt16BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,32767,-32768),this[E]=_>>>8,this[E+1]=_&255,E+2},f.prototype.writeInt32LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,2147483647,-2147483648),this[E]=_&255,this[E+1]=_>>>8,this[E+2]=_>>>16,this[E+3]=_>>>24,E+4},f.prototype.writeInt32BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4},f.prototype.writeBigInt64LE=Tn(function(_,E=0){return L(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Tn(function(_,E=0){return ve(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(x,_,E,D,H,Z){if(E+D>x.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function xe(x,_,E,D,H){return _=+_,E=E>>>0,H||Ne(x,_,E,4),n.write(x,_,E,D,23,4),E+4}f.prototype.writeFloatLE=function(_,E,D){return xe(this,_,E,!0,D)},f.prototype.writeFloatBE=function(_,E,D){return xe(this,_,E,!1,D)};function dt(x,_,E,D,H){return _=+_,E=E>>>0,H||Ne(x,_,E,8),n.write(x,_,E,D,52,8),E+8}f.prototype.writeDoubleLE=function(_,E,D){return dt(this,_,E,!0,D)},f.prototype.writeDoubleBE=function(_,E,D){return dt(this,_,E,!1,D)},f.prototype.copy=function(_,E,D,H){if(!f.isBuffer(_))throw new TypeError("argument should be a Buffer");if(D||(D=0),!H&&H!==0&&(H=this.length),E>=_.length&&(E=_.length),E||(E=0),H>0&&H<D&&(H=D),H===D||_.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),_.length-E<H-D&&(H=_.length-E+D);const Z=H-D;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,H):Uint8Array.prototype.set.call(_,this.subarray(D,H),E),Z},f.prototype.fill=function(_,E,D,H){if(typeof _=="string"){if(typeof E=="string"?(H=E,E=0,D=this.length):typeof D=="string"&&(H=D,D=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!f.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(_.length===1){const ie=_.charCodeAt(0);(H==="utf8"&&ie<128||H==="latin1")&&(_=ie)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,_||(_=0);let Z;if(typeof _=="number")for(Z=E;Z<D;++Z)this[Z]=_;else{const ie=f.isBuffer(_)?_:f.from(_,H),Re=ie.length;if(Re===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Z=0;Z<D-E;++Z)this[Z+E]=ie[Z%Re]}return this};const Le={};function at(x,_,E){Le[x]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(x,_){return`The "${x}" argument must be of type number. Received type ${typeof _}`},TypeError),at("ERR_OUT_OF_RANGE",function(x,_,E){let D=`The value of "${x}" is out of range.`,H=E;return Number.isInteger(E)&&Math.abs(E)>2**32?H=Qe(String(E)):typeof E=="bigint"&&(H=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(H=Qe(H)),H+="n"),D+=` It must be ${_}. Received ${H}`,D},RangeError);function Qe(x){let _="",E=x.length;const D=x[0]==="-"?1:0;for(;E>=D+4;E-=3)_=`_${x.slice(E-3,E)}${_}`;return`${x.slice(0,E)}${_}`}function It(x,_,E){Mt(_,"offset"),(x[_]===void 0||x[_+E]===void 0)&&dn(_,x.length-(E+1))}function Cn(x,_,E,D,H,Z){if(x>E||x<_){const ie=typeof _=="bigint"?"n":"";let Re;throw _===0||_===BigInt(0)?Re=`>= 0${ie} and < 2${ie} ** ${(Z+1)*8}${ie}`:Re=`>= -(2${ie} ** ${(Z+1)*8-1}${ie}) and < 2 ** ${(Z+1)*8-1}${ie}`,new Le.ERR_OUT_OF_RANGE("value",Re,x)}It(D,H,Z)}function Mt(x,_){if(typeof x!="number")throw new Le.ERR_INVALID_ARG_TYPE(_,"number",x)}function dn(x,_,E){throw Math.floor(x)!==x?(Mt(x,E),new Le.ERR_OUT_OF_RANGE("offset","an integer",x)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,x)}const zn=/[^+/0-9A-Za-z-_]/g;function kn(x){if(x=x.split("=")[0],x=x.trim().replace(zn,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function er(x,_){_=_||1/0;let E;const D=x.length;let H=null;const Z=[];for(let ie=0;ie<D;++ie){if(E=x.charCodeAt(ie),E>55295&&E<57344){if(!H){if(E>56319){(_-=3)>-1&&Z.push(239,191,189);continue}else if(ie+1===D){(_-=3)>-1&&Z.push(239,191,189);continue}H=E;continue}if(E<56320){(_-=3)>-1&&Z.push(239,191,189),H=E;continue}E=(H-55296<<10|E-56320)+65536}else H&&(_-=3)>-1&&Z.push(239,191,189);if(H=null,E<128){if((_-=1)<0)break;Z.push(E)}else if(E<2048){if((_-=2)<0)break;Z.push(E>>6|192,E&63|128)}else if(E<65536){if((_-=3)<0)break;Z.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((_-=4)<0)break;Z.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return Z}function kr(x){const _=[];for(let E=0;E<x.length;++E)_.push(x.charCodeAt(E)&255);return _}function Er(x,_){let E,D,H;const Z=[];for(let ie=0;ie<x.length&&!((_-=2)<0);++ie)E=x.charCodeAt(ie),D=E>>8,H=E%256,Z.push(H),Z.push(D);return Z}function jn(x){return e.toByteArray(kn(x))}function Fn(x,_,E,D){let H;for(H=0;H<D&&!(H+E>=_.length||H>=x.length);++H)_[H+E]=x[H];return H}function pn(x,_){return x instanceof _||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===_.name}function wr(x){return x!==x}const Wt=function(){const x="0123456789abcdef",_=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let H=0;H<16;++H)_[D+H]=x[E]+x[H]}return _}();function Tn(x){return typeof BigInt>"u"?ne:x}function ne(){throw new Error("BigInt not supported")}}(Ip)),Ip}var XA=YA(),Cp={exports:{}},_v;function WA(){if(_v)return Cp.exports;_v=1;var t=Cp.exports={},e,n;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=a}catch{n=a}})();function l(B){if(e===setTimeout)return setTimeout(B,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(B,0);try{return e(B,0)}catch{try{return e.call(null,B,0)}catch{return e.call(this,B,0)}}}function c(B){if(n===clearTimeout)return clearTimeout(B);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(B);try{return n(B)}catch{try{return n.call(null,B)}catch{return n.call(this,B)}}}var f=[],p=!1,m,y=-1;function w(){!p||!m||(p=!1,m.length?f=m.concat(f):y=-1,f.length&&A())}function A(){if(!p){var B=l(w);p=!0;for(var F=f.length;F;){for(m=f,f=[];++y<F;)m&&m[y].run();y=-1,F=f.length}m=null,p=!1,c(B)}}t.nextTick=function(B){var F=new Array(arguments.length-1);if(arguments.length>1)for(var G=1;G<arguments.length;G++)F[G-1]=arguments[G];f.push(new b(B,F)),f.length===1&&!p&&l(A)};function b(B,F){this.fun=B,this.array=F}b.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function P(){}return t.on=P,t.addListener=P,t.once=P,t.off=P,t.removeListener=P,t.removeAllListeners=P,t.emit=P,t.prependListener=P,t.prependOnceListener=P,t.listeners=function(B){return[]},t.binding=function(B){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(B){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Cp.exports}var ZA=WA();const JA=Cu(ZA);window.Buffer=XA.Buffer;window.process=JA;var kp={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function ex(){if(vv)return iu;vv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var Ev;function tx(){return Ev||(Ev=1,kp.exports=ex()),kp.exports}var q=tx(),Dp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function nx(){if(wv)return Ke;wv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function A(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,B={};function F(R,oe,_e){this.props=R,this.context=oe,this.refs=B,this.updater=_e||b}F.prototype.isReactComponent={},F.prototype.setState=function(R,oe){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,oe,"setState")},F.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function G(){}G.prototype=F.prototype;function te(R,oe,_e){this.props=R,this.context=oe,this.refs=B,this.updater=_e||b}var J=te.prototype=new G;J.constructor=te,P(J,F.prototype),J.isPureReactComponent=!0;var fe=Array.isArray,ae={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function z(R,oe,_e,L,ve,Ne){return _e=Ne.ref,{$$typeof:t,type:R,key:oe,ref:_e!==void 0?_e:null,props:Ne}}function M(R,oe){return z(R.type,oe,void 0,void 0,void 0,R.props)}function k(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function O(R){var oe={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(_e){return oe[_e]})}var U=/\/+/g;function j(R,oe){return typeof R=="object"&&R!==null&&R.key!=null?O(""+R.key):oe.toString(36)}function N(){}function Ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(N,N):(R.status="pending",R.then(function(oe){R.status==="pending"&&(R.status="fulfilled",R.value=oe)},function(oe){R.status==="pending"&&(R.status="rejected",R.reason=oe)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function we(R,oe,_e,L,ve){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Ne){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case t:case e:xe=!0;break;case y:return xe=R._init,we(xe(R._payload),oe,_e,L,ve)}}if(xe)return ve=ve(R),xe=L===""?"."+j(R,0):L,fe(ve)?(_e="",xe!=null&&(_e=xe.replace(U,"$&/")+"/"),we(ve,oe,_e,"",function(at){return at})):ve!=null&&(k(ve)&&(ve=M(ve,_e+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+xe)),oe.push(ve)),1;xe=0;var dt=L===""?".":L+":";if(fe(R))for(var Le=0;Le<R.length;Le++)L=R[Le],Ne=dt+j(L,Le),xe+=we(L,oe,_e,Ne,ve);else if(Le=A(R),typeof Le=="function")for(R=Le.call(R),Le=0;!(L=R.next()).done;)L=L.value,Ne=dt+j(L,Le++),xe+=we(L,oe,_e,Ne,ve);else if(Ne==="object"){if(typeof R.then=="function")return we(Ee(R),oe,_e,L,ve);throw oe=String(R),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function me(R,oe,_e){if(R==null)return R;var L=[],ve=0;return we(R,L,"","",function(Ne){return oe.call(_e,Ne,ve++)}),L}function Te(R){if(R._status===-1){var oe=R._result;oe=oe(),oe.then(function(_e){(R._status===0||R._status===-1)&&(R._status=1,R._result=_e)},function(_e){(R._status===0||R._status===-1)&&(R._status=2,R._result=_e)}),R._status===-1&&(R._status=0,R._result=oe)}if(R._status===1)return R._result.default;throw R._result}var be=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function He(){}return Ke.Children={map:me,forEach:function(R,oe,_e){me(R,function(){oe.apply(this,arguments)},_e)},count:function(R){var oe=0;return me(R,function(){oe++}),oe},toArray:function(R){return me(R,function(oe){return oe})||[]},only:function(R){if(!k(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ke.Component=F,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=te,Ke.StrictMode=i,Ke.Suspense=p,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ke.cache=function(R){return function(){return R.apply(null,arguments)}},Ke.cloneElement=function(R,oe,_e){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var L=P({},R.props),ve=R.key,Ne=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(Ne=void 0),oe.key!==void 0&&(ve=""+oe.key),oe)!X.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(L[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)L.children=_e;else if(1<xe){for(var dt=Array(xe),Le=0;Le<xe;Le++)dt[Le]=arguments[Le+2];L.children=dt}return z(R.type,ve,void 0,void 0,Ne,L)},Ke.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Ke.createElement=function(R,oe,_e){var L,ve={},Ne=null;if(oe!=null)for(L in oe.key!==void 0&&(Ne=""+oe.key),oe)X.call(oe,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(ve[L]=oe[L]);var xe=arguments.length-2;if(xe===1)ve.children=_e;else if(1<xe){for(var dt=Array(xe),Le=0;Le<xe;Le++)dt[Le]=arguments[Le+2];ve.children=dt}if(R&&R.defaultProps)for(L in xe=R.defaultProps,xe)ve[L]===void 0&&(ve[L]=xe[L]);return z(R,Ne,void 0,void 0,null,ve)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(R){return{$$typeof:f,render:R}},Ke.isValidElement=k,Ke.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:Te}},Ke.memo=function(R,oe){return{$$typeof:m,type:R,compare:oe===void 0?null:oe}},Ke.startTransition=function(R){var oe=ae.T,_e={};ae.T=_e;try{var L=R(),ve=ae.S;ve!==null&&ve(_e,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(He,be)}catch(Ne){be(Ne)}finally{ae.T=oe}},Ke.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ke.use=function(R){return ae.H.use(R)},Ke.useActionState=function(R,oe,_e){return ae.H.useActionState(R,oe,_e)},Ke.useCallback=function(R,oe){return ae.H.useCallback(R,oe)},Ke.useContext=function(R){return ae.H.useContext(R)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(R,oe){return ae.H.useDeferredValue(R,oe)},Ke.useEffect=function(R,oe){return ae.H.useEffect(R,oe)},Ke.useId=function(){return ae.H.useId()},Ke.useImperativeHandle=function(R,oe,_e){return ae.H.useImperativeHandle(R,oe,_e)},Ke.useInsertionEffect=function(R,oe){return ae.H.useInsertionEffect(R,oe)},Ke.useLayoutEffect=function(R,oe){return ae.H.useLayoutEffect(R,oe)},Ke.useMemo=function(R,oe){return ae.H.useMemo(R,oe)},Ke.useOptimistic=function(R,oe){return ae.H.useOptimistic(R,oe)},Ke.useReducer=function(R,oe,_e){return ae.H.useReducer(R,oe,_e)},Ke.useRef=function(R){return ae.H.useRef(R)},Ke.useState=function(R){return ae.H.useState(R)},Ke.useSyncExternalStore=function(R,oe,_e){return ae.H.useSyncExternalStore(R,oe,_e)},Ke.useTransition=function(){return ae.H.useTransition()},Ke.version="19.0.0",Ke}var Tv;function qm(){return Tv||(Tv=1,Dp.exports=nx()),Dp.exports}var se=qm();const rx=Cu(se);var Np={exports:{}},su={},Op={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function ix(){return bv||(bv=1,function(t){function e(me,Te){var be=me.length;me.push(Te);e:for(;0<be;){var He=be-1>>>1,R=me[He];if(0<a(R,Te))me[He]=Te,me[be]=R,be=He;else break e}}function n(me){return me.length===0?null:me[0]}function i(me){if(me.length===0)return null;var Te=me[0],be=me.pop();if(be!==Te){me[0]=be;e:for(var He=0,R=me.length,oe=R>>>1;He<oe;){var _e=2*(He+1)-1,L=me[_e],ve=_e+1,Ne=me[ve];if(0>a(L,be))ve<R&&0>a(Ne,L)?(me[He]=Ne,me[ve]=be,He=ve):(me[He]=L,me[_e]=be,He=_e);else if(ve<R&&0>a(Ne,be))me[He]=Ne,me[ve]=be,He=ve;else break e}}return Te}function a(me,Te){var be=me.sortIndex-Te.sortIndex;return be!==0?be:me.id-Te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,w=null,A=3,b=!1,P=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function J(me){for(var Te=n(m);Te!==null;){if(Te.callback===null)i(m);else if(Te.startTime<=me)i(m),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(m)}}function fe(me){if(B=!1,J(me),!P)if(n(p)!==null)P=!0,Ee();else{var Te=n(m);Te!==null&&we(fe,Te.startTime-me)}}var ae=!1,X=-1,z=5,M=-1;function k(){return!(t.unstable_now()-M<z)}function O(){if(ae){var me=t.unstable_now();M=me;var Te=!0;try{e:{P=!1,B&&(B=!1,G(X),X=-1),b=!0;var be=A;try{t:{for(J(me),w=n(p);w!==null&&!(w.expirationTime>me&&k());){var He=w.callback;if(typeof He=="function"){w.callback=null,A=w.priorityLevel;var R=He(w.expirationTime<=me);if(me=t.unstable_now(),typeof R=="function"){w.callback=R,J(me),Te=!0;break t}w===n(p)&&i(p),J(me)}else i(p);w=n(p)}if(w!==null)Te=!0;else{var oe=n(m);oe!==null&&we(fe,oe.startTime-me),Te=!1}}break e}finally{w=null,A=be,b=!1}Te=void 0}}finally{Te?U():ae=!1}}}var U;if(typeof te=="function")U=function(){te(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=O,U=function(){N.postMessage(null)}}else U=function(){F(O,0)};function Ee(){ae||(ae=!0,U())}function we(me,Te){X=F(function(){me(t.unstable_now())},Te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_continueExecution=function(){P||b||(P=!0,Ee())},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(me){switch(A){case 1:case 2:case 3:var Te=3;break;default:Te=A}var be=A;A=Te;try{return me()}finally{A=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(me,Te){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var be=A;A=me;try{return Te()}finally{A=be}},t.unstable_scheduleCallback=function(me,Te,be){var He=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?He+be:He):be=He,me){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=be+R,me={id:y++,callback:Te,priorityLevel:me,startTime:be,expirationTime:R,sortIndex:-1},be>He?(me.sortIndex=be,e(m,me),n(p)===null&&me===n(m)&&(B?(G(X),X=-1):B=!0,we(fe,be-He))):(me.sortIndex=R,e(p,me),P||b||(P=!0,Ee())),me},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(me){var Te=A;return function(){var be=A;A=Te;try{return me.apply(this,arguments)}finally{A=be}}}}(Mp)),Mp}var Sv;function sx(){return Sv||(Sv=1,Op.exports=ix()),Op.exports}var Lp={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function ax(){if(Av)return gn;Av=1;var t=qm();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},gn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:b}):y==="script"&&i.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=f(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var xv;function ox(){if(xv)return Lp.exports;xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=ax(),Lp.exports}var Rv;function lx(){if(Rv)return su;Rv=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=sx(),e=qm(),n=ox();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),b=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),fe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function M(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case y:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case P:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:M(r.type)||"Memo";case te:s=r._payload,r=r._init;try{return M(r(s))}catch{}}return null}var k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,U,j;function N(r){if(U===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||"",j=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+r+j}var Ee=!1;function we(r,s){if(!r||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(le){var ee=le}Reflect.construct(r,[],de)}else{try{de.call()}catch(le){ee=le}r.call(de.prototype)}}else{try{throw Error()}catch(le){ee=le}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(le){if(le&&ee&&typeof le.stack=="string")return[le.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],I=g[1];if(S&&I){var V=S.split(`
`),Q=I.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===Q.length)for(u=V.length-1,d=Q.length-1;1<=u&&0<=d&&V[u]!==Q[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==Q[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==Q[d]){var ue=`
`+V[u].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=u&&0<=d);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?N(o):""}function me(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=we(r.type,!1),r;case 11:return r=we(r.type.render,!1),r;case 1:return r=we(r.type,!0),r;default:return""}}function Te(r){try{var s="";do s+=me(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function be(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function He(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function R(r){if(be(r)!==r)throw Error(i(188))}function oe(r){var s=r.alternate;if(!s){if(s=be(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return R(d),r;if(g===u)return R(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var S=!1,I=d.child;I;){if(I===o){S=!0,o=d,u=g;break}if(I===u){S=!0,u=d,o=g;break}I=I.sibling}if(!S){for(I=g.child;I;){if(I===o){S=!0,o=g,u=d;break}if(I===u){S=!0,u=g,o=d;break}I=I.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function _e(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_e(r),s!==null)return s;r=r.sibling}return null}var L=Array.isArray,ve=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},xe=[],dt=-1;function Le(r){return{current:r}}function at(r){0>dt||(r.current=xe[dt],xe[dt]=null,dt--)}function Qe(r,s){dt++,xe[dt]=r.current,r.current=s}var It=Le(null),Cn=Le(null),Mt=Le(null),dn=Le(null);function zn(r,s){switch(Qe(Mt,s),Qe(Cn,r),Qe(It,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?H0(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=H0(r),s=G0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}at(It),Qe(It,s)}function kn(){at(It),at(Cn),at(Mt)}function er(r){r.memoizedState!==null&&Qe(dn,r);var s=It.current,o=G0(s,r.type);s!==o&&(Qe(Cn,r),Qe(It,o))}function kr(r){Cn.current===r&&(at(It),at(Cn)),dn.current===r&&(at(dn),Zl._currentValue=Ne)}var Er=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,Fn=t.unstable_cancelCallback,pn=t.unstable_shouldYield,wr=t.unstable_requestPaint,Wt=t.unstable_now,Tn=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,x=t.unstable_UserBlockingPriority,_=t.unstable_NormalPriority,E=t.unstable_LowPriority,D=t.unstable_IdlePriority,H=t.log,Z=t.unstable_setDisableYieldValue,ie=null,Re=null;function tt(r){if(Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ie,r,void 0,(r.current.flags&128)===128)}catch{}}function Me(r){if(typeof H=="function"&&Z(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ie,r)}catch{}}var Be=Math.clz32?Math.clz32:Ku,qe=Math.log,Gu=Math.LN2;function Ku(r){return r>>>=0,r===0?32:31-(qe(r)/Gu|0)|0}var Dr=128,ji=4194304;function Tr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tr(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,d=r.suspendedLanes,g=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~d,o!==0?u=Tr(o):(g&=I,g!==0?u=Tr(g):r||(S=I&~S,S!==0&&(u=Tr(S))))):(I=o&~d,I!==0?u=Tr(I):g!==0?u=Tr(g):r||(S=o&~S,S!==0&&(u=Tr(S)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,S=s&-s,d>=S||d===32&&(S&4194176)!==0)?s:u}function Fi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ma(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var r=Dr;return Dr<<=1,(Dr&4194176)===0&&(Dr=128),r}function qi(){var r=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),r}function La(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Lt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Qu(r,s,o,u,d,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(o=S&~o;0<o;){var ue=31-Be(o),de=1<<ue;I[ue]=0,V[ue]=-1;var ee=Q[ue];if(ee!==null)for(Q[ue]=null,ue=0;ue<ee.length;ue++){var le=ee[ue];le!==null&&(le.lane&=-536870913)}o&=~de}u!==0&&Hi(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function Hi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Be(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Gi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Be(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function $u(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Yu(){var r=ve.p;return r!==0?r:(r=window.event,r===void 0?32:uv(r.type))}function Ki(r,s){var o=ve.p;try{return ve.p=r,s()}finally{ve.p=o}}var Nr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Nr,qt="__reactProps$"+Nr,si="__reactContainer$"+Nr,qs="__reactEvents$"+Nr,Ua="__reactListeners$"+Nr,Or="__reactHandles$"+Nr,il="__reactResources$"+Nr,Qi="__reactMarker$"+Nr;function Hs(r){delete r[Zt],delete r[qt],delete r[qs],delete r[Ua],delete r[Or]}function br(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[si]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=$0(r);r!==null;){if(o=r[Zt])return o;r=$0(r)}return s}r=o,o=r.parentNode}return null}function ai(r){if(r=r[Zt]||r[si]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function $i(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Yi(r){var s=r[il];return s||(s=r[il]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Qi]=!0}var sl=new Set,Pa={};function qn(r,s){Dn(r,s),Dn(r+"Capture",s)}function Dn(r,s){for(Pa[r]=s,r=0;r<s.length;r++)sl.add(s[r])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ol={};function Xu(r){return Er.call(ol,r)?!0:Er.call(al,r)?!1:Nf.test(r)?ol[r]=!0:(al[r]=!0,!1)}function Xi(r,s,o){if(Xu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Wi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Of(r){var s=Wu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Gs(r){r._valueTracker||(r._valueTracker=Of(r))}function ll(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Wu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Va(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oi=/[\n"\\]/g;function Ct(r){return r.replace(oi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zi(r,s,o,u,d,g,S,I){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Ba(r,S,bn(s)):o!=null?Ba(r,S,bn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+bn(I):r.removeAttribute("name")}function Ks(r,s,o,u,d,g,S,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Ba(r,s,o){s==="number"&&Va(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ot(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Qs(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function Ji(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(L(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Mf.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Zu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&ul(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&ul(r,g,s[g])}function cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(r){return Uf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function za(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,ui=null;function ci(r){var s=ai(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Zi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[qt]||null;if(!d)throw Error(i(90));Zi(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&ll(u)}break e;case"textarea":Qs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ot(r,!!o.multiple,s,!1)}}}var hl=!1;function Ju(r,s,o){if(hl)return r(s,o);hl=!0;try{var u=r(s);return u}finally{if(hl=!1,(li!==null||ui!==null)&&(Hc(),li&&(s=li,r=ui,ui=li=null,ci(s),r)))for(s=0;s<r.length;s++)ci(r[s])}}function $s(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Hn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{sr=!1}var Lr=null,es=null,hi=null;function fl(){if(hi)return hi;var r,s=es,o=s.length,u,d="value"in Lr?Lr.value:Lr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var S=o-r;for(u=1;u<=S&&s[o-u]===d[g-u];u++);return hi=d.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function dl(){return!1}function Jt(r){function s(o,u,d,g,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pr:dl,this.isPropagationStopped=dl,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Jt(ht),Xs=O({},ht,{view:0,detail:0}),ec=Jt(Xs),Fa,qa,Vr,Ws=O({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vr&&(Vr&&r.type==="mousemove"?(Fa=r.screenX-Vr.screenX,qa=r.screenY-Vr.screenY):qa=Fa=0,Vr=r),Fa)},movementY:function(r){return"movementY"in r?r.movementY:qa}}),ar=Jt(Ws),tc=O({},Ws,{dataTransfer:0}),Pf=Jt(tc),Zs=O({},Xs,{relatedTarget:0}),Ha=Jt(Zs),pl=O({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Jt(pl),nc=O({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ka=Jt(nc),Vf=O({},ht,{data:0}),ml=Jt(Vf),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ic[r])?!!s[r]:!1}function ea(){return gl}var sc=O({},Xs,{key:function(r){if(r.key){var s=Js[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qa=Jt(sc),ac=O({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Jt(ac),fi=O({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),oc=Jt(fi),lc=O({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=Jt(lc),cc=O({},Ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=Jt(cc),Sn=O({},ht,{newState:0,oldState:0}),hc=Jt(Sn),fc=[9,13,27,32],Br=Hn&&"CompositionEvent"in window,h=null;Hn&&"documentMode"in document&&(h=document.documentMode);var v=Hn&&"TextEvent"in window&&!h,T=Hn&&(!Br||h&&8<h&&11>=h),C=" ",Y=!1;function re(r,s){switch(r){case"keyup":return fc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function Ht(r,s){switch(r){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(Y=!0,C);case"textInput":return r=s.data,r===C&&Y?null:r;default:return null}}function rt(r,s){if(nt)return r==="compositionend"||!Br&&re(r,s)?(r=fl(),hi=es=Lr=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!en[r.type]:s==="textarea"}function di(r,s,o,u){li?ui?ui.push(u):ui=[u]:li=u,s=Yc(s,"onChange"),0<s.length&&(o=new ja("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var an=null,zr=null;function _l(r){B0(r,0)}function dc(r){var s=$i(r);if(ll(s))return r}function py(r,s){if(r==="change")return s}var my=!1;if(Hn){var Bf;if(Hn){var zf="oninput"in document;if(!zf){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),zf=typeof gy.oninput=="function"}Bf=zf}else Bf=!1;my=Bf&&(!document.documentMode||9<document.documentMode)}function yy(){an&&(an.detachEvent("onpropertychange",_y),zr=an=null)}function _y(r){if(r.propertyName==="value"&&dc(zr)){var s=[];di(s,zr,r,za(r)),Ju(_l,s)}}function bS(r,s,o){r==="focusin"?(yy(),an=s,zr=o,an.attachEvent("onpropertychange",_y)):r==="focusout"&&yy()}function SS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dc(zr)}function AS(r,s){if(r==="click")return dc(s)}function xS(r,s){if(r==="input"||r==="change")return dc(s)}function RS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:RS;function vl(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Er.call(s,d)||!Gn(r[d],s[d]))return!1}return!0}function vy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ey(r,s){var o=vy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vy(o)}}function wy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ty(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Va(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Va(r.document)}return s}function jf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function IS(r,s){var o=Ty(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&wy(s.ownerDocument.documentElement,s)){if(u!==null&&jf(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=Ey(s,g);var S=Ey(s,u);d&&S&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var CS=Hn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Ff=null,El=null,qf=!1;function by(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qf||Ya==null||Ya!==Va(u)||(u=Ya,"selectionStart"in u&&jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&vl(El,u)||(El=u,u=Yc(Ff,"onSelect"),0<u.length&&(s=new ja("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ya)))}function ta(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Xa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Hf={},Sy={};Hn&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function na(r){if(Hf[r])return Hf[r];if(!Xa[r])return r;var s=Xa[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Sy)return Hf[r]=s[o];return r}var Ay=na("animationend"),xy=na("animationiteration"),Ry=na("animationstart"),kS=na("transitionrun"),DS=na("transitionstart"),NS=na("transitioncancel"),Iy=na("transitionend"),Cy=new Map,ky="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(r,s){Cy.set(r,s),qn(s,[r])}var or=[],Wa=0,Gf=0;function pc(){for(var r=Wa,s=Gf=Wa=0;s<r;){var o=or[s];or[s++]=null;var u=or[s];or[s++]=null;var d=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}g!==0&&Dy(o,d,g)}}function mc(r,s,o,u){or[Wa++]=r,or[Wa++]=s,or[Wa++]=o,or[Wa++]=u,Gf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Kf(r,s,o,u){return mc(r,s,o,u),gc(r)}function ts(r,s){return mc(r,null,null,s),gc(r)}function Dy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-Be(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function gc(r){if(50<Gl)throw Gl=0,Zd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Za={},Ny=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=Ny.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Te(s)},Ny.set(r,s),s)}return{value:r,source:s,stack:Te(s)}}var Ja=[],eo=0,yc=null,_c=0,ur=[],cr=0,ra=null,pi=1,mi="";function ia(r,s){Ja[eo++]=_c,Ja[eo++]=yc,yc=r,_c=s}function Oy(r,s,o){ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ra,ra=r;var u=pi;r=mi;var d=32-Be(u)-1;u&=~(1<<d),o+=1;var g=32-Be(s)+d;if(30<g){var S=d-d%5;g=(u&(1<<S)-1).toString(32),u>>=S,d-=S,pi=1<<32-Be(s)+d|o<<d|u,mi=g+r}else pi=1<<g|o<<d|u,mi=r}function Qf(r){r.return!==null&&(ia(r,1),Oy(r,1,0))}function $f(r){for(;r===yc;)yc=Ja[--eo],Ja[eo]=null,_c=Ja[--eo],Ja[eo]=null;for(;r===ra;)ra=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null,pi=ur[--cr],ur[cr]=null}var An=null,on=null,lt=!1,Ar=null,jr=!1,Yf=Error(i(519));function sa(r){var s=Error(i(418,""));throw bl(lr(s,r)),Yf}function My(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Zt]=r,s[qt]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<Ql.length;o++)Je(Ql[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Ks(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Gs(s);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Ji(s,u.value,u.defaultValue,u.children),Gs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||q0(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=Xc),s=!0):s=!1,s||sa(r)}function Ly(r){for(An=r.return;An;)switch(An.tag){case 3:case 27:jr=!0;return;case 5:case 13:jr=!1;return;default:An=An.return}}function wl(r){if(r!==An)return!1;if(!lt)return Ly(r),lt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||mp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&on&&sa(r),Ly(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){on=Rr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}on=null}}else on=An?Rr(r.stateNode.nextSibling):null;return!0}function Tl(){on=An=null,lt=!1}function bl(r){Ar===null?Ar=[r]:Ar.push(r)}var Sl=Error(i(460)),Uy=Error(i(474)),Xf={then:function(){}};function Py(r){return r=r.status,r==="fulfilled"||r==="rejected"}function vc(){}function Vy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(vc,vc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Sl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(vc,vc);else{if(r=yt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Sl?Error(i(483)):r}throw Al=s,Sl}}var Al=null;function By(){if(Al===null)throw Error(i(459));var r=Al;return Al=null,r}var to=null,xl=0;function Ec(r){var s=xl;return xl+=1,to===null&&(to=[]),Vy(to,r,s)}function Rl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function wc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function zy(r){var s=r._init;return s(r._payload)}function jy(r){function s($,K){if(r){var W=$.deletions;W===null?($.deletions=[K],$.flags|=16):W.push(K)}}function o($,K){if(!r)return null;for(;K!==null;)s($,K),K=K.sibling;return null}function u($){for(var K=new Map;$!==null;)$.key!==null?K.set($.key,$):K.set($.index,$),$=$.sibling;return K}function d($,K){return $=ds($,K),$.index=0,$.sibling=null,$}function g($,K,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<K?($.flags|=33554434,K):W):($.flags|=33554434,K)):($.flags|=1048576,K)}function S($){return r&&$.alternate===null&&($.flags|=33554434),$}function I($,K,W,ce){return K===null||K.tag!==6?(K=Hd(W,$.mode,ce),K.return=$,K):(K=d(K,W),K.return=$,K)}function V($,K,W,ce){var Ae=W.type;return Ae===p?ue($,K,W.props.children,ce,W.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===te&&zy(Ae)===K.type)?(K=d(K,W.props),Rl(K,W),K.return=$,K):(K=Bc(W.type,W.key,W.props,null,$.mode,ce),Rl(K,W),K.return=$,K)}function Q($,K,W,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=Gd(W,$.mode,ce),K.return=$,K):(K=d(K,W.children||[]),K.return=$,K)}function ue($,K,W,ce,Ae){return K===null||K.tag!==7?(K=ma(W,$.mode,ce,Ae),K.return=$,K):(K=d(K,W),K.return=$,K)}function de($,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Hd(""+K,$.mode,W),K.return=$,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return W=Bc(K.type,K.key,K.props,null,$.mode,W),Rl(W,K),W.return=$,W;case f:return K=Gd(K,$.mode,W),K.return=$,K;case te:var ce=K._init;return K=ce(K._payload),de($,K,W)}if(L(K)||X(K))return K=ma(K,$.mode,W,null),K.return=$,K;if(typeof K.then=="function")return de($,Ec(K),W);if(K.$$typeof===b)return de($,Uc($,K),W);wc($,K)}return null}function ee($,K,W,ce){var Ae=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ae!==null?null:I($,K,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return W.key===Ae?V($,K,W,ce):null;case f:return W.key===Ae?Q($,K,W,ce):null;case te:return Ae=W._init,W=Ae(W._payload),ee($,K,W,ce)}if(L(W)||X(W))return Ae!==null?null:ue($,K,W,ce,null);if(typeof W.then=="function")return ee($,K,Ec(W),ce);if(W.$$typeof===b)return ee($,K,Uc($,W),ce);wc($,W)}return null}function le($,K,W,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $=$.get(W)||null,I(K,$,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case c:return $=$.get(ce.key===null?W:ce.key)||null,V(K,$,ce,Ae);case f:return $=$.get(ce.key===null?W:ce.key)||null,Q(K,$,ce,Ae);case te:var Ye=ce._init;return ce=Ye(ce._payload),le($,K,W,ce,Ae)}if(L(ce)||X(ce))return $=$.get(W)||null,ue(K,$,ce,Ae,null);if(typeof ce.then=="function")return le($,K,W,Ec(ce),Ae);if(ce.$$typeof===b)return le($,K,W,Uc(K,ce),Ae);wc(K,ce)}return null}function Ie($,K,W,ce){for(var Ae=null,Ye=null,ke=K,Oe=K=0,rn=null;ke!==null&&Oe<W.length;Oe++){ke.index>Oe?(rn=ke,ke=null):rn=ke.sibling;var ut=ee($,ke,W[Oe],ce);if(ut===null){ke===null&&(ke=rn);break}r&&ke&&ut.alternate===null&&s($,ke),K=g(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut,ke=rn}if(Oe===W.length)return o($,ke),lt&&ia($,Oe),Ae;if(ke===null){for(;Oe<W.length;Oe++)ke=de($,W[Oe],ce),ke!==null&&(K=g(ke,K,Oe),Ye===null?Ae=ke:Ye.sibling=ke,Ye=ke);return lt&&ia($,Oe),Ae}for(ke=u(ke);Oe<W.length;Oe++)rn=le(ke,$,Oe,W[Oe],ce),rn!==null&&(r&&rn.alternate!==null&&ke.delete(rn.key===null?Oe:rn.key),K=g(rn,K,Oe),Ye===null?Ae=rn:Ye.sibling=rn,Ye=rn);return r&&ke.forEach(function(Es){return s($,Es)}),lt&&ia($,Oe),Ae}function je($,K,W,ce){if(W==null)throw Error(i(151));for(var Ae=null,Ye=null,ke=K,Oe=K=0,rn=null,ut=W.next();ke!==null&&!ut.done;Oe++,ut=W.next()){ke.index>Oe?(rn=ke,ke=null):rn=ke.sibling;var Es=ee($,ke,ut.value,ce);if(Es===null){ke===null&&(ke=rn);break}r&&ke&&Es.alternate===null&&s($,ke),K=g(Es,K,Oe),Ye===null?Ae=Es:Ye.sibling=Es,Ye=Es,ke=rn}if(ut.done)return o($,ke),lt&&ia($,Oe),Ae;if(ke===null){for(;!ut.done;Oe++,ut=W.next())ut=de($,ut.value,ce),ut!==null&&(K=g(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut);return lt&&ia($,Oe),Ae}for(ke=u(ke);!ut.done;Oe++,ut=W.next())ut=le(ke,$,Oe,ut.value,ce),ut!==null&&(r&&ut.alternate!==null&&ke.delete(ut.key===null?Oe:ut.key),K=g(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut);return r&&ke.forEach(function(KA){return s($,KA)}),lt&&ia($,Oe),Ae}function Nt($,K,W,ce){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case c:e:{for(var Ae=W.key;K!==null;){if(K.key===Ae){if(Ae=W.type,Ae===p){if(K.tag===7){o($,K.sibling),ce=d(K,W.props.children),ce.return=$,$=ce;break e}}else if(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===te&&zy(Ae)===K.type){o($,K.sibling),ce=d(K,W.props),Rl(ce,W),ce.return=$,$=ce;break e}o($,K);break}else s($,K);K=K.sibling}W.type===p?(ce=ma(W.props.children,$.mode,ce,W.key),ce.return=$,$=ce):(ce=Bc(W.type,W.key,W.props,null,$.mode,ce),Rl(ce,W),ce.return=$,$=ce)}return S($);case f:e:{for(Ae=W.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){o($,K.sibling),ce=d(K,W.children||[]),ce.return=$,$=ce;break e}else{o($,K);break}else s($,K);K=K.sibling}ce=Gd(W,$.mode,ce),ce.return=$,$=ce}return S($);case te:return Ae=W._init,W=Ae(W._payload),Nt($,K,W,ce)}if(L(W))return Ie($,K,W,ce);if(X(W)){if(Ae=X(W),typeof Ae!="function")throw Error(i(150));return W=Ae.call(W),je($,K,W,ce)}if(typeof W.then=="function")return Nt($,K,Ec(W),ce);if(W.$$typeof===b)return Nt($,K,Uc($,W),ce);wc($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(o($,K.sibling),ce=d(K,W),ce.return=$,$=ce):(o($,K),ce=Hd(W,$.mode,ce),ce.return=$,$=ce),S($)):o($,K)}return function($,K,W,ce){try{xl=0;var Ae=Nt($,K,W,ce);return to=null,Ae}catch(ke){if(ke===Sl)throw ke;var Ye=pr(29,ke,null,$.mode);return Ye.lanes=ce,Ye.return=$,Ye}finally{}}}var aa=jy(!0),Fy=jy(!1),no=Le(null),Tc=Le(0);function qy(r,s){r=xi,Qe(Tc,r),Qe(no,s),xi=r|s.baseLanes}function Wf(){Qe(Tc,xi),Qe(no,no.current)}function Zf(){xi=Tc.current,at(no),at(Tc)}var hr=Le(null),Fr=null;function ns(r){var s=r.alternate;Qe(Kt,Kt.current&1),Qe(hr,r),Fr===null&&(s===null||no.current!==null||s.memoizedState!==null)&&(Fr=r)}function Hy(r){if(r.tag===22){if(Qe(Kt,Kt.current),Qe(hr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else rs()}function rs(){Qe(Kt,Kt.current),Qe(hr,hr.current)}function gi(r){at(hr),Fr===r&&(Fr=null),at(Kt)}var Kt=Le(0);function bc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var OS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},MS=t.unstable_scheduleCallback,LS=t.unstable_NormalPriority,Qt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new OS,data:new Map,refCount:0}}function Il(r){r.refCount--,r.refCount===0&&MS(LS,function(){r.controller.abort()})}var Cl=null,ed=0,ro=0,io=null;function US(r,s){if(Cl===null){var o=Cl=[];ed=0,ro=ap(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ed++,s.then(Gy,Gy),s}function Gy(){if(--ed===0&&Cl!==null){io!==null&&(io.status="fulfilled");var r=Cl;Cl=null,ro=0,io=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function PS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Ky=k.S;k.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&US(r,s),Ky!==null&&Ky(r,s)};var oa=Le(null);function td(){var r=oa.current;return r!==null?r:yt.pooledCache}function Sc(r,s){s===null?Qe(oa,oa.current):Qe(oa,s.pool)}function Qy(){var r=td();return r===null?null:{parent:Qt._currentValue,pool:r}}var is=0,$e=null,pt=null,Vt=null,Ac=!1,so=!1,la=!1,xc=0,kl=0,ao=null,VS=0;function Ut(){throw Error(i(321))}function nd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Gn(r[o],s[o]))return!1;return!0}function rd(r,s,o,u,d,g){return is=g,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=r===null||r.memoizedState===null?ua:ss,la=!1,g=o(u,d),la=!1,so&&(g=Yy(s,o,u,d)),$y(r),g}function $y(r){k.H=qr;var s=pt!==null&&pt.next!==null;if(is=0,Vt=pt=$e=null,Ac=!1,kl=0,ao=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&Lc(r)&&(tn=!0))}function Yy(r,s,o,u){$e=r;var d=0;do{if(so&&(ao=null),kl=0,so=!1,25<=d)throw Error(i(301));if(d+=1,Vt=pt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=ca,g=s(o,u)}while(so);return g}function BS(){var r=k.H,s=r.useState()[0];return s=typeof s.then=="function"?Dl(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&($e.flags|=1024),s}function id(){var r=xc!==0;return xc=0,r}function sd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ad(r){if(Ac){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ac=!1}is=0,Vt=pt=$e=null,so=!1,kl=xc=0,ao=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?$e.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Bt(){if(pt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Vt===null?$e.memoizedState:Vt.next;if(s!==null)Vt=s,pt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Vt===null?$e.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}var Rc;Rc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Dl(r){var s=kl;return kl+=1,ao===null&&(ao=[]),r=Vy(ao,r,s),s=$e,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?ua:ss),r}function Ic(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dl(r);if(r.$$typeof===b)return mn(r)}throw Error(i(438,String(r)))}function od(r){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Rc(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=fe;return s.index++,o}function yi(r,s){return typeof s=="function"?s(r):s}function Cc(r){var s=Bt();return ld(s,pt,r)}function ld(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var S=d.next;d.next=g.next,g.next=S}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var I=S=null,V=null,Q=s,ue=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(it&de)===de:(is&de)===de){var ee=Q.revertLane;if(ee===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===ro&&(ue=!0);else if((is&ee)===ee){Q=Q.next,ee===ro&&(ue=!0);continue}else de={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(I=V=de,S=g):V=V.next=de,$e.lanes|=ee,ps|=ee;de=Q.action,la&&o(g,de),g=Q.hasEagerState?Q.eagerState:o(g,de)}else ee={lane:de,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(I=V=ee,S=g):V=V.next=ee,$e.lanes|=de,ps|=de;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?S=g:V.next=I,!Gn(g,r.memoizedState)&&(tn=!0,ue&&(o=io,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function ud(r){var s=Bt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do g=r(g,S.action),S=S.next;while(S!==d);Gn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Xy(r,s,o){var u=$e,d=Bt(),g=lt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!Gn((pt||d).memoizedState,o);if(S&&(d.memoizedState=o,tn=!0),d=d.queue,fd(Jy.bind(null,u,d,r),[r]),d.getSnapshot!==s||S||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,oo(9,Zy.bind(null,u,d,o,s),{destroy:void 0},null),yt===null)throw Error(i(349));g||(is&60)!==0||Wy(u,s,o)}return o}function Wy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=Rc(),$e.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Zy(r,s,o,u){s.value=o,s.getSnapshot=u,e_(s)&&t_(r)}function Jy(r,s,o){return o(function(){e_(s)&&t_(r)})}function e_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Gn(r,o)}catch{return!0}}function t_(r){var s=ts(r,2);s!==null&&xn(s,r,2)}function cd(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),la){Me(!0);try{o()}finally{Me(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},s}function n_(r,s,o,u){return r.baseState=o,ld(r,pt,typeof u=="function"?u:yi)}function zS(r,s,o,u,d){if(Nc(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,r_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function r_(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=k.T,S={};k.T=S;try{var I=o(d,u),V=k.S;V!==null&&V(S,I),i_(r,s,I)}catch(Q){hd(r,s,Q)}finally{k.T=g}}else try{g=o(d,u),i_(r,s,g)}catch(Q){hd(r,s,Q)}}function i_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){s_(r,s,u)},function(u){return hd(r,s,u)}):s_(r,s,o)}function s_(r,s,o){s.status="fulfilled",s.value=o,a_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,r_(r,o)))}function hd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,a_(s),s=s.next;while(s!==u)}r.action=null}function a_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function o_(r,s){return s}function l_(r,s){if(lt){var o=yt.formState;if(o!==null){e:{var u=$e;if(lt){if(on){t:{for(var d=on,g=jr;d.nodeType!==8;){if(!g){d=null;break t}if(d=Rr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=Rr(d.nextSibling),u=d.data==="F!";break e}}sa(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:s},o.queue=u,o=x_.bind(null,$e,u),u.dispatch=o,u=cd(!1),g=yd.bind(null,$e,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=zS.bind(null,$e,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function u_(r){var s=Bt();return c_(s,pt,r)}function c_(r,s,o){s=ld(r,s,o_)[0],r=Cc(yi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Dl(s):s;var u=Bt(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&($e.flags|=2048,oo(9,jS.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function jS(r,s){r.action=s}function h_(r){var s=Bt(),o=pt;if(o!==null)return c_(s,o,r);Bt(),s=s.memoizedState,o=Bt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function oo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=$e.updateQueue,s===null&&(s=Rc(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function f_(){return Bt().memoizedState}function kc(r,s,o,u){var d=Nn();$e.flags|=r,d.memoizedState=oo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Dc(r,s,o,u){var d=Bt();u=u===void 0?null:u;var g=d.memoizedState.inst;pt!==null&&u!==null&&nd(u,pt.memoizedState.deps)?d.memoizedState=oo(s,o,g,u):($e.flags|=r,d.memoizedState=oo(1|s,o,g,u))}function d_(r,s){kc(8390656,8,r,s)}function fd(r,s){Dc(2048,8,r,s)}function p_(r,s){return Dc(4,2,r,s)}function m_(r,s){return Dc(4,4,r,s)}function g_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function y_(r,s,o){o=o!=null?o.concat([r]):null,Dc(4,4,g_.bind(null,s,r),o)}function dd(){}function __(r,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&nd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function v_(r,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&nd(s,u[1]))return u[0];if(u=r(),la){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,s],u}function pd(r,s,o){return o===void 0||(is&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=w0(),$e.lanes|=r,ps|=r,o)}function E_(r,s,o,u){return Gn(o,s)?o:no.current!==null?(r=pd(r,o,u),Gn(r,s)||(tn=!0),r):(is&42)===0?(tn=!0,r.memoizedState=o):(r=w0(),$e.lanes|=r,ps|=r,s)}function w_(r,s,o,u,d){var g=ve.p;ve.p=g!==0&&8>g?g:8;var S=k.T,I={};k.T=I,yd(r,!1,s,o);try{var V=d(),Q=k.S;if(Q!==null&&Q(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ue=PS(V,u);Nl(r,s,ue,Yn(r))}else Nl(r,s,u,Yn(r))}catch(de){Nl(r,s,{then:function(){},status:"rejected",reason:de},Yn())}finally{ve.p=g,k.T=S}}function FS(){}function md(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=T_(r).queue;w_(r,d,s,Ne,o===null?FS:function(){return b_(r),o(u)})}function T_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function b_(r){var s=T_(r).next.queue;Nl(r,s,{},Yn())}function gd(){return mn(Zl)}function S_(){return Bt().memoizedState}function A_(){return Bt().memoizedState}function qS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();r=ls(o);var u=us(s,r,o);u!==null&&(xn(u,s,o),Ll(u,s,o)),s={cache:Jf()},r.payload=s;return}s=s.return}}function HS(r,s,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Nc(r)?R_(s,o):(o=Kf(r,s,o,u),o!==null&&(xn(o,r,u),I_(o,s,u)))}function x_(r,s,o){var u=Yn();Nl(r,s,o,u)}function Nl(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nc(r))R_(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,I=g(S,o);if(d.hasEagerState=!0,d.eagerState=I,Gn(I,S))return mc(r,s,d,0),yt===null&&pc(),!1}catch{}finally{}if(o=Kf(r,s,d,u),o!==null)return xn(o,r,u),I_(o,s,u),!0}return!1}function yd(r,s,o,u){if(u={lane:2,revertLane:ap(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(r)){if(s)throw Error(i(479))}else s=Kf(r,o,u,2),s!==null&&xn(s,r,2)}function Nc(r){var s=r.alternate;return r===$e||s!==null&&s===$e}function R_(r,s){so=Ac=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function I_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gi(r,o)}}var qr={readContext:mn,use:Ic,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut};qr.useCacheRefresh=Ut,qr.useMemoCache=Ut,qr.useHostTransitionStatus=Ut,qr.useFormState=Ut,qr.useActionState=Ut,qr.useOptimistic=Ut;var ua={readContext:mn,use:Ic,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:d_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,kc(4194308,4,g_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return kc(4194308,4,r,s)},useInsertionEffect:function(r,s){kc(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(la){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(la){Me(!0);try{o(s)}finally{Me(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=HS.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=cd(r);var s=r.queue,o=x_.bind(null,$e,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:dd,useDeferredValue:function(r,s){var o=Nn();return pd(o,r,s)},useTransition:function(){var r=cd(!1);return r=w_.bind(null,$e,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=$e,d=Nn();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),yt===null)throw Error(i(349));(it&60)!==0||Wy(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,d_(Jy.bind(null,u,g,r),[r]),u.flags|=2048,oo(9,Zy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=yt.identifierPrefix;if(lt){var o=mi,u=pi;o=(u&~(1<<32-Be(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=xc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=VS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=qS.bind(null,$e)}};ua.useMemoCache=od,ua.useHostTransitionStatus=gd,ua.useFormState=l_,ua.useActionState=l_,ua.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=yd.bind(null,$e,!0,o),o.dispatch=s,[r,s]};var ss={readContext:mn,use:Ic,useCallback:__,useContext:mn,useEffect:fd,useImperativeHandle:y_,useInsertionEffect:p_,useLayoutEffect:m_,useMemo:v_,useReducer:Cc,useRef:f_,useState:function(){return Cc(yi)},useDebugValue:dd,useDeferredValue:function(r,s){var o=Bt();return E_(o,pt.memoizedState,r,s)},useTransition:function(){var r=Cc(yi)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:Xy,useId:S_};ss.useCacheRefresh=A_,ss.useMemoCache=od,ss.useHostTransitionStatus=gd,ss.useFormState=u_,ss.useActionState=u_,ss.useOptimistic=function(r,s){var o=Bt();return n_(o,pt,r,s)};var ca={readContext:mn,use:Ic,useCallback:__,useContext:mn,useEffect:fd,useImperativeHandle:y_,useInsertionEffect:p_,useLayoutEffect:m_,useMemo:v_,useReducer:ud,useRef:f_,useState:function(){return ud(yi)},useDebugValue:dd,useDeferredValue:function(r,s){var o=Bt();return pt===null?pd(o,r,s):E_(o,pt.memoizedState,r,s)},useTransition:function(){var r=ud(yi)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:Xy,useId:S_};ca.useCacheRefresh=A_,ca.useMemoCache=od,ca.useHostTransitionStatus=gd,ca.useFormState=h_,ca.useActionState=h_,ca.useOptimistic=function(r,s){var o=Bt();return pt!==null?n_(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function _d(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:O({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var vd={isMounted:function(r){return(r=r._reactInternals)?be(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Yn(),d=ls(u);d.payload=s,o!=null&&(d.callback=o),s=us(r,d,u),s!==null&&(xn(s,r,u),Ll(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Yn(),d=ls(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=us(r,d,u),s!==null&&(xn(s,r,u),Ll(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Yn(),u=ls(o);u.tag=2,s!=null&&(u.callback=s),s=us(r,u,o),s!==null&&(xn(s,r,o),Ll(s,r,o))}};function C_(r,s,o,u,d,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!vl(o,u)||!vl(d,g):!0}function k_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&vd.enqueueReplaceState(s,s.state,null)}function ha(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=O({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Oc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function D_(r){Oc(r)}function N_(r){console.error(r)}function O_(r){Oc(r)}function Mc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function M_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ed(r,s,o){return o=ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Mc(r,s)},o}function L_(r){return r=ls(r),r.tag=3,r}function U_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){M_(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){M_(s,o,u),typeof d!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function GS(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ml(s,o,d,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Fr===null?tp():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Xf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rp(r,u,d)),!1;case 22:return o.flags|=65536,u===Xf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rp(r,u,d)),!1}throw Error(i(435,o.tag))}return rp(r,u,d),tp(),!1}if(lt)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Yf&&(r=Error(i(422),{cause:u}),bl(lr(r,o)))):(u!==Yf&&(s=Error(i(423),{cause:u}),bl(lr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=lr(u,o),d=Ed(r.stateNode,u,d),Ld(r,d),Dt!==4&&(Dt=2)),!1;var g=Error(i(520),{cause:u});if(g=lr(g,o),ql===null?ql=[g]:ql.push(g),Dt!==4&&(Dt=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Ed(o.stateNode,u,r),Ld(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ms===null||!ms.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=L_(d),U_(d,r,o,u),Ld(o,d),!1}o=o.return}while(o!==null);return!1}var P_=Error(i(461)),tn=!1;function ln(r,s,o,u){s.child=r===null?Fy(s,null,o,u):aa(s,r.child,o,u)}function V_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var S={};for(var I in u)I!=="ref"&&(S[I]=u[I])}else S=u;return da(s),u=rd(r,s,o,S,g,d),I=id(),r!==null&&!tn?(sd(r,s,d),_i(r,s,d)):(lt&&I&&Qf(s),s.flags|=1,ln(r,s,u,d),s.child)}function B_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!qd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,z_(r,s,g,u,d)):(r=Bc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Cd(r,d)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:vl,o(S,u)&&r.ref===s.ref)return _i(r,s,d)}return s.flags|=1,r=ds(g,u),r.ref=s.ref,r.return=s,s.child=r}function z_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(vl(g,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=g,Cd(r,d))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,_i(r,s,d)}return wd(r,s,o,u,d)}function j_(r,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(Ol(r,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=S!==null?S.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return F_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sc(s,S!==null?S.cachePool:null),S!==null?qy(s,S):Wf(),Hy(s);else return s.lanes=s.childLanes=536870912,F_(r,s,S!==null?S.baseLanes|o:o,o)}else S!==null?(Sc(s,S.cachePool),qy(s,S),rs(),s.memoizedState=null):(r!==null&&Sc(s,null),Wf(),rs());return ln(r,s,d,o),s.child}function F_(r,s,o,u){var d=td();return d=d===null?null:{parent:Qt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Sc(s,null),Wf(),Hy(s),r!==null&&Ml(r,s,u,!0),null}function Ol(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function wd(r,s,o,u,d){return da(s),o=rd(r,s,o,u,void 0,d),u=id(),r!==null&&!tn?(sd(r,s,d),_i(r,s,d)):(lt&&u&&Qf(s),s.flags|=1,ln(r,s,o,d),s.child)}function q_(r,s,o,u,d,g){return da(s),s.updateQueue=null,o=Yy(s,u,o,d),$y(r),u=id(),r!==null&&!tn?(sd(r,s,g),_i(r,s,g)):(lt&&u&&Qf(s),s.flags|=1,ln(r,s,o,g),s.child)}function H_(r,s,o,u,d){if(da(s),s.stateNode===null){var g=Za,S=o.contextType;typeof S=="object"&&S!==null&&(g=mn(S)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Od(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?mn(S):Za,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(_d(s,o,S,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&vd.enqueueReplaceState(g,g.state,null),Pl(s,u,g,d),Ul(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,V=ha(o,I);g.props=V;var Q=g.context,ue=o.contextType;S=Za,typeof ue=="object"&&ue!==null&&(S=mn(ue));var de=o.getDerivedStateFromProps;ue=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ue||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==S)&&k_(s,g,u,S),os=!1;var ee=s.memoizedState;g.state=ee,Pl(s,u,g,d),Ul(),Q=s.memoizedState,I||ee!==Q||os?(typeof de=="function"&&(_d(s,o,de,u),Q=s.memoizedState),(V=os||C_(s,o,V,u,ee,Q,S))?(ue||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=S,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Md(r,s),S=s.memoizedProps,ue=ha(o,S),g.props=ue,de=s.pendingProps,ee=g.context,Q=o.contextType,V=Za,typeof Q=="object"&&Q!==null&&(V=mn(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==de||ee!==V)&&k_(s,g,u,V),os=!1,ee=s.memoizedState,g.state=ee,Pl(s,u,g,d),Ul();var le=s.memoizedState;S!==de||ee!==le||os||r!==null&&r.dependencies!==null&&Lc(r.dependencies)?(typeof I=="function"&&(_d(s,o,I,u),le=s.memoizedState),(ue=os||C_(s,o,ue,u,ee,le,V)||r!==null&&r.dependencies!==null&&Lc(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,le,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,le,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=le),g.props=u,g.state=le,g.context=V,u=ue):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ol(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=aa(s,r.child,null,d),s.child=aa(s,null,o,d)):ln(r,s,o,d),s.memoizedState=g.state,r=s.child):r=_i(r,s,d),r}function G_(r,s,o,u){return Tl(),s.flags|=256,ln(r,s,o,u),s.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function bd(r){return{baseLanes:r,cachePool:Qy()}}function Sd(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function K_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),S&&(d=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(lt){if(d?ns(s):rs(),lt){var I=on,V;if(V=I){e:{for(V=I,I=jr;V.nodeType!==8;){if(!I){I=null;break e}if(V=Rr(V.nextSibling),V===null){I=null;break e}}I=V}I!==null?(s.memoizedState={dehydrated:I,treeContext:ra!==null?{id:pi,overflow:mi}:null,retryLane:536870912},V=pr(18,null,null,0),V.stateNode=I,V.return=s,s.child=V,An=s,on=null,V=!0):V=!1}V||sa(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;gi(s)}return I=u.children,u=u.fallback,d?(rs(),d=s.mode,I=xd({mode:"hidden",children:I},d),u=ma(u,d,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,d=s.child,d.memoizedState=bd(o),d.childLanes=Sd(r,S,o),s.memoizedState=Td,u):(ns(s),Ad(s,I))}if(V=r.memoizedState,V!==null&&(I=V.dehydrated,I!==null)){if(g)s.flags&256?(ns(s),s.flags&=-257,s=Rd(r,s,o)):s.memoizedState!==null?(rs(),s.child=r.child,s.flags|=128,s=null):(rs(),d=u.fallback,I=s.mode,u=xd({mode:"visible",children:u.children},I),d=ma(d,I,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,aa(s,r.child,null,o),u=s.child,u.memoizedState=bd(o),u.childLanes=Sd(r,S,o),s.memoizedState=Td,s=d);else if(ns(s),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var Q=S.dgst;S=Q,u=Error(i(419)),u.stack="",u.digest=S,bl({value:u,source:null,stack:null}),s=Rd(r,s,o)}else if(tn||Ml(r,s,o,!1),S=(o&r.childLanes)!==0,tn||S){if(S=yt,S!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane)throw V.retryLane=u,ts(r,u),xn(S,r,u),P_}I.data==="$?"||tp(),s=Rd(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=aA.bind(null,r),I._reactRetry=s,s=null):(r=V.treeContext,on=Rr(I.nextSibling),An=s,lt=!0,Ar=null,jr=!1,r!==null&&(ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ra,pi=r.id,mi=r.overflow,ra=s),s=Ad(s,u.children),s.flags|=4096);return s}return d?(rs(),d=u.fallback,I=s.mode,V=r.child,Q=V.sibling,u=ds(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&31457280,Q!==null?d=ds(Q,d):(d=ma(d,I,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,I=r.child.memoizedState,I===null?I=bd(o):(V=I.cachePool,V!==null?(Q=Qt._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=Qy(),I={baseLanes:I.baseLanes|o,cachePool:V}),d.memoizedState=I,d.childLanes=Sd(r,S,o),s.memoizedState=Td,u):(ns(s),o=r.child,r=o.sibling,o=ds(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function Ad(r,s){return s=xd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function xd(r,s){return _0(r,s,0,null)}function Rd(r,s,o){return aa(s,r.child,null,o),r=Ad(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Q_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Dd(r.return,s,o)}function Id(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function $_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(r,s,u.children,o),u=Kt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Q_(r,o,s);else if(r.tag===19)Q_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qe(Kt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&bc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Id(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&bc(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Id(s,!0,o,null,g);break;case"together":Id(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ml(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ds(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ds(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Cd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Lc(r)))}function KS(r,s,o){switch(s.tag){case 3:zn(s,s.stateNode.containerInfo),as(s,Qt,r.memoizedState.cache),Tl();break;case 27:case 5:er(s);break;case 4:zn(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ns(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K_(r,s,o):(ns(s),r=_i(r,s,o),r!==null?r.sibling:null);ns(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ml(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return $_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(Kt,Kt.current),u)break;return null;case 22:case 23:return s.lanes=0,j_(r,s,o);case 24:as(s,Qt,r.memoizedState.cache)}return _i(r,s,o)}function Y_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Cd(r,o)&&(s.flags&128)===0)return tn=!1,KS(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,lt&&(s.flags&1048576)!==0&&Oy(s,_c,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")qd(u)?(r=ha(u,r),s.tag=1,s=H_(null,s,u,r,o)):(s.tag=0,s=wd(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===P){s.tag=11,s=V_(null,s,u,r,o);break e}else if(d===G){s.tag=14,s=B_(null,s,u,r,o);break e}}throw s=M(u)||u,Error(i(306,s,""))}}return s;case 0:return wd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ha(u,s.pendingProps),H_(r,s,u,d,o);case 3:e:{if(zn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,Md(r,s),Pl(s,g,null,o);var S=s.memoizedState;if(g=S.cache,as(s,Qt,g),g!==d.cache&&Nd(s,[Qt],o,!0),Ul(),g=S.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=G_(r,s,g,o);break e}else if(g!==u){u=lr(Error(i(424)),s),bl(u),s=G_(r,s,g,o);break e}else for(on=Rr(s.stateNode.containerInfo.firstChild),An=s,lt=!0,Ar=null,jr=!0,o=Fy(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Tl(),g===u){s=_i(r,s,o);break e}ln(r,s,g,o)}s=s.child}return s;case 26:return Ol(r,s),r===null?(o=Z0(s.type,null,s.pendingProps,null))?s.memoizedState=o:lt||(o=s.type,r=s.pendingProps,u=Wc(Mt.current).createElement(o),u[Zt]=s,u[qt]=r,un(u,o,r),bt(u),s.stateNode=u):s.memoizedState=Z0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return er(s),r===null&&lt&&(u=s.stateNode=Y0(s.type,s.pendingProps,Mt.current),An=s,jr=!0,on=Rr(u.firstChild)),u=s.pendingProps.children,r!==null||lt?ln(r,s,u,o):s.child=aa(s,null,u,o),Ol(r,s),s.child;case 5:return r===null&&lt&&((d=u=on)&&(u=TA(u,s.type,s.pendingProps,jr),u!==null?(s.stateNode=u,An=s,on=Rr(u.firstChild),jr=!1,d=!0):d=!1),d||sa(s)),er(s),d=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,mp(d,g)?u=null:S!==null&&mp(d,S)&&(s.flags|=32),s.memoizedState!==null&&(d=rd(r,s,BS,null,null,o),Zl._currentValue=d),Ol(r,s),ln(r,s,u,o),s.child;case 6:return r===null&&lt&&((r=o=on)&&(o=bA(o,s.pendingProps,jr),o!==null?(s.stateNode=o,An=s,on=null,r=!0):r=!1),r||sa(s)),null;case 13:return K_(r,s,o);case 4:return zn(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=aa(s,null,u,o):ln(r,s,u,o),s.child;case 11:return V_(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,as(s,s.type,u.value),ln(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,da(s),d=mn(d),u=u(d),s.flags|=1,ln(r,s,u,o),s.child;case 14:return B_(r,s,s.type,s.pendingProps,o);case 15:return z_(r,s,s.type,s.pendingProps,o);case 19:return $_(r,s,o);case 22:return j_(r,s,o);case 24:return da(s),u=mn(Qt),r===null?(d=td(),d===null&&(d=yt,g=Jf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Od(s),as(s,Qt,d)):((r.lanes&o)!==0&&(Md(r,s),Pl(s,null,null,o),Ul()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),as(s,Qt,u)):(u=g.cache,as(s,Qt,u),u!==d.cache&&Nd(s,[Qt],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var kd=Le(null),fa=null,vi=null;function as(r,s,o){Qe(kd,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=kd.current,at(kd)}function Dd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Nd(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var S=d.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=d;for(var V=0;V<s.length;V++)if(I.context===s[V]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Dd(g.return,o,r),u||(S=null);break e}g=I.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Dd(S,o,r),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===r){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Ml(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var I=d.type;Gn(d.pendingProps.value,S.value)||(r!==null?r.push(I):r=[I])}}else if(d===dn.current){if(S=d.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Zl):r=[Zl])}d=d.return}r!==null&&Nd(s,r,o,u),s.flags|=262144}function Lc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function da(r){fa=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return X_(fa,r)}function Uc(r,s){return fa===null&&da(r),X_(r,s)}function X_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var os=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ls(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function us(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(At&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=gc(r),Dy(r,null,o),s}return mc(r,u,s,o),gc(r)}function Ll(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gi(r,o)}}function Ld(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Ud=!1;function Ul(){if(Ud){var r=io;if(r!==null)throw r}}function Pl(r,s,o,u){Ud=!1;var d=r.updateQueue;os=!1;var g=d.firstBaseUpdate,S=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var V=I,Q=V.next;V.next=null,S===null?g=Q:S.next=Q,S=V;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==S&&(I===null?ue.firstBaseUpdate=Q:I.next=Q,ue.lastBaseUpdate=V))}if(g!==null){var de=d.baseState;S=0,ue=Q=V=null,I=g;do{var ee=I.lane&-536870913,le=ee!==I.lane;if(le?(it&ee)===ee:(u&ee)===ee){ee!==0&&ee===ro&&(Ud=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ie=r,je=I;ee=s;var Nt=o;switch(je.tag){case 1:if(Ie=je.payload,typeof Ie=="function"){de=Ie.call(Nt,de,ee);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=je.payload,ee=typeof Ie=="function"?Ie.call(Nt,de,ee):Ie,ee==null)break e;de=O({},de,ee);break e;case 2:os=!0}}ee=I.callback,ee!==null&&(r.flags|=64,le&&(r.flags|=8192),le=d.callbacks,le===null?d.callbacks=[ee]:le.push(ee))}else le={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(Q=ue=le,V=de):ue=ue.next=le,S|=ee;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;le=I,I=le.next,le.next=null,d.lastBaseUpdate=le,d.shared.pending=null}}while(!0);ue===null&&(V=de),d.baseState=V,d.firstBaseUpdate=Q,d.lastBaseUpdate=ue,g===null&&(d.shared.lanes=0),ps|=S,r.lanes=S,r.memoizedState=de}}function W_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Z_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)W_(o[r],s)}function Vl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==d)}}catch(I){gt(s,s.return,I)}}function cs(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var S=u.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,d=s;var V=o;try{I()}catch(Q){gt(d,V,Q)}}}u=u.next}while(u!==g)}}catch(Q){gt(s,s.return,Q)}}function J_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Z_(s,o)}catch(u){gt(r,r.return,u)}}}function e0(r,s,o){o.props=ha(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){gt(r,s,u)}}function pa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){gt(r,s,g)}}function Kn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){gt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){gt(r,s,d)}else o.current=null}function t0(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){gt(r,r.return,d)}}function n0(r,s,o){try{var u=r.stateNode;yA(u,r.type,o,s),u[qt]=s}catch(d){gt(r,r.return,d)}}function r0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Pd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||r0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Xc));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Vd(r,s,o),r=r.sibling;r!==null;)Vd(r,s,o),r=r.sibling}function Pc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Pc(r,s,o),r=r.sibling;r!==null;)Pc(r,s,o),r=r.sibling}var wi=!1,kt=!1,Bd=!1,i0=typeof WeakSet=="function"?WeakSet:Set,nn=null,s0=!1;function QS(r,s){if(r=r.containerInfo,dp=rh,r=Ty(r),jf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,I=-1,V=-1,Q=0,ue=0,de=r,ee=null;t:for(;;){for(var le;de!==o||d!==0&&de.nodeType!==3||(I=S+d),de!==g||u!==0&&de.nodeType!==3||(V=S+u),de.nodeType===3&&(S+=de.nodeValue.length),(le=de.firstChild)!==null;)ee=de,de=le;for(;;){if(de===r)break t;if(ee===o&&++Q===d&&(I=S),ee===g&&++ue===u&&(V=S),(le=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=le}o=I===-1||V===-1?null:{start:I,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:r,selectionRange:o},rh=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=ha(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(je){gt(o,o.return,je)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)_p(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}return Ie=s0,s0=!1,Ie}function a0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bi(r,o),u&4&&Vl(5,o);break;case 1:if(bi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){gt(o,o.return,I)}else{var d=ha(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(o,o.return,I)}}u&64&&J_(o),u&512&&pa(o,o.return);break;case 3:if(bi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Z_(u,r)}catch(I){gt(o,o.return,I)}}break;case 26:bi(r,o),u&512&&pa(o,o.return);break;case 27:case 5:bi(r,o),s===null&&u&4&&t0(o),u&512&&pa(o,o.return);break;case 12:bi(r,o);break;case 13:bi(r,o),u&4&&u0(r,o);break;case 22:if(d=o.memoizedState!==null||wi,!d){s=s!==null&&s.memoizedState!==null||kt;var g=wi,S=kt;wi=d,(kt=s)&&!S?hs(r,o,(o.subtreeFlags&8772)!==0):bi(r,o),wi=g,kt=S}u&512&&(o.memoizedProps.mode==="manual"?pa(o,o.return):Kn(o,o.return));break;default:bi(r,o)}}function o0(r){var s=r.alternate;s!==null&&(r.alternate=null,o0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Hs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,Qn=!1;function Ti(r,s,o){for(o=o.child;o!==null;)l0(r,s,o),o=o.sibling}function l0(r,s,o){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ie,o)}catch{}switch(o.tag){case 26:kt||Kn(o,s),Ti(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Kn(o,s);var u=zt,d=Qn;for(zt=o.stateNode,Ti(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Hs(o),zt=u,Qn=d;break;case 5:kt||Kn(o,s);case 6:d=zt;var g=Qn;if(zt=null,Ti(r,s,o),zt=d,Qn=g,zt!==null)if(Qn)try{r=zt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(S){gt(o,s,S)}else try{zt.removeChild(o.stateNode)}catch(S){gt(o,s,S)}break;case 18:zt!==null&&(Qn?(s=zt,o=o.stateNode,s.nodeType===8?yp(s.parentNode,o):s.nodeType===1&&yp(s,o),nu(s)):yp(zt,o.stateNode));break;case 4:u=zt,d=Qn,zt=o.stateNode.containerInfo,Qn=!0,Ti(r,s,o),zt=u,Qn=d;break;case 0:case 11:case 14:case 15:kt||cs(2,o,s),kt||cs(4,o,s),Ti(r,s,o);break;case 1:kt||(Kn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&e0(o,s,u)),Ti(r,s,o);break;case 21:Ti(r,s,o);break;case 22:kt||Kn(o,s),kt=(u=kt)||o.memoizedState!==null,Ti(r,s,o),kt=u;break;default:Ti(r,s,o)}}function u0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(o){gt(s,s.return,o)}}function $S(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new i0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new i0),s;default:throw Error(i(435,r.tag))}}function zd(r,s){var o=$S(r);s.forEach(function(u){var d=oA.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,S=s,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:zt=I.stateNode,Qn=!1;break e;case 3:zt=I.stateNode.containerInfo,Qn=!0;break e;case 4:zt=I.stateNode.containerInfo,Qn=!0;break e}I=I.return}if(zt===null)throw Error(i(160));l0(g,S,d),zt=null,Qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)c0(s,r),s=s.sibling}var xr=null;function c0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),dr(r),u&4&&(cs(3,r,r.return),Vl(3,r),cs(5,r,r.return));break;case 1:fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),u&64&&wi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=xr;if(fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Qi]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Zt]=r,bt(g),u=g;break e;case"link":var S=tv("link","href",d).get(u+(o.href||""));if(S){for(var I=0;I<S.length;I++)if(g=S[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(I,1);break t}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(S=tv("meta","content",d).get(u+(o.content||""))){for(I=0;I<S.length;I++)if(g=S[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(I,1);break t}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Zt]=r,bt(g),u=g}r.stateNode=u}else nv(d,r.type,r.stateNode);else r.stateNode=ev(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?nv(d,r.type,r.stateNode):ev(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&n0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var V=d.firstChild;V;){var Q=V.nextSibling,ue=V.nodeName;V[Qi]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&V.rel.toLowerCase()==="stylesheet"||d.removeChild(V),V=Q}for(var de=r.type,ee=d.attributes;ee.length;)d.removeAttributeNode(ee[0]);un(d,de,g),d[Zt]=r,d[qt]=g}catch(Ie){gt(r,r.return,Ie)}}case 5:if(fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),r.flags&32){d=r.stateNode;try{rr(d,"")}catch(Ie){gt(r,r.return,Ie)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,n0(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Bd=!0);break;case 6:if(fr(s,r),dr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ie){gt(r,r.return,Ie)}}break;case 3:if(eh=null,d=xr,xr=Zc(s.containerInfo),fr(s,r),xr=d,dr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nu(s.containerInfo)}catch(Ie){gt(r,r.return,Ie)}Bd&&(Bd=!1,h0(r));break;case 4:u=xr,xr=Zc(r.stateNode.containerInfo),fr(s,r),dr(r),xr=u;break;case 12:fr(s,r),dr(r);break;case 13:fr(s,r),dr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yd=Wt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zd(r,u)));break;case 22:if(u&512&&(kt||o===null||Kn(o,o.return)),V=r.memoizedState!==null,Q=o!==null&&o.memoizedState!==null,ue=wi,de=kt,wi=ue||V,kt=de||Q,fr(s,r),kt=de,wi=ue,dr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=wi||kt,o===null||Q||s||lo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Q=o=s;try{if(d=Q.stateNode,V)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=Q.stateNode,I=Q.memoizedProps.style;var le=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){gt(Q,Q.return,Ie)}}}else if(s.tag===6){if(o===null){Q=s;try{Q.stateNode.nodeValue=V?"":Q.memoizedProps}catch(Ie){gt(Q,Q.return,Ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zd(r,o))));break;case 19:fr(s,r),dr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zd(r,u)));break;case 21:break;default:fr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(r0(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,g=Pd(r);Pc(r,g,d);break;case 5:var S=u.stateNode;u.flags&32&&(rr(S,""),u.flags&=-33);var I=Pd(r);Pc(r,I,S);break;case 3:case 4:var V=u.stateNode.containerInfo,Q=Pd(r);Vd(r,Q,V);break;default:throw Error(i(161))}}}catch(ue){gt(r,r.return,ue)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function h0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;h0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function bi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)a0(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),lo(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&e0(s,s.return,o),lo(s);break;case 26:case 27:case 5:Kn(s,s.return),lo(s);break;case 22:Kn(s,s.return),s.memoizedState===null&&lo(s);break;default:lo(s)}r=r.sibling}}function hs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:hs(d,g,o),Vl(4,g);break;case 1:if(hs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){gt(u,u.return,Q)}if(u=g,d=u.updateQueue,d!==null){var I=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)W_(V[d],I)}catch(Q){gt(u,u.return,Q)}}o&&S&64&&J_(g),pa(g,g.return);break;case 26:case 27:case 5:hs(d,g,o),o&&u===null&&S&4&&t0(g),pa(g,g.return);break;case 12:hs(d,g,o);break;case 13:hs(d,g,o),o&&S&4&&u0(d,g);break;case 22:g.memoizedState===null&&hs(d,g,o),pa(g,g.return);break;default:hs(d,g,o)}s=s.sibling}}function jd(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Il(o))}function Fd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Il(r))}function fs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f0(r,s,o,u),s=s.sibling}function f0(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:fs(r,s,o,u),d&2048&&Vl(9,s);break;case 3:fs(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Il(r)));break;case 12:if(d&2048){fs(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,I=g.onPostCommit;typeof I=="function"&&I(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){gt(s,s.return,V)}}else fs(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?fs(r,s,o,u):Bl(r,s):g._visibility&4?fs(r,s,o,u):(g._visibility|=4,uo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&jd(s.alternate,s);break;case 24:fs(r,s,o,u),d&2048&&Fd(s.alternate,s);break;default:fs(r,s,o,u)}}function uo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,S=s,I=o,V=u,Q=S.flags;switch(S.tag){case 0:case 11:case 15:uo(g,S,I,V,d),Vl(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&4?uo(g,S,I,V,d):Bl(g,S):(ue._visibility|=4,uo(g,S,I,V,d)),d&&Q&2048&&jd(S.alternate,S);break;case 24:uo(g,S,I,V,d),d&&Q&2048&&Fd(S.alternate,S);break;default:uo(g,S,I,V,d)}s=s.sibling}}function Bl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Bl(o,u),d&2048&&jd(u.alternate,u);break;case 24:Bl(o,u),d&2048&&Fd(u.alternate,u);break;default:Bl(o,u)}s=s.sibling}}var zl=8192;function co(r){if(r.subtreeFlags&zl)for(r=r.child;r!==null;)d0(r),r=r.sibling}function d0(r){switch(r.tag){case 26:co(r),r.flags&zl&&r.memoizedState!==null&&UA(xr,r.memoizedState,r.memoizedProps);break;case 5:co(r);break;case 3:case 4:var s=xr;xr=Zc(r.stateNode.containerInfo),co(r),xr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=zl,zl=16777216,co(r),zl=s):co(r));break;default:co(r)}}function p0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function jl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,g0(u,r)}p0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m0(r),r=r.sibling}function m0(r){switch(r.tag){case 0:case 11:case 15:jl(r),r.flags&2048&&cs(9,r,r.return);break;case 3:jl(r);break;case 12:jl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Vc(r)):jl(r);break;default:jl(r)}}function Vc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,g0(u,r)}p0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cs(8,s,s.return),Vc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Vc(s));break;default:Vc(s)}r=r.sibling}}function g0(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=r;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(o0(u),u===o){nn=null;break e}if(d!==null){d.return=g,nn=d;break e}nn=g}}}function YS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,o,u){return new YS(r,s,o,u)}function qd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ds(r,s){var o=r.alternate;return o===null?(o=pr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function y0(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Bc(r,s,o,u,d,g){var S=0;if(u=r,typeof r=="function")qd(r)&&(S=1);else if(typeof r=="string")S=MA(r,o,It.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return ma(o.children,d,g,s);case m:S=8,d|=24;break;case y:return r=pr(12,o,s,d|2),r.elementType=y,r.lanes=g,r;case B:return r=pr(13,o,s,d),r.elementType=B,r.lanes=g,r;case F:return r=pr(19,o,s,d),r.elementType=F,r.lanes=g,r;case J:return _0(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case b:S=10;break e;case A:S=9;break e;case P:S=11;break e;case G:S=14;break e;case te:S=16,u=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=pr(S,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function ma(r,s,o,u){return r=pr(7,r,u,s),r.lanes=o,r}function _0(r,s,o,u){r=pr(22,r,u,s),r.elementType=J,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var S=ts(g,2);S!==null&&(d._pendingVisibility|=2,xn(S,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var S=ts(g,2);S!==null&&(d._pendingVisibility&=-3,xn(S,g,2))}}};return r.stateNode=d,r}function Hd(r,s,o){return r=pr(6,r,null,s),r.lanes=o,r}function Gd(r,s,o){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Si(r){r.flags|=4}function v0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rv(s)){if(s=hr.current,s!==null&&((it&4194176)===it?Fr!==null:(it&62914560)!==it&&(it&536870912)===0||s!==Fr))throw Al=Xf,Uy;r.flags|=8192}}function zc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?qi():536870912,r.lanes|=s,fo|=s)}function Fl(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function St(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function XS(r,s,o){var u=s.pendingProps;switch($f(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei(Qt),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wl(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar!==null&&(Jd(Ar),Ar=null))),St(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(St(s),v0(s,o)):(St(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),St(s),v0(s,o)):(St(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),St(s),s.flags&=-16777217),null;case 27:kr(s),o=Mt.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}r=It.current,wl(s)?My(s):(r=Y0(d,u,o),s.stateNode=r,Si(s))}return St(s),null;case 5:if(kr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}if(r=It.current,wl(s))My(s);else{switch(d=Wc(Mt.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Zt]=s,r[qt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(un(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return St(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Mt.current,wl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||q0(r.nodeValue,o)),r||sa(s)}else r=Wc(r).createTextNode(u),r[Zt]=s,s.stateNode=r}return St(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=wl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Zt]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),d=!1}else Ar!==null&&(Jd(Ar),Ar=null),d=!0;if(!d)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),zc(s,s.updateQueue),St(s),null;case 4:return kn(),r===null&&cp(s.stateNode.containerInfo),St(s),null;case 10:return Ei(s.type),St(s),null;case 19:if(at(Kt),d=s.memoizedState,d===null)return St(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Fl(d,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=bc(r),g!==null){for(s.flags|=128,Fl(d,!1),r=g.updateQueue,s.updateQueue=r,zc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)y0(o,r),o=o.sibling;return Qe(Kt,Kt.current&1|2),s.child}r=r.sibling}d.tail!==null&&Wt()>jc&&(s.flags|=128,u=!0,Fl(d,!1),s.lanes=4194304)}else{if(!u)if(r=bc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,zc(s,r),Fl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!lt)return St(s),null}else 2*Wt()-d.renderingStartTime>jc&&o!==536870912&&(s.flags|=128,u=!0,Fl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Wt(),s.sibling=null,r=Kt.current,Qe(Kt,u?r&1|2:r&1),s):(St(s),null);case 22:case 23:return gi(s),Zf(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),o=s.updateQueue,o!==null&&zc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&at(oa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei(Qt),St(s),null;case 25:return null}throw Error(i(156,s.tag))}function WS(r,s){switch($f(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(Qt),kn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return kr(s),null;case 13:if(gi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Tl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(Kt),null;case 4:return kn(),null;case 10:return Ei(s.type),null;case 22:case 23:return gi(s),Zf(),r!==null&&at(oa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei(Qt),null;case 25:return null;default:return null}}function E0(r,s){switch($f(s),s.tag){case 3:Ei(Qt),kn();break;case 26:case 27:case 5:kr(s);break;case 4:kn();break;case 13:gi(s);break;case 19:at(Kt);break;case 10:Ei(s.type);break;case 22:case 23:gi(s),Zf(),r!==null&&at(oa);break;case 24:Ei(Qt)}}var ZS={getCacheForType:function(r){var s=mn(Qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},JS=typeof WeakMap=="function"?WeakMap:Map,At=0,yt=null,Xe=null,it=0,_t=0,$n=null,Ai=!1,ho=!1,Kd=!1,xi=0,Dt=0,ps=0,ga=0,Qd=0,mr=0,fo=0,ql=null,Hr=null,$d=!1,Yd=0,jc=1/0,Fc=null,ms=null,qc=!1,ya=null,Hl=0,Xd=0,Wd=null,Gl=0,Zd=null;function Yn(){if((At&2)!==0&&it!==0)return it&-it;if(k.T!==null){var r=ro;return r!==0?r:ap()}return Yu()}function w0(){mr===0&&(mr=(it&536870912)===0||lt?rl():536870912);var r=hr.current;return r!==null&&(r.flags|=32),mr}function xn(r,s,o){(r===yt&&_t===2||r.cancelPendingCommit!==null)&&(po(r,0),Ri(r,it,mr,!1)),Lt(r,o),((At&2)===0||r!==yt)&&(r===yt&&((At&2)===0&&(ga|=o),Dt===4&&Ri(r,it,mr,!1)),Gr(r))}function T0(r,s,o){if((At&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Fi(r,s),d=u?nA(r,s):np(r,s,!0),g=u;do{if(d===0){ho&&!u&&Ri(r,s,0,!1);break}else if(d===6)Ri(r,s,0,!Ai);else{if(o=r.current.alternate,g&&!eA(o)){d=np(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var I=r;d=ql;var V=I.current.memoizedState.isDehydrated;if(V&&(po(I,S).flags|=256),S=np(I,S,!1),S!==2){if(Kd&&!V){I.errorRecoveryDisabledLanes|=g,ga|=g,d=4;break e}g=Hr,Hr=d,g!==null&&Jd(g)}d=S}if(g=!1,d!==2)continue}}if(d===1){po(r,0),Ri(r,s,0,!0);break}e:{switch(u=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Ri(u,s,mr,!Ai);break e}break;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Yd+300-Wt(),10<g)){if(Ri(u,s,mr,!Ai),tr(u,0)!==0)break e;u.timeoutHandle=K0(b0.bind(null,u,o,Hr,Fc,$d,s,mr,ga,fo,Ai,2,-0,0),g);break e}b0(u,o,Hr,Fc,$d,s,mr,ga,fo,Ai,0,-0,0)}}break}while(!0);Gr(r)}function Jd(r){Hr===null?Hr=r:Hr.push.apply(Hr,r)}function b0(r,s,o,u,d,g,S,I,V,Q,ue,de,ee){var le=s.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:LA},d0(s),s=PA(),s!==null)){r.cancelPendingCommit=s(k0.bind(null,r,o,u,d,S,I,V,1,de,ee)),Ri(r,g,S,!Q);return}k0(r,o,u,d,S,I,V,ue,de,ee)}function eA(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(r,s,o,u){s&=~Qd,s&=~ga,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-Be(d),S=1<<g;u[g]=-1,d&=~S}o!==0&&Hi(r,o,s)}function Hc(){return(At&6)===0?(Kl(0),!1):!0}function ep(){if(Xe!==null){if(_t===0)var r=Xe.return;else r=Xe,vi=fa=null,ad(r),to=null,xl=0,r=Xe;for(;r!==null;)E0(r.alternate,r),r=r.return;Xe=null}}function po(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,vA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ep(),yt=r,Xe=o=ds(r.current,null),it=s,_t=0,$n=null,Ai=!1,ho=Fi(r,s),Kd=!1,fo=mr=Qd=ga=ps=Dt=0,Hr=ql=null,$d=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Be(u),g=1<<d;s|=r[d],u&=~g}return xi=s,pc(),o}function S0(r,s){$e=null,k.H=qr,s===Sl?(s=By(),_t=3):s===Uy?(s=By(),_t=4):_t=s===P_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,Xe===null&&(Dt=1,Mc(r,lr(s,r.current)))}function A0(){var r=k.H;return k.H=qr,r===null?qr:r}function x0(){var r=k.A;return k.A=ZS,r}function tp(){Dt=4,Ai||(it&4194176)!==it&&hr.current!==null||(ho=!0),(ps&134217727)===0&&(ga&134217727)===0||yt===null||Ri(yt,it,mr,!1)}function np(r,s,o){var u=At;At|=2;var d=A0(),g=x0();(yt!==r||it!==s)&&(Fc=null,po(r,s)),s=!1;var S=Dt;e:do try{if(_t!==0&&Xe!==null){var I=Xe,V=$n;switch(_t){case 8:ep(),S=6;break e;case 3:case 2:case 6:hr.current===null&&(s=!0);var Q=_t;if(_t=0,$n=null,mo(r,I,V,Q),o&&ho){S=0;break e}break;default:Q=_t,_t=0,$n=null,mo(r,I,V,Q)}}tA(),S=Dt;break}catch(ue){S0(r,ue)}while(!0);return s&&r.shellSuspendCounter++,vi=fa=null,At=u,k.H=d,k.A=g,Xe===null&&(yt=null,it=0,pc()),S}function tA(){for(;Xe!==null;)R0(Xe)}function nA(r,s){var o=At;At|=2;var u=A0(),d=x0();yt!==r||it!==s?(Fc=null,jc=Wt()+500,po(r,s)):ho=Fi(r,s);e:do try{if(_t!==0&&Xe!==null){s=Xe;var g=$n;t:switch(_t){case 1:_t=0,$n=null,mo(r,s,g,1);break;case 2:if(Py(g)){_t=0,$n=null,I0(s);break}s=function(){_t===2&&yt===r&&(_t=7),Gr(r)},g.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Py(g)?(_t=0,$n=null,I0(s)):(_t=0,$n=null,mo(r,s,g,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var I=Xe;if(!S||rv(S)){_t=0,$n=null;var V=I.sibling;if(V!==null)Xe=V;else{var Q=I.return;Q!==null?(Xe=Q,Gc(Q)):Xe=null}break t}}_t=0,$n=null,mo(r,s,g,5);break;case 6:_t=0,$n=null,mo(r,s,g,6);break;case 8:ep(),Dt=6;break e;default:throw Error(i(462))}}rA();break}catch(ue){S0(r,ue)}while(!0);return vi=fa=null,k.H=u,k.A=d,At=o,Xe!==null?0:(yt=null,it=0,pc(),Dt)}function rA(){for(;Xe!==null&&!pn();)R0(Xe)}function R0(r){var s=Y_(r.alternate,r,xi);r.memoizedProps=r.pendingProps,s===null?Gc(r):Xe=s}function I0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=q_(o,s,s.pendingProps,s.type,void 0,it);break;case 11:s=q_(o,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:ad(s);default:E0(o,s),s=Xe=y0(s,xi),s=Y_(o,s,xi)}r.memoizedProps=r.pendingProps,s===null?Gc(r):Xe=s}function mo(r,s,o,u){vi=fa=null,ad(s),to=null,xl=0;var d=s.return;try{if(GS(r,d,s,o,it)){Dt=1,Mc(r,lr(o,r.current)),Xe=null;return}}catch(g){if(d!==null)throw Xe=d,g;Dt=1,Mc(r,lr(o,r.current)),Xe=null;return}s.flags&32768?(lt||u===1?r=!0:ho||(it&536870912)!==0?r=!1:(Ai=r=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),C0(s,r)):Gc(s)}function Gc(r){var s=r;do{if((s.flags&32768)!==0){C0(s,Ai);return}r=s.return;var o=XS(s.alternate,s,xi);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);Dt===0&&(Dt=5)}function C0(r,s){do{var o=WS(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);Dt=6,Xe=null}function k0(r,s,o,u,d,g,S,I,V,Q){var ue=k.T,de=ve.p;try{ve.p=2,k.T=null,iA(r,s,o,u,de,d,g,S,I,V,Q)}finally{k.T=ue,ve.p=de}}function iA(r,s,o,u,d,g,S,I){do go();while(ya!==null);if((At&6)!==0)throw Error(i(327));var V=r.finishedWork;if(u=r.finishedLanes,V===null)return null;if(r.finishedWork=null,r.finishedLanes=0,V===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Q=V.lanes|V.childLanes;if(Q|=Gf,Qu(r,u,Q,g,S,I),r===yt&&(Xe=yt=null,it=0),(V.subtreeFlags&10256)===0&&(V.flags&10256)===0||qc||(qc=!0,Xd=Q,Wd=o,lA(_,function(){return go(),null})),o=(V.flags&15990)!==0,(V.subtreeFlags&15990)!==0||o?(o=k.T,k.T=null,g=ve.p,ve.p=2,S=At,At|=4,QS(r,V),c0(V,r),IS(pp,r.containerInfo),rh=!!dp,pp=dp=null,r.current=V,a0(r,V.alternate,V),wr(),At=S,ve.p=g,k.T=o):r.current=V,qc?(qc=!1,ya=r,Hl=u):D0(r,Q),Q=r.pendingLanes,Q===0&&(ms=null),tt(V.stateNode),Gr(r),s!==null)for(d=r.onRecoverableError,V=0;V<s.length;V++)Q=s[V],d(Q.value,{componentStack:Q.stack});return(Hl&3)!==0&&go(),Q=r.pendingLanes,(u&4194218)!==0&&(Q&42)!==0?r===Zd?Gl++:(Gl=0,Zd=r):Gl=0,Kl(0),null}function D0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Il(s)))}function go(){if(ya!==null){var r=ya,s=Xd;Xd=0;var o=$u(Hl),u=k.T,d=ve.p;try{if(ve.p=32>o?32:o,k.T=null,ya===null)var g=!1;else{o=Wd,Wd=null;var S=ya,I=Hl;if(ya=null,Hl=0,(At&6)!==0)throw Error(i(331));var V=At;if(At|=4,m0(S.current),f0(S,S.current,I,o),At=V,Kl(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ie,S)}catch{}g=!0}return g}finally{ve.p=d,k.T=u,D0(r,s)}}return!1}function N0(r,s,o){s=lr(o,s),s=Ed(r.stateNode,s,2),r=us(r,s,2),r!==null&&(Lt(r,2),Gr(r))}function gt(r,s,o){if(r.tag===3)N0(r,r,o);else for(;s!==null;){if(s.tag===3){N0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ms===null||!ms.has(u))){r=lr(o,r),o=L_(2),u=us(s,o,2),u!==null&&(U_(o,u,s,r),Lt(u,2),Gr(u));break}}s=s.return}}function rp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new JS;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Kd=!0,d.add(o),r=sA.bind(null,r,s,o),s.then(r,r))}function sA(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,yt===r&&(it&o)===o&&(Dt===4||Dt===3&&(it&62914560)===it&&300>Wt()-Yd?(At&2)===0&&po(r,0):Qd|=o,fo===it&&(fo=0)),Gr(r)}function O0(r,s){s===0&&(s=qi()),r=ts(r,s),r!==null&&(Lt(r,s),Gr(r))}function aA(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),O0(r,o)}function oA(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),O0(r,o)}function lA(r,s){return jn(r,s)}var Kc=null,yo=null,ip=!1,Qc=!1,sp=!1,_a=0;function Gr(r){r!==yo&&r.next===null&&(yo===null?Kc=yo=r:yo=yo.next=r),Qc=!0,ip||(ip=!0,cA(uA))}function Kl(r,s){if(!sp&&Qc){sp=!0;do for(var o=!1,u=Kc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var S=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-Be(42|r)+1)-1,g&=d&~(S&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,U0(u,g))}else g=it,g=tr(u,u===yt?g:0),(g&3)===0||Fi(u,g)||(o=!0,U0(u,g));u=u.next}while(o);sp=!1}}function uA(){Qc=ip=!1;var r=0;_a!==0&&(_A()&&(r=_a),_a=0);for(var s=Wt(),o=null,u=Kc;u!==null;){var d=u.next,g=M0(u,s);g===0?(u.next=null,o===null?Kc=d:o.next=d,d===null&&(yo=o)):(o=u,(r!==0||(g&3)!==0)&&(Qc=!0)),u=d}Kl(r)}function M0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-Be(g),I=1<<S,V=d[S];V===-1?((I&o)===0||(I&u)!==0)&&(d[S]=Ma(I,s)):V<=s&&(r.expiredLanes|=I),g&=~I}if(s=yt,o=it,o=tr(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&_t===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Fn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Fi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Fn(u),$u(o)){case 2:case 8:o=x;break;case 32:o=_;break;case 268435456:o=D;break;default:o=_}return u=L0.bind(null,r),o=jn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Fn(u),r.callbackPriority=2,r.callbackNode=null,2}function L0(r,s){var o=r.callbackNode;if(go()&&r.callbackNode!==o)return null;var u=it;return u=tr(r,r===yt?u:0),u===0?null:(T0(r,u,s),M0(r,Wt()),r.callbackNode!=null&&r.callbackNode===o?L0.bind(null,r):null)}function U0(r,s){if(go())return null;T0(r,s,!0)}function cA(r){EA(function(){(At&6)!==0?jn(ne,r):r()})}function ap(){return _a===0&&(_a=rl()),_a}function P0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mr(""+r)}function V0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function hA(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=P0((d[qt]||null).action),S=u.submitter;S&&(s=(s=S[qt]||null)?P0(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var I=new ja("action","action",null,u,d);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var V=S?V0(d,S):new FormData(d);md(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(I.preventDefault(),V=S?V0(d,S):new FormData(d),md(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var op=0;op<ky.length;op++){var lp=ky[op],fA=lp.toLowerCase(),dA=lp[0].toUpperCase()+lp.slice(1);Sr(fA,"on"+dA)}Sr(Ay,"onAnimationEnd"),Sr(xy,"onAnimationIteration"),Sr(Ry,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(kS,"onTransitionRun"),Sr(DS,"onTransitionStart"),Sr(NS,"onTransitionCancel"),Sr(Iy,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function B0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var I=u[S],V=I.instance,Q=I.currentTarget;if(I=I.listener,V!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=Q;try{g(d)}catch(ue){Oc(ue)}d.currentTarget=null,g=V}else for(S=0;S<u.length;S++){if(I=u[S],V=I.instance,Q=I.currentTarget,I=I.listener,V!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=Q;try{g(d)}catch(ue){Oc(ue)}d.currentTarget=null,g=V}}}}function Je(r,s){var o=s[qs];o===void 0&&(o=s[qs]=new Set);var u=r+"__bubble";o.has(u)||(z0(s,r,2,!1),o.add(u))}function up(r,s,o){var u=0;s&&(u|=4),z0(o,r,u,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function cp(r){if(!r[$c]){r[$c]=!0,sl.forEach(function(o){o!=="selectionchange"&&(pA.has(o)||up(o,!1,r),up(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[$c]||(s[$c]=!0,up("selectionchange",!1,s))}}function z0(r,s,o,u){switch(uv(s)){case 2:var d=zA;break;case 8:d=jA;break;default:d=bp}o=d.bind(null,s,o,r),d=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function hp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(S===4)for(S=u.return;S!==null;){var V=S.tag;if((V===3||V===4)&&(V=S.stateNode.containerInfo,V===d||V.nodeType===8&&V.parentNode===d))return;S=S.return}for(;I!==null;){if(S=br(I),S===null)return;if(V=S.tag,V===5||V===6||V===26||V===27){u=g=S;continue e}I=I.parentNode}}u=u.return}Ju(function(){var Q=g,ue=za(o),de=[];e:{var ee=Cy.get(r);if(ee!==void 0){var le=ja,Ie=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":le=Qa;break;case"focusin":Ie="focus",le=Ha;break;case"focusout":Ie="blur",le=Ha;break;case"beforeblur":case"afterblur":le=Ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=oc;break;case Ay:case xy:case Ry:le=Ga;break;case Iy:le=uc;break;case"scroll":case"scrollend":le=ec;break;case"wheel":le=$a;break;case"copy":case"cut":case"paste":le=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=yl;break;case"toggle":case"beforetoggle":le=hc}var je=(s&4)!==0,Nt=!je&&(r==="scroll"||r==="scrollend"),$=je?ee!==null?ee+"Capture":null:ee;je=[];for(var K=Q,W;K!==null;){var ce=K;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||$===null||(ce=$s(K,$),ce!=null&&je.push($l(K,ce,W))),Nt)break;K=K.return}0<je.length&&(ee=new le(ee,Ie,null,o,ue),de.push({event:ee,listeners:je}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",ee&&o!==ir&&(Ie=o.relatedTarget||o.fromElement)&&(br(Ie)||Ie[si]))break e;if((le||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(Ie=o.relatedTarget||o.toElement,le=Q,Ie=Ie?br(Ie):null,Ie!==null&&(Nt=be(Ie),je=Ie.tag,Ie!==Nt||je!==5&&je!==27&&je!==6)&&(Ie=null)):(le=null,Ie=Q),le!==Ie)){if(je=ar,ce="onMouseLeave",$="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(je=yl,ce="onPointerLeave",$="onPointerEnter",K="pointer"),Nt=le==null?ee:$i(le),W=Ie==null?ee:$i(Ie),ee=new je(ce,K+"leave",le,o,ue),ee.target=Nt,ee.relatedTarget=W,ce=null,br(ue)===Q&&(je=new je($,K+"enter",Ie,o,ue),je.target=W,je.relatedTarget=Nt,ce=je),Nt=ce,le&&Ie)t:{for(je=le,$=Ie,K=0,W=je;W;W=_o(W))K++;for(W=0,ce=$;ce;ce=_o(ce))W++;for(;0<K-W;)je=_o(je),K--;for(;0<W-K;)$=_o($),W--;for(;K--;){if(je===$||$!==null&&je===$.alternate)break t;je=_o(je),$=_o($)}je=null}else je=null;le!==null&&j0(de,ee,le,je,!1),Ie!==null&&Nt!==null&&j0(de,Nt,Ie,je,!0)}}e:{if(ee=Q?$i(Q):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var Ae=py;else if(Gt(ee))if(my)Ae=xS;else{Ae=SS;var Ye=bS}else le=ee.nodeName,!le||le.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&cl(Q.elementType)&&(Ae=py):Ae=AS;if(Ae&&(Ae=Ae(r,Q))){di(de,Ae,o,ue);break e}Ye&&Ye(r,ee,Q),r==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&Ba(ee,"number",ee.value)}switch(Ye=Q?$i(Q):window,r){case"focusin":(Gt(Ye)||Ye.contentEditable==="true")&&(Ya=Ye,Ff=Q,El=null);break;case"focusout":El=Ff=Ya=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,by(de,o,ue);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":by(de,o,ue)}var ke;if(Br)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nt?re(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(T&&o.locale!=="ko"&&(nt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nt&&(ke=fl()):(Lr=ue,es="value"in Lr?Lr.value:Lr.textContent,nt=!0)),Ye=Yc(Q,Oe),0<Ye.length&&(Oe=new ml(Oe,r,null,o,ue),de.push({event:Oe,listeners:Ye}),ke?Oe.data=ke:(ke=ye(o),ke!==null&&(Oe.data=ke)))),(ke=v?Ht(r,o):rt(r,o))&&(Oe=Yc(Q,"onBeforeInput"),0<Oe.length&&(Ye=new ml("onBeforeInput","beforeinput",null,o,ue),de.push({event:Ye,listeners:Oe}),Ye.data=ke)),hA(de,r,Q,o,ue)}B0(de,s)})}function $l(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Yc(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=$s(r,o),d!=null&&u.unshift($l(r,d,g)),d=$s(r,s),d!=null&&u.push($l(r,d,g))),r=r.return}return u}function _o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function j0(r,s,o,u,d){for(var g=s._reactName,S=[];o!==null&&o!==u;){var I=o,V=I.alternate,Q=I.stateNode;if(I=I.tag,V!==null&&V===u)break;I!==5&&I!==26&&I!==27||Q===null||(V=Q,d?(Q=$s(o,g),Q!=null&&S.unshift($l(o,Q,V))):d||(Q=$s(o,g),Q!=null&&S.push($l(o,Q,V)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var mA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function F0(r){return(typeof r=="string"?r:""+r).replace(mA,`
`).replace(gA,"")}function q0(r,s){return s=F0(s),F0(r)===s}function Xc(){}function mt(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":Wi(r,"class",u);break;case"tabIndex":Wi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(r,o,u);break;case"style":Zu(r,u,g);break;case"data":if(s!=="object"){Wi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Mr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&mt(r,s,"name",d.name,d,null),mt(r,s,"formEncType",d.formEncType,d,null),mt(r,s,"formMethod",d.formMethod,d,null),mt(r,s,"formTarget",d.formTarget,d,null)):(mt(r,s,"encType",d.encType,d,null),mt(r,s,"method",d.method,d,null),mt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Mr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Xc);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Mr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Je("beforetoggle",r),Je("toggle",r),Xi(r,"popover",u);break;case"xlinkActuate":nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lf.get(o)||o,Xi(r,o,u))}}function fp(r,s,o,u,d,g){switch(o){case"style":Zu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Xi(r,o,u)}}}function un(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,g,S,o,null)}}d&&mt(r,s,"srcSet",o.srcSet,o,null),u&&mt(r,s,"src",o.src,o,null);return;case"input":Je("invalid",r);var I=g=S=d=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ue=o[u];if(ue!=null)switch(u){case"name":d=ue;break;case"type":S=ue;break;case"checked":V=ue;break;case"defaultChecked":Q=ue;break;case"value":g=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:mt(r,s,u,ue,o,null)}}Ks(r,g,I,V,Q,S,d,!1),Gs(r);return;case"select":Je("invalid",r),u=S=g=null;for(d in o)if(o.hasOwnProperty(d)&&(I=o[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":S=I;break;case"multiple":u=I;default:mt(r,s,d,I,o,null)}s=g,o=S,r.multiple=!!u,s!=null?ot(r,!!u,s,!1):o!=null&&ot(r,!!u,o,!0);return;case"textarea":Je("invalid",r),g=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(I=o[S],I!=null))switch(S){case"value":u=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:mt(r,s,S,I,o,null)}Ji(r,u,d,g),Gs(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(r,s,V,u,o,null)}return;case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(u=0;u<Ql.length;u++)Je(Ql[u],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,Q,u,o,null)}return;default:if(cl(s)){for(ue in o)o.hasOwnProperty(ue)&&(u=o[ue],u!==void 0&&fp(r,s,ue,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&mt(r,s,I,u,o,null))}function yA(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,S=null,I=null,V=null,Q=null,ue=null;for(le in o){var de=o[le];if(o.hasOwnProperty(le)&&de!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":V=de;default:u.hasOwnProperty(le)||mt(r,s,le,null,u,de)}}for(var ee in u){var le=u[ee];if(de=o[ee],u.hasOwnProperty(ee)&&(le!=null||de!=null))switch(ee){case"type":g=le;break;case"name":d=le;break;case"checked":Q=le;break;case"defaultChecked":ue=le;break;case"value":S=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:le!==de&&mt(r,s,ee,le,u,de)}}Zi(r,S,I,V,Q,ue,g,d);return;case"select":le=S=I=ee=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":le=V;default:u.hasOwnProperty(g)||mt(r,s,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":ee=g;break;case"defaultValue":I=g;break;case"multiple":S=g;default:g!==V&&mt(r,s,d,g,u,V)}s=I,o=S,u=le,ee!=null?ot(r,!!o,ee,!1):!!u!=!!o&&(s!=null?ot(r,!!o,s,!0):ot(r,!!o,o?[]:"",!1));return;case"textarea":le=ee=null;for(I in o)if(d=o[I],o.hasOwnProperty(I)&&d!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:mt(r,s,I,null,u,d)}for(S in u)if(d=u[S],g=o[S],u.hasOwnProperty(S)&&(d!=null||g!=null))switch(S){case"value":ee=d;break;case"defaultValue":le=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&mt(r,s,S,d,u,g)}Qs(r,ee,le);return;case"option":for(var Ie in o)if(ee=o[Ie],o.hasOwnProperty(Ie)&&ee!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:mt(r,s,Ie,null,u,ee)}for(V in u)if(ee=u[V],le=o[V],u.hasOwnProperty(V)&&ee!==le&&(ee!=null||le!=null))switch(V){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(r,s,V,ee,u,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)ee=o[je],o.hasOwnProperty(je)&&ee!=null&&!u.hasOwnProperty(je)&&mt(r,s,je,null,u,ee);for(Q in u)if(ee=u[Q],le=o[Q],u.hasOwnProperty(Q)&&ee!==le&&(ee!=null||le!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:mt(r,s,Q,ee,u,le)}return;default:if(cl(s)){for(var Nt in o)ee=o[Nt],o.hasOwnProperty(Nt)&&ee!==void 0&&!u.hasOwnProperty(Nt)&&fp(r,s,Nt,void 0,u,ee);for(ue in u)ee=u[ue],le=o[ue],!u.hasOwnProperty(ue)||ee===le||ee===void 0&&le===void 0||fp(r,s,ue,ee,u,le);return}}for(var $ in o)ee=o[$],o.hasOwnProperty($)&&ee!=null&&!u.hasOwnProperty($)&&mt(r,s,$,null,u,ee);for(de in u)ee=u[de],le=o[de],!u.hasOwnProperty(de)||ee===le||ee==null&&le==null||mt(r,s,de,ee,u,le)}var dp=null,pp=null;function Wc(r){return r.nodeType===9?r:r.ownerDocument}function H0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function mp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gp=null;function _A(){var r=window.event;return r&&r.type==="popstate"?r===gp?!1:(gp=r,!0):(gp=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(r){return Q0.resolve(null).then(r).catch(wA)}:K0;function wA(r){setTimeout(function(){throw r})}function yp(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){r.removeChild(d),nu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);nu(s)}function _p(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_p(o),Hs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function TA(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Qi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Rr(r.nextSibling),r===null)break}return null}function bA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Rr(r.nextSibling),r===null))return null;return r}function Rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function $0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Y0(r,s,o){switch(s=Wc(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var gr=new Map,X0=new Set;function Zc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ii=ve.d;ve.d={f:SA,r:AA,D:xA,C:RA,L:IA,m:CA,X:DA,S:kA,M:NA};function SA(){var r=Ii.f(),s=Hc();return r||s}function AA(r){var s=ai(r);s!==null&&s.tag===5&&s.type==="form"?b_(s):Ii.r(r)}var vo=typeof document>"u"?null:document;function W0(r,s,o){var u=vo;if(u&&typeof s=="string"&&s){var d=Ct(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),X0.has(d)||(X0.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",r),bt(s),u.head.appendChild(s)))}}function xA(r){Ii.D(r),W0("dns-prefetch",r,null)}function RA(r,s){Ii.C(r,s),W0("preconnect",r,s)}function IA(r,s,o){Ii.L(r,s,o);var u=vo;if(u&&r&&s){var d='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ct(o.imageSizes)+'"]')):d+='[href="'+Ct(r)+'"]';var g=d;switch(s){case"style":g=Eo(r);break;case"script":g=wo(r)}gr.has(g)||(r=O({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),gr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(Yl(g))||s==="script"&&u.querySelector(Xl(g))||(s=u.createElement("link"),un(s,"link",r),bt(s),u.head.appendChild(s)))}}function CA(r,s){Ii.m(r,s);var o=vo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(r)}if(!gr.has(g)&&(r=O({rel:"modulepreload",href:r},s),gr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xl(g)))return}u=o.createElement("link"),un(u,"link",r),bt(u),o.head.appendChild(u)}}}function kA(r,s,o){Ii.S(r,s,o);var u=vo;if(u&&r){var d=Yi(u).hoistableStyles,g=Eo(r);s=s||"default";var S=d.get(g);if(!S){var I={loading:0,preload:null};if(S=u.querySelector(Yl(g)))I.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":s},o),(o=gr.get(g))&&vp(r,o);var V=S=u.createElement("link");bt(V),un(V,"link",r),V._p=new Promise(function(Q,ue){V.onload=Q,V.onerror=ue}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Jc(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:I},d.set(g,S)}}}function DA(r,s){Ii.X(r,s);var o=vo;if(o&&r){var u=Yi(o).hoistableScripts,d=wo(r),g=u.get(d);g||(g=o.querySelector(Xl(d)),g||(r=O({src:r,async:!0},s),(s=gr.get(d))&&Ep(r,s),g=o.createElement("script"),bt(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function NA(r,s){Ii.M(r,s);var o=vo;if(o&&r){var u=Yi(o).hoistableScripts,d=wo(r),g=u.get(d);g||(g=o.querySelector(Xl(d)),g||(r=O({src:r,async:!0,type:"module"},s),(s=gr.get(d))&&Ep(r,s),g=o.createElement("script"),bt(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Z0(r,s,o,u){var d=(d=Mt.current)?Zc(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Eo(o.href),o=Yi(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Eo(o.href);var g=Yi(d).hoistableStyles,S=g.get(r);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=d.querySelector(Yl(r)))&&!g._p&&(S.instance=g,S.state.loading=5),gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gr.set(r,o),g||OA(d,r,o,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wo(o),o=Yi(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Eo(r){return'href="'+Ct(r)+'"'}function Yl(r){return'link[rel="stylesheet"]['+r+"]"}function J0(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function OA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),bt(s),r.head.appendChild(s))}function wo(r){return'[src="'+Ct(r)+'"]'}function Xl(r){return"script[async]"+r}function ev(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var d=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),un(u,"style",d),Jc(u,o.precedence,r),s.instance=u;case"stylesheet":d=Eo(o.href);var g=r.querySelector(Yl(d));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=J0(o),(d=gr.get(d))&&vp(u,d),g=(r.ownerDocument||r).createElement("link"),bt(g);var S=g;return S._p=new Promise(function(I,V){S.onload=I,S.onerror=V}),un(g,"link",u),s.state.loading|=4,Jc(g,o.precedence,r),s.instance=g;case"script":return g=wo(o.src),(d=r.querySelector(Xl(g)))?(s.instance=d,bt(d),d):(u=o,(d=gr.get(g))&&(u=O({},o),Ep(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),bt(d),un(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Jc(u,o.precedence,r));return s.instance}function Jc(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,S=0;S<u.length;S++){var I=u[S];if(I.dataset.precedence===s)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var eh=null;function tv(r,s,o){if(eh===null){var u=new Map,d=eh=new Map;d.set(o,u)}else d=eh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Qi]||g[Zt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var I=u.get(S);I?I.push(g):u.set(S,[g])}}return u}function nv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function MA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Wl=null;function LA(){}function UA(r,s,o){if(Wl===null)throw Error(i(475));var u=Wl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Eo(o.href),g=r.querySelector(Yl(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=th.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=J0(o),(d=gr.get(d))&&vp(o,d),g=g.createElement("link"),bt(g);var S=g;S._p=new Promise(function(I,V){S.onload=I,S.onerror=V}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=th.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function PA(){if(Wl===null)throw Error(i(475));var r=Wl;return r.stylesheets&&r.count===0&&wp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&wp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nh=null;function wp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nh=new Map,s.forEach(VA,r),nh=null,th.call(r))}function VA(r,s){if(!(s.state.loading&4)){var o=nh.get(r);if(o)var u=o.get(null);else{o=new Map,nh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var S=d[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=s.instance,S=d.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,d),o.set(S,d),this.count++,u=th.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Zl={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function BA(r,s,o,u,d,g,S,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function iv(r,s,o,u,d,g,S,I,V,Q,ue,de){return r=new BA(r,s,o,S,I,V,Q,de),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),r.current=g,g.stateNode=r,s=Jf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Od(g),r}function sv(r){return r?(r=Za,r):Za}function av(r,s,o,u,d,g){d=sv(d),u.context===null?u.context=d:u.pendingContext=d,u=ls(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=us(r,u,s),o!==null&&(xn(o,r,s),Ll(o,r,s))}function ov(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tp(r,s){ov(r,s),(r=r.alternate)&&ov(r,s)}function lv(r){if(r.tag===13){var s=ts(r,67108864);s!==null&&xn(s,r,67108864),Tp(r,67108864)}}var rh=!0;function zA(r,s,o,u){var d=k.T;k.T=null;var g=ve.p;try{ve.p=2,bp(r,s,o,u)}finally{ve.p=g,k.T=d}}function jA(r,s,o,u){var d=k.T;k.T=null;var g=ve.p;try{ve.p=8,bp(r,s,o,u)}finally{ve.p=g,k.T=d}}function bp(r,s,o,u){if(rh){var d=Sp(u);if(d===null)hp(r,s,u,ih,o),cv(r,u);else if(qA(d,r,s,o,u))u.stopPropagation();else if(cv(r,u),s&4&&-1<FA.indexOf(r)){for(;d!==null;){var g=ai(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Tr(g.pendingLanes);if(S!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var V=1<<31-Be(S);I.entanglements[1]|=V,S&=~V}Gr(g),(At&6)===0&&(jc=Wt()+500,Kl(0))}}break;case 13:I=ts(g,2),I!==null&&xn(I,g,2),Hc(),Tp(g,2)}if(g=Sp(u),g===null&&hp(r,s,u,ih,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else hp(r,s,u,null,o)}}function Sp(r){return r=za(r),Ap(r)}var ih=null;function Ap(r){if(ih=null,r=br(r),r!==null){var s=be(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=He(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ih=r,null}function uv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case ne:return 2;case x:return 8;case _:case E:return 32;case D:return 268435456;default:return 32}default:return 32}}var xp=!1,gs=null,ys=null,_s=null,Jl=new Map,eu=new Map,vs=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(r,s){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function tu(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ai(s),s!==null&&lv(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function qA(r,s,o,u,d){switch(s){case"focusin":return gs=tu(gs,r,s,o,u,d),!0;case"dragenter":return ys=tu(ys,r,s,o,u,d),!0;case"mouseover":return _s=tu(_s,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Jl.set(g,tu(Jl.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,eu.set(g,tu(eu.get(g)||null,r,s,o,u,d)),!0}return!1}function hv(r){var s=br(r.target);if(s!==null){var o=be(s);if(o!==null){if(s=o.tag,s===13){if(s=He(o),s!==null){r.blockedOn=s,Ki(r.priority,function(){if(o.tag===13){var u=Yn(),d=ts(o,u);d!==null&&xn(d,o,u),Tp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Sp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ir=u,o.target.dispatchEvent(u),ir=null}else return s=ai(o),s!==null&&lv(s),r.blockedOn=o,!1;s.shift()}return!0}function fv(r,s,o){sh(r)&&o.delete(s)}function HA(){xp=!1,gs!==null&&sh(gs)&&(gs=null),ys!==null&&sh(ys)&&(ys=null),_s!==null&&sh(_s)&&(_s=null),Jl.forEach(fv),eu.forEach(fv)}function ah(r,s){r.blockedOn===s&&(r.blockedOn=null,xp||(xp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HA)))}var oh=null;function dv(r){oh!==r&&(oh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){oh===r&&(oh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Ap(u||o)===null)continue;break}var g=ai(o);g!==null&&(r.splice(s,3),s-=3,md(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function nu(r){function s(V){return ah(V,r)}gs!==null&&ah(gs,r),ys!==null&&ah(ys,r),_s!==null&&ah(_s,r),Jl.forEach(s),eu.forEach(s);for(var o=0;o<vs.length;o++){var u=vs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)hv(o),o.blockedOn===null&&vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],S=d[qt]||null;if(typeof g=="function")S||dv(o);else if(S){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,S=g[qt]||null)I=S.formAction;else if(Ap(d)!==null)continue}else I=S.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),dv(o)}}}function Rp(r){this._internalRoot=r}lh.prototype.render=Rp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Yn();av(o,u,r,s,null,null)},lh.prototype.unmount=Rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&go(),av(r.current,2,null,r,null,null),Hc(),s[si]=null}};function lh(r){this._internalRoot=r}lh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<vs.length&&s!==0&&s<vs[o].priority;o++);vs.splice(o,0,r),o===0&&hv(r)}};var pv=e.version;if(pv!=="19.0.0")throw Error(i(527,pv,"19.0.0"));ve.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=oe(s),r=r!==null?_e(r):null,r=r===null?null:r.stateNode,r};var GA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:br,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{ie=uh.inject(GA),Re=uh}catch{}}return su.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=D_,g=N_,S=O_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=iv(r,1,!1,null,null,o,u,d,g,S,I,null),r[si]=s.current,cp(r.nodeType===8?r.parentNode:r),new Rp(s)},su.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=D_,S=N_,I=O_,V=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=iv(r,1,!0,s,o??null,u,d,g,S,I,V,Q),s.context=sv(null),o=s.current,u=Yn(),d=ls(u),d.callback=null,us(o,d,u),s.current.lanes=u,Lt(s,u),Gr(s),r[si]=s.current,cp(r),new lh(s)},su.version="19.0.0",su}var Iv;function ux(){if(Iv)return Np.exports;Iv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=lx(),Np.exports}var cx=ux();const hx=Cu(cx),fx=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},dx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,w=(l&3)<<4|f>>4;let A=(f&15)<<2|m>>6,b=m&63;p||(b=64,c||(A=64)),i.push(n[y],n[w],n[A],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const w=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||w==null)throw new px;const A=l<<2|f>>4;if(i.push(A),m!==64){const b=f<<4&240|m>>2;if(i.push(b),w!==64){const P=m<<6&192|w;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mx=function(t){const e=jw(t);return Fw.encodeByteArray(e,!0)},Oh=function(t){return mx(t).replace(/\./g,"")},qw=function(t){try{return Fw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=()=>gx().__FIREBASE_DEFAULTS__,_x=()=>{if(typeof process>"u"||typeof Cv>"u")return;const t=Cv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qw(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return fx()||yx()||_x()||vx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hw=t=>{var e,n;return(n=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Gw=t=>{const e=Hw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Kw=()=>{var t;return(t=rf())===null||t===void 0?void 0:t.config},Qw=t=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function Tx(){var t;const e=(t=rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function bx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ax(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xx(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rx(){return!Tx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ix(){try{return typeof indexedDB=="object"}catch{return!1}}function Cx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kx,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Dx(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ii(a,f,i)}}function Dx(t,e){return t.replace(Nx,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Nx=/\{\$([^}]+)}/g;function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mi(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(kv(l)&&kv(c)){if(!Mi(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function kv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Mx(t,e){const n=new Lx(t,e);return n.subscribe.bind(n)}class Lx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Ux(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ux(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ex;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bx(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Vx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vx(t){return t===va?void 0:t}function Bx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Px(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const jx={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Fx=We.INFO,qx={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},Hx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=qx[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=Fx,this._logHandler=Hx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const Gx=(t,e)=>e.some(n=>t instanceof n);let Dv,Nv;function Kx(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qx(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,um=new WeakMap,Xw=new WeakMap,Pp=new WeakMap,Gm=new WeakMap;function $x(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Is(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function Yx(t){if(um.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xx(t){cm=t(cm)}function Wx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vp(this),e,...n);return Xw.set(i,e.sort?e.sort():[e]),Is(i)}:Qx().includes(t)?function(...e){return t.apply(Vp(this),e),Is(Yw.get(this))}:function(...e){return Is(t.apply(Vp(this),e))}}function Zx(t){return typeof t=="function"?Wx(t):(t instanceof IDBTransaction&&Yx(t),Gx(t,Kx())?new Proxy(t,cm):t)}function Is(t){if(t instanceof IDBRequest)return $x(t);if(Pp.has(t))return Pp.get(t);const e=Zx(t);return e!==t&&(Pp.set(t,e),Gm.set(e,t)),e}const Vp=t=>Gm.get(t);function Jx(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Is(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Is(c.result),p.oldVersion,p.newVersion,Is(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const eR=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],Bp=new Map;function Ov(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=tR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||eR.includes(n)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&p.done]))[0]};return Bp.set(e,l),l}Xx(t=>({...t,get:(e,n,i)=>Ov(e,n)||t.get(e,n,i),has:(e,n)=>!!Ov(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function rR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",Mv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Hm("@firebase/app"),iR="@firebase/app-compat",sR="@firebase/analytics-compat",aR="@firebase/analytics",oR="@firebase/app-check-compat",lR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",pR="@firebase/functions",mR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",ER="@firebase/performance",wR="@firebase/performance-compat",TR="@firebase/remote-config",bR="@firebase/remote-config-compat",SR="@firebase/storage",AR="@firebase/storage-compat",xR="@firebase/firestore",RR="@firebase/vertexai",IR="@firebase/firestore-compat",CR="firebase",kR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",DR={[hm]:"fire-core",[iR]:"fire-core-compat",[aR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[oR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[pR]:"fire-fn",[mR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[ER]:"fire-perf",[wR]:"fire-perf-compat",[TR]:"fire-rc",[bR]:"fire-rc-compat",[SR]:"fire-gcs",[AR]:"fire-gcs-compat",[xR]:"fire-fst",[IR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,NR=new Map,dm=new Map;function Lv(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(dm.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of Mh.values())Lv(n,t);for(const n of NR.values())Lv(n,t);return!0}function sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new ku("app","Firebase",OR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=kR;function Ww(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Cs.create("bad-app-name",{appName:String(a)});if(n||(n=Kw()),!n)throw Cs.create("no-options");const l=Mh.get(a);if(l){if(Mi(n,l.options)&&Mi(i,l.config))return l;throw Cs.create("duplicate-app",{appName:a})}const c=new zx(a);for(const p of dm.values())c.addComponent(p);const f=new MR(n,i,c);return Mh.set(a,f),f}function Km(t=fm){const e=Mh.get(t);if(!e&&t===fm&&Kw())return Ww();if(!e)throw Cs.create("no-app",{appName:t});return e}function Xr(t,e,n){var i;let a=(i=DR[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(f.join(" "));return}Sa(new Ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",UR=1,Tu="firebase-heartbeat-store";let zp=null;function Zw(){return zp||(zp=Jx(LR,UR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),zp}async function PR(t){try{const n=(await Zw()).transaction(Tu),i=await n.objectStore(Tu).get(Jw(t));return await n.done,i}catch(e){if(e instanceof ii)Li.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function Uv(t,e){try{const i=(await Zw()).transaction(Tu,"readwrite");await i.objectStore(Tu).put(e,Jw(t)),await i.done}catch(n){if(n instanceof ii)Li.warn(n.message);else{const i=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(i.message)}}}function Jw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1024,BR=30;class zR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Pv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>BR){const c=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Li.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:i,unsentEntries:a}=jR(this._heartbeatsCache.heartbeats),l=Oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Li.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function jR(t,e=VR){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Vv(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Vv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ix()?Cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Uv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Vv(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}function qR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){Sa(new Ns("platform-logger",e=>new nR(e),"PRIVATE")),Sa(new Ns("heartbeat",e=>new zR(e),"PRIVATE")),Xr(hm,Mv,t),Xr(hm,Mv,"esm2017"),Xr("fire-js","")}HR("");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,eT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,M){function k(){}k.prototype=M.prototype,z.D=M.prototype,z.prototype=new k,z.prototype.constructor=z,z.C=function(O,U,j){for(var N=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)N[Ee-2]=arguments[Ee];return M.prototype[U].apply(O,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,M,k){k||(k=0);var O=Array(16);if(typeof M=="string")for(var U=0;16>U;++U)O[U]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(U=0;16>U;++U)O[U]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=z.g[0],k=z.g[1],U=z.g[2];var j=z.g[3],N=M+(j^k&(U^j))+O[0]+3614090360&4294967295;M=k+(N<<7&4294967295|N>>>25),N=j+(U^M&(k^U))+O[1]+3905402710&4294967295,j=M+(N<<12&4294967295|N>>>20),N=U+(k^j&(M^k))+O[2]+606105819&4294967295,U=j+(N<<17&4294967295|N>>>15),N=k+(M^U&(j^M))+O[3]+3250441966&4294967295,k=U+(N<<22&4294967295|N>>>10),N=M+(j^k&(U^j))+O[4]+4118548399&4294967295,M=k+(N<<7&4294967295|N>>>25),N=j+(U^M&(k^U))+O[5]+1200080426&4294967295,j=M+(N<<12&4294967295|N>>>20),N=U+(k^j&(M^k))+O[6]+2821735955&4294967295,U=j+(N<<17&4294967295|N>>>15),N=k+(M^U&(j^M))+O[7]+4249261313&4294967295,k=U+(N<<22&4294967295|N>>>10),N=M+(j^k&(U^j))+O[8]+1770035416&4294967295,M=k+(N<<7&4294967295|N>>>25),N=j+(U^M&(k^U))+O[9]+2336552879&4294967295,j=M+(N<<12&4294967295|N>>>20),N=U+(k^j&(M^k))+O[10]+4294925233&4294967295,U=j+(N<<17&4294967295|N>>>15),N=k+(M^U&(j^M))+O[11]+2304563134&4294967295,k=U+(N<<22&4294967295|N>>>10),N=M+(j^k&(U^j))+O[12]+1804603682&4294967295,M=k+(N<<7&4294967295|N>>>25),N=j+(U^M&(k^U))+O[13]+4254626195&4294967295,j=M+(N<<12&4294967295|N>>>20),N=U+(k^j&(M^k))+O[14]+2792965006&4294967295,U=j+(N<<17&4294967295|N>>>15),N=k+(M^U&(j^M))+O[15]+1236535329&4294967295,k=U+(N<<22&4294967295|N>>>10),N=M+(U^j&(k^U))+O[1]+4129170786&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^U&(M^k))+O[6]+3225465664&4294967295,j=M+(N<<9&4294967295|N>>>23),N=U+(M^k&(j^M))+O[11]+643717713&4294967295,U=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(U^j))+O[0]+3921069994&4294967295,k=U+(N<<20&4294967295|N>>>12),N=M+(U^j&(k^U))+O[5]+3593408605&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^U&(M^k))+O[10]+38016083&4294967295,j=M+(N<<9&4294967295|N>>>23),N=U+(M^k&(j^M))+O[15]+3634488961&4294967295,U=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(U^j))+O[4]+3889429448&4294967295,k=U+(N<<20&4294967295|N>>>12),N=M+(U^j&(k^U))+O[9]+568446438&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^U&(M^k))+O[14]+3275163606&4294967295,j=M+(N<<9&4294967295|N>>>23),N=U+(M^k&(j^M))+O[3]+4107603335&4294967295,U=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(U^j))+O[8]+1163531501&4294967295,k=U+(N<<20&4294967295|N>>>12),N=M+(U^j&(k^U))+O[13]+2850285829&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^U&(M^k))+O[2]+4243563512&4294967295,j=M+(N<<9&4294967295|N>>>23),N=U+(M^k&(j^M))+O[7]+1735328473&4294967295,U=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(U^j))+O[12]+2368359562&4294967295,k=U+(N<<20&4294967295|N>>>12),N=M+(k^U^j)+O[5]+4294588738&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^U)+O[8]+2272392833&4294967295,j=M+(N<<11&4294967295|N>>>21),N=U+(j^M^k)+O[11]+1839030562&4294967295,U=j+(N<<16&4294967295|N>>>16),N=k+(U^j^M)+O[14]+4259657740&4294967295,k=U+(N<<23&4294967295|N>>>9),N=M+(k^U^j)+O[1]+2763975236&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^U)+O[4]+1272893353&4294967295,j=M+(N<<11&4294967295|N>>>21),N=U+(j^M^k)+O[7]+4139469664&4294967295,U=j+(N<<16&4294967295|N>>>16),N=k+(U^j^M)+O[10]+3200236656&4294967295,k=U+(N<<23&4294967295|N>>>9),N=M+(k^U^j)+O[13]+681279174&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^U)+O[0]+3936430074&4294967295,j=M+(N<<11&4294967295|N>>>21),N=U+(j^M^k)+O[3]+3572445317&4294967295,U=j+(N<<16&4294967295|N>>>16),N=k+(U^j^M)+O[6]+76029189&4294967295,k=U+(N<<23&4294967295|N>>>9),N=M+(k^U^j)+O[9]+3654602809&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^U)+O[12]+3873151461&4294967295,j=M+(N<<11&4294967295|N>>>21),N=U+(j^M^k)+O[15]+530742520&4294967295,U=j+(N<<16&4294967295|N>>>16),N=k+(U^j^M)+O[2]+3299628645&4294967295,k=U+(N<<23&4294967295|N>>>9),N=M+(U^(k|~j))+O[0]+4096336452&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~U))+O[7]+1126891415&4294967295,j=M+(N<<10&4294967295|N>>>22),N=U+(M^(j|~k))+O[14]+2878612391&4294967295,U=j+(N<<15&4294967295|N>>>17),N=k+(j^(U|~M))+O[5]+4237533241&4294967295,k=U+(N<<21&4294967295|N>>>11),N=M+(U^(k|~j))+O[12]+1700485571&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~U))+O[3]+2399980690&4294967295,j=M+(N<<10&4294967295|N>>>22),N=U+(M^(j|~k))+O[10]+4293915773&4294967295,U=j+(N<<15&4294967295|N>>>17),N=k+(j^(U|~M))+O[1]+2240044497&4294967295,k=U+(N<<21&4294967295|N>>>11),N=M+(U^(k|~j))+O[8]+1873313359&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~U))+O[15]+4264355552&4294967295,j=M+(N<<10&4294967295|N>>>22),N=U+(M^(j|~k))+O[6]+2734768916&4294967295,U=j+(N<<15&4294967295|N>>>17),N=k+(j^(U|~M))+O[13]+1309151649&4294967295,k=U+(N<<21&4294967295|N>>>11),N=M+(U^(k|~j))+O[4]+4149444226&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~U))+O[11]+3174756917&4294967295,j=M+(N<<10&4294967295|N>>>22),N=U+(M^(j|~k))+O[2]+718787259&4294967295,U=j+(N<<15&4294967295|N>>>17),N=k+(j^(U|~M))+O[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,z.g[2]=z.g[2]+U&4294967295,z.g[3]=z.g[3]+j&4294967295}i.prototype.u=function(z,M){M===void 0&&(M=z.length);for(var k=M-this.blockSize,O=this.B,U=this.h,j=0;j<M;){if(U==0)for(;j<=k;)a(this,z,j),j+=this.blockSize;if(typeof z=="string"){for(;j<M;)if(O[U++]=z.charCodeAt(j++),U==this.blockSize){a(this,O),U=0;break}}else for(;j<M;)if(O[U++]=z[j++],U==this.blockSize){a(this,O),U=0;break}}this.h=U,this.o+=M},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;var k=8*this.o;for(M=z.length-8;M<z.length;++M)z[M]=k&255,k/=256;for(this.u(z),z=Array(16),M=k=0;4>M;++M)for(var O=0;32>O;O+=8)z[k++]=this.g[M]>>>O&255;return z};function l(z,M){var k=f;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=M(z)}function c(z,M){this.h=M;for(var k=[],O=!0,U=z.length-1;0<=U;U--){var j=z[U]|0;O&&j==M||(k[U]=j,O=!1)}this.g=k}var f={};function p(z){return-128<=z&&128>z?l(z,function(M){return new c([M|0],0>M?-1:0)}):new c([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return w;if(0>z)return F(m(-z));for(var M=[],k=1,O=0;z>=k;O++)M[O]=z/k|0,k*=4294967296;return new c(M,0)}function y(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return F(y(z.substring(1),M));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(M,8)),O=w,U=0;U<z.length;U+=8){var j=Math.min(8,z.length-U),N=parseInt(z.substring(U,U+j),M);8>j?(j=m(Math.pow(M,j)),O=O.j(j).add(m(N))):(O=O.j(k),O=O.add(m(N)))}return O}var w=p(0),A=p(1),b=p(16777216);t=c.prototype,t.m=function(){if(B(this))return-F(this).m();for(var z=0,M=1,k=0;k<this.g.length;k++){var O=this.i(k);z+=(0<=O?O:4294967296+O)*M,M*=4294967296}return z},t.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(P(this))return"0";if(B(this))return"-"+F(this).toString(z);for(var M=m(Math.pow(z,6)),k=this,O="";;){var U=fe(k,M).g;k=G(k,U.j(M));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(z);if(k=U,P(k))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},t.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function P(z){if(z.h!=0)return!1;for(var M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function B(z){return z.h==-1}t.l=function(z){return z=G(this,z),B(z)?-1:P(z)?0:1};function F(z){for(var M=z.g.length,k=[],O=0;O<M;O++)k[O]=~z.g[O];return new c(k,~z.h).add(A)}t.abs=function(){return B(this)?F(this):this},t.add=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0,U=0;U<=M;U++){var j=O+(this.i(U)&65535)+(z.i(U)&65535),N=(j>>>16)+(this.i(U)>>>16)+(z.i(U)>>>16);O=N>>>16,j&=65535,N&=65535,k[U]=N<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function G(z,M){return z.add(F(M))}t.j=function(z){if(P(this)||P(z))return w;if(B(this))return B(z)?F(this).j(F(z)):F(F(this).j(z));if(B(z))return F(this.j(F(z)));if(0>this.l(b)&&0>z.l(b))return m(this.m()*z.m());for(var M=this.g.length+z.g.length,k=[],O=0;O<2*M;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<z.g.length;U++){var j=this.i(O)>>>16,N=this.i(O)&65535,Ee=z.i(U)>>>16,we=z.i(U)&65535;k[2*O+2*U]+=N*we,te(k,2*O+2*U),k[2*O+2*U+1]+=j*we,te(k,2*O+2*U+1),k[2*O+2*U+1]+=N*Ee,te(k,2*O+2*U+1),k[2*O+2*U+2]+=j*Ee,te(k,2*O+2*U+2)}for(O=0;O<M;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=M;O<2*M;O++)k[O]=0;return new c(k,0)};function te(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function J(z,M){this.g=z,this.h=M}function fe(z,M){if(P(M))throw Error("division by zero");if(P(z))return new J(w,w);if(B(z))return M=fe(F(z),M),new J(F(M.g),F(M.h));if(B(M))return M=fe(z,F(M)),new J(F(M.g),M.h);if(30<z.g.length){if(B(z)||B(M))throw Error("slowDivide_ only works with positive integers.");for(var k=A,O=M;0>=O.l(z);)k=ae(k),O=ae(O);var U=X(k,1),j=X(O,1);for(O=X(O,2),k=X(k,2);!P(O);){var N=j.add(O);0>=N.l(z)&&(U=U.add(k),j=N),O=X(O,1),k=X(k,1)}return M=G(z,U.j(M)),new J(U,M)}for(U=w;0<=z.l(M);){for(k=Math.max(1,Math.floor(z.m()/M.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=m(k),N=j.j(M);B(N)||0<N.l(z);)k-=O,j=m(k),N=j.j(M);P(j)&&(j=A),U=U.add(j),z=G(z,N)}return new J(U,z)}t.A=function(z){return fe(this,z).h},t.and=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0;O<M;O++)k[O]=this.i(O)&z.i(O);return new c(k,this.h&z.h)},t.or=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0;O<M;O++)k[O]=this.i(O)|z.i(O);return new c(k,this.h|z.h)},t.xor=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0;O<M;O++)k[O]=this.i(O)^z.i(O);return new c(k,this.h^z.h)};function ae(z){for(var M=z.g.length+1,k=[],O=0;O<M;O++)k[O]=z.i(O)<<1|z.i(O-1)>>>31;return new c(k,z.h)}function X(z,M){var k=M>>5;M%=32;for(var O=z.g.length-k,U=[],j=0;j<O;j++)U[j]=0<M?z.i(j+k)>>>M|z.i(j+k+1)<<32-M:z.i(j+k);return new c(U,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,ks=c}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,uu,nT,Th,pm,rT,iT,sT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var T=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],C=T[h],v=v(C),v!=C&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,C=!1,Y={next:function(){if(!C&&T<h.length){var re=T++;return{value:v(re,h[re]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function w(h,v,T){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,C),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function A(h,v,T){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,A.apply(null,arguments)}function b(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function P(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(C,Y,re){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return v.prototype[Y].apply(C,ye)}}function B(h){const v=h.length;if(0<v){const T=Array(v);for(let C=0;C<v;C++)T[C]=h[C];return T}return[]}function F(h,v){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(p(C)){const Y=h.length||0,re=C.length||0;h.length=Y+re;for(let ye=0;ye<re;ye++)h[Y+ye]=C[ye]}else h.push(C)}}class G{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function te(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function fe(h){return fe[" "](h),h}fe[" "]=function(){};var ae=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function X(h,v,T){for(const C in h)v.call(T,h[C],C,h)}function z(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function M(h){const v={};for(const T in h)v[T]=h[T];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let T,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(T in C)h[T]=C[T];for(let re=0;re<k.length;re++)T=k[re],Object.prototype.hasOwnProperty.call(C,T)&&(h[T]=C[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function j(h){f.setTimeout(()=>{throw h},0)}function N(){var h=He;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,T){const C=we.get();C.set(v,T),this.h?this.h.next=C:this.g=C,this.h=C}}var we=new G(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,be=!1,He=new Ee,R=()=>{const h=f.Promise.resolve(void 0);Te=()=>{h.then(oe)}};var oe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){j(T)}var v=we;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}be=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Ne(h,v){if(L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ae){e:{try{fe(v.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}P(Ne,L);var xe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),Le=0;function at(h,v,T,C,Y){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!C,this.ha=Y,this.key=++Le,this.da=this.fa=!1}function Qe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h){this.src=h,this.g={},this.h=0}It.prototype.add=function(h,v,T,C,Y){var re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);var ye=Mt(h,v,C,Y);return-1<ye?(v=h[ye],T||(v.fa=!1)):(v=new at(v,this.src,re,!!C,Y),v.fa=T,h.push(v)),v};function Cn(h,v){var T=v.type;if(T in h.g){var C=h.g[T],Y=Array.prototype.indexOf.call(C,v,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(C,Y,1),re&&(Qe(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Mt(h,v,T,C){for(var Y=0;Y<h.length;++Y){var re=h[Y];if(!re.da&&re.listener==v&&re.capture==!!T&&re.ha==C)return Y}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),zn={};function kn(h,v,T,C,Y){if(Array.isArray(v)){for(var re=0;re<v.length;re++)kn(h,v[re],T,C,Y);return null}return T=Tn(T),h&&h[dt]?h.K(v,T,m(C)?!!C.capture:!1,Y):er(h,v,T,!1,C,Y)}function er(h,v,T,C,Y,re){if(!v)throw Error("Invalid event type");var ye=m(Y)?!!Y.capture:!!Y,nt=wr(h);if(nt||(h[dn]=nt=new It(h)),T=nt.add(v,T,C,ye,re),T.proxy)return T;if(C=kr(),T.proxy=C,C.src=h,C.listener=T,h.addEventListener)ve||(Y=ye),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),C,Y);else if(h.attachEvent)h.attachEvent(Fn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function kr(){function h(T){return v.call(h.src,h.listener,T)}const v=pn;return h}function Er(h,v,T,C,Y){if(Array.isArray(v))for(var re=0;re<v.length;re++)Er(h,v[re],T,C,Y);else C=m(C)?!!C.capture:!!C,T=Tn(T),h&&h[dt]?(h=h.i,v=String(v).toString(),v in h.g&&(re=h.g[v],T=Mt(re,T,C,Y),-1<T&&(Qe(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete h.g[v],h.h--)))):h&&(h=wr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Mt(v,T,C,Y)),(T=-1<h?v[h]:null)&&jn(T))}function jn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[dt])Cn(v.i,h);else{var T=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(T,C,h.capture):v.detachEvent?v.detachEvent(Fn(T),C):v.addListener&&v.removeListener&&v.removeListener(C),(T=wr(v))?(Cn(T,h),T.h==0&&(T.src=null,v[dn]=null)):Qe(h)}}}function Fn(h){return h in zn?zn[h]:zn[h]="on"+h}function pn(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var T=h.listener,C=h.ha||h.src;h.fa&&jn(h),h=T.call(C,v)}return h}function wr(h){return h=h[dn],h instanceof It?h:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(h){return typeof h=="function"?h:(h[Wt]||(h[Wt]=function(v){return h.handleEvent(v)}),h[Wt])}function ne(){_e.call(this),this.i=new It(this),this.M=this,this.F=null}P(ne,_e),ne.prototype[dt]=!0,ne.prototype.removeEventListener=function(h,v,T,C){Er(this,h,v,T,C)};function x(h,v){var T,C=h.F;if(C)for(T=[];C;C=C.F)T.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new L(v,h);else if(v instanceof L)v.target=v.target||h;else{var Y=v;v=new L(C,h),O(v,Y)}if(Y=!0,T)for(var re=T.length-1;0<=re;re--){var ye=v.g=T[re];Y=_(ye,C,!0,v)&&Y}if(ye=v.g=h,Y=_(ye,C,!0,v)&&Y,Y=_(ye,C,!1,v)&&Y,T)for(re=0;re<T.length;re++)ye=v.g=T[re],Y=_(ye,C,!1,v)&&Y}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],C=0;C<T.length;C++)Qe(T[C]);delete h.g[v],h.h--}}this.F=null},ne.prototype.K=function(h,v,T,C){return this.i.add(String(h),v,!1,T,C)},ne.prototype.L=function(h,v,T,C){return this.i.add(String(h),v,!0,T,C)};function _(h,v,T,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,re=0;re<v.length;++re){var ye=v[re];if(ye&&!ye.da&&ye.capture==T){var nt=ye.listener,Ht=ye.ha||ye.src;ye.fa&&Cn(h.i,ye),Y=nt.call(Ht,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function E(h,v,T){if(typeof h=="function")T&&(h=A(h,T));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function D(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,D(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class H extends _e{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:D(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(h){_e.call(this),this.h=h,this.g={}}P(Z,_e);var ie=[];function Re(h){X(h.g,function(v,T){this.g.hasOwnProperty(T)&&jn(v)},h),h.g={}}Z.prototype.N=function(){Z.aa.N.call(this),Re(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=f.JSON.stringify,Me=f.JSON.parse,Be=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function qe(){}qe.prototype.h=null;function Gu(h){return h.h||(h.h=h.i())}function Ku(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){L.call(this,"d")}P(ji,L);function Tr(){L.call(this,"c")}P(Tr,L);var tr={},Fi=null;function Ma(){return Fi=Fi||new ne}tr.La="serverreachability";function rl(h){L.call(this,tr.La,h)}P(rl,L);function qi(h){const v=Ma();x(v,new rl(v))}tr.STAT_EVENT="statevent";function La(h,v){L.call(this,tr.STAT_EVENT,h),this.stat=v}P(La,L);function Lt(h){const v=Ma();x(v,new La(v,h))}tr.Ma="timingevent";function Qu(h,v){L.call(this,tr.Ma,h),this.size=v}P(Qu,L);function Hi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function $u(h,v,T,C,Y,re){h.info(function(){if(h.g)if(re)for(var ye="",nt=re.split("&"),Ht=0;Ht<nt.length;Ht++){var rt=nt[Ht].split("=");if(1<rt.length){var en=rt[0];rt=rt[1];var Gt=en.split("_");ye=2<=Gt.length&&Gt[1]=="type"?ye+(en+"="+rt+"&"):ye+(en+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+v+`
`+T+`
`+ye})}function Yu(h,v,T,C,Y,re,ye){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+v+`
`+T+`
`+re+" "+ye})}function Ki(h,v,T,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zt(h,T)+(C?" "+C:"")})}function Nr(h,v){h.info(function(){return"TIMEOUT: "+v})}Gi.prototype.info=function(){};function Zt(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var C=T[h];if(!(2>C.length)){var Y=C[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<Y.length;ye++)Y[ye]=""}}}}return tt(T)}catch{return v}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qs;function Ua(){}P(Ua,qe),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},qs=new Ua;function Or(h,v,T,C){this.j=h,this.i=v,this.l=T,this.R=C||1,this.U=new Z(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new il}function il(){this.i=null,this.g="",this.h=!1}var Qi={},Hs={};function br(h,v,T){h.L=1,h.v=Qs(Ct(v)),h.m=T,h.P=!0,ai(h,null)}function ai(h,v){h.F=Date.now(),bt(h),h.A=Ct(h.v);var T=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),ui(T.i,"t",C),h.C=0,T=h.j.J,h.h=new il,h.g=uc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new H(A(h.Y,h,h.g),h.O)),v=h.U,T=h.g,C=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ie[0]=Y.toString()),Y=ie);for(var re=0;re<Y.length;re++){var ye=kn(T,Y[re],C||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=h.H?M(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),qi(),$u(h.i,h.u,h.A,h.l,h.R,h.m)}Or.prototype.ca=function(h){h=h.target;const v=this.M;v&&ar(h)==3?v.j():this.Y(h)},Or.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=ar(this.g);var v=this.g.Ba();const di=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||tc(this.g)))){this.J||Gt!=4||v==7||(v==8||0>=di?qi(3):qi(2)),Pa(this);var T=this.g.Z();this.X=T;t:if($i(this)){var C=tc(this.g);h="";var Y=C.length,re=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),qn(this);var ye="";break t}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(re&&v==Y-1)});C.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,Yu(this.i,this.u,this.A,this.l,this.R,Gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Ht=this.g;if((nt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(nt)){var rt=nt;break t}}rt=null}if(T=rt)Ki(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,T);else{this.o=!1,this.s=3,Lt(12),Dn(this),qn(this);break e}}if(this.P){T=!0;let an;for(;!this.J&&this.C<ye.length;)if(an=Yi(this,ye),an==Hs){Gt==4&&(this.s=4,Lt(14),T=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Qi){this.s=4,Lt(15),Ki(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else Ki(this.i,this.l,an,null),Hn(this,an);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ye.length!=0||this.h.h||(this.s=1,Lt(16),T=!1),this.o=this.o&&T,!T)Ki(this.i,this.l,ye,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(0<ye.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ea(en),en.M=!0,Lt(11))}}else Ki(this.i,this.l,ye,null),Hn(this,ye);Gt==4&&Dn(this),this.o&&!this.J&&(Gt==4?ac(this.j,this):(this.o=!1,bt(this)))}else Pf(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Dn(this),qn(this)}}}catch{}finally{}};function $i(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Yi(h,v){var T=h.C,C=v.indexOf(`
`,T);return C==-1?Hs:(T=Number(v.substring(T,C)),isNaN(T)?Qi:(C+=1,C+T>v.length?Hs:(v=v.slice(C,C+T),h.C=C+T,v)))}Or.prototype.cancel=function(){this.J=!0,Dn(this)};function bt(h){h.S=Date.now()+h.I,sl(h,h.I)}function sl(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Hi(A(h.ba,h),v)}function Pa(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Or.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Nr(this.i,this.A),this.L!=2&&(qi(),Lt(17)),Dn(this),this.s=2,qn(this)):sl(this,this.S-h)};function qn(h){h.j.G==0||h.J||ac(h.j,h)}function Dn(h){Pa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Re(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hn(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Xi(T.h,h))){if(!h.K&&Xi(T.h,h)&&T.G==3){try{var C=T.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Qa(T),Ga(T);else break e;gl(T),Lt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=Hi(A(T.Za,T),6e3));if(1>=Xu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fi(T,11)}else if((h.K||T.g==h)&&Qa(T),!te(v))for(Y=T.Da.g.parse(v),v=0;v<Y.length;v++){let rt=Y[v];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const en=rt[3];en!=null&&(T.la=en,T.j.info("VER="+T.la));const Gt=rt[4];Gt!=null&&(T.Aa=Gt,T.j.info("SVER="+T.Aa));const di=rt[5];di!=null&&typeof di=="number"&&0<di&&(C=1.5*di,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const an=h.g;if(an){const zr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var re=C.h;re.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Wi(re,re.h),re.h=null))}if(C.D){const _l=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(C.ya=_l,ot(C.I,C.D,_l))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var ye=h;if(C.qa=lc(C,C.J?C.ia:null,C.W),ye.K){nr(C.h,ye);var nt=ye,Ht=C.L;Ht&&(nt.I=Ht),nt.B&&(Pa(nt),bt(nt)),C.g=ye}else ic(C);0<T.i.length&&Ka(T)}else rt[0]!="stop"&&rt[0]!="close"||fi(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?fi(T,7):pl(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}qi(4)}catch{}}var Nf=class{constructor(h,v){this.g=h,this.map=v}};function al(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ol(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xu(h){return h.h?1:h.g?h.g.size:0}function Xi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Wi(h,v){h.g?h.g.add(v):h.h=v}function nr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}al.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return B(h.i)}function Wu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],T=h.length,C=0;C<T;C++)v.push(h[C]);return v}v=[],T=0;for(C in h)v[T++]=h[C];return v}function Of(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const C in h)v[T++]=C;return v}}}function Gs(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Of(h),C=Wu(h),Y=C.length,re=0;re<Y;re++)v.call(void 0,C[re],T&&T[re],h)}var ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var C=h[T].indexOf("="),Y=null;if(0<=C){var re=h[T].substring(0,C);Y=h[T].substring(C+1)}else re=h[T];v(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function oi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof oi){this.h=h.h,Zi(this,h.j),this.o=h.o,this.g=h.g,Ks(this,h.s),this.l=h.l;var v=h.i,T=new Mr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ba(this,T),this.m=h.m}else h&&(v=String(h).match(ll))?(this.h=!1,Zi(this,v[1]||"",!0),this.o=Ji(v[2]||""),this.g=Ji(v[3]||"",!0),Ks(this,v[4]),this.l=Ji(v[5]||"",!0),Ba(this,v[6]||"",!0),this.m=Ji(v[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}oi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(rr(v,ul,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(rr(v,ul,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(rr(T,T.charAt(0)=="/"?cl:Zu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",rr(T,Uf)),h.join("")};function Ct(h){return new oi(h)}function Zi(h,v,T){h.j=T?Ji(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ks(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ba(h,v,T){v instanceof Mr?(h.i=v,hl(h.i,h.h)):(T||(v=rr(v,Lf)),h.i=new Mr(v,h.h))}function ot(h,v,T){h.i.set(v,T)}function Qs(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ji(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Mf),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ul=/[#\/\?@]/g,Zu=/[#\?:]/g,cl=/[#\?]/g,Lf=/[#\?@]/g,Uf=/#/g;function Mr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Va(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Mr.prototype,t.add=function(h,v){ir(this),this.i=null,h=ci(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function za(h,v){ir(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function li(h,v){return ir(h),v=ci(h,v),h.g.has(v)}t.forEach=function(h,v){ir(this),this.g.forEach(function(T,C){T.forEach(function(Y){h.call(v,Y,C,this)},this)},this)},t.na=function(){ir(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let C=0;C<v.length;C++){const Y=h[C];for(let re=0;re<Y.length;re++)T.push(v[C])}return T},t.V=function(h){ir(this);let v=[];if(typeof h=="string")li(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return ir(this),this.i=null,h=ci(this,h),li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ui(h,v,T){za(h,v),0<T.length&&(h.i=null,h.g.set(ci(h,v),B(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var C=v[T];const re=encodeURIComponent(String(C)),ye=this.V(C);for(C=0;C<ye.length;C++){var Y=re;ye[C]!==""&&(Y+="="+encodeURIComponent(String(ye[C]))),h.push(Y)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function hl(h,v){v&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(T,C){var Y=C.toLowerCase();C!=Y&&(za(this,C),ui(this,Y,T))},h)),h.j=v}function Ju(h,v){const T=new Gi;if(f.Image){const C=new Image;C.onload=b(sr,T,"TestLoadImage: loaded",!0,v,C),C.onerror=b(sr,T,"TestLoadImage: error",!1,v,C),C.onabort=b(sr,T,"TestLoadImage: abort",!1,v,C),C.ontimeout=b(sr,T,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function $s(h,v){const T=new Gi,C=new AbortController,Y=setTimeout(()=>{C.abort(),sr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(re=>{clearTimeout(Y),re.ok?sr(T,"TestPingServer: ok",!0,v):sr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),sr(T,"TestPingServer: error",!1,v)})}function sr(h,v,T,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(T)}catch{}}function Ys(){this.g=new Be}function Lr(h,v,T){const C=T||"";try{Gs(h,function(Y,re){let ye=Y;m(Y)&&(ye=tt(Y)),v.push(C+re+"="+encodeURIComponent(ye))})}catch(Y){throw v.push(C+"type="+encodeURIComponent("_badmap")),Y}}function es(h){this.l=h.Ub||null,this.j=h.eb||!1}P(es,qe),es.prototype.g=function(){return new hi(this.l,this.j)},es.prototype.i=function(h){return function(){return h}}({});function hi(h,v){ne.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(hi,ne),t=hi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Pr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ur(this):Pr(this),this.readyState==3&&fl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},t.Qa=function(h){this.g&&(this.response=h,Ur(this))},t.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function dl(h){let v="";return X(h,function(T,C){v+=C,v+=":",v+=T,v+=`\r
`}),v}function Jt(h,v,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=dl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):ot(h,v,T))}function ht(h){ne.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ht,ne);var ja=/^https?$/i,Xs=["POST","PUT"];t=ht.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qs.g(),this.v=this.o?Gu(this.o):Gu(qs),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(re){ec(this,re);return}if(h=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)T.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())T.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Xs,v,void 0))||C||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of T)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(h),this.u=!1}catch(re){ec(this,re)}};function ec(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Fa(h),Vr(h)}function Fa(h){h.A||(h.A=!0,x(h,"complete"),x(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,x(this,"complete"),x(this,"abort"),Vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},t.bb=function(){qa(this)};function qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)E(h.Ea,0,h);else if(x(h,"readystatechange"),ar(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var C;if(C=ye===0){var Y=String(h.D).match(ll)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),C=!ja.test(Y?Y.toLowerCase():"")}T=C}if(T)x(h,"complete"),x(h,"success");else{h.m=6;try{var re=2<ar(h)?h.g.statusText:""}catch{re=""}h.l=re+" ["+h.Z()+"]",Fa(h)}}finally{Vr(h)}}}}function Vr(h,v){if(h.g){Ws(h);const T=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||x(h,"ready");try{T.onreadystatechange=C}catch{}}}function Ws(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Me(v)}};function tc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Pf(h){const v={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(te(h[C]))continue;var T=U(h[C]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=v[Y]||[];v[Y]=re,re.push(T)}z(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ha(h){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,h),this.cb=Zs("retryDelaySeedMs",1e4,h),this.Wa=Zs("forwardChannelMaxRetries",2,h),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new al(h&&h.concurrentRequestLimit),this.Da=new Ys,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ha.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,C){Lt(0),this.W=h,this.H=v||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=lc(this,null,this.W),Ka(this)};function pl(h){if(nc(h),h.G==3){var v=h.U++,T=Ct(h.I);if(ot(T,"SID",h.K),ot(T,"RID",v),ot(T,"TYPE","terminate"),Js(h,T),v=new Or(h,h.j,v),v.L=2,v.v=Qs(Ct(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bt(v)}oc(h)}function Ga(h){h.g&&(ea(h),h.g.cancel(),h.g=null)}function nc(h){Ga(h),h.u&&(f.clearTimeout(h.u),h.u=null),Qa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ka(h){if(!ol(h.h)&&!h.s){h.s=!0;var v=h.Ga;Te||R(),be||(Te(),be=!0),He.add(v,h),h.B=0}}function Vf(h,v){return Xu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Hi(A(h.Ga,h,v),yl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Or(this,this.j,h);let re=this.o;if(this.S&&(re?(re=M(re),O(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=rc(this,Y,v),T=Ct(this.I),ot(T,"RID",h),ot(T,"CVER",22),this.D&&ot(T,"X-HTTP-Session-Id",this.D),Js(this,T),re&&(this.O?v="headers="+encodeURIComponent(String(dl(re)))+"&"+v:this.m&&Jt(T,this.m,re)),Wi(this.h,Y),this.Ua&&ot(T,"TYPE","init"),this.P?(ot(T,"$req",v),ot(T,"SID","null"),Y.T=!0,br(Y,T,null)):br(Y,T,v),this.G=2}}else this.G==3&&(h?ml(this,h):this.i.length==0||ol(this.h)||ml(this))};function ml(h,v){var T;v?T=v.l:T=h.U++;const C=Ct(h.I);ot(C,"SID",h.K),ot(C,"RID",T),ot(C,"AID",h.T),Js(h,C),h.m&&h.o&&Jt(C,h.m,h.o),T=new Or(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=rc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wi(h.h,T),br(T,C,v)}function Js(h,v){h.H&&X(h.H,function(T,C){ot(v,C,T)}),h.l&&Gs({},function(T,C){ot(v,C,T)})}function rc(h,v,T){T=Math.min(h.i.length,T);var C=h.l?A(h.l.Na,h.l,h):null;e:{var Y=h.i;let re=-1;for(;;){const ye=["count="+T];re==-1?0<T?(re=Y[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let nt=!0;for(let Ht=0;Ht<T;Ht++){let rt=Y[Ht].g;const en=Y[Ht].map;if(rt-=re,0>rt)re=Math.max(0,Y[Ht].g-100),nt=!1;else try{Lr(en,ye,"req"+rt+"_")}catch{C&&C(en)}}if(nt){C=ye.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,C}function ic(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Te||R(),be||(Te(),be=!0),He.add(v,h),h.v=0}}function gl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Hi(A(h.Fa,h),yl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Hi(A(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Ga(this),sc(this))};function ea(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function sc(h){h.g=new Or(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Ct(h.qa);ot(v,"RID","rpc"),ot(v,"SID",h.K),ot(v,"AID",h.T),ot(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(v,"TO",h.ja),ot(v,"TYPE","xmlhttp"),Js(h,v),h.m&&h.o&&Jt(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Qs(Ct(v)),T.m=null,T.P=!0,ai(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Ga(this),gl(this),Lt(19))};function Qa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function ac(h,v){var T=null;if(h.g==v){Qa(h),ea(h),h.g=null;var C=2}else if(Xi(h.h,v))T=v.D,nr(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;C=Ma(),x(C,new Qu(C,T)),Ka(h)}else ic(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(C==1&&Vf(h,v)||C==2&&gl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),Y){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function yl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function fi(h,v){if(h.j.info("Error code "+v),v==2){var T=A(h.fb,h),C=h.Xa;const Y=!C;C=new oi(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Zi(C,"https"),Qs(C),Y?Ju(C.toString(),T):$s(C.toString(),T)}else Lt(2);h.G=0,h.l&&h.l.sa(v),oc(h),nc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function oc(h){if(h.G=0,h.ka=[],h.l){const v=bn(h.h);(v.length!=0||h.i.length!=0)&&(F(h.ka,v),F(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function lc(h,v,T){var C=T instanceof oi?Ct(T):new oi(T);if(C.g!="")v&&(C.g=v+"."+C.g),Ks(C,C.s);else{var Y=f.location;C=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new oi(null);C&&Zi(re,C),v&&(re.g=v),Y&&Ks(re,Y),T&&(re.l=T),C=re}return T=h.D,v=h.ya,T&&v&&ot(C,T,v),ot(C,"VER",h.la),Js(h,C),C}function uc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ht(new es({eb:T})):new ht(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $a(){}$a.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){ne.call(this),this.g=new Ha(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!te(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!te(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Br(this)}P(Sn,ne),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){pl(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=tt(h),h=T);v.i.push(new Nf(v.Ya++,h)),v.G==3&&Ka(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Sn.aa.N.call(this)};function hc(h){ji.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}P(hc,ji);function fc(){Tr.call(this),this.status=1}P(fc,Tr);function Br(h){this.g=h}P(Br,cc),Br.prototype.ua=function(){x(this.g,"a")},Br.prototype.ta=function(h){x(this.g,new hc(h))},Br.prototype.sa=function(h){x(this.g,new fc)},Br.prototype.ra=function(){x(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,sT=function(){return new $a},iT=function(){return Ma()},rT=tr,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,Th=qt,si.COMPLETE="complete",nT=si,Ku.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",ne.prototype.listen=ne.prototype.K,uu=Ku,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,tT=ht}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",jv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Hm("@firebase/firestore");function Ao(){return Aa.logLevel}function Se(t,...e){if(Aa.logLevel<=We.DEBUG){const n=e.map(Qm);Aa.debug(`Firestore (${Qo}): ${t}`,...n)}}function Ui(t,...e){if(Aa.logLevel<=We.ERROR){const n=e.map(Qm);Aa.error(`Firestore (${Qo}): ${t}`,...n)}}function Uo(t,...e){if(Aa.logLevel<=We.WARN){const n=e.map(Qm);Aa.warn(`Firestore (${Qo}): ${t}`,...n)}}function Qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function ft(t,e){t||Ue()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class KR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QR{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ni)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new aT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new _n(e)}}class $R{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YR{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new $R(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const i=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Fv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new Fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=WR(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function et(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Hv);return new Yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qv)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Yt(0,0))}static max(){return new ze(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class Qr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ue(),i===void 0?i=e.length-n:i>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Qr.isNumericId(e),a=Qr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Tt extends Qr{construct(e,n,i){return new Tt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const ZR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Qr{construct(e,n,i){return new hn(e,n,i)}static isValidIdentifier(e){return ZR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new hn([Gv])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ce(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Ce(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Tt.fromString(e))}static fromName(e){return new De(Tt.fromString(e).popFirst(5))}static empty(){return new De(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function JR(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new Os(a,De.empty(),e)}function eI(t){return new Os(t.readTime,t.key,bu)}class Os{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Os(ze.min(),De.empty(),bu)}static max(){return new Os(ze.max(),De.empty(),bu)}}function tI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==nI)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,i)=>{n(e)})}static reject(e){return new he((n,i)=>{i(e)})}static waitFor(e){return new he((n,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next(a=>a?he.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new he((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(y=>{c[m]=y,++f,f===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new he((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function iI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function of(t){return t==null}function Lh(t){return t===0&&1/t==-1/0}function sI(t){return typeof t=="number"&&Number.isInteger(t)&&!Lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function aI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kv(e)),e=oI(t.get(n),e);return Kv(e)}function oI(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case lT:n+="";break;default:n+=l}}return n}function Kv(t){return t+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Xt(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cT("Invalid base64 string: "+l):l}}(e);return new fn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(ft(!!t),typeof t=="string"){let e=0;const n=lI.exec(t);if(ft(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="server_timestamp",fT="__type__",dT="__previous_value__",pT="__local_write_time__";function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fT])===null||n===void 0?void 0:n.stringValue)===hT}function lf(t){const e=t.mapValue.fields[dT];return Ym(e)?lf(e):e}function Su(t){const e=Ms(t.mapValue.fields[pT].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,i,a,l,c,f,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Uh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",cI="__max__",dh={mapValue:{}},gT="__vector__",Ph="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:fI(t)?9007199254740991:hI(t)?10:11:Ue()}function ei(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ms(a.timestampValue),f=Ms(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),f=Pt(l.doubleValue);return c===f?Lh(c)===Lh(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Qv(c)!==Qv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ei(c[p],f[p])))return!1;return!0}(t,e);default:return Ue()}}function xu(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Us(t),i=Us(e);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Pt(l.integerValue||l.doubleValue),p=Pt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return Yv(t.timestampValue,e.timestampValue);case 4:return Yv(Su(t),Su(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Ls(l),p=Ls(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=et(f[m],p[m]);if(y!==0)return y}return et(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=et(Pt(l.latitude),Pt(c.latitude));return f!==0?f:et(Pt(l.longitude),Pt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xv(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,m,y;const w=l.fields||{},A=c.fields||{},b=(f=w[Ph])===null||f===void 0?void 0:f.arrayValue,P=(p=A[Ph])===null||p===void 0?void 0:p.arrayValue,B=et(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return B!==0?B:Xv(b,P)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===dh.mapValue&&c===dh.mapValue)return 0;if(l===dh.mapValue)return 1;if(c===dh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const A=et(p[w],y[w]);if(A!==0)return A;const b=Vo(f[p[w]],m[y[w]]);if(b!==0)return b}return et(p.length,y.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function Yv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ms(t),i=Ms(e),a=et(n.seconds,i.seconds);return a!==0?a:et(n.nanos,i.nanos)}function Xv(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Vo(n[a],i[a]);if(l)return l}return et(n.length,i.length)}function Bo(t){return mm(t)}function mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ms(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=mm(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${mm(n.fields[c])}`;return a+"}"}(t.mapValue):Ue()}function bh(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(t);return e?16+bh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+bh(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Bs(i.fields,(l,c)=>{a+=l.length+bh(c)}),a}(t.mapValue);default:throw Ue()}}function gm(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function Wv(t){return!!t&&"nullValue"in t}function Zv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function hI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mT])===null||n===void 0?void 0:n.stringValue)===gT}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=du(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=hn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=du(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Sh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Bs(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Un(du(this.value))}}function yT(t){const e=[];return Bs(t.fields,(n,i)=>{const a=new hn([n]);if(Sh(i)){const l=yT(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new vn(e,0,ze.min(),ze.min(),ze.min(),Un.empty(),0)}static newFoundDocument(e,n,i,a){return new vn(e,1,n,ze.min(),i,a,0)}static newNoDocument(e,n){return new vn(e,2,n,ze.min(),ze.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,ze.min(),ze.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function Jv(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=De.comparator(De.fromName(c.referenceValue),n.key):i=Vo(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function dI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{}class $t extends _T{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new mI(e,n,i):n==="array-contains"?new _I(e,i):n==="in"?new vI(e,i):n==="not-in"?new EI(e,i):n==="array-contains-any"?new wI(e,i):new $t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new gI(e,i):new yI(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ti(e,n)}matches(e){return vT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vT(t){return t.op==="and"}function ET(t){return pI(t)&&vT(t)}function pI(t){for(const e of t.filters)if(e instanceof ti)return!1;return!0}function ym(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(ET(t))return t.filters.map(e=>ym(e)).join(",");{const e=t.filters.map(n=>ym(n)).join(",");return`${t.op}(${e})`}}function wT(t,e){return t instanceof $t?function(i,a){return a instanceof $t&&i.op===a.op&&i.field.isEqual(a.field)&&ei(i.value,a.value)}(t,e):t instanceof ti?function(i,a){return a instanceof ti&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&wT(c,a.filters[f]),!0):!1}(t,e):void Ue()}function TT(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof ti?function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"}(t):"Filter"}class mI extends $t{constructor(e,n,i){super(e,n,i),this.key=De.fromName(i.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class gI extends $t{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yI extends $t{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>De.fromName(i.referenceValue))}class _I extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&xu(n.arrayValue,this.value)}}class vI extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class EI extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class wI extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function tE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new TI(t,e,n,i,a,l,c)}function Wm(t){const e=Fe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ym(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Bo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Bo(i)).join(",")),e.le=n}return e.le}function Zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function _m(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bI(t,e,n,i,a,l,c,f){return new uf(t,e,n,i,a,l,c,f)}function cf(t){return new uf(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SI(t){return t.collectionGroup!==null}function pu(t){const e=Fe(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xt(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Bh(l,i))}),n.has(hn.keyField().canonicalString())||e.he.push(new Bh(hn.keyField(),i))}return e.he}function Wr(t){const e=Fe(t);return e.Pe||(e.Pe=AI(e,pu(t))),e.Pe}function AI(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Bh(a.field,l)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vm(t,e,n){return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Zm(Wr(t),Wr(e))&&t.limitType===e.limitType}function ST(t){return`${Wm(Wr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>TT(a)).join(", ")}]`),of(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Bo(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Bo(a)).join(",")),`Target(${i})`}(Wr(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):De.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of pu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,f,p){const m=Jv(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,pu(i),a)||i.endAt&&!function(c,f,p){const m=Jv(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,pu(i),a))}(t,e)}function xI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AT(t){return(e,n)=>{let i=!1;for(const a of pu(t)){const l=RI(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function RI(t,e,n){const i=t.field.isKeyField()?De.comparator(e.key,n.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Vo(p,m):Ue()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new xt(De.comparator);function Pi(){return II}const xT=new xt(De.comparator);function cu(...t){let e=xT;for(const n of t)e=e.insert(n.key,n);return e}function RT(t){let e=xT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ea(){return mu()}function IT(){return mu()}function mu(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const CI=new xt(De.comparator),kI=new Xt(De.comparator);function Ze(...t){let e=kI;for(const n of t)e=e.add(n);return e}const DI=new Xt(et);function NI(){return DI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function CT(t){return{integerValue:""+t}}function OI(t,e){return sI(e)?CT(e):Jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function MI(t,e,n){return t instanceof zh?function(a,l){const c={fields:{[fT]:{stringValue:hT},[pT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ym(l)&&(l=lf(l)),l&&(c.fields[dT]=l),{mapValue:c}}(n,e):t instanceof zo?DT(t,e):t instanceof jo?NT(t,e):function(a,l){const c=kT(a,l),f=rE(c)+rE(a.Ie);return gm(c)&&gm(a.Ie)?CT(f):Jm(a.serializer,f)}(t,e)}function LI(t,e,n){return t instanceof zo?DT(t,e):t instanceof jo?NT(t,e):n}function kT(t,e){return t instanceof jh?function(i){return gm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class zh extends df{}class zo extends df{constructor(e){super(),this.elements=e}}function DT(t,e){const n=OT(e);for(const i of t.elements)n.some(a=>ei(a,i))||n.push(i);return{arrayValue:{values:n}}}class jo extends df{constructor(e){super(),this.elements=e}}function NT(t,e){let n=OT(e);for(const i of t.elements)n=n.filter(a=>!ei(a,i));return{arrayValue:{values:n}}}class jh extends df{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function rE(t){return Pt(t.integerValue||t.doubleValue)}function OT(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.field=e,this.transform=n}}function UI(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof zo&&a instanceof zo||i instanceof jo&&a instanceof jo?Po(i.elements,a.elements,ei):i instanceof jh&&a instanceof jh?ei(i.Ie,a.Ie):i instanceof zh&&a instanceof zh}(t.transform,e.transform)}class PI{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eg(t.key,vr.none()):new Nu(t.key,t.data,vr.none());{const n=t.data,i=Un.empty();let a=new Xt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new zs(t.key,i,new Wn(a.toArray()),vr.none())}}function VI(t,e,n){t instanceof Nu?function(a,l,c){const f=a.value.clone(),p=sE(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(a,l,c){if(!Ah(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=sE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(UT(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,i){return t instanceof Nu?function(l,c,f,p){if(!Ah(l.precondition,c))return f;const m=l.value.clone(),y=aE(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof zs?function(l,c,f,p){if(!Ah(l.precondition,c))return f;const m=aE(l.fieldTransforms,p,c),y=c.data;return y.setAll(UT(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(l,c,f){return Ah(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function BI(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=kT(i.transform,a||null);l!=null&&(n===null&&(n=Un.empty()),n.set(i.field,l))}return n||null}function iE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Po(i,a,(l,c)=>UI(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends pf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends pf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function UT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function sE(t,e,n){const i=new Map;ft(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,LI(c,f,n[a]))}return i}function aE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,MI(l,c,e))}return i}class eg extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zI extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&VI(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=IT();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const p=LT(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,i)=>iE(n,i))&&Po(this.baseMutations,e.baseMutations,(n,i)=>iE(n,i))}}class tg{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ft(e.mutations.length===i.length);let a=function(){return CI}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new tg(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,st;function HI(t){switch(t){case pe.OK:return Ue();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ue()}}function PT(t){if(t===void 0)return Ui("GRPC error has no .code"),pe.UNKNOWN;switch(t){case jt.OK:return pe.OK;case jt.CANCELLED:return pe.CANCELLED;case jt.UNKNOWN:return pe.UNKNOWN;case jt.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case jt.INTERNAL:return pe.INTERNAL;case jt.UNAVAILABLE:return pe.UNAVAILABLE;case jt.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case jt.NOT_FOUND:return pe.NOT_FOUND;case jt.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case jt.ABORTED:return pe.ABORTED;case jt.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case jt.DATA_LOSS:return pe.DATA_LOSS;default:return Ue()}}(st=jt||(jt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new ks([4294967295,4294967295],0);function oE(t){const e=GI().encode(t),n=new eT;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([n,i],0),new ks([a,l],0)]}class ng{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ks.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(ks.fromNumber(i)));return a.compare(KI)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=oE(e),[i,a]=lE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ng(l,a,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const n=oE(e),[i,a]=lE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mf(ze.min(),a,new xt(et),Pi(),Ze())}}class Ou{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class VT{constructor(e,n){this.targetId=e,this.ge=n}}class BT{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class uE{constructor(){this.pe=0,this.ye=cE(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ze(),n=Ze(),i=Ze();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ue()}}),new Ou(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=cE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class QI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=ph(),this.Ke=ph(),this.Ue=new xt(et)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(_m(l))if(i===0){const c=new De(l.path);this.ze(n,c,vn.newNoDocument(c,ze.min()))}else ft(i===1);else{const c=this.et(n);if(c!==i){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ls(i).toUint8Array()}catch(p){if(p instanceof cT)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new ng(c,a,l)}catch(p){return Uo(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&_m(f.target)){const p=new De(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Ze();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new mf(e,n,this.Ue,this.Qe,i);return this.Qe=Pi(),this.$e=ph(),this.Ke=ph(),this.Ue=new xt(et),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new uE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Xt(et),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new uE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ph(){return new xt(De.comparator)}function cE(){return new xt(De.comparator)}const $I={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class WI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||of(e)?e:{value:e}}function Fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZI(t,e){return Fh(t,e.toTimestamp())}function Zr(t){return ft(!!t),ze.fromTimestamp(function(n){const i=Ms(n);return new Yt(i.seconds,i.nanos)}(t))}function rg(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(a){return new Tt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jT(t){const e=Tt.fromString(t);return ft(KT(e)),e}function Tm(t,e){return rg(t.databaseId,e.path)}function jp(t,e){const n=jT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(qT(n))}function FT(t,e){return rg(t.databaseId,e)}function JI(t){const e=jT(t);return e.length===4?Tt.emptyPath():qT(e)}function bm(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qT(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hE(t,e,n){return{name:Tm(t,e),fields:n.value.mapValue.fields}}function eC(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(ft(y===void 0||typeof y=="string"),fn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array),fn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const y=m.code===void 0?pe.UNKNOWN:PT(m.code);return new Ce(y,m.message||"")}(c);n=new BT(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=jp(t,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):ze.min(),f=new Un({mapValue:{fields:i.document.fields}}),p=vn.newFoundDocument(a,l,c,f),m=i.targetIds||[],y=i.removedTargetIds||[];n=new xh(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=jp(t,i.document),l=i.readTime?Zr(i.readTime):ze.min(),c=vn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new xh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=jp(t,i.document),l=i.removedTargetIds||[];n=new xh([],l,a,null)}else{if(!("filter"in e))return Ue();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new qI(a,l),f=i.targetId;n=new VT(f,c)}}return n}function tC(t,e){let n;if(e instanceof Nu)n={update:hE(t,e.key,e.value)};else if(e instanceof eg)n={delete:Tm(t,e.key)};else if(e instanceof zs)n={update:hE(t,e.key,e.data),updateMask:cC(e.fieldMask)};else{if(!(e instanceof zI))return Ue();n={verify:Tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof zo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof jo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ue()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ZI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue()}(t,e.precondition)),n}function nC(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(ze.min())&&(c=Zr(l)),new PI(c,a.transformResults||[])}(n,e))):[]}function rC(t,e){return{documents:[FT(t,e.path)]}}function iC(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=FT(t,a);const l=function(m){if(m.length!==0)return GT(ti.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(A){return{field:Ro(A.field),direction:oC(A.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Em(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function sC(t){let e=JI(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ft(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(w){const A=HT(w);return A instanceof ti&&ET(A)?A.getFilters():[A]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(A=>function(P){return new Bh(Io(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(n.orderBy));let f=null;n.limit&&(f=function(w){let A;return A=typeof w=="object"?w.value:w,of(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,b=w.values||[];return new Vh(b,A)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const A=!w.before,b=w.values||[];return new Vh(b,A)}(n.endAt)),bI(e,a,c,l,f,"F",p,m)}function aC(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Io(n.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Io(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Io(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(n){return $t.create(Io(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ti.create(n.compositeFilter.filters.map(i=>HT(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(t):Ue()}function oC(t){return $I[t]}function lC(t){return YI[t]}function uC(t){return XI[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function Io(t){return hn.fromServerFormat(t.fieldPath)}function GT(t){return t instanceof $t?function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:lC(n.op),value:n.value}}}(t):t instanceof ti?function(n){const i=n.getFilters().map(a=>GT(a));return i.length===1?i[0]:{compositeFilter:{op:uC(n.op),filters:i}}}(t):Ue()}function cC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,i,a,l=ze.min(),c=ze.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.Tt=e}}function fC(t){const e=sC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Tn=new pC}addToCollectionParentIndex(e,n){return this.Tn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Os.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class pC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(Tt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(QT,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Fo(0)}static Un(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",mC=1048576;function pE([t,e],[n,i]){const a=et(t,n);return a===0?et(e,i):a}class gC{constructor(e){this.Hn=e,this.buffer=new Xt(pE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(dE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?Se(dE,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.er(3e5)})}}class _C{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return he.resolve(af.ae);const i=new gC(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(fE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,n))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Ao()<=We.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function vC(t,e){return new _C(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&gu(i.mutation,a,Wn.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ze()){const a=Ea();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=cu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ze()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,a){let l=Pi();const c=mu(),f=function(){return mu()}();return n.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof zs)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),gu(y.mutation,m,y.mutation.getFieldMask(),Yt.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var w;return f.set(m,new wC(y,(w=c.get(m))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,n){const i=mu();let a=new xt((c,f)=>c-f),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Wn.empty();y=f.applyToLocalView(m,y),i.set(p,y);const w=(a.get(f.batchId)||Ze()).add(p);a=a.insert(f.batchId,w)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,w=IT();y.forEach(A=>{if(!l.has(A)){const b=LT(n.get(A),i.get(A));b!==null&&w.set(A,b),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):he.resolve(Ea());let f=bu,p=l;return c.next(m=>he.forEach(m,(y,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next(A=>{p=p.insert(y,A)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ze())).next(y=>({batchId:f,changes:RT(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(i=>{let a=cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(e,l).next(f=>he.forEach(f,p=>{const m=function(w,A){return new uf(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((w,A)=>{c=c.insert(w,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,vn.newInvalidDocument(y)))});let f=cu();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&gu(y.mutation,m,Wn.empty(),Yt.now()),ff(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return he.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:fC(a.bundledQuery),readTime:Zr(a.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.overlays=new xt(De.comparator),this.Rr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ea();return he.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),he.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const a=Ea(),l=n.length+1,c=new De(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Ea(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Ea(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return he.resolve(f)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new FI(n,i));let l=this.Rr.get(n);l===void 0&&(l=Ze(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Vr=new Xt(sn.mr),this.gr=new Xt(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new sn(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new sn(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new De(new Tt([])),i=new sn(n,e),a=new sn(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new De(new Tt([])),i=new sn(n,e),a=new sn(n,e+1);let l=Ze();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new sn(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class sn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return De.comparator(e.key,n.key)||et(e.Cr,n.Cr)}static pr(e,n){return et(e.Cr,n.Cr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(sn.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jI(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?$m:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const f=this.Or(c.Cr);l.push(f)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(et);return n.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),he.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;De.isDocumentKey(l)||(l=l.child(""));const c=new sn(new De(l),0);let f=new Xt(et);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),he.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return he.forEach(n.mutations,a=>{const l=new sn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new sn(n,0),a=this.Mr.firstAfterOrEqual(i);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.kr=e,this.docs=function(){return new xt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=Pi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Pi();const c=n.path,f=new De(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||tI(eI(y),i)<=0||(a.has(y.key)||ff(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ue()}qr(e,n){return he.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new IC(this)}getSize(e){return he.resolve(this.size)}}class IC extends EC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),he.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.persistence=e,this.Qr=new ka(n=>Wm(n),Zm),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ig,this.targetCount=0,this.Ur=Fo.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),he.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.zn(n),he.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new AC,this.referenceDelegate=e(this),this.Hr=new CC(this),this.indexManager=new dC,this.remoteDocumentCache=function(a){return new RC(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new hC(n),this.Yr=new bC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new xC(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){Se("MemoryPersistence","Starting transaction:",e);const a=new kC(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return he.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class kC extends rI{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.ti=new ig,this.ni=null}static ri(e){return new sg(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),he.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,i=>{const a=De.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return he.or([()=>he.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.oi=new ka(i=>aI(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=vC(this,n)}static ri(e,n){return new qh(e,n)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return he.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?he.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(f=>{f||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}ar(e,n,i){return he.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Ze(),a=Ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ag(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Rx()?8:iI(En())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new DC;return this._s(e,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,n,c,f.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Ao()<=We.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(Ao()<=We.DEBUG&&Se("QueryEngine","Query:",xo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Ao()<=We.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):he.resolve())}rs(e,n){if(nE(n))return he.resolve(null);let i=Wr(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vm(n,null,"F"),i=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ze(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(n,f);return this.ls(n,m,c,p.readTime)?this.rs(e,vm(n,null,"F")):this.hs(e,m,n,p)}))})))}ss(e,n,i,a){return nE(n)||a.isEqual(ze.min())?he.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?he.resolve(null):(Ao()<=We.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xo(n)),this.hs(e,c,n,JR(a,bu)).next(f=>f))})}cs(e,n){let i=new Xt(AT(e));return n.forEach((a,l)=>{ff(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Ao()<=We.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ns.getDocumentsMatchingQuery(e,n,Os.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",OC=3e8;class MC{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new xt(et),this.Is=new ka(l=>Wm(l),Zm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function LC(t,e,n,i){return new MC(t,e,n,i)}async function YT(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Ze();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function UC(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const w=m.batch,A=w.keys();let b=he.resolve();return A.forEach(P=>{b=b.next(()=>y.getEntry(p,P)).next(B=>{const F=m.docVersions.get(P);ft(F!==null),B.version.compareTo(F)<0&&(w.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),y.addEntry(B)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Ze();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function XT(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function PC(t,e){const n=Fe(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];e.targetChanges.forEach((y,w)=>{const A=a.get(w);if(!A)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,w)));let b=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(fn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),a=a.insert(w,b),function(B,F,G){return B.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=OC?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(A,b,y)&&f.push(n.Hr.updateTargetData(l,b))});let p=Pi(),m=Ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(VC(l,c,e.documentUpdates).next(y=>{p=y.Vs,m=y.fs})),!i.isEqual(ze.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(w=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return he.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function VC(t,e,n){let i=Ze(),a=Ze();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Pi();return n.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Se(og,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function BC(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zC(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,he.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Sm(t,e,n){const i=Fe(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Yo(c))throw c;Se(og,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function mE(t,e,n){const i=Fe(t);let a=ze.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const w=Fe(p),A=w.Is.get(y);return A!==void 0?he.resolve(w.Ts.get(A)):w.Hr.getTargetData(m,y)}(i,c,Wr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:ze.min(),n?l:Ze())).next(f=>(jC(i,xI(e),f),{documents:f,gs:l})))}function jC(t,e,n){let i=t.Es.get(e)||ze.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class gE{constructor(){this.activeTargetIds=NI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FC{constructor(){this.ho=new gE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class _E{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Am(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="RestConnection",HC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Uh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const c=Am(),f=this.So(e,n.toUriEncodedString());Se(Fp,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,f,p,i).then(m=>(Se(Fp,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Uo(Fp,`RPC '${e}' ${c} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,n,i,a,l,c){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=HC[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class QC extends GC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Am();return new Promise((c,f)=>{const p=new tT;p.setWithCredentials(!0),p.listenOnce(nT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Th.NO_ERROR:const y=p.getResponseJson();Se(yn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Th.TIMEOUT:Se(yn,`RPC '${e}' ${l} timed out`),f(new Ce(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const w=p.getStatus();if(Se(yn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A==null?void 0:A.error;if(b&&b.status&&b.message){const P=function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(G)>=0?G:pe.UNKNOWN}(b.status);f(new Ce(P,b.message))}else f(new Ce(pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ce(pe.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Se(yn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Se(yn,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=Am(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sT(),f=iT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");Se(yn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const w=c.createWebChannel(y,p);let A=!1,b=!1;const P=new KC({Fo:F=>{b?Se(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,F):(A||(Se(yn,`Opening RPC '${e}' stream ${a} transport.`),w.open(),A=!0),Se(yn,`RPC '${e}' stream ${a} sending:`,F),w.send(F))},Mo:()=>w.close()}),B=(F,G,te)=>{F.listen(G,J=>{try{te(J)}catch(fe){setTimeout(()=>{throw fe},0)}})};return B(w,uu.EventType.OPEN,()=>{b||(Se(yn,`RPC '${e}' stream ${a} transport opened.`),P.Qo())}),B(w,uu.EventType.CLOSE,()=>{b||(b=!0,Se(yn,`RPC '${e}' stream ${a} transport closed`),P.Ko())}),B(w,uu.EventType.ERROR,F=>{b||(b=!0,Uo(yn,`RPC '${e}' stream ${a} transport errored:`,F),P.Ko(new Ce(pe.UNAVAILABLE,"The operation could not be completed")))}),B(w,uu.EventType.MESSAGE,F=>{var G;if(!b){const te=F.data[0];ft(!!te);const J=te,fe=(J==null?void 0:J.error)||((G=J[0])===null||G===void 0?void 0:G.error);if(fe){Se(yn,`RPC '${e}' stream ${a} received error:`,fe);const ae=fe.status;let X=function(k){const O=jt[k];if(O!==void 0)return PT(O)}(ae),z=fe.message;X===void 0&&(X=pe.INTERNAL,z="Unknown error status: "+ae+" with message "+fe.message),b=!0,P.Ko(new Ce(X,z)),w.close()}else Se(yn,`RPC '${e}' stream ${a} received:`,te),P.Uo(te)}}),B(f,rT.STAT_EVENT,F=>{F.stat===pm.PROXY?Se(yn,`RPC '${e}' stream ${a} detected buffering proxy`):F.stat===pm.NOPROXY&&Se(yn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new WI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class ZT{constructor(e,n,i,a,l,c,f,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new WT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ce(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Se(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $C extends ZT{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=eC(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Zr(c.readTime):ze.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(l,c){let f;const p=c.target;if(f=_m(p)?{documents:rC(l,p)}:{query:iC(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=zT(l,c.resumeToken);const m=Em(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){f.readTime=Fh(l,c.snapshotVersion.toTimestamp());const m=Em(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=aC(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.I_(n)}}class YC extends ZT{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=nC(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=bm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>tC(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{}class WC extends XC{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ce(pe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,wm(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(pe.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,wm(n,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(pe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ZC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(n),this.N_=!1):Se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class JC{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Da(this)&&(Se(xa,"Restarting streams for network reachability change."),await async function(p){const m=Fe(p);m.W_.add(4),await Mu(m),m.j_.set("Unknown"),m.W_.delete(4),await yf(m)}(this))})}),this.j_=new ZC(i,a)}}async function yf(t){if(Da(t))for(const e of t.G_)await e(!0)}async function Mu(t){for(const e of t.G_)await e(!1)}function JT(t,e){const n=Fe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),hg(n)?cg(n):Xo(n).c_()&&ug(n,e))}function lg(t,e){const n=Fe(t),i=Xo(n);n.U_.delete(e),i.c_()&&e1(n,e),n.U_.size===0&&(i.c_()?i.P_():Da(n)&&n.j_.set("Unknown"))}function ug(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).y_(e)}function e1(t,e){t.H_.Ne(e),Xo(t).w_(e)}function cg(t){t.H_=new QI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.j_.B_()}function hg(t){return Da(t)&&!Xo(t).u_()&&t.U_.size>0}function Da(t){return Fe(t).W_.size===0}function t1(t){t.H_=void 0}async function ek(t){t.j_.set("Online")}async function tk(t){t.U_.forEach((e,n)=>{ug(t,e)})}async function nk(t,e){t1(t),hg(t)?(t.j_.q_(e),cg(t)):t.j_.set("Unknown")}async function rk(t,e,n){if(t.j_.set("Online"),e instanceof BT&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(t,e)}catch(i){Se(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Hh(t,i)}else if(e instanceof xh?t.H_.We(e):e instanceof VT?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ze.min()))try{const i=await XT(t.localStore);n.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.U_.get(m);y&&l.U_.set(m,y.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const y=l.U_.get(p);if(!y)return;l.U_.set(p,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),e1(l,p);const w=new Rs(y.target,p,m,y.sequenceNumber);ug(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){Se(xa,"Failed to raise snapshot:",i),await Hh(t,i)}}async function Hh(t,e,n){if(!Yo(e))throw e;t.W_.add(1),await Mu(t),t.j_.set("Offline"),n||(n=()=>XT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se(xa,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await yf(t)})}function n1(t,e){return e().catch(n=>Hh(t,n,e))}async function _f(t){const e=Fe(t),n=Ps(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:$m;for(;ik(e);)try{const a=await BC(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,sk(e,a)}catch(a){await Hh(e,a)}r1(e)&&i1(e)}function ik(t){return Da(t)&&t.K_.length<10}function sk(t,e){t.K_.push(e);const n=Ps(t);n.c_()&&n.b_&&n.S_(e.mutations)}function r1(t){return Da(t)&&!Ps(t).u_()&&t.K_.length>0}function i1(t){Ps(t).start()}async function ak(t){Ps(t).C_()}async function ok(t){const e=Ps(t);for(const n of t.K_)e.S_(n.mutations)}async function lk(t,e,n){const i=t.K_.shift(),a=tg.from(i,e,n);await n1(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await _f(t)}async function uk(t,e){e&&Ps(t).b_&&await async function(i,a){if(function(c){return HI(c)&&c!==pe.ABORTED}(a.code)){const l=i.K_.shift();Ps(i).h_(),await n1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await _f(i)}}(t,e),r1(t)&&i1(t)}async function EE(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Se(xa,"RemoteStore received new credentials");const i=Da(n);n.W_.add(3),await Mu(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await yf(n)}async function ck(t,e){const n=Fe(t);e?(n.W_.delete(2),await yf(n)):e||(n.W_.add(2),await Mu(n),n.j_.set("Unknown"))}function Xo(t){return t.J_||(t.J_=function(n,i,a){const l=Fe(n);return l.M_(),new $C(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:ek.bind(null,t),No:tk.bind(null,t),Lo:nk.bind(null,t),p_:rk.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),hg(t)?cg(t):t.j_.set("Unknown")):(await t.J_.stop(),t1(t))})),t.J_}function Ps(t){return t.Y_||(t.Y_=function(n,i,a){const l=Fe(n);return l.M_(),new YC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:ak.bind(null,t),Lo:uk.bind(null,t),D_:ok.bind(null,t),v_:lk.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await _f(t)):(await t.Y_.stop(),t.K_.length>0&&(Se(xa,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new fg(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),Yo(t))return new Ce(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||De.comparator(n.key,i.key):(n,i)=>De.comparator(n.key,i.key),this.keyedMap=cu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.Z_=new xt(De.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class qo{constructor(e,n,i,a,l,c,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new qo(e,n,ko.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class fk{constructor(){this.queries=TE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Fe(n),l=a.queries;a.queries=TE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ce(pe.ABORTED,"Firestore shutting down"))}}function TE(){return new ka(t=>ST(t),hf)}async function pg(t,e){const n=Fe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new hk,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=dg(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&gg(n)}async function mg(t,e){const n=Fe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function dk(t,e){const n=Fe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(i=!0);c.ea=a}}i&&gg(n)}function pk(t,e,n){const i=Fe(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function gg(t){t.ia.forEach(e=>{e.next()})}var xm,bE;(bE=xm||(xm={}))._a="default",bE.Cache="cache";class yg{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.key=e}}class a1{constructor(e){this.key=e}}class mk{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ze(),this.mutatedKeys=Ze(),this.ya=AT(e),this.wa=new ko(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new wE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,w)=>{const A=a.get(y),b=ff(this.query,w)?w:null,P=!!A&&this.mutatedKeys.has(A.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;A&&b?A.data.isEqual(b.data)?P!==B&&(i.track({type:3,doc:b}),F=!0):this.va(A,b)||(i.track({type:2,doc:b}),F=!0,(p&&this.ya(b,p)>0||m&&this.ya(b,m)<0)&&(f=!0)):!A&&b?(i.track({type:0,doc:b}),F=!0):A&&!b&&(i.track({type:1,doc:A}),F=!0,(p||m)&&(f=!0)),F&&(b?(c=c.add(b),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,w)=>function(b,P){const B=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return B(b)-B(P)}(y.type,w.type)||this.ya(y.doc,w.doc)),this.Ca(i),a=a!=null&&a;const f=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new qo(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new a1(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new s1(i))}),n}Oa(e){this.fa=e.gs,this.pa=Ze();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return qo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _g="SyncEngine";class gk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class yk{constructor(e){this.key=e,this.Ba=!1}}class _k{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ka(f=>ST(f),hf),this.qa=new Map,this.Qa=new Set,this.$a=new xt(De.comparator),this.Ka=new Map,this.Ua=new ig,this.Wa={},this.Ga=new Map,this.za=Fo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vk(t,e,n=!0){const i=f1(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await o1(i,e,n,!0),a}async function Ek(t,e){const n=f1(t);await o1(n,e,!0,!1)}async function o1(t,e,n,i){const a=await zC(t.localStore,Wr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await wk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&JT(t.remoteStore,a),f}async function wk(t,e,n,i,a){t.Ha=(w,A,b)=>async function(B,F,G,te){let J=F.view.Sa(G);J.ls&&(J=await mE(B.localStore,F.query,!1).then(({documents:z})=>F.view.Sa(z,J)));const fe=te&&te.targetChanges.get(F.targetId),ae=te&&te.targetMismatches.get(F.targetId)!=null,X=F.view.applyChanges(J,B.isPrimaryClient,fe,ae);return AE(B,F.targetId,X.Ma),X.snapshot}(t,w,A,b);const l=await mE(t.localStore,e,!0),c=new mk(e,l.gs),f=c.Sa(l.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(f,t.isPrimaryClient,p);AE(t,n,m.Ma);const y=new gk(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function Tk(t,e,n){const i=Fe(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!hf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Sm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&lg(i.remoteStore,a.targetId),Rm(i,a.targetId)}).catch($o)):(Rm(i,a.targetId),await Sm(i.localStore,a.targetId,!0))}async function bk(t,e){const n=Fe(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lg(n.remoteStore,i.targetId))}async function Sk(t,e,n){const i=Dk(t);try{const a=await function(c,f){const p=Fe(c),m=Yt.now(),y=f.reduce((b,P)=>b.add(P.key),Ze());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let P=Pi(),B=Ze();return p.ds.getEntries(b,y).next(F=>{P=F,P.forEach((G,te)=>{te.isValidDocument()||(B=B.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,P)).next(F=>{w=F;const G=[];for(const te of f){const J=BI(te,w.get(te.key).overlayedDocument);J!=null&&G.push(new zs(te.key,J,yT(J.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,G,f)}).next(F=>{A=F;const G=F.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(b,F.batchId,G)})}).then(()=>({batchId:A.batchId,changes:RT(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new xt(et)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await Lu(i,a.changes),await _f(i.remoteStore)}catch(a){const l=dg(a,"Failed to persist write");n.reject(l)}}async function l1(t,e){const n=Fe(t);try{const i=await PC(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?ft(c.Ba):a.removedDocuments.size>0&&(ft(c.Ba),c.Ba=!1))}),await Lu(n,i,e)}catch(i){await $o(i)}}function SE(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Fe(c);p.onlineState=f;let m=!1;p.queries.forEach((y,w)=>{for(const A of w.ta)A.sa(f)&&(m=!0)}),m&&gg(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Ak(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new xt(De.comparator);c=c.insert(l,vn.newNoDocument(l,ze.min()));const f=Ze().add(l),p=new mf(ze.min(),new Map,new xt(et),c,f);await l1(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),vg(i)}else await Sm(i.localStore,e,!1).then(()=>Rm(i,e,n)).catch($o)}async function xk(t,e){const n=Fe(t),i=e.batch.batchId;try{const a=await UC(n.localStore,e);c1(n,i,null),u1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Lu(n,a)}catch(a){await $o(a)}}async function Rk(t,e,n){const i=Fe(t);try{const a=await function(c,f){const p=Fe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(w=>(ft(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);c1(i,e,n),u1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Lu(i,a)}catch(a){await $o(a)}}function u1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function c1(t,e,n){const i=Fe(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||h1(t,i)})}function h1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(lg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),vg(t))}function AE(t,e,n){for(const i of n)i instanceof s1?(t.Ua.addReference(i.key,e),Ik(t,i)):i instanceof a1?(Se(_g,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||h1(t,i.key)):Ue()}function Ik(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(Se(_g,"New document in limbo: "+n),t.Qa.add(i),vg(t))}function vg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new De(Tt.fromString(e)),i=t.za.next();t.Ka.set(i,new yk(n)),t.$a=t.$a.insert(n,i),JT(t.remoteStore,new Rs(Wr(cf(n.path)),i,"TargetPurposeLimboResolution",af.ae))}}async function Lu(t,e,n){const i=Fe(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{c.push(i.Ha(p,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){a.push(m);const w=ag.Yi(p.targetId,m);l.push(w)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const y=Fe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>he.forEach(m,A=>he.forEach(A.Hi,b=>y.persistence.referenceDelegate.addReference(w,A.targetId,b)).next(()=>he.forEach(A.Ji,b=>y.persistence.referenceDelegate.removeReference(w,A.targetId,b)))))}catch(w){if(!Yo(w))throw w;Se(og,"Failed to update sequence numbers: "+w)}for(const w of m){const A=w.targetId;if(!w.fromCache){const b=y.Ts.get(A),P=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(P);y.Ts=y.Ts.insert(A,B)}}}(i.localStore,l))}async function Ck(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Se(_g,"User change. New user:",e.toKey());const i=await YT(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ce(pe.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lu(n,i.Rs)}}function kk(t,e){const n=Fe(t),i=n.Ka.get(e);if(i&&i.Ba)return Ze().add(i.key);{let a=Ze();const l=n.qa.get(e);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function f1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ak.bind(null,e),e.La.p_=dk.bind(null,e.eventManager),e.La.Ja=pk.bind(null,e.eventManager),e}function Dk(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rk.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return LC(this.persistence,new NC,e.initialUser,this.serializer)}Xa(e){return new $T(sg.ri,this.serializer)}Za(e){return new FC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class Nk extends Gh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof qh);const i=this.persistence.referenceDelegate.garbageCollector;return new yC(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new $T(i=>qh.ri(i,n),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ck.bind(null,this.syncEngine),await ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fk}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),i=function(l){return new QC(l)}(e.databaseInfo);return function(l,c,f,p){return new WC(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,f){return new JC(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return _E.D()?new _E:new qC}())}createSyncEngine(e,n){return function(a,l,c,f,p,m,y){const w=new _k(a,l,c,f,p,m);return y&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Fe(a);Se(xa,"RemoteStore shutting down."),l.W_.add(5),await Mu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class Ok{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=oT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Se(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Se(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),Se(Vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await YT(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Mk(t);Se(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>EE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>EE(e.remoteStore,a)),t._onlineComponents=e}async function Mk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(Vs,"Using user provided OfflineComponentProvider");try{await Hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Hp(t,new Gh)}}else Se(Vs,"Using default OfflineComponentProvider"),await Hp(t,new Nk(void 0));return t._offlineComponents}async function d1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(Vs,"Using user provided OnlineComponentProvider"),await xE(t,t._uninitializedComponentsProvider._online)):(Se(Vs,"Using default OnlineComponentProvider"),await xE(t,new Im))),t._onlineComponents}function Lk(t){return d1(t).then(e=>e.syncEngine)}async function Kh(t){const e=await d1(t),n=e.eventManager;return n.onListen=vk.bind(null,e.syncEngine),n.onUnlisten=Tk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ek.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bk.bind(null,e.syncEngine),n}function Uk(t,e,n={}){const i=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new Eg({next:A=>{y.su(),c.enqueueAndForget(()=>mg(l,w));const b=A.docs.has(f);!b&&A.fromCache?m.reject(new Ce(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&A.fromCache&&p&&p.source==="server"?m.reject(new Ce(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),w=new yg(cf(f.path),y,{includeMetadataChanges:!0,Ta:!0});return pg(l,w)}(await Kh(t),t.asyncQueue,e,n,i)),i.promise}function Pk(t,e,n={}){const i=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new Eg({next:A=>{y.su(),c.enqueueAndForget(()=>mg(l,w)),A.fromCache&&p.source==="server"?m.reject(new Ce(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),w=new yg(f,y,{includeMetadataChanges:!0,Ta:!0});return pg(l,w)}(await Kh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e,n){if(!n)throw new Ce(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vk(t,e,n,i){if(e===!0&&i===!0)throw new Ce(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IE(t){if(!De.isDocumentKey(t))throw new Ce(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CE(t){if(De.isDocumentKey(t))throw new Ce(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(t);throw new Ce(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firestore.googleapis.com",kE=!0;class DE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=kE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mC)throw new Ce(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new GR;switch(i.type){case"firstParty":return new YR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=RE.get(n);i&&(Se("ComponentProvider","Removing Datastore"),RE.delete(n),i.terminate())}(this),Promise.resolve()}}function Bk(t,e,n,i={}){var a;const l=(t=Pn(t,vf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==g1&&l.host!==f&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!Mi(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=_n.MOCK_USER;else{m=$w(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Ce(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(w)}t._authCredentials=new KR(new aT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class In{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ds extends Uu{constructor(e,n,i){super(e,n,cf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new De(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Tg(t,e,...n){if(t=Ot(t),m1("collection","path",e),t instanceof vf){const i=Tt.fromString(e,...n);return CE(i),new Ds(t,null,i)}{if(!(t instanceof In||t instanceof Ds))throw new Ce(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tt.fromString(e,...n));return CE(i),new Ds(t.firestore,null,i)}}function js(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=oT.newId()),m1("doc","path",e),t instanceof vf){const i=Tt.fromString(e,...n);return IE(i),new In(t,null,new De(i))}{if(!(t instanceof In||t instanceof Ds))throw new Ce(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tt.fromString(e,...n));return IE(i),new In(t.firestore,t instanceof Ds?t.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new WT(this,"async_queue_retry"),this.bu=()=>{const i=qp();i&&Se(NE,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Yo(e))throw e;Se(NE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Ui("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=fg.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ME(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends vf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new OE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function zk(t,e){const n=typeof t=="object"?t:Km(),i=typeof t=="string"?t:Uh,a=sf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Gw("firestore");l&&Bk(a,...l)}return a}function Ef(t){if(t._terminated)throw new Ce(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jk(t),t._firestoreClient}function jk(t){var e,n,i;const a=t._freezeSettings(),l=function(f,p,m,y){return new uI(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,p1(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Ok(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(fn.fromBase64String(e))}catch(n){throw new Ce(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^__.*__$/;class qk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class y1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Tf{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_1(this.Lu)&&Fk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Hk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||gf(e)}ju(e,n,i,a=!1){return new Tf({Lu:e,methodName:n,zu:i,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new Hk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v1(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Ig("Data must be an object, but it was:",c,i);const f=w1(i,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const A=Cm(e,w,n);if(!c.contains(A))throw new Ce(pe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);b1(y,A)||y.push(A)}p=new Wn(y),m=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=c.fieldTransforms;return new qk(new Un(f),p,m)}class bf extends Pu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function E1(t,e,n){return new Tf({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xg extends Pu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=E1(this,e,!0),i=this.Hu.map(l=>Wo(l,n)),a=new zo(i);return new MT(e.path,a)}isEqual(e){return e instanceof xg&&Mi(this.Hu,e.Hu)}}class Rg extends Pu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=E1(this,e,!0),i=this.Hu.map(l=>Wo(l,n)),a=new jo(i);return new MT(e.path,a)}isEqual(e){return e instanceof Rg&&Mi(this.Hu,e.Hu)}}function Gk(t,e,n,i){const a=t.ju(1,e,n);Ig("Data must be an object, but it was:",a,i);const l=[],c=Un.empty();Bs(i,(p,m)=>{const y=Cg(e,p,n);m=Ot(m);const w=a.Ku(y);if(m instanceof bf)l.push(y);else{const A=Wo(m,w);A!=null&&(l.push(y),c.set(y,A))}});const f=new Wn(l);return new y1(c,f,a.fieldTransforms)}function Kk(t,e,n,i,a,l){const c=t.ju(1,e,n),f=[Cm(e,i,n)],p=[a];if(l.length%2!=0)throw new Ce(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)f.push(Cm(e,l[A])),p.push(l[A+1]);const m=[],y=Un.empty();for(let A=f.length-1;A>=0;--A)if(!b1(m,f[A])){const b=f[A];let P=p[A];P=Ot(P);const B=c.Ku(b);if(P instanceof bf)m.push(b);else{const F=Wo(P,B);F!=null&&(m.push(b),y.set(b,F))}}const w=new Wn(m);return new y1(y,w,c.fieldTransforms)}function Wo(t,e){if(T1(t=Ot(t)))return Ig("Unsupported field value:",e,t),w1(t,e);if(t instanceof Pu)return function(i,a){if(!_1(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let p=Wo(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Yt.fromDate(i);return{timestampValue:Fh(a.serializer,l)}}if(i instanceof Yt){const l=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fh(a.serializer,l)}}if(i instanceof bg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:zT(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Sg)return function(c,f){return{mapValue:{fields:{[mT]:{stringValue:gT},[Ph]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Jm(f.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${wg(i)}`)}(t,e)}function w1(t,e){const n={};return uT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(i,a)=>{const l=Wo(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function T1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof bg||t instanceof Ho||t instanceof In||t instanceof Pu||t instanceof Sg)}function Ig(t,e,n){if(!T1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=wg(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Cm(t,e,n){if((e=Ot(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Cg(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qk=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search(Qk)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ce(pe.INVALID_ARGUMENT,f+t+p)}function b1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $k extends S1{data(){return super.data()}}function A1(t,e){return typeof e=="string"?Cg(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yk{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Bs(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Pt(c.doubleValue));return new Sg(l)}convertGeoPoint(e){return new bg(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=lf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Tt.fromString(e);ft(KT(i));const a=new Au(i.get(1),i.get(3)),l=new De(i.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I1 extends S1{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(A1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Rh extends I1{data(e={}){return super.data(e)}}class C1{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new fu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Rh(this._firestore,this._userDataWriter,i.key,i,new fu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new Rh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new fu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Rh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new fu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Xk(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){t=Pn(t,In);const e=Pn(t.firestore,Vi);return Uk(Ef(e),t._key).then(n=>D1(e,t,n))}class kg extends Yk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Zk(t){t=Pn(t,Uu);const e=Pn(t.firestore,Vi),n=Ef(e),i=new kg(e);return x1(t._query),Pk(n,t._query).then(a=>new C1(e,i,t,a))}function k1(t,e,n){t=Pn(t,In);const i=Pn(t.firestore,Vi),a=R1(t.converter,e,n);return Sf(i,[v1(Ag(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,vr.none())])}function Dg(t,e,n,...i){t=Pn(t,In);const a=Pn(t.firestore,Vi),l=Ag(a);let c;return c=typeof(e=Ot(e))=="string"||e instanceof wf?Kk(l,"updateDoc",t._key,e,n,i):Gk(l,"updateDoc",t._key,e),Sf(a,[c.toMutation(t._key,vr.exists(!0))])}function Jk(t){return Sf(Pn(t.firestore,Vi),[new eg(t._key,vr.none())])}function eD(t,e){const n=Pn(t.firestore,Vi),i=js(t),a=R1(t.converter,e);return Sf(n,[v1(Ag(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function tD(t,...e){var n,i,a;t=Ot(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||ME(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(ME(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[c+2]=(a=w.complete)===null||a===void 0?void 0:a.bind(w)}let p,m,y;if(t instanceof In)m=Pn(t.firestore,Vi),y=cf(t._key.path),p={next:w=>{e[c]&&e[c](D1(m,t,w))},error:e[c+1],complete:e[c+2]};else{const w=Pn(t,Uu);m=Pn(w.firestore,Vi),y=w._query;const A=new kg(m);p={next:b=>{e[c]&&e[c](new C1(m,A,w,b))},error:e[c+1],complete:e[c+2]},x1(t._query)}return function(A,b,P,B){const F=new Eg(B),G=new yg(b,F,P);return A.asyncQueue.enqueueAndForget(async()=>pg(await Kh(A),G)),()=>{F.su(),A.asyncQueue.enqueueAndForget(async()=>mg(await Kh(A),G))}}(Ef(m),y,f,p)}function Sf(t,e){return function(i,a){const l=new Ni;return i.asyncQueue.enqueueAndForget(async()=>Sk(await Lk(i),a,l)),l.promise}(Ef(t),e)}function D1(t,e,n){const i=n.docs.get(e._key),a=new kg(t);return new I1(t,a,e._key,i,new fu(n.hasPendingWrites,n.fromCache),e.converter)}function N1(...t){return new xg("arrayUnion",t)}function O1(...t){return new Rg("arrayRemove",t)}(function(e,n=!0){(function(a){Qo=a})(Ca),Sa(new Ns("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Vi(new QR(i.getProvider("auth-internal")),new XR(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Xr(zv,jv,e),Xr(zv,jv,"esm2017")})();var nD="firebase",rD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(nD,rD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebasestorage.googleapis.com",L1="storageBucket",iD=2*60*1e3,sD=10*60*1e3,aD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends ii{constructor(e,n,i=0){super(Gp(e),`Firebase Storage: ${n} (${Gp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Gp(t){return"storage/"+t}function Ng(){const t="An unknown error occurred, please check the error payload for server response.";return new Rt(wt.UNKNOWN,t)}function oD(t){return new Rt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lD(t){return new Rt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(wt.UNAUTHENTICATED,t)}function cD(){return new Rt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hD(t){return new Rt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function U1(){return new Rt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P1(){return new Rt(wt.CANCELED,"User canceled the upload/download.")}function fD(t){return new Rt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function dD(t){return new Rt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pD(){return new Rt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+L1+"' property when initializing the app?")}function V1(){return new Rt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mD(){return new Rt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function gD(){return new Rt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yD(t){return new Rt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function km(t){return new Rt(wt.INVALID_ARGUMENT,t)}function B1(){return new Rt(wt.APP_DELETED,"The Firebase app was deleted.")}function _D(t){return new Rt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yu(t,e){return new Rt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function au(t){throw new Rt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(i.path==="")return i;throw dD(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(fe){fe.path_=decodeURIComponent(fe.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",b=new RegExp(`^https?://${w}/${y}/b/${a}/o${A}`,"i"),P={bucket:1,path:3},B=n===M1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",G=new RegExp(`^https?://${B}/${a}/${F}`,"i"),J=[{regex:f,indices:p,postModify:l},{regex:b,indices:P,postModify:m},{regex:G,indices:{bucket:1,path:2},postModify:m}];for(let fe=0;fe<J.length;fe++){const ae=J[fe],X=ae.regex.exec(e);if(X){const z=X[ae.indices.bucket];let M=X[ae.indices.path];M||(M=""),i=new Zn(z,M),ae.postModify(i);break}}if(i==null)throw fD(e);return i}}class vD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e,n){let i=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function y(...F){m||(m=!0,e.apply(null,F))}function w(F){a=setTimeout(()=>{a=null,t(b,p())},F)}function A(){l&&clearTimeout(l)}function b(F,...G){if(m){A();return}if(F){A(),y.call(null,F,...G);return}if(p()||c){A(),y.call(null,F,...G);return}i<64&&(i*=2);let J;f===1?(f=2,J=0):J=(i+Math.random())*1e3,w(J)}let P=!1;function B(F){P||(P=!0,A(),!m&&(a!==null?(F||(f=2),clearTimeout(a),w(0)):F||(f=1)))}return w(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function wD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){return t!==void 0}function bD(t){return typeof t=="function"}function SD(t){return typeof t=="object"&&!Array.isArray(t)}function Af(t){return typeof t=="string"||t instanceof String}function LE(t){return Og()&&t instanceof Blob}function Og(){return typeof Blob<"u"}function UE(t,e,n,i){if(i<e)throw km(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw km(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function z1(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,i,a,l,c,f,p,m,y,w,A=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,P)=>{this.resolve_=b,this.reject_=P,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new gh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ta.NO_ERROR,p=l.getStatus();if(!f||j1(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ta.ABORT;i(!1,new gh(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new gh(m,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());TD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=Ng();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?B1():P1();c(p)}else{const p=U1();c(p)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=ED(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function xD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ID(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kD(t,e,n,i,a,l,c=!0){const f=z1(t.urlParams),p=t.url+f,m=Object.assign({},t.headers);return ID(m,e),xD(m,n),RD(m,l),CD(m,i),new AD(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ND(...t){const e=DD();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Og())return new Blob(t);throw new Rt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){if(typeof atob>"u")throw yD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,n){this.data=e,this.contentType=n||null}}function LD(t,e){switch(t){case Yr.RAW:return new Kp(F1(e));case Yr.BASE64:case Yr.BASE64URL:return new Kp(q1(t,e));case Yr.DATA_URL:return new Kp(PD(e),VD(e))}throw Ng()}function F1(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function UD(t){let e;try{e=decodeURIComponent(t)}catch{throw yu(Yr.DATA_URL,"Malformed data URL.")}return F1(e)}function q1(t,e){switch(t){case Yr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw yu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Yr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw yu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MD(e)}catch(a){throw a.message.includes("polyfill")?a:yu(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class H1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yu(Yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=BD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function PD(t){const e=new H1(t);return e.base64?q1(Yr.BASE64,e.rest):UD(e.rest)}function VD(t){return new H1(t).contentType}function BD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){let i=0,a="";LE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(LE(this.data_)){const i=this.data_,a=OD(i,e,n);return a===null?null:new bs(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new bs(i,!0)}}static getBlob(...e){if(Og()){const n=e.map(i=>i instanceof bs?i.data_:i);return new bs(ND.apply(null,n))}else{const n=e.map(c=>Af(c)?LD(Yr.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new bs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){let e;try{e=JSON.parse(t)}catch{return null}return SD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jD(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function K1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){return e}class Rn{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||FD}}let yh=null;function qD(t){return!Af(t)||t.length<2?t:K1(t)}function Q1(){if(yh)return yh;const t=[];t.push(new Rn("bucket")),t.push(new Rn("generation")),t.push(new Rn("metageneration")),t.push(new Rn("name","fullPath",!0));function e(l,c){return qD(c)}const n=new Rn("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new Rn("size");return a.xform=i,t.push(a),t.push(new Rn("timeCreated")),t.push(new Rn("updated")),t.push(new Rn("md5Hash",null,!0)),t.push(new Rn("cacheControl",null,!0)),t.push(new Rn("contentDisposition",null,!0)),t.push(new Rn("contentEncoding",null,!0)),t.push(new Rn("contentLanguage",null,!0)),t.push(new Rn("contentType",null,!0)),t.push(new Rn("metadata","customMetadata",!0)),yh=t,yh}function HD(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Zn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function GD(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return HD(i,t),i}function $1(t,e,n){const i=G1(e);return i===null?null:GD(t,i,n)}function KD(t,e,n,i){const a=G1(e);if(a===null||!Af(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const y=t.bucket,w=t.fullPath,A="/b/"+c(y)+"/o/"+c(w),b=Vu(A,n,i),P=z1({alt:"media",token:m});return b+P})[0]}function Y1(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class Zo{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){if(!t)throw Ng()}function Mg(t,e){function n(i,a){const l=$1(t,a,e);return Oi(l!==null),l}return n}function QD(t,e){function n(i,a){const l=$1(t,a,e);return Oi(l!==null),KD(l,a,t.host,t._protocol)}return n}function Bu(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=cD():a=uD():n.getStatus()===402?a=lD(t.bucket):n.getStatus()===403?a=hD(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function X1(t){const e=Bu(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=oD(t.path)),l.serverResponse=a.serverResponse,l}return n}function $D(t,e,n){const i=e.fullServerUrl(),a=Vu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new Zo(a,l,Mg(t,n),c);return f.errorHandler=X1(e),f}function YD(t,e,n){const i=e.fullServerUrl(),a=Vu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new Zo(a,l,QD(t,n),c);return f.errorHandler=X1(e),f}function XD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function W1(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=XD(null,e)),i}function WD(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let J="";for(let fe=0;fe<2;fe++)J=J+Math.random().toString().slice(2);return J}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=W1(e,i,a),y=Y1(m,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+p+"--",b=bs.getBlob(w,i,A);if(b===null)throw V1();const P={name:m.fullPath},B=Vu(l,t.host,t._protocol),F="POST",G=t.maxUploadRetryTime,te=new Zo(B,F,Mg(t,n),G);return te.urlParams=P,te.headers=c,te.body=b.uploadData(),te.errorHandler=Bu(e),te}class $h{constructor(e,n,i,a){this.current=e,this.total=n,this.finalized=!!i,this.metadata=a||null}}function Lg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function ZD(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c=W1(e,i,a),f={name:c.fullPath},p=Vu(l,t.host,t._protocol),m="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},w=Y1(c,n),A=t.maxUploadRetryTime;function b(B){Lg(B);let F;try{F=B.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(Af(F)),F}const P=new Zo(p,m,b,A);return P.urlParams=f,P.headers=y,P.body=w,P.errorHandler=Bu(e),P}function JD(t,e,n,i){const a={"X-Goog-Upload-Command":"query"};function l(m){const y=Lg(m,["active","final"]);let w=null;try{w=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}w||Oi(!1);const A=Number(w);return Oi(!isNaN(A)),new $h(A,i.size(),y==="final")}const c="POST",f=t.maxUploadRetryTime,p=new Zo(n,c,l,f);return p.headers=a,p.errorHandler=Bu(e),p}const PE=256*1024;function eN(t,e,n,i,a,l,c,f){const p=new $h(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw mD();const m=p.total-p.current;let y=m;a>0&&(y=Math.min(y,a));const w=p.current,A=w+y;let b="";y===0?b="finalize":m===y?b="upload, finalize":b="upload";const P={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${p.current}`},B=i.slice(w,A);if(B===null)throw V1();function F(fe,ae){const X=Lg(fe,["active","final"]),z=p.current+y,M=i.size();let k;return X==="final"?k=Mg(e,l)(fe,ae):k=null,new $h(z,M,X==="final",k)}const G="POST",te=e.maxUploadRetryTime,J=new Zo(n,G,F,te);return J.headers=P,J.body=B.uploadData(),J.progressCallback=f||null,J.errorHandler=Bu(t),J}const Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qp(t){switch(t){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;case"error":return Ln.ERROR;default:return Ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,i){if(bD(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class nN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a){if(this.sent_)throw au("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw au("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw au("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw au("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw au("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rN extends nN{initXhr(){this.xhr_.responseType="text"}}function Co(){return new rN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Q1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(j1(a.status,[]))if(l)a=U1();else{this.sleepTime=Math.max(this.sleepTime*2,aD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=ZD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Co,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const a=JD(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Co,n,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=PE*this._chunkMultiplier,n=new $h(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=eN(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Co,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){PE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=$D(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Co,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=WD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Co,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=P1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Qp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,a){const l=new tN(n||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Qp(this._state)){case Ln.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:const n=this._reject;To(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qp(this._state)){case Ln.RUNNING:case Ln.PAUSED:e.next&&To(e.next.bind(e,this.snapshot))();break;case Ln.SUCCESS:e.complete&&To(e.complete.bind(e))();break;case Ln.CANCELED:case Ln.ERROR:e.error&&To(e.error.bind(e,this._error))();break;default:e.error&&To(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ra(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return K1(this._location.path)}get storage(){return this._service}get parent(){const e=zD(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new Ra(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _D(e)}}function sN(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new iN(t,new bs(e),n)}function aN(t){t._throwIfRoot("getDownloadURL");const e=YD(t.storage,t._location,Q1());return t.storage.makeRequestWithTokens(e,Co).then(n=>{if(n===null)throw gD();return n})}function oN(t,e){const n=jD(t._location.path,e),i=new Zn(t._location.bucket,n);return new Ra(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){return/^[A-Za-z]+:\/\//.test(t)}function uN(t,e){return new Ra(t,e)}function Z1(t,e){if(t instanceof Ug){const n=t;if(n._bucket==null)throw pD();const i=new Ra(n,n._bucket);return e!=null?Z1(i,e):i}else return e!==void 0?oN(t,e):t}function cN(t,e){if(e&&lN(e)){if(t instanceof Ug)return uN(t,e);throw km("To use ref(service, url), the first argument must be a Storage instance.")}else return Z1(t,e)}function VE(t,e){const n=e==null?void 0:e[L1];return n==null?null:Zn.makeFromBucketSpec(n,t)}function hN(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:$w(a,t.app.options.projectId))}class Ug{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=M1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=sD,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=VE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=VE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ra(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new vD(B1());{const c=kD(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const BE="@firebase/storage",zE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="storage";function eb(t,e,n){return t=Ot(t),sN(t,e,n)}function tb(t){return t=Ot(t),aN(t)}function nb(t,e){return t=Ot(t),cN(t,e)}function fN(t=Km(),e){t=Ot(t);const i=sf(t,J1).getImmediate({identifier:e}),a=Gw("storage");return a&&dN(i,...a),i}function dN(t,e,n,i={}){hN(t,e,n,i)}function pN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ug(n,i,a,e,Ca)}function mN(){Sa(new Ns(J1,pN,"PUBLIC").setMultipleInstances(!0)),Xr(BE,zE,""),Xr(BE,zE,"esm2017")}mN();function Pg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=rb,ib=new ku("auth","Firebase",rb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Hm("@firebase/auth");function yN(t,...e){Yh.logLevel<=We.WARN&&Yh.warn(`Auth (${Ca}): ${t}`,...e)}function Ih(t,...e){Yh.logLevel<=We.ERROR&&Yh.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw Bg(t,...e)}function Cr(t,...e){return Bg(t,...e)}function Vg(t,e,n){const i=Object.assign(Object.assign({},gN()),{[e]:n});return new ku("auth","Firebase",i).create(e,{appName:t.name})}function ba(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ni(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ib.create(t,...e)}function Ve(t,e,...n){if(!t)throw Bg(e,...n)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function Bi(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vN(){return jE()==="http:"||jE()==="https:"}function jE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||Sx()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=wx()||Ax()}get(){return EN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new zu(3e4,6e4);function jg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Na(t,e,n,i,a={}){return ab(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Du(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return bx()||(m.referrerPolicy="no-referrer"),sb.fetch()(ob(t,t.config.apiHost,n,f),m)})}async function ab(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},TN),e);try{const a=new AN(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw _h(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw _h(t,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Vg(t,y,m);ni(t,y)}}catch(a){if(a instanceof ii)throw a;ni(t,"network-request-failed",{message:String(a)})}}async function SN(t,e,n,i,a={}){const l=await Na(t,e,n,i,a);return"mfaPendingCredential"in l&&ni(t,"multi-factor-auth-required",{_serverResponse:l}),l}function ob(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?zg(t.config,a):`${t.config.apiScheme}://${a}`}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cr(this.auth,"network-request-failed")),bN.get())})}}function _h(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Cr(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){return Na(t,"POST","/v1/accounts:delete",e)}async function lb(t,e){return Na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RN(t,e=!1){const n=Ot(t),i=await n.getIdToken(e),a=Fg(i);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:_u($p(a.auth_time)),issuedAtTime:_u($p(a.iat)),expirationTime:_u($p(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function Fg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=qw(n);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function FE(t){const e=Fg(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&IN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function IN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Go(t,lb(n,{idToken:i}));Ve(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ub(l.providerUserInfo):[],f=DN(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=p?m:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function kN(t){const e=Ot(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ub(t){return t.map(e=>{var{providerId:n}=e,i=Pg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){const n=await ab(t,{},async()=>{const i=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=ob(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",sb.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ON(t,e){return Na(t,"POST","/v2/accounts:revokeToken",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=FE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await NN(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Do;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RN(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await Go(this,xN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,f,p,m,y;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,A=(a=n.email)!==null&&a!==void 0?a:void 0,b=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,P=(c=n.photoURL)!==null&&c!==void 0?c:void 0,B=(f=n.tenantId)!==null&&f!==void 0?f:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(m=n.createdAt)!==null&&m!==void 0?m:void 0,te=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:J,emailVerified:fe,isAnonymous:ae,providerData:X,stsTokenManager:z}=n;Ve(J&&z,e,"internal-error");const M=Do.fromJSON(this.name,z);Ve(typeof J=="string",e,"internal-error"),ws(w,e.name),ws(A,e.name),Ve(typeof fe=="boolean",e,"internal-error"),Ve(typeof ae=="boolean",e,"internal-error"),ws(b,e.name),ws(P,e.name),ws(B,e.name),ws(F,e.name),ws(G,e.name),ws(te,e.name);const k=new ki({uid:J,auth:e,email:A,emailVerified:fe,displayName:w,isAnonymous:ae,photoURL:P,phoneNumber:b,tenantId:B,stsTokenManager:M,createdAt:G,lastLoginAt:te});return X&&Array.isArray(X)&&(k.providerData=X.map(O=>Object.assign({},O))),F&&(k._redirectEventId=F),k}static async _fromIdTokenResponse(e,n,i=!1){const a=new Do;a.updateFromServerResponse(n);const l=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ub(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Do;f.updateFromIdToken(i);const p=new ki({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Nm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function Di(t){Bi(t instanceof Function,"Expected a class definition");let e=qE.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cb.type="NONE";const HE=cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ch(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ch("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new No(Di(HE),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(HE);const c=Ch(i,e.config.apiKey,e.name);let f=null;for(const m of n)try{const y=await m._get(c);if(y){const w=ki._fromJSON(e,y);m!==l&&(f=w),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new No(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new No(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(yb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||db(e))&&!e.includes("edge/"))return"Chrome";if(mb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hb(t=En()){return/firefox\//i.test(t)}function fb(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function db(t=En()){return/crios\//i.test(t)}function pb(t=En()){return/iemobile/i.test(t)}function mb(t=En()){return/android/i.test(t)}function gb(t=En()){return/blackberry/i.test(t)}function yb(t=En()){return/webos/i.test(t)}function qg(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MN(t=En()){var e;return qg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LN(){return xx()&&document.documentMode===10}function _b(t=En()){return qg(t)||mb(t)||yb(t)||gb(t)||/windows phone/i.test(t)||pb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e=[]){let n;switch(t){case"Browser":n=GE(En());break;case"Worker":n=`${GE(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e={}){return Na(t,"GET","/v2/passwordPolicy",jg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class BN{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:VN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lb(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(ba(this));const n=e?Ot(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PN(this),n=new BN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ON(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xf(t){return Ot(t)}class KE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mx(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jN(t){Hg=t}function FN(t){return Hg.loadJS(t)}function qN(){return Hg.gapiScript}function HN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){const n=sf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Mi(l,e??{}))return a;ni(a,"already-initialized")}return n.initialize({options:e})}function KN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QN(t,e,n){const i=xf(t);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Eb(e),{host:c,port:f}=$N(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(Mi(m,i.config.emulator)&&Mi(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,YN()}function Eb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $N(t){const e=Eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:QE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:QE(c)}}}function QE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return SN(t,"POST","/v1/accounts:signInWithIdp",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="http://localhost";class Ia extends wb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Pg(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ia(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Oo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:XN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends ju{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ir.credential(n,i)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ju{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ju{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xs.credential(n,i)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ki._fromIdTokenResponse(e,i,a),c=$E(i);return new Ko({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=$E(i);return new Ko({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function $E(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends ii{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Wh(e,n,i,a)}}function Tb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,l,e,i):l})}async function WN(t,e,n=!1){const i=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e,n=!1){const{auth:i}=t;if(_r(i.app))return Promise.reject(ba(i));const a="reauthenticate";try{const l=await Go(t,Tb(i,a,e,t),n);Ve(l.idToken,i,"internal-error");const c=Fg(l.idToken);Ve(c,i,"internal-error");const{sub:f}=c;return Ve(t.uid===f,i,"user-mismatch"),Ko._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e,n=!1){if(_r(t.app))return Promise.reject(ba(t));const i="signIn",a=await Tb(t,i,e),l=await Ko._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e){return Na(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ot(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Go(i,eO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function nO(t,e,n,i){return Ot(t).onIdTokenChanged(e,n,i)}function rO(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function iO(t,e,n,i){return Ot(t).onAuthStateChanged(e,n,i)}function sO(t){return Ot(t).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=1e3,oO=10;class Sb extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);LN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,oO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const lO=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ab.type="SESSION";const xb=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Rf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,l)),p=await uO(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Kg("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(w){const A=w;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function hO(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function fO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pO(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebaseLocalStorageDb",mO=1,Jh="firebaseLocalStorage",Cb="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function gO(){const t=indexedDB.deleteDatabase(Ib);return new Fu(t).toPromise()}function Om(){const t=indexedDB.open(Ib,mO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Jh,{keyPath:Cb})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Jh)?e(i):(i.close(),await gO(),e(await Om()))})})}async function YE(t,e,n){const i=If(t,!0).put({[Cb]:e,value:n});return new Fu(i).toPromise()}async function yO(t,e){const n=If(t,!1).get(e),i=await new Fu(n).toPromise();return i===void 0?null:i.value}function XE(t,e){const n=If(t,!0).delete(e);return new Fu(n).toPromise()}const _O=800,vO=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(pO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fO(),!this.activeServiceWorker)return;this.sender=new cO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await YE(e,Zh,"1"),await XE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>YE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>yO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=If(a,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const EO=kb;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e){return e?Di(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends wb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wO(t){return JN(t.auth,new Qg(t),t.bypassAuthState)}function TO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),ZN(n,new Qg(t),t.bypassAuthState)}async function bO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),WN(n,new Qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wO;case"linkViaPopup":case"linkViaRedirect":return bO;case"reauthViaPopup":case"reauthViaRedirect":return TO;default:ni(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new zu(2e3,1e4);async function Ob(t,e,n){if(_r(t.app))return Promise.reject(Cr(t,"operation-not-supported-in-this-environment"));const i=xf(t);_N(t,e,Gg);const a=Db(i,n);return new wa(i,"signInViaPopup",e,a).executeNotNull()}class wa extends Nb{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SO.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="pendingRedirect",kh=new Map;class xO extends Nb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const i=await RO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RO(t,e){const n=kO(e),i=CO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function IO(t,e){kh.set(t._key(),e)}function CO(t){return Di(t._redirectPersistence)}function kO(t){return Ch(AO,t.config.apiKey,t.name)}async function DO(t,e,n=!1){if(_r(t.app))return Promise.reject(ba(t));const i=xf(t),a=Db(i,e),c=await new xO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=10*60*1e3;class OO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Mb(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NO&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Mb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e={}){return Na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PO=/^https?/;async function VO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LO(t);for(const n of e)try{if(BO(n))return}catch{}ni(t,"unauthorized-domain")}function BO(t){const e=Dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!PO.test(n))return!1;if(UO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new zu(3e4,6e4);function ZE(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jO(t){return new Promise((e,n)=>{var i,a,l;function c(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(Cr(t,"network-request-failed"))},timeout:zO.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)c();else{const f=HN("iframefcb");return Jr()[f]=()=>{gapi.load?c():n(Cr(t,"network-request-failed"))},FN(`${qN()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function FO(t){return Dh=Dh||jO(t),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new zu(5e3,15e3),HO="__/auth/iframe",GO="emulator/auth/iframe",KO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $O(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zg(e,GO):`https://${t.config.authDomain}/${HO}`,i={apiKey:e.apiKey,appName:t.name,v:Ca},a=QO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Du(i).slice(1)}`}async function YO(t){const e=await FO(t),n=Jr().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:$O(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Cr(t,"network-request-failed"),f=Jr().setTimeout(()=>{l(c)},qO.get());function p(){Jr().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WO=500,ZO=600,JO="_blank",e4="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t4(t,e,n,i=WO,a=ZO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},XO),{width:i.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();n&&(f=db(m)?JO:n),hb(m)&&(e=e||e4,p.scrollbars="yes");const y=Object.entries(p).reduce((A,[b,P])=>`${A}${b}=${P},`,"");if(MN(m)&&f!=="_self")return n4(e||"",f),new JE(null);const w=window.open(e||"",f,y);Ve(w,t,"popup-blocked");try{w.focus()}catch{}return new JE(w)}function n4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="__/auth/handler",i4="emulator/auth/handler",s4=encodeURIComponent("fac");async function ew(t,e,n,i,a,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ca,eventId:a};if(e instanceof Gg){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Ox(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof ju){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),m=p?`#${s4}=${encodeURIComponent(p)}`:"";return`${a4(t)}?${Du(f).slice(1)}${m}`}function a4({config:t}){return t.emulator?zg(t,i4):`https://${t.authDomain}/${r4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class o4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=DO,this._overrideRedirectResult=IO}async _openPopup(e,n,i,a){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ew(e,n,i,Dm(),a);return t4(e,c,Kg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await ew(e,n,i,Dm(),a);return hO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await YO(e),i=new OO(e);return n.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Yp];c!==void 0&&n(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||fb()||qg()}}const l4=o4;var tw="@firebase/auth",nw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h4(t){Sa(new Ns("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(t)},m=new zN(i,a,l,p);return KN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Sa(new Ns("auth-internal",e=>{const n=xf(e.getProvider("auth").getImmediate());return(i=>new u4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(tw,nw,c4(t)),Xr(tw,nw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=5*60,d4=Qw("authIdTokenMaxAge")||f4;let rw=null;const p4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>d4)return;const a=n==null?void 0:n.token;rw!==a&&(rw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function m4(t=Km()){const e=sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GN(t,{popupRedirectResolver:l4,persistence:[EO,lO,xb]}),i=Qw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=p4(l.toString());rO(n,c,()=>c(n.currentUser)),nO(n,f=>c(f))}}const a=Hw("auth");return a&&QN(n,`http://${a}`),n}function g4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Cr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",g4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h4("Browser");const y4={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},$g=Ww(y4),zi=zk($g),Lb=fN($g),Ru=m4($g);new Ir;const Ub=Tg(zi,"eotv-enemies"),_4=Tg(zi,"eotv-enemy-tags"),Yg=se.createContext(null),v4=({children:t})=>{const[e,n]=se.useState(null);return se.useEffect(()=>iO(Ru,n),[]),q.jsx(Yg.Provider,{value:{user:e,setUser:n},children:t})},Jo=()=>{var t;return((t=se.useContext(Yg))==null?void 0:t.user)??null},E4=()=>{var t;return(t=se.useContext(Yg))==null?void 0:t.setUser};function w4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const T4=se.forwardRef(w4);function b4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Pb=se.forwardRef(b4);function S4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const A4=se.forwardRef(S4);function x4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const R4=se.forwardRef(x4);function I4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const C4=se.forwardRef(I4);function k4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const D4=se.forwardRef(k4);function N4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const O4=se.forwardRef(N4);function M4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const L4=se.forwardRef(M4);function U4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const P4=se.forwardRef(U4);function V4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Xg=se.forwardRef(V4);function B4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const z4=se.forwardRef(B4);function j4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const el=se.forwardRef(j4),F4=(t,e,n,i)=>{const a=nb(Lb,`enemies/${t}/${e.name}`),l=eb(a,e);l.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;i(f)},c=>{console.error("Ошибка загрузки:",c)},async()=>{const c=await tb(l.snapshot.ref);n(c)})},ef=({imageURL:t,setImageURL:e,ownerUid:n,className:i})=>{const[a,l]=se.useState(0),c=p=>{p&&F4(n,p,e,l)},f=p=>{p.preventDefault(),c(p.dataTransfer.files[0])};return q.jsxs("div",{className:`w-full sm:w-3/14 flex items-center justify-center bg-gray-200 dark:bg-gray-800 relative overflow-hidden group ${i||""}`,onDrop:f,onDragOver:p=>p.preventDefault(),children:[t&&q.jsx("img",{src:t,className:"object-cover w-full h-full",alt:""}),q.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),q.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[q.jsx(Pb,{className:"w-8 h-8"}),q.jsx("span",{className:"text-xs",children:"Нажмите или перетащите файл"})]}),a>0&&a<100&&q.jsxs("span",{className:"absolute bottom-2 left-2 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},Vb=se.createContext([]),q4=({children:t})=>{const[e,n]=se.useState([]);return se.useEffect(()=>{(async()=>{const a=await Zk(_4);n(a.docs.map(l=>l.data().name))})()},[]),q.jsx(Vb.Provider,{value:e,children:t})},Wg=()=>se.useContext(Vb),H4=({selectedTags:t,setSelectedTags:e,customTags:n,setCustomTags:i})=>{const a=Wg().map(A=>({name:A})),[l,c]=se.useState(""),p=Array.from(new Set([...a.map(A=>A.name),...n])).filter(A=>A.toLowerCase().includes(l.toLowerCase())&&!t.includes(A)),m=se.useCallback(A=>{const b=A.trim();b&&(t.includes(b)||e([...t,b]),!a.some(P=>P.name===b)&&!n.includes(b)&&i([...n,b]))},[t,e,a,n,i]),y=se.useCallback(A=>{(A.key==="Enter"||A.key===",")&&(A.preventDefault(),m(l),c(""))},[l,m]),w=se.useCallback(A=>{e(t.filter(b=>b!==A))},[t,e]);return q.jsxs("div",{className:"mt-auto py-4",children:[q.jsx("label",{className:"block text-sm mb-1",children:"Теги"}),q.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-200 dark:bg-gray-700 p-2 rounded",children:[t.map(A=>q.jsxs("span",{className:"bg-gray-300 dark:bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1",children:[A,q.jsx("button",{type:"button",onClick:()=>w(A),className:"text-red-400 hover:text-white",children:"×"})]},A)),q.jsx("input",{type:"text",value:l,list:"tag-suggestions",onChange:A=>c(A.target.value),onKeyDown:y,className:"bg-transparent outline-none flex-1 text-sm text-gray-900 dark:text-white"}),q.jsx("datalist",{id:"tag-suggestions",children:p.map(A=>q.jsx("option",{value:A},A))})]})]})},Bb=({name:t,setName:e,customDescription:n,setCustomDescription:i,selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f,children:p})=>q.jsxs("div",{className:"w-full sm:w-4/7 flex flex-col px-6 h-full overflow-y-auto",children:[q.jsx("input",{type:"text",placeholder:"Имя противника",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue",required:!0}),q.jsx("textarea",{placeholder:"Описание",value:n,onChange:m=>i(m.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue flex-1 resize-none"}),q.jsx(H4,{selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f}),p]}),Zg=({open:t,message:e="Для продолжения необходима авторизация",onClose:n,onSuccess:i})=>{if(!t)return null;const a=async()=>{const l=new Ir;await Ob(Ru,l),n(),i&&i()};return q.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-[60] p-5  bg-gray-500 dark:bg-black flex items-center justify-center",onClick:n,children:q.jsxs("div",{role:"dialog",onClick:l=>l.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-sm p-6 flex flex-col items-center gap-4",children:[q.jsx("button",{onClick:n,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:q.jsx(el,{className:"w-5 h-5"})}),q.jsx("p",{children:e}),q.jsx("button",{onClick:a,className:"px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded hover:bg-opacity-80 transition cursor-pointer",children:"Войти через Google"})]})})},G4=()=>{const[t,e]=se.useState(!1),[n,i]=se.useState(!1),[a,l]=se.useState(""),[c,f]=se.useState(""),[p,m]=se.useState([]),[y,w]=se.useState([]),[A,b]=se.useState(""),[P,B]=se.useState(""),F=Jo(),G=se.useRef(null),te=async J=>{if(J.preventDefault(),!F)return;const fe={name:a,customDescription:c,tags:p,customTags:y,imageURL:A,imageURL2:P,authorUid:F.uid,likedBy:[],createdAt:new Date().toISOString()};await eD(Ub,fe),e(!1),l(""),f(""),m([]),w([]),b(""),B("")};return se.useEffect(()=>{const J=ae=>{G.current&&!G.current.contains(ae.target)&&e(!1)},fe=ae=>{ae.key==="Escape"&&e(!1)};return t&&(document.addEventListener("mousedown",J),document.addEventListener("keydown",fe)),()=>{document.removeEventListener("mousedown",J),document.removeEventListener("keydown",fe)}},[t]),n?q.jsx(Zg,{open:n,onClose:()=>i(!1),onSuccess:()=>e(!0),message:"Для добавления врага необходима авторизация"}):t?q.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5  bg-gray-500 dark:bg-black flex items-center justify-center",onClick:()=>e(!1),children:q.jsx("div",{role:"dialog",onClick:J=>J.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-7xl flex flex-col sm:flex-row shadow-lg overflow-hidden h-full",children:q.jsxs("form",{ref:G,onSubmit:te,className:"flex flex-col sm:flex-row w-full h-full overflow-y-auto",children:[q.jsx(ef,{imageURL:A,setImageURL:b,ownerUid:(F==null?void 0:F.uid)||""}),q.jsx(Bb,{name:a,setName:l,customDescription:c,setCustomDescription:f,selectedTags:p,setSelectedTags:m,customTags:y,setCustomTags:w,children:q.jsxs("div",{className:"flex gap-4 py-4",children:[q.jsxs("button",{type:"button",onClick:()=>e(!1),className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-500 transition cursor-pointer",children:[q.jsx(el,{className:"w-5 h-5"}),"Отмена"]}),q.jsxs("button",{type:"submit",disabled:!F,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:[q.jsx(L4,{className:"w-5 h-5"}),"Добавить"]})]})}),q.jsx(ef,{imageURL:P,setImageURL:B,ownerUid:(F==null?void 0:F.uid)||""})]})})}):q.jsxs("div",{role:"button",tabIndex:0,className:"group relative flex flex-col items-center justify-center bg-white text-gray-900 dark:bg-gray-800 dark:text-white p-4 rounded-xl shadow-lg cursor-pointer w-full sm:w-40 sm:h-56 aspect-[2/3] hover:scale-110 transition-all duration-300 ease-in-out",onClick:()=>{F?e(!0):i(!0)},onKeyDown:J=>{J.key==="Enter"&&(F?e(!0):i(!0))},children:[q.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-neonBlue rounded-full transform transition-transform duration-300 group-hover:rotate-90",children:q.jsx("span",{className:"text-3xl font-bold text-darkBg",children:"+"})}),q.jsx("p",{className:"mt-2 text-lg",children:"Добавить"}),!F&&q.jsx("span",{className:"text-xs text-gray-400",children:"Требует авторизации"})]})};function K4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const Q4=se.forwardRef(K4);function $4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Jg=se.forwardRef($4);function Y4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const X4=se.forwardRef(Y4),W4=({index:t,enemy:e,author:n,onClick:i})=>{var w;const a=se.useRef(null),l=Jo(),c=Wg(),[f,p]=se.useState(!1),m=!!l&&((w=e.likedBy)==null?void 0:w.includes(l.uid)),y=async A=>{if(A.stopPropagation(),!l||!e.id){p(!0);return}const b=js(zi,"eotv-enemies",e.id);await Dg(b,{likedBy:m?O1(l.uid):N1(l.uid)})};return q.jsxs(q.Fragment,{children:[f&&q.jsx(Zg,{open:f,onClose:()=>p(!1),message:"Для сохранения требуется авторизация"}),q.jsxs("div",{ref:a,className:"bg-white text-gray-900 dark:bg-gray-800 dark:text-white shadow-lg cursor-pointer  overflow-hidden relative w-full sm:w-40 sm:h-56 aspect-[2/3] hover:scale-110 flex flex-col rounded-xl transition-all duration-300 ease-in-out",onClick:()=>i(t),children:[q.jsx("img",{src:e.imageURL,alt:e.name,className:"w-full h-1/2 sm:h-32 object-cover"}),q.jsx("button",{onClick:y,title:m?"Сохранено":"Сохранить",className:"absolute top-2 right-2 text-blue-300 hover:scale-110 transition",children:m?q.jsx(Jg,{className:"w-5 h-5"}):q.jsx(Xg,{className:"w-5 h-5"})}),q.jsxs("div",{className:"p-2 flex flex-col",children:[q.jsx("p",{className:"text-sm text-center font-bold",children:e.name}),q.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:q.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.filter(A=>c.includes(A)).map((A,b)=>q.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:A},b))})}),q.jsx("div",{className:"absolute items-center gap-2 mt-1 right-4 bottom-4",children:q.jsx("img",{src:n==null?void 0:n.photoURL,alt:"Avatar",className:"w-6 h-6 rounded-full",title:(n==null?void 0:n.displayName)||"Unknown"})})]}),e.imageURL2&&q.jsx("img",{src:e.imageURL2,alt:"Extra",className:"hidden"})]},e.id)]})},Z4=({enemies:t,users:e,onSelect:n})=>q.jsxs("div",{className:"grid sm:flex sm:flex-wrap grid-cols-2 gap-4 justify-center relative",children:[q.jsx(G4,{}),t.map((i,a)=>q.jsx(W4,{index:a,enemy:i,author:e[i.authorUid],onClick:()=>n(a)},i.id))]});function J4(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const eM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nM={};function iw(t,e){return(nM.jsx?tM:eM).test(t)}const rM=/[ \t\n\f\r]/g;function iM(t){return typeof t=="object"?t.type==="text"?sw(t.value):!1:sw(t)}function sw(t){return t.replace(rM,"")===""}class qu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}qu.prototype.normal={};qu.prototype.property={};qu.prototype.space=void 0;function zb(t,e){const n={},i={};for(const a of t)Object.assign(n,a.property),Object.assign(i,a.normal);return new qu(n,i,e)}function Mm(t){return t.toLowerCase()}class Bn{constructor(e,n){this.attribute=n,this.property=e}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let sM=0;const Ge=Oa(),Ft=Oa(),jb=Oa(),ge=Oa(),vt=Oa(),Mo=Oa(),Xn=Oa();function Oa(){return 2**++sM}const Lm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Ft,commaOrSpaceSeparated:Xn,commaSeparated:Mo,number:ge,overloadedBoolean:jb,spaceSeparated:vt},Symbol.toStringTag,{value:"Module"})),Xp=Object.keys(Lm);class ey extends Bn{constructor(e,n,i,a){let l=-1;if(super(e,n),aw(this,"space",a),typeof i=="number")for(;++l<Xp.length;){const c=Xp[l];aw(this,Xp[l],(i&Lm[c])===Lm[c])}}}ey.prototype.defined=!0;function aw(t,e,n){n&&(t[e]=n)}function tl(t){const e={},n={};for(const[i,a]of Object.entries(t.properties)){const l=new ey(i,t.transform(t.attributes||{},i),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[Mm(i)]=i,n[Mm(l.attribute)]=i}return new qu(e,n,t.space)}const Fb=tl({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:vt,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:ge,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:vt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Ft,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function qb(t,e){return e in t?t[e]:e}function Hb(t,e){return qb(t,e.toLowerCase())}const aM=tl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mo,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:vt,autoFocus:Ge,autoPlay:Ge,blocking:vt,capture:null,charSet:null,checked:Ge,cite:null,className:vt,cols:ge,colSpan:null,content:null,contentEditable:Ft,controls:Ge,controlsList:vt,coords:ge|Mo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:jb,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:vt,height:ge,hidden:Ge,high:ge,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:vt,itemRef:vt,itemScope:Ge,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ge,pattern:null,ping:vt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:vt,required:Ge,reversed:Ge,rows:ge,rowSpan:ge,sandbox:vt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Ft,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:Hb}),oM=tl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xn,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mo,g2:Mo,glyphName:Mo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xn,rev:Xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xn,requiredFeatures:Xn,requiredFonts:Xn,requiredFormats:Xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xn,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:qb}),Gb=tl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Kb=tl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hb}),Qb=tl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),lM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},uM=/[A-Z]/g,ow=/-[a-z]/g,cM=/^data[-\w.:]+$/i;function hM(t,e){const n=Mm(e);let i=e,a=Bn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cM.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(ow,dM);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!ow.test(l)){let c=l.replace(uM,fM);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}a=ey}return new a(i,e)}function fM(t){return"-"+t.toLowerCase()}function dM(t){return t.charAt(1).toUpperCase()}const pM=zb([Fb,aM,Gb,Kb,Qb],"html"),ty=zb([Fb,oM,Gb,Kb,Qb],"svg");function mM(t){return t.join(" ").trim()}var bo={},Wp,lw;function gM(){if(lw)return Wp;lw=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",y="*",w="",A="comment",b="declaration";Wp=function(B,F){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];F=F||{};var G=1,te=1;function J(N){var Ee=N.match(e);Ee&&(G+=Ee.length);var we=N.lastIndexOf(p);te=~we?N.length-we:te+N.length}function fe(){var N={line:G,column:te};return function(Ee){return Ee.position=new ae(N),M(),Ee}}function ae(N){this.start=N,this.end={line:G,column:te},this.source=F.source}ae.prototype.content=B;function X(N){var Ee=new Error(F.source+":"+G+":"+te+": "+N);if(Ee.reason=N,Ee.filename=F.source,Ee.line=G,Ee.column=te,Ee.source=B,!F.silent)throw Ee}function z(N){var Ee=N.exec(B);if(Ee){var we=Ee[0];return J(we),B=B.slice(we.length),Ee}}function M(){z(n)}function k(N){var Ee;for(N=N||[];Ee=O();)Ee!==!1&&N.push(Ee);return N}function O(){var N=fe();if(!(m!=B.charAt(0)||y!=B.charAt(1))){for(var Ee=2;w!=B.charAt(Ee)&&(y!=B.charAt(Ee)||m!=B.charAt(Ee+1));)++Ee;if(Ee+=2,w===B.charAt(Ee-1))return X("End of comment missing");var we=B.slice(2,Ee-2);return te+=2,J(we),B=B.slice(Ee),te+=2,N({type:A,comment:we})}}function U(){var N=fe(),Ee=z(i);if(Ee){if(O(),!z(a))return X("property missing ':'");var we=z(l),me=N({type:b,property:P(Ee[0].replace(t,w)),value:we?P(we[0].replace(t,w)):w});return z(c),me}}function j(){var N=[];k(N);for(var Ee;Ee=U();)Ee!==!1&&(N.push(Ee),k(N));return N}return M(),j()};function P(B){return B?B.replace(f,w):w}return Wp}var uw;function yM(){if(uw)return bo;uw=1;var t=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0}),bo.default=n;var e=t(gM());function n(i,a){var l=null;if(!i||typeof i!="string")return l;var c=(0,e.default)(i),f=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,y=p.value;f?a(m,y,p):y&&(l=l||{},l[m]=y)}}),l}return bo}var _M=yM();const cw=Cu(_M),vM=cw.default||cw,$b=Yb("end"),ny=Yb("start");function Yb(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function EM(t){const e=ny(t),n=$b(t);if(e&&n)return{start:e,end:n}}function vu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?hw(t.position):"start"in t||"end"in t?hw(t):"line"in t||"column"in t?Um(t):""}function Um(t){return fw(t&&t.line)+":"+fw(t&&t.column)}function hw(t){return Um(t&&t.start)+"-"+Um(t&&t.end)}function fw(t){return t&&typeof t=="number"?t:1}class wn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(c=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=vu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}wn.prototype.file="";wn.prototype.name="";wn.prototype.reason="";wn.prototype.message="";wn.prototype.stack="";wn.prototype.column=void 0;wn.prototype.line=void 0;wn.prototype.ancestors=void 0;wn.prototype.cause=void 0;wn.prototype.fatal=void 0;wn.prototype.place=void 0;wn.prototype.ruleId=void 0;wn.prototype.source=void 0;const ry={}.hasOwnProperty,wM=new Map,TM=/[A-Z]/g,bM=/-([a-z])/g,SM=new Set(["table","tbody","thead","tfoot","tr"]),AM=new Set(["td","th"]),Xb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xM(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=MM(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=OM(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ty:pM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=Wb(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function Wb(t,e,n){if(e.type==="element")return RM(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return IM(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return kM(t,e,n);if(e.type==="mdxjsEsm")return CM(t,e);if(e.type==="root")return DM(t,e,n);if(e.type==="text")return NM(t,e)}function RM(t,e,n){const i=t.schema;let a=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=ty,t.schema=a),t.ancestors.push(e);const l=Jb(t,e.tagName,!1),c=LM(t,e);let f=sy(t,e);return SM.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!iM(p):!0})),Zb(t,c,l,e),iy(c,f),t.ancestors.pop(),t.schema=i,t.create(e,l,c,n)}function IM(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Iu(t,e.position)}function CM(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Iu(t,e.position)}function kM(t,e,n){const i=t.schema;let a=i;e.name==="svg"&&i.space==="html"&&(a=ty,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:Jb(t,e.name,!0),c=UM(t,e),f=sy(t,e);return Zb(t,c,l,e),iy(c,f),t.ancestors.pop(),t.schema=i,t.create(e,l,c,n)}function DM(t,e,n){const i={};return iy(i,sy(t,e)),t.create(e,t.Fragment,i,n)}function NM(t,e){return e.value}function Zb(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function iy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function OM(t,e,n){return i;function i(a,l,c,f){const m=Array.isArray(c.children)?n:e;return f?m(l,c,f):m(l,c)}}function MM(t,e){return n;function n(i,a,l,c){const f=Array.isArray(l.children),p=ny(i);return e(a,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function LM(t,e){const n={};let i,a;for(a in e.properties)if(a!=="children"&&ry.call(e.properties,a)){const l=PM(t,a,e.properties[a]);if(l){const[c,f]=l;t.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&AM.has(e.tagName)?i=f:n[c]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function UM(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Iu(t,e.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else Iu(t,e.position);else l=i.value===null?!0:i.value;n[a]=l}return n}function sy(t,e){const n=[];let i=-1;const a=t.passKeys?new Map:wM;for(;++i<e.children.length;){const l=e.children[i];let c;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const f=Wb(t,l,c);f!==void 0&&n.push(f)}return n}function PM(t,e,n){const i=hM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?J4(n):mM(n)),i.property==="style"){let a=typeof n=="object"?n:VM(t,String(n));return t.stylePropertyNameCase==="css"&&(a=BM(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?lM[i.property]||i.property:i.attribute,n]}}function VM(t,e){const n={};try{vM(e,i)}catch(a){if(!t.ignoreInvalidStyle){const l=a,c=new wn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=t.filePath||void 0,c.url=Xb+"#cannot-parse-style-attribute",c}}return n;function i(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(bM,jM)),n[c]=l}}function Jb(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,c;for(;++l<a.length;){const f=iw(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=c}else i=iw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const a=i.value;return ry.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(i);Iu(t)}function Iu(t,e){const n=new wn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Xb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function BM(t){const e={};let n;for(n in t)ry.call(t,n)&&(e[zM(n)]=t[n]);return e}function zM(t){let e=t.replace(TM,FM);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jM(t,e){return e.toUpperCase()}function FM(t){return"-"+t.toLowerCase()}const Zp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qM={};function HM(t,e){const n=qM,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return eS(t,i,a)}function eS(t,e,n){if(GM(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return dw(t.children,e,n)}return Array.isArray(t)?dw(t,e,n):""}function dw(t,e,n){const i=[];let a=-1;for(;++a<t.length;)i[a]=eS(t[a],e,n);return i.join("")}function GM(t){return!!(t&&typeof t=="object")}const pw=document.createElement("i");function ay(t){const e="&"+t+";";pw.innerHTML=e;const n=pw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ri(t,e,n,i){const a=t.length;let l=0,c;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);l<i.length;)c=i.slice(l,l+1e4),c.unshift(e,0),t.splice(...c),l+=1e4,e+=1e4}function yr(t,e){return t.length>0?(ri(t,t.length,0,e),t):e}const mw={}.hasOwnProperty;function KM(t){const e={};let n=-1;for(;++n<t.length;)QM(e,t[n]);return e}function QM(t,e){let n;for(n in e){const a=(mw.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let c;if(l)for(c in l){mw.call(a,c)||(a[c]=[]);const f=l[c];$M(a[c],Array.isArray(f)?f:f?[f]:[])}}}function $M(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);ri(t,0,0,i)}function tS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Lo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $r=Fs(/[A-Za-z]/),Jn=Fs(/[\dA-Za-z]/),YM=Fs(/[#-'*+\--9=?A-Z^-~]/);function Pm(t){return t!==null&&(t<32||t===127)}const Vm=Fs(/\d/),XM=Fs(/[\dA-Fa-f]/),WM=Fs(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function Vn(t){return t!==null&&(t<0||t===32)}function ct(t){return t===-2||t===-1||t===32}const ZM=Fs(new RegExp("\\p{P}|\\p{S}","u")),JM=Fs(/\s/);function Fs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function nl(t){const e=[];let n=-1,i=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let c="";if(l===37&&Jn(t.charCodeAt(n+1))&&Jn(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),a=1):c="�"}else c=String.fromCharCode(l);c&&(e.push(t.slice(i,n),encodeURIComponent(c)),i=n+a+1,c=""),a&&(n+=a,a=0)}return e.join("")+t.slice(i)}function Et(t,e,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ct(p)?(t.enter(n),f(p)):e(p)}function f(p){return ct(p)&&l++<a?(t.consume(p),f):(t.exit(n),e(p))}}const eL={tokenize:tL};function tL(t){const e=t.attempt(this.parser.constructs.contentInitial,i,a);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Et(t,e,"linePrefix")}function a(f){return t.enter("paragraph"),l(f)}function l(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(f)}function c(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Pe(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),c)}}const nL={tokenize:rL},gw={tokenize:iL};function rL(t){const e=this,n=[];let i=0,a,l,c;return f;function f(J){if(i<n.length){const fe=n[i];return e.containerState=fe[1],t.attempt(fe[0].continuation,p,m)(J)}return m(J)}function p(J){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&te();const fe=e.events.length;let ae=fe,X;for(;ae--;)if(e.events[ae][0]==="exit"&&e.events[ae][1].type==="chunkFlow"){X=e.events[ae][1].end;break}G(i);let z=fe;for(;z<e.events.length;)e.events[z][1].end={...X},z++;return ri(e.events,ae+1,0,e.events.slice(fe)),e.events.length=z,m(J)}return f(J)}function m(J){if(i===n.length){if(!a)return A(J);if(a.currentConstruct&&a.currentConstruct.concrete)return P(J);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gw,y,w)(J)}function y(J){return a&&te(),G(i),A(J)}function w(J){return e.parser.lazy[e.now().line]=i!==n.length,c=e.now().offset,P(J)}function A(J){return e.containerState={},t.attempt(gw,b,P)(J)}function b(J){return i++,n.push([e.currentConstruct,e.containerState]),A(J)}function P(J){if(J===null){a&&te(),G(0),t.consume(J);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),B(J)}function B(J){if(J===null){F(t.exit("chunkFlow"),!0),G(0),t.consume(J);return}return Pe(J)?(t.consume(J),F(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(J),B)}function F(J,fe){const ae=e.sliceStream(J);if(fe&&ae.push(null),J.previous=l,l&&(l.next=J),l=J,a.defineSkip(J.start),a.write(ae),e.parser.lazy[J.start.line]){let X=a.events.length;for(;X--;)if(a.events[X][1].start.offset<c&&(!a.events[X][1].end||a.events[X][1].end.offset>c))return;const z=e.events.length;let M=z,k,O;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(k){O=e.events[M][1].end;break}k=!0}for(G(i),X=z;X<e.events.length;)e.events[X][1].end={...O},X++;ri(e.events,M+1,0,e.events.slice(z)),e.events.length=X}}function G(J){let fe=n.length;for(;fe-- >J;){const ae=n[fe];e.containerState=ae[1],ae[0].exit.call(e,t)}n.length=J}function te(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function iL(t,e,n){return Et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yw(t){if(t===null||Vn(t)||JM(t))return 1;if(ZM(t))return 2}function oy(t,e,n){const i=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const Bm={name:"attention",resolveAll:sL,tokenize:aL};function sL(t,e){let n=-1,i,a,l,c,f,p,m,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const w={...t[i][1].end},A={...t[n][1].start};_w(w,-p),_w(A,p),c={type:p>1?"strongSequence":"emphasisSequence",start:w,end:{...t[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:A},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},t[i][1].end={...c.start},t[n][1].start={...f.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=yr(m,[["enter",t[i][1],e],["exit",t[i][1],e]])),m=yr(m,[["enter",a,e],["enter",c,e],["exit",c,e],["enter",l,e]]),m=yr(m,oy(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),m=yr(m,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,m=yr(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,ri(t,i-1,n-i+3,m),n=i+m.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function aL(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=yw(i);let l;return c;function c(p){return l=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===l)return t.consume(p),f;const m=t.exit("attentionSequence"),y=yw(p),w=!y||y===2&&a||n.includes(p),A=!a||a===2&&y||n.includes(i);return m._open=!!(l===42?w:w&&(a||!A)),m._close=!!(l===42?A:A&&(y||!w)),e(p)}}function _w(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const oL={name:"autolink",tokenize:lL};function lL(t,e,n){let i=0;return a;function a(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(b){return $r(b)?(t.consume(b),c):b===64?n(b):m(b)}function c(b){return b===43||b===45||b===46||Jn(b)?(i=1,f(b)):m(b)}function f(b){return b===58?(t.consume(b),i=0,p):(b===43||b===45||b===46||Jn(b))&&i++<32?(t.consume(b),f):(i=0,m(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||Pm(b)?n(b):(t.consume(b),p)}function m(b){return b===64?(t.consume(b),y):YM(b)?(t.consume(b),m):n(b)}function y(b){return Jn(b)?w(b):n(b)}function w(b){return b===46?(t.consume(b),i=0,y):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):A(b)}function A(b){if((b===45||Jn(b))&&i++<63){const P=b===45?A:w;return t.consume(b),P}return n(b)}}const Cf={partial:!0,tokenize:uL};function uL(t,e,n){return i;function i(l){return ct(l)?Et(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Pe(l)?e(l):n(l)}}const nS={continuation:{tokenize:hL},exit:fL,name:"blockQuote",tokenize:cL};function cL(t,e,n){const i=this;return a;function a(c){if(c===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),l}return n(c)}function l(c){return ct(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function hL(t,e,n){const i=this;return a;function a(c){return ct(c)?Et(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return t.attempt(nS,e,n)(c)}}function fL(t){t.exit("blockQuote")}const rS={name:"characterEscape",tokenize:dL};function dL(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return WM(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const iS={name:"characterReference",tokenize:pL};function pL(t,e,n){const i=this;let a=0,l,c;return f;function f(w){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),p}function p(w){return w===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(w),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),l=31,c=Jn,y(w))}function m(w){return w===88||w===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(w),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,c=XM,y):(t.enter("characterReferenceValue"),l=7,c=Vm,y(w))}function y(w){if(w===59&&a){const A=t.exit("characterReferenceValue");return c===Jn&&!ay(i.sliceSerialize(A))?n(w):(t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(w)&&a++<l?(t.consume(w),y):n(w)}}const vw={partial:!0,tokenize:gL},Ew={concrete:!0,name:"codeFenced",tokenize:mL};function mL(t,e,n){const i=this,a={partial:!0,tokenize:ae};let l=0,c=0,f;return p;function p(X){return m(X)}function m(X){const z=i.events[i.events.length-1];return l=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,f=X,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(X)}function y(X){return X===f?(c++,t.consume(X),y):c<3?n(X):(t.exit("codeFencedFenceSequence"),ct(X)?Et(t,w,"whitespace")(X):w(X))}function w(X){return X===null||Pe(X)?(t.exit("codeFencedFence"),i.interrupt?e(X):t.check(vw,B,fe)(X)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),A(X))}function A(X){return X===null||Pe(X)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),w(X)):ct(X)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Et(t,b,"whitespace")(X)):X===96&&X===f?n(X):(t.consume(X),A)}function b(X){return X===null||Pe(X)?w(X):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),P(X))}function P(X){return X===null||Pe(X)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),w(X)):X===96&&X===f?n(X):(t.consume(X),P)}function B(X){return t.attempt(a,fe,F)(X)}function F(X){return t.enter("lineEnding"),t.consume(X),t.exit("lineEnding"),G}function G(X){return l>0&&ct(X)?Et(t,te,"linePrefix",l+1)(X):te(X)}function te(X){return X===null||Pe(X)?t.check(vw,B,fe)(X):(t.enter("codeFlowValue"),J(X))}function J(X){return X===null||Pe(X)?(t.exit("codeFlowValue"),te(X)):(t.consume(X),J)}function fe(X){return t.exit("codeFenced"),e(X)}function ae(X,z,M){let k=0;return O;function O(we){return X.enter("lineEnding"),X.consume(we),X.exit("lineEnding"),U}function U(we){return X.enter("codeFencedFence"),ct(we)?Et(X,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(we):j(we)}function j(we){return we===f?(X.enter("codeFencedFenceSequence"),N(we)):M(we)}function N(we){return we===f?(k++,X.consume(we),N):k>=c?(X.exit("codeFencedFenceSequence"),ct(we)?Et(X,Ee,"whitespace")(we):Ee(we)):M(we)}function Ee(we){return we===null||Pe(we)?(X.exit("codeFencedFence"),z(we)):M(we)}}}function gL(t,e,n){const i=this;return a;function a(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}const Jp={name:"codeIndented",tokenize:_L},yL={partial:!0,tokenize:vL};function _L(t,e,n){const i=this;return a;function a(m){return t.enter("codeIndented"),Et(t,l,"linePrefix",5)(m)}function l(m){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Pe(m)?t.attempt(yL,c,p)(m):(t.enter("codeFlowValue"),f(m))}function f(m){return m===null||Pe(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),f)}function p(m){return t.exit("codeIndented"),e(m)}}function vL(t,e,n){const i=this;return a;function a(c){return i.parser.lazy[i.now().line]?n(c):Pe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),a):Et(t,l,"linePrefix",5)(c)}function l(c){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):Pe(c)?a(c):n(c)}}const EL={name:"codeText",previous:TL,resolve:wL,tokenize:bL};function wL(t){let e=t.length-4,n=3,i,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)a===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(a=i):(i===e||t[i][1].type==="lineEnding")&&(t[a][1].type="codeTextData",i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),e-=i-a-2,i=a+2),a=void 0);return t}function TL(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bL(t,e,n){let i=0,a,l;return c;function c(w){return t.enter("codeText"),t.enter("codeTextSequence"),f(w)}function f(w){return w===96?(t.consume(w),i++,f):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(l=t.enter("codeTextSequence"),a=0,y(w)):Pe(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||Pe(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),m)}function y(w){return w===96?(t.consume(w),a++,y):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",m(w))}}class SL{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&ou(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ou(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ou(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ou(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ou(this.left,n.reverse())}}}function ou(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function sS(t){const e={};let n=-1,i,a,l,c,f,p,m;const y=new SL(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,AL(y,n)),n=e[n],m=!0);else if(i[1]._container){for(l=n,a=void 0;l--;)if(c=y.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(i[1].end={...y.get(a)[1].start},f=y.slice(a,n),f.unshift(i),y.splice(a,n-a+1,f))}}return ri(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function AL(t,e){const n=t.get(e)[1],i=t.get(e)[2];let a=e-1;const l=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],m={};let y,w,A=-1,b=n,P=0,B=0;const F=[B];for(;b;){for(;t.get(++a)[1]!==b;);l.push(a),b._tokenizer||(y=i.sliceStream(b),b.next||y.push(null),w&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),w=b,b=b.next}for(b=n;++A<f.length;)f[A][0]==="exit"&&f[A-1][0]==="enter"&&f[A][1].type===f[A-1][1].type&&f[A][1].start.line!==f[A][1].end.line&&(B=A+1,F.push(B),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):F.pop(),A=F.length;A--;){const G=f.slice(F[A],F[A+1]),te=l.pop();p.push([te,te+G.length-1]),t.splice(te,2,G)}for(p.reverse(),A=-1;++A<p.length;)m[P+p[A][0]]=P+p[A][1],P+=p[A][1]-p[A][0]-1;return m}const xL={resolve:IL,tokenize:CL},RL={partial:!0,tokenize:kL};function IL(t){return sS(t),t}function CL(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Pe(f)?t.check(RL,c,l)(f):(t.consume(f),a)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function c(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function kL(t,e,n){const i=this;return a;function a(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Et(t,l,"linePrefix")}function l(c){if(c===null||Pe(c))return n(c);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):t.interrupt(i.parser.constructs.flow,n,e)(c)}}function aS(t,e,n,i,a,l,c,f,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return w;function w(G){return G===60?(t.enter(i),t.enter(a),t.enter(l),t.consume(G),t.exit(l),A):G===null||G===32||G===41||Pm(G)?n(G):(t.enter(i),t.enter(c),t.enter(f),t.enter("chunkString",{contentType:"string"}),B(G))}function A(G){return G===62?(t.enter(l),t.consume(G),t.exit(l),t.exit(a),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),b(G))}function b(G){return G===62?(t.exit("chunkString"),t.exit(f),A(G)):G===null||G===60||Pe(G)?n(G):(t.consume(G),G===92?P:b)}function P(G){return G===60||G===62||G===92?(t.consume(G),b):b(G)}function B(G){return!y&&(G===null||G===41||Vn(G))?(t.exit("chunkString"),t.exit(f),t.exit(c),t.exit(i),e(G)):y<m&&G===40?(t.consume(G),y++,B):G===41?(t.consume(G),y--,B):G===null||G===32||G===40||Pm(G)?n(G):(t.consume(G),G===92?F:B)}function F(G){return G===40||G===41||G===92?(t.consume(G),B):B(G)}}function oS(t,e,n,i,a,l){const c=this;let f=0,p;return m;function m(b){return t.enter(i),t.enter(a),t.consume(b),t.exit(a),t.enter(l),y}function y(b){return f>999||b===null||b===91||b===93&&!p||b===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?n(b):b===93?(t.exit(l),t.enter(a),t.consume(b),t.exit(a),t.exit(i),e):Pe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),w(b))}function w(b){return b===null||b===91||b===93||Pe(b)||f++>999?(t.exit("chunkString"),y(b)):(t.consume(b),p||(p=!ct(b)),b===92?A:w)}function A(b){return b===91||b===92||b===93?(t.consume(b),f++,w):w(b)}}function lS(t,e,n,i,a,l){let c;return f;function f(A){return A===34||A===39||A===40?(t.enter(i),t.enter(a),t.consume(A),t.exit(a),c=A===40?41:A,p):n(A)}function p(A){return A===c?(t.enter(a),t.consume(A),t.exit(a),t.exit(i),e):(t.enter(l),m(A))}function m(A){return A===c?(t.exit(l),p(c)):A===null?n(A):Pe(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),Et(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===c||A===null||Pe(A)?(t.exit("chunkString"),m(A)):(t.consume(A),A===92?w:y)}function w(A){return A===c||A===92?(t.consume(A),y):y(A)}}function Eu(t,e){let n;return i;function i(a){return Pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,i):ct(a)?Et(t,i,n?"linePrefix":"lineSuffix")(a):e(a)}}const DL={name:"definition",tokenize:OL},NL={partial:!0,tokenize:ML};function OL(t,e,n){const i=this;let a;return l;function l(b){return t.enter("definition"),c(b)}function c(b){return oS.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function f(b){return a=Lo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):n(b)}function p(b){return Vn(b)?Eu(t,m)(b):m(b)}function m(b){return aS(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function y(b){return t.attempt(NL,w,w)(b)}function w(b){return ct(b)?Et(t,A,"whitespace")(b):A(b)}function A(b){return b===null||Pe(b)?(t.exit("definition"),i.parser.defined.push(a),e(b)):n(b)}}function ML(t,e,n){return i;function i(f){return Vn(f)?Eu(t,a)(f):n(f)}function a(f){return lS(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ct(f)?Et(t,c,"whitespace")(f):c(f)}function c(f){return f===null||Pe(f)?e(f):n(f)}}const LL={name:"hardBreakEscape",tokenize:UL};function UL(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Pe(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const PL={name:"headingAtx",resolve:VL,tokenize:BL};function VL(t,e){let n=t.length-2,i=3,a,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},ri(t,i,n-i+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function BL(t,e,n){let i=0;return a;function a(y){return t.enter("atxHeading"),l(y)}function l(y){return t.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&i++<6?(t.consume(y),c):y===null||Vn(y)?(t.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Pe(y)?(t.exit("atxHeading"),e(y)):ct(y)?Et(t,f,"whitespace")(y):(t.enter("atxHeadingText"),m(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),f(y))}function m(y){return y===null||y===35||Vn(y)?(t.exit("atxHeadingText"),f(y)):(t.consume(y),m)}}const zL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ww=["pre","script","style","textarea"],jL={concrete:!0,name:"htmlFlow",resolveTo:HL,tokenize:GL},FL={partial:!0,tokenize:QL},qL={partial:!0,tokenize:KL};function HL(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function GL(t,e,n){const i=this;let a,l,c,f,p;return m;function m(L){return y(L)}function y(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),w}function w(L){return L===33?(t.consume(L),A):L===47?(t.consume(L),l=!0,B):L===63?(t.consume(L),a=3,i.interrupt?e:R):$r(L)?(t.consume(L),c=String.fromCharCode(L),F):n(L)}function A(L){return L===45?(t.consume(L),a=2,b):L===91?(t.consume(L),a=5,f=0,P):$r(L)?(t.consume(L),a=4,i.interrupt?e:R):n(L)}function b(L){return L===45?(t.consume(L),i.interrupt?e:R):n(L)}function P(L){const ve="CDATA[";return L===ve.charCodeAt(f++)?(t.consume(L),f===ve.length?i.interrupt?e:j:P):n(L)}function B(L){return $r(L)?(t.consume(L),c=String.fromCharCode(L),F):n(L)}function F(L){if(L===null||L===47||L===62||Vn(L)){const ve=L===47,Ne=c.toLowerCase();return!ve&&!l&&ww.includes(Ne)?(a=1,i.interrupt?e(L):j(L)):zL.includes(c.toLowerCase())?(a=6,ve?(t.consume(L),G):i.interrupt?e(L):j(L)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(L):l?te(L):J(L))}return L===45||Jn(L)?(t.consume(L),c+=String.fromCharCode(L),F):n(L)}function G(L){return L===62?(t.consume(L),i.interrupt?e:j):n(L)}function te(L){return ct(L)?(t.consume(L),te):O(L)}function J(L){return L===47?(t.consume(L),O):L===58||L===95||$r(L)?(t.consume(L),fe):ct(L)?(t.consume(L),J):O(L)}function fe(L){return L===45||L===46||L===58||L===95||Jn(L)?(t.consume(L),fe):ae(L)}function ae(L){return L===61?(t.consume(L),X):ct(L)?(t.consume(L),ae):J(L)}function X(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),p=L,z):ct(L)?(t.consume(L),X):M(L)}function z(L){return L===p?(t.consume(L),p=null,k):L===null||Pe(L)?n(L):(t.consume(L),z)}function M(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Vn(L)?ae(L):(t.consume(L),M)}function k(L){return L===47||L===62||ct(L)?J(L):n(L)}function O(L){return L===62?(t.consume(L),U):n(L)}function U(L){return L===null||Pe(L)?j(L):ct(L)?(t.consume(L),U):n(L)}function j(L){return L===45&&a===2?(t.consume(L),me):L===60&&a===1?(t.consume(L),Te):L===62&&a===4?(t.consume(L),oe):L===63&&a===3?(t.consume(L),R):L===93&&a===5?(t.consume(L),He):Pe(L)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(FL,_e,N)(L)):L===null||Pe(L)?(t.exit("htmlFlowData"),N(L)):(t.consume(L),j)}function N(L){return t.check(qL,Ee,_e)(L)}function Ee(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),we}function we(L){return L===null||Pe(L)?N(L):(t.enter("htmlFlowData"),j(L))}function me(L){return L===45?(t.consume(L),R):j(L)}function Te(L){return L===47?(t.consume(L),c="",be):j(L)}function be(L){if(L===62){const ve=c.toLowerCase();return ww.includes(ve)?(t.consume(L),oe):j(L)}return $r(L)&&c.length<8?(t.consume(L),c+=String.fromCharCode(L),be):j(L)}function He(L){return L===93?(t.consume(L),R):j(L)}function R(L){return L===62?(t.consume(L),oe):L===45&&a===2?(t.consume(L),R):j(L)}function oe(L){return L===null||Pe(L)?(t.exit("htmlFlowData"),_e(L)):(t.consume(L),oe)}function _e(L){return t.exit("htmlFlow"),e(L)}}function KL(t,e,n){const i=this;return a;function a(c){return Pe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):n(c)}function l(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}function QL(t,e,n){return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Cf,e,n)}}const $L={name:"htmlText",tokenize:YL};function YL(t,e,n){const i=this;let a,l,c;return f;function f(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),p}function p(R){return R===33?(t.consume(R),m):R===47?(t.consume(R),ae):R===63?(t.consume(R),J):$r(R)?(t.consume(R),M):n(R)}function m(R){return R===45?(t.consume(R),y):R===91?(t.consume(R),l=0,P):$r(R)?(t.consume(R),te):n(R)}function y(R){return R===45?(t.consume(R),b):n(R)}function w(R){return R===null?n(R):R===45?(t.consume(R),A):Pe(R)?(c=w,Te(R)):(t.consume(R),w)}function A(R){return R===45?(t.consume(R),b):w(R)}function b(R){return R===62?me(R):R===45?A(R):w(R)}function P(R){const oe="CDATA[";return R===oe.charCodeAt(l++)?(t.consume(R),l===oe.length?B:P):n(R)}function B(R){return R===null?n(R):R===93?(t.consume(R),F):Pe(R)?(c=B,Te(R)):(t.consume(R),B)}function F(R){return R===93?(t.consume(R),G):B(R)}function G(R){return R===62?me(R):R===93?(t.consume(R),G):B(R)}function te(R){return R===null||R===62?me(R):Pe(R)?(c=te,Te(R)):(t.consume(R),te)}function J(R){return R===null?n(R):R===63?(t.consume(R),fe):Pe(R)?(c=J,Te(R)):(t.consume(R),J)}function fe(R){return R===62?me(R):J(R)}function ae(R){return $r(R)?(t.consume(R),X):n(R)}function X(R){return R===45||Jn(R)?(t.consume(R),X):z(R)}function z(R){return Pe(R)?(c=z,Te(R)):ct(R)?(t.consume(R),z):me(R)}function M(R){return R===45||Jn(R)?(t.consume(R),M):R===47||R===62||Vn(R)?k(R):n(R)}function k(R){return R===47?(t.consume(R),me):R===58||R===95||$r(R)?(t.consume(R),O):Pe(R)?(c=k,Te(R)):ct(R)?(t.consume(R),k):me(R)}function O(R){return R===45||R===46||R===58||R===95||Jn(R)?(t.consume(R),O):U(R)}function U(R){return R===61?(t.consume(R),j):Pe(R)?(c=U,Te(R)):ct(R)?(t.consume(R),U):k(R)}function j(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),a=R,N):Pe(R)?(c=j,Te(R)):ct(R)?(t.consume(R),j):(t.consume(R),Ee)}function N(R){return R===a?(t.consume(R),a=void 0,we):R===null?n(R):Pe(R)?(c=N,Te(R)):(t.consume(R),N)}function Ee(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Vn(R)?k(R):(t.consume(R),Ee)}function we(R){return R===47||R===62||Vn(R)?k(R):n(R)}function me(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function Te(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),be}function be(R){return ct(R)?Et(t,He,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):He(R)}function He(R){return t.enter("htmlTextData"),c(R)}}const ly={name:"labelEnd",resolveAll:JL,resolveTo:eU,tokenize:tU},XL={tokenize:nU},WL={tokenize:rU},ZL={tokenize:iU};function JL(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",e+=a}}return t.length!==n.length&&ri(t,0,t.length,n),t}function eU(t,e){let n=t.length,i=0,a,l,c,f;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(c=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[l][1].start},end:{...t[c][1].end}},y={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[c-2][1].start}};return f=[["enter",p,e],["enter",m,e]],f=yr(f,t.slice(l+1,l+i+3)),f=yr(f,[["enter",y,e]]),f=yr(f,oy(e.parser.constructs.insideSpan.null,t.slice(l+i+4,c-3),e)),f=yr(f,[["exit",y,e],t[c-2],t[c-1],["exit",m,e]]),f=yr(f,t.slice(c+1)),f=yr(f,[["exit",p,e]]),ri(t,l,t.length,f),t}function tU(t,e,n){const i=this;let a=i.events.length,l,c;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return f;function f(A){return l?l._inactive?w(A):(c=i.parser.defined.includes(Lo(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(A),t.exit("labelMarker"),t.exit("labelEnd"),p):n(A)}function p(A){return A===40?t.attempt(XL,y,c?y:w)(A):A===91?t.attempt(WL,y,c?m:w)(A):c?y(A):w(A)}function m(A){return t.attempt(ZL,y,w)(A)}function y(A){return e(A)}function w(A){return l._balanced=!0,n(A)}}function nU(t,e,n){return i;function i(w){return t.enter("resource"),t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),a}function a(w){return Vn(w)?Eu(t,l)(w):l(w)}function l(w){return w===41?y(w):aS(t,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function c(w){return Vn(w)?Eu(t,p)(w):y(w)}function f(w){return n(w)}function p(w){return w===34||w===39||w===40?lS(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):y(w)}function m(w){return Vn(w)?Eu(t,y)(w):y(w)}function y(w){return w===41?(t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),t.exit("resource"),e):n(w)}}function rU(t,e,n){const i=this;return a;function a(f){return oS.call(i,t,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Lo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function c(f){return n(f)}}function iU(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const sU={name:"labelStartImage",resolveAll:ly.resolveAll,tokenize:aU};function aU(t,e,n){const i=this;return a;function a(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),c):n(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const oU={name:"labelStartLink",resolveAll:ly.resolveAll,tokenize:lU};function lU(t,e,n){const i=this;return a;function a(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const em={name:"lineEnding",tokenize:uU};function uU(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Et(t,e,"linePrefix")}}const Nh={name:"thematicBreak",tokenize:cU};function cU(t,e,n){let i=0,a;return l;function l(m){return t.enter("thematicBreak"),c(m)}function c(m){return a=m,f(m)}function f(m){return m===a?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Pe(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===a?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),ct(m)?Et(t,f,"whitespace")(m):f(m))}}const On={continuation:{tokenize:pU},exit:gU,name:"list",tokenize:dU},hU={partial:!0,tokenize:yU},fU={partial:!0,tokenize:mU};function dU(t,e,n){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(b){const P=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(P==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Vm(b)){if(i.containerState.type||(i.containerState.type=P,t.enter(P,{_container:!0})),P==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Nh,n,m)(b):m(b);if(!i.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return n(b)}function p(b){return Vm(b)&&++c<10?(t.consume(b),p):(!i.interrupt||c<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),m(b)):n(b)}function m(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,t.check(Cf,i.interrupt?n:y,t.attempt(hU,A,w))}function y(b){return i.containerState.initialBlankLine=!0,l++,A(b)}function w(b){return ct(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),A):n(b)}function A(b){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function pU(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Cf,a,l);function a(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Et(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ct(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(fU,e,c)(f))}function c(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,Et(t,t.attempt(On,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function mU(t,e,n){const i=this;return Et(t,a,"listItemIndent",i.containerState.size+1);function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?e(l):n(l)}}function gU(t){t.exit(this.containerState.type)}function yU(t,e,n){const i=this;return Et(t,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=i.events[i.events.length-1];return!ct(l)&&c&&c[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const Tw={name:"setextUnderline",resolveTo:_U,tokenize:vU};function _U(t,e){let n=t.length,i,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",c,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=c,t.push(["exit",c,e]),t}function vU(t,e,n){const i=this;let a;return l;function l(m){let y=i.events.length,w;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){w=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||w)?(t.enter("setextHeadingLine"),a=m,c(m)):n(m)}function c(m){return t.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(t.consume(m),f):(t.exit("setextHeadingLineSequence"),ct(m)?Et(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Pe(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const EU={tokenize:wU};function wU(t){const e=this,n=t.attempt(Cf,i,t.attempt(this.parser.constructs.flowInitial,a,Et(t,t.attempt(this.parser.constructs.flow,a,t.attempt(xL,a)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const TU={resolveAll:cS()},bU=uS("string"),SU=uS("text");function uS(t){return{resolveAll:cS(t==="text"?AU:void 0),tokenize:e};function e(n){const i=this,a=this.parser.constructs[t],l=n.attempt(a,c,f);return c;function c(y){return m(y)?l(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return m(y)?(n.exit("data"),l(y)):(n.consume(y),p)}function m(y){if(y===null)return!0;const w=a[y];let A=-1;if(w)for(;++A<w.length;){const b=w[A];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function cS(t){return e;function e(n,i){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,i):n}}function AU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],a=e.sliceStream(i);let l=a.length,c=-1,f=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(m===-2)p=!0,f++;else if(m!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const m={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const xU={42:On,43:On,45:On,48:On,49:On,50:On,51:On,52:On,53:On,54:On,55:On,56:On,57:On,62:nS},RU={91:DL},IU={[-2]:Jp,[-1]:Jp,32:Jp},CU={35:PL,42:Nh,45:[Tw,Nh],60:jL,61:Tw,95:Nh,96:Ew,126:Ew},kU={38:iS,92:rS},DU={[-5]:em,[-4]:em,[-3]:em,33:sU,38:iS,42:Bm,60:[oL,$L],91:oU,92:[LL,rS],93:ly,95:Bm,96:EL},NU={null:[Bm,TU]},OU={null:[42,95]},MU={null:[]},LU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:OU,contentInitial:RU,disable:MU,document:xU,flow:CU,flowInitial:IU,insideSpan:NU,string:kU,text:DU},Symbol.toStringTag,{value:"Module"}));function UU(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:z(ae),check:z(X),consume:te,enter:J,exit:fe,interrupt:z(X,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:P,parser:t,previous:null,sliceSerialize:A,sliceStream:b,write:w};let y=e.tokenize.call(m,p);return e.resolveAll&&l.push(e),m;function w(U){return c=yr(c,U),F(),c[c.length-1]!==null?[]:(M(e,0),m.events=oy(l,m.events,m),m.events)}function A(U,j){return VU(b(U),j)}function b(U){return PU(c,U)}function P(){const{_bufferIndex:U,_index:j,line:N,column:Ee,offset:we}=i;return{_bufferIndex:U,_index:j,line:N,column:Ee,offset:we}}function B(U){a[U.line]=U.column,O()}function F(){let U;for(;i._index<c.length;){const j=c[i._index];if(typeof j=="string")for(U=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===U&&i._bufferIndex<j.length;)G(j.charCodeAt(i._bufferIndex));else G(j)}}function G(U){y=y(U)}function te(U){Pe(U)?(i.line++,i.column=1,i.offset+=U===-3?2:1,O()):U!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=U}function J(U,j){const N=j||{};return N.type=U,N.start=P(),m.events.push(["enter",N,m]),f.push(N),N}function fe(U){const j=f.pop();return j.end=P(),m.events.push(["exit",j,m]),j}function ae(U,j){M(U,j.from)}function X(U,j){j.restore()}function z(U,j){return N;function N(Ee,we,me){let Te,be,He,R;return Array.isArray(Ee)?_e(Ee):"tokenize"in Ee?_e([Ee]):oe(Ee);function oe(xe){return dt;function dt(Le){const at=Le!==null&&xe[Le],Qe=Le!==null&&xe.null,It=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return _e(It)(Le)}}function _e(xe){return Te=xe,be=0,xe.length===0?me:L(xe[be])}function L(xe){return dt;function dt(Le){return R=k(),He=xe,xe.partial||(m.currentConstruct=xe),xe.name&&m.parser.constructs.disable.null.includes(xe.name)?Ne():xe.tokenize.call(j?Object.assign(Object.create(m),j):m,p,ve,Ne)(Le)}}function ve(xe){return U(He,R),we}function Ne(xe){return R.restore(),++be<Te.length?L(Te[be]):me}}}function M(U,j){U.resolveAll&&!l.includes(U)&&l.push(U),U.resolve&&ri(m.events,j,m.events.length-j,U.resolve(m.events.slice(j),m)),U.resolveTo&&(m.events=U.resolveTo(m.events,m))}function k(){const U=P(),j=m.previous,N=m.currentConstruct,Ee=m.events.length,we=Array.from(f);return{from:Ee,restore:me};function me(){i=U,m.previous=j,m.currentConstruct=N,m.events.length=Ee,f=we,O()}}function O(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function PU(t,e){const n=e.start._index,i=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let c;if(n===a)c=[t[n].slice(i,l)];else{if(c=t.slice(n,a),i>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(i):c.shift()}l>0&&c.push(t[a].slice(0,l))}return c}function VU(t,e){let n=-1;const i=[];let a;for(;++n<t.length;){const l=t[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,i.push(c)}return i.join("")}function BU(t){const i={constructs:KM([LU,...(t||{}).extensions||[]]),content:a(eL),defined:[],document:a(nL),flow:a(EU),lazy:{},string:a(bU),text:a(SU)};return i;function a(l){return c;function c(f){return UU(i,l,f)}}}function zU(t){for(;!sS(t););return t}const bw=/[\0\t\n\r]/g;function jU(){let t=1,e="",n=!0,i;return a;function a(l,c,f){const p=[];let m,y,w,A,b;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),w=0,e="",n&&(l.charCodeAt(0)===65279&&w++,n=void 0);w<l.length;){if(bw.lastIndex=w,m=bw.exec(l),A=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(A),!m){e=l.slice(w);break}if(b===10&&w===A&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),w<A&&(p.push(l.slice(w,A)),t+=A-w),b){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}w=A+1}return f&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const FU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qU(t){return t.replace(FU,HU)}function HU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return tS(n.slice(l?2:1),l?16:10)}return ay(n)||t}const hS={}.hasOwnProperty;function GU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),KU(n)(zU(BU(n).document().write(jU()(t,e,!0))))}function KU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Er),autolinkProtocol:k,autolinkEmail:k,atxHeading:l(zn),blockQuote:l(Qe),characterEscape:k,characterReference:k,codeFenced:l(It),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(It,c),codeText:l(Cn,c),codeTextData:k,data:k,codeFlowValue:k,definition:l(Mt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(er,c),htmlFlowData:k,htmlText:l(er,c),htmlTextData:k,image:l(kr),label:c,link:l(Er),listItem:l(Fn),listItemValue:A,listOrdered:l(jn,w),listUnordered:l(jn),paragraph:l(pn),reference:L,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(zn),strong:l(wr),thematicBreak:l(Tn)},exit:{atxHeading:p(),atxHeadingSequence:ae,autolink:p(),autolinkEmail:at,autolinkProtocol:Le,blockQuote:p(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:xe,characterReference:dt,codeFenced:p(F),codeFencedFence:B,codeFencedFenceInfo:b,codeFencedFenceMeta:P,codeFlowValue:O,codeIndented:p(G),codeText:p(we),codeTextData:O,data:O,definition:p(),definitionDestinationString:fe,definitionLabelString:te,definitionTitleString:J,emphasis:p(),hardBreakEscape:p(j),hardBreakTrailing:p(j),htmlFlow:p(N),htmlFlowData:O,htmlText:p(Ee),htmlTextData:O,image:p(Te),label:He,labelText:be,lineEnding:U,link:p(me),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ve,resourceDestinationString:R,resourceTitleString:oe,resource:_e,setextHeading:p(M),setextHeadingLineSequence:z,setextHeadingText:X,strong:p(),thematicBreak:p()}};fS(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(ne){let x={type:"root",children:[]};const _={stack:[x],tokenStack:[],config:e,enter:f,exit:m,buffer:c,resume:y,data:n},E=[];let D=-1;for(;++D<ne.length;)if(ne[D][1].type==="listOrdered"||ne[D][1].type==="listUnordered")if(ne[D][0]==="enter")E.push(D);else{const H=E.pop();D=a(ne,H,D)}for(D=-1;++D<ne.length;){const H=e[ne[D][0]];hS.call(H,ne[D][1].type)&&H[ne[D][1].type].call(Object.assign({sliceSerialize:ne[D][2].sliceSerialize},_),ne[D][1])}if(_.tokenStack.length>0){const H=_.tokenStack[_.tokenStack.length-1];(H[1]||Sw).call(_,void 0,H[0])}for(x.position={start:Ts(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Ts(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<e.transforms.length;)x=e.transforms[D](x)||x;return x}function a(ne,x,_){let E=x-1,D=-1,H=!1,Z,ie,Re,tt;for(;++E<=_;){const Me=ne[E];switch(Me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Me[0]==="enter"?D++:D--,tt=void 0;break}case"lineEndingBlank":{Me[0]==="enter"&&(Z&&!tt&&!D&&!Re&&(Re=E),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!D&&Me[0]==="enter"&&Me[1].type==="listItemPrefix"||D===-1&&Me[0]==="exit"&&(Me[1].type==="listUnordered"||Me[1].type==="listOrdered")){if(Z){let Be=E;for(ie=void 0;Be--;){const qe=ne[Be];if(qe[1].type==="lineEnding"||qe[1].type==="lineEndingBlank"){if(qe[0]==="exit")continue;ie&&(ne[ie][1].type="lineEndingBlank",H=!0),qe[1].type="lineEnding",ie=Be}else if(!(qe[1].type==="linePrefix"||qe[1].type==="blockQuotePrefix"||qe[1].type==="blockQuotePrefixWhitespace"||qe[1].type==="blockQuoteMarker"||qe[1].type==="listItemIndent"))break}Re&&(!ie||Re<ie)&&(Z._spread=!0),Z.end=Object.assign({},ie?ne[ie][1].start:Me[1].end),ne.splice(ie||E,0,["exit",Z,Me[2]]),E++,_++}if(Me[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},Me[1].start),end:void 0};Z=Be,ne.splice(E,0,["enter",Be,Me[2]]),E++,_++,Re=void 0,tt=!0}}}return ne[x][1]._spread=H,_}function l(ne,x){return _;function _(E){f.call(this,ne(E),E),x&&x.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(ne,x,_){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([x,_||void 0]),ne.position={start:Ts(x.start),end:void 0}}function p(ne){return x;function x(_){ne&&ne.call(this,_),m.call(this,_)}}function m(ne,x){const _=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==ne.type&&(x?x.call(this,ne,E[0]):(E[1]||Sw).call(this,ne,E[0]));else throw new Error("Cannot close `"+ne.type+"` ("+vu({start:ne.start,end:ne.end})+"): it’s not open");_.position.end=Ts(ne.end)}function y(){return HM(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function A(ne){if(this.data.expectingFirstListItemValue){const x=this.stack[this.stack.length-2];x.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.lang=ne}function P(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.meta=ne}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function G(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.value=ne.replace(/(\r?\n|\r)$/g,"")}function te(ne){const x=this.resume(),_=this.stack[this.stack.length-1];_.label=x,_.identifier=Lo(this.sliceSerialize(ne)).toLowerCase()}function J(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.title=ne}function fe(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.url=ne}function ae(ne){const x=this.stack[this.stack.length-1];if(!x.depth){const _=this.sliceSerialize(ne).length;x.depth=_}}function X(){this.data.setextHeadingSlurpLineEnding=!0}function z(ne){const x=this.stack[this.stack.length-1];x.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function k(ne){const _=this.stack[this.stack.length-1].children;let E=_[_.length-1];(!E||E.type!=="text")&&(E=Wt(),E.position={start:Ts(ne.start),end:void 0},_.push(E)),this.stack.push(E)}function O(ne){const x=this.stack.pop();x.value+=this.sliceSerialize(ne),x.position.end=Ts(ne.end)}function U(ne){const x=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _=x.children[x.children.length-1];_.position.end=Ts(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(x.type)&&(k.call(this,ne),O.call(this,ne))}function j(){this.data.atHardBreak=!0}function N(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.value=ne}function Ee(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.value=ne}function we(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.value=ne}function me(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const x=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=x,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Te(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const x=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=x,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function be(ne){const x=this.sliceSerialize(ne),_=this.stack[this.stack.length-2];_.label=qU(x),_.identifier=Lo(x).toLowerCase()}function He(){const ne=this.stack[this.stack.length-1],x=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,_.type==="link"){const E=ne.children;_.children=E}else _.alt=x}function R(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.url=ne}function oe(){const ne=this.resume(),x=this.stack[this.stack.length-1];x.title=ne}function _e(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ve(ne){const x=this.resume(),_=this.stack[this.stack.length-1];_.label=x,_.identifier=Lo(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function Ne(ne){this.data.characterReferenceType=ne.type}function xe(ne){const x=this.sliceSerialize(ne),_=this.data.characterReferenceType;let E;_?(E=tS(x,_==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=ay(x);const D=this.stack[this.stack.length-1];D.value+=E}function dt(ne){const x=this.stack.pop();x.position.end=Ts(ne.end)}function Le(ne){O.call(this,ne);const x=this.stack[this.stack.length-1];x.url=this.sliceSerialize(ne)}function at(ne){O.call(this,ne);const x=this.stack[this.stack.length-1];x.url="mailto:"+this.sliceSerialize(ne)}function Qe(){return{type:"blockquote",children:[]}}function It(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function zn(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function er(){return{type:"html",value:""}}function kr(){return{type:"image",title:null,url:"",alt:null}}function Er(){return{type:"link",title:null,url:"",children:[]}}function jn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function Fn(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function wr(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function Tn(){return{type:"thematicBreak"}}}function Ts(t){return{line:t.line,column:t.column,offset:t.offset}}function fS(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?fS(t,i):QU(t,i)}}function QU(t,e){let n;for(n in e)if(hS.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function Sw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is still open")}function $U(t){const e=this;e.parser=n;function n(i){return GU(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function YU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function XU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function WU(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function ZU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function JU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eP(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),a=nl(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let c,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),c=t.footnoteOrder.length):c=l+1,f+=1,t.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,m),t.applyData(e,m)}function tP(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nP(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function dS(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=i:a.push({type:"text",value:i}),a}function rP(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return dS(t,e);const a={src:nl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function iP(t,e){const n={src:nl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function sP(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function aP(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return dS(t,e);const a={href:nl(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function oP(t,e){const n={href:nl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function lP(t,e,n){const i=t.all(e),a=n?uP(n):pS(e),l={},c=[];if(typeof e.checked=="boolean"){const y=i[0];let w;y&&y.type==="element"&&y.tagName==="p"?w=y:(w={type:"element",tagName:"p",properties:{},children:[]},i.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const y=i[f];(a||f!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?c.push(...y.children):c.push(y)}const p=i[i.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return t.patch(e,m),t.applyData(e,m)}function uP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=pS(n[i])}return e}function pS(t){const e=t.spread;return e??t.children.length>1}function cP(t,e){const n={},i=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<i.length;){const c=i[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function hP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function dP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pP(t,e){const n=t.all(e),i=n.shift(),a=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=ny(e.children[1]),p=$b(e.children[e.children.length-1]);f&&p&&(c.position={start:f,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function mP(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,f=c?c.length:e.children.length;let p=-1;const m=[];for(;++p<f;){const w=e.children[p],A={},b=c?c[p]:void 0;b&&(A.align=b);let P={type:"element",tagName:l,properties:A,children:[]};w&&(P.children=t.all(w),t.patch(w,P),P=t.applyData(w,P)),m.push(P)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,y),t.applyData(e,y)}function gP(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Aw=9,xw=32;function yP(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),a=0;const l=[];for(;i;)l.push(Rw(e.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(e);return l.push(Rw(e.slice(a),a>0,!1)),l.join("")}function Rw(t,e,n){let i=0,a=t.length;if(e){let l=t.codePointAt(i);for(;l===Aw||l===xw;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(a-1);for(;l===Aw||l===xw;)a--,l=t.codePointAt(a-1)}return a>i?t.slice(i,a):""}function _P(t,e){const n={type:"text",value:yP(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function vP(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const EP={blockquote:YU,break:XU,code:WU,delete:ZU,emphasis:JU,footnoteReference:eP,heading:tP,html:nP,imageReference:rP,image:iP,inlineCode:sP,linkReference:aP,link:oP,listItem:lP,list:cP,paragraph:hP,root:fP,strong:dP,table:pP,tableCell:gP,tableRow:mP,text:_P,thematicBreak:vP,toml:vh,yaml:vh,definition:vh,footnoteDefinition:vh};function vh(){}const mS=-1,kf=0,wu=1,tf=2,uy=3,cy=4,hy=5,fy=6,gS=7,yS=8,Iw=typeof self=="object"?self:globalThis,wP=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),i=a=>{if(t.has(a))return t.get(a);const[l,c]=e[a];switch(l){case kf:case mS:return n(c,a);case wu:{const f=n([],a);for(const p of c)f.push(i(p));return f}case tf:{const f=n({},a);for(const[p,m]of c)f[i(p)]=i(m);return f}case uy:return n(new Date(c),a);case cy:{const{source:f,flags:p}=c;return n(new RegExp(f,p),a)}case hy:{const f=n(new Map,a);for(const[p,m]of c)f.set(i(p),i(m));return f}case fy:{const f=n(new Set,a);for(const p of c)f.add(i(p));return f}case gS:{const{name:f,message:p}=c;return n(new Iw[f](p),a)}case yS:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return n(new DataView(f),c)}}return n(new Iw[l](c),a)};return i},Cw=t=>wP(new Map,t)(0),So="",{toString:TP}={},{keys:bP}=Object,lu=t=>{const e=typeof t;if(e!=="object"||!t)return[kf,e];const n=TP.call(t).slice(8,-1);switch(n){case"Array":return[wu,So];case"Object":return[tf,So];case"Date":return[uy,So];case"RegExp":return[cy,So];case"Map":return[hy,So];case"Set":return[fy,So];case"DataView":return[wu,n]}return n.includes("Array")?[wu,n]:n.includes("Error")?[gS,n]:[tf,n]},Eh=([t,e])=>t===kf&&(e==="function"||e==="symbol"),SP=(t,e,n,i)=>{const a=(c,f)=>{const p=i.push(c)-1;return n.set(f,p),p},l=c=>{if(n.has(c))return n.get(c);let[f,p]=lu(c);switch(f){case kf:{let y=c;switch(p){case"bigint":f=yS,y=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return a([mS],c)}return a([f,y],c)}case wu:{if(p){let A=c;return p==="DataView"?A=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(A=new Uint8Array(c)),a([p,[...A]],c)}const y=[],w=a([f,y],c);for(const A of c)y.push(l(A));return w}case tf:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(e&&"toJSON"in c)return l(c.toJSON());const y=[],w=a([f,y],c);for(const A of bP(c))(t||!Eh(lu(c[A])))&&y.push([l(A),l(c[A])]);return w}case uy:return a([f,c.toISOString()],c);case cy:{const{source:y,flags:w}=c;return a([f,{source:y,flags:w}],c)}case hy:{const y=[],w=a([f,y],c);for(const[A,b]of c)(t||!(Eh(lu(A))||Eh(lu(b))))&&y.push([l(A),l(b)]);return w}case fy:{const y=[],w=a([f,y],c);for(const A of c)(t||!Eh(lu(A)))&&y.push(l(A));return w}}const{message:m}=c;return a([f,{name:p,message:m}],c)};return l},kw=(t,{json:e,lossy:n}={})=>{const i=[];return SP(!(e||n),!!e,new Map,i)(t),i},nf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Cw(kw(t,e)):structuredClone(t):(t,e)=>Cw(kw(t,e));function AP(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function xP(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function RP(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||AP,i=t.options.footnoteBackLabel||xP,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const y=t.all(m),w=String(m.identifier).toUpperCase(),A=nl(w.toLowerCase());let b=0;const P=[],B=t.footnoteCounts.get(w);for(;B!==void 0&&++b<=B;){P.length>0&&P.push({type:"text",value:" "});let te=typeof n=="string"?n:n(p,b);typeof te=="string"&&(te={type:"text",value:te}),P.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+A+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,b),className:["data-footnote-backref"]},children:Array.isArray(te)?te:[te]})}const F=y[y.length-1];if(F&&F.type==="element"&&F.tagName==="p"){const te=F.children[F.children.length-1];te&&te.type==="text"?te.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...P)}else y.push(...P);const G={type:"element",tagName:"li",properties:{id:e+"fn-"+A},children:t.wrap(y,!0)};t.patch(m,G),f.push(G)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...nf(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const _S=function(t){if(t==null)return DP;if(typeof t=="function")return Df(t);if(typeof t=="object")return Array.isArray(t)?IP(t):CP(t);if(typeof t=="string")return kP(t);throw new Error("Expected function, string, or object as test")};function IP(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=_S(t[n]);return Df(i);function i(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function CP(t){const e=t;return Df(n);function n(i){const a=i;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function kP(t){return Df(e);function e(n){return n&&n.type===t}}function Df(t){return e;function e(n,i,a){return!!(NP(n)&&t.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function DP(){return!0}function NP(t){return t!==null&&typeof t=="object"&&"type"in t}const vS=[],OP=!0,Dw=!1,MP="skip";function LP(t,e,n,i){let a;typeof e=="function"&&typeof n!="function"?(i=n,n=e):a=e;const l=_S(a),c=i?-1:1;f(t,void 0,[])();function f(p,m,y){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const b=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(A,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return A;function A(){let b=vS,P,B,F;if((!e||l(p,m,y[y.length-1]||void 0))&&(b=UP(n(p,y)),b[0]===Dw))return b;if("children"in p&&p.children){const G=p;if(G.children&&b[0]!==MP)for(B=(i?G.children.length:-1)+c,F=y.concat(G);B>-1&&B<G.children.length;){const te=G.children[B];if(P=f(te,B,F)(),P[0]===Dw)return P;B=typeof P[1]=="number"?P[1]:B+c}}return b}}}function UP(t){return Array.isArray(t)?t:typeof t=="number"?[OP,t]:t==null?vS:[t]}function ES(t,e,n,i){let a,l,c;typeof e=="function"?(l=void 0,c=e,a=n):(l=e,c=n,a=i),LP(t,l,f,a);function f(p,m){const y=m[m.length-1],w=y?y.children.indexOf(p):void 0;return c(p,w,y)}}const zm={}.hasOwnProperty,PP={};function VP(t,e){const n=e||PP,i=new Map,a=new Map,l=new Map,c={...EP,...n.handlers},f={all:m,applyData:zP,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:BP,wrap:FP};return ES(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const w=y.type==="definition"?i:a,A=String(y.identifier).toUpperCase();w.has(A)||w.set(A,y)}}),f;function p(y,w){const A=y.type,b=f.handlers[A];if(zm.call(f.handlers,A)&&b)return b(f,y,w);if(f.options.passThrough&&f.options.passThrough.includes(A)){if("children"in y){const{children:B,...F}=y,G=nf(F);return G.children=f.all(y),G}return nf(y)}return(f.options.unknownHandler||jP)(f,y,w)}function m(y){const w=[];if("children"in y){const A=y.children;let b=-1;for(;++b<A.length;){const P=f.one(A[b],y);if(P){if(b&&A[b-1].type==="break"&&(!Array.isArray(P)&&P.type==="text"&&(P.value=Nw(P.value)),!Array.isArray(P)&&P.type==="element")){const B=P.children[0];B&&B.type==="text"&&(B.value=Nw(B.value))}Array.isArray(P)?w.push(...P):w.push(P)}}}return w}}function BP(t,e){t.position&&(e.position=EM(t))}function zP(t,e){let n=e;if(t&&t.data){const i=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,nf(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function jP(t,e){const n=e.data||{},i="value"in e&&!(zm.call(n,"hProperties")||zm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function FP(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Nw(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Ow(t,e){const n=VP(t,e),i=n.one(t,void 0),a=RP(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function qP(t,e){return t&&"run"in t?async function(n,i){const a=Ow(n,{file:i,...e});await t.run(a,i)}:function(n,i){return Ow(n,{file:i,...t||e})}}function Mw(t){if(t)throw t}var tm,Lw;function HP(){if(Lw)return tm;Lw=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},l=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var y=t.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!w)return!1;var A;for(A in m);return typeof A>"u"||t.call(m,A)},c=function(m,y){n&&y.name==="__proto__"?n(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},f=function(m,y){if(y==="__proto__")if(t.call(m,y)){if(i)return i(m,y).value}else return;return m[y]};return tm=function p(){var m,y,w,A,b,P,B=arguments[0],F=1,G=arguments.length,te=!1;for(typeof B=="boolean"&&(te=B,B=arguments[1]||{},F=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});F<G;++F)if(m=arguments[F],m!=null)for(y in m)w=f(B,y),A=f(m,y),B!==A&&(te&&A&&(l(A)||(b=a(A)))?(b?(b=!1,P=w&&a(w)?w:[]):P=w&&l(w)?w:{},c(B,{name:y,newValue:p(te,P,A)})):typeof A<"u"&&c(B,{name:y,newValue:A}));return B},tm}var GP=HP();const nm=Cu(GP);function jm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function KP(){const t=[],e={run:n,use:i};return e;function n(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...m){const y=t[++l];let w=-1;if(p){c(p);return}for(;++w<a.length;)(m[w]===null||m[w]===void 0)&&(m[w]=a[w]);a=m,y?QP(y,f)(...m):c(null,...m)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function QP(t,e){let n;return i;function i(...c){const f=t.length>c.length;let p;f&&c.push(a);try{p=t.apply(this,c)}catch(m){const y=m;if(f&&n)throw y;return a(y)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){n||(n=!0,e(c,...f))}function l(c){a(null,c)}}const Kr={basename:$P,dirname:YP,extname:XP,join:WP,sep:"/"};function $P(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Hu(t);let n=0,i=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let c=-1,f=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(t.codePointAt(a)===e.codePointAt(f--)?f<0&&(i=a):(f=-1,i=c));return n===i?i=c:i<0&&(i=t.length),t.slice(n,i)}function YP(t){if(Hu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function XP(t){Hu(t);let e=t.length,n=-1,i=0,a=-1,l=0,c;for(;e--;){const f=t.codePointAt(e);if(f===47){if(c){i=e+1;break}continue}n<0&&(c=!0,n=e+1),f===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===i+1?"":t.slice(a,n)}function WP(...t){let e=-1,n;for(;++e<t.length;)Hu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ZP(n)}function ZP(t){Hu(t);const e=t.codePointAt(0)===47;let n=JP(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function JP(t,e){let n="",i=0,a=-1,l=0,c=-1,f,p;for(;++c<=t.length;){if(c<t.length)f=t.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),a=c,l=0;continue}}else if(n.length>0){n="",i=0,a=c,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(a+1,c):n=t.slice(a+1,c),i=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return n}function Hu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const e5={cwd:t5};function t5(){return"/"}function Fm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function n5(t){if(typeof t=="string")t=new URL(t);else if(!Fm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return r5(t)}function r5(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const rm=["history","path","basename","stem","extname","dirname"];class wS{constructor(e){let n;e?Fm(e)?n={path:e}:typeof e=="string"||i5(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":e5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<rm.length;){const l=rm[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)rm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Kr.basename(this.path):void 0}set basename(e){sm(e,"basename"),im(e,"basename"),this.path=Kr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Kr.dirname(this.path):void 0}set dirname(e){Uw(this.basename,"dirname"),this.path=Kr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Kr.extname(this.path):void 0}set extname(e){if(im(e,"extname"),Uw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Fm(e)&&(e=n5(e)),sm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Kr.basename(this.path,this.extname):void 0}set stem(e){sm(e,"stem"),im(e,"stem"),this.path=Kr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const a=this.message(e,n,i);throw a.fatal=!0,a}info(e,n,i){const a=this.message(e,n,i);return a.fatal=void 0,a}message(e,n,i){const a=new wn(e,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function im(t,e){if(t&&t.includes(Kr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Kr.sep+"`")}function sm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Uw(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function i5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const s5=function(t){const i=this.constructor.prototype,a=i[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},a5={}.hasOwnProperty;class dy extends s5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=KP()}copy(){const e=new dy;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(nm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(lm("data",this.frozen),this.namespace[e]=n,this):a5.call(this.namespace,e)&&this.namespace[e]||void 0:e?(lm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(e,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wh(e),i=this.parser||this.Parser;return am("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),am("process",this.parser||this.Parser),om("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,c){const f=wh(e),p=i.parse(f);i.run(p,f,function(y,w,A){if(y||!w||!A)return m(y);const b=w,P=i.stringify(b,A);u5(P)?A.value=P:A.result=P,m(y,A)});function m(y,w){y||!w?c(y):l?l(w):n(void 0,w)}}}processSync(e){let n=!1,i;return this.freeze(),am("processSync",this.parser||this.Parser),om("processSync",this.compiler||this.Compiler),this.process(e,a),Vw("processSync","process",n),i;function a(l,c){n=!0,Mw(l),i=c}}run(e,n,i){Pw(e),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(c,f){const p=wh(n);a.run(e,p,m);function m(y,w,A){const b=w||e;y?f(y):c?c(b):i(void 0,b,A)}}}runSync(e,n){let i=!1,a;return this.run(e,n,l),Vw("runSync","run",i),a;function l(c,f){Mw(c),a=f,i=!0}}stringify(e,n){this.freeze();const i=wh(n),a=this.compiler||this.Compiler;return om("stringify",a),Pw(e),a(e,i)}use(e,...n){const i=this.attachers,a=this.namespace;if(lm("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...w]=m;p(y,w)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=nm(!0,a.settings,m.settings))}function f(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const w=m[y];l(w)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,y){let w=-1,A=-1;for(;++w<i.length;)if(i[w][0]===m){A=w;break}if(A===-1)i.push([m,...y]);else if(y.length>0){let[b,...P]=y;const B=i[A][1];jm(B)&&jm(b)&&(b=nm(!0,B,b)),i[A]=[m,b,...P]}}}}const o5=new dy().freeze();function am(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function om(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function lm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Pw(t){if(!jm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Vw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wh(t){return l5(t)?t:new wS(t)}function l5(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function u5(t){return typeof t=="string"||c5(t)}function c5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const h5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bw=[],zw={allowDangerousHtml:!0},f5=/^(https?|ircs?|mailto|xmpp)$/i,d5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function p5(t){const e=m5(t),n=g5(t);return y5(e.runSync(e.parse(n),n),t)}function m5(t){const e=t.rehypePlugins||Bw,n=t.remarkPlugins||Bw,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zw}:zw;return o5().use($U).use(n).use(qP,i).use(e)}function g5(t){const e=t.children||"",n=new wS;return typeof e=="string"&&(n.value=e),n}function y5(t,e){const n=e.allowedElements,i=e.allowElement,a=e.components,l=e.disallowedElements,c=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||_5;for(const y of d5)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+h5+y.id,void 0);return ES(t,m),xM(t,{Fragment:q.Fragment,components:a,ignoreInvalidStyle:!0,jsx:q.jsx,jsxs:q.jsxs,passKeys:!0,passNode:!0});function m(y,w,A){if(y.type==="raw"&&A&&typeof w=="number")return c?A.children.splice(w,1):A.children[w]={type:"text",value:y.value},w;if(y.type==="element"){let b;for(b in Zp)if(Object.hasOwn(Zp,b)&&Object.hasOwn(y.properties,b)){const P=y.properties[b],B=Zp[b];(B===null||B.includes(y.tagName))&&(y.properties[b]=p(String(P||""),b,y))}}if(y.type==="element"){let b=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!b&&i&&typeof w=="number"&&(b=!i(y,w,A)),b&&A&&typeof w=="number")return f&&y.children?A.children.splice(w,1,...y.children):A.children.splice(w,1),w}}}function _5(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||i!==-1&&e>i||f5.test(t.slice(0,e))?t:""}const TS=(t,e)=>{const n=`
    @page { size: A4 landscape; margin: 1cm; }
    body { font-family: sans-serif; padding: 0; font-size: 14px; }
    .page { display: flex; align-items: stretch; page-break-after: always; height: calc(100vh - 2cm); }
    .page:last-child { page-break-after: auto; }
    .side { width: 20%; overflow: hidden; }
    .side img { width: 100%; height: 100%; object-fit: cover; object-position: center; }
    .content { width: 60%; padding: 0 10px; box-sizing: border-box; }
    h1 { text-align: center; margin: 0 0 10px; }
    .desc { white-space: pre-wrap; margin-bottom: 10px; }
    .tags { margin-bottom: 10px; }
    .tags span { background: #eee; padding: 2px 4px; margin-right: 4px; border-radius: 3px; }
    .author { text-align: right; }
  `,i=t.map(c=>{const f=e[c.authorUid],p=c.tags.map(y=>`<span>${y}</span>`).join(" "),m=c.customDescription.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");return`
        <div class="page">
          <div class="side">${c.imageURL?`<img src="${c.imageURL}" />`:""}</div>
          <div class="content">
            <h1>${c.name}</h1>
            <div class="desc">${m}</div>
            <div class="tags">${p}</div>
            <div class="author">${f?f.displayName:""}</div>
          </div>
          <div class="side">${c.imageURL2?`<img src="${c.imageURL2}" />`:""}</div>
        </div>`}).join(""),a=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Print</title>
  <style>${n}</style>
</head>
<body onload="window.print()">
${i}
</body>
</html>`,l=window.open("","_blank");l&&(l.document.write(a),l.document.close())},v5=({enemy:t,onClose:e})=>{const[n,i]=se.useState(t.name),[a,l]=se.useState(t.customDescription),[c,f]=se.useState(t.tags||[]),[p,m]=se.useState(t.customTags||[]),[y,w]=se.useState(t.imageURL||""),[A,b]=se.useState(t.imageURL2||""),P=se.useRef(!0),B=se.useCallback(async()=>{const F=js(zi,"eotv-enemies",t.id),G={name:n,customDescription:a,tags:c,customTags:p,imageURL:y,imageURL2:A};t.createdAt||(G.createdAt=new Date().toISOString()),await Dg(F,G)},[t.id,n,a,c,p,y,A]);return se.useEffect(()=>{if(P.current){P.current=!1;return}const F=setTimeout(()=>{B()},800);return()=>clearTimeout(F)},[n,a,c,p,y,A,B]),q.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full flex flex-col sm:flex-row shadow-lg h-full max-w-7xl overflow-hidden",children:[q.jsx(ef,{imageURL:y,setImageURL:w,ownerUid:t.authorUid}),q.jsx(Bb,{name:n,setName:i,customDescription:a,setCustomDescription:l,selectedTags:c,setSelectedTags:f,customTags:p,setCustomTags:m}),q.jsx(ef,{imageURL:A,setImageURL:b,ownerUid:t.authorUid}),q.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:q.jsx(el,{className:"w-6 h-6"})})]})},E5=({enemy:t,author:e,onPrev:n,onNext:i,close:a,onDelete:l})=>{var J;const c=Jo(),f=se.useRef(null),[p,m]=se.useState(!1),[y,w]=se.useState(!1),[A,b]=se.useState(!1),P=!!c&&((J=t.likedBy)==null?void 0:J.includes(c.uid)),B=async()=>{if(!c||!t.id){w(!0);return}const fe=js(zi,"eotv-enemies",t.id);await Dg(fe,{likedBy:P?O1(c.uid):N1(c.uid)})},F=async()=>{if(!t.id)return;const fe=`${window.location.origin}${window.location.pathname}?enemy=${t.id}`;try{await navigator.clipboard.writeText(fe),b(!0),setTimeout(()=>b(!1),2e3)}catch(ae){console.error("Failed to copy link",ae)}},G=()=>{const fe={};e&&(fe[t.authorUid]=e),TS([t],fe)};se.useEffect(()=>{const fe=ae=>{ae.key==="Escape"?p?m(!1):a():!p&&ae.key==="ArrowLeft"?n():!p&&ae.key==="ArrowRight"&&i()};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[p,a,n,i]);const te=fe=>{f.current===fe.target&&(a(),m(!1))};return q.jsxs(q.Fragment,{children:[y&&q.jsx(Zg,{open:y,onClose:()=>w(!1),message:"Для сохранения требуется авторизация"}),q.jsx("div",{ref:f,onClick:te,className:"text-gray-900 dark:text-white shadow-lg cursor-pointer  overflow-hidden fixed z-40 inset-0 p-5  bg-gray-500 dark:bg-black flex justify-center items-center",children:p?q.jsx(v5,{enemy:t,onClose:()=>m(!1)}):q.jsx(q.Fragment,{children:q.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full flex flex-col sm:flex-row shadow-lg h-full max-w-7xl overflow-hidden",children:[q.jsx("img",{src:t.imageURL,alt:t.name,className:"w-full sm:w-3/14 h-40 sm:h-auto object-cover"}),q.jsxs("div",{className:"sm:w-4/7 w-full flex flex-col px-6 overflow-y-auto",children:[q.jsx("h2",{className:"text-2xl font-bold text-center p-6 pt-10",children:t.name}),q.jsx(p5,{components:{p:({node:fe,...ae})=>q.jsx("p",{className:"text-sm mt-2",...ae}),strong:({node:fe,...ae})=>q.jsx("strong",{className:"font-bold",...ae}),em:({node:fe,...ae})=>q.jsx("em",{className:"italic",...ae}),ul:({node:fe,...ae})=>q.jsx("ul",{className:"list-disc list-inside mt-2",...ae}),li:({node:fe,...ae})=>q.jsx("li",{className:"ml-4",...ae})},children:t.customDescription})]}),t.imageURL2&&q.jsx("img",{src:t.imageURL2,alt:"Extra",className:"w-full sm:w-3/14 h-40 sm:h-auto object-cover"}),q.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:q.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((fe,ae)=>q.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:fe},ae))})}),q.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[q.jsx("span",{className:"text-sm",children:(e==null?void 0:e.displayName)||"Unknown"}),q.jsx("img",{src:e==null?void 0:e.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-500"})]}),q.jsxs("div",{className:"absolute top-2 right-10 flex gap-2",children:[q.jsx("button",{onClick:B,title:P?"Сохранено":"Сохранить",className:"text-gray-300 hover:scale-110 transition",children:P?q.jsx(Jg,{className:"w-6 h-6"}):q.jsx(Xg,{className:"w-6 h-6"})}),q.jsx("button",{onClick:F,title:"Поделиться",className:"text-gray-300 hover:scale-110 transition",children:q.jsx(D4,{className:"w-6 h-6"})}),q.jsx("button",{onClick:G,title:"Печать",className:"text-gray-300 hover:scale-110 transition",children:q.jsx(P4,{className:"w-6 h-6"})}),c&&c.uid===t.authorUid&&q.jsxs(q.Fragment,{children:[q.jsx("button",{onClick:()=>m(!0),className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:q.jsx(O4,{className:"w-6 h-6"})}),q.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:q.jsx(z4,{className:"w-6 h-6"})})]})]}),A&&q.jsx("div",{className:"absolute top-10 right-10 bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white text-xs px-2 py-1 rounded-md shadow",children:"Ссылка скопирована"}),q.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer drop-shadow-xl",children:q.jsx(el,{className:"w-6 h-6"})}),q.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-200 dark:bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:n,children:q.jsx(A4,{className:"w-5 h-5 text-gray-900 dark:text-white"})}),q.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-200 dark:bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:i,children:q.jsx(R4,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]})})},t.id)]})},w5=()=>q.jsxs("footer",{className:"text-center text-gray-600 dark:text-gray-400 p-4 flex items-center justify-center gap-2",children:[q.jsx("span",{children:"Eugen Zha"}),q.jsxs("a",{href:"https://t.me/d320stories",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 link",children:[q.jsx("img",{src:"./telegram.svg",alt:"Telegram",className:"w-5 h-5"}),"t.me/d320stories"]})]}),T5=(t,e,n,i)=>{const a=nb(Lb,`avatars/${t}/${e.name}`),l=eb(a,e);l.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;i(f)},c=>{console.error("Ошибка загрузки:",c)},async()=>{const c=await tb(l.snapshot.ref);n(c)})},b5=({avatarURL:t,setAvatarURL:e,ownerUid:n,className:i})=>{const[a,l]=se.useState(0),c=p=>{p&&T5(n,p,e,l)},f=p=>{p.preventDefault(),c(p.dataTransfer.files[0])};return q.jsxs("div",{className:`flex items-center justify-center bg-gray-200 dark:bg-gray-800 relative overflow-hidden group ${i||""}`,onDrop:f,onDragOver:p=>p.preventDefault(),children:[t&&q.jsx("img",{src:t,className:"object-cover w-full h-full",alt:""}),q.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),q.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[q.jsx(Pb,{className:"w-8 h-8"}),q.jsx("span",{className:"text-xs",children:"Нажмите или перетащите файл"})]}),a>0&&a<100&&q.jsxs("span",{className:"absolute bottom-2 left-10 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},S5=({onClose:t})=>{const e=Jo(),n=E4(),[i,a]=se.useState((e==null?void 0:e.displayName)||""),[l,c]=se.useState((e==null?void 0:e.photoURL)||""),f=se.useRef(null);se.useEffect(()=>{const m=w=>{f.current&&!f.current.contains(w.target)&&t()},y=w=>{w.key==="Escape"&&t()};return document.addEventListener("mousedown",m),document.addEventListener("keydown",y),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",y)}},[t]);const p=async()=>{if(!e)return;await tO(e,{displayName:i,photoURL:l}),await e.reload();const m=Ru.currentUser;n(m?{...m}:null),await k1(js(zi,"users",e.uid),{displayName:i,photoURL:l},{merge:!0}),t()};return e?q.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5 bg-gray-500 dark:bg-black flex items-center justify-center",onClick:t,children:q.jsxs("div",{ref:f,role:"dialog",onClick:m=>m.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-md flex flex-col shadow-lg overflow-hidden p-6 items-center",children:[q.jsx(b5,{avatarURL:l,setAvatarURL:c,ownerUid:e.uid,className:"w-32 h-32 rounded-full"}),q.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue"}),q.jsxs("div",{className:"flex gap-4 mt-6 w-full",children:[q.jsxs("button",{type:"button",onClick:t,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-500 transition cursor-pointer",children:[q.jsx(el,{className:"w-5 h-5"}),"Отмена"]}),q.jsx("button",{type:"button",onClick:p,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:"Сохранить"})]})]})}):null},A5=Tg(zi,"users"),x5=()=>{const t=Jo(),[e,n]=se.useState(!1),[i,a]=se.useState(!1),l=se.useRef(null);se.useEffect(()=>{if(!t)return;const m=js(A5,t.uid);k1(m,{displayName:t.displayName||"Unknown",photoURL:t.photoURL||""},{merge:!0})},[t]),se.useEffect(()=>{const m=y=>{l.current&&!l.current.contains(y.target)&&n(!1)};return e&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[e]);const c=async()=>{const m=new Ir;await Ob(Ru,m)},f=async()=>{await sO(Ru)},p=()=>{a(!0),n(!1)};return q.jsx("div",{className:"relative flex items-center gap-4",children:t?q.jsxs(q.Fragment,{children:[q.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 focus:outline-none hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-1 cursor-pointer",children:[q.jsx("img",{src:t.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-600 shadow"}),q.jsx("span",{className:"text-sm",children:t.displayName||"Unknown"})]}),e&&q.jsxs("div",{ref:l,className:"absolute right-0 top-full mt-2 w-40 bg-white dark:bg-gray-800 rounded shadow-lg text-sm",children:[q.jsxs("button",{onClick:p,className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[q.jsx(C4,{className:"w-5 h-5"}),"Настройки"]}),q.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-red-400 cursor-pointer",children:[q.jsx(T4,{className:"w-5 h-5"}),"Выход"]})]}),i&&q.jsx(S5,{onClose:()=>a(!1)})]}):q.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-700 dark:bg-sky-300 hover:bg-blue-500 dark:hover:bg-sky-200 text-white dark:text-black font-semibold rounded transition cursor-pointer",children:"Войти через Google"})})},R5=()=>{const[t,e]=se.useState(()=>localStorage.getItem("theme")!=="light");se.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{e(a=>!a)},i=t?"translate-x-6":"";return q.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[q.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!t,onChange:n}),q.jsxs("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer-focus:ring-2 peer-focus:ring-blue-700 dark:peer-focus:ring-sky-300 dark:bg-gray-600",children:[q.jsx(X4,{className:"absolute left-1 top-1 w-4 h-4 text-yellow-400"}),q.jsx(Q4,{className:"absolute right-1 top-1 w-4 h-4 text-blue-700"}),q.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${i}`})]})]})},I5=()=>q.jsx("header",{className:"text-gray-900 dark:text-sky-300",children:q.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:q.jsxs("div",{className:"flex h-16 items-center justify-between",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("img",{src:"./logo.png",alt:"d320",className:"w-10 h-10"}),q.jsx("h1",{className:"text-2xl font-bold text-blue-700 dark:text-sky-300",children:"d320"})]}),q.jsxs("div",{className:"flex items-center gap-4",children:[q.jsx(R5,{}),q.jsx(x5,{})]})]})})}),C5=({search:t,setSearch:e,tag:n,setTag:i,liked:a,setLiked:l,author:c,setAuthor:f,sort:p,setSort:m,authors:y,onPrint:w})=>{const A=Wg(),[b,P]=se.useState(!1),B=se.useRef(null),F=c?y[c]:void 0;return se.useEffect(()=>{if(!b)return;const G=J=>{B.current&&!B.current.contains(J.target)&&P(!1)},te=J=>{J.key==="Escape"&&P(!1)};return document.addEventListener("mousedown",G),document.addEventListener("keydown",te),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("keydown",te)}},[b]),q.jsxs("div",{className:"flex flex-wrap gap-4 my-4 items-center",children:[q.jsx("input",{type:"text",placeholder:"Поиск",value:t,onChange:G=>e(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white flex-1 h-10"}),q.jsxs("button",{type:"button",title:"Избранное",onClick:()=>l(!a),className:"text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 transition flex items-center gap-1 h-10 px-2 cursor-pointer",children:[a?q.jsx(Jg,{className:"w-5 h-5"}):q.jsx(Xg,{className:"w-5 h-5"}),q.jsx("span",{className:"text-sm",children:"Избранное"})]}),q.jsxs("select",{value:n,onChange:G=>i(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[q.jsx("option",{value:"",children:"Тег"}),A.map(G=>q.jsx("option",{value:G,children:G},G))]}),q.jsxs("div",{className:"relative",children:[q.jsxs("button",{type:"button",onClick:()=>P(G=>!G),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white flex items-center gap-2 h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[F&&q.jsx("img",{src:F.photoURL,alt:"avatar",className:"w-6 h-6 rounded-full"}),q.jsx("span",{children:F?F.displayName:"Автор"})]}),b&&q.jsxs("div",{ref:B,className:"absolute left-0 z-10 bg-white dark:bg-gray-800 rounded shadow p-2 mt-1 max-h-60 overflow-y-auto w-48",children:[q.jsx("div",{className:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{f(""),P(!1)},children:q.jsx("span",{children:"Все авторы"})}),Object.entries(y).map(([G,te])=>q.jsxs("div",{className:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{f(G),P(!1)},children:[q.jsx("img",{src:te.photoURL,alt:te.displayName,className:"w-6 h-6 rounded-full"}),q.jsx("span",{children:te.displayName})]},G))]})]}),q.jsxs("button",{type:"button",onClick:()=>{e(""),i(""),l(!1),f(""),m("name")},className:"flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:[q.jsx(el,{className:"w-5 h-5"}),"Сбросить фильтры"]}),q.jsx("span",{className:"text-sm",children:"Сортировка:"}),q.jsxs("select",{value:p,onChange:G=>m(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[q.jsx("option",{value:"name",children:"Имя"}),q.jsx("option",{value:"date",children:"Дата"})]}),q.jsx("button",{type:"button",onClick:w,className:"ml-auto flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:"Напечатать"})]})},k5=async t=>{const e={};return await Promise.all(t.map(async n=>{const i=await Wk(js(zi,"users",n));i.exists()&&(e[n]=i.data())})),e},D5=()=>{const[t,e]=se.useState([]),[n,i]=se.useState({}),[a,l]=se.useState(null),[c,f]=se.useState(null),[p,m]=se.useState(""),[y,w]=se.useState(""),[A,b]=se.useState(!1),[P,B]=se.useState(""),[F,G]=se.useState("name"),te=Jo();se.useEffect(()=>tD(Ub,U=>{const j=U.docs.map(N=>({id:N.id,...N.data()}));e(j)}),[]),se.useEffect(()=>{const U=new URLSearchParams(window.location.search).get("enemy");U&&f(U)},[]),se.useEffect(()=>{const O=[...new Set(t.map(U=>U.authorUid))];k5(O).then(i)},[t,te]);const J=async O=>{te&&window.confirm("Удалить этого противника?")&&(await Jk(js(zi,"eotv-enemies",O)),l(null))},fe=()=>{TS(X,n)},ae=p.toLowerCase();let X=t.filter(O=>O.name.toLowerCase().includes(ae)||O.customDescription.toLowerCase().includes(ae)||O.tags.some(U=>U.toLowerCase().includes(ae))||O.customTags.some(U=>U.toLowerCase().includes(ae)));y&&(X=X.filter(O=>O.tags.includes(y))),A&&te&&(X=X.filter(O=>{var U;return(U=O.likedBy)==null?void 0:U.includes(te.uid)})),P&&(X=X.filter(O=>O.authorUid===P)),X=[...X],F==="name"?X.sort((O,U)=>O.name.localeCompare(U.name)):X.sort((O,U)=>{const j=O.createdAt?new Date(O.createdAt).getTime():0;return(U.createdAt?new Date(U.createdAt).getTime():0)-j}),se.useEffect(()=>{if(!c)return;const O=X.findIndex(U=>U.id===c);O!==-1&&(l(O),f(null))},[X,c]);const z=()=>{!X.length||a===null||l((a+1)%X.length)},M=()=>{!X.length||a===null||l((a-1+X.length)%X.length)},k=a!==null?X[a]:null;return se.useEffect(()=>{if(k===null)return;const O=U=>{U.key==="ArrowLeft"?M():U.key==="ArrowRight"?z():U.key==="Escape"&&l(null)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[k,M,z]),se.useEffect(()=>{const O=new URLSearchParams(window.location.search);k?O.set("enemy",k.id):O.delete("enemy");const U=O.toString(),j=U?`${window.location.pathname}?${U}`:window.location.pathname;window.history.replaceState(null,"",j)},[k]),q.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 dark:bg-slate-900 dark:text-sky-200",children:[q.jsx(I5,{}),q.jsxs("main",{className:"p-6 max-w-screen-xl mx-auto",children:[q.jsx("h2",{className:"text-3xl font-bold text-center",children:"Каталог противников для игры Грань Вселенной"}),q.jsxs("p",{className:"text-center text-gray-400 p-4",children:["Официальный сайт игры: ",q.jsxs("a",{className:"link",href:"http://eotvrpg.ru/",target:"_blank",children:[q.jsx("img",{src:"./eotv-logo.png",alt:"EOTV",className:"w-5 h-5 inline-block"}),"eotvrpg.ru"]})]}),q.jsx(C5,{search:p,setSearch:m,tag:y,setTag:w,liked:A,setLiked:b,author:P,setAuthor:B,sort:F,setSort:G,authors:n,onPrint:fe}),q.jsx(Z4,{enemies:X,users:n,onSelect:l})]}),k&&q.jsx(E5,{enemy:k,author:n[k.authorUid],onPrev:M,onNext:z,close:()=>l(null),onDelete:()=>J(k.id)}),q.jsx(w5,{})]})},N5=hx.createRoot(document.getElementById("root"));N5.render(q.jsx(rx.StrictMode,{children:q.jsx(v4,{children:q.jsx(q4,{children:q.jsx(D5,{})})})}));
