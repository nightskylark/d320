(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={},wl={},bb;function GT(){if(bb)return wl;bb=1,wl.byteLength=f,wl.toByteArray=p,wl.fromByteArray=w;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=r.length;s<a;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(x){var C=x.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=x.indexOf("=");L===-1&&(L=C);var V=L===C?0:4-L%4;return[L,V]}function f(x){var C=l(x),L=C[0],V=C[1];return(L+V)*3/4-V}function d(x,C,L){return(C+L)*3/4-L}function p(x){var C,L=l(x),V=L[0],H=L[1],Q=new n(d(x,V,H)),$=0,ne=H>0?V-4:V,re;for(re=0;re<ne;re+=4)C=e[x.charCodeAt(re)]<<18|e[x.charCodeAt(re+1)]<<12|e[x.charCodeAt(re+2)]<<6|e[x.charCodeAt(re+3)],Q[$++]=C>>16&255,Q[$++]=C>>8&255,Q[$++]=C&255;return H===2&&(C=e[x.charCodeAt(re)]<<2|e[x.charCodeAt(re+1)]>>4,Q[$++]=C&255),H===1&&(C=e[x.charCodeAt(re)]<<10|e[x.charCodeAt(re+1)]<<4|e[x.charCodeAt(re+2)]>>2,Q[$++]=C>>8&255,Q[$++]=C&255),Q}function y(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[x&63]}function _(x,C,L){for(var V,H=[],Q=C;Q<L;Q+=3)V=(x[Q]<<16&16711680)+(x[Q+1]<<8&65280)+(x[Q+2]&255),H.push(y(V));return H.join("")}function w(x){for(var C,L=x.length,V=L%3,H=[],Q=16383,$=0,ne=L-V;$<ne;$+=Q)H.push(_(x,$,$+Q>ne?ne:$+Q));return V===1?(C=x[L-1],H.push(t[C>>2]+t[C<<4&63]+"==")):V===2&&(C=(x[L-2]<<8)+x[L-1],H.push(t[C>>10]+t[C>>4&63]+t[C<<2&63]+"=")),H.join("")}return wl}var Vf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var vb;function $T(){return vb||(vb=1,Vf.read=function(t,e,n,r,s){var a,l,f=s*8-r-1,d=(1<<f)-1,p=d>>1,y=-7,_=n?s-1:0,w=n?-1:1,x=t[e+_];for(_+=w,a=x&(1<<-y)-1,x>>=-y,y+=f;y>0;a=a*256+t[e+_],_+=w,y-=8);for(l=a&(1<<-y)-1,a>>=-y,y+=r;y>0;l=l*256+t[e+_],_+=w,y-=8);if(a===0)a=1-p;else{if(a===d)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,r),a=a-p}return(x?-1:1)*l*Math.pow(2,a-r)},Vf.write=function(t,e,n,r,s,a){var l,f,d,p=a*8-s-1,y=(1<<p)-1,_=y>>1,w=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:a-1,C=r?1:-1,L=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,l=y):(l=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+_>=1?e+=w/d:e+=w*Math.pow(2,1-_),e*d>=2&&(l++,d/=2),l+_>=y?(f=0,l=y):l+_>=1?(f=(e*d-1)*Math.pow(2,s),l=l+_):(f=e*Math.pow(2,_-1)*Math.pow(2,s),l=0));s>=8;t[n+x]=f&255,x+=C,f/=256,s-=8);for(l=l<<s|f,p+=s;p>0;t[n+x]=l&255,x+=C,l/=256,p-=8);t[n+x-C]|=L*128}),Vf}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Eb;function KT(){return Eb||(Eb=1,function(t){const e=GT(),n=$T(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=Q,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=a(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const S=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(S,b),S.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function l(S){if(S>s)throw new RangeError('The value "'+S+'" is invalid for option "size"');const b=new Uint8Array(S);return Object.setPrototypeOf(b,f.prototype),b}function f(S,b,E){if(typeof S=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(S)}return d(S,b,E)}f.poolSize=8192;function d(S,b,E){if(typeof S=="string")return w(S,b);if(ArrayBuffer.isView(S))return C(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(yn(S,ArrayBuffer)||S&&yn(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yn(S,SharedArrayBuffer)||S&&yn(S.buffer,SharedArrayBuffer)))return L(S,b,E);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=S.valueOf&&S.valueOf();if(M!=null&&M!==S)return f.from(M,b,E);const K=V(S);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return f.from(S[Symbol.toPrimitive]("string"),b,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}f.from=function(S,b,E){return d(S,b,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function p(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function y(S,b,E){return p(S),S<=0?l(S):b!==void 0?typeof E=="string"?l(S).fill(b,E):l(S).fill(b):l(S)}f.alloc=function(S,b,E){return y(S,b,E)};function _(S){return p(S),l(S<0?0:H(S)|0)}f.allocUnsafe=function(S){return _(S)},f.allocUnsafeSlow=function(S){return _(S)};function w(S,b){if((typeof b!="string"||b==="")&&(b="utf8"),!f.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const E=$(S,b)|0;let M=l(E);const K=M.write(S,b);return K!==E&&(M=M.slice(0,K)),M}function x(S){const b=S.length<0?0:H(S.length)|0,E=l(b);for(let M=0;M<b;M+=1)E[M]=S[M]&255;return E}function C(S){if(yn(S,Uint8Array)){const b=new Uint8Array(S);return L(b.buffer,b.byteOffset,b.byteLength)}return x(S)}function L(S,b,E){if(b<0||S.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<b+(E||0))throw new RangeError('"length" is outside of buffer bounds');let M;return b===void 0&&E===void 0?M=new Uint8Array(S):E===void 0?M=new Uint8Array(S,b):M=new Uint8Array(S,b,E),Object.setPrototypeOf(M,f.prototype),M}function V(S){if(f.isBuffer(S)){const b=H(S.length)|0,E=l(b);return E.length===0||S.copy(E,0,0,b),E}if(S.length!==void 0)return typeof S.length!="number"||kr(S.length)?l(0):x(S);if(S.type==="Buffer"&&Array.isArray(S.data))return x(S.data)}function H(S){if(S>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return S|0}function Q(S){return+S!=S&&(S=0),f.alloc(+S)}f.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==f.prototype},f.compare=function(b,E){if(yn(b,Uint8Array)&&(b=f.from(b,b.offset,b.byteLength)),yn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(b)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===E)return 0;let M=b.length,K=E.length;for(let ee=0,ae=Math.min(M,K);ee<ae;++ee)if(b[ee]!==E[ee]){M=b[ee],K=E[ee];break}return M<K?-1:K<M?1:0},f.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(b,E){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return f.alloc(0);let M;if(E===void 0)for(E=0,M=0;M<b.length;++M)E+=b[M].length;const K=f.allocUnsafe(E);let ee=0;for(M=0;M<b.length;++M){let ae=b[M];if(yn(ae,Uint8Array))ee+ae.length>K.length?(f.isBuffer(ae)||(ae=f.from(ae)),ae.copy(K,ee)):Uint8Array.prototype.set.call(K,ae,ee);else if(f.isBuffer(ae))ae.copy(K,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=ae.length}return K};function $(S,b){if(f.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||yn(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const E=S.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&E===0)return 0;let K=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return sr(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Gn(S).length;default:if(K)return M?-1:sr(S).length;b=(""+b).toLowerCase(),K=!0}}f.byteLength=$;function ne(S,b,E){let M=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,b>>>=0,E<=b))return"";for(S||(S="utf8");;)switch(S){case"hex":return He(this,b,E);case"utf8":case"utf-8":return de(this,b,E);case"ascii":return xe(this,b,E);case"latin1":case"binary":return we(this,b,E);case"base64":return N(this,b,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,b,E);default:if(M)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),M=!0}}f.prototype._isBuffer=!0;function re(S,b,E){const M=S[b];S[b]=S[E],S[E]=M}f.prototype.swap16=function(){const b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<b;E+=2)re(this,E,E+1);return this},f.prototype.swap32=function(){const b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<b;E+=4)re(this,E,E+3),re(this,E+1,E+2);return this},f.prototype.swap64=function(){const b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<b;E+=8)re(this,E,E+7),re(this,E+1,E+6),re(this,E+2,E+5),re(this,E+3,E+4);return this},f.prototype.toString=function(){const b=this.length;return b===0?"":arguments.length===0?de(this,0,b):ne.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:f.compare(this,b)===0},f.prototype.inspect=function(){let b="";const E=t.INSPECT_MAX_BYTES;return b=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(b+=" ... "),"<Buffer "+b+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(b,E,M,K,ee){if(yn(b,Uint8Array)&&(b=f.from(b,b.offset,b.byteLength)),!f.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(E===void 0&&(E=0),M===void 0&&(M=b?b.length:0),K===void 0&&(K=0),ee===void 0&&(ee=this.length),E<0||M>b.length||K<0||ee>this.length)throw new RangeError("out of range index");if(K>=ee&&E>=M)return 0;if(K>=ee)return-1;if(E>=M)return 1;if(E>>>=0,M>>>=0,K>>>=0,ee>>>=0,this===b)return 0;let ae=ee-K,ke=M-E;const tt=Math.min(ae,ke),Me=this.slice(K,ee),Ve=b.slice(E,M);for(let qe=0;qe<tt;++qe)if(Me[qe]!==Ve[qe]){ae=Me[qe],ke=Ve[qe];break}return ae<ke?-1:ke<ae?1:0};function G(S,b,E,M,K){if(S.length===0)return-1;if(typeof E=="string"?(M=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,kr(E)&&(E=K?0:S.length-1),E<0&&(E=S.length+E),E>=S.length){if(K)return-1;E=S.length-1}else if(E<0)if(K)E=0;else return-1;if(typeof b=="string"&&(b=f.from(b,M)),f.isBuffer(b))return b.length===0?-1:U(S,b,E,M,K);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(S,b,E):Uint8Array.prototype.lastIndexOf.call(S,b,E):U(S,[b],E,M,K);throw new TypeError("val must be string, number or Buffer")}function U(S,b,E,M,K){let ee=1,ae=S.length,ke=b.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(S.length<2||b.length<2)return-1;ee=2,ae/=2,ke/=2,E/=2}function tt(Ve,qe){return ee===1?Ve[qe]:Ve.readUInt16BE(qe*ee)}let Me;if(K){let Ve=-1;for(Me=E;Me<ae;Me++)if(tt(S,Me)===tt(b,Ve===-1?0:Me-Ve)){if(Ve===-1&&(Ve=Me),Me-Ve+1===ke)return Ve*ee}else Ve!==-1&&(Me-=Me-Ve),Ve=-1}else for(E+ke>ae&&(E=ae-ke),Me=E;Me>=0;Me--){let Ve=!0;for(let qe=0;qe<ke;qe++)if(tt(S,Me+qe)!==tt(b,qe)){Ve=!1;break}if(Ve)return Me}return-1}f.prototype.includes=function(b,E,M){return this.indexOf(b,E,M)!==-1},f.prototype.indexOf=function(b,E,M){return G(this,b,E,M,!0)},f.prototype.lastIndexOf=function(b,E,M){return G(this,b,E,M,!1)};function R(S,b,E,M){E=Number(E)||0;const K=S.length-E;M?(M=Number(M),M>K&&(M=K)):M=K;const ee=b.length;M>ee/2&&(M=ee/2);let ae;for(ae=0;ae<M;++ae){const ke=parseInt(b.substr(ae*2,2),16);if(kr(ke))return ae;S[E+ae]=ke}return ae}function I(S,b,E,M){return $n(sr(b,S.length-E),S,E,M)}function F(S,b,E,M){return $n(Fr(b),S,E,M)}function z(S,b,E,M){return $n(Gn(b),S,E,M)}function q(S,b,E,M){return $n(Sr(b,S.length-E),S,E,M)}f.prototype.write=function(b,E,M,K){if(E===void 0)K="utf8",M=this.length,E=0;else if(M===void 0&&typeof E=="string")K=E,M=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(M)?(M=M>>>0,K===void 0&&(K="utf8")):(K=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ee=this.length-E;if((M===void 0||M>ee)&&(M=ee),b.length>0&&(M<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let ae=!1;for(;;)switch(K){case"hex":return R(this,b,E,M);case"utf8":case"utf-8":return I(this,b,E,M);case"ascii":case"latin1":case"binary":return F(this,b,E,M);case"base64":return z(this,b,E,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,b,E,M);default:if(ae)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),ae=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(S,b,E){return b===0&&E===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(b,E))}function de(S,b,E){E=Math.min(S.length,E);const M=[];let K=b;for(;K<E;){const ee=S[K];let ae=null,ke=ee>239?4:ee>223?3:ee>191?2:1;if(K+ke<=E){let tt,Me,Ve,qe;switch(ke){case 1:ee<128&&(ae=ee);break;case 2:tt=S[K+1],(tt&192)===128&&(qe=(ee&31)<<6|tt&63,qe>127&&(ae=qe));break;case 3:tt=S[K+1],Me=S[K+2],(tt&192)===128&&(Me&192)===128&&(qe=(ee&15)<<12|(tt&63)<<6|Me&63,qe>2047&&(qe<55296||qe>57343)&&(ae=qe));break;case 4:tt=S[K+1],Me=S[K+2],Ve=S[K+3],(tt&192)===128&&(Me&192)===128&&(Ve&192)===128&&(qe=(ee&15)<<18|(tt&63)<<12|(Me&63)<<6|Ve&63,qe>65535&&qe<1114112&&(ae=qe))}}ae===null?(ae=65533,ke=1):ae>65535&&(ae-=65536,M.push(ae>>>10&1023|55296),ae=56320|ae&1023),M.push(ae),K+=ke}return me(M)}const _e=4096;function me(S){const b=S.length;if(b<=_e)return String.fromCharCode.apply(String,S);let E="",M=0;for(;M<b;)E+=String.fromCharCode.apply(String,S.slice(M,M+=_e));return E}function xe(S,b,E){let M="";E=Math.min(S.length,E);for(let K=b;K<E;++K)M+=String.fromCharCode(S[K]&127);return M}function we(S,b,E){let M="";E=Math.min(S.length,E);for(let K=b;K<E;++K)M+=String.fromCharCode(S[K]);return M}function He(S,b,E){const M=S.length;(!b||b<0)&&(b=0),(!E||E<0||E>M)&&(E=M);let K="";for(let ee=b;ee<E;++ee)K+=Wt[S[ee]];return K}function k(S,b,E){const M=S.slice(b,E);let K="";for(let ee=0;ee<M.length-1;ee+=2)K+=String.fromCharCode(M[ee]+M[ee+1]*256);return K}f.prototype.slice=function(b,E){const M=this.length;b=~~b,E=E===void 0?M:~~E,b<0?(b+=M,b<0&&(b=0)):b>M&&(b=M),E<0?(E+=M,E<0&&(E=0)):E>M&&(E=M),E<b&&(E=b);const K=this.subarray(b,E);return Object.setPrototypeOf(K,f.prototype),K};function oe(S,b,E){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+b>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(b,E,M){b=b>>>0,E=E>>>0,M||oe(b,E,this.length);let K=this[b],ee=1,ae=0;for(;++ae<E&&(ee*=256);)K+=this[b+ae]*ee;return K},f.prototype.readUintBE=f.prototype.readUIntBE=function(b,E,M){b=b>>>0,E=E>>>0,M||oe(b,E,this.length);let K=this[b+--E],ee=1;for(;E>0&&(ee*=256);)K+=this[b+--E]*ee;return K},f.prototype.readUint8=f.prototype.readUInt8=function(b,E){return b=b>>>0,E||oe(b,1,this.length),this[b]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(b,E){return b=b>>>0,E||oe(b,2,this.length),this[b]|this[b+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(b,E){return b=b>>>0,E||oe(b,2,this.length),this[b]<<8|this[b+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(b,E){return b=b>>>0,E||oe(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(b,E){return b=b>>>0,E||oe(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},f.prototype.readBigUInt64LE=An(function(b){b=b>>>0,Lt(b,"offset");const E=this[b],M=this[b+7];(E===void 0||M===void 0)&&gn(b,this.length-8);const K=E+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,ee=this[++b]+this[++b]*2**8+this[++b]*2**16+M*2**24;return BigInt(K)+(BigInt(ee)<<BigInt(32))}),f.prototype.readBigUInt64BE=An(function(b){b=b>>>0,Lt(b,"offset");const E=this[b],M=this[b+7];(E===void 0||M===void 0)&&gn(b,this.length-8);const K=E*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],ee=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+M;return(BigInt(K)<<BigInt(32))+BigInt(ee)}),f.prototype.readIntLE=function(b,E,M){b=b>>>0,E=E>>>0,M||oe(b,E,this.length);let K=this[b],ee=1,ae=0;for(;++ae<E&&(ee*=256);)K+=this[b+ae]*ee;return ee*=128,K>=ee&&(K-=Math.pow(2,8*E)),K},f.prototype.readIntBE=function(b,E,M){b=b>>>0,E=E>>>0,M||oe(b,E,this.length);let K=E,ee=1,ae=this[b+--K];for(;K>0&&(ee*=256);)ae+=this[b+--K]*ee;return ee*=128,ae>=ee&&(ae-=Math.pow(2,8*E)),ae},f.prototype.readInt8=function(b,E){return b=b>>>0,E||oe(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},f.prototype.readInt16LE=function(b,E){b=b>>>0,E||oe(b,2,this.length);const M=this[b]|this[b+1]<<8;return M&32768?M|4294901760:M},f.prototype.readInt16BE=function(b,E){b=b>>>0,E||oe(b,2,this.length);const M=this[b+1]|this[b]<<8;return M&32768?M|4294901760:M},f.prototype.readInt32LE=function(b,E){return b=b>>>0,E||oe(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},f.prototype.readInt32BE=function(b,E){return b=b>>>0,E||oe(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},f.prototype.readBigInt64LE=An(function(b){b=b>>>0,Lt(b,"offset");const E=this[b],M=this[b+7];(E===void 0||M===void 0)&&gn(b,this.length-8);const K=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(M<<24);return(BigInt(K)<<BigInt(32))+BigInt(E+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),f.prototype.readBigInt64BE=An(function(b){b=b>>>0,Lt(b,"offset");const E=this[b],M=this[b+7];(E===void 0||M===void 0)&&gn(b,this.length-8);const K=(E<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(K)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+M)}),f.prototype.readFloatLE=function(b,E){return b=b>>>0,E||oe(b,4,this.length),n.read(this,b,!0,23,4)},f.prototype.readFloatBE=function(b,E){return b=b>>>0,E||oe(b,4,this.length),n.read(this,b,!1,23,4)},f.prototype.readDoubleLE=function(b,E){return b=b>>>0,E||oe(b,8,this.length),n.read(this,b,!0,52,8)},f.prototype.readDoubleBE=function(b,E){return b=b>>>0,E||oe(b,8,this.length),n.read(this,b,!1,52,8)};function ve(S,b,E,M,K,ee){if(!f.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>K||b<ee)throw new RangeError('"value" argument is out of bounds');if(E+M>S.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(b,E,M,K){if(b=+b,E=E>>>0,M=M>>>0,!K){const ke=Math.pow(2,8*M)-1;ve(this,b,E,M,ke,0)}let ee=1,ae=0;for(this[E]=b&255;++ae<M&&(ee*=256);)this[E+ae]=b/ee&255;return E+M},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(b,E,M,K){if(b=+b,E=E>>>0,M=M>>>0,!K){const ke=Math.pow(2,8*M)-1;ve(this,b,E,M,ke,0)}let ee=M-1,ae=1;for(this[E+ee]=b&255;--ee>=0&&(ae*=256);)this[E+ee]=b/ae&255;return E+M},f.prototype.writeUint8=f.prototype.writeUInt8=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,1,255,0),this[E]=b&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,2,65535,0),this[E]=b&255,this[E+1]=b>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,2,65535,0),this[E]=b>>>8,this[E+1]=b&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,4,4294967295,0),this[E+3]=b>>>24,this[E+2]=b>>>16,this[E+1]=b>>>8,this[E]=b&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,4,4294967295,0),this[E]=b>>>24,this[E+1]=b>>>16,this[E+2]=b>>>8,this[E+3]=b&255,E+4};function P(S,b,E,M,K){Nn(b,M,K,S,E,7);let ee=Number(b&BigInt(4294967295));S[E++]=ee,ee=ee>>8,S[E++]=ee,ee=ee>>8,S[E++]=ee,ee=ee>>8,S[E++]=ee;let ae=Number(b>>BigInt(32)&BigInt(4294967295));return S[E++]=ae,ae=ae>>8,S[E++]=ae,ae=ae>>8,S[E++]=ae,ae=ae>>8,S[E++]=ae,E}function Ee(S,b,E,M,K){Nn(b,M,K,S,E,7);let ee=Number(b&BigInt(4294967295));S[E+7]=ee,ee=ee>>8,S[E+6]=ee,ee=ee>>8,S[E+5]=ee,ee=ee>>8,S[E+4]=ee;let ae=Number(b>>BigInt(32)&BigInt(4294967295));return S[E+3]=ae,ae=ae>>8,S[E+2]=ae,ae=ae>>8,S[E+1]=ae,ae=ae>>8,S[E]=ae,E+8}f.prototype.writeBigUInt64LE=An(function(b,E=0){return P(this,b,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=An(function(b,E=0){return Ee(this,b,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(b,E,M,K){if(b=+b,E=E>>>0,!K){const tt=Math.pow(2,8*M-1);ve(this,b,E,M,tt-1,-tt)}let ee=0,ae=1,ke=0;for(this[E]=b&255;++ee<M&&(ae*=256);)b<0&&ke===0&&this[E+ee-1]!==0&&(ke=1),this[E+ee]=(b/ae>>0)-ke&255;return E+M},f.prototype.writeIntBE=function(b,E,M,K){if(b=+b,E=E>>>0,!K){const tt=Math.pow(2,8*M-1);ve(this,b,E,M,tt-1,-tt)}let ee=M-1,ae=1,ke=0;for(this[E+ee]=b&255;--ee>=0&&(ae*=256);)b<0&&ke===0&&this[E+ee+1]!==0&&(ke=1),this[E+ee]=(b/ae>>0)-ke&255;return E+M},f.prototype.writeInt8=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,1,127,-128),b<0&&(b=255+b+1),this[E]=b&255,E+1},f.prototype.writeInt16LE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,2,32767,-32768),this[E]=b&255,this[E+1]=b>>>8,E+2},f.prototype.writeInt16BE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,2,32767,-32768),this[E]=b>>>8,this[E+1]=b&255,E+2},f.prototype.writeInt32LE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,4,2147483647,-2147483648),this[E]=b&255,this[E+1]=b>>>8,this[E+2]=b>>>16,this[E+3]=b>>>24,E+4},f.prototype.writeInt32BE=function(b,E,M){return b=+b,E=E>>>0,M||ve(this,b,E,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[E]=b>>>24,this[E+1]=b>>>16,this[E+2]=b>>>8,this[E+3]=b&255,E+4},f.prototype.writeBigInt64LE=An(function(b,E=0){return P(this,b,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=An(function(b,E=0){return Ee(this,b,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(S,b,E,M,K,ee){if(E+M>S.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Se(S,b,E,M,K){return b=+b,E=E>>>0,K||Ne(S,b,E,4),n.write(S,b,E,M,23,4),E+4}f.prototype.writeFloatLE=function(b,E,M){return Se(this,b,E,!0,M)},f.prototype.writeFloatBE=function(b,E,M){return Se(this,b,E,!1,M)};function dt(S,b,E,M,K){return b=+b,E=E>>>0,K||Ne(S,b,E,8),n.write(S,b,E,M,52,8),E+8}f.prototype.writeDoubleLE=function(b,E,M){return dt(this,b,E,!0,M)},f.prototype.writeDoubleBE=function(b,E,M){return dt(this,b,E,!1,M)},f.prototype.copy=function(b,E,M,K){if(!f.isBuffer(b))throw new TypeError("argument should be a Buffer");if(M||(M=0),!K&&K!==0&&(K=this.length),E>=b.length&&(E=b.length),E||(E=0),K>0&&K<M&&(K=M),K===M||b.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),b.length-E<K-M&&(K=b.length-E+M);const ee=K-M;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,M,K):Uint8Array.prototype.set.call(b,this.subarray(M,K),E),ee},f.prototype.fill=function(b,E,M,K){if(typeof b=="string"){if(typeof E=="string"?(K=E,E=0,M=this.length):typeof M=="string"&&(K=M,M=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!f.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(b.length===1){const ae=b.charCodeAt(0);(K==="utf8"&&ae<128||K==="latin1")&&(b=ae)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(E<0||this.length<E||this.length<M)throw new RangeError("Out of range index");if(M<=E)return this;E=E>>>0,M=M===void 0?this.length:M>>>0,b||(b=0);let ee;if(typeof b=="number")for(ee=E;ee<M;++ee)this[ee]=b;else{const ae=f.isBuffer(b)?b:f.from(b,K),ke=ae.length;if(ke===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(ee=0;ee<M-E;++ee)this[ee+E]=ae[ee%ke]}return this};const Le={};function st(S,b,E){Le[S]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}st("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(S,b){return`The "${S}" argument must be of type number. Received type ${typeof b}`},TypeError),st("ERR_OUT_OF_RANGE",function(S,b,E){let M=`The value of "${S}" is out of range.`,K=E;return Number.isInteger(E)&&Math.abs(E)>2**32?K=Ke(String(E)):typeof E=="bigint"&&(K=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(K=Ke(K)),K+="n"),M+=` It must be ${b}. Received ${K}`,M},RangeError);function Ke(S){let b="",E=S.length;const M=S[0]==="-"?1:0;for(;E>=M+4;E-=3)b=`_${S.slice(E-3,E)}${b}`;return`${S.slice(0,E)}${b}`}function Rt(S,b,E){Lt(b,"offset"),(S[b]===void 0||S[b+E]===void 0)&&gn(b,S.length-(E+1))}function Nn(S,b,E,M,K,ee){if(S>E||S<b){const ae=typeof b=="bigint"?"n":"";let ke;throw b===0||b===BigInt(0)?ke=`>= 0${ae} and < 2${ae} ** ${(ee+1)*8}${ae}`:ke=`>= -(2${ae} ** ${(ee+1)*8-1}${ae}) and < 2 ** ${(ee+1)*8-1}${ae}`,new Le.ERR_OUT_OF_RANGE("value",ke,S)}Rt(M,K,ee)}function Lt(S,b){if(typeof S!="number")throw new Le.ERR_INVALID_ARG_TYPE(b,"number",S)}function gn(S,b,E){throw Math.floor(S)!==S?(Lt(S,E),new Le.ERR_OUT_OF_RANGE("offset","an integer",S)):b<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${b}`,S)}const Hn=/[^+/0-9A-Za-z-_]/g;function On(S){if(S=S.split("=")[0],S=S.trim().replace(Hn,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function sr(S,b){b=b||1/0;let E;const M=S.length;let K=null;const ee=[];for(let ae=0;ae<M;++ae){if(E=S.charCodeAt(ae),E>55295&&E<57344){if(!K){if(E>56319){(b-=3)>-1&&ee.push(239,191,189);continue}else if(ae+1===M){(b-=3)>-1&&ee.push(239,191,189);continue}K=E;continue}if(E<56320){(b-=3)>-1&&ee.push(239,191,189),K=E;continue}E=(K-55296<<10|E-56320)+65536}else K&&(b-=3)>-1&&ee.push(239,191,189);if(K=null,E<128){if((b-=1)<0)break;ee.push(E)}else if(E<2048){if((b-=2)<0)break;ee.push(E>>6|192,E&63|128)}else if(E<65536){if((b-=3)<0)break;ee.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((b-=4)<0)break;ee.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return ee}function Fr(S){const b=[];for(let E=0;E<S.length;++E)b.push(S.charCodeAt(E)&255);return b}function Sr(S,b){let E,M,K;const ee=[];for(let ae=0;ae<S.length&&!((b-=2)<0);++ae)E=S.charCodeAt(ae),M=E>>8,K=E%256,ee.push(K),ee.push(M);return ee}function Gn(S){return e.toByteArray(On(S))}function $n(S,b,E,M){let K;for(K=0;K<M&&!(K+E>=b.length||K>=S.length);++K)b[K+E]=S[K];return K}function yn(S,b){return S instanceof b||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===b.name}function kr(S){return S!==S}const Wt=function(){const S="0123456789abcdef",b=new Array(256);for(let E=0;E<16;++E){const M=E*16;for(let K=0;K<16;++K)b[M+K]=S[E]+S[K]}return b}();function An(S){return typeof BigInt>"u"?ue:S}function ue(){throw new Error("BigInt not supported")}}(hp)),hp}var QT=KT(),dp={exports:{}},xb;function YT(){if(xb)return dp.exports;xb=1;var t=dp.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=s}catch{n=s}})();function a(L){if(e===setTimeout)return setTimeout(L,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(L,0);try{return e(L,0)}catch{try{return e.call(null,L,0)}catch{return e.call(this,L,0)}}}function l(L){if(n===clearTimeout)return clearTimeout(L);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(L);try{return n(L)}catch{try{return n.call(null,L)}catch{return n.call(this,L)}}}var f=[],d=!1,p,y=-1;function _(){!d||!p||(d=!1,p.length?f=p.concat(f):y=-1,f.length&&w())}function w(){if(!d){var L=a(_);d=!0;for(var V=f.length;V;){for(p=f,f=[];++y<V;)p&&p[y].run();y=-1,V=f.length}p=null,d=!1,l(L)}}t.nextTick=function(L){var V=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)V[H-1]=arguments[H];f.push(new x(L,V)),f.length===1&&!d&&a(w)};function x(L,V){this.fun=L,this.array=V}x.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function C(){}return t.on=C,t.addListener=C,t.once=C,t.off=C,t.removeListener=C,t.removeAllListeners=C,t.emit=C,t.prependListener=C,t.prependOnceListener=C,t.listeners=function(L){return[]},t.binding=function(L){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(L){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},dp.exports}var XT=YT();const ZT=Jl(XT);window.Buffer=QT.Buffer;window.process=ZT;var pp={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function WT(){if(wb)return Tl;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:a}}return Tl.Fragment=e,Tl.jsx=n,Tl.jsxs=n,Tl}var Tb;function JT(){return Tb||(Tb=1,pp.exports=WT()),pp.exports}var B=JT(),mp={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function e4(){if(Ab)return $e;Ab=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function V(k,oe,ve){this.props=k,this.context=oe,this.refs=L,this.updater=ve||x}V.prototype.isReactComponent={},V.prototype.setState=function(k,oe){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,oe,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function H(){}H.prototype=V.prototype;function Q(k,oe,ve){this.props=k,this.context=oe,this.refs=L,this.updater=ve||x}var $=Q.prototype=new H;$.constructor=Q,C($,V.prototype),$.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(k,oe,ve,P,Ee,Ne){return ve=Ne.ref,{$$typeof:t,type:k,key:oe,ref:ve!==void 0?ve:null,props:Ne}}function R(k,oe){return U(k.type,oe,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function F(k){var oe={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ve){return oe[ve]})}var z=/\/+/g;function q(k,oe){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):oe.toString(36)}function N(){}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(oe){k.status==="pending"&&(k.status="fulfilled",k.value=oe)},function(oe){k.status==="pending"&&(k.status="rejected",k.reason=oe)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function _e(k,oe,ve,P,Ee){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(Ne){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case t:case e:Se=!0;break;case y:return Se=k._init,_e(Se(k._payload),oe,ve,P,Ee)}}if(Se)return Ee=Ee(k),Se=P===""?"."+q(k,0):P,ne(Ee)?(ve="",Se!=null&&(ve=Se.replace(z,"$&/")+"/"),_e(Ee,oe,ve,"",function(st){return st})):Ee!=null&&(I(Ee)&&(Ee=R(Ee,ve+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(z,"$&/")+"/")+Se)),oe.push(Ee)),1;Se=0;var dt=P===""?".":P+":";if(ne(k))for(var Le=0;Le<k.length;Le++)P=k[Le],Ne=dt+q(P,Le),Se+=_e(P,oe,ve,Ne,Ee);else if(Le=w(k),typeof Le=="function")for(k=Le.call(k),Le=0;!(P=k.next()).done;)P=P.value,Ne=dt+q(P,Le++),Se+=_e(P,oe,ve,Ne,Ee);else if(Ne==="object"){if(typeof k.then=="function")return _e(de(k),oe,ve,P,Ee);throw oe=String(k),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Se}function me(k,oe,ve){if(k==null)return k;var P=[],Ee=0;return _e(k,P,"","",function(Ne){return oe.call(ve,Ne,Ee++)}),P}function xe(k){if(k._status===-1){var oe=k._result;oe=oe(),oe.then(function(ve){(k._status===0||k._status===-1)&&(k._status=1,k._result=ve)},function(ve){(k._status===0||k._status===-1)&&(k._status=2,k._result=ve)}),k._status===-1&&(k._status=0,k._result=oe)}if(k._status===1)return k._result.default;throw k._result}var we=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function He(){}return $e.Children={map:me,forEach:function(k,oe,ve){me(k,function(){oe.apply(this,arguments)},ve)},count:function(k){var oe=0;return me(k,function(){oe++}),oe},toArray:function(k){return me(k,function(oe){return oe})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},$e.Component=V,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=Q,$e.StrictMode=r,$e.Suspense=d,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,$e.act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.cache=function(k){return function(){return k.apply(null,arguments)}},$e.cloneElement=function(k,oe,ve){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var P=C({},k.props),Ee=k.key,Ne=void 0;if(oe!=null)for(Se in oe.ref!==void 0&&(Ne=void 0),oe.key!==void 0&&(Ee=""+oe.key),oe)!G.call(oe,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&oe.ref===void 0||(P[Se]=oe[Se]);var Se=arguments.length-2;if(Se===1)P.children=ve;else if(1<Se){for(var dt=Array(Se),Le=0;Le<Se;Le++)dt[Le]=arguments[Le+2];P.children=dt}return U(k.type,Ee,void 0,void 0,Ne,P)},$e.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},$e.createElement=function(k,oe,ve){var P,Ee={},Ne=null;if(oe!=null)for(P in oe.key!==void 0&&(Ne=""+oe.key),oe)G.call(oe,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(Ee[P]=oe[P]);var Se=arguments.length-2;if(Se===1)Ee.children=ve;else if(1<Se){for(var dt=Array(Se),Le=0;Le<Se;Le++)dt[Le]=arguments[Le+2];Ee.children=dt}if(k&&k.defaultProps)for(P in Se=k.defaultProps,Se)Ee[P]===void 0&&(Ee[P]=Se[P]);return U(k,Ne,void 0,void 0,null,Ee)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(k){return{$$typeof:f,render:k}},$e.isValidElement=I,$e.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:xe}},$e.memo=function(k,oe){return{$$typeof:p,type:k,compare:oe===void 0?null:oe}},$e.startTransition=function(k){var oe=re.T,ve={};re.T=ve;try{var P=k(),Ee=re.S;Ee!==null&&Ee(ve,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(He,we)}catch(Ne){we(Ne)}finally{re.T=oe}},$e.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},$e.use=function(k){return re.H.use(k)},$e.useActionState=function(k,oe,ve){return re.H.useActionState(k,oe,ve)},$e.useCallback=function(k,oe){return re.H.useCallback(k,oe)},$e.useContext=function(k){return re.H.useContext(k)},$e.useDebugValue=function(){},$e.useDeferredValue=function(k,oe){return re.H.useDeferredValue(k,oe)},$e.useEffect=function(k,oe){return re.H.useEffect(k,oe)},$e.useId=function(){return re.H.useId()},$e.useImperativeHandle=function(k,oe,ve){return re.H.useImperativeHandle(k,oe,ve)},$e.useInsertionEffect=function(k,oe){return re.H.useInsertionEffect(k,oe)},$e.useLayoutEffect=function(k,oe){return re.H.useLayoutEffect(k,oe)},$e.useMemo=function(k,oe){return re.H.useMemo(k,oe)},$e.useOptimistic=function(k,oe){return re.H.useOptimistic(k,oe)},$e.useReducer=function(k,oe,ve){return re.H.useReducer(k,oe,ve)},$e.useRef=function(k){return re.H.useRef(k)},$e.useState=function(k){return re.H.useState(k)},$e.useSyncExternalStore=function(k,oe,ve){return re.H.useSyncExternalStore(k,oe,ve)},$e.useTransition=function(){return re.H.useTransition()},$e.version="19.0.0",$e}var Sb;function Um(){return Sb||(Sb=1,mp.exports=e4()),mp.exports}var te=Um();const t4=Jl(te);var gp={exports:{}},Al={},yp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function n4(){return kb||(kb=1,function(t){function e(me,xe){var we=me.length;me.push(xe);e:for(;0<we;){var He=we-1>>>1,k=me[He];if(0<s(k,xe))me[He]=xe,me[we]=k,we=He;else break e}}function n(me){return me.length===0?null:me[0]}function r(me){if(me.length===0)return null;var xe=me[0],we=me.pop();if(we!==xe){me[0]=we;e:for(var He=0,k=me.length,oe=k>>>1;He<oe;){var ve=2*(He+1)-1,P=me[ve],Ee=ve+1,Ne=me[Ee];if(0>s(P,we))Ee<k&&0>s(Ne,P)?(me[He]=Ne,me[Ee]=we,He=Ee):(me[He]=P,me[ve]=we,He=ve);else if(Ee<k&&0>s(Ne,we))me[He]=Ne,me[Ee]=we,He=Ee;else break e}}return xe}function s(me,xe){var we=me.sortIndex-xe.sortIndex;return we!==0?we:me.id-xe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var d=[],p=[],y=1,_=null,w=3,x=!1,C=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function $(me){for(var xe=n(p);xe!==null;){if(xe.callback===null)r(p);else if(xe.startTime<=me)r(p),xe.sortIndex=xe.expirationTime,e(d,xe);else break;xe=n(p)}}function ne(me){if(L=!1,$(me),!C)if(n(d)!==null)C=!0,de();else{var xe=n(p);xe!==null&&_e(ne,xe.startTime-me)}}var re=!1,G=-1,U=5,R=-1;function I(){return!(t.unstable_now()-R<U)}function F(){if(re){var me=t.unstable_now();R=me;var xe=!0;try{e:{C=!1,L&&(L=!1,H(G),G=-1),x=!0;var we=w;try{t:{for($(me),_=n(d);_!==null&&!(_.expirationTime>me&&I());){var He=_.callback;if(typeof He=="function"){_.callback=null,w=_.priorityLevel;var k=He(_.expirationTime<=me);if(me=t.unstable_now(),typeof k=="function"){_.callback=k,$(me),xe=!0;break t}_===n(d)&&r(d),$(me)}else r(d);_=n(d)}if(_!==null)xe=!0;else{var oe=n(p);oe!==null&&_e(ne,oe.startTime-me),xe=!1}}break e}finally{_=null,w=we,x=!1}xe=void 0}}finally{xe?z():re=!1}}}var z;if(typeof Q=="function")z=function(){Q(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,N=q.port2;q.port1.onmessage=F,z=function(){N.postMessage(null)}}else z=function(){V(F,0)};function de(){re||(re=!0,z())}function _e(me,xe){G=V(function(){me(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_continueExecution=function(){C||x||(C=!0,de())},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(me){switch(w){case 1:case 2:case 3:var xe=3;break;default:xe=w}var we=w;w=xe;try{return me()}finally{w=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(me,xe){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var we=w;w=me;try{return xe()}finally{w=we}},t.unstable_scheduleCallback=function(me,xe,we){var He=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?He+we:He):we=He,me){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=we+k,me={id:y++,callback:xe,priorityLevel:me,startTime:we,expirationTime:k,sortIndex:-1},we>He?(me.sortIndex=we,e(p,me),n(d)===null&&me===n(p)&&(L?(H(G),G=-1):L=!0,_e(ne,we-He))):(me.sortIndex=k,e(d,me),C||x||(C=!0,de())),me},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(me){var xe=w;return function(){var we=w;w=xe;try{return me.apply(this,arguments)}finally{w=we}}}}(_p)),_p}var Cb;function r4(){return Cb||(Cb=1,yp.exports=n4()),yp.exports}var bp={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function i4(){if(Rb)return bn;Rb=1;var t=Um();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,y)},bn.flushSync=function(d){var p=l.T,y=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=p,r.p=y,r.d.f()}},bn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},bn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},bn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},bn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},bn.requestFormReset=function(d){r.d.r(d)},bn.unstable_batchedUpdates=function(d,p){return d(p)},bn.useFormState=function(d,p,y){return l.H.useFormState(d,p,y)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.0.0",bn}var Db;function u4(){if(Db)return bp.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bp.exports=i4(),bp.exports}var Ib;function s4(){if(Ib)return Al;Ib=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=r4(),e=Um(),n=u4();function r(i){var u="https://react.dev/errors/"+i;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)u+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case f:return"Portal";case y:return"Profiler";case p:return"StrictMode";case L:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case C:var u=i.render;return i=i.displayName,i||(i=u.displayName||u.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return u=i.displayName||null,u!==null?u:R(i.type)||"Memo";case Q:u=i._payload,i=i._init;try{return R(i(u))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,z,q;function N(i){if(z===void 0)try{throw Error()}catch(o){var u=o.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||"",q=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+q}var de=!1;function _e(i,u){if(!i||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(u){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(le){var ie=le}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(le){ie=le}i.call(pe.prototype)}}else{try{throw Error()}catch(le){ie=le}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),A=g[0],D=g[1];if(A&&D){var j=A.split(`
`),X=D.split(`
`);for(m=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===j.length||m===X.length)for(c=j.length-1,m=X.length-1;1<=c&&0<=m&&j[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(j[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||j[c]!==X[m]){var ce=`
`+j[c].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=c&&0<=m);break}}}finally{de=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?N(o):""}function me(i){switch(i.tag){case 26:case 27:case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function xe(i){try{var u="";do u+=me(i),i=i.return;while(i);return u}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function we(i){var u=i,o=i;if(i.alternate)for(;u.return;)u=u.return;else{i=u;do u=i,(u.flags&4098)!==0&&(o=u.return),i=u.return;while(i)}return u.tag===3?o:null}function He(i){if(i.tag===13){var u=i.memoizedState;if(u===null&&(i=i.alternate,i!==null&&(u=i.memoizedState)),u!==null)return u.dehydrated}return null}function k(i){if(we(i)!==i)throw Error(r(188))}function oe(i){var u=i.alternate;if(!u){if(u=we(i),u===null)throw Error(r(188));return u!==i?null:i}for(var o=i,c=u;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return k(m),i;if(g===c)return k(m),u;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var A=!1,D=m.child;D;){if(D===o){A=!0,o=m,c=g;break}if(D===c){A=!0,c=m,o=g;break}D=D.sibling}if(!A){for(D=g.child;D;){if(D===o){A=!0,o=g,c=m;break}if(D===c){A=!0,c=g,o=m;break}D=D.sibling}if(!A)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:u}function ve(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i;for(i=i.child;i!==null;){if(u=ve(i),u!==null)return u;i=i.sibling}return null}var P=Array.isArray,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Se=[],dt=-1;function Le(i){return{current:i}}function st(i){0>dt||(i.current=Se[dt],Se[dt]=null,dt--)}function Ke(i,u){dt++,Se[dt]=i.current,i.current=u}var Rt=Le(null),Nn=Le(null),Lt=Le(null),gn=Le(null);function Hn(i,u){switch(Ke(Lt,u),Ke(Nn,i),Ke(Rt,null),i=u.nodeType,i){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?Q_(u):0;break;default:if(i=i===8?u.parentNode:u,u=i.tagName,i=i.namespaceURI)i=Q_(i),u=Y_(i,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}st(Rt),Ke(Rt,u)}function On(){st(Rt),st(Nn),st(Lt)}function sr(i){i.memoizedState!==null&&Ke(gn,i);var u=Rt.current,o=Y_(u,i.type);u!==o&&(Ke(Nn,i),Ke(Rt,o))}function Fr(i){Nn.current===i&&(st(Rt),st(Nn)),gn.current===i&&(st(gn),_l._currentValue=Ne)}var Sr=Object.prototype.hasOwnProperty,Gn=t.unstable_scheduleCallback,$n=t.unstable_cancelCallback,yn=t.unstable_shouldYield,kr=t.unstable_requestPaint,Wt=t.unstable_now,An=t.unstable_getCurrentPriorityLevel,ue=t.unstable_ImmediatePriority,S=t.unstable_UserBlockingPriority,b=t.unstable_NormalPriority,E=t.unstable_LowPriority,M=t.unstable_IdlePriority,K=t.log,ee=t.unstable_setDisableYieldValue,ae=null,ke=null;function tt(i){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}}function Me(i){if(typeof K=="function"&&ee(i),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(ae,i)}catch{}}var Ve=Math.clz32?Math.clz32:vc,qe=Math.log,bc=Math.LN2;function vc(i){return i>>>=0,i===0?32:31-(qe(i)/bc|0)|0}var Vr=128,Ji=4194304;function Cr(i){var u=i&42;if(u!==0)return u;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ar(i,u){var o=i.pendingLanes;if(o===0)return 0;var c=0,m=i.suspendedLanes,g=i.pingedLanes,A=i.warmLanes;i=i.finishedLanes!==0;var D=o&134217727;return D!==0?(o=D&~m,o!==0?c=Cr(o):(g&=D,g!==0?c=Cr(g):i||(A=D&~A,A!==0&&(c=Cr(A))))):(D=o&~m,D!==0?c=Cr(D):g!==0?c=Cr(g):i||(A=o&~A,A!==0&&(c=Cr(A)))),c===0?0:u!==0&&u!==c&&(u&m)===0&&(m=c&-c,A=u&-u,m>=A||m===32&&(A&4194176)!==0)?u:c}function eu(i,u){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&u)===0}function Zs(i,u){switch(i){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var i=Vr;return Vr<<=1,(Vr&4194176)===0&&(Vr=128),i}function tu(){var i=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),i}function Ws(i){for(var u=[],o=0;31>o;o++)u.push(i);return u}function Pt(i,u){i.pendingLanes|=u,u!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ec(i,u,o,c,m,g){var A=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var D=i.entanglements,j=i.expirationTimes,X=i.hiddenUpdates;for(o=A&~o;0<o;){var ce=31-Ve(o),pe=1<<ce;D[ce]=0,j[ce]=-1;var ie=X[ce];if(ie!==null)for(X[ce]=null,ce=0;ce<ie.length;ce++){var le=ie[ce];le!==null&&(le.lane&=-536870913)}o&=~pe}c!==0&&nu(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(A&~u))}function nu(i,u,o){i.pendingLanes|=u,i.suspendedLanes&=~u;var c=31-Ve(u);i.entangledLanes|=u,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function ru(i,u){var o=i.entangledLanes|=u;for(i=i.entanglements;o;){var c=31-Ve(o),m=1<<c;m&u|i[c]&u&&(i[c]|=u),o&=~m}}function xc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function wc(){var i=Ee.p;return i!==0?i:(i=window.event,i===void 0?32:db(i.type))}function iu(i,u){var o=Ee.p;try{return Ee.p=i,u()}finally{Ee.p=o}}var Br=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Br,Ht="__reactProps$"+Br,yi="__reactContainer$"+Br,is="__reactEvents$"+Br,Js="__reactListeners$"+Br,zr="__reactHandles$"+Br,To="__reactResources$"+Br,uu="__reactMarker$"+Br;function us(i){delete i[Jt],delete i[Ht],delete i[is],delete i[Js],delete i[zr]}function Rr(i){var u=i[Jt];if(u)return u;for(var o=i.parentNode;o;){if(u=o[yi]||o[Jt]){if(o=u.alternate,u.child!==null||o!==null&&o.child!==null)for(i=W_(i);i!==null;){if(o=i[Jt])return o;i=W_(i)}return u}i=o,o=i.parentNode}return null}function _i(i){if(i=i[Jt]||i[yi]){var u=i.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return i}return null}function su(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i.stateNode;throw Error(r(33))}function au(i){var u=i[To];return u||(u=i[To]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Tt(i){i[uu]=!0}var Ao=new Set,ea={};function Kn(i,u){Mn(i,u),Mn(i+"Capture",u)}function Mn(i,u){for(ea[i]=u,i=0;i<u.length;i++)Ao.add(u[i])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},ko={};function Tc(i){return Sr.call(ko,i)?!0:Sr.call(So,i)?!1:gd.test(i)?ko[i]=!0:(So[i]=!0,!1)}function ou(i,u,o){if(Tc(u))if(o===null)i.removeAttribute(u);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(u);return;case"boolean":var c=u.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(u);return}}i.setAttribute(u,""+o)}}function lu(i,u,o){if(o===null)i.removeAttribute(u);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttribute(u,""+o)}}function or(i,u,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(u,o,""+c)}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ac(i){var u=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function yd(i){var u=Ac(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,u),c=""+i[u];if(!i.hasOwnProperty(u)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,u,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,g.call(this,A)}}),Object.defineProperty(i,u,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[u]}}}}function ss(i){i._valueTracker||(i._valueTracker=yd(i))}function Co(i){if(!i)return!1;var u=i._valueTracker;if(!u)return!0;var o=u.getValue(),c="";return i&&(c=Ac(i)?i.checked?"true":"false":i.value),i=c,i!==o?(u.setValue(i),!0):!1}function ta(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bi=/[\n"\\]/g;function Dt(i){return i.replace(bi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function cu(i,u,o,c,m,g,A,D){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),u!=null?A==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+Sn(u)):i.value!==""+Sn(u)&&(i.value=""+Sn(u)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),u!=null?na(i,A,Sn(u)):o!=null?na(i,A,Sn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Sn(D):i.removeAttribute("name")}function as(i,u,o,c,m,g,A,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),u!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||u!=null))return;o=o!=null?""+Sn(o):"",u=u!=null?""+Sn(u):o,D||u===i.value||(i.value=u),i.defaultValue=u}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function na(i,u,o){u==="number"&&ta(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function at(i,u,o,c){if(i=i.options,u){u={};for(var m=0;m<o.length;m++)u["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=u.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Sn(o),u=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}u!==null||i[m].disabled||(u=i[m])}u!==null&&(u.selected=!0)}}function os(i,u,o){if(u!=null&&(u=""+Sn(u),u!==i.value&&(i.value=u),o==null)){i.defaultValue!==u&&(i.defaultValue=u);return}i.defaultValue=o!=null?""+Sn(o):""}function fu(i,u,o,c){if(u==null){if(c!=null){if(o!=null)throw Error(r(92));if(P(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),u=o}o=Sn(u),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function lr(i,u){if(u){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=u;return}}i.textContent=u}var _d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(i,u,o){var c=u.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="":c?i.setProperty(u,o):typeof o!="number"||o===0||_d.has(u)?u==="float"?i.cssFloat=o:i[u]=(""+o).trim():i[u]=o+"px"}function Sc(i,u,o){if(u!=null&&typeof u!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||u!=null&&u.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in u)c=u[m],u.hasOwnProperty(m)&&o[m]!==c&&Ro(i,m,c)}else for(var g in u)u.hasOwnProperty(g)&&Ro(i,g,u[g])}function Do(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(i){return vd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var cr=null;function ra(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vi=null,Ei=null;function xi(i){var u=_i(i);if(u&&(i=u.stateNode)){var o=i[Ht]||null;e:switch(i=u.stateNode,u.type){case"input":if(cu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),u=o.name,o.type==="radio"&&u!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+u)+'"][type="radio"]'),u=0;u<o.length;u++){var c=o[u];if(c!==i&&c.form===i.form){var m=c[Ht]||null;if(!m)throw Error(r(90));cu(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(u=0;u<o.length;u++)c=o[u],c.form===i.form&&Co(c)}break e;case"textarea":os(i,o.value,o.defaultValue);break e;case"select":u=o.value,u!=null&&at(i,!!o.multiple,u,!1)}}}var Io=!1;function kc(i,u,o){if(Io)return i(u,o);Io=!0;try{var c=i(u);return c}finally{if(Io=!1,(vi!==null||Ei!==null)&&(bf(),vi&&(u=vi,i=Ei,Ei=vi=null,xi(u),i)))for(u=0;u<i.length;u++)xi(i[u])}}function ls(i,u){var o=i.stateNode;if(o===null)return null;var c=o[Ht]||null;if(c===null)return null;o=c[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,u,typeof o));return o}var fr=!1;if(Qn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){fr=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{fr=!1}var qr=null,hu=null,wi=null;function No(){if(wi)return wi;var i,u=hu,o=u.length,c,m="value"in qr?qr.value:qr.textContent,g=m.length;for(i=0;i<o&&u[i]===m[i];i++);var A=o-i;for(c=1;c<=A&&u[o-c]===m[g-c];c++);return wi=m.slice(i,1<c?1-c:void 0)}function Hr(i){var u=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&u===13&&(i=13)):i=u,i===10&&(i=13),32<=i||i===13?i:0}function Gr(){return!0}function Oo(){return!1}function en(i){function u(o,c,m,g,A){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(o=i[D],this[D]=o?o(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Gr:Oo,this.isPropagationStopped=Oo,this}return F(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),u}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=en(ft),fs=F({},ft,{view:0,detail:0}),Cc=en(fs),ua,sa,$r,hs=F({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$r&&($r&&i.type==="mousemove"?(ua=i.screenX-$r.screenX,sa=i.screenY-$r.screenY):sa=ua=0,$r=i),ua)},movementY:function(i){return"movementY"in i?i.movementY:sa}}),hr=en(hs),Rc=F({},hs,{dataTransfer:0}),Ed=en(Rc),ds=F({},fs,{relatedTarget:0}),aa=en(ds),Mo=F({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=en(Mo),Dc=F({},ft,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),la=en(Dc),xd=F({},ft,{data:0}),Lo=en(xd),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(i){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(i):(i=Nc[i])?!!u[i]:!1}function ms(){return Po}var Oc=F({},fs,{key:function(i){if(i.key){var u=ps[i.key]||i.key;if(u!=="Unidentified")return u}return i.type==="keypress"?(i=Hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ic[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(i){return i.type==="keypress"?Hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ca=en(Oc),Mc=F({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=en(Mc),Ti=F({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Lc=en(Ti),Pc=F({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=en(Pc),Fc=F({},hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fa=en(Fc),kn=F({},ft,{newState:0,oldState:0}),Vc=en(kn),Bc=[9,13,27,32],Kr=Qn&&"CompositionEvent"in window,h=null;Qn&&"documentMode"in document&&(h=document.documentMode);var v=Qn&&"TextEvent"in window&&!h,T=Qn&&(!Kr||h&&8<h&&11>=h),O=" ",W=!1;function se(i,u){switch(i){case"keyup":return Bc.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nt=!1;function Gt(i,u){switch(i){case"compositionend":return be(u);case"keypress":return u.which!==32?null:(W=!0,O);case"textInput":return i=u.data,i===O&&W?null:i;default:return null}}function rt(i,u){if(nt)return i==="compositionend"||!Kr&&se(i,u)?(i=No(),wi=hu=qr=null,nt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return T&&u.locale!=="ko"?null:u.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u==="input"?!!tn[i.type]:u==="textarea"}function Ai(i,u,o,c){vi?Ei?Ei.push(c):Ei=[c]:vi=c,u=Tf(u,"onChange"),0<u.length&&(o=new ia("onChange","change",null,o,c),i.push({event:o,listeners:u}))}var ln=null,Qr=null;function Fo(i){q_(i,0)}function zc(i){var u=su(i);if(Co(u))return i}function _1(i,u){if(i==="change")return u}var b1=!1;if(Qn){var wd;if(Qn){var Td="oninput"in document;if(!Td){var v1=document.createElement("div");v1.setAttribute("oninput","return;"),Td=typeof v1.oninput=="function"}wd=Td}else wd=!1;b1=wd&&(!document.documentMode||9<document.documentMode)}function E1(){ln&&(ln.detachEvent("onpropertychange",x1),Qr=ln=null)}function x1(i){if(i.propertyName==="value"&&zc(Qr)){var u=[];Ai(u,Qr,i,ra(i)),kc(Fo,u)}}function E6(i,u,o){i==="focusin"?(E1(),ln=u,Qr=o,ln.attachEvent("onpropertychange",x1)):i==="focusout"&&E1()}function x6(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zc(Qr)}function w6(i,u){if(i==="click")return zc(u)}function T6(i,u){if(i==="input"||i==="change")return zc(u)}function A6(i,u){return i===u&&(i!==0||1/i===1/u)||i!==i&&u!==u}var Yn=typeof Object.is=="function"?Object.is:A6;function Vo(i,u){if(Yn(i,u))return!0;if(typeof i!="object"||i===null||typeof u!="object"||u===null)return!1;var o=Object.keys(i),c=Object.keys(u);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Sr.call(u,m)||!Yn(i[m],u[m]))return!1}return!0}function w1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function T1(i,u){var o=w1(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=u&&c>=u)return{node:o,offset:u-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=w1(o)}}function A1(i,u){return i&&u?i===u?!0:i&&i.nodeType===3?!1:u&&u.nodeType===3?A1(i,u.parentNode):"contains"in i?i.contains(u):i.compareDocumentPosition?!!(i.compareDocumentPosition(u)&16):!1:!1}function S1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var u=ta(i.document);u instanceof i.HTMLIFrameElement;){try{var o=typeof u.contentWindow.location.href=="string"}catch{o=!1}if(o)i=u.contentWindow;else break;u=ta(i.document)}return u}function Ad(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u&&(u==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||u==="textarea"||i.contentEditable==="true")}function S6(i,u){var o=S1(u);u=i.focusedElem;var c=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&A1(u.ownerDocument.documentElement,u)){if(c!==null&&Ad(u)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(o,u.value.length);else if(o=(i=u.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var m=u.textContent.length,g=Math.min(c.start,m);c=c.end===void 0?g:Math.min(c.end,m),!o.extend&&g>c&&(m=c,c=g,g=m),m=T1(u,g);var A=T1(u,c);m&&A&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),o.removeAllRanges(),g>c?(o.addRange(i),o.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),o.addRange(i)))}}for(i=[],o=u;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)o=i[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var k6=Qn&&"documentMode"in document&&11>=document.documentMode,ha=null,Sd=null,Bo=null,kd=!1;function k1(i,u,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;kd||ha==null||ha!==ta(c)||(c=ha,"selectionStart"in c&&Ad(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bo&&Vo(Bo,c)||(Bo=c,c=Tf(Sd,"onSelect"),0<c.length&&(u=new ia("onSelect","select",null,u,o),i.push({event:u,listeners:c}),u.target=ha)))}function gs(i,u){var o={};return o[i.toLowerCase()]=u.toLowerCase(),o["Webkit"+i]="webkit"+u,o["Moz"+i]="moz"+u,o}var da={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Cd={},C1={};Qn&&(C1=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ys(i){if(Cd[i])return Cd[i];if(!da[i])return i;var u=da[i],o;for(o in u)if(u.hasOwnProperty(o)&&o in C1)return Cd[i]=u[o];return i}var R1=ys("animationend"),D1=ys("animationiteration"),I1=ys("animationstart"),C6=ys("transitionrun"),R6=ys("transitionstart"),D6=ys("transitioncancel"),N1=ys("transitionend"),O1=new Map,M1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Dr(i,u){O1.set(i,u),Kn(u,[i])}var dr=[],pa=0,Rd=0;function jc(){for(var i=pa,u=Rd=pa=0;u<i;){var o=dr[u];dr[u++]=null;var c=dr[u];dr[u++]=null;var m=dr[u];dr[u++]=null;var g=dr[u];if(dr[u++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}g!==0&&L1(o,m,g)}}function qc(i,u,o,c){dr[pa++]=i,dr[pa++]=u,dr[pa++]=o,dr[pa++]=c,Rd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Dd(i,u,o,c){return qc(i,u,o,c),Hc(i)}function du(i,u){return qc(i,null,null,u),Hc(i)}function L1(i,u,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;m&&u!==null&&i.tag===3&&(g=i.stateNode,m=31-Ve(o),g=g.hiddenUpdates,i=g[m],i===null?g[m]=[u]:i.push(u),u.lane=o|536870912)}function Hc(i){if(50<fl)throw fl=0,P0=null,Error(r(185));for(var u=i.return;u!==null;)i=u,u=i.return;return i.tag===3?i.stateNode:null}var ma={},P1=new WeakMap;function pr(i,u){if(typeof i=="object"&&i!==null){var o=P1.get(i);return o!==void 0?o:(u={value:i,source:u,stack:xe(u)},P1.set(i,u),u)}return{value:i,source:u,stack:xe(u)}}var ga=[],ya=0,Gc=null,$c=0,mr=[],gr=0,_s=null,Si=1,ki="";function bs(i,u){ga[ya++]=$c,ga[ya++]=Gc,Gc=i,$c=u}function U1(i,u,o){mr[gr++]=Si,mr[gr++]=ki,mr[gr++]=_s,_s=i;var c=Si;i=ki;var m=32-Ve(c)-1;c&=~(1<<m),o+=1;var g=32-Ve(u)+m;if(30<g){var A=m-m%5;g=(c&(1<<A)-1).toString(32),c>>=A,m-=A,Si=1<<32-Ve(u)+m|o<<m|c,ki=g+i}else Si=1<<g|o<<m|c,ki=i}function Id(i){i.return!==null&&(bs(i,1),U1(i,1,0))}function Nd(i){for(;i===Gc;)Gc=ga[--ya],ga[ya]=null,$c=ga[--ya],ga[ya]=null;for(;i===_s;)_s=mr[--gr],mr[gr]=null,ki=mr[--gr],mr[gr]=null,Si=mr[--gr],mr[gr]=null}var Cn=null,cn=null,ot=!1,Ir=null,Yr=!1,Od=Error(r(519));function vs(i){var u=Error(r(418,""));throw qo(pr(u,i)),Od}function F1(i){var u=i.stateNode,o=i.type,c=i.memoizedProps;switch(u[Jt]=i,u[Ht]=c,o){case"dialog":Je("cancel",u),Je("close",u);break;case"iframe":case"object":case"embed":Je("load",u);break;case"video":case"audio":for(o=0;o<dl.length;o++)Je(dl[o],u);break;case"source":Je("error",u);break;case"img":case"image":case"link":Je("error",u),Je("load",u);break;case"details":Je("toggle",u);break;case"input":Je("invalid",u),as(u,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ss(u);break;case"select":Je("invalid",u);break;case"textarea":Je("invalid",u),fu(u,c.value,c.defaultValue,c.children),ss(u)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||u.textContent===""+o||c.suppressHydrationWarning===!0||K_(u.textContent,o)?(c.popover!=null&&(Je("beforetoggle",u),Je("toggle",u)),c.onScroll!=null&&Je("scroll",u),c.onScrollEnd!=null&&Je("scrollend",u),c.onClick!=null&&(u.onclick=Af),u=!0):u=!1,u||vs(i)}function V1(i){for(Cn=i.return;Cn;)switch(Cn.tag){case 3:case 27:Yr=!0;return;case 5:case 13:Yr=!1;return;default:Cn=Cn.return}}function zo(i){if(i!==Cn)return!1;if(!ot)return V1(i),ot=!0,!1;var u=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||J0(i.type,i.memoizedProps)),o=!o),o&&(u=!0),u&&cn&&vs(i),V1(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,u=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(u===0){cn=Or(i.nextSibling);break e}u--}else o!=="$"&&o!=="$!"&&o!=="$?"||u++;i=i.nextSibling}cn=null}}else cn=Cn?Or(i.stateNode.nextSibling):null;return!0}function jo(){cn=Cn=null,ot=!1}function qo(i){Ir===null?Ir=[i]:Ir.push(i)}var Ho=Error(r(460)),B1=Error(r(474)),Md={then:function(){}};function z1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kc(){}function j1(i,u,o){switch(o=i[o],o===void 0?i.push(u):o!==u&&(u.then(Kc,Kc),u=o),u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,i===Ho?Error(r(483)):i;default:if(typeof u.status=="string")u.then(Kc,Kc);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=u,i.status="pending",i.then(function(c){if(u.status==="pending"){var m=u;m.status="fulfilled",m.value=c}},function(c){if(u.status==="pending"){var m=u;m.status="rejected",m.reason=c}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,i===Ho?Error(r(483)):i}throw Go=u,Ho}}var Go=null;function q1(){if(Go===null)throw Error(r(459));var i=Go;return Go=null,i}var _a=null,$o=0;function Qc(i){var u=$o;return $o+=1,_a===null&&(_a=[]),j1(_a,i,u)}function Ko(i,u){u=u.props.ref,i.ref=u!==void 0?u:null}function Yc(i,u){throw u.$$typeof===a?Error(r(525)):(i=Object.prototype.toString.call(u),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":i)))}function H1(i){var u=i._init;return u(i._payload)}function G1(i){function u(Z,Y){if(i){var J=Z.deletions;J===null?(Z.deletions=[Y],Z.flags|=16):J.push(Y)}}function o(Z,Y){if(!i)return null;for(;Y!==null;)u(Z,Y),Y=Y.sibling;return null}function c(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function m(Z,Y){return Z=Au(Z,Y),Z.index=0,Z.sibling=null,Z}function g(Z,Y,J){return Z.index=J,i?(J=Z.alternate,J!==null?(J=J.index,J<Y?(Z.flags|=33554434,Y):J):(Z.flags|=33554434,Y)):(Z.flags|=1048576,Y)}function A(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function D(Z,Y,J,fe){return Y===null||Y.tag!==6?(Y=C0(J,Z.mode,fe),Y.return=Z,Y):(Y=m(Y,J),Y.return=Z,Y)}function j(Z,Y,J,fe){var Ae=J.type;return Ae===d?ce(Z,Y,J.props.children,fe,J.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Q&&H1(Ae)===Y.type)?(Y=m(Y,J.props),Ko(Y,J),Y.return=Z,Y):(Y=pf(J.type,J.key,J.props,null,Z.mode,fe),Ko(Y,J),Y.return=Z,Y)}function X(Z,Y,J,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=R0(J,Z.mode,fe),Y.return=Z,Y):(Y=m(Y,J.children||[]),Y.return=Z,Y)}function ce(Z,Y,J,fe,Ae){return Y===null||Y.tag!==7?(Y=Ds(J,Z.mode,fe,Ae),Y.return=Z,Y):(Y=m(Y,J),Y.return=Z,Y)}function pe(Z,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=C0(""+Y,Z.mode,J),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return J=pf(Y.type,Y.key,Y.props,null,Z.mode,J),Ko(J,Y),J.return=Z,J;case f:return Y=R0(Y,Z.mode,J),Y.return=Z,Y;case Q:var fe=Y._init;return Y=fe(Y._payload),pe(Z,Y,J)}if(P(Y)||G(Y))return Y=Ds(Y,Z.mode,J,null),Y.return=Z,Y;if(typeof Y.then=="function")return pe(Z,Qc(Y),J);if(Y.$$typeof===x)return pe(Z,ff(Z,Y),J);Yc(Z,Y)}return null}function ie(Z,Y,J,fe){var Ae=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ae!==null?null:D(Z,Y,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case l:return J.key===Ae?j(Z,Y,J,fe):null;case f:return J.key===Ae?X(Z,Y,J,fe):null;case Q:return Ae=J._init,J=Ae(J._payload),ie(Z,Y,J,fe)}if(P(J)||G(J))return Ae!==null?null:ce(Z,Y,J,fe,null);if(typeof J.then=="function")return ie(Z,Y,Qc(J),fe);if(J.$$typeof===x)return ie(Z,Y,ff(Z,J),fe);Yc(Z,J)}return null}function le(Z,Y,J,fe,Ae){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(J)||null,D(Y,Z,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return Z=Z.get(fe.key===null?J:fe.key)||null,j(Y,Z,fe,Ae);case f:return Z=Z.get(fe.key===null?J:fe.key)||null,X(Y,Z,fe,Ae);case Q:var Ye=fe._init;return fe=Ye(fe._payload),le(Z,Y,J,fe,Ae)}if(P(fe)||G(fe))return Z=Z.get(J)||null,ce(Y,Z,fe,Ae,null);if(typeof fe.then=="function")return le(Z,Y,J,Qc(fe),Ae);if(fe.$$typeof===x)return le(Z,Y,J,ff(Y,fe),Ae);Yc(Y,fe)}return null}function Ce(Z,Y,J,fe){for(var Ae=null,Ye=null,De=Y,Oe=Y=0,un=null;De!==null&&Oe<J.length;Oe++){De.index>Oe?(un=De,De=null):un=De.sibling;var lt=ie(Z,De,J[Oe],fe);if(lt===null){De===null&&(De=un);break}i&&De&&lt.alternate===null&&u(Z,De),Y=g(lt,Y,Oe),Ye===null?Ae=lt:Ye.sibling=lt,Ye=lt,De=un}if(Oe===J.length)return o(Z,De),ot&&bs(Z,Oe),Ae;if(De===null){for(;Oe<J.length;Oe++)De=pe(Z,J[Oe],fe),De!==null&&(Y=g(De,Y,Oe),Ye===null?Ae=De:Ye.sibling=De,Ye=De);return ot&&bs(Z,Oe),Ae}for(De=c(De);Oe<J.length;Oe++)un=le(De,Z,Oe,J[Oe],fe),un!==null&&(i&&un.alternate!==null&&De.delete(un.key===null?Oe:un.key),Y=g(un,Y,Oe),Ye===null?Ae=un:Ye.sibling=un,Ye=un);return i&&De.forEach(function(Nu){return u(Z,Nu)}),ot&&bs(Z,Oe),Ae}function ze(Z,Y,J,fe){if(J==null)throw Error(r(151));for(var Ae=null,Ye=null,De=Y,Oe=Y=0,un=null,lt=J.next();De!==null&&!lt.done;Oe++,lt=J.next()){De.index>Oe?(un=De,De=null):un=De.sibling;var Nu=ie(Z,De,lt.value,fe);if(Nu===null){De===null&&(De=un);break}i&&De&&Nu.alternate===null&&u(Z,De),Y=g(Nu,Y,Oe),Ye===null?Ae=Nu:Ye.sibling=Nu,Ye=Nu,De=un}if(lt.done)return o(Z,De),ot&&bs(Z,Oe),Ae;if(De===null){for(;!lt.done;Oe++,lt=J.next())lt=pe(Z,lt.value,fe),lt!==null&&(Y=g(lt,Y,Oe),Ye===null?Ae=lt:Ye.sibling=lt,Ye=lt);return ot&&bs(Z,Oe),Ae}for(De=c(De);!lt.done;Oe++,lt=J.next())lt=le(De,Z,Oe,lt.value,fe),lt!==null&&(i&&lt.alternate!==null&&De.delete(lt.key===null?Oe:lt.key),Y=g(lt,Y,Oe),Ye===null?Ae=lt:Ye.sibling=lt,Ye=lt);return i&&De.forEach(function(HT){return u(Z,HT)}),ot&&bs(Z,Oe),Ae}function Ot(Z,Y,J,fe){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case l:e:{for(var Ae=J.key;Y!==null;){if(Y.key===Ae){if(Ae=J.type,Ae===d){if(Y.tag===7){o(Z,Y.sibling),fe=m(Y,J.props.children),fe.return=Z,Z=fe;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Q&&H1(Ae)===Y.type){o(Z,Y.sibling),fe=m(Y,J.props),Ko(fe,J),fe.return=Z,Z=fe;break e}o(Z,Y);break}else u(Z,Y);Y=Y.sibling}J.type===d?(fe=Ds(J.props.children,Z.mode,fe,J.key),fe.return=Z,Z=fe):(fe=pf(J.type,J.key,J.props,null,Z.mode,fe),Ko(fe,J),fe.return=Z,Z=fe)}return A(Z);case f:e:{for(Ae=J.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){o(Z,Y.sibling),fe=m(Y,J.children||[]),fe.return=Z,Z=fe;break e}else{o(Z,Y);break}else u(Z,Y);Y=Y.sibling}fe=R0(J,Z.mode,fe),fe.return=Z,Z=fe}return A(Z);case Q:return Ae=J._init,J=Ae(J._payload),Ot(Z,Y,J,fe)}if(P(J))return Ce(Z,Y,J,fe);if(G(J)){if(Ae=G(J),typeof Ae!="function")throw Error(r(150));return J=Ae.call(J),ze(Z,Y,J,fe)}if(typeof J.then=="function")return Ot(Z,Y,Qc(J),fe);if(J.$$typeof===x)return Ot(Z,Y,ff(Z,J),fe);Yc(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(o(Z,Y.sibling),fe=m(Y,J),fe.return=Z,Z=fe):(o(Z,Y),fe=C0(J,Z.mode,fe),fe.return=Z,Z=fe),A(Z)):o(Z,Y)}return function(Z,Y,J,fe){try{$o=0;var Ae=Ot(Z,Y,J,fe);return _a=null,Ae}catch(De){if(De===Ho)throw De;var Ye=vr(29,De,null,Z.mode);return Ye.lanes=fe,Ye.return=Z,Ye}finally{}}}var Es=G1(!0),$1=G1(!1),ba=Le(null),Xc=Le(0);function K1(i,u){i=Fi,Ke(Xc,i),Ke(ba,u),Fi=i|u.baseLanes}function Ld(){Ke(Xc,Fi),Ke(ba,ba.current)}function Pd(){Fi=Xc.current,st(ba),st(Xc)}var yr=Le(null),Xr=null;function pu(i){var u=i.alternate;Ke(Kt,Kt.current&1),Ke(yr,i),Xr===null&&(u===null||ba.current!==null||u.memoizedState!==null)&&(Xr=i)}function Q1(i){if(i.tag===22){if(Ke(Kt,Kt.current),Ke(yr,i),Xr===null){var u=i.alternate;u!==null&&u.memoizedState!==null&&(Xr=i)}}else mu()}function mu(){Ke(Kt,Kt.current),Ke(yr,yr.current)}function Ci(i){st(yr),Xr===i&&(Xr=null),st(Kt)}var Kt=Le(0);function Zc(i){for(var u=i;u!==null;){if(u.tag===13){var o=u.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var I6=typeof AbortController<"u"?AbortController:function(){var i=[],u=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){u.aborted=!0,i.forEach(function(o){return o()})}},N6=t.unstable_scheduleCallback,O6=t.unstable_NormalPriority,Qt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new I6,data:new Map,refCount:0}}function Qo(i){i.refCount--,i.refCount===0&&N6(O6,function(){i.controller.abort()})}var Yo=null,Fd=0,va=0,Ea=null;function M6(i,u){if(Yo===null){var o=Yo=[];Fd=0,va=H0(),Ea={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Fd++,u.then(Y1,Y1),u}function Y1(){if(--Fd===0&&Yo!==null){Ea!==null&&(Ea.status="fulfilled");var i=Yo;Yo=null,va=0,Ea=null;for(var u=0;u<i.length;u++)(0,i[u])()}}function L6(i,u){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=u;for(var m=0;m<o.length;m++)(0,o[m])(u)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var X1=I.S;I.S=function(i,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&M6(i,u),X1!==null&&X1(i,u)};var xs=Le(null);function Vd(){var i=xs.current;return i!==null?i:yt.pooledCache}function Wc(i,u){u===null?Ke(xs,xs.current):Ke(xs,u.pool)}function Z1(){var i=Vd();return i===null?null:{parent:Qt._currentValue,pool:i}}var gu=0,Qe=null,pt=null,Vt=null,Jc=!1,xa=!1,ws=!1,ef=0,Xo=0,wa=null,P6=0;function Ut(){throw Error(r(321))}function Bd(i,u){if(u===null)return!1;for(var o=0;o<u.length&&o<i.length;o++)if(!Yn(i[o],u[o]))return!1;return!0}function zd(i,u,o,c,m,g){return gu=g,Qe=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,I.H=i===null||i.memoizedState===null?Ts:yu,ws=!1,g=o(c,m),ws=!1,xa&&(g=J1(u,o,c,m)),W1(i),g}function W1(i){I.H=Zr;var u=pt!==null&&pt.next!==null;if(gu=0,Vt=pt=Qe=null,Jc=!1,Xo=0,wa=null,u)throw Error(r(300));i===null||nn||(i=i.dependencies,i!==null&&cf(i)&&(nn=!0))}function J1(i,u,o,c){Qe=i;var m=0;do{if(xa&&(wa=null),Xo=0,xa=!1,25<=m)throw Error(r(301));if(m+=1,Vt=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=As,g=u(o,c)}while(xa);return g}function U6(){var i=I.H,u=i.useState()[0];return u=typeof u.then=="function"?Zo(u):u,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Qe.flags|=1024),u}function jd(){var i=ef!==0;return ef=0,i}function qd(i,u,o){u.updateQueue=i.updateQueue,u.flags&=-2053,i.lanes&=~o}function Hd(i){if(Jc){for(i=i.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Jc=!1}gu=0,Vt=pt=Qe=null,xa=!1,Xo=ef=0,wa=null}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Qe.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Bt(){if(pt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var u=Vt===null?Qe.memoizedState:Vt.next;if(u!==null)Vt=u,pt=i;else{if(i===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Vt===null?Qe.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}var tf;tf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zo(i){var u=Xo;return Xo+=1,wa===null&&(wa=[]),i=j1(wa,i,u),u=Qe,(Vt===null?u.memoizedState:Vt.next)===null&&(u=u.alternate,I.H=u===null||u.memoizedState===null?Ts:yu),i}function nf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zo(i);if(i.$$typeof===x)return _n(i)}throw Error(r(438,String(i)))}function Gd(i){var u=null,o=Qe.updateQueue;if(o!==null&&(u=o.memoCache),u==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(u={data:c.data.map(function(m){return m.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),o===null&&(o=tf(),Qe.updateQueue=o),o.memoCache=u,o=u.data[u.index],o===void 0)for(o=u.data[u.index]=Array(i),c=0;c<i;c++)o[c]=ne;return u.index++,o}function Ri(i,u){return typeof u=="function"?u(i):u}function rf(i){var u=Bt();return $d(u,pt,i)}function $d(i,u,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var A=m.next;m.next=g.next,g.next=A}u.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{u=m.next;var D=A=null,j=null,X=u,ce=!1;do{var pe=X.lane&-536870913;if(pe!==X.lane?(it&pe)===pe:(gu&pe)===pe){var ie=X.revertLane;if(ie===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),pe===va&&(ce=!0);else if((gu&ie)===ie){X=X.next,ie===va&&(ce=!0);continue}else pe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(D=j=pe,A=g):j=j.next=pe,Qe.lanes|=ie,Su|=ie;pe=X.action,ws&&o(g,pe),g=X.hasEagerState?X.eagerState:o(g,pe)}else ie={lane:pe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(D=j=ie,A=g):j=j.next=ie,Qe.lanes|=pe,Su|=pe;X=X.next}while(X!==null&&X!==u);if(j===null?A=g:j.next=D,!Yn(g,i.memoizedState)&&(nn=!0,ce&&(o=Ea,o!==null)))throw o;i.memoizedState=g,i.baseState=A,i.baseQueue=j,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Kd(i){var u=Bt(),o=u.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=u.memoizedState;if(m!==null){o.pending=null;var A=m=m.next;do g=i(g,A.action),A=A.next;while(A!==m);Yn(g,u.memoizedState)||(nn=!0),u.memoizedState=g,u.baseQueue===null&&(u.baseState=g),o.lastRenderedState=g}return[g,c]}function ey(i,u,o){var c=Qe,m=Bt(),g=ot;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=u();var A=!Yn((pt||m).memoizedState,o);if(A&&(m.memoizedState=o,nn=!0),m=m.queue,Xd(ry.bind(null,c,m,i),[i]),m.getSnapshot!==u||A||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,Ta(9,ny.bind(null,c,m,o,u),{destroy:void 0},null),yt===null)throw Error(r(349));g||(gu&60)!==0||ty(c,u,o)}return o}function ty(i,u,o){i.flags|=16384,i={getSnapshot:u,value:o},u=Qe.updateQueue,u===null?(u=tf(),Qe.updateQueue=u,u.stores=[i]):(o=u.stores,o===null?u.stores=[i]:o.push(i))}function ny(i,u,o,c){u.value=o,u.getSnapshot=c,iy(u)&&uy(i)}function ry(i,u,o){return o(function(){iy(u)&&uy(i)})}function iy(i){var u=i.getSnapshot;i=i.value;try{var o=u();return!Yn(i,o)}catch{return!0}}function uy(i){var u=du(i,2);u!==null&&Rn(u,i,2)}function Qd(i){var u=Ln();if(typeof i=="function"){var o=i;if(i=o(),ws){Me(!0);try{o()}finally{Me(!1)}}}return u.memoizedState=u.baseState=i,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},u}function sy(i,u,o,c){return i.baseState=o,$d(i,pt,typeof c=="function"?c:Ri)}function F6(i,u,o,c,m){if(af(i))throw Error(r(485));if(i=u.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};I.T!==null?o(!0):g.isTransition=!1,c(g),o=u.pending,o===null?(g.next=u.pending=g,ay(u,g)):(g.next=o.next,u.pending=o.next=g)}}function ay(i,u){var o=u.action,c=u.payload,m=i.state;if(u.isTransition){var g=I.T,A={};I.T=A;try{var D=o(m,c),j=I.S;j!==null&&j(A,D),oy(i,u,D)}catch(X){Yd(i,u,X)}finally{I.T=g}}else try{g=o(m,c),oy(i,u,g)}catch(X){Yd(i,u,X)}}function oy(i,u,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ly(i,u,c)},function(c){return Yd(i,u,c)}):ly(i,u,o)}function ly(i,u,o){u.status="fulfilled",u.value=o,cy(u),i.state=o,u=i.pending,u!==null&&(o=u.next,o===u?i.pending=null:(o=o.next,u.next=o,ay(i,o)))}function Yd(i,u,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do u.status="rejected",u.reason=o,cy(u),u=u.next;while(u!==c)}i.action=null}function cy(i){i=i.listeners;for(var u=0;u<i.length;u++)(0,i[u])()}function fy(i,u){return u}function hy(i,u){if(ot){var o=yt.formState;if(o!==null){e:{var c=Qe;if(ot){if(cn){t:{for(var m=cn,g=Yr;m.nodeType!==8;){if(!g){m=null;break t}if(m=Or(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){cn=Or(m.nextSibling),c=m.data==="F!";break e}}vs(c)}c=!1}c&&(u=o[0])}}return o=Ln(),o.memoizedState=o.baseState=u,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:u},o.queue=c,o=Dy.bind(null,Qe,c),c.dispatch=o,c=Qd(!1),g=t0.bind(null,Qe,!1,c.queue),c=Ln(),m={state:u,dispatch:null,action:i,pending:null},c.queue=m,o=F6.bind(null,Qe,m,g,o),m.dispatch=o,c.memoizedState=i,[u,o,!1]}function dy(i){var u=Bt();return py(u,pt,i)}function py(i,u,o){u=$d(i,u,fy)[0],i=rf(Ri)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?Zo(u):u;var c=Bt(),m=c.queue,g=m.dispatch;return o!==c.memoizedState&&(Qe.flags|=2048,Ta(9,V6.bind(null,m,o),{destroy:void 0},null)),[u,g,i]}function V6(i,u){i.action=u}function my(i){var u=Bt(),o=pt;if(o!==null)return py(u,o,i);Bt(),u=u.memoizedState,o=Bt();var c=o.queue.dispatch;return o.memoizedState=i,[u,c,!1]}function Ta(i,u,o,c){return i={tag:i,create:u,inst:o,deps:c,next:null},u=Qe.updateQueue,u===null&&(u=tf(),Qe.updateQueue=u),o=u.lastEffect,o===null?u.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,u.lastEffect=i),i}function gy(){return Bt().memoizedState}function uf(i,u,o,c){var m=Ln();Qe.flags|=i,m.memoizedState=Ta(1|u,o,{destroy:void 0},c===void 0?null:c)}function sf(i,u,o,c){var m=Bt();c=c===void 0?null:c;var g=m.memoizedState.inst;pt!==null&&c!==null&&Bd(c,pt.memoizedState.deps)?m.memoizedState=Ta(u,o,g,c):(Qe.flags|=i,m.memoizedState=Ta(1|u,o,g,c))}function yy(i,u){uf(8390656,8,i,u)}function Xd(i,u){sf(2048,8,i,u)}function _y(i,u){return sf(4,2,i,u)}function by(i,u){return sf(4,4,i,u)}function vy(i,u){if(typeof u=="function"){i=i();var o=u(i);return function(){typeof o=="function"?o():u(null)}}if(u!=null)return i=i(),u.current=i,function(){u.current=null}}function Ey(i,u,o){o=o!=null?o.concat([i]):null,sf(4,4,vy.bind(null,u,i),o)}function Zd(){}function xy(i,u){var o=Bt();u=u===void 0?null:u;var c=o.memoizedState;return u!==null&&Bd(u,c[1])?c[0]:(o.memoizedState=[i,u],i)}function wy(i,u){var o=Bt();u=u===void 0?null:u;var c=o.memoizedState;if(u!==null&&Bd(u,c[1]))return c[0];if(c=i(),ws){Me(!0);try{i()}finally{Me(!1)}}return o.memoizedState=[c,u],c}function Wd(i,u,o){return o===void 0||(gu&1073741824)!==0?i.memoizedState=u:(i.memoizedState=o,i=A_(),Qe.lanes|=i,Su|=i,o)}function Ty(i,u,o,c){return Yn(o,u)?o:ba.current!==null?(i=Wd(i,o,c),Yn(i,u)||(nn=!0),i):(gu&42)===0?(nn=!0,i.memoizedState=o):(i=A_(),Qe.lanes|=i,Su|=i,u)}function Ay(i,u,o,c,m){var g=Ee.p;Ee.p=g!==0&&8>g?g:8;var A=I.T,D={};I.T=D,t0(i,!1,u,o);try{var j=m(),X=I.S;if(X!==null&&X(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=L6(j,c);Wo(i,u,ce,Jn(i))}else Wo(i,u,c,Jn(i))}catch(pe){Wo(i,u,{then:function(){},status:"rejected",reason:pe},Jn())}finally{Ee.p=g,I.T=A}}function B6(){}function Jd(i,u,o,c){if(i.tag!==5)throw Error(r(476));var m=Sy(i).queue;Ay(i,m,u,Ne,o===null?B6:function(){return ky(i),o(c)})}function Sy(i){var u=i.memoizedState;if(u!==null)return u;u={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Ne},next:null};var o={};return u.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},next:null},i.memoizedState=u,i=i.alternate,i!==null&&(i.memoizedState=u),u}function ky(i){var u=Sy(i).next.queue;Wo(i,u,{},Jn())}function e0(){return _n(_l)}function Cy(){return Bt().memoizedState}function Ry(){return Bt().memoizedState}function z6(i){for(var u=i.return;u!==null;){switch(u.tag){case 24:case 3:var o=Jn();i=vu(o);var c=Eu(u,i,o);c!==null&&(Rn(c,u,o),tl(c,u,o)),u={cache:Ud()},i.payload=u;return}u=u.return}}function j6(i,u,o){var c=Jn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},af(i)?Iy(u,o):(o=Dd(i,u,o,c),o!==null&&(Rn(o,i,c),Ny(o,u,c)))}function Dy(i,u,o){var c=Jn();Wo(i,u,o,c)}function Wo(i,u,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(af(i))Iy(u,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=u.lastRenderedReducer,g!==null))try{var A=u.lastRenderedState,D=g(A,o);if(m.hasEagerState=!0,m.eagerState=D,Yn(D,A))return qc(i,u,m,0),yt===null&&jc(),!1}catch{}finally{}if(o=Dd(i,u,m,c),o!==null)return Rn(o,i,c),Ny(o,u,c),!0}return!1}function t0(i,u,o,c){if(c={lane:2,revertLane:H0(),action:c,hasEagerState:!1,eagerState:null,next:null},af(i)){if(u)throw Error(r(479))}else u=Dd(i,o,c,2),u!==null&&Rn(u,i,2)}function af(i){var u=i.alternate;return i===Qe||u!==null&&u===Qe}function Iy(i,u){xa=Jc=!0;var o=i.pending;o===null?u.next=u:(u.next=o.next,o.next=u),i.pending=u}function Ny(i,u,o){if((o&4194176)!==0){var c=u.lanes;c&=i.pendingLanes,o|=c,u.lanes=o,ru(i,o)}}var Zr={readContext:_n,use:nf,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut};Zr.useCacheRefresh=Ut,Zr.useMemoCache=Ut,Zr.useHostTransitionStatus=Ut,Zr.useFormState=Ut,Zr.useActionState=Ut,Zr.useOptimistic=Ut;var Ts={readContext:_n,use:nf,useCallback:function(i,u){return Ln().memoizedState=[i,u===void 0?null:u],i},useContext:_n,useEffect:yy,useImperativeHandle:function(i,u,o){o=o!=null?o.concat([i]):null,uf(4194308,4,vy.bind(null,u,i),o)},useLayoutEffect:function(i,u){return uf(4194308,4,i,u)},useInsertionEffect:function(i,u){uf(4,2,i,u)},useMemo:function(i,u){var o=Ln();u=u===void 0?null:u;var c=i();if(ws){Me(!0);try{i()}finally{Me(!1)}}return o.memoizedState=[c,u],c},useReducer:function(i,u,o){var c=Ln();if(o!==void 0){var m=o(u);if(ws){Me(!0);try{o(u)}finally{Me(!1)}}}else m=u;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=j6.bind(null,Qe,i),[c.memoizedState,i]},useRef:function(i){var u=Ln();return i={current:i},u.memoizedState=i},useState:function(i){i=Qd(i);var u=i.queue,o=Dy.bind(null,Qe,u);return u.dispatch=o,[i.memoizedState,o]},useDebugValue:Zd,useDeferredValue:function(i,u){var o=Ln();return Wd(o,i,u)},useTransition:function(){var i=Qd(!1);return i=Ay.bind(null,Qe,i.queue,!0,!1),Ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,u,o){var c=Qe,m=Ln();if(ot){if(o===void 0)throw Error(r(407));o=o()}else{if(o=u(),yt===null)throw Error(r(349));(it&60)!==0||ty(c,u,o)}m.memoizedState=o;var g={value:o,getSnapshot:u};return m.queue=g,yy(ry.bind(null,c,g,i),[i]),c.flags|=2048,Ta(9,ny.bind(null,c,g,o,u),{destroy:void 0},null),o},useId:function(){var i=Ln(),u=yt.identifierPrefix;if(ot){var o=ki,c=Si;o=(c&~(1<<32-Ve(c)-1)).toString(32)+o,u=":"+u+"R"+o,o=ef++,0<o&&(u+="H"+o.toString(32)),u+=":"}else o=P6++,u=":"+u+"r"+o.toString(32)+":";return i.memoizedState=u},useCacheRefresh:function(){return Ln().memoizedState=z6.bind(null,Qe)}};Ts.useMemoCache=Gd,Ts.useHostTransitionStatus=e0,Ts.useFormState=hy,Ts.useActionState=hy,Ts.useOptimistic=function(i){var u=Ln();u.memoizedState=u.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=o,u=t0.bind(null,Qe,!0,o),o.dispatch=u,[i,u]};var yu={readContext:_n,use:nf,useCallback:xy,useContext:_n,useEffect:Xd,useImperativeHandle:Ey,useInsertionEffect:_y,useLayoutEffect:by,useMemo:wy,useReducer:rf,useRef:gy,useState:function(){return rf(Ri)},useDebugValue:Zd,useDeferredValue:function(i,u){var o=Bt();return Ty(o,pt.memoizedState,i,u)},useTransition:function(){var i=rf(Ri)[0],u=Bt().memoizedState;return[typeof i=="boolean"?i:Zo(i),u]},useSyncExternalStore:ey,useId:Cy};yu.useCacheRefresh=Ry,yu.useMemoCache=Gd,yu.useHostTransitionStatus=e0,yu.useFormState=dy,yu.useActionState=dy,yu.useOptimistic=function(i,u){var o=Bt();return sy(o,pt,i,u)};var As={readContext:_n,use:nf,useCallback:xy,useContext:_n,useEffect:Xd,useImperativeHandle:Ey,useInsertionEffect:_y,useLayoutEffect:by,useMemo:wy,useReducer:Kd,useRef:gy,useState:function(){return Kd(Ri)},useDebugValue:Zd,useDeferredValue:function(i,u){var o=Bt();return pt===null?Wd(o,i,u):Ty(o,pt.memoizedState,i,u)},useTransition:function(){var i=Kd(Ri)[0],u=Bt().memoizedState;return[typeof i=="boolean"?i:Zo(i),u]},useSyncExternalStore:ey,useId:Cy};As.useCacheRefresh=Ry,As.useMemoCache=Gd,As.useHostTransitionStatus=e0,As.useFormState=my,As.useActionState=my,As.useOptimistic=function(i,u){var o=Bt();return pt!==null?sy(o,pt,i,u):(o.baseState=i,[i,o.queue.dispatch])};function n0(i,u,o,c){u=i.memoizedState,o=o(c,u),o=o==null?u:F({},u,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var r0={isMounted:function(i){return(i=i._reactInternals)?we(i)===i:!1},enqueueSetState:function(i,u,o){i=i._reactInternals;var c=Jn(),m=vu(c);m.payload=u,o!=null&&(m.callback=o),u=Eu(i,m,c),u!==null&&(Rn(u,i,c),tl(u,i,c))},enqueueReplaceState:function(i,u,o){i=i._reactInternals;var c=Jn(),m=vu(c);m.tag=1,m.payload=u,o!=null&&(m.callback=o),u=Eu(i,m,c),u!==null&&(Rn(u,i,c),tl(u,i,c))},enqueueForceUpdate:function(i,u){i=i._reactInternals;var o=Jn(),c=vu(o);c.tag=2,u!=null&&(c.callback=u),u=Eu(i,c,o),u!==null&&(Rn(u,i,o),tl(u,i,o))}};function Oy(i,u,o,c,m,g,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,A):u.prototype&&u.prototype.isPureReactComponent?!Vo(o,c)||!Vo(m,g):!0}function My(i,u,o,c){i=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(o,c),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(o,c),u.state!==i&&r0.enqueueReplaceState(u,u.state,null)}function Ss(i,u){var o=u;if("ref"in u){o={};for(var c in u)c!=="ref"&&(o[c]=u[c])}if(i=i.defaultProps){o===u&&(o=F({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ly(i){of(i)}function Py(i){console.error(i)}function Uy(i){of(i)}function lf(i,u){try{var o=i.onUncaughtError;o(u.value,{componentStack:u.stack})}catch(c){setTimeout(function(){throw c})}}function Fy(i,u,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function i0(i,u,o){return o=vu(o),o.tag=3,o.payload={element:null},o.callback=function(){lf(i,u)},o}function Vy(i){return i=vu(i),i.tag=3,i}function By(i,u,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){Fy(u,o,c)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Fy(u,o,c),typeof m!="function"&&(ku===null?ku=new Set([this]):ku.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function q6(i,u,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(u=o.alternate,u!==null&&el(u,o,m,!0),o=yr.current,o!==null){switch(o.tag){case 13:return Xr===null?V0():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Md?o.flags|=16384:(u=o.updateQueue,u===null?o.updateQueue=new Set([c]):u.add(c),z0(i,c,m)),!1;case 22:return o.flags|=65536,c===Md?o.flags|=16384:(u=o.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=u):(o=u.retryQueue,o===null?u.retryQueue=new Set([c]):o.add(c)),z0(i,c,m)),!1}throw Error(r(435,o.tag))}return z0(i,c,m),V0(),!1}if(ot)return u=yr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=m,c!==Od&&(i=Error(r(422),{cause:c}),qo(pr(i,o)))):(c!==Od&&(u=Error(r(423),{cause:c}),qo(pr(u,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=pr(c,o),m=i0(i.stateNode,c,m),b0(i,m),Nt!==4&&(Nt=2)),!1;var g=Error(r(520),{cause:c});if(g=pr(g,o),ll===null?ll=[g]:ll.push(g),Nt!==4&&(Nt=2),u===null)return!0;c=pr(c,o),o=u;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=i0(o.stateNode,c,i),b0(o,i),!1;case 1:if(u=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ku===null||!ku.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Vy(m),By(m,i,o,c),b0(o,m),!1}o=o.return}while(o!==null);return!1}var zy=Error(r(461)),nn=!1;function fn(i,u,o,c){u.child=i===null?$1(u,null,o,c):Es(u,i.child,o,c)}function jy(i,u,o,c,m){o=o.render;var g=u.ref;if("ref"in c){var A={};for(var D in c)D!=="ref"&&(A[D]=c[D])}else A=c;return Cs(u),c=zd(i,u,o,A,g,m),D=jd(),i!==null&&!nn?(qd(i,u,m),Di(i,u,m)):(ot&&D&&Id(u),u.flags|=1,fn(i,u,c,m),u.child)}function qy(i,u,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!k0(g)&&g.defaultProps===void 0&&o.compare===null?(u.tag=15,u.type=g,Hy(i,u,g,c,m)):(i=pf(o.type,null,c,u,u.mode,m),i.ref=u.ref,i.return=u,u.child=i)}if(g=i.child,!d0(i,m)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:Vo,o(A,c)&&i.ref===u.ref)return Di(i,u,m)}return u.flags|=1,i=Au(g,c),i.ref=u.ref,i.return=u,u.child=i}function Hy(i,u,o,c,m){if(i!==null){var g=i.memoizedProps;if(Vo(g,c)&&i.ref===u.ref)if(nn=!1,u.pendingProps=c=g,d0(i,m))(i.flags&131072)!==0&&(nn=!0);else return u.lanes=i.lanes,Di(i,u,m)}return u0(i,u,o,c,m)}function Gy(i,u,o){var c=u.pendingProps,m=c.children,g=(u.stateNode._pendingVisibility&2)!==0,A=i!==null?i.memoizedState:null;if(Jo(i,u),c.mode==="hidden"||g){if((u.flags&128)!==0){if(c=A!==null?A.baseLanes|o:o,i!==null){for(m=u.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;u.childLanes=g&~c}else u.childLanes=0,u.child=null;return $y(i,u,c,o)}if((o&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wc(u,A!==null?A.cachePool:null),A!==null?K1(u,A):Ld(),Q1(u);else return u.lanes=u.childLanes=536870912,$y(i,u,A!==null?A.baseLanes|o:o,o)}else A!==null?(Wc(u,A.cachePool),K1(u,A),mu(),u.memoizedState=null):(i!==null&&Wc(u,null),Ld(),mu());return fn(i,u,m,o),u.child}function $y(i,u,o,c){var m=Vd();return m=m===null?null:{parent:Qt._currentValue,pool:m},u.memoizedState={baseLanes:o,cachePool:m},i!==null&&Wc(u,null),Ld(),Q1(u),i!==null&&el(i,u,c,!0),null}function Jo(i,u){var o=u.ref;if(o===null)i!==null&&i.ref!==null&&(u.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(u.flags|=2097664)}}function u0(i,u,o,c,m){return Cs(u),o=zd(i,u,o,c,void 0,m),c=jd(),i!==null&&!nn?(qd(i,u,m),Di(i,u,m)):(ot&&c&&Id(u),u.flags|=1,fn(i,u,o,m),u.child)}function Ky(i,u,o,c,m,g){return Cs(u),u.updateQueue=null,o=J1(u,c,o,m),W1(i),c=jd(),i!==null&&!nn?(qd(i,u,g),Di(i,u,g)):(ot&&c&&Id(u),u.flags|=1,fn(i,u,o,g),u.child)}function Qy(i,u,o,c,m){if(Cs(u),u.stateNode===null){var g=ma,A=o.contextType;typeof A=="object"&&A!==null&&(g=_n(A)),g=new o(c,g),u.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=r0,u.stateNode=g,g._reactInternals=u,g=u.stateNode,g.props=c,g.state=u.memoizedState,g.refs={},y0(u),A=o.contextType,g.context=typeof A=="object"&&A!==null?_n(A):ma,g.state=u.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(n0(u,o,A,c),g.state=u.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&r0.enqueueReplaceState(g,g.state,null),rl(u,c,g,m),nl(),g.state=u.memoizedState),typeof g.componentDidMount=="function"&&(u.flags|=4194308),c=!0}else if(i===null){g=u.stateNode;var D=u.memoizedProps,j=Ss(o,D);g.props=j;var X=g.context,ce=o.contextType;A=ma,typeof ce=="object"&&ce!==null&&(A=_n(ce));var pe=o.getDerivedStateFromProps;ce=typeof pe=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=u.pendingProps!==D,ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||X!==A)&&My(u,g,c,A),bu=!1;var ie=u.memoizedState;g.state=ie,rl(u,c,g,m),nl(),X=u.memoizedState,D||ie!==X||bu?(typeof pe=="function"&&(n0(u,o,pe,c),X=u.memoizedState),(j=bu||Oy(u,o,j,c,ie,X,A))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(u.flags|=4194308)):(typeof g.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=c,u.memoizedState=X),g.props=c,g.state=X,g.context=A,c=j):(typeof g.componentDidMount=="function"&&(u.flags|=4194308),c=!1)}else{g=u.stateNode,_0(i,u),A=u.memoizedProps,ce=Ss(o,A),g.props=ce,pe=u.pendingProps,ie=g.context,X=o.contextType,j=ma,typeof X=="object"&&X!==null&&(j=_n(X)),D=o.getDerivedStateFromProps,(X=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==pe||ie!==j)&&My(u,g,c,j),bu=!1,ie=u.memoizedState,g.state=ie,rl(u,c,g,m),nl();var le=u.memoizedState;A!==pe||ie!==le||bu||i!==null&&i.dependencies!==null&&cf(i.dependencies)?(typeof D=="function"&&(n0(u,o,D,c),le=u.memoizedState),(ce=bu||Oy(u,o,ce,c,ie,le,j)||i!==null&&i.dependencies!==null&&cf(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,le,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,le,j)),typeof g.componentDidUpdate=="function"&&(u.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(u.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(u.flags|=1024),u.memoizedProps=c,u.memoizedState=le),g.props=c,g.state=le,g.context=j,c=ce):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(u.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ie===i.memoizedState||(u.flags|=1024),c=!1)}return g=c,Jo(i,u),c=(u.flags&128)!==0,g||c?(g=u.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),u.flags|=1,i!==null&&c?(u.child=Es(u,i.child,null,m),u.child=Es(u,null,o,m)):fn(i,u,o,m),u.memoizedState=g.state,i=u.child):i=Di(i,u,m),i}function Yy(i,u,o,c){return jo(),u.flags|=256,fn(i,u,o,c),u.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function a0(i){return{baseLanes:i,cachePool:Z1()}}function o0(i,u,o){return i=i!==null?i.childLanes&~o:0,u&&(i|=Er),i}function Xy(i,u,o){var c=u.pendingProps,m=!1,g=(u.flags&128)!==0,A;if((A=g)||(A=i!==null&&i.memoizedState===null?!1:(Kt.current&2)!==0),A&&(m=!0,u.flags&=-129),A=(u.flags&32)!==0,u.flags&=-33,i===null){if(ot){if(m?pu(u):mu(),ot){var D=cn,j;if(j=D){e:{for(j=D,D=Yr;j.nodeType!==8;){if(!D){D=null;break e}if(j=Or(j.nextSibling),j===null){D=null;break e}}D=j}D!==null?(u.memoizedState={dehydrated:D,treeContext:_s!==null?{id:Si,overflow:ki}:null,retryLane:536870912},j=vr(18,null,null,0),j.stateNode=D,j.return=u,u.child=j,Cn=u,cn=null,j=!0):j=!1}j||vs(u)}if(D=u.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?u.lanes=16:u.lanes=536870912,null;Ci(u)}return D=c.children,c=c.fallback,m?(mu(),m=u.mode,D=c0({mode:"hidden",children:D},m),c=Ds(c,m,o,null),D.return=u,c.return=u,D.sibling=c,u.child=D,m=u.child,m.memoizedState=a0(o),m.childLanes=o0(i,A,o),u.memoizedState=s0,c):(pu(u),l0(u,D))}if(j=i.memoizedState,j!==null&&(D=j.dehydrated,D!==null)){if(g)u.flags&256?(pu(u),u.flags&=-257,u=f0(i,u,o)):u.memoizedState!==null?(mu(),u.child=i.child,u.flags|=128,u=null):(mu(),m=c.fallback,D=u.mode,c=c0({mode:"visible",children:c.children},D),m=Ds(m,D,o,null),m.flags|=2,c.return=u,m.return=u,c.sibling=m,u.child=c,Es(u,i.child,null,o),c=u.child,c.memoizedState=a0(o),c.childLanes=o0(i,A,o),u.memoizedState=s0,u=m);else if(pu(u),D.data==="$!"){if(A=D.nextSibling&&D.nextSibling.dataset,A)var X=A.dgst;A=X,c=Error(r(419)),c.stack="",c.digest=A,qo({value:c,source:null,stack:null}),u=f0(i,u,o)}else if(nn||el(i,u,o,!1),A=(o&i.childLanes)!==0,nn||A){if(A=yt,A!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(A.suspendedLanes|o))!==0?0:c,c!==0&&c!==j.retryLane)throw j.retryLane=c,du(i,c),Rn(A,i,c),zy}D.data==="$?"||V0(),u=f0(i,u,o)}else D.data==="$?"?(u.flags|=128,u.child=i.child,u=iT.bind(null,i),D._reactRetry=u,u=null):(i=j.treeContext,cn=Or(D.nextSibling),Cn=u,ot=!0,Ir=null,Yr=!1,i!==null&&(mr[gr++]=Si,mr[gr++]=ki,mr[gr++]=_s,Si=i.id,ki=i.overflow,_s=u),u=l0(u,c.children),u.flags|=4096);return u}return m?(mu(),m=c.fallback,D=u.mode,j=i.child,X=j.sibling,c=Au(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&31457280,X!==null?m=Au(X,m):(m=Ds(m,D,o,null),m.flags|=2),m.return=u,c.return=u,c.sibling=m,u.child=c,c=m,m=u.child,D=i.child.memoizedState,D===null?D=a0(o):(j=D.cachePool,j!==null?(X=Qt._currentValue,j=j.parent!==X?{parent:X,pool:X}:j):j=Z1(),D={baseLanes:D.baseLanes|o,cachePool:j}),m.memoizedState=D,m.childLanes=o0(i,A,o),u.memoizedState=s0,c):(pu(u),o=i.child,i=o.sibling,o=Au(o,{mode:"visible",children:c.children}),o.return=u,o.sibling=null,i!==null&&(A=u.deletions,A===null?(u.deletions=[i],u.flags|=16):A.push(i)),u.child=o,u.memoizedState=null,o)}function l0(i,u){return u=c0({mode:"visible",children:u},i.mode),u.return=i,i.child=u}function c0(i,u){return x_(i,u,0,null)}function f0(i,u,o){return Es(u,i.child,null,o),i=l0(u,u.pendingProps.children),i.flags|=2,u.memoizedState=null,i}function Zy(i,u,o){i.lanes|=u;var c=i.alternate;c!==null&&(c.lanes|=u),m0(i.return,u,o)}function h0(i,u,o,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=u,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function Wy(i,u,o){var c=u.pendingProps,m=c.revealOrder,g=c.tail;if(fn(i,u,c.children,o),c=Kt.current,(c&2)!==0)c=c&1|2,u.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=u.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zy(i,o,u);else if(i.tag===19)Zy(i,o,u);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===u)break e;for(;i.sibling===null;){if(i.return===null||i.return===u)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Ke(Kt,c),m){case"forwards":for(o=u.child,m=null;o!==null;)i=o.alternate,i!==null&&Zc(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=u.child,u.child=null):(m=o.sibling,o.sibling=null),h0(u,!1,m,o,g);break;case"backwards":for(o=null,m=u.child,u.child=null;m!==null;){if(i=m.alternate,i!==null&&Zc(i)===null){u.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}h0(u,!0,o,null,g);break;case"together":h0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Di(i,u,o){if(i!==null&&(u.dependencies=i.dependencies),Su|=u.lanes,(o&u.childLanes)===0)if(i!==null){if(el(i,u,o,!1),(o&u.childLanes)===0)return null}else return null;if(i!==null&&u.child!==i.child)throw Error(r(153));if(u.child!==null){for(i=u.child,o=Au(i,i.pendingProps),u.child=o,o.return=u;i.sibling!==null;)i=i.sibling,o=o.sibling=Au(i,i.pendingProps),o.return=u;o.sibling=null}return u.child}function d0(i,u){return(i.lanes&u)!==0?!0:(i=i.dependencies,!!(i!==null&&cf(i)))}function H6(i,u,o){switch(u.tag){case 3:Hn(u,u.stateNode.containerInfo),_u(u,Qt,i.memoizedState.cache),jo();break;case 27:case 5:sr(u);break;case 4:Hn(u,u.stateNode.containerInfo);break;case 10:_u(u,u.type,u.memoizedProps.value);break;case 13:var c=u.memoizedState;if(c!==null)return c.dehydrated!==null?(pu(u),u.flags|=128,null):(o&u.child.childLanes)!==0?Xy(i,u,o):(pu(u),i=Di(i,u,o),i!==null?i.sibling:null);pu(u);break;case 19:var m=(i.flags&128)!==0;if(c=(o&u.childLanes)!==0,c||(el(i,u,o,!1),c=(o&u.childLanes)!==0),m){if(c)return Wy(i,u,o);u.flags|=128}if(m=u.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(Kt,Kt.current),c)break;return null;case 22:case 23:return u.lanes=0,Gy(i,u,o);case 24:_u(u,Qt,i.memoizedState.cache)}return Di(i,u,o)}function Jy(i,u,o){if(i!==null)if(i.memoizedProps!==u.pendingProps)nn=!0;else{if(!d0(i,o)&&(u.flags&128)===0)return nn=!1,H6(i,u,o);nn=(i.flags&131072)!==0}else nn=!1,ot&&(u.flags&1048576)!==0&&U1(u,$c,u.index);switch(u.lanes=0,u.tag){case 16:e:{i=u.pendingProps;var c=u.elementType,m=c._init;if(c=m(c._payload),u.type=c,typeof c=="function")k0(c)?(i=Ss(c,i),u.tag=1,u=Qy(null,u,c,i,o)):(u.tag=0,u=u0(null,u,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===C){u.tag=11,u=jy(null,u,c,i,o);break e}else if(m===H){u.tag=14,u=qy(null,u,c,i,o);break e}}throw u=R(c)||c,Error(r(306,u,""))}}return u;case 0:return u0(i,u,u.type,u.pendingProps,o);case 1:return c=u.type,m=Ss(c,u.pendingProps),Qy(i,u,c,m,o);case 3:e:{if(Hn(u,u.stateNode.containerInfo),i===null)throw Error(r(387));var g=u.pendingProps;m=u.memoizedState,c=m.element,_0(i,u),rl(u,g,null,o);var A=u.memoizedState;if(g=A.cache,_u(u,Qt,g),g!==m.cache&&g0(u,[Qt],o,!0),nl(),g=A.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:A.cache},u.updateQueue.baseState=m,u.memoizedState=m,u.flags&256){u=Yy(i,u,g,o);break e}else if(g!==c){c=pr(Error(r(424)),u),qo(c),u=Yy(i,u,g,o);break e}else for(cn=Or(u.stateNode.containerInfo.firstChild),Cn=u,ot=!0,Ir=null,Yr=!0,o=$1(u,null,g,o),u.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jo(),g===c){u=Di(i,u,o);break e}fn(i,u,g,o)}u=u.child}return u;case 26:return Jo(i,u),i===null?(o=nb(u.type,null,u.pendingProps,null))?u.memoizedState=o:ot||(o=u.type,i=u.pendingProps,c=Sf(Lt.current).createElement(o),c[Jt]=u,c[Ht]=i,hn(c,o,i),Tt(c),u.stateNode=c):u.memoizedState=nb(u.type,i.memoizedProps,u.pendingProps,i.memoizedState),null;case 27:return sr(u),i===null&&ot&&(c=u.stateNode=J_(u.type,u.pendingProps,Lt.current),Cn=u,Yr=!0,cn=Or(c.firstChild)),c=u.pendingProps.children,i!==null||ot?fn(i,u,c,o):u.child=Es(u,null,c,o),Jo(i,u),u.child;case 5:return i===null&&ot&&((m=c=cn)&&(c=vT(c,u.type,u.pendingProps,Yr),c!==null?(u.stateNode=c,Cn=u,cn=Or(c.firstChild),Yr=!1,m=!0):m=!1),m||vs(u)),sr(u),m=u.type,g=u.pendingProps,A=i!==null?i.memoizedProps:null,c=g.children,J0(m,g)?c=null:A!==null&&J0(m,A)&&(u.flags|=32),u.memoizedState!==null&&(m=zd(i,u,U6,null,null,o),_l._currentValue=m),Jo(i,u),fn(i,u,c,o),u.child;case 6:return i===null&&ot&&((i=o=cn)&&(o=ET(o,u.pendingProps,Yr),o!==null?(u.stateNode=o,Cn=u,cn=null,i=!0):i=!1),i||vs(u)),null;case 13:return Xy(i,u,o);case 4:return Hn(u,u.stateNode.containerInfo),c=u.pendingProps,i===null?u.child=Es(u,null,c,o):fn(i,u,c,o),u.child;case 11:return jy(i,u,u.type,u.pendingProps,o);case 7:return fn(i,u,u.pendingProps,o),u.child;case 8:return fn(i,u,u.pendingProps.children,o),u.child;case 12:return fn(i,u,u.pendingProps.children,o),u.child;case 10:return c=u.pendingProps,_u(u,u.type,c.value),fn(i,u,c.children,o),u.child;case 9:return m=u.type._context,c=u.pendingProps.children,Cs(u),m=_n(m),c=c(m),u.flags|=1,fn(i,u,c,o),u.child;case 14:return qy(i,u,u.type,u.pendingProps,o);case 15:return Hy(i,u,u.type,u.pendingProps,o);case 19:return Wy(i,u,o);case 22:return Gy(i,u,o);case 24:return Cs(u),c=_n(Qt),i===null?(m=Vd(),m===null&&(m=yt,g=Ud(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),u.memoizedState={parent:c,cache:m},y0(u),_u(u,Qt,m)):((i.lanes&o)!==0&&(_0(i,u),rl(u,null,null,o),nl()),m=i.memoizedState,g=u.memoizedState,m.parent!==c?(m={parent:c,cache:c},u.memoizedState=m,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=m),_u(u,Qt,c)):(c=g.cache,_u(u,Qt,c),c!==m.cache&&g0(u,[Qt],o,!0))),fn(i,u,u.pendingProps.children,o),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}var p0=Le(null),ks=null,Ii=null;function _u(i,u,o){Ke(p0,u._currentValue),u._currentValue=o}function Ni(i){i._currentValue=p0.current,st(p0)}function m0(i,u,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&u)!==u?(i.childLanes|=u,c!==null&&(c.childLanes|=u)):c!==null&&(c.childLanes&u)!==u&&(c.childLanes|=u),i===o)break;i=i.return}}function g0(i,u,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var A=m.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=m;for(var j=0;j<u.length;j++)if(D.context===u[j]){g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),m0(g.return,o,i),c||(A=null);break e}g=D.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),m0(A,o,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function el(i,u,o,c){i=null;for(var m=u,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=m.type;Yn(m.pendingProps.value,A.value)||(i!==null?i.push(D):i=[D])}}else if(m===gn.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(_l):i=[_l])}m=m.return}i!==null&&g0(u,i,o,c),u.flags|=262144}function cf(i){for(i=i.firstContext;i!==null;){if(!Yn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Cs(i){ks=i,Ii=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _n(i){return e_(ks,i)}function ff(i,u){return ks===null&&Cs(i),e_(i,u)}function e_(i,u){var o=u._currentValue;if(u={context:u,memoizedValue:o,next:null},Ii===null){if(i===null)throw Error(r(308));Ii=u,i.dependencies={lanes:0,firstContext:u},i.flags|=524288}else Ii=Ii.next=u;return o}var bu=!1;function y0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _0(i,u){i=i.updateQueue,u.updateQueue===i&&(u.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vu(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Eu(i,u,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(St&2)!==0){var m=c.pending;return m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u,u=Hc(i),L1(i,null,o),u}return qc(i,c,u,o),Hc(i)}function tl(i,u,o){if(u=u.updateQueue,u!==null&&(u=u.shared,(o&4194176)!==0)){var c=u.lanes;c&=i.pendingLanes,o|=c,u.lanes=o,ru(i,o)}}function b0(i,u){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?m=g=u:g=g.next=u}else m=g=u;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=u:i.next=u,o.lastBaseUpdate=u}var v0=!1;function nl(){if(v0){var i=Ea;if(i!==null)throw i}}function rl(i,u,o,c){v0=!1;var m=i.updateQueue;bu=!1;var g=m.firstBaseUpdate,A=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var j=D,X=j.next;j.next=null,A===null?g=X:A.next=X,A=j;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==A&&(D===null?ce.firstBaseUpdate=X:D.next=X,ce.lastBaseUpdate=j))}if(g!==null){var pe=m.baseState;A=0,ce=X=j=null,D=g;do{var ie=D.lane&-536870913,le=ie!==D.lane;if(le?(it&ie)===ie:(c&ie)===ie){ie!==0&&ie===va&&(v0=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ce=i,ze=D;ie=u;var Ot=o;switch(ze.tag){case 1:if(Ce=ze.payload,typeof Ce=="function"){pe=Ce.call(Ot,pe,ie);break e}pe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=ze.payload,ie=typeof Ce=="function"?Ce.call(Ot,pe,ie):Ce,ie==null)break e;pe=F({},pe,ie);break e;case 2:bu=!0}}ie=D.callback,ie!==null&&(i.flags|=64,le&&(i.flags|=8192),le=m.callbacks,le===null?m.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(X=ce=le,j=pe):ce=ce.next=le,A|=ie;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;le=D,D=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(j=pe),m.baseState=j,m.firstBaseUpdate=X,m.lastBaseUpdate=ce,g===null&&(m.shared.lanes=0),Su|=A,i.lanes=A,i.memoizedState=pe}}function t_(i,u){if(typeof i!="function")throw Error(r(191,i));i.call(u)}function n_(i,u){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t_(o[i],u)}function il(i,u){try{var o=u.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,A=o.inst;c=g(),A.destroy=c}o=o.next}while(o!==m)}}catch(D){gt(u,u.return,D)}}function xu(i,u,o){try{var c=u.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var A=c.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,m=u;var j=o;try{D()}catch(X){gt(m,j,X)}}}c=c.next}while(c!==g)}}catch(X){gt(u,u.return,X)}}function r_(i){var u=i.updateQueue;if(u!==null){var o=i.stateNode;try{n_(u,o)}catch(c){gt(i,i.return,c)}}}function i_(i,u,o){o.props=Ss(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){gt(i,u,c)}}function Rs(i,u){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof o=="function"?i.refCleanup=o(m):o.current=m}}catch(g){gt(i,u,g)}}function Xn(i,u){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){gt(i,u,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){gt(i,u,m)}else o.current=null}function u_(i){var u=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){gt(i,i.return,m)}}function s_(i,u,o){try{var c=i.stateNode;mT(c,i.type,o,u),c[Ht]=u}catch(m){gt(i,i.return,m)}}function a_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function E0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function x0(i,u,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,u?o.nodeType===8?o.parentNode.insertBefore(i,u):o.insertBefore(i,u):(o.nodeType===8?(u=o.parentNode,u.insertBefore(i,o)):(u=o,u.appendChild(i)),o=o._reactRootContainer,o!=null||u.onclick!==null||(u.onclick=Af));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(x0(i,u,o),i=i.sibling;i!==null;)x0(i,u,o),i=i.sibling}function hf(i,u,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,u?o.insertBefore(i,u):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(hf(i,u,o),i=i.sibling;i!==null;)hf(i,u,o),i=i.sibling}var Oi=!1,It=!1,w0=!1,o_=typeof WeakSet=="function"?WeakSet:Set,rn=null,l_=!1;function G6(i,u){if(i=i.containerInfo,Z0=Nf,i=S1(i),Ad(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var A=0,D=-1,j=-1,X=0,ce=0,pe=i,ie=null;t:for(;;){for(var le;pe!==o||m!==0&&pe.nodeType!==3||(D=A+m),pe!==g||c!==0&&pe.nodeType!==3||(j=A+c),pe.nodeType===3&&(A+=pe.nodeValue.length),(le=pe.firstChild)!==null;)ie=pe,pe=le;for(;;){if(pe===i)break t;if(ie===o&&++X===m&&(D=A),ie===g&&++ce===c&&(j=A),(le=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=le}o=D===-1||j===-1?null:{start:D,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(W0={focusedElem:i,selectionRange:o},Nf=!1,rn=u;rn!==null;)if(u=rn,i=u.child,(u.subtreeFlags&1028)!==0&&i!==null)i.return=u,rn=i;else for(;rn!==null;){switch(u=rn,g=u.alternate,i=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=u,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ce=Ss(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ze){gt(o,o.return,ze)}}break;case 3:if((i&1024)!==0){if(i=u.stateNode.containerInfo,o=i.nodeType,o===9)np(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":np(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=u.sibling,i!==null){i.return=u.return,rn=i;break}rn=u.return}return Ce=l_,l_=!1,Ce}function c_(i,u,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Li(i,o),c&4&&il(5,o);break;case 1:if(Li(i,o),c&4)if(i=o.stateNode,u===null)try{i.componentDidMount()}catch(D){gt(o,o.return,D)}else{var m=Ss(o.type,u.memoizedProps);u=u.memoizedState;try{i.componentDidUpdate(m,u,i.__reactInternalSnapshotBeforeUpdate)}catch(D){gt(o,o.return,D)}}c&64&&r_(o),c&512&&Rs(o,o.return);break;case 3:if(Li(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{n_(c,i)}catch(D){gt(o,o.return,D)}}break;case 26:Li(i,o),c&512&&Rs(o,o.return);break;case 27:case 5:Li(i,o),u===null&&c&4&&u_(o),c&512&&Rs(o,o.return);break;case 12:Li(i,o);break;case 13:Li(i,o),c&4&&d_(i,o);break;case 22:if(m=o.memoizedState!==null||Oi,!m){u=u!==null&&u.memoizedState!==null||It;var g=Oi,A=It;Oi=m,(It=u)&&!A?wu(i,o,(o.subtreeFlags&8772)!==0):Li(i,o),Oi=g,It=A}c&512&&(o.memoizedProps.mode==="manual"?Rs(o,o.return):Xn(o,o.return));break;default:Li(i,o)}}function f_(i){var u=i.alternate;u!==null&&(i.alternate=null,f_(u)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(u=i.stateNode,u!==null&&us(u)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var zt=null,Zn=!1;function Mi(i,u,o){for(o=o.child;o!==null;)h_(i,u,o),o=o.sibling}function h_(i,u,o){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(ae,o)}catch{}switch(o.tag){case 26:It||Xn(o,u),Mi(i,u,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||Xn(o,u);var c=zt,m=Zn;for(zt=o.stateNode,Mi(i,u,o),o=o.stateNode,u=o.attributes;u.length;)o.removeAttributeNode(u[0]);us(o),zt=c,Zn=m;break;case 5:It||Xn(o,u);case 6:m=zt;var g=Zn;if(zt=null,Mi(i,u,o),zt=m,Zn=g,zt!==null)if(Zn)try{i=zt,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(A){gt(o,u,A)}else try{zt.removeChild(o.stateNode)}catch(A){gt(o,u,A)}break;case 18:zt!==null&&(Zn?(u=zt,o=o.stateNode,u.nodeType===8?tp(u.parentNode,o):u.nodeType===1&&tp(u,o),xl(u)):tp(zt,o.stateNode));break;case 4:c=zt,m=Zn,zt=o.stateNode.containerInfo,Zn=!0,Mi(i,u,o),zt=c,Zn=m;break;case 0:case 11:case 14:case 15:It||xu(2,o,u),It||xu(4,o,u),Mi(i,u,o);break;case 1:It||(Xn(o,u),c=o.stateNode,typeof c.componentWillUnmount=="function"&&i_(o,u,c)),Mi(i,u,o);break;case 21:Mi(i,u,o);break;case 22:It||Xn(o,u),It=(c=It)||o.memoizedState!==null,Mi(i,u,o),It=c;break;default:Mi(i,u,o)}}function d_(i,u){if(u.memoizedState===null&&(i=u.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xl(i)}catch(o){gt(u,u.return,o)}}function $6(i){switch(i.tag){case 13:case 19:var u=i.stateNode;return u===null&&(u=i.stateNode=new o_),u;case 22:return i=i.stateNode,u=i._retryCache,u===null&&(u=i._retryCache=new o_),u;default:throw Error(r(435,i.tag))}}function T0(i,u){var o=$6(i);u.forEach(function(c){var m=uT.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function _r(i,u){var o=u.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,A=u,D=A;e:for(;D!==null;){switch(D.tag){case 27:case 5:zt=D.stateNode,Zn=!1;break e;case 3:zt=D.stateNode.containerInfo,Zn=!0;break e;case 4:zt=D.stateNode.containerInfo,Zn=!0;break e}D=D.return}if(zt===null)throw Error(r(160));h_(g,A,m),zt=null,Zn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)p_(u,i),u=u.sibling}var Nr=null;function p_(i,u){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_r(u,i),br(i),c&4&&(xu(3,i,i.return),il(3,i),xu(5,i,i.return));break;case 1:_r(u,i),br(i),c&512&&(It||o===null||Xn(o,o.return)),c&64&&Oi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Nr;if(_r(u,i),br(i),c&512&&(It||o===null||Xn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[uu]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),hn(g,c,o),g[Jt]=i,Tt(g),c=g;break e;case"link":var A=ub("link","href",m).get(c+(o.href||""));if(A){for(var D=0;D<A.length;D++)if(g=A[D],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(D,1);break t}}g=m.createElement(c),hn(g,c,o),m.head.appendChild(g);break;case"meta":if(A=ub("meta","content",m).get(c+(o.content||""))){for(D=0;D<A.length;D++)if(g=A[D],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(D,1);break t}}g=m.createElement(c),hn(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Jt]=i,Tt(g),c=g}i.stateNode=c}else sb(m,i.type,i.stateNode);else i.stateNode=ib(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?sb(m,i.type,i.stateNode):ib(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&s_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){m=i.stateNode,g=i.memoizedProps;try{for(var j=m.firstChild;j;){var X=j.nextSibling,ce=j.nodeName;j[uu]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=X}for(var pe=i.type,ie=m.attributes;ie.length;)m.removeAttributeNode(ie[0]);hn(m,pe,g),m[Jt]=i,m[Ht]=g}catch(Ce){gt(i,i.return,Ce)}}case 5:if(_r(u,i),br(i),c&512&&(It||o===null||Xn(o,o.return)),i.flags&32){m=i.stateNode;try{lr(m,"")}catch(Ce){gt(i,i.return,Ce)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,s_(i,m,o!==null?o.memoizedProps:m)),c&1024&&(w0=!0);break;case 6:if(_r(u,i),br(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Ce){gt(i,i.return,Ce)}}break;case 3:if(Rf=null,m=Nr,Nr=kf(u.containerInfo),_r(u,i),Nr=m,br(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{xl(u.containerInfo)}catch(Ce){gt(i,i.return,Ce)}w0&&(w0=!1,m_(i));break;case 4:c=Nr,Nr=kf(i.stateNode.containerInfo),_r(u,i),br(i),Nr=c;break;case 12:_r(u,i),br(i);break;case 13:_r(u,i),br(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(O0=Wt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,T0(i,c)));break;case 22:if(c&512&&(It||o===null||Xn(o,o.return)),j=i.memoizedState!==null,X=o!==null&&o.memoizedState!==null,ce=Oi,pe=It,Oi=ce||j,It=pe||X,_r(u,i),It=pe,Oi=ce,br(i),u=i.stateNode,u._current=i,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,c&8192&&(u._visibility=j?u._visibility&-2:u._visibility|1,j&&(u=Oi||It,o===null||X||u||Aa(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,u=i;;){if(u.tag===5||u.tag===26||u.tag===27){if(o===null){X=o=u;try{if(m=X.stateNode,j)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{A=X.stateNode,D=X.memoizedProps.style;var le=D!=null&&D.hasOwnProperty("display")?D.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ce){gt(X,X.return,Ce)}}}else if(u.tag===6){if(o===null){X=u;try{X.stateNode.nodeValue=j?"":X.memoizedProps}catch(Ce){gt(X,X.return,Ce)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===i)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break e;for(;u.sibling===null;){if(u.return===null||u.return===i)break e;o===u&&(o=null),u=u.return}o===u&&(o=null),u.sibling.return=u.return,u=u.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,T0(i,o))));break;case 19:_r(u,i),br(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,T0(i,c)));break;case 21:break;default:_r(u,i),br(i)}}function br(i){var u=i.flags;if(u&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(a_(o)){var c=o;break e}o=o.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,g=E0(i);hf(i,g,m);break;case 5:var A=c.stateNode;c.flags&32&&(lr(A,""),c.flags&=-33);var D=E0(i);hf(i,D,A);break;case 3:case 4:var j=c.stateNode.containerInfo,X=E0(i);x0(i,X,j);break;default:throw Error(r(161))}}}catch(ce){gt(i,i.return,ce)}i.flags&=-3}u&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var u=i;m_(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),i=i.sibling}}function Li(i,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)c_(i,u.alternate,u),u=u.sibling}function Aa(i){for(i=i.child;i!==null;){var u=i;switch(u.tag){case 0:case 11:case 14:case 15:xu(4,u,u.return),Aa(u);break;case 1:Xn(u,u.return);var o=u.stateNode;typeof o.componentWillUnmount=="function"&&i_(u,u.return,o),Aa(u);break;case 26:case 27:case 5:Xn(u,u.return),Aa(u);break;case 22:Xn(u,u.return),u.memoizedState===null&&Aa(u);break;default:Aa(u)}i=i.sibling}}function wu(i,u,o){for(o=o&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var c=u.alternate,m=i,g=u,A=g.flags;switch(g.tag){case 0:case 11:case 15:wu(m,g,o),il(4,g);break;case 1:if(wu(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){gt(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var D=c.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)t_(j[m],D)}catch(X){gt(c,c.return,X)}}o&&A&64&&r_(g),Rs(g,g.return);break;case 26:case 27:case 5:wu(m,g,o),o&&c===null&&A&4&&u_(g),Rs(g,g.return);break;case 12:wu(m,g,o);break;case 13:wu(m,g,o),o&&A&4&&d_(m,g);break;case 22:g.memoizedState===null&&wu(m,g,o),Rs(g,g.return);break;default:wu(m,g,o)}u=u.sibling}}function A0(i,u){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(i=u.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Qo(o))}function S0(i,u){i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&Qo(i))}function Tu(i,u,o,c){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)g_(i,u,o,c),u=u.sibling}function g_(i,u,o,c){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Tu(i,u,o,c),m&2048&&il(9,u);break;case 3:Tu(i,u,o,c),m&2048&&(i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&Qo(i)));break;case 12:if(m&2048){Tu(i,u,o,c),i=u.stateNode;try{var g=u.memoizedProps,A=g.id,D=g.onPostCommit;typeof D=="function"&&D(A,u.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){gt(u,u.return,j)}}else Tu(i,u,o,c);break;case 23:break;case 22:g=u.stateNode,u.memoizedState!==null?g._visibility&4?Tu(i,u,o,c):ul(i,u):g._visibility&4?Tu(i,u,o,c):(g._visibility|=4,Sa(i,u,o,c,(u.subtreeFlags&10256)!==0)),m&2048&&A0(u.alternate,u);break;case 24:Tu(i,u,o,c),m&2048&&S0(u.alternate,u);break;default:Tu(i,u,o,c)}}function Sa(i,u,o,c,m){for(m=m&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var g=i,A=u,D=o,j=c,X=A.flags;switch(A.tag){case 0:case 11:case 15:Sa(g,A,D,j,m),il(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?Sa(g,A,D,j,m):ul(g,A):(ce._visibility|=4,Sa(g,A,D,j,m)),m&&X&2048&&A0(A.alternate,A);break;case 24:Sa(g,A,D,j,m),m&&X&2048&&S0(A.alternate,A);break;default:Sa(g,A,D,j,m)}u=u.sibling}}function ul(i,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var o=i,c=u,m=c.flags;switch(c.tag){case 22:ul(o,c),m&2048&&A0(c.alternate,c);break;case 24:ul(o,c),m&2048&&S0(c.alternate,c);break;default:ul(o,c)}u=u.sibling}}var sl=8192;function ka(i){if(i.subtreeFlags&sl)for(i=i.child;i!==null;)y_(i),i=i.sibling}function y_(i){switch(i.tag){case 26:ka(i),i.flags&sl&&i.memoizedState!==null&&MT(Nr,i.memoizedState,i.memoizedProps);break;case 5:ka(i);break;case 3:case 4:var u=Nr;Nr=kf(i.stateNode.containerInfo),ka(i),Nr=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=sl,sl=16777216,ka(i),sl=u):ka(i));break;default:ka(i)}}function __(i){var u=i.alternate;if(u!==null&&(i=u.child,i!==null)){u.child=null;do u=i.sibling,i.sibling=null,i=u;while(i!==null)}}function al(i){var u=i.deletions;if((i.flags&16)!==0){if(u!==null)for(var o=0;o<u.length;o++){var c=u[o];rn=c,v_(c,i)}__(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 0:case 11:case 15:al(i),i.flags&2048&&xu(9,i,i.return);break;case 3:al(i);break;case 12:al(i);break;case 22:var u=i.stateNode;i.memoizedState!==null&&u._visibility&4&&(i.return===null||i.return.tag!==13)?(u._visibility&=-5,df(i)):al(i);break;default:al(i)}}function df(i){var u=i.deletions;if((i.flags&16)!==0){if(u!==null)for(var o=0;o<u.length;o++){var c=u[o];rn=c,v_(c,i)}__(i)}for(i=i.child;i!==null;){switch(u=i,u.tag){case 0:case 11:case 15:xu(8,u,u.return),df(u);break;case 22:o=u.stateNode,o._visibility&4&&(o._visibility&=-5,df(u));break;default:df(u)}i=i.sibling}}function v_(i,u){for(;rn!==null;){var o=rn;switch(o.tag){case 0:case 11:case 15:xu(8,o,u);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Qo(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,rn=c;else e:for(o=i;rn!==null;){c=rn;var m=c.sibling,g=c.return;if(f_(c),c===o){rn=null;break e}if(m!==null){m.return=g,rn=m;break e}rn=g}}}function K6(i,u,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,u,o,c){return new K6(i,u,o,c)}function k0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Au(i,u){var o=i.alternate;return o===null?(o=vr(i.tag,u,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=u,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,u=i.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function E_(i,u){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=u,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,u=o.dependencies,i.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),i}function pf(i,u,o,c,m,g){var A=0;if(c=i,typeof i=="function")k0(i)&&(A=1);else if(typeof i=="string")A=NT(i,o,Rt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Ds(o.children,m,g,u);case p:A=8,m|=24;break;case y:return i=vr(12,o,u,m|2),i.elementType=y,i.lanes=g,i;case L:return i=vr(13,o,u,m),i.elementType=L,i.lanes=g,i;case V:return i=vr(19,o,u,m),i.elementType=V,i.lanes=g,i;case $:return x_(o,m,g,u);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case x:A=10;break e;case w:A=9;break e;case C:A=11;break e;case H:A=14;break e;case Q:A=16,c=null;break e}A=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return u=vr(A,o,u,m),u.elementType=i,u.type=c,u.lanes=g,u}function Ds(i,u,o,c){return i=vr(7,i,c,u),i.lanes=o,i}function x_(i,u,o,c){i=vr(22,i,c,u),i.elementType=$,i.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(r(456));if((m._pendingVisibility&2)===0){var A=du(g,2);A!==null&&(m._pendingVisibility|=2,Rn(A,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(r(456));if((m._pendingVisibility&2)!==0){var A=du(g,2);A!==null&&(m._pendingVisibility&=-3,Rn(A,g,2))}}};return i.stateNode=m,i}function C0(i,u,o){return i=vr(6,i,null,u),i.lanes=o,i}function R0(i,u,o){return u=vr(4,i.children!==null?i.children:[],i.key,u),u.lanes=o,u.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},u}function Pi(i){i.flags|=4}function w_(i,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ab(u)){if(u=yr.current,u!==null&&((it&4194176)===it?Xr!==null:(it&62914560)!==it&&(it&536870912)===0||u!==Xr))throw Go=Md,B1;i.flags|=8192}}function mf(i,u){u!==null&&(i.flags|=4),i.flags&16384&&(u=i.tag!==22?tu():536870912,i.lanes|=u,Ra|=u)}function ol(i,u){if(!ot)switch(i.tailMode){case"hidden":u=i.tail;for(var o=null;u!==null;)u.alternate!==null&&(o=u),u=u.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?u||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var u=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(u)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,u}function Q6(i,u,o){var c=u.pendingProps;switch(Nd(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(u),null;case 1:return At(u),null;case 3:return o=u.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),u.memoizedState.cache!==c&&(u.flags|=2048),Ni(Qt),On(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(zo(u)?Pi(u):i===null||i.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ir!==null&&(U0(Ir),Ir=null))),At(u),null;case 26:return o=u.memoizedState,i===null?(Pi(u),o!==null?(At(u),w_(u,o)):(At(u),u.flags&=-16777217)):o?o!==i.memoizedState?(Pi(u),At(u),w_(u,o)):(At(u),u.flags&=-16777217):(i.memoizedProps!==c&&Pi(u),At(u),u.flags&=-16777217),null;case 27:Fr(u),o=Lt.current;var m=u.type;if(i!==null&&u.stateNode!=null)i.memoizedProps!==c&&Pi(u);else{if(!c){if(u.stateNode===null)throw Error(r(166));return At(u),null}i=Rt.current,zo(u)?F1(u):(i=J_(m,c,o),u.stateNode=i,Pi(u))}return At(u),null;case 5:if(Fr(u),o=u.type,i!==null&&u.stateNode!=null)i.memoizedProps!==c&&Pi(u);else{if(!c){if(u.stateNode===null)throw Error(r(166));return At(u),null}if(i=Rt.current,zo(u))F1(u);else{switch(m=Sf(Lt.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[Jt]=u,i[Ht]=c;e:for(m=u.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break e;for(;m.sibling===null;){if(m.return===null||m.return===u)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}u.stateNode=i;e:switch(hn(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pi(u)}}return At(u),u.flags&=-16777217,null;case 6:if(i&&u.stateNode!=null)i.memoizedProps!==c&&Pi(u);else{if(typeof c!="string"&&u.stateNode===null)throw Error(r(166));if(i=Lt.current,zo(u)){if(i=u.stateNode,o=u.memoizedProps,c=null,m=Cn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Jt]=u,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||K_(i.nodeValue,o)),i||vs(u)}else i=Sf(i).createTextNode(c),i[Jt]=u,u.stateNode=i}return At(u),null;case 13:if(c=u.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=zo(u),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=u.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Jt]=u}else jo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;At(u),m=!1}else Ir!==null&&(U0(Ir),Ir=null),m=!0;if(!m)return u.flags&256?(Ci(u),u):(Ci(u),null)}if(Ci(u),(u.flags&128)!==0)return u.lanes=o,u;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=u.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==i&&o&&(u.child.flags|=8192),mf(u,u.updateQueue),At(u),null;case 4:return On(),i===null&&Q0(u.stateNode.containerInfo),At(u),null;case 10:return Ni(u.type),At(u),null;case 19:if(st(Kt),m=u.memoizedState,m===null)return At(u),null;if(c=(u.flags&128)!==0,g=m.rendering,g===null)if(c)ol(m,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=u.child;i!==null;){if(g=Zc(i),g!==null){for(u.flags|=128,ol(m,!1),i=g.updateQueue,u.updateQueue=i,mf(u,i),u.subtreeFlags=0,i=o,o=u.child;o!==null;)E_(o,i),o=o.sibling;return Ke(Kt,Kt.current&1|2),u.child}i=i.sibling}m.tail!==null&&Wt()>gf&&(u.flags|=128,c=!0,ol(m,!1),u.lanes=4194304)}else{if(!c)if(i=Zc(g),i!==null){if(u.flags|=128,c=!0,i=i.updateQueue,u.updateQueue=i,mf(u,i),ol(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!ot)return At(u),null}else 2*Wt()-m.renderingStartTime>gf&&o!==536870912&&(u.flags|=128,c=!0,ol(m,!1),u.lanes=4194304);m.isBackwards?(g.sibling=u.child,u.child=g):(i=m.last,i!==null?i.sibling=g:u.child=g,m.last=g)}return m.tail!==null?(u=m.tail,m.rendering=u,m.tail=u.sibling,m.renderingStartTime=Wt(),u.sibling=null,i=Kt.current,Ke(Kt,c?i&1|2:i&1),u):(At(u),null);case 22:case 23:return Ci(u),Pd(),c=u.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(u.flags|=8192):c&&(u.flags|=8192),c?(o&536870912)!==0&&(u.flags&128)===0&&(At(u),u.subtreeFlags&6&&(u.flags|=8192)):At(u),o=u.updateQueue,o!==null&&mf(u,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==o&&(u.flags|=2048),i!==null&&st(xs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),u.memoizedState.cache!==o&&(u.flags|=2048),Ni(Qt),At(u),null;case 25:return null}throw Error(r(156,u.tag))}function Y6(i,u){switch(Nd(u),u.tag){case 1:return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 3:return Ni(Qt),On(),i=u.flags,(i&65536)!==0&&(i&128)===0?(u.flags=i&-65537|128,u):null;case 26:case 27:case 5:return Fr(u),null;case 13:if(Ci(u),i=u.memoizedState,i!==null&&i.dehydrated!==null){if(u.alternate===null)throw Error(r(340));jo()}return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 19:return st(Kt),null;case 4:return On(),null;case 10:return Ni(u.type),null;case 22:case 23:return Ci(u),Pd(),i!==null&&st(xs),i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 24:return Ni(Qt),null;case 25:return null;default:return null}}function T_(i,u){switch(Nd(u),u.tag){case 3:Ni(Qt),On();break;case 26:case 27:case 5:Fr(u);break;case 4:On();break;case 13:Ci(u);break;case 19:st(Kt);break;case 10:Ni(u.type);break;case 22:case 23:Ci(u),Pd(),i!==null&&st(xs);break;case 24:Ni(Qt)}}var X6={getCacheForType:function(i){var u=_n(Qt),o=u.data.get(i);return o===void 0&&(o=i(),u.data.set(i,o)),o}},Z6=typeof WeakMap=="function"?WeakMap:Map,St=0,yt=null,Xe=null,it=0,_t=0,Wn=null,Ui=!1,Ca=!1,D0=!1,Fi=0,Nt=0,Su=0,Is=0,I0=0,Er=0,Ra=0,ll=null,Wr=null,N0=!1,O0=0,gf=1/0,yf=null,ku=null,_f=!1,Ns=null,cl=0,M0=0,L0=null,fl=0,P0=null;function Jn(){if((St&2)!==0&&it!==0)return it&-it;if(I.T!==null){var i=va;return i!==0?i:H0()}return wc()}function A_(){Er===0&&(Er=(it&536870912)===0||ot?wo():536870912);var i=yr.current;return i!==null&&(i.flags|=32),Er}function Rn(i,u,o){(i===yt&&_t===2||i.cancelPendingCommit!==null)&&(Da(i,0),Vi(i,it,Er,!1)),Pt(i,o),((St&2)===0||i!==yt)&&(i===yt&&((St&2)===0&&(Is|=o),Nt===4&&Vi(i,it,Er,!1)),Jr(i))}function S_(i,u,o){if((St&6)!==0)throw Error(r(327));var c=!o&&(u&60)===0&&(u&i.expiredLanes)===0||eu(i,u),m=c?eT(i,u):B0(i,u,!0),g=c;do{if(m===0){Ca&&!c&&Vi(i,u,0,!1);break}else if(m===6)Vi(i,u,0,!Ui);else{if(o=i.current.alternate,g&&!W6(o)){m=B0(i,u,!1),g=!1;continue}if(m===2){if(g=u,i.errorRecoveryDisabledLanes&g)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){u=A;e:{var D=i;m=ll;var j=D.current.memoizedState.isDehydrated;if(j&&(Da(D,A).flags|=256),A=B0(D,A,!1),A!==2){if(D0&&!j){D.errorRecoveryDisabledLanes|=g,Is|=g,m=4;break e}g=Wr,Wr=m,g!==null&&U0(g)}m=A}if(g=!1,m!==2)continue}}if(m===1){Da(i,0),Vi(i,u,0,!0);break}e:{switch(c=i,m){case 0:case 1:throw Error(r(345));case 4:if((u&4194176)===u){Vi(c,u,Er,!Ui);break e}break;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=o,c.finishedLanes=u,(u&62914560)===u&&(g=O0+300-Wt(),10<g)){if(Vi(c,u,Er,!Ui),ar(c,0)!==0)break e;c.timeoutHandle=X_(k_.bind(null,c,o,Wr,yf,N0,u,Er,Is,Ra,Ui,2,-0,0),g);break e}k_(c,o,Wr,yf,N0,u,Er,Is,Ra,Ui,0,-0,0)}}break}while(!0);Jr(i)}function U0(i){Wr===null?Wr=i:Wr.push.apply(Wr,i)}function k_(i,u,o,c,m,g,A,D,j,X,ce,pe,ie){var le=u.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:OT},y_(u),u=LT(),u!==null)){i.cancelPendingCommit=u(M_.bind(null,i,o,c,m,A,D,j,1,pe,ie)),Vi(i,g,A,!X);return}M_(i,o,c,m,A,D,j,ce,pe,ie)}function W6(i){for(var u=i;;){var o=u.tag;if((o===0||o===11||o===15)&&u.flags&16384&&(o=u.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Yn(g(),m))return!1}catch{return!1}}if(o=u.child,u.subtreeFlags&16384&&o!==null)o.return=u,u=o;else{if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Vi(i,u,o,c){u&=~I0,u&=~Is,i.suspendedLanes|=u,i.pingedLanes&=~u,c&&(i.warmLanes|=u),c=i.expirationTimes;for(var m=u;0<m;){var g=31-Ve(m),A=1<<g;c[g]=-1,m&=~A}o!==0&&nu(i,o,u)}function bf(){return(St&6)===0?(hl(0),!1):!0}function F0(){if(Xe!==null){if(_t===0)var i=Xe.return;else i=Xe,Ii=ks=null,Hd(i),_a=null,$o=0,i=Xe;for(;i!==null;)T_(i.alternate,i),i=i.return;Xe=null}}function Da(i,u){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,yT(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),F0(),yt=i,Xe=o=Au(i.current,null),it=u,_t=0,Wn=null,Ui=!1,Ca=eu(i,u),D0=!1,Ra=Er=I0=Is=Su=Nt=0,Wr=ll=null,N0=!1,(u&8)!==0&&(u|=u&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=u;0<c;){var m=31-Ve(c),g=1<<m;u|=i[m],c&=~g}return Fi=u,jc(),o}function C_(i,u){Qe=null,I.H=Zr,u===Ho?(u=q1(),_t=3):u===B1?(u=q1(),_t=4):_t=u===zy?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Wn=u,Xe===null&&(Nt=1,lf(i,pr(u,i.current)))}function R_(){var i=I.H;return I.H=Zr,i===null?Zr:i}function D_(){var i=I.A;return I.A=X6,i}function V0(){Nt=4,Ui||(it&4194176)!==it&&yr.current!==null||(Ca=!0),(Su&134217727)===0&&(Is&134217727)===0||yt===null||Vi(yt,it,Er,!1)}function B0(i,u,o){var c=St;St|=2;var m=R_(),g=D_();(yt!==i||it!==u)&&(yf=null,Da(i,u)),u=!1;var A=Nt;e:do try{if(_t!==0&&Xe!==null){var D=Xe,j=Wn;switch(_t){case 8:F0(),A=6;break e;case 3:case 2:case 6:yr.current===null&&(u=!0);var X=_t;if(_t=0,Wn=null,Ia(i,D,j,X),o&&Ca){A=0;break e}break;default:X=_t,_t=0,Wn=null,Ia(i,D,j,X)}}J6(),A=Nt;break}catch(ce){C_(i,ce)}while(!0);return u&&i.shellSuspendCounter++,Ii=ks=null,St=c,I.H=m,I.A=g,Xe===null&&(yt=null,it=0,jc()),A}function J6(){for(;Xe!==null;)I_(Xe)}function eT(i,u){var o=St;St|=2;var c=R_(),m=D_();yt!==i||it!==u?(yf=null,gf=Wt()+500,Da(i,u)):Ca=eu(i,u);e:do try{if(_t!==0&&Xe!==null){u=Xe;var g=Wn;t:switch(_t){case 1:_t=0,Wn=null,Ia(i,u,g,1);break;case 2:if(z1(g)){_t=0,Wn=null,N_(u);break}u=function(){_t===2&&yt===i&&(_t=7),Jr(i)},g.then(u,u);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:z1(g)?(_t=0,Wn=null,N_(u)):(_t=0,Wn=null,Ia(i,u,g,7));break;case 5:var A=null;switch(Xe.tag){case 26:A=Xe.memoizedState;case 5:case 27:var D=Xe;if(!A||ab(A)){_t=0,Wn=null;var j=D.sibling;if(j!==null)Xe=j;else{var X=D.return;X!==null?(Xe=X,vf(X)):Xe=null}break t}}_t=0,Wn=null,Ia(i,u,g,5);break;case 6:_t=0,Wn=null,Ia(i,u,g,6);break;case 8:F0(),Nt=6;break e;default:throw Error(r(462))}}tT();break}catch(ce){C_(i,ce)}while(!0);return Ii=ks=null,I.H=c,I.A=m,St=o,Xe!==null?0:(yt=null,it=0,jc(),Nt)}function tT(){for(;Xe!==null&&!yn();)I_(Xe)}function I_(i){var u=Jy(i.alternate,i,Fi);i.memoizedProps=i.pendingProps,u===null?vf(i):Xe=u}function N_(i){var u=i,o=u.alternate;switch(u.tag){case 15:case 0:u=Ky(o,u,u.pendingProps,u.type,void 0,it);break;case 11:u=Ky(o,u,u.pendingProps,u.type.render,u.ref,it);break;case 5:Hd(u);default:T_(o,u),u=Xe=E_(u,Fi),u=Jy(o,u,Fi)}i.memoizedProps=i.pendingProps,u===null?vf(i):Xe=u}function Ia(i,u,o,c){Ii=ks=null,Hd(u),_a=null,$o=0;var m=u.return;try{if(q6(i,m,u,o,it)){Nt=1,lf(i,pr(o,i.current)),Xe=null;return}}catch(g){if(m!==null)throw Xe=m,g;Nt=1,lf(i,pr(o,i.current)),Xe=null;return}u.flags&32768?(ot||c===1?i=!0:Ca||(it&536870912)!==0?i=!1:(Ui=i=!0,(c===2||c===3||c===6)&&(c=yr.current,c!==null&&c.tag===13&&(c.flags|=16384))),O_(u,i)):vf(u)}function vf(i){var u=i;do{if((u.flags&32768)!==0){O_(u,Ui);return}i=u.return;var o=Q6(u.alternate,u,Fi);if(o!==null){Xe=o;return}if(u=u.sibling,u!==null){Xe=u;return}Xe=u=i}while(u!==null);Nt===0&&(Nt=5)}function O_(i,u){do{var o=Y6(i.alternate,i);if(o!==null){o.flags&=32767,Xe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!u&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=o}while(i!==null);Nt=6,Xe=null}function M_(i,u,o,c,m,g,A,D,j,X){var ce=I.T,pe=Ee.p;try{Ee.p=2,I.T=null,nT(i,u,o,c,pe,m,g,A,D,j,X)}finally{I.T=ce,Ee.p=pe}}function nT(i,u,o,c,m,g,A,D){do Na();while(Ns!==null);if((St&6)!==0)throw Error(r(327));var j=i.finishedWork;if(c=i.finishedLanes,j===null)return null;if(i.finishedWork=null,i.finishedLanes=0,j===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var X=j.lanes|j.childLanes;if(X|=Rd,Ec(i,c,X,g,A,D),i===yt&&(Xe=yt=null,it=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||_f||(_f=!0,M0=X,L0=o,sT(b,function(){return Na(),null})),o=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||o?(o=I.T,I.T=null,g=Ee.p,Ee.p=2,A=St,St|=4,G6(i,j),p_(j,i),S6(W0,i.containerInfo),Nf=!!Z0,W0=Z0=null,i.current=j,c_(i,j.alternate,j),kr(),St=A,Ee.p=g,I.T=o):i.current=j,_f?(_f=!1,Ns=i,cl=c):L_(i,X),X=i.pendingLanes,X===0&&(ku=null),tt(j.stateNode),Jr(i),u!==null)for(m=i.onRecoverableError,j=0;j<u.length;j++)X=u[j],m(X.value,{componentStack:X.stack});return(cl&3)!==0&&Na(),X=i.pendingLanes,(c&4194218)!==0&&(X&42)!==0?i===P0?fl++:(fl=0,P0=i):fl=0,hl(0),null}function L_(i,u){(i.pooledCacheLanes&=u)===0&&(u=i.pooledCache,u!=null&&(i.pooledCache=null,Qo(u)))}function Na(){if(Ns!==null){var i=Ns,u=M0;M0=0;var o=xc(cl),c=I.T,m=Ee.p;try{if(Ee.p=32>o?32:o,I.T=null,Ns===null)var g=!1;else{o=L0,L0=null;var A=Ns,D=cl;if(Ns=null,cl=0,(St&6)!==0)throw Error(r(331));var j=St;if(St|=4,b_(A.current),g_(A,A.current,D,o),St=j,hl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(ae,A)}catch{}g=!0}return g}finally{Ee.p=m,I.T=c,L_(i,u)}}return!1}function P_(i,u,o){u=pr(o,u),u=i0(i.stateNode,u,2),i=Eu(i,u,2),i!==null&&(Pt(i,2),Jr(i))}function gt(i,u,o){if(i.tag===3)P_(i,i,o);else for(;u!==null;){if(u.tag===3){P_(u,i,o);break}else if(u.tag===1){var c=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ku===null||!ku.has(c))){i=pr(o,i),o=Vy(2),c=Eu(u,o,2),c!==null&&(By(o,c,u,i),Pt(c,2),Jr(c));break}}u=u.return}}function z0(i,u,o){var c=i.pingCache;if(c===null){c=i.pingCache=new Z6;var m=new Set;c.set(u,m)}else m=c.get(u),m===void 0&&(m=new Set,c.set(u,m));m.has(o)||(D0=!0,m.add(o),i=rT.bind(null,i,u,o),u.then(i,i))}function rT(i,u,o){var c=i.pingCache;c!==null&&c.delete(u),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,yt===i&&(it&o)===o&&(Nt===4||Nt===3&&(it&62914560)===it&&300>Wt()-O0?(St&2)===0&&Da(i,0):I0|=o,Ra===it&&(Ra=0)),Jr(i)}function U_(i,u){u===0&&(u=tu()),i=du(i,u),i!==null&&(Pt(i,u),Jr(i))}function iT(i){var u=i.memoizedState,o=0;u!==null&&(o=u.retryLane),U_(i,o)}function uT(i,u){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(u),U_(i,o)}function sT(i,u){return Gn(i,u)}var Ef=null,Oa=null,j0=!1,xf=!1,q0=!1,Os=0;function Jr(i){i!==Oa&&i.next===null&&(Oa===null?Ef=Oa=i:Oa=Oa.next=i),xf=!0,j0||(j0=!0,oT(aT))}function hl(i,u){if(!q0&&xf){q0=!0;do for(var o=!1,c=Ef;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var A=c.suspendedLanes,D=c.pingedLanes;g=(1<<31-Ve(42|i)+1)-1,g&=m&~(A&~D),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,B_(c,g))}else g=it,g=ar(c,c===yt?g:0),(g&3)===0||eu(c,g)||(o=!0,B_(c,g));c=c.next}while(o);q0=!1}}function aT(){xf=j0=!1;var i=0;Os!==0&&(gT()&&(i=Os),Os=0);for(var u=Wt(),o=null,c=Ef;c!==null;){var m=c.next,g=F_(c,u);g===0?(c.next=null,o===null?Ef=m:o.next=m,m===null&&(Oa=o)):(o=c,(i!==0||(g&3)!==0)&&(xf=!0)),c=m}hl(i)}function F_(i,u){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var A=31-Ve(g),D=1<<A,j=m[A];j===-1?((D&o)===0||(D&c)!==0)&&(m[A]=Zs(D,u)):j<=u&&(i.expiredLanes|=D),g&=~D}if(u=yt,o=it,o=ar(i,i===u?o:0),c=i.callbackNode,o===0||i===u&&_t===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&$n(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||eu(i,o)){if(u=o&-o,u===i.callbackPriority)return u;switch(c!==null&&$n(c),xc(o)){case 2:case 8:o=S;break;case 32:o=b;break;case 268435456:o=M;break;default:o=b}return c=V_.bind(null,i),o=Gn(o,c),i.callbackPriority=u,i.callbackNode=o,u}return c!==null&&c!==null&&$n(c),i.callbackPriority=2,i.callbackNode=null,2}function V_(i,u){var o=i.callbackNode;if(Na()&&i.callbackNode!==o)return null;var c=it;return c=ar(i,i===yt?c:0),c===0?null:(S_(i,c,u),F_(i,Wt()),i.callbackNode!=null&&i.callbackNode===o?V_.bind(null,i):null)}function B_(i,u){if(Na())return null;S_(i,u,!0)}function oT(i){_T(function(){(St&6)!==0?Gn(ue,i):i()})}function H0(){return Os===0&&(Os=wo()),Os}function z_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jr(""+i)}function j_(i,u){var o=u.ownerDocument.createElement("input");return o.name=u.name,o.value=u.value,i.id&&o.setAttribute("form",i.id),u.parentNode.insertBefore(o,u),i=new FormData(i),o.parentNode.removeChild(o),i}function lT(i,u,o,c,m){if(u==="submit"&&o&&o.stateNode===m){var g=z_((m[Ht]||null).action),A=c.submitter;A&&(u=(u=A[Ht]||null)?z_(u.formAction):A.getAttribute("formAction"),u!==null&&(g=u,A=null));var D=new ia("action","action",null,c,m);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Os!==0){var j=A?j_(m,A):new FormData(m);Jd(o,{pending:!0,data:j,method:m.method,action:g},null,j)}}else typeof g=="function"&&(D.preventDefault(),j=A?j_(m,A):new FormData(m),Jd(o,{pending:!0,data:j,method:m.method,action:g},g,j))},currentTarget:m}]})}}for(var G0=0;G0<M1.length;G0++){var $0=M1[G0],cT=$0.toLowerCase(),fT=$0[0].toUpperCase()+$0.slice(1);Dr(cT,"on"+fT)}Dr(R1,"onAnimationEnd"),Dr(D1,"onAnimationIteration"),Dr(I1,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(C6,"onTransitionRun"),Dr(R6,"onTransitionStart"),Dr(D6,"onTransitionCancel"),Dr(N1,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function q_(i,u){u=(u&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(u)for(var A=c.length-1;0<=A;A--){var D=c[A],j=D.instance,X=D.currentTarget;if(D=D.listener,j!==g&&m.isPropagationStopped())break e;g=D,m.currentTarget=X;try{g(m)}catch(ce){of(ce)}m.currentTarget=null,g=j}else for(A=0;A<c.length;A++){if(D=c[A],j=D.instance,X=D.currentTarget,D=D.listener,j!==g&&m.isPropagationStopped())break e;g=D,m.currentTarget=X;try{g(m)}catch(ce){of(ce)}m.currentTarget=null,g=j}}}}function Je(i,u){var o=u[is];o===void 0&&(o=u[is]=new Set);var c=i+"__bubble";o.has(c)||(H_(u,i,2,!1),o.add(c))}function K0(i,u,o){var c=0;u&&(c|=4),H_(o,i,c,u)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Q0(i){if(!i[wf]){i[wf]=!0,Ao.forEach(function(o){o!=="selectionchange"&&(hT.has(o)||K0(o,!1,i),K0(o,!0,i))});var u=i.nodeType===9?i:i.ownerDocument;u===null||u[wf]||(u[wf]=!0,K0("selectionchange",!1,u))}}function H_(i,u,o,c){switch(db(u)){case 2:var m=FT;break;case 8:m=VT;break;default:m=ap}o=m.bind(null,u,o,i),m=void 0,!fr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(u,o,{capture:!0,passive:m}):i.addEventListener(u,o,!0):m!==void 0?i.addEventListener(u,o,{passive:m}):i.addEventListener(u,o,!1)}function Y0(i,u,o,c,m){var g=c;if((u&1)===0&&(u&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var D=c.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var j=A.tag;if((j===3||j===4)&&(j=A.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;A=A.return}for(;D!==null;){if(A=Rr(D),A===null)return;if(j=A.tag,j===5||j===6||j===26||j===27){c=g=A;continue e}D=D.parentNode}}c=c.return}kc(function(){var X=g,ce=ra(o),pe=[];e:{var ie=O1.get(i);if(ie!==void 0){var le=ia,Ce=i;switch(i){case"keypress":if(Hr(o)===0)break e;case"keydown":case"keyup":le=ca;break;case"focusin":Ce="focus",le=aa;break;case"focusout":Ce="blur",le=aa;break;case"beforeblur":case"afterblur":le=aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Lc;break;case R1:case D1:case I1:le=oa;break;case N1:le=Uc;break;case"scroll":case"scrollend":le=Cc;break;case"wheel":le=fa;break;case"copy":case"cut":case"paste":le=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Uo;break;case"toggle":case"beforetoggle":le=Vc}var ze=(u&4)!==0,Ot=!ze&&(i==="scroll"||i==="scrollend"),Z=ze?ie!==null?ie+"Capture":null:ie;ze=[];for(var Y=X,J;Y!==null;){var fe=Y;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||Z===null||(fe=ls(Y,Z),fe!=null&&ze.push(pl(Y,fe,J))),Ot)break;Y=Y.return}0<ze.length&&(ie=new le(ie,Ce,null,o,ce),pe.push({event:ie,listeners:ze}))}}if((u&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ie&&o!==cr&&(Ce=o.relatedTarget||o.fromElement)&&(Rr(Ce)||Ce[yi]))break e;if((le||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Ce=o.relatedTarget||o.toElement,le=X,Ce=Ce?Rr(Ce):null,Ce!==null&&(Ot=we(Ce),ze=Ce.tag,Ce!==Ot||ze!==5&&ze!==27&&ze!==6)&&(Ce=null)):(le=null,Ce=X),le!==Ce)){if(ze=hr,fe="onMouseLeave",Z="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(ze=Uo,fe="onPointerLeave",Z="onPointerEnter",Y="pointer"),Ot=le==null?ie:su(le),J=Ce==null?ie:su(Ce),ie=new ze(fe,Y+"leave",le,o,ce),ie.target=Ot,ie.relatedTarget=J,fe=null,Rr(ce)===X&&(ze=new ze(Z,Y+"enter",Ce,o,ce),ze.target=J,ze.relatedTarget=Ot,fe=ze),Ot=fe,le&&Ce)t:{for(ze=le,Z=Ce,Y=0,J=ze;J;J=Ma(J))Y++;for(J=0,fe=Z;fe;fe=Ma(fe))J++;for(;0<Y-J;)ze=Ma(ze),Y--;for(;0<J-Y;)Z=Ma(Z),J--;for(;Y--;){if(ze===Z||Z!==null&&ze===Z.alternate)break t;ze=Ma(ze),Z=Ma(Z)}ze=null}else ze=null;le!==null&&G_(pe,ie,le,ze,!1),Ce!==null&&Ot!==null&&G_(pe,Ot,Ce,ze,!0)}}e:{if(ie=X?su(X):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var Ae=_1;else if($t(ie))if(b1)Ae=T6;else{Ae=x6;var Ye=E6}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?X&&Do(X.elementType)&&(Ae=_1):Ae=w6;if(Ae&&(Ae=Ae(i,X))){Ai(pe,Ae,o,ce);break e}Ye&&Ye(i,ie,X),i==="focusout"&&X&&ie.type==="number"&&X.memoizedProps.value!=null&&na(ie,"number",ie.value)}switch(Ye=X?su(X):window,i){case"focusin":($t(Ye)||Ye.contentEditable==="true")&&(ha=Ye,Sd=X,Bo=null);break;case"focusout":Bo=Sd=ha=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,k1(pe,o,ce);break;case"selectionchange":if(k6)break;case"keydown":case"keyup":k1(pe,o,ce)}var De;if(Kr)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nt?se(i,o)&&(Oe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(T&&o.locale!=="ko"&&(nt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nt&&(De=No()):(qr=ce,hu="value"in qr?qr.value:qr.textContent,nt=!0)),Ye=Tf(X,Oe),0<Ye.length&&(Oe=new Lo(Oe,i,null,o,ce),pe.push({event:Oe,listeners:Ye}),De?Oe.data=De:(De=be(o),De!==null&&(Oe.data=De)))),(De=v?Gt(i,o):rt(i,o))&&(Oe=Tf(X,"onBeforeInput"),0<Oe.length&&(Ye=new Lo("onBeforeInput","beforeinput",null,o,ce),pe.push({event:Ye,listeners:Oe}),Ye.data=De)),lT(pe,i,X,o,ce)}q_(pe,u)})}function pl(i,u,o){return{instance:i,listener:u,currentTarget:o}}function Tf(i,u){for(var o=u+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ls(i,o),m!=null&&c.unshift(pl(i,m,g)),m=ls(i,u),m!=null&&c.push(pl(i,m,g))),i=i.return}return c}function Ma(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function G_(i,u,o,c,m){for(var g=u._reactName,A=[];o!==null&&o!==c;){var D=o,j=D.alternate,X=D.stateNode;if(D=D.tag,j!==null&&j===c)break;D!==5&&D!==26&&D!==27||X===null||(j=X,m?(X=ls(o,g),X!=null&&A.unshift(pl(o,X,j))):m||(X=ls(o,g),X!=null&&A.push(pl(o,X,j)))),o=o.return}A.length!==0&&i.push({event:u,listeners:A})}var dT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function $_(i){return(typeof i=="string"?i:""+i).replace(dT,`
`).replace(pT,"")}function K_(i,u){return u=$_(u),$_(i)===u}function Af(){}function mt(i,u,o,c,m,g){switch(o){case"children":typeof c=="string"?u==="body"||u==="textarea"&&c===""||lr(i,c):(typeof c=="number"||typeof c=="bigint")&&u!=="body"&&lr(i,""+c);break;case"className":lu(i,"class",c);break;case"tabIndex":lu(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lu(i,o,c);break;case"style":Sc(i,c,g);break;case"data":if(u!=="object"){lu(i,"data",c);break}case"src":case"href":if(c===""&&(u!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=jr(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(u!=="input"&&mt(i,u,"name",m.name,m,null),mt(i,u,"formEncType",m.formEncType,m,null),mt(i,u,"formMethod",m.formMethod,m,null),mt(i,u,"formTarget",m.formTarget,m,null)):(mt(i,u,"encType",m.encType,m,null),mt(i,u,"method",m.method,m,null),mt(i,u,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=jr(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Af);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=jr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Je("beforetoggle",i),Je("toggle",i),ou(i,"popover",c);break;case"xlinkActuate":or(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":or(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":or(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":or(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":or(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":or(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":or(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":or(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":or(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ou(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=bd.get(o)||o,ou(i,o,c))}}function X0(i,u,o,c,m,g){switch(o){case"style":Sc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?lr(i,c):(typeof c=="number"||typeof c=="bigint")&&lr(i,""+c);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Af);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),u=o.slice(2,m?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(u,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(u,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):ou(i,o,c)}}}function hn(i,u,o){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:mt(i,u,g,A,o,null)}}m&&mt(i,u,"srcSet",o.srcSet,o,null),c&&mt(i,u,"src",o.src,o,null);return;case"input":Je("invalid",i);var D=g=A=m=null,j=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ce=o[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":j=ce;break;case"defaultChecked":X=ce;break;case"value":g=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,u));break;default:mt(i,u,c,ce,o,null)}}as(i,g,D,j,X,A,m,!1),ss(i);return;case"select":Je("invalid",i),c=A=g=null;for(m in o)if(o.hasOwnProperty(m)&&(D=o[m],D!=null))switch(m){case"value":g=D;break;case"defaultValue":A=D;break;case"multiple":c=D;default:mt(i,u,m,D,o,null)}u=g,o=A,i.multiple=!!c,u!=null?at(i,!!c,u,!1):o!=null&&at(i,!!c,o,!0);return;case"textarea":Je("invalid",i),g=m=c=null;for(A in o)if(o.hasOwnProperty(A)&&(D=o[A],D!=null))switch(A){case"value":c=D;break;case"defaultValue":m=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:mt(i,u,A,D,o,null)}fu(i,c,m,g),ss(i);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mt(i,u,j,c,o,null)}return;case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(c=0;c<dl.length;c++)Je(dl[c],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:mt(i,u,X,c,o,null)}return;default:if(Do(u)){for(ce in o)o.hasOwnProperty(ce)&&(c=o[ce],c!==void 0&&X0(i,u,ce,c,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null&&mt(i,u,D,c,o,null))}function mT(i,u,o,c){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,A=null,D=null,j=null,X=null,ce=null;for(le in o){var pe=o[le];if(o.hasOwnProperty(le)&&pe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":j=pe;default:c.hasOwnProperty(le)||mt(i,u,le,null,c,pe)}}for(var ie in c){var le=c[ie];if(pe=o[ie],c.hasOwnProperty(ie)&&(le!=null||pe!=null))switch(ie){case"type":g=le;break;case"name":m=le;break;case"checked":X=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,u));break;default:le!==pe&&mt(i,u,ie,le,c,pe)}}cu(i,A,D,j,X,ce,g,m);return;case"select":le=A=D=ie=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":le=j;default:c.hasOwnProperty(g)||mt(i,u,g,null,c,j)}for(m in c)if(g=c[m],j=o[m],c.hasOwnProperty(m)&&(g!=null||j!=null))switch(m){case"value":ie=g;break;case"defaultValue":D=g;break;case"multiple":A=g;default:g!==j&&mt(i,u,m,g,c,j)}u=D,o=A,c=le,ie!=null?at(i,!!o,ie,!1):!!c!=!!o&&(u!=null?at(i,!!o,u,!0):at(i,!!o,o?[]:"",!1));return;case"textarea":le=ie=null;for(D in o)if(m=o[D],o.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:mt(i,u,D,null,c,m)}for(A in c)if(m=c[A],g=o[A],c.hasOwnProperty(A)&&(m!=null||g!=null))switch(A){case"value":ie=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&mt(i,u,A,m,c,g)}os(i,ie,le);return;case"option":for(var Ce in o)if(ie=o[Ce],o.hasOwnProperty(Ce)&&ie!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":i.selected=!1;break;default:mt(i,u,Ce,null,c,ie)}for(j in c)if(ie=c[j],le=o[j],c.hasOwnProperty(j)&&ie!==le&&(ie!=null||le!=null))switch(j){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:mt(i,u,j,ie,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in o)ie=o[ze],o.hasOwnProperty(ze)&&ie!=null&&!c.hasOwnProperty(ze)&&mt(i,u,ze,null,c,ie);for(X in c)if(ie=c[X],le=o[X],c.hasOwnProperty(X)&&ie!==le&&(ie!=null||le!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:mt(i,u,X,ie,c,le)}return;default:if(Do(u)){for(var Ot in o)ie=o[Ot],o.hasOwnProperty(Ot)&&ie!==void 0&&!c.hasOwnProperty(Ot)&&X0(i,u,Ot,void 0,c,ie);for(ce in c)ie=c[ce],le=o[ce],!c.hasOwnProperty(ce)||ie===le||ie===void 0&&le===void 0||X0(i,u,ce,ie,c,le);return}}for(var Z in o)ie=o[Z],o.hasOwnProperty(Z)&&ie!=null&&!c.hasOwnProperty(Z)&&mt(i,u,Z,null,c,ie);for(pe in c)ie=c[pe],le=o[pe],!c.hasOwnProperty(pe)||ie===le||ie==null&&le==null||mt(i,u,pe,ie,c,le)}var Z0=null,W0=null;function Sf(i){return i.nodeType===9?i:i.ownerDocument}function Q_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(i,u){if(i===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&u==="foreignObject"?0:i}function J0(i,u){return i==="textarea"||i==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ep=null;function gT(){var i=window.event;return i&&i.type==="popstate"?i===ep?!1:(ep=i,!0):(ep=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(i){return Z_.resolve(null).then(i).catch(bT)}:X_;function bT(i){setTimeout(function(){throw i})}function tp(i,u){var o=u,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){i.removeChild(m),xl(u);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);xl(u)}function np(i){var u=i.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var o=u;switch(u=u.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":np(o),us(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function vT(i,u,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==u.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[uu])switch(u){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(u==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Or(i.nextSibling),i===null)break}return null}function ET(i,u,o){if(u==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Or(i.nextSibling),i===null))return null;return i}function Or(i){for(;i!=null;i=i.nextSibling){var u=i.nodeType;if(u===1||u===3)break;if(u===8){if(u=i.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return i}function W_(i){i=i.previousSibling;for(var u=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(u===0)return i;u--}else o==="/$"&&u++}i=i.previousSibling}return null}function J_(i,u,o){switch(u=Sf(o),i){case"html":if(i=u.documentElement,!i)throw Error(r(452));return i;case"head":if(i=u.head,!i)throw Error(r(453));return i;case"body":if(i=u.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var xr=new Map,eb=new Set;function kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Bi=Ee.d;Ee.d={f:xT,r:wT,D:TT,C:AT,L:ST,m:kT,X:RT,S:CT,M:DT};function xT(){var i=Bi.f(),u=bf();return i||u}function wT(i){var u=_i(i);u!==null&&u.tag===5&&u.type==="form"?ky(u):Bi.r(i)}var La=typeof document>"u"?null:document;function tb(i,u,o){var c=La;if(c&&typeof u=="string"&&u){var m=Dt(u);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),eb.has(m)||(eb.add(m),i={rel:i,crossOrigin:o,href:u},c.querySelector(m)===null&&(u=c.createElement("link"),hn(u,"link",i),Tt(u),c.head.appendChild(u)))}}function TT(i){Bi.D(i),tb("dns-prefetch",i,null)}function AT(i,u){Bi.C(i,u),tb("preconnect",i,u)}function ST(i,u,o){Bi.L(i,u,o);var c=La;if(c&&i&&u){var m='link[rel="preload"][as="'+Dt(u)+'"]';u==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(i)+'"]';var g=m;switch(u){case"style":g=Pa(i);break;case"script":g=Ua(i)}xr.has(g)||(i=F({rel:"preload",href:u==="image"&&o&&o.imageSrcSet?void 0:i,as:u},o),xr.set(g,i),c.querySelector(m)!==null||u==="style"&&c.querySelector(ml(g))||u==="script"&&c.querySelector(gl(g))||(u=c.createElement("link"),hn(u,"link",i),Tt(u),c.head.appendChild(u)))}}function kT(i,u){Bi.m(i,u);var o=La;if(o&&i){var c=u&&typeof u.as=="string"?u.as:"script",m='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ua(i)}if(!xr.has(g)&&(i=F({rel:"modulepreload",href:i},u),xr.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gl(g)))return}c=o.createElement("link"),hn(c,"link",i),Tt(c),o.head.appendChild(c)}}}function CT(i,u,o){Bi.S(i,u,o);var c=La;if(c&&i){var m=au(c).hoistableStyles,g=Pa(i);u=u||"default";var A=m.get(g);if(!A){var D={loading:0,preload:null};if(A=c.querySelector(ml(g)))D.loading=5;else{i=F({rel:"stylesheet",href:i,"data-precedence":u},o),(o=xr.get(g))&&rp(i,o);var j=A=c.createElement("link");Tt(j),hn(j,"link",i),j._p=new Promise(function(X,ce){j.onload=X,j.onerror=ce}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Cf(A,u,c)}A={type:"stylesheet",instance:A,count:1,state:D},m.set(g,A)}}}function RT(i,u){Bi.X(i,u);var o=La;if(o&&i){var c=au(o).hoistableScripts,m=Ua(i),g=c.get(m);g||(g=o.querySelector(gl(m)),g||(i=F({src:i,async:!0},u),(u=xr.get(m))&&ip(i,u),g=o.createElement("script"),Tt(g),hn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function DT(i,u){Bi.M(i,u);var o=La;if(o&&i){var c=au(o).hoistableScripts,m=Ua(i),g=c.get(m);g||(g=o.querySelector(gl(m)),g||(i=F({src:i,async:!0,type:"module"},u),(u=xr.get(m))&&ip(i,u),g=o.createElement("script"),Tt(g),hn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function nb(i,u,o,c){var m=(m=Lt.current)?kf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(u=Pa(o.href),o=au(m).hoistableStyles,c=o.get(u),c||(c={type:"style",instance:null,count:0,state:null},o.set(u,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Pa(o.href);var g=au(m).hoistableStyles,A=g.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,A),(g=m.querySelector(ml(i)))&&!g._p&&(A.instance=g,A.state.loading=5),xr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xr.set(i,o),g||IT(m,i,o,A.state))),u&&c===null)throw Error(r(528,""));return A}if(u&&c!==null)throw Error(r(529,""));return null;case"script":return u=o.async,o=o.src,typeof o=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ua(o),o=au(m).hoistableScripts,c=o.get(u),c||(c={type:"script",instance:null,count:0,state:null},o.set(u,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Pa(i){return'href="'+Dt(i)+'"'}function ml(i){return'link[rel="stylesheet"]['+i+"]"}function rb(i){return F({},i,{"data-precedence":i.precedence,precedence:null})}function IT(i,u,o,c){i.querySelector('link[rel="preload"][as="style"]['+u+"]")?c.loading=1:(u=i.createElement("link"),c.preload=u,u.addEventListener("load",function(){return c.loading|=1}),u.addEventListener("error",function(){return c.loading|=2}),hn(u,"link",o),Tt(u),i.head.appendChild(u))}function Ua(i){return'[src="'+Dt(i)+'"]'}function gl(i){return"script[async]"+i}function ib(i,u,o){if(u.count++,u.instance===null)switch(u.type){case"style":var c=i.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(c)return u.instance=c,Tt(c),c;var m=F({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Tt(c),hn(c,"style",m),Cf(c,o.precedence,i),u.instance=c;case"stylesheet":m=Pa(o.href);var g=i.querySelector(ml(m));if(g)return u.state.loading|=4,u.instance=g,Tt(g),g;c=rb(o),(m=xr.get(m))&&rp(c,m),g=(i.ownerDocument||i).createElement("link"),Tt(g);var A=g;return A._p=new Promise(function(D,j){A.onload=D,A.onerror=j}),hn(g,"link",c),u.state.loading|=4,Cf(g,o.precedence,i),u.instance=g;case"script":return g=Ua(o.src),(m=i.querySelector(gl(g)))?(u.instance=m,Tt(m),m):(c=o,(m=xr.get(g))&&(c=F({},o),ip(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Tt(m),hn(m,"link",c),i.head.appendChild(m),u.instance=m);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(c=u.instance,u.state.loading|=4,Cf(c,o.precedence,i));return u.instance}function Cf(i,u,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,A=0;A<c.length;A++){var D=c[A];if(D.dataset.precedence===u)g=D;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(u=o.nodeType===9?o.head:o,u.insertBefore(i,u.firstChild))}function rp(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.title==null&&(i.title=u.title)}function ip(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.integrity==null&&(i.integrity=u.integrity)}var Rf=null;function ub(i,u,o){if(Rf===null){var c=new Map,m=Rf=new Map;m.set(o,c)}else m=Rf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[uu]||g[Jt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(u)||"";A=i+A;var D=c.get(A);D?D.push(g):c.set(A,[g])}}return c}function sb(i,u,o){i=i.ownerDocument||i,i.head.insertBefore(o,u==="title"?i.querySelector("head > title"):null)}function NT(i,u,o){if(o===1||u.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return i=u.disabled,typeof u.precedence=="string"&&i==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function ab(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yl=null;function OT(){}function MT(i,u,o){if(yl===null)throw Error(r(475));var c=yl;if(u.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var m=Pa(o.href),g=i.querySelector(ml(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Df.bind(c),i.then(c,c)),u.state.loading|=4,u.instance=g,Tt(g);return}g=i.ownerDocument||i,o=rb(o),(m=xr.get(m))&&rp(o,m),g=g.createElement("link"),Tt(g);var A=g;A._p=new Promise(function(D,j){A.onload=D,A.onerror=j}),hn(g,"link",o),u.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(u,i),(i=u.state.preload)&&(u.state.loading&3)===0&&(c.count++,u=Df.bind(c),i.addEventListener("load",u),i.addEventListener("error",u))}}function LT(){if(yl===null)throw Error(r(475));var i=yl;return i.stylesheets&&i.count===0&&up(i,i.stylesheets),0<i.count?function(u){var o=setTimeout(function(){if(i.stylesheets&&up(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var If=null;function up(i,u){i.stylesheets=null,i.unsuspend!==null&&(i.count++,If=new Map,u.forEach(PT,i),If=null,Df.call(i))}function PT(i,u){if(!(u.state.loading&4)){var o=If.get(i);if(o)var c=o.get(null);else{o=new Map,If.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var A=m[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),c=A)}c&&o.set(null,c)}m=u.instance,A=m.getAttribute("data-precedence"),g=o.get(A)||c,g===c&&o.set(null,m),o.set(A,m),this.count++,c=Df.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),u.state.loading|=4}}var _l={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function UT(i,u,o,c,m,g,A,D){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ob(i,u,o,c,m,g,A,D,j,X,ce,pe){return i=new UT(i,u,o,A,D,j,X,pe),u=1,g===!0&&(u|=24),g=vr(3,null,null,u),i.current=g,g.stateNode=i,u=Ud(),u.refCount++,i.pooledCache=u,u.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:u},y0(g),i}function lb(i){return i?(i=ma,i):ma}function cb(i,u,o,c,m,g){m=lb(m),c.context===null?c.context=m:c.pendingContext=m,c=vu(u),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Eu(i,c,u),o!==null&&(Rn(o,i,u),tl(o,i,u))}function fb(i,u){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<u?o:u}}function sp(i,u){fb(i,u),(i=i.alternate)&&fb(i,u)}function hb(i){if(i.tag===13){var u=du(i,67108864);u!==null&&Rn(u,i,67108864),sp(i,67108864)}}var Nf=!0;function FT(i,u,o,c){var m=I.T;I.T=null;var g=Ee.p;try{Ee.p=2,ap(i,u,o,c)}finally{Ee.p=g,I.T=m}}function VT(i,u,o,c){var m=I.T;I.T=null;var g=Ee.p;try{Ee.p=8,ap(i,u,o,c)}finally{Ee.p=g,I.T=m}}function ap(i,u,o,c){if(Nf){var m=op(c);if(m===null)Y0(i,u,c,Of,o),pb(i,c);else if(zT(m,i,u,o,c))c.stopPropagation();else if(pb(i,c),u&4&&-1<BT.indexOf(i)){for(;m!==null;){var g=_i(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=Cr(g.pendingLanes);if(A!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var j=1<<31-Ve(A);D.entanglements[1]|=j,A&=~j}Jr(g),(St&6)===0&&(gf=Wt()+500,hl(0))}}break;case 13:D=du(g,2),D!==null&&Rn(D,g,2),bf(),sp(g,2)}if(g=op(c),g===null&&Y0(i,u,c,Of,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Y0(i,u,c,null,o)}}function op(i){return i=ra(i),lp(i)}var Of=null;function lp(i){if(Of=null,i=Rr(i),i!==null){var u=we(i);if(u===null)i=null;else{var o=u.tag;if(o===13){if(i=He(u),i!==null)return i;i=null}else if(o===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;i=null}else u!==i&&(i=null)}}return Of=i,null}function db(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case ue:return 2;case S:return 8;case b:case E:return 32;case M:return 268435456;default:return 32}default:return 32}}var cp=!1,Cu=null,Ru=null,Du=null,bl=new Map,vl=new Map,Iu=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(i,u){switch(i){case"focusin":case"focusout":Cu=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Du=null;break;case"pointerover":case"pointerout":bl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(u.pointerId)}}function El(i,u,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:u,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},u!==null&&(u=_i(u),u!==null&&hb(u)),i):(i.eventSystemFlags|=c,u=i.targetContainers,m!==null&&u.indexOf(m)===-1&&u.push(m),i)}function zT(i,u,o,c,m){switch(u){case"focusin":return Cu=El(Cu,i,u,o,c,m),!0;case"dragenter":return Ru=El(Ru,i,u,o,c,m),!0;case"mouseover":return Du=El(Du,i,u,o,c,m),!0;case"pointerover":var g=m.pointerId;return bl.set(g,El(bl.get(g)||null,i,u,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,vl.set(g,El(vl.get(g)||null,i,u,o,c,m)),!0}return!1}function mb(i){var u=Rr(i.target);if(u!==null){var o=we(u);if(o!==null){if(u=o.tag,u===13){if(u=He(o),u!==null){i.blockedOn=u,iu(i.priority,function(){if(o.tag===13){var c=Jn(),m=du(o,c);m!==null&&Rn(m,o,c),sp(o,c)}});return}}else if(u===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mf(i){if(i.blockedOn!==null)return!1;for(var u=i.targetContainers;0<u.length;){var o=op(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);cr=c,o.target.dispatchEvent(c),cr=null}else return u=_i(o),u!==null&&hb(u),i.blockedOn=o,!1;u.shift()}return!0}function gb(i,u,o){Mf(i)&&o.delete(u)}function jT(){cp=!1,Cu!==null&&Mf(Cu)&&(Cu=null),Ru!==null&&Mf(Ru)&&(Ru=null),Du!==null&&Mf(Du)&&(Du=null),bl.forEach(gb),vl.forEach(gb)}function Lf(i,u){i.blockedOn===u&&(i.blockedOn=null,cp||(cp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jT)))}var Pf=null;function yb(i){Pf!==i&&(Pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var u=0;u<i.length;u+=3){var o=i[u],c=i[u+1],m=i[u+2];if(typeof c!="function"){if(lp(c||o)===null)continue;break}var g=_i(o);g!==null&&(i.splice(u,3),u-=3,Jd(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function xl(i){function u(j){return Lf(j,i)}Cu!==null&&Lf(Cu,i),Ru!==null&&Lf(Ru,i),Du!==null&&Lf(Du,i),bl.forEach(u),vl.forEach(u);for(var o=0;o<Iu.length;o++){var c=Iu[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Iu.length&&(o=Iu[0],o.blockedOn===null);)mb(o),o.blockedOn===null&&Iu.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],A=m[Ht]||null;if(typeof g=="function")A||yb(o);else if(A){var D=null;if(g&&g.hasAttribute("formAction")){if(m=g,A=g[Ht]||null)D=A.formAction;else if(lp(m)!==null)continue}else D=A.action;typeof D=="function"?o[c+1]=D:(o.splice(c,3),c-=3),yb(o)}}}function fp(i){this._internalRoot=i}Uf.prototype.render=fp.prototype.render=function(i){var u=this._internalRoot;if(u===null)throw Error(r(409));var o=u.current,c=Jn();cb(o,c,i,u,null,null)},Uf.prototype.unmount=fp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var u=i.containerInfo;i.tag===0&&Na(),cb(i.current,2,null,i,null,null),bf(),u[yi]=null}};function Uf(i){this._internalRoot=i}Uf.prototype.unstable_scheduleHydration=function(i){if(i){var u=wc();i={blockedOn:null,target:i,priority:u};for(var o=0;o<Iu.length&&u!==0&&u<Iu[o].priority;o++);Iu.splice(o,0,i),o===0&&mb(i)}};var _b=e.version;if(_b!=="19.0.0")throw Error(r(527,_b,"19.0.0"));Ee.findDOMNode=function(i){var u=i._reactInternals;if(u===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=oe(u),i=i!==null?ve(i):null,i=i===null?null:i.stateNode,i};var qT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Rr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{ae=Ff.inject(qT),ke=Ff}catch{}}return Al.createRoot=function(i,u){if(!s(i))throw Error(r(299));var o=!1,c="",m=Ly,g=Py,A=Uy,D=null;return u!=null&&(u.unstable_strictMode===!0&&(o=!0),u.identifierPrefix!==void 0&&(c=u.identifierPrefix),u.onUncaughtError!==void 0&&(m=u.onUncaughtError),u.onCaughtError!==void 0&&(g=u.onCaughtError),u.onRecoverableError!==void 0&&(A=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(D=u.unstable_transitionCallbacks)),u=ob(i,1,!1,null,null,o,c,m,g,A,D,null),i[yi]=u.current,Q0(i.nodeType===8?i.parentNode:i),new fp(u)},Al.hydrateRoot=function(i,u,o){if(!s(i))throw Error(r(299));var c=!1,m="",g=Ly,A=Py,D=Uy,j=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),u=ob(i,1,!0,u,o??null,c,m,g,A,D,j,X),u.context=lb(null),o=u.current,c=Jn(),m=vu(c),m.callback=null,Eu(o,m,c),u.current.lanes=c,Pt(u,c),Jr(u),i[yi]=u.current,Q0(i),new Uf(u)},Al.version="19.0.0",Al}var Nb;function a4(){if(Nb)return gp.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gp.exports=s4(),gp.exports}var o4=a4();const l4=Jl(o4),c4=()=>{};var Ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},f4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],f=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},fx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,f=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,y=a>>2,_=(a&3)<<4|f>>4;let w=(f&15)<<2|p>>6,x=p&63;d||(x=64,l||(w=64)),r.push(n[y],n[_],n[w],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||f==null||p==null||_==null)throw new h4;const w=a<<2|f>>4;if(r.push(w),p!==64){const x=f<<4&240|p>>2;if(r.push(x),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d4=function(t){const e=cx(t);return fx.encodeByteArray(e,!0)},fh=function(t){return d4(t).replace(/\./g,"")},hx=function(t){try{return fx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=()=>p4().__FIREBASE_DEFAULTS__,g4=()=>{if(typeof process>"u"||typeof Ob>"u")return;const t=Ob.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hx(t[1]);return e&&JSON.parse(e)},Fh=()=>{try{return c4()||m4()||g4()||y4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dx=t=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},px=t=>{const e=dx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mx=()=>{var t;return(t=Fh())===null||t===void 0?void 0:t.config},gx=t=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fh(JSON.stringify(n)),fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function v4(){var t;const e=(t=Fh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function E4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T4(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A4(){return!v4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S4(){try{return typeof indexedDB=="object"}catch{return!1}}function k4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C4,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?R4(a,r):"Error",f=`${this.serviceName}: ${l} (${s}).`;return new pi(s,f,r)}}function R4(t,e){return t.replace(D4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const D4=/\{\$([^}]+)}/g;function I4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $i(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Mb(a)&&Mb(l)){if(!$i(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Mb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N4(t,e){const n=new O4(t,e);return n.subscribe.bind(n)}class O4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Ku{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U4(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P4(t){return t===Ms?void 0:t}function U4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const V4={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},B4=Ze.INFO,z4={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},j4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=z4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=B4,this._logHandler=j4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const q4=(t,e)=>e.some(n=>t instanceof n);let Lb,Pb;function H4(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G4(){return Pb||(Pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _x=new WeakMap,em=new WeakMap,bx=new WeakMap,Ep=new WeakMap,Vm=new WeakMap;function $4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(qu(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_x.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function K4(t){if(em.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});em.set(t,e)}let tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q4(t){tm=t(tm)}function Y4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return bx.set(r,e.sort?e.sort():[e]),qu(r)}:G4().includes(t)?function(...e){return t.apply(xp(this),e),qu(_x.get(this))}:function(...e){return qu(t.apply(xp(this),e))}}function X4(t){return typeof t=="function"?Y4(t):(t instanceof IDBTransaction&&K4(t),q4(t,H4())?new Proxy(t,tm):t)}function qu(t){if(t instanceof IDBRequest)return $4(t);if(Ep.has(t))return Ep.get(t);const e=X4(t);return e!==t&&(Ep.set(t,e),Vm.set(e,t)),e}const xp=t=>Vm.get(t);function Z4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),f=qu(l);return r&&l.addEventListener("upgradeneeded",d=>{r(qu(l.result),d.oldVersion,d.newVersion,qu(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const W4=["get","getKey","getAll","getAllKeys","count"],J4=["put","add","delete","clear"],wp=new Map;function Ub(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=J4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||W4.includes(n)))return;const a=async function(l,...f){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),s&&d.done]))[0]};return wp.set(e,a),a}Q4(t=>({...t,get:(e,n,r)=>Ub(e,n)||t.get(e,n,r),has:(e,n)=>!!Ub(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",Fb="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Fm("@firebase/app"),nA="@firebase/app-compat",rA="@firebase/analytics-compat",iA="@firebase/analytics",uA="@firebase/app-check-compat",sA="@firebase/app-check",aA="@firebase/auth",oA="@firebase/auth-compat",lA="@firebase/database",cA="@firebase/data-connect",fA="@firebase/database-compat",hA="@firebase/functions",dA="@firebase/functions-compat",pA="@firebase/installations",mA="@firebase/installations-compat",gA="@firebase/messaging",yA="@firebase/messaging-compat",_A="@firebase/performance",bA="@firebase/performance-compat",vA="@firebase/remote-config",EA="@firebase/remote-config-compat",xA="@firebase/storage",wA="@firebase/storage-compat",TA="@firebase/firestore",AA="@firebase/vertexai",SA="@firebase/firestore-compat",kA="firebase",CA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",RA={[nm]:"fire-core",[nA]:"fire-core-compat",[iA]:"fire-analytics",[rA]:"fire-analytics-compat",[sA]:"fire-app-check",[uA]:"fire-app-check-compat",[aA]:"fire-auth",[oA]:"fire-auth-compat",[lA]:"fire-rtdb",[cA]:"fire-data-connect",[fA]:"fire-rtdb-compat",[hA]:"fire-fn",[dA]:"fire-fn-compat",[pA]:"fire-iid",[mA]:"fire-iid-compat",[gA]:"fire-fcm",[yA]:"fire-fcm-compat",[_A]:"fire-perf",[bA]:"fire-perf-compat",[vA]:"fire-rc",[EA]:"fire-rc-compat",[xA]:"fire-gcs",[wA]:"fire-gcs-compat",[TA]:"fire-fst",[SA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,DA=new Map,im=new Map;function Vb(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vs(t){const e=t.name;if(im.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,t);for(const n of hh.values())Vb(n,t);for(const n of DA.values())Vb(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new ec("app","Firebase",IA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ku("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=CA;function vx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hu.create("bad-app-name",{appName:String(s)});if(n||(n=mx()),!n)throw Hu.create("no-options");const a=hh.get(s);if(a){if($i(n,a.options)&&$i(r,a.config))return a;throw Hu.create("duplicate-app",{appName:s})}const l=new F4(s);for(const d of im.values())l.addComponent(d);const f=new NA(n,r,l);return hh.set(s,f),f}function Bm(t=rm){const e=hh.get(t);if(!e&&t===rm&&mx())return vx();if(!e)throw Hu.create("no-app",{appName:t});return e}function si(t,e,n){var r;let s=(r=RA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(f.join(" "));return}Vs(new Ku(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebase-heartbeat-database",MA=1,jl="firebase-heartbeat-store";let Tp=null;function Ex(){return Tp||(Tp=Z4(OA,MA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function LA(t){try{const n=(await Ex()).transaction(jl),r=await n.objectStore(jl).get(xx(t));return await n.done,r}catch(e){if(e instanceof pi)Ki.warn(e.message);else{const n=Hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function Bb(t,e){try{const r=(await Ex()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,xx(t)),await r.done}catch(n){if(n instanceof pi)Ki.warn(n.message);else{const r=Hu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function xx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=1024,UA=30;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=zb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>UA){const l=zA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zb(),{heartbeatsToSend:r,unsentEntries:s}=VA(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ki.warn(n),""}}}function zb(){return new Date().toISOString().substring(0,10)}function VA(t,e=PA){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),jb(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S4()?k4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jb(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}function zA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){Vs(new Ku("platform-logger",e=>new eA(e),"PRIVATE")),Vs(new Ku("heartbeat",e=>new FA(e),"PRIVATE")),si(nm,Fb,t),si(nm,Fb,"esm2017"),si("fire-js","")}jA("");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gu,wx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,R){function I(){}I.prototype=R.prototype,U.D=R.prototype,U.prototype=new I,U.prototype.constructor=U,U.C=function(F,z,q){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return R.prototype[z].apply(F,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,R,I){I||(I=0);var F=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)F[z]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(z=0;16>z;++z)F[z]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=U.g[0],I=U.g[1],z=U.g[2];var q=U.g[3],N=R+(q^I&(z^q))+F[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=q+(z^R&(I^z))+F[1]+3905402710&4294967295,q=R+(N<<12&4294967295|N>>>20),N=z+(I^q&(R^I))+F[2]+606105819&4294967295,z=q+(N<<17&4294967295|N>>>15),N=I+(R^z&(q^R))+F[3]+3250441966&4294967295,I=z+(N<<22&4294967295|N>>>10),N=R+(q^I&(z^q))+F[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=q+(z^R&(I^z))+F[5]+1200080426&4294967295,q=R+(N<<12&4294967295|N>>>20),N=z+(I^q&(R^I))+F[6]+2821735955&4294967295,z=q+(N<<17&4294967295|N>>>15),N=I+(R^z&(q^R))+F[7]+4249261313&4294967295,I=z+(N<<22&4294967295|N>>>10),N=R+(q^I&(z^q))+F[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=q+(z^R&(I^z))+F[9]+2336552879&4294967295,q=R+(N<<12&4294967295|N>>>20),N=z+(I^q&(R^I))+F[10]+4294925233&4294967295,z=q+(N<<17&4294967295|N>>>15),N=I+(R^z&(q^R))+F[11]+2304563134&4294967295,I=z+(N<<22&4294967295|N>>>10),N=R+(q^I&(z^q))+F[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=q+(z^R&(I^z))+F[13]+4254626195&4294967295,q=R+(N<<12&4294967295|N>>>20),N=z+(I^q&(R^I))+F[14]+2792965006&4294967295,z=q+(N<<17&4294967295|N>>>15),N=I+(R^z&(q^R))+F[15]+1236535329&4294967295,I=z+(N<<22&4294967295|N>>>10),N=R+(z^q&(I^z))+F[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=q+(I^z&(R^I))+F[6]+3225465664&4294967295,q=R+(N<<9&4294967295|N>>>23),N=z+(R^I&(q^R))+F[11]+643717713&4294967295,z=q+(N<<14&4294967295|N>>>18),N=I+(q^R&(z^q))+F[0]+3921069994&4294967295,I=z+(N<<20&4294967295|N>>>12),N=R+(z^q&(I^z))+F[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=q+(I^z&(R^I))+F[10]+38016083&4294967295,q=R+(N<<9&4294967295|N>>>23),N=z+(R^I&(q^R))+F[15]+3634488961&4294967295,z=q+(N<<14&4294967295|N>>>18),N=I+(q^R&(z^q))+F[4]+3889429448&4294967295,I=z+(N<<20&4294967295|N>>>12),N=R+(z^q&(I^z))+F[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=q+(I^z&(R^I))+F[14]+3275163606&4294967295,q=R+(N<<9&4294967295|N>>>23),N=z+(R^I&(q^R))+F[3]+4107603335&4294967295,z=q+(N<<14&4294967295|N>>>18),N=I+(q^R&(z^q))+F[8]+1163531501&4294967295,I=z+(N<<20&4294967295|N>>>12),N=R+(z^q&(I^z))+F[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=q+(I^z&(R^I))+F[2]+4243563512&4294967295,q=R+(N<<9&4294967295|N>>>23),N=z+(R^I&(q^R))+F[7]+1735328473&4294967295,z=q+(N<<14&4294967295|N>>>18),N=I+(q^R&(z^q))+F[12]+2368359562&4294967295,I=z+(N<<20&4294967295|N>>>12),N=R+(I^z^q)+F[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=q+(R^I^z)+F[8]+2272392833&4294967295,q=R+(N<<11&4294967295|N>>>21),N=z+(q^R^I)+F[11]+1839030562&4294967295,z=q+(N<<16&4294967295|N>>>16),N=I+(z^q^R)+F[14]+4259657740&4294967295,I=z+(N<<23&4294967295|N>>>9),N=R+(I^z^q)+F[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=q+(R^I^z)+F[4]+1272893353&4294967295,q=R+(N<<11&4294967295|N>>>21),N=z+(q^R^I)+F[7]+4139469664&4294967295,z=q+(N<<16&4294967295|N>>>16),N=I+(z^q^R)+F[10]+3200236656&4294967295,I=z+(N<<23&4294967295|N>>>9),N=R+(I^z^q)+F[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=q+(R^I^z)+F[0]+3936430074&4294967295,q=R+(N<<11&4294967295|N>>>21),N=z+(q^R^I)+F[3]+3572445317&4294967295,z=q+(N<<16&4294967295|N>>>16),N=I+(z^q^R)+F[6]+76029189&4294967295,I=z+(N<<23&4294967295|N>>>9),N=R+(I^z^q)+F[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=q+(R^I^z)+F[12]+3873151461&4294967295,q=R+(N<<11&4294967295|N>>>21),N=z+(q^R^I)+F[15]+530742520&4294967295,z=q+(N<<16&4294967295|N>>>16),N=I+(z^q^R)+F[2]+3299628645&4294967295,I=z+(N<<23&4294967295|N>>>9),N=R+(z^(I|~q))+F[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=q+(I^(R|~z))+F[7]+1126891415&4294967295,q=R+(N<<10&4294967295|N>>>22),N=z+(R^(q|~I))+F[14]+2878612391&4294967295,z=q+(N<<15&4294967295|N>>>17),N=I+(q^(z|~R))+F[5]+4237533241&4294967295,I=z+(N<<21&4294967295|N>>>11),N=R+(z^(I|~q))+F[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=q+(I^(R|~z))+F[3]+2399980690&4294967295,q=R+(N<<10&4294967295|N>>>22),N=z+(R^(q|~I))+F[10]+4293915773&4294967295,z=q+(N<<15&4294967295|N>>>17),N=I+(q^(z|~R))+F[1]+2240044497&4294967295,I=z+(N<<21&4294967295|N>>>11),N=R+(z^(I|~q))+F[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=q+(I^(R|~z))+F[15]+4264355552&4294967295,q=R+(N<<10&4294967295|N>>>22),N=z+(R^(q|~I))+F[6]+2734768916&4294967295,z=q+(N<<15&4294967295|N>>>17),N=I+(q^(z|~R))+F[13]+1309151649&4294967295,I=z+(N<<21&4294967295|N>>>11),N=R+(z^(I|~q))+F[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=q+(I^(R|~z))+F[11]+3174756917&4294967295,q=R+(N<<10&4294967295|N>>>22),N=z+(R^(q|~I))+F[2]+718787259&4294967295,z=q+(N<<15&4294967295|N>>>17),N=I+(q^(z|~R))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+R&4294967295,U.g[1]=U.g[1]+(z+(N<<21&4294967295|N>>>11))&4294967295,U.g[2]=U.g[2]+z&4294967295,U.g[3]=U.g[3]+q&4294967295}r.prototype.u=function(U,R){R===void 0&&(R=U.length);for(var I=R-this.blockSize,F=this.B,z=this.h,q=0;q<R;){if(z==0)for(;q<=I;)s(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<R;)if(F[z++]=U.charCodeAt(q++),z==this.blockSize){s(this,F),z=0;break}}else for(;q<R;)if(F[z++]=U[q++],z==this.blockSize){s(this,F),z=0;break}}this.h=z,this.o+=R},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var R=1;R<U.length-8;++R)U[R]=0;var I=8*this.o;for(R=U.length-8;R<U.length;++R)U[R]=I&255,I/=256;for(this.u(U),U=Array(16),R=I=0;4>R;++R)for(var F=0;32>F;F+=8)U[I++]=this.g[R]>>>F&255;return U};function a(U,R){var I=f;return Object.prototype.hasOwnProperty.call(I,U)?I[U]:I[U]=R(U)}function l(U,R){this.h=R;for(var I=[],F=!0,z=U.length-1;0<=z;z--){var q=U[z]|0;F&&q==R||(I[z]=q,F=!1)}this.g=I}var f={};function d(U){return-128<=U&&128>U?a(U,function(R){return new l([R|0],0>R?-1:0)}):new l([U|0],0>U?-1:0)}function p(U){if(isNaN(U)||!isFinite(U))return _;if(0>U)return V(p(-U));for(var R=[],I=1,F=0;U>=I;F++)R[F]=U/I|0,I*=4294967296;return new l(R,0)}function y(U,R){if(U.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(U.charAt(0)=="-")return V(y(U.substring(1),R));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),F=_,z=0;z<U.length;z+=8){var q=Math.min(8,U.length-z),N=parseInt(U.substring(z,z+q),R);8>q?(q=p(Math.pow(R,q)),F=F.j(q).add(p(N))):(F=F.j(I),F=F.add(p(N)))}return F}var _=d(0),w=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(L(this))return-V(this).m();for(var U=0,R=1,I=0;I<this.g.length;I++){var F=this.i(I);U+=(0<=F?F:4294967296+F)*R,R*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(C(this))return"0";if(L(this))return"-"+V(this).toString(U);for(var R=p(Math.pow(U,6)),I=this,F="";;){var z=ne(I,R).g;I=H(I,z.j(R));var q=((0<I.g.length?I.g[0]:I.h)>>>0).toString(U);if(I=z,C(I))return q+F;for(;6>q.length;)q="0"+q;F=q+F}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function C(U){if(U.h!=0)return!1;for(var R=0;R<U.g.length;R++)if(U.g[R]!=0)return!1;return!0}function L(U){return U.h==-1}t.l=function(U){return U=H(this,U),L(U)?-1:C(U)?0:1};function V(U){for(var R=U.g.length,I=[],F=0;F<R;F++)I[F]=~U.g[F];return new l(I,~U.h).add(w)}t.abs=function(){return L(this)?V(this):this},t.add=function(U){for(var R=Math.max(this.g.length,U.g.length),I=[],F=0,z=0;z<=R;z++){var q=F+(this.i(z)&65535)+(U.i(z)&65535),N=(q>>>16)+(this.i(z)>>>16)+(U.i(z)>>>16);F=N>>>16,q&=65535,N&=65535,I[z]=N<<16|q}return new l(I,I[I.length-1]&-2147483648?-1:0)};function H(U,R){return U.add(V(R))}t.j=function(U){if(C(this)||C(U))return _;if(L(this))return L(U)?V(this).j(V(U)):V(V(this).j(U));if(L(U))return V(this.j(V(U)));if(0>this.l(x)&&0>U.l(x))return p(this.m()*U.m());for(var R=this.g.length+U.g.length,I=[],F=0;F<2*R;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var z=0;z<U.g.length;z++){var q=this.i(F)>>>16,N=this.i(F)&65535,de=U.i(z)>>>16,_e=U.i(z)&65535;I[2*F+2*z]+=N*_e,Q(I,2*F+2*z),I[2*F+2*z+1]+=q*_e,Q(I,2*F+2*z+1),I[2*F+2*z+1]+=N*de,Q(I,2*F+2*z+1),I[2*F+2*z+2]+=q*de,Q(I,2*F+2*z+2)}for(F=0;F<R;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=R;F<2*R;F++)I[F]=0;return new l(I,0)};function Q(U,R){for(;(U[R]&65535)!=U[R];)U[R+1]+=U[R]>>>16,U[R]&=65535,R++}function $(U,R){this.g=U,this.h=R}function ne(U,R){if(C(R))throw Error("division by zero");if(C(U))return new $(_,_);if(L(U))return R=ne(V(U),R),new $(V(R.g),V(R.h));if(L(R))return R=ne(U,V(R)),new $(V(R.g),R.h);if(30<U.g.length){if(L(U)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,F=R;0>=F.l(U);)I=re(I),F=re(F);var z=G(I,1),q=G(F,1);for(F=G(F,2),I=G(I,2);!C(F);){var N=q.add(F);0>=N.l(U)&&(z=z.add(I),q=N),F=G(F,1),I=G(I,1)}return R=H(U,z.j(R)),new $(z,R)}for(z=_;0<=U.l(R);){for(I=Math.max(1,Math.floor(U.m()/R.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),q=p(I),N=q.j(R);L(N)||0<N.l(U);)I-=F,q=p(I),N=q.j(R);C(q)&&(q=w),z=z.add(q),U=H(U,N)}return new $(z,U)}t.A=function(U){return ne(this,U).h},t.and=function(U){for(var R=Math.max(this.g.length,U.g.length),I=[],F=0;F<R;F++)I[F]=this.i(F)&U.i(F);return new l(I,this.h&U.h)},t.or=function(U){for(var R=Math.max(this.g.length,U.g.length),I=[],F=0;F<R;F++)I[F]=this.i(F)|U.i(F);return new l(I,this.h|U.h)},t.xor=function(U){for(var R=Math.max(this.g.length,U.g.length),I=[],F=0;F<R;F++)I[F]=this.i(F)^U.i(F);return new l(I,this.h^U.h)};function re(U){for(var R=U.g.length+1,I=[],F=0;F<R;F++)I[F]=U.i(F)<<1|U.i(F-1)>>>31;return new l(I,U.h)}function G(U,R){var I=R>>5;R%=32;for(var F=U.g.length-I,z=[],q=0;q<F;q++)z[q]=0<R?U.i(q+I)>>>R|U.i(q+I+1)<<32-R:U.i(q+I);return new l(z,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,Gu=l}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tx,Rl,Ax,Jf,um,Sx,kx,Cx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var T=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var W=h[O];if(!(W in T))break e;T=T[W]}h=h[h.length-1],O=T[h],v=v(O),v!=O&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var T=0,O=!1,W={next:function(){if(!O&&T<h.length){var se=T++;return{value:v(se,h[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(h){return h||function(){return a(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,O),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function w(h,v,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function x(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(O,W,se){for(var be=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)be[nt-2]=arguments[nt];return v.prototype[W].apply(O,be)}}function L(h){const v=h.length;if(0<v){const T=Array(v);for(let O=0;O<v;O++)T[O]=h[O];return T}return[]}function V(h,v){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(d(O)){const W=h.length||0,se=O.length||0;h.length=W+se;for(let be=0;be<se;be++)h[W+be]=O[be]}else h.push(O)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ne(h){return ne[" "](h),h}ne[" "]=function(){};var re=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function G(h,v,T){for(const O in h)v.call(T,h[O],O,h)}function U(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,v){let T,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(T in O)h[T]=O[T];for(let se=0;se<I.length;se++)T=I[se],Object.prototype.hasOwnProperty.call(O,T)&&(h[T]=O[T])}}function z(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function q(h){f.setTimeout(()=>{throw h},0)}function N(){var h=He;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class de{constructor(){this.h=this.g=null}add(v,T){const O=_e.get();O.set(v,T),this.h?this.h.next=O:this.g=O,this.h=O}}var _e=new H(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,we=!1,He=new de,k=()=>{const h=f.Promise.resolve(void 0);xe=()=>{h.then(oe)}};var oe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){q(T)}var v=_e;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}we=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Ne(h,v){if(P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(re){e:{try{ne(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}C(Ne,P);var Se={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),Le=0;function st(h,v,T,O,W){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!O,this.ha=W,this.key=++Le,this.da=this.fa=!1}function Ke(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Rt(h){this.src=h,this.g={},this.h=0}Rt.prototype.add=function(h,v,T,O,W){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var be=Lt(h,v,O,W);return-1<be?(v=h[be],T||(v.fa=!1)):(v=new st(v,this.src,se,!!O,W),v.fa=T,h.push(v)),v};function Nn(h,v){var T=v.type;if(T in h.g){var O=h.g[T],W=Array.prototype.indexOf.call(O,v,void 0),se;(se=0<=W)&&Array.prototype.splice.call(O,W,1),se&&(Ke(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Lt(h,v,T,O){for(var W=0;W<h.length;++W){var se=h[W];if(!se.da&&se.listener==v&&se.capture==!!T&&se.ha==O)return W}return-1}var gn="closure_lm_"+(1e6*Math.random()|0),Hn={};function On(h,v,T,O,W){if(Array.isArray(v)){for(var se=0;se<v.length;se++)On(h,v[se],T,O,W);return null}return T=An(T),h&&h[dt]?h.K(v,T,p(O)?!!O.capture:!1,W):sr(h,v,T,!1,O,W)}function sr(h,v,T,O,W,se){if(!v)throw Error("Invalid event type");var be=p(W)?!!W.capture:!!W,nt=kr(h);if(nt||(h[gn]=nt=new Rt(h)),T=nt.add(v,T,O,be,se),T.proxy)return T;if(O=Fr(),T.proxy=O,O.src=h,O.listener=T,h.addEventListener)Ee||(W=be),W===void 0&&(W=!1),h.addEventListener(v.toString(),O,W);else if(h.attachEvent)h.attachEvent($n(v.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Fr(){function h(T){return v.call(h.src,h.listener,T)}const v=yn;return h}function Sr(h,v,T,O,W){if(Array.isArray(v))for(var se=0;se<v.length;se++)Sr(h,v[se],T,O,W);else O=p(O)?!!O.capture:!!O,T=An(T),h&&h[dt]?(h=h.i,v=String(v).toString(),v in h.g&&(se=h.g[v],T=Lt(se,T,O,W),-1<T&&(Ke(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete h.g[v],h.h--)))):h&&(h=kr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Lt(v,T,O,W)),(T=-1<h?v[h]:null)&&Gn(T))}function Gn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[dt])Nn(v.i,h);else{var T=h.type,O=h.proxy;v.removeEventListener?v.removeEventListener(T,O,h.capture):v.detachEvent?v.detachEvent($n(T),O):v.addListener&&v.removeListener&&v.removeListener(O),(T=kr(v))?(Nn(T,h),T.h==0&&(T.src=null,v[gn]=null)):Ke(h)}}}function $n(h){return h in Hn?Hn[h]:Hn[h]="on"+h}function yn(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var T=h.listener,O=h.ha||h.src;h.fa&&Gn(h),h=T.call(O,v)}return h}function kr(h){return h=h[gn],h instanceof Rt?h:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(h){return typeof h=="function"?h:(h[Wt]||(h[Wt]=function(v){return h.handleEvent(v)}),h[Wt])}function ue(){ve.call(this),this.i=new Rt(this),this.M=this,this.F=null}C(ue,ve),ue.prototype[dt]=!0,ue.prototype.removeEventListener=function(h,v,T,O){Sr(this,h,v,T,O)};function S(h,v){var T,O=h.F;if(O)for(T=[];O;O=O.F)T.push(O);if(h=h.M,O=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var W=v;v=new P(O,h),F(v,W)}if(W=!0,T)for(var se=T.length-1;0<=se;se--){var be=v.g=T[se];W=b(be,O,!0,v)&&W}if(be=v.g=h,W=b(be,O,!0,v)&&W,W=b(be,O,!1,v)&&W,T)for(se=0;se<T.length;se++)be=v.g=T[se],W=b(be,O,!1,v)&&W}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],O=0;O<T.length;O++)Ke(T[O]);delete h.g[v],h.h--}}this.F=null},ue.prototype.K=function(h,v,T,O){return this.i.add(String(h),v,!1,T,O)},ue.prototype.L=function(h,v,T,O){return this.i.add(String(h),v,!0,T,O)};function b(h,v,T,O){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,se=0;se<v.length;++se){var be=v[se];if(be&&!be.da&&be.capture==T){var nt=be.listener,Gt=be.ha||be.src;be.fa&&Nn(h.i,be),W=nt.call(Gt,O)!==!1&&W}}return W&&!O.defaultPrevented}function E(h,v,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function M(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,M(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class K extends ve{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:M(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(h){ve.call(this),this.h=h,this.g={}}C(ee,ve);var ae=[];function ke(h){G(h.g,function(v,T){this.g.hasOwnProperty(T)&&Gn(v)},h),h.g={}}ee.prototype.N=function(){ee.aa.N.call(this),ke(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=f.JSON.stringify,Me=f.JSON.parse,Ve=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function qe(){}qe.prototype.h=null;function bc(h){return h.h||(h.h=h.i())}function vc(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){P.call(this,"d")}C(Ji,P);function Cr(){P.call(this,"c")}C(Cr,P);var ar={},eu=null;function Zs(){return eu=eu||new ue}ar.La="serverreachability";function wo(h){P.call(this,ar.La,h)}C(wo,P);function tu(h){const v=Zs();S(v,new wo(v))}ar.STAT_EVENT="statevent";function Ws(h,v){P.call(this,ar.STAT_EVENT,h),this.stat=v}C(Ws,P);function Pt(h){const v=Zs();S(v,new Ws(v,h))}ar.Ma="timingevent";function Ec(h,v){P.call(this,ar.Ma,h),this.size=v}C(Ec,P);function nu(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function ru(){this.g=!0}ru.prototype.xa=function(){this.g=!1};function xc(h,v,T,O,W,se){h.info(function(){if(h.g)if(se)for(var be="",nt=se.split("&"),Gt=0;Gt<nt.length;Gt++){var rt=nt[Gt].split("=");if(1<rt.length){var tn=rt[0];rt=rt[1];var $t=tn.split("_");be=2<=$t.length&&$t[1]=="type"?be+(tn+"="+rt+"&"):be+(tn+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+v+`
`+T+`
`+be})}function wc(h,v,T,O,W,se,be){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+v+`
`+T+`
`+se+" "+be})}function iu(h,v,T,O){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jt(h,T)+(O?" "+O:"")})}function Br(h,v){h.info(function(){return"TIMEOUT: "+v})}ru.prototype.info=function(){};function Jt(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var O=T[h];if(!(2>O.length)){var W=O[1];if(Array.isArray(W)&&!(1>W.length)){var se=W[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<W.length;be++)W[be]=""}}}}return tt(T)}catch{return v}}var Ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function Js(){}C(Js,qe),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},is=new Js;function zr(h,v,T,O){this.j=h,this.i=v,this.l=T,this.R=O||1,this.U=new ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new To}function To(){this.i=null,this.g="",this.h=!1}var uu={},us={};function Rr(h,v,T){h.L=1,h.v=os(Dt(v)),h.m=T,h.P=!0,_i(h,null)}function _i(h,v){h.F=Date.now(),Tt(h),h.A=Dt(h.v);var T=h.A,O=h.R;Array.isArray(O)||(O=[String(O)]),Ei(T.i,"t",O),h.C=0,T=h.j.J,h.h=new To,h.g=Uc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new K(w(h.Y,h,h.g),h.O)),v=h.U,T=h.g,O=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(ae[0]=W.toString()),W=ae);for(var se=0;se<W.length;se++){var be=On(T,W[se],O||v.handleEvent,!1,v.h||v);if(!be)break;v.g[be.key]=be}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),tu(),xc(h.i,h.u,h.A,h.l,h.R,h.m)}zr.prototype.ca=function(h){h=h.target;const v=this.M;v&&hr(h)==3?v.j():this.Y(h)},zr.prototype.Y=function(h){try{if(h==this.g)e:{const $t=hr(this.g);var v=this.g.Ba();const Ai=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||$t!=4||v==7||(v==8||0>=Ai?tu(3):tu(2)),ea(this);var T=this.g.Z();this.X=T;t:if(su(this)){var O=Rc(this.g);h="";var W=O.length,se=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Kn(this);var be="";break t}this.h.i=new f.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(O[v],{stream:!(se&&v==W-1)});O.length=0,this.h.g+=h,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=T==200,wc(this.i,this.u,this.A,this.l,this.R,$t,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Gt=this.g;if((nt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(nt)){var rt=nt;break t}}rt=null}if(T=rt)iu(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qn(this,T);else{this.o=!1,this.s=3,Pt(12),Mn(this),Kn(this);break e}}if(this.P){T=!0;let ln;for(;!this.J&&this.C<be.length;)if(ln=au(this,be),ln==us){$t==4&&(this.s=4,Pt(14),T=!1),iu(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==uu){this.s=4,Pt(15),iu(this.i,this.l,be,"[Invalid Chunk]"),T=!1;break}else iu(this.i,this.l,ln,null),Qn(this,ln);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||be.length!=0||this.h.h||(this.s=1,Pt(16),T=!1),this.o=this.o&&T,!T)iu(this.i,this.l,be,"[Invalid Chunked Response]"),Mn(this),Kn(this);else if(0<be.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),ms(tn),tn.M=!0,Pt(11))}}else iu(this.i,this.l,be,null),Qn(this,be);$t==4&&Mn(this),this.o&&!this.J&&($t==4?Mc(this.j,this):(this.o=!1,Tt(this)))}else Ed(this.g),T==400&&0<be.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Mn(this),Kn(this)}}}catch{}finally{}};function su(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function au(h,v){var T=h.C,O=v.indexOf(`
`,T);return O==-1?us:(T=Number(v.substring(T,O)),isNaN(T)?uu:(O+=1,O+T>v.length?us:(v=v.slice(O,O+T),h.C=O+T,v)))}zr.prototype.cancel=function(){this.J=!0,Mn(this)};function Tt(h){h.S=Date.now()+h.I,Ao(h,h.I)}function Ao(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=nu(w(h.ba,h),v)}function ea(h){h.B&&(f.clearTimeout(h.B),h.B=null)}zr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Br(this.i,this.A),this.L!=2&&(tu(),Pt(17)),Mn(this),this.s=2,Kn(this)):Ao(this,this.S-h)};function Kn(h){h.j.G==0||h.J||Mc(h.j,h)}function Mn(h){ea(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ke(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Qn(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||ou(T.h,h))){if(!h.K&&ou(T.h,h)&&T.G==3){try{var O=T.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)ca(T),oa(T);else break e;Po(T),Pt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=nu(w(T.Za,T),6e3));if(1>=Tc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ti(T,11)}else if((h.K||T.g==h)&&ca(T),!Q(v))for(W=T.Da.g.parse(v),v=0;v<W.length;v++){let rt=W[v];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const tn=rt[3];tn!=null&&(T.la=tn,T.j.info("VER="+T.la));const $t=rt[4];$t!=null&&(T.Aa=$t,T.j.info("SVER="+T.Aa));const Ai=rt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(O=1.5*Ai,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const ln=h.g;if(ln){const Qr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var se=O.h;se.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(lu(se,se.h),se.h=null))}if(O.D){const Fo=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(O.ya=Fo,at(O.I,O.D,Fo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var be=h;if(O.qa=Pc(O,O.J?O.ia:null,O.W),be.K){or(O.h,be);var nt=be,Gt=O.L;Gt&&(nt.I=Gt),nt.B&&(ea(nt),Tt(nt)),O.g=be}else Nc(O);0<T.i.length&&la(T)}else rt[0]!="stop"&&rt[0]!="close"||Ti(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ti(T,7):Mo(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}tu(4)}catch{}}var gd=class{constructor(h,v){this.g=h,this.map=v}};function So(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Tc(h){return h.h?1:h.g?h.g.size:0}function ou(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function lu(h,v){h.g?h.g.add(v):h.h=v}function or(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}So.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return L(h.i)}function Ac(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,O=0;O<T;O++)v.push(h[O]);return v}v=[],T=0;for(O in h)v[T++]=h[O];return v}function yd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const O in h)v[T++]=O;return v}}}function ss(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=yd(h),O=Ac(h),W=O.length,se=0;se<W;se++)v.call(void 0,O[se],T&&T[se],h)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var O=h[T].indexOf("="),W=null;if(0<=O){var se=h[T].substring(0,O);W=h[T].substring(O+1)}else se=h[T];v(se,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function bi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bi){this.h=h.h,cu(this,h.j),this.o=h.o,this.g=h.g,as(this,h.s),this.l=h.l;var v=h.i,T=new jr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),na(this,T),this.m=h.m}else h&&(v=String(h).match(Co))?(this.h=!1,cu(this,v[1]||"",!0),this.o=fu(v[2]||""),this.g=fu(v[3]||"",!0),as(this,v[4]),this.l=fu(v[5]||"",!0),na(this,v[6]||"",!0),this.m=fu(v[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}bi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(lr(v,Ro,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(lr(v,Ro,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(lr(T,T.charAt(0)=="/"?Do:Sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",lr(T,vd)),h.join("")};function Dt(h){return new bi(h)}function cu(h,v,T){h.j=T?fu(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function as(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function na(h,v,T){v instanceof jr?(h.i=v,Io(h.i,h.h)):(T||(v=lr(v,bd)),h.i=new jr(v,h.h))}function at(h,v,T){h.i.set(v,T)}function os(h){return at(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function fu(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function lr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,_d),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _d(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ro=/[#\/\?@]/g,Sc=/[#\?:]/g,Do=/[#\?]/g,bd=/[#\?@]/g,vd=/#/g;function jr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function cr(h){h.g||(h.g=new Map,h.h=0,h.i&&ta(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=jr.prototype,t.add=function(h,v){cr(this),this.i=null,h=xi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function ra(h,v){cr(h),v=xi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function vi(h,v){return cr(h),v=xi(h,v),h.g.has(v)}t.forEach=function(h,v){cr(this),this.g.forEach(function(T,O){T.forEach(function(W){h.call(v,W,O,this)},this)},this)},t.na=function(){cr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let O=0;O<v.length;O++){const W=h[O];for(let se=0;se<W.length;se++)T.push(v[O])}return T},t.V=function(h){cr(this);let v=[];if(typeof h=="string")vi(this,h)&&(v=v.concat(this.g.get(xi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return cr(this),this.i=null,h=xi(this,h),vi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ei(h,v,T){ra(h,v),0<T.length&&(h.i=null,h.g.set(xi(h,v),L(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var O=v[T];const se=encodeURIComponent(String(O)),be=this.V(O);for(O=0;O<be.length;O++){var W=se;be[O]!==""&&(W+="="+encodeURIComponent(String(be[O]))),h.push(W)}}return this.i=h.join("&")};function xi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Io(h,v){v&&!h.j&&(cr(h),h.i=null,h.g.forEach(function(T,O){var W=O.toLowerCase();O!=W&&(ra(this,O),Ei(this,W,T))},h)),h.j=v}function kc(h,v){const T=new ru;if(f.Image){const O=new Image;O.onload=x(fr,T,"TestLoadImage: loaded",!0,v,O),O.onerror=x(fr,T,"TestLoadImage: error",!1,v,O),O.onabort=x(fr,T,"TestLoadImage: abort",!1,v,O),O.ontimeout=x(fr,T,"TestLoadImage: timeout",!1,v,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else v(!1)}function ls(h,v){const T=new ru,O=new AbortController,W=setTimeout(()=>{O.abort(),fr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:O.signal}).then(se=>{clearTimeout(W),se.ok?fr(T,"TestPingServer: ok",!0,v):fr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),fr(T,"TestPingServer: error",!1,v)})}function fr(h,v,T,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(T)}catch{}}function cs(){this.g=new Ve}function qr(h,v,T){const O=T||"";try{ss(h,function(W,se){let be=W;p(W)&&(be=tt(W)),v.push(O+se+"="+encodeURIComponent(be))})}catch(W){throw v.push(O+"type="+encodeURIComponent("_badmap")),W}}function hu(h){this.l=h.Ub||null,this.j=h.eb||!1}C(hu,qe),hu.prototype.g=function(){return new wi(this.l,this.j)},hu.prototype.i=function(h){return function(){return h}}({});function wi(h,v){ue.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(wi,ue),t=wi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Gr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hr(this):Gr(this),this.readyState==3&&No(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Hr(this))},t.Qa=function(h){this.g&&(this.response=h,Hr(this))},t.ga=function(){this.g&&Hr(this)};function Hr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Gr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Gr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Oo(h){let v="";return G(h,function(T,O){v+=O,v+=":",v+=T,v+=`\r
`}),v}function en(h,v,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Oo(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):at(h,v,T))}function ft(h){ue.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ft,ue);var ia=/^https?$/i,fs=["POST","PUT"];t=ft.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?bc(this.o):bc(is),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(se){Cc(this,se);return}if(h=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)T.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())T.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),W=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(fs,v,void 0))||O||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of T)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){Cc(this,se)}};function Cc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ua(h),$r(h)}function ua(h){h.A||(h.A=!0,S(h,"complete"),S(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,S(this,"complete"),S(this,"abort"),$r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},t.bb=function(){sa(this)};function sa(h){if(h.h&&typeof l<"u"&&(!h.v[1]||hr(h)!=4||h.Z()!=2)){if(h.u&&hr(h)==4)E(h.Ea,0,h);else if(S(h,"readystatechange"),hr(h)==4){h.h=!1;try{const be=h.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var O;if(O=be===0){var W=String(h.D).match(Co)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),O=!ia.test(W?W.toLowerCase():"")}T=O}if(T)S(h,"complete"),S(h,"success");else{h.m=6;try{var se=2<hr(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",ua(h)}}finally{$r(h)}}}}function $r(h,v){if(h.g){hs(h);const T=h.g,O=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||S(h,"ready");try{T.onreadystatechange=O}catch{}}}function hs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function hr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Me(v)}};function Rc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ed(h){const v={};h=(h.g&&2<=hr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(Q(h[O]))continue;var T=z(h[O]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=v[W]||[];v[W]=se,se.push(T)}U(v,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function aa(h){this.Aa=0,this.i=[],this.j=new ru,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,h),this.cb=ds("retryDelaySeedMs",1e4,h),this.Wa=ds("forwardChannelMaxRetries",2,h),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new So(h&&h.concurrentRequestLimit),this.Da=new cs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aa.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,O){Pt(0),this.W=h,this.H=v||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Pc(this,null,this.W),la(this)};function Mo(h){if(Dc(h),h.G==3){var v=h.U++,T=Dt(h.I);if(at(T,"SID",h.K),at(T,"RID",v),at(T,"TYPE","terminate"),ps(h,T),v=new zr(h,h.j,v),v.L=2,v.v=os(Dt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Tt(v)}Lc(h)}function oa(h){h.g&&(ms(h),h.g.cancel(),h.g=null)}function Dc(h){oa(h),h.u&&(f.clearTimeout(h.u),h.u=null),ca(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function la(h){if(!ko(h.h)&&!h.s){h.s=!0;var v=h.Ga;xe||k(),we||(xe(),we=!0),He.add(v,h),h.B=0}}function xd(h,v){return Tc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=nu(w(h.Ga,h,v),Uo(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new zr(this,this.j,h);let se=this.o;if(this.S&&(se?(se=R(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(W.H=se,se=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Ic(this,W,v),T=Dt(this.I),at(T,"RID",h),at(T,"CVER",22),this.D&&at(T,"X-HTTP-Session-Id",this.D),ps(this,T),se&&(this.O?v="headers="+encodeURIComponent(String(Oo(se)))+"&"+v:this.m&&en(T,this.m,se)),lu(this.h,W),this.Ua&&at(T,"TYPE","init"),this.P?(at(T,"$req",v),at(T,"SID","null"),W.T=!0,Rr(W,T,null)):Rr(W,T,v),this.G=2}}else this.G==3&&(h?Lo(this,h):this.i.length==0||ko(this.h)||Lo(this))};function Lo(h,v){var T;v?T=v.l:T=h.U++;const O=Dt(h.I);at(O,"SID",h.K),at(O,"RID",T),at(O,"AID",h.T),ps(h,O),h.m&&h.o&&en(O,h.m,h.o),T=new zr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ic(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),lu(h.h,T),Rr(T,O,v)}function ps(h,v){h.H&&G(h.H,function(T,O){at(v,O,T)}),h.l&&ss({},function(T,O){at(v,O,T)})}function Ic(h,v,T){T=Math.min(h.i.length,T);var O=h.l?w(h.l.Na,h.l,h):null;e:{var W=h.i;let se=-1;for(;;){const be=["count="+T];se==-1?0<T?(se=W[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let nt=!0;for(let Gt=0;Gt<T;Gt++){let rt=W[Gt].g;const tn=W[Gt].map;if(rt-=se,0>rt)se=Math.max(0,W[Gt].g-100),nt=!1;else try{qr(tn,be,"req"+rt+"_")}catch{O&&O(tn)}}if(nt){O=be.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,O}function Nc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;xe||k(),we||(xe(),we=!0),He.add(v,h),h.v=0}}function Po(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=nu(w(h.Fa,h),Uo(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=nu(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),oa(this),Oc(this))};function ms(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Oc(h){h.g=new zr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Dt(h.qa);at(v,"RID","rpc"),at(v,"SID",h.K),at(v,"AID",h.T),at(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&at(v,"TO",h.ja),at(v,"TYPE","xmlhttp"),ps(h,v),h.m&&h.o&&en(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=os(Dt(v)),T.m=null,T.P=!0,_i(T,h)}t.Za=function(){this.C!=null&&(this.C=null,oa(this),Po(this),Pt(19))};function ca(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Mc(h,v){var T=null;if(h.g==v){ca(h),ms(h),h.g=null;var O=2}else if(ou(h.h,v))T=v.D,or(h.h,v),O=1;else return;if(h.G!=0){if(v.o)if(O==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;O=Zs(),S(O,new Ec(O,T)),la(h)}else Nc(h);else if(W=v.s,W==3||W==0&&0<v.X||!(O==1&&xd(h,v)||O==2&&Po(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),W){case 1:Ti(h,5);break;case 4:Ti(h,10);break;case 3:Ti(h,6);break;default:Ti(h,2)}}}function Uo(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ti(h,v){if(h.j.info("Error code "+v),v==2){var T=w(h.fb,h),O=h.Xa;const W=!O;O=new bi(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||cu(O,"https"),os(O),W?kc(O.toString(),T):ls(O.toString(),T)}else Pt(2);h.G=0,h.l&&h.l.sa(v),Lc(h),Dc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Lc(h){if(h.G=0,h.ka=[],h.l){const v=Sn(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ka,v),V(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Pc(h,v,T){var O=T instanceof bi?Dt(T):new bi(T);if(O.g!="")v&&(O.g=v+"."+O.g),as(O,O.s);else{var W=f.location;O=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var se=new bi(null);O&&cu(se,O),v&&(se.g=v),W&&as(se,W),T&&(se.l=T),O=se}return T=h.D,v=h.ya,T&&v&&at(O,T,v),at(O,"VER",h.la),ps(h,O),O}function Uc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ft(new hu({eb:T})):new ft(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}t=Fc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fa(){}fa.prototype.g=function(h,v){return new kn(h,v)};function kn(h,v){ue.call(this),this.g=new aa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Kr(this)}C(kn,ue),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Mo(this.g)},kn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=tt(h),h=T);v.i.push(new gd(v.Ya++,h)),v.G==3&&la(v)},kn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,kn.aa.N.call(this)};function Vc(h){Ji.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Vc,Ji);function Bc(){Cr.call(this),this.status=1}C(Bc,Cr);function Kr(h){this.g=h}C(Kr,Fc),Kr.prototype.ua=function(){S(this.g,"a")},Kr.prototype.ta=function(h){S(this.g,new Vc(h))},Kr.prototype.sa=function(h){S(this.g,new Bc)},Kr.prototype.ra=function(){S(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,Cx=function(){return new fa},kx=function(){return Zs()},Sx=ar,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,Jf=Ht,yi.COMPLETE="complete",Ax=yi,vc.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Rl=vc,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,Tx=ft}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const Hb="@firebase/firestore",Gb="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Fm("@firebase/firestore");function ja(){return Bs.logLevel}function Te(t,...e){if(Bs.logLevel<=Ze.DEBUG){const n=e.map(zm);Bs.debug(`Firestore (${po}): ${t}`,...n)}}function Qi(t,...e){if(Bs.logLevel<=Ze.ERROR){const n=e.map(zm);Bs.error(`Firestore (${po}): ${t}`,...n)}}function eo(t,...e){if(Bs.logLevel<=Ze.WARN){const n=e.map(zm);Bs.warn(`Firestore (${po}): ${t}`,...n)}}function zm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw Qi(e),new Error(e)}function ht(t,e){t||Pe()}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class HA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GA{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new Rx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new En(e)}}class $A{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $A(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QA{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $b(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string"),this.R=n.token,new $b(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=YA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=-62135596800,Qb=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Qb);return new Xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kb)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qb}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Xt(0,0))}static max(){return new Be(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="__name__";class ti{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=ti.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=ti.isNumericId(e),s=ti.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ti.extractNumericId(e).compare(ti.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gu.fromString(e.substring(4,e.length-2))}}class wt extends ti{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const XA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ti{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return XA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yb}static keyField(){return new pn([Yb])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(r+=f,s++):(a(),s++)}if(a(),l)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(wt.fromString(e))}static fromName(e){return new Ie(wt.fromString(e).popFirst(5))}static empty(){return new Ie(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function ZA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new Qu(s,Ie.empty(),e)}function WA(t){return new Qu(t.readTime,t.key,ql)}class Qu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qu(Be.min(),Ie.empty(),ql)}static max(){return new Qu(Be.max(),Ie.empty(),ql)}}function JA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==eS)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let s=0,a=0,l=!1;e.forEach(f=>{++s,f.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(s=>s?he.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new he((r,s)=>{const a=e.length,l=new Array(a);let f=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(y=>{l[p]=y,++f,f===a&&r(l)},y=>s(y))}})}static doWhile(e,n){return new he((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function nS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function zh(t){return t==null}function dh(t){return t===0&&1/t==-1/0}function rS(t){return typeof t=="number"&&Number.isInteger(t)&&!dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="";function iS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xb(e)),e=uS(t.get(n),e);return Xb(e)}function uS(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case Ix:n+="";break;default:n+=a}}return n}function Xb(t){return t+Ix+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=a??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wb(this.data.getIterator())}getIteratorFrom(e){return new Wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class Wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Zt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ox("Invalid base64 string: "+a):a}}(e);return new mn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const sS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(t){if(ht(!!t),typeof t=="string"){let e=0;const n=sS.exec(t);if(ht(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xu(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="server_timestamp",Lx="__type__",Px="__previous_value__",Ux="__local_write_time__";function qm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lx])===null||n===void 0?void 0:n.stringValue)===Mx}function jh(t){const e=t.mapValue.fields[Px];return qm(e)?jh(e):e}function Hl(t){const e=Yu(t.mapValue.fields[Ux].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,s,a,l,f,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p}}const ph="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__type__",oS="__max__",jf={mapValue:{}},Vx="__vector__",mh="value";function Zu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qm(t)?4:cS(t)?9007199254740991:lS(t)?10:11:Pe()}function ci(t,e){if(t===e)return!0;const n=Zu(t);if(n!==Zu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Yu(s.timestampValue),f=Yu(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Xu(s.bytesValue).isEqual(Xu(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Ft(s.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ft(s.integerValue)===Ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ft(s.doubleValue),f=Ft(a.doubleValue);return l===f?dh(l)===dh(f):isNaN(l)&&isNaN(f)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Zb(l)!==Zb(f))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(f[d]===void 0||!ci(l[d],f[d])))return!1;return!0}(t,e);default:return Pe()}}function $l(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=Zu(t),r=Zu(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(a,l){const f=Ft(a.integerValue||a.doubleValue),d=Ft(l.integerValue||l.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return Jb(t.timestampValue,e.timestampValue);case 4:return Jb(Hl(t),Hl(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(a,l){const f=Xu(a),d=Xu(l);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),d=l.split("/");for(let p=0;p<f.length&&p<d.length;p++){const y=et(f[p],d[p]);if(y!==0)return y}return et(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const f=et(Ft(a.latitude),Ft(l.latitude));return f!==0?f:et(Ft(a.longitude),Ft(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ev(t.arrayValue,e.arrayValue);case 10:return function(a,l){var f,d,p,y;const _=a.fields||{},w=l.fields||{},x=(f=_[mh])===null||f===void 0?void 0:f.arrayValue,C=(d=w[mh])===null||d===void 0?void 0:d.arrayValue,L=et(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:ev(x,C)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===jf.mapValue&&l===jf.mapValue)return 0;if(a===jf.mapValue)return 1;if(l===jf.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),p=l.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const w=et(d[_],y[_]);if(w!==0)return w;const x=no(f[d[_]],p[y[_]]);if(x!==0)return x}return et(d.length,y.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function Jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Yu(t),r=Yu(e),s=et(n.seconds,r.seconds);return s!==0?s:et(n.nanos,r.nanos)}function ev(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=no(n[s],r[s]);if(a)return a}return et(n.length,r.length)}function ro(t){return sm(t)}function sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=sm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${sm(n.fields[l])}`;return s+"}"}(t.mapValue):Pe()}function eh(t){switch(Zu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(t);return e?16+eh(e):16;case 5:return 2*t.stringValue.length;case 6:return Xu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+eh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ts(r.fields,(a,l)=>{s+=a.length+eh(l)}),s}(t.mapValue);default:throw Pe()}}function am(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function tv(t){return!!t&&"nullValue"in t}function nv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function lS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fx])===null||n===void 0?void 0:n.stringValue)===Vx}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=pn.emptyPath(),r={},s=[];e.forEach((l,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=f.popLast()}l?r[f.lastSegment()]=Ol(l):s.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Vn(Ol(this.value))}}function Bx(t){const e=[];return ts(t.fields,(n,r)=>{const s=new pn([n]);if(th(r)){const a=Bx(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,s,a,l,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new xn(e,0,Be.min(),Be.min(),Be.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,s){return new xn(e,1,n,Be.min(),r,s,0)}static newNoDocument(e,n){return new xn(e,2,n,Be.min(),Be.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Be.min(),Be.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function rv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=no(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function fS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class Yt extends zx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dS(e,n,r):n==="array-contains"?new gS(e,r):n==="in"?new yS(e,r):n==="not-in"?new _S(e,r):n==="array-contains-any"?new bS(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pS(e,r):new mS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&Zu(this.value)===Zu(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends zx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fi(e,n)}matches(e){return jx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jx(t){return t.op==="and"}function qx(t){return hS(t)&&jx(t)}function hS(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function om(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(qx(t))return t.filters.map(e=>om(e)).join(",");{const e=t.filters.map(n=>om(n)).join(",");return`${t.op}(${e})`}}function Hx(t,e){return t instanceof Yt?function(r,s){return s instanceof Yt&&r.op===s.op&&r.field.isEqual(s.field)&&ci(r.value,s.value)}(t,e):t instanceof fi?function(r,s){return s instanceof fi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,f)=>a&&Hx(l,s.filters[f]),!0):!1}(t,e):void Pe()}function Gx(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(Gx).join(" ,")+"}"}(t):"Filter"}class dS extends Yt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class pS extends Yt{constructor(e,n){super(e,"in",n),this.keys=$x("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mS extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=$x("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $x(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class gS extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&$l(n.arrayValue,this.value)}}class yS extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class _S extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$l(this.value.arrayValue,n)}}class bS extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n=null,r=[],s=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=f,this.le=null}}function uv(t,e=null,n=[],r=[],s=null,a=null,l=null){return new vS(t,e,n,r,s,a,l)}function Gm(t){const e=je(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.le=n}return e.le}function $m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iv(t.startAt,e.startAt)&&iv(t.endAt,e.endAt)}function lm(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n=null,r=[],s=[],a=null,l="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ES(t,e,n,r,s,a,l,f){return new qh(t,e,n,r,s,a,l,f)}function Hh(t){return new qh(t)}function sv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xS(t){return t.collectionGroup!==null}function Ml(t){const e=je(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new Zt(pn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new yh(a,r))}),n.has(pn.keyField().canonicalString())||e.he.push(new yh(pn.keyField(),r))}return e.he}function ai(t){const e=je(t);return e.Pe||(e.Pe=wS(e,Ml(t))),e.Pe}function wS(t,e){if(t.limitType==="F")return uv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new yh(s.field,a)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return uv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cm(t,e,n){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return $m(ai(t),ai(e))&&t.limitType===e.limitType}function Kx(t){return`${Gm(ai(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Gx(s)).join(", ")}]`),zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ro(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ro(s)).join(",")),`Target(${r})`}(ai(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Ml(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,f,d){const p=rv(l,f,d);return l.inclusive?p<=0:p<0}(r.startAt,Ml(r),s)||r.endAt&&!function(l,f,d){const p=rv(l,f,d);return l.inclusive?p>=0:p>0}(r.endAt,Ml(r),s))}(t,e)}function TS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qx(t){return(e,n)=>{let r=!1;for(const s of Ml(t)){const a=AS(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function AS(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(a,l,f){const d=l.data.field(a),p=f.data.field(a);return d!==null&&p!==null?no(d,p):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new kt(Ie.comparator);function Yi(){return SS}const Yx=new kt(Ie.comparator);function Dl(...t){let e=Yx;for(const n of t)e=e.insert(n.key,n);return e}function Xx(t){let e=Yx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return Ll()}function Zx(){return Ll()}function Ll(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const kS=new kt(Ie.comparator),CS=new Zt(Ie.comparator);function We(...t){let e=CS;for(const n of t)e=e.add(n);return e}const RS=new Zt(et);function DS(){return RS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function Wx(t){return{integerValue:""+t}}function IS(t,e){return rS(e)?Wx(e):Km(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function NS(t,e,n){return t instanceof _h?function(s,a){const l={fields:{[Lx]:{stringValue:Mx},[Ux]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&qm(a)&&(a=jh(a)),a&&(l.fields[Px]=a),{mapValue:l}}(n,e):t instanceof io?e2(t,e):t instanceof uo?t2(t,e):function(s,a){const l=Jx(s,a),f=av(l)+av(s.Ie);return am(l)&&am(s.Ie)?Wx(f):Km(s.serializer,f)}(t,e)}function OS(t,e,n){return t instanceof io?e2(t,e):t instanceof uo?t2(t,e):n}function Jx(t,e){return t instanceof bh?function(r){return am(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class _h extends Kh{}class io extends Kh{constructor(e){super(),this.elements=e}}function e2(t,e){const n=n2(e);for(const r of t.elements)n.some(s=>ci(s,r))||n.push(r);return{arrayValue:{values:n}}}class uo extends Kh{constructor(e){super(),this.elements=e}}function t2(t,e){let n=n2(e);for(const r of t.elements)n=n.filter(s=>!ci(s,r));return{arrayValue:{values:n}}}class bh extends Kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function av(t){return Ft(t.integerValue||t.doubleValue)}function n2(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.field=e,this.transform=n}}function MS(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof io&&s instanceof io||r instanceof uo&&s instanceof uo?to(r.elements,s.elements,ci):r instanceof bh&&s instanceof bh?ci(r.Ie,s.Ie):r instanceof _h&&s instanceof _h}(t.transform,e.transform)}class LS{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function i2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qm(t.key,Ar.none()):new nc(t.key,t.data,Ar.none());{const n=t.data,r=Vn.empty();let s=new Zt(pn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ns(t.key,r,new tr(s.toArray()),Ar.none())}}function PS(t,e,n){t instanceof nc?function(s,a,l){const f=s.value.clone(),d=lv(s.fieldTransforms,a,l.transformResults);f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(s,a,l){if(!nh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=lv(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(u2(s)),d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof nc?function(a,l,f,d){if(!nh(a.precondition,l))return f;const p=a.value.clone(),y=cv(a.fieldTransforms,d,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(a,l,f,d){if(!nh(a.precondition,l))return f;const p=cv(a.fieldTransforms,d,l),y=l.data;return y.setAll(u2(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,f){return nh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f}(t,e,n)}function US(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=Jx(r.transform,s||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,a))}return n||null}function ov(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&to(r,s,(a,l)=>MS(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends Qh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ns extends Qh{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lv(t,e,n){const r=new Map;ht(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,f=e.data.field(a.field);r.set(a.field,OS(l,f,n[s]))}return r}function cv(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,NS(a,l,e))}return r}class Qm extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FS extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&PS(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Zx();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=n.has(s.key)?null:f;const d=i2(l,f);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>ov(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>ov(n,r))}}class Ym{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ht(e.mutations.length===r.length);let s=function(){return kS}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Ym(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,ut;function jS(t){switch(t){case ge.OK:return Pe();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Pe()}}function s2(t){if(t===void 0)return Qi("GRPC error has no .code"),ge.UNKNOWN;switch(t){case jt.OK:return ge.OK;case jt.CANCELLED:return ge.CANCELLED;case jt.UNKNOWN:return ge.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ge.INTERNAL;case jt.UNAVAILABLE:return ge.UNAVAILABLE;case jt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case jt.NOT_FOUND:return ge.NOT_FOUND;case jt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case jt.ABORTED:return ge.ABORTED;case jt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case jt.DATA_LOSS:return ge.DATA_LOSS;default:return Pe()}}(ut=jt||(jt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Gu([4294967295,4294967295],0);function fv(t){const e=qS().encode(t),n=new wx;return n.update(e),new Uint8Array(n.digest())}function hv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gu([n,r],0),new Gu([s,a],0)]}class Xm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gu.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Gu.fromNumber(r)));return s.compare(HS)===1&&(s=new Gu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=fv(e),[r,s]=hv(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Xm(a,s,n);return r.forEach(f=>l.insert(f)),l}insert(e){if(this.Ee===0)return;const n=fv(e),[r,s]=hv(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yh(Be.min(),s,new kt(et),Yi(),We())}}class rc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class a2{constructor(e,n){this.targetId=e,this.ge=n}}class o2{constructor(e,n,r=mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class dv{constructor(){this.pe=0,this.ye=pv(),this.we=mn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=We(),n=We(),r=We();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe()}}),new rc(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=pv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ht(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class GS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yi(),this.$e=qf(),this.Ke=qf(),this.Ue=new kt(et)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(lm(a))if(r===0){const l=new Ie(a.path);this.ze(n,l,xn.newNoDocument(l,Be.min()))}else ht(r===1);else{const l=this.et(n);if(l!==r){const f=this.tt(e),d=f?this.nt(f,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,f;try{l=Xu(r).toUint8Array()}catch(d){if(d instanceof Ox)return eo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Xm(l,s,a)}catch(d){return eo(d instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.Ee===0?null:f}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const f=this.Xe(l);if(f){if(a.current&&lm(f.target)){const d=new Ie(f.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,xn.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=We();this.Ke.forEach((a,l)=>{let f=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new Yh(e,n,this.Ue,this.Qe,r);return this.Qe=Yi(),this.$e=qf(),this.Ke=qf(),this.Ue=new kt(et),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new dv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Zt(et),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Zt(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function qf(){return new kt(Ie.comparator)}function pv(){return new kt(Ie.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},KS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QS={and:"AND",or:"OR"};class YS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fm(t,e){return t.useProto3Json||zh(e)?e:{value:e}}function vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XS(t,e){return vh(t,e.toTimestamp())}function oi(t){return ht(!!t),Be.fromTimestamp(function(n){const r=Yu(n);return new Xt(r.seconds,r.nanos)}(t))}function Zm(t,e){return hm(t,e).canonicalString()}function hm(t,e){const n=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c2(t){const e=wt.fromString(t);return ht(m2(e)),e}function dm(t,e){return Zm(t.databaseId,e.path)}function Ap(t,e){const n=c2(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(h2(n))}function f2(t,e){return Zm(t.databaseId,e)}function ZS(t){const e=c2(t);return e.length===4?wt.emptyPath():h2(e)}function pm(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h2(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mv(t,e,n){return{name:dm(t,e),fields:n.value.mapValue.fields}}function WS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(ht(y===void 0||typeof y=="string"),mn.fromBase64String(y||"")):(ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array),mn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(p){const y=p.code===void 0?ge.UNKNOWN:s2(p.code);return new Re(y,p.message||"")}(l);n=new o2(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ap(t,r.document.name),a=oi(r.document.updateTime),l=r.document.createTime?oi(r.document.createTime):Be.min(),f=new Vn({mapValue:{fields:r.document.fields}}),d=xn.newFoundDocument(s,a,l,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new rh(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ap(t,r.document),a=r.readTime?oi(r.readTime):Be.min(),l=xn.newNoDocument(s,a),f=r.removedTargetIds||[];n=new rh([],f,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ap(t,r.document),a=r.removedTargetIds||[];n=new rh([],a,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new zS(s,a),f=r.targetId;n=new a2(f,l)}}return n}function JS(t,e){let n;if(e instanceof nc)n={update:mv(t,e.key,e.value)};else if(e instanceof Qm)n={delete:dm(t,e.key)};else if(e instanceof ns)n={update:mv(t,e.key,e.data),updateMask:ok(e.fieldMask)};else{if(!(e instanceof FS))return Pe();n={verify:dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const f=l.transform;if(f instanceof _h)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof io)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof uo)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bh)return{fieldPath:l.field.canonicalString(),increment:f.Ie};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:XS(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(t,e.precondition)),n}function ek(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?oi(s.updateTime):oi(a);return l.isEqual(Be.min())&&(l=oi(a)),new LS(l,s.transformResults||[])}(n,e))):[]}function tk(t,e){return{documents:[f2(t,e.path)]}}function nk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f2(t,s);const a=function(p){if(p.length!==0)return p2(fi.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:Ha(w.field),direction:uk(w.dir)}}(y))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=fm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function rk(t){let e=ZS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ht(r===1);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=function(_){const w=d2(_);return w instanceof fi&&qx(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(C){return new yh(Ga(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(n.orderBy));let f=null;n.limit&&(f=function(_){let w;return w=typeof _=="object"?_.value:_,zh(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(_){const w=!!_.before,x=_.values||[];return new gh(x,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,x=_.values||[];return new gh(x,w)}(n.endAt)),ES(e,s,l,a,f,"F",d,p)}function ik(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ga(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ga(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ga(n.unaryFilter.field);return Yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ga(n.unaryFilter.field);return Yt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(Ga(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(r=>d2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function uk(t){return $S[t]}function sk(t){return KS[t]}function ak(t){return QS[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function Ga(t){return pn.fromServerFormat(t.fieldPath)}function p2(t){return t instanceof Yt?function(n){if(n.op==="=="){if(nv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(tv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(tv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:sk(n.op),value:n.value}}}(t):t instanceof fi?function(n){const r=n.getFilters().map(s=>p2(s));return r.length===1?r[0]:{compositeFilter:{op:ak(n.op),filters:r}}}(t):Pe()}function ok(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,s,a=Be.min(),l=Be.min(),f=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.Tt=e}}function ck(t){const e=rk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.Tn=new hk}addToCollectionParentIndex(e,n){return this.Tn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Qu.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Qu.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class hk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Zt(wt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g2=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(g2,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new so(0)}static Un(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LruGarbageCollector",dk=1048576;function _v([t,e],[n,r]){const s=et(t,n);return s===0?et(e,r):s}class pk{constructor(e){this.Hn=e,this.buffer=new Zt(_v),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_v(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Te(yv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?Te(yv,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.er(3e5)})}}class gk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Bh.ae);const r=new pk(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(gv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,f,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ja()<=Ze.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(f-l)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function yk(t,e){return new gk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Pl(r.mutation,s,tr.empty(),Xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const s=Ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Dl();return a.forEach((f,d)=>{l=l.insert(f,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,f)=>{n.set(l,f)})})}computeViews(e,n,r,s){let a=Yi();const l=Ll(),f=function(){return Ll()}();return n.forEach((d,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof ns)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Pl(y.mutation,p,y.mutation.getFieldMask(),Xt.now())):l.set(p.key,tr.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,y)=>l.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new bk(y,(_=l.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Ll();let s=new kt((l,f)=>l-f),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const f of l)f.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||tr.empty();y=f.applyToLocalView(p,y),r.set(d,y);const _=(s.get(f.batchId)||We()).add(d);s=s.insert(f.batchId,_)})}).next(()=>{const l=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,y=d.value,_=Zx();y.forEach(w=>{if(!a.has(w)){const x=i2(n.get(w),r.get(w));x!==null&&_.set(w,x),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):he.resolve(Ls());let f=ql,d=a;return l.next(p=>he.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{d=d.insert(y,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,We())).next(y=>({batchId:f,changes:Xx(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Dl();return this.indexManager.getCollectionParents(e,a).next(f=>he.forEach(f,d=>{const p=function(_,w){return new qh(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,xn.newInvalidDocument(y)))});let f=Dl();return l.forEach((d,p)=>{const y=a.get(d);y!==void 0&&Pl(y.mutation,p,tr.empty(),Xt.now()),$h(n,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return he.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:oi(s.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:ck(s.bundledQuery),readTime:oi(s.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.overlays=new kt(Ie.comparator),this.Rr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return he.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const s=Ls(),a=n.length+1,l=new Ie(n.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new kt((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Ls(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Ls(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=s)););return he.resolve(f)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new BS(n,r));let a=this.Rr.get(n);a===void 0&&(a=We(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Vr=new Zt(an.mr),this.gr=new Zt(an.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new an(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Ie(new wt([])),r=new an(n,e),s=new an(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ie(new wt([])),r=new an(n,e),s=new an(n,e+1);let a=We();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new an(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ie.comparator(e.key,n.key)||et(e.Cr,n.Cr)}static pr(e,n){return et(e.Cr,n.Cr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Zt(an.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new VS(a,n,r,s);this.mutationQueue.push(l);for(const f of s)this.Mr=this.Mr.add(new an(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?jm:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),s=new an(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const f=this.Or(l.Cr);a.push(f)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(et);return n.forEach(s=>{const a=new an(s,0),l=new an(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],f=>{r=r.add(f.Cr)})}),he.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new an(new Ie(a),0);let f=new Zt(et);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(f=f.add(d.Cr)),!0)},l),he.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ht(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return he.forEach(n.mutations,s=>{const a=new an(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new an(n,0),s=this.Mr.firstAfterOrEqual(r);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.kr=e,this.docs=function(){return new kt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=Yi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():xn.newInvalidDocument(s))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Yi();const l=n.path,f=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||JA(WA(y),r)<=0||(s.has(y.key)||$h(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe()}qr(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sk(this)}getSize(e){return he.resolve(this.size)}}class Sk extends _k{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.persistence=e,this.Qr=new Gs(n=>Gm(n),$m),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Wm,this.targetCount=0,this.Ur=so.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),he.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new so(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.zn(n),he.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),he.waitFor(a).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Bh(0),this.zr=!1,this.zr=!0,this.jr=new wk,this.referenceDelegate=e(this),this.Hr=new kk(this),this.indexManager=new fk,this.remoteDocumentCache=function(s){return new Ak(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new lk(n),this.Yr=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Tk(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new Ck(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return he.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class Ck extends tS{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.ti=new Wm,this.ni=null}static ri(e){return new Jm(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),he.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,r=>{const s=Ie.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,Be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return he.or([()=>he.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.oi=new Gs(r=>iS(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=yk(this,n)}static ri(e,n){return new Eh(e,n)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return he.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?he.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(f=>{f||(r++,a.removeEntry(l,Be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}ar(e,n,r){return he.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=We(),s=We();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new eg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return A4()?8:nS(wn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Rk;return this._s(e,n,l).next(f=>{if(a.result=f,this.Xi)return this.us(e,n,l,f.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(ja()<=Ze.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(ja()<=Ze.DEBUG&&Te("QueryEngine","Query:",qa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(ja()<=Ze.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):he.resolve())}rs(e,n){if(sv(n))return he.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cm(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.ns.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,f);return this.ls(n,p,l,d.readTime)?this.rs(e,cm(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,s){return sv(n)||s.isEqual(Be.min())?he.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?he.resolve(null):(ja()<=Ze.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qa(n)),this.hs(e,l,n,ZA(s,ql)).next(f=>f))})}cs(e,n){let r=new Zt(Qx(e));return n.forEach((s,a)=>{$h(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return ja()<=Ze.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ns.getDocumentsMatchingQuery(e,n,Qu.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",Ik=3e8;class Nk{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new kt(et),this.Is=new Gs(a=>Gm(a),$m),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Ok(t,e,n,r){return new Nk(t,e,n,r)}async function _2(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let d=We();for(const p of s){l.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of a){f.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:f}))})})}function Mk(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,d,p,y){const _=p.batch,w=_.keys();let x=he.resolve();return w.forEach(C=>{x=x.next(()=>y.getEntry(d,C)).next(L=>{const V=p.docVersions.get(C);ht(V!==null),L.version.compareTo(V)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),x.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=We();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function b2(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Lk(t,e){const n=je(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const f=[];e.targetChanges.forEach((y,_)=>{const w=s.get(_);if(!w)return;f.push(n.Hr.removeMatchingKeys(a,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,y.addedDocuments,_)));let x=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(mn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),s=s.insert(_,x),function(L,V,H){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=Ik?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,x,y)&&f.push(n.Hr.updateTargetData(a,x))});let d=Yi(),p=We();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),f.push(Pk(a,l,e.documentUpdates).next(y=>{d=y.Vs,p=y.fs})),!r.isEqual(Be.min())){const y=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(y)}return he.waitFor(f).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=s,a))}function Pk(t,e,n){let r=We(),s=We();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Yi();return n.forEach((f,d)=>{const p=a.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(f,d.readTime),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(f,d)):Te(tg,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function Uk(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fk(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,he.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new zu(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function mm(t,e,n){const r=je(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!go(l))throw l;Te(tg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function bv(t,e,n){const r=je(t);let s=Be.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,y){const _=je(d),w=_.Is.get(y);return w!==void 0?he.resolve(_.Ts.get(w)):_.Hr.getTargetData(p,y)}(r,l,ai(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,f.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:Be.min(),n?a:We())).next(f=>(Vk(r,TS(e),f),{documents:f,gs:a})))}function Vk(t,e,n){let r=t.Es.get(e)||Be.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class vv{constructor(){this.activeTargetIds=DS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bk{constructor(){this.ho=new vv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new vv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class xv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Te(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Te(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function gm(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RestConnection",jk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,n,r,s,a){const l=gm(),f=this.So(e,n.toUriEncodedString());Te(Sp,`Sending RPC '${e}' ${l}:`,f,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,f,d,r).then(p=>(Te(Sp,`Received RPC '${e}' ${l}: `,p),p),p=>{throw eo(Sp,`RPC '${e}' ${l} failed with error: `,p,"url: ",f,"request:",r),p})}Co(e,n,r,s,a,l){return this.bo(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}So(e,n){const r=jk[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class Gk extends qk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=gm();return new Promise((l,f)=>{const d=new Tx;d.setWithCredentials(!0),d.listenOnce(Ax.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Jf.NO_ERROR:const y=d.getResponseJson();Te(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case Jf.TIMEOUT:Te(vn,`RPC '${e}' ${a} timed out`),f(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Jf.HTTP_ERROR:const _=d.getStatus();if(Te(vn,`RPC '${e}' ${a} failed with status:`,_,"response text:",d.getResponseText()),_>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const C=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(H)>=0?H:ge.UNKNOWN}(x.status);f(new Re(C,x.message))}else f(new Re(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{Te(vn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);Te(vn,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=gm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Cx(),f=kx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=a.join("");Te(vn,`Creating RPC '${e}' stream ${s}: ${y}`,d);const _=l.createWebChannel(y,d);let w=!1,x=!1;const C=new Hk({Fo:V=>{x?Te(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(w||(Te(vn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),w=!0),Te(vn,`RPC '${e}' stream ${s} sending:`,V),_.send(V))},Mo:()=>_.close()}),L=(V,H,Q)=>{V.listen(H,$=>{try{Q($)}catch(ne){setTimeout(()=>{throw ne},0)}})};return L(_,Rl.EventType.OPEN,()=>{x||(Te(vn,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),L(_,Rl.EventType.CLOSE,()=>{x||(x=!0,Te(vn,`RPC '${e}' stream ${s} transport closed`),C.Ko())}),L(_,Rl.EventType.ERROR,V=>{x||(x=!0,eo(vn,`RPC '${e}' stream ${s} transport errored:`,V),C.Ko(new Re(ge.UNAVAILABLE,"The operation could not be completed")))}),L(_,Rl.EventType.MESSAGE,V=>{var H;if(!x){const Q=V.data[0];ht(!!Q);const $=Q,ne=($==null?void 0:$.error)||((H=$[0])===null||H===void 0?void 0:H.error);if(ne){Te(vn,`RPC '${e}' stream ${s} received error:`,ne);const re=ne.status;let G=function(I){const F=jt[I];if(F!==void 0)return s2(F)}(re),U=ne.message;G===void 0&&(G=ge.INTERNAL,U="Unknown error status: "+re+" with message "+ne.message),x=!0,C.Ko(new Re(G,U)),_.close()}else Te(vn,`RPC '${e}' stream ${s} received:`,Q),C.Uo(Q)}}),L(f,Sx.STAT_EVENT,V=>{V.stat===um.PROXY?Te(vn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===um.NOPROXY&&Te(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){return new YS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class E2{constructor(e,n,r,s,a,l,f,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new v2(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Re(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Te(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Te(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $k extends E2{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=WS(this.serializer,e),r=function(a){if(!("targetChange"in a))return Be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?oi(l.readTime):Be.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(a,l){let f;const d=l.target;if(f=lm(d)?{documents:tk(a,d)}:{query:nk(a,d).ht},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=l2(a,l.resumeToken);const p=fm(a,l.expectedCount);p!==null&&(f.expectedCount=p)}else if(l.snapshotVersion.compareTo(Be.min())>0){f.readTime=vh(a,l.snapshotVersion.toTimestamp());const p=fm(a,l.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=ik(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.I_(n)}}class Kk extends E2{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=ek(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=pm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JS(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{}class Yk extends Qk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.bo(e,hm(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(ge.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,hm(n,r),s,l,f,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ge.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Xk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):Te("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class Zk{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{$s(this)&&(Te(zs,"Restarting streams for network reachability change."),await async function(d){const p=je(d);p.W_.add(4),await ic(p),p.j_.set("Unknown"),p.W_.delete(4),await Zh(p)}(this))})}),this.j_=new Xk(r,s)}}async function Zh(t){if($s(t))for(const e of t.G_)await e(!0)}async function ic(t){for(const e of t.G_)await e(!1)}function x2(t,e){const n=je(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),ug(n)?ig(n):yo(n).c_()&&rg(n,e))}function ng(t,e){const n=je(t),r=yo(n);n.U_.delete(e),r.c_()&&w2(n,e),n.U_.size===0&&(r.c_()?r.P_():$s(n)&&n.j_.set("Unknown"))}function rg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(t).y_(e)}function w2(t,e){t.H_.Ne(e),yo(t).w_(e)}function ig(t){t.H_=new GS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),yo(t).start(),t.j_.B_()}function ug(t){return $s(t)&&!yo(t).u_()&&t.U_.size>0}function $s(t){return je(t).W_.size===0}function T2(t){t.H_=void 0}async function Wk(t){t.j_.set("Online")}async function Jk(t){t.U_.forEach((e,n)=>{rg(t,e)})}async function e5(t,e){T2(t),ug(t)?(t.j_.q_(e),ig(t)):t.j_.set("Unknown")}async function t5(t,e,n){if(t.j_.set("Online"),e instanceof o2&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const f of a.targetIds)s.U_.has(f)&&(await s.remoteSyncer.rejectListen(f,l),s.U_.delete(f),s.H_.removeTarget(f))}(t,e)}catch(r){Te(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(t,r)}else if(e instanceof rh?t.H_.We(e):e instanceof a2?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Be.min()))try{const r=await b2(t.localStore);n.compareTo(r)>=0&&await function(a,l){const f=a.H_.ot(l);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=a.U_.get(p);y&&a.U_.set(p,y.withResumeToken(d.resumeToken,l))}}),f.targetMismatches.forEach((d,p)=>{const y=a.U_.get(d);if(!y)return;a.U_.set(d,y.withResumeToken(mn.EMPTY_BYTE_STRING,y.snapshotVersion)),w2(a,d);const _=new zu(y.target,d,p,y.sequenceNumber);rg(a,_)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){Te(zs,"Failed to raise snapshot:",r),await xh(t,r)}}async function xh(t,e,n){if(!go(e))throw e;t.W_.add(1),await ic(t),t.j_.set("Offline"),n||(n=()=>b2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(zs,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Zh(t)})}function A2(t,e){return e().catch(n=>xh(t,n,e))}async function Wh(t){const e=je(t),n=Wu(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:jm;for(;n5(e);)try{const s=await Uk(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,r5(e,s)}catch(s){await xh(e,s)}S2(e)&&k2(e)}function n5(t){return $s(t)&&t.K_.length<10}function r5(t,e){t.K_.push(e);const n=Wu(t);n.c_()&&n.b_&&n.S_(e.mutations)}function S2(t){return $s(t)&&!Wu(t).u_()&&t.K_.length>0}function k2(t){Wu(t).start()}async function i5(t){Wu(t).C_()}async function u5(t){const e=Wu(t);for(const n of t.K_)e.S_(n.mutations)}async function s5(t,e,n){const r=t.K_.shift(),s=Ym.from(r,e,n);await A2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wh(t)}async function a5(t,e){e&&Wu(t).b_&&await async function(r,s){if(function(l){return jS(l)&&l!==ge.ABORTED}(s.code)){const a=r.K_.shift();Wu(r).h_(),await A2(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Wh(r)}}(t,e),S2(t)&&k2(t)}async function Tv(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),Te(zs,"RemoteStore received new credentials");const r=$s(n);n.W_.add(3),await ic(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zh(n)}async function o5(t,e){const n=je(t);e?(n.W_.delete(2),await Zh(n)):e||(n.W_.add(2),await ic(n),n.j_.set("Unknown"))}function yo(t){return t.J_||(t.J_=function(n,r,s){const a=je(n);return a.M_(),new $k(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:Wk.bind(null,t),No:Jk.bind(null,t),Lo:e5.bind(null,t),p_:t5.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ug(t)?ig(t):t.j_.set("Unknown")):(await t.J_.stop(),T2(t))})),t.J_}function Wu(t){return t.Y_||(t.Y_=function(n,r,s){const a=je(n);return a.M_(),new Kk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:i5.bind(null,t),Lo:a5.bind(null,t),D_:u5.bind(null,t),v_:s5.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Wh(t)):(await t.Y_.stop(),t.K_.length>0&&(Te(zs,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,f=new sg(e,n,l,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),go(t))return new Re(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Z_=new kt(Ie.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ao{constructor(e,n,r,s,a,l,f,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(f=>{l.push({type:0,doc:f})}),new ao(e,n,Ka.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class c5{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=je(n),a=s.queries;s.queries=Sv(),a.forEach((l,f)=>{for(const d of f.ta)d.onError(r)})})(this,new Re(ge.ABORTED,"Firestore shutting down"))}}function Sv(){return new Gs(t=>Kx(t),Gh)}async function og(t,e){const n=je(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new l5,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const f=ag(l,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&cg(n)}async function lg(t,e){const n=je(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f5(t,e){const n=je(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const f of l.ta)f.oa(s)&&(r=!0);l.ea=s}}r&&cg(n)}function h5(t,e,n){const r=je(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function cg(t){t.ia.forEach(e=>{e.next()})}var ym,kv;(kv=ym||(ym={}))._a="default",kv.Cache="cache";class fg{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.key=e}}class R2{constructor(e){this.key=e}}class d5{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=We(),this.mutatedKeys=We(),this.ya=Qx(e),this.wa=new Ka(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new Av,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const w=s.get(y),x=$h(this.query,_)?_:null,C=!!w&&this.mutatedKeys.has(w.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let V=!1;w&&x?w.data.isEqual(x.data)?C!==L&&(r.track({type:3,doc:x}),V=!0):this.va(w,x)||(r.track({type:2,doc:x}),V=!0,(d&&this.ya(x,d)>0||p&&this.ya(x,p)<0)&&(f=!0)):!w&&x?(r.track({type:0,doc:x}),V=!0):w&&!x&&(r.track({type:1,doc:w}),V=!0,(d||p)&&(f=!0)),V&&(x?(l=l.add(x),a=L?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{wa:l,Da:r,ls:f,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((y,_)=>function(x,C){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return L(x)-L(C)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),s=s!=null&&s;const f=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new ao(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Av,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=We(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new R2(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new C2(r))}),n}Oa(e){this.fa=e.gs,this.pa=We();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hg="SyncEngine";class p5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m5{constructor(e){this.key=e,this.Ba=!1}}class g5{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Gs(f=>Kx(f),Gh),this.qa=new Map,this.Qa=new Set,this.$a=new kt(Ie.comparator),this.Ka=new Map,this.Ua=new Wm,this.Wa={},this.Ga=new Map,this.za=so.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function y5(t,e,n=!0){const r=L2(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await D2(r,e,n,!0),s}async function _5(t,e){const n=L2(t);await D2(n,e,!0,!1)}async function D2(t,e,n,r){const s=await Fk(t.localStore,ai(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await b5(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&x2(t.remoteStore,s),f}async function b5(t,e,n,r,s){t.Ha=(_,w,x)=>async function(L,V,H,Q){let $=V.view.Sa(H);$.ls&&($=await bv(L.localStore,V.query,!1).then(({documents:U})=>V.view.Sa(U,$)));const ne=Q&&Q.targetChanges.get(V.targetId),re=Q&&Q.targetMismatches.get(V.targetId)!=null,G=V.view.applyChanges($,L.isPrimaryClient,ne,re);return Rv(L,V.targetId,G.Ma),G.snapshot}(t,_,w,x);const a=await bv(t.localStore,e,!0),l=new d5(e,a.gs),f=l.Sa(a.documents),d=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(f,t.isPrimaryClient,d);Rv(t,n,p.Ma);const y=new p5(e,n,l);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function v5(t,e,n){const r=je(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!Gh(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ng(r.remoteStore,s.targetId),_m(r,s.targetId)}).catch(mo)):(_m(r,s.targetId),await mm(r.localStore,s.targetId,!0))}async function E5(t,e){const n=je(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ng(n.remoteStore,r.targetId))}async function x5(t,e,n){const r=R5(t);try{const s=await function(l,f){const d=je(l),p=Xt.now(),y=f.reduce((x,C)=>x.add(C.key),We());let _,w;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=Yi(),L=We();return d.ds.getEntries(x,y).next(V=>{C=V,C.forEach((H,Q)=>{Q.isValidDocument()||(L=L.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,C)).next(V=>{_=V;const H=[];for(const Q of f){const $=US(Q,_.get(Q.key).overlayedDocument);$!=null&&H.push(new ns(Q.key,$,Bx($.value.mapValue),Ar.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,H,f)}).next(V=>{w=V;const H=V.applyToLocalDocumentSet(_,L);return d.documentOverlayCache.saveOverlays(x,V.batchId,H)})}).then(()=>({batchId:w.batchId,changes:Xx(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,f,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new kt(et)),p=p.insert(f,d),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await uc(r,s.changes),await Wh(r.remoteStore)}catch(s){const a=ag(s,"Failed to persist write");n.reject(a)}}async function I2(t,e){const n=je(t);try{const r=await Lk(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ka.get(a);l&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?ht(l.Ba):s.removedDocuments.size>0&&(ht(l.Ba),l.Ba=!1))}),await uc(n,r,e)}catch(r){await mo(r)}}function Cv(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const f=l.view.sa(e);f.snapshot&&s.push(f.snapshot)}),function(l,f){const d=je(l);d.onlineState=f;let p=!1;d.queries.forEach((y,_)=>{for(const w of _.ta)w.sa(f)&&(p=!0)}),p&&cg(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w5(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),a=s&&s.key;if(a){let l=new kt(Ie.comparator);l=l.insert(a,xn.newNoDocument(a,Be.min()));const f=We().add(a),d=new Yh(Be.min(),new Map,new kt(et),l,f);await I2(r,d),r.$a=r.$a.remove(a),r.Ka.delete(e),dg(r)}else await mm(r.localStore,e,!1).then(()=>_m(r,e,n)).catch(mo)}async function T5(t,e){const n=je(t),r=e.batch.batchId;try{const s=await Mk(n.localStore,e);O2(n,r,null),N2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uc(n,s)}catch(s){await mo(s)}}async function A5(t,e,n){const r=je(t);try{const s=await function(l,f){const d=je(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,f).next(_=>(ht(_!==null),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(r.localStore,e);O2(r,e,n),N2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uc(r,s)}catch(s){await mo(s)}}function N2(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function O2(t,e,n){const r=je(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function _m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||M2(t,r)})}function M2(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ng(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),dg(t))}function Rv(t,e,n){for(const r of n)r instanceof C2?(t.Ua.addReference(r.key,e),S5(t,r)):r instanceof R2?(Te(hg,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||M2(t,r.key)):Pe()}function S5(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(Te(hg,"New document in limbo: "+n),t.Qa.add(r),dg(t))}function dg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ie(wt.fromString(e)),r=t.za.next();t.Ka.set(r,new m5(n)),t.$a=t.$a.insert(n,r),x2(t.remoteStore,new zu(ai(Hh(n.path)),r,"TargetPurposeLimboResolution",Bh.ae))}}async function uc(t,e,n){const r=je(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((f,d)=>{l.push(r.Ha(d,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=eg.Yi(d.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,p){const y=je(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>he.forEach(p,w=>he.forEach(w.Hi,x=>y.persistence.referenceDelegate.addReference(_,w.targetId,x)).next(()=>he.forEach(w.Ji,x=>y.persistence.referenceDelegate.removeReference(_,w.targetId,x)))))}catch(_){if(!go(_))throw _;Te(tg,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const x=y.Ts.get(w),C=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(C);y.Ts=y.Ts.insert(w,L)}}}(r.localStore,a))}async function k5(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){Te(hg,"User change. New user:",e.toKey());const r=await _2(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(f=>{f.forEach(d=>{d.reject(new Re(ge.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uc(n,r.Rs)}}function C5(t,e){const n=je(t),r=n.Ka.get(e);if(r&&r.Ba)return We().add(r.key);{let s=We();const a=n.qa.get(e);if(!a)return s;for(const l of a){const f=n.ka.get(l);s=s.unionWith(f.view.ba)}return s}}function L2(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.La.p_=f5.bind(null,e.eventManager),e.La.Ja=h5.bind(null,e.eventManager),e}function R5(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A5.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Ok(this.persistence,new Dk,e.initialUser,this.serializer)}Xa(e){return new y2(Jm.ri,this.serializer)}Za(e){return new Bk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class D5 extends wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ht(this.persistence.referenceDelegate instanceof Eh);const r=this.persistence.referenceDelegate.garbageCollector;return new mk(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new y2(r=>Eh.ri(r,n),this.serializer)}}class bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k5.bind(null,this.syncEngine),await o5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c5}()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),r=function(a){return new Gk(a)}(e.databaseInfo);return function(a,l,f,d){return new Yk(a,l,f,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,f){return new Zk(r,s,a,l,f)}(this.localStore,this.datastore,e.asyncQueue,n=>Cv(this.syncEngine,n,0),function(){return xv.D()?new xv:new zk}())}createSyncEngine(e,n){return function(s,a,l,f,d,p,y){const _=new g5(s,a,l,f,d,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=je(s);Te(zs,"RemoteStore shutting down."),a.W_.add(5),await ic(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="FirestoreClient";class I5{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=Dx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Te(Ju,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Te(Ju,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ag(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Ju,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await _2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N5(t);Te(Ju,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Tv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Tv(e.remoteStore,s)),t._onlineComponents=e}async function N5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Ju,"Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new wh)}}else Te(Ju,"Using default OfflineComponentProvider"),await Cp(t,new D5(void 0));return t._offlineComponents}async function P2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Ju,"Using user provided OnlineComponentProvider"),await Dv(t,t._uninitializedComponentsProvider._online)):(Te(Ju,"Using default OnlineComponentProvider"),await Dv(t,new bm))),t._onlineComponents}function O5(t){return P2(t).then(e=>e.syncEngine)}async function Th(t){const e=await P2(t),n=e.eventManager;return n.onListen=y5.bind(null,e.syncEngine),n.onUnlisten=v5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E5.bind(null,e.syncEngine),n}function M5(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,f,d,p){const y=new pg({next:w=>{y.su(),l.enqueueAndForget(()=>lg(a,_));const x=w.docs.has(f);!x&&w.fromCache?p.reject(new Re(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&d&&d.source==="server"?p.reject(new Re(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new fg(Hh(f.path),y,{includeMetadataChanges:!0,Ta:!0});return og(a,_)}(await Th(t),t.asyncQueue,e,n,r)),r.promise}function L5(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,f,d,p){const y=new pg({next:w=>{y.su(),l.enqueueAndForget(()=>lg(a,_)),w.fromCache&&d.source==="server"?p.reject(new Re(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new fg(f,y,{includeMetadataChanges:!0,Ta:!0});return og(a,_)}(await Th(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e,n){if(!n)throw new Re(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P5(t,e,n,r){if(e===!0&&r===!0)throw new Re(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nv(t){if(!Ie.isDocumentKey(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ov(t){if(Ie.isDocumentKey(t))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mg(t);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firestore.googleapis.com",Mv=!0;class Lv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V2,this.ssl=Mv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Mv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dk)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qA;switch(r.type){case"firstParty":return new KA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Iv.get(n);r&&(Te("ComponentProvider","Removing Datastore"),Iv.delete(n),r.terminate())}(this),Promise.resolve()}}function U5(t,e,n,r={}){var s;const a=(t=Bn(t,Jh))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;a.host!==V2&&a.host!==f&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!$i(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=En.MOCK_USER;else{p=yx(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new En(_)}t._authCredentials=new HA(new Rx(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sc(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class $u extends sc{constructor(e,n,r){super(e,n,Hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ie(e))}withConverter(e){return new $u(this.firestore,e,this._path)}}function ed(t,e,...n){if(t=Mt(t),F2("collection","path",e),t instanceof Jh){const r=wt.fromString(e,...n);return Ov(r),new $u(t,null,r)}{if(!(t instanceof In||t instanceof $u))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return Ov(r),new $u(t.firestore,null,r)}}function Xi(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=Dx.newId()),F2("doc","path",e),t instanceof Jh){const r=wt.fromString(e,...n);return Nv(r),new In(t,null,new Ie(r))}{if(!(t instanceof In||t instanceof $u))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return Nv(r),new In(t.firestore,t instanceof $u?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class Uv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new v2(this,"async_queue_retry"),this.bu=()=>{const r=kp();r&&Te(Pv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!go(e))throw e;Te(Pv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),f}(r);throw Qi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=sg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Fv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Zi extends Jh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Uv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uv(e),this._firestoreClient=void 0,await e}}}function F5(t,e){const n=typeof t=="object"?t:Bm(),r=typeof t=="string"?t:ph,s=Vh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=px("firestore");a&&U5(s,...a)}return s}function td(t){if(t._terminated)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V5(t),t._firestoreClient}function V5(t){var e,n,r;const s=t._freezeSettings(),a=function(f,d,p,y){return new aS(f,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,U2(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new I5(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(mn.fromBase64String(e))}catch(n){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=/^__.*__$/;class z5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}class B2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function z2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class rd{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ah(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(z2(this.Lu)&&B5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class j5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xh(e)}ju(e,n,r,s=!1){return new rd({Lu:e,methodName:n,zu:r,path:pn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(t){const e=t._freezeSettings(),n=Xh(t._databaseId);return new j5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j2(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);Eg("Data must be an object, but it was:",l,r);const f=H2(r,l);let d,p;if(a.merge)d=new tr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const w=vm(e,_,n);if(!l.contains(w))throw new Re(ge.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$2(y,w)||y.push(w)}d=new tr(y),p=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=l.fieldTransforms;return new z5(new Vn(f),d,p)}class oc extends ac{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oc}}function q2(t,e,n){return new rd({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bg extends ac{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=q2(this,e,!0),r=this.Hu.map(a=>_o(a,n)),s=new io(r);return new r2(e.path,s)}isEqual(e){return e instanceof bg&&$i(this.Hu,e.Hu)}}class vg extends ac{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=q2(this,e,!0),r=this.Hu.map(a=>_o(a,n)),s=new uo(r);return new r2(e.path,s)}isEqual(e){return e instanceof vg&&$i(this.Hu,e.Hu)}}function q5(t,e,n,r){const s=t.ju(1,e,n);Eg("Data must be an object, but it was:",s,r);const a=[],l=Vn.empty();ts(r,(d,p)=>{const y=xg(e,d,n);p=Mt(p);const _=s.Ku(y);if(p instanceof oc)a.push(y);else{const w=_o(p,_);w!=null&&(a.push(y),l.set(y,w))}});const f=new tr(a);return new B2(l,f,s.fieldTransforms)}function H5(t,e,n,r,s,a){const l=t.ju(1,e,n),f=[vm(e,r,n)],d=[s];if(a.length%2!=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)f.push(vm(e,a[w])),d.push(a[w+1]);const p=[],y=Vn.empty();for(let w=f.length-1;w>=0;--w)if(!$2(p,f[w])){const x=f[w];let C=d[w];C=Mt(C);const L=l.Ku(x);if(C instanceof oc)p.push(x);else{const V=_o(C,L);V!=null&&(p.push(x),y.set(x,V))}}const _=new tr(p);return new B2(y,_,l.fieldTransforms)}function _o(t,e){if(G2(t=Mt(t)))return Eg("Unsupported field value:",e,t),H2(t,e);if(t instanceof ac)return function(r,s){if(!z2(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const f of r){let d=_o(f,s.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xt.fromDate(r);return{timestampValue:vh(s.serializer,a)}}if(r instanceof Xt){const a=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(s.serializer,a)}}if(r instanceof gg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:l2(s.serializer,r._byteString)};if(r instanceof In){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof yg)return function(l,f){return{mapValue:{fields:{[Fx]:{stringValue:Vx},[mh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return Km(f.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${mg(r)}`)}(t,e)}function H2(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,s)=>{const a=_o(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function G2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof gg||t instanceof oo||t instanceof In||t instanceof ac||t instanceof yg)}function Eg(t,e,n){if(!G2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=mg(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function vm(t,e,n){if((e=Mt(e))instanceof nd)return e._internalPath;if(typeof e=="string")return xg(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const G5=new RegExp("[~\\*/\\[\\]]");function xg(t,e,n){if(e.search(G5)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new Re(ge.INVALID_ARGUMENT,f+t+d)}function $2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $5 extends K2{data(){return super.data()}}function Q2(t,e){return typeof e=="string"?xg(t,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K5{convertValue(e,n="none"){switch(Zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Ft(l.doubleValue));return new yg(a)}convertGeoPoint(e){return new gg(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=Yu(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ht(m2(r));const s=new Gl(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return s.isEqual(n)||Qi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z2 extends K2{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ih extends Z2{data(e={}){return super.data(e)}}class W2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>{const d=new ih(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Nl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new ih(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Nl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return f.type!==0&&(p=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),f.type!==1&&(l=l.add(f.doc),y=l.indexOf(f.doc.key)),{type:Q5(f.type),doc:d,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){t=Bn(t,In);const e=Bn(t.firestore,Zi);return M5(td(e),t._key).then(n=>t3(e,t,n))}class wg extends K5{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Y5(t){t=Bn(t,sc);const e=Bn(t.firestore,Zi),n=td(e),r=new wg(e);return Y2(t._query),L5(n,t._query).then(s=>new W2(e,r,t,s))}function e3(t,e,n){t=Bn(t,In);const r=Bn(t.firestore,Zi),s=X2(t.converter,e,n);return id(r,[j2(_g(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ar.none())])}function Tg(t,e,n,...r){t=Bn(t,In);const s=Bn(t.firestore,Zi),a=_g(s);let l;return l=typeof(e=Mt(e))=="string"||e instanceof nd?H5(a,"updateDoc",t._key,e,n,r):q5(a,"updateDoc",t._key,e),id(s,[l.toMutation(t._key,Ar.exists(!0))])}function X5(t){return id(Bn(t.firestore,Zi),[new Qm(t._key,Ar.none())])}function Z5(t,e){const n=Bn(t.firestore,Zi),r=Xi(t),s=X2(t.converter,e);return id(n,[j2(_g(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function W5(t,...e){var n,r,s;t=Mt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Fv(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Fv(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let d,p,y;if(t instanceof In)p=Bn(t.firestore,Zi),y=Hh(t._key.path),d={next:_=>{e[l]&&e[l](t3(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=Bn(t,sc);p=Bn(_.firestore,Zi),y=_._query;const w=new wg(p);d={next:x=>{e[l]&&e[l](new W2(p,w,_,x))},error:e[l+1],complete:e[l+2]},Y2(t._query)}return function(w,x,C,L){const V=new pg(L),H=new fg(x,V,C);return w.asyncQueue.enqueueAndForget(async()=>og(await Th(w),H)),()=>{V.su(),w.asyncQueue.enqueueAndForget(async()=>lg(await Th(w),H))}}(td(p),y,f,d)}function id(t,e){return function(r,s){const a=new Hi;return r.asyncQueue.enqueueAndForget(async()=>x5(await O5(r),s,a)),a.promise}(td(t),e)}function t3(t,e,n){const r=n.docs.get(e._key),s=new wg(t);return new Z2(t,s,e._key,r,new Nl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return new oc("deleteField")}function n3(...t){return new bg("arrayUnion",t)}function r3(...t){return new vg("arrayRemove",t)}(function(e,n=!0){(function(s){po=s})(Hs),Vs(new Ku("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),f=new Zi(new GA(r.getProvider("auth-internal")),new QA(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(p.options.projectId,y)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),si(Hb,Gb,e),si(Hb,Gb,"esm2017")})();var eC="firebase",tC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(eC,tC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="firebasestorage.googleapis.com",u3="storageBucket",nC=2*60*1e3,rC=10*60*1e3,iC=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends pi{constructor(e,n,r=0){super(Rp(e),`Firebase Storage: ${n} (${Rp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Rp(t){return"storage/"+t}function Ag(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(xt.UNKNOWN,t)}function uC(t){return new Ct(xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sC(t){return new Ct(xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aC(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(xt.UNAUTHENTICATED,t)}function oC(){return new Ct(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lC(t){return new Ct(xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function s3(){return new Ct(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a3(){return new Ct(xt.CANCELED,"User canceled the upload/download.")}function cC(t){return new Ct(xt.INVALID_URL,"Invalid URL '"+t+"'.")}function fC(t){return new Ct(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hC(){return new Ct(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u3+"' property when initializing the app?")}function o3(){return new Ct(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dC(){return new Ct(xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pC(){return new Ct(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mC(t){return new Ct(xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Em(t){return new Ct(xt.INVALID_ARGUMENT,t)}function l3(){return new Ct(xt.APP_DELETED,"The Firebase app was deleted.")}function gC(t){return new Ct(xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(t,e){return new Ct(xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sl(t){throw new Ct(xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nr.makeFromUrl(e,n)}catch{return new nr(e,"")}if(r.path==="")return r;throw fC(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const l="(/(.*))?$",f=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(ne){ne.path_=decodeURIComponent(ne.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${y}/b/${s}/o${w}`,"i"),C={bucket:1,path:3},L=n===i3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",H=new RegExp(`^https?://${L}/${s}/${V}`,"i"),$=[{regex:f,indices:d,postModify:a},{regex:x,indices:C,postModify:p},{regex:H,indices:{bucket:1,path:2},postModify:p}];for(let ne=0;ne<$.length;ne++){const re=$[ne],G=re.regex.exec(e);if(G){const U=G[re.indices.bucket];let R=G[re.indices.path];R||(R=""),r=new nr(U,R),re.postModify(r);break}}if(r==null)throw cC(e);return r}}class yC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,n){let r=1,s=null,a=null,l=!1,f=0;function d(){return f===2}let p=!1;function y(...V){p||(p=!0,e.apply(null,V))}function _(V){s=setTimeout(()=>{s=null,t(x,d())},V)}function w(){a&&clearTimeout(a)}function x(V,...H){if(p){w();return}if(V){w(),y.call(null,V,...H);return}if(d()||l){w(),y.call(null,V,...H);return}r<64&&(r*=2);let $;f===1?(f=2,$=0):$=(r+Math.random())*1e3,_($)}let C=!1;function L(V){C||(C=!0,w(),!p&&(s!==null?(V||(f=2),clearTimeout(s),_(0)):V||(f=1)))}return _(0),a=setTimeout(()=>{l=!0,L(!0)},n),L}function bC(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){return t!==void 0}function EC(t){return typeof t=="function"}function xC(t){return typeof t=="object"&&!Array.isArray(t)}function ud(t){return typeof t=="string"||t instanceof String}function Vv(t){return Sg()&&t instanceof Blob}function Sg(){return typeof Blob<"u"}function Bv(t,e,n,r){if(r<e)throw Em(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Em(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function c3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,s,a,l,f,d,p,y,_,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,C)=>{this.resolve_=x,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Gf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{const d=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===Us.NO_ERROR,d=a.getStatus();if(!f||f3(d,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Us.ABORT;r(!1,new Gf(!1,null,y));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Gf(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());vC(d)?a(d):a()}catch(d){l(d)}else if(f!==null){const d=Ag();d.serverResponse=f.getErrorText(),this.errorCallback_?l(this.errorCallback_(f,d)):l(d)}else if(s.canceled){const d=this.appDelete_?l3():a3();l(d)}else{const d=s3();l(d)}};this.canceled_?n(!1,new Gf(!1,null,!0)):this.backoffId_=_C(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TC(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AC(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SC(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kC(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CC(t,e,n,r,s,a,l=!0){const f=c3(t.urlParams),d=t.url+f,p=Object.assign({},t.headers);return SC(p,e),TC(p,n),AC(p,a),kC(p,r),new wC(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DC(...t){const e=RC();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Sg())return new Blob(t);throw new Ct(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IC(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){if(typeof atob>"u")throw mC("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dp{constructor(e,n){this.data=e,this.contentType=n||null}}function OC(t,e){switch(t){case ri.RAW:return new Dp(h3(e));case ri.BASE64:case ri.BASE64URL:return new Dp(d3(t,e));case ri.DATA_URL:return new Dp(LC(e),PC(e))}throw Ag()}function h3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MC(t){let e;try{e=decodeURIComponent(t)}catch{throw Ul(ri.DATA_URL,"Malformed data URL.")}return h3(e)}function d3(t,e){switch(t){case ri.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ul(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ul(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NC(e)}catch(s){throw s.message.includes("polyfill")?s:Ul(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class p3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ul(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LC(t){const e=new p3(t);return e.base64?d3(ri.BASE64,e.rest):MC(e.rest)}function PC(t){return new p3(t).contentType}function UC(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){let r=0,s="";Vv(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Vv(this.data_)){const r=this.data_,s=IC(r,e,n);return s===null?null:new Pu(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Pu(r,!0)}}static getBlob(...e){if(Sg()){const n=e.map(r=>r instanceof Pu?r.data_:r);return new Pu(DC.apply(null,n))}else{const n=e.map(l=>ud(l)?OC(ri.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let f=0;f<l.length;f++)s[a++]=l[f]}),new Pu(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){let e;try{e=JSON.parse(t)}catch{return null}return xC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VC(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function g3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){return e}class Dn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||BC}}let $f=null;function zC(t){return!ud(t)||t.length<2?t:g3(t)}function y3(){if($f)return $f;const t=[];t.push(new Dn("bucket")),t.push(new Dn("generation")),t.push(new Dn("metageneration")),t.push(new Dn("name","fullPath",!0));function e(a,l){return zC(l)}const n=new Dn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new Dn("size");return s.xform=r,t.push(s),t.push(new Dn("timeCreated")),t.push(new Dn("updated")),t.push(new Dn("md5Hash",null,!0)),t.push(new Dn("cacheControl",null,!0)),t.push(new Dn("contentDisposition",null,!0)),t.push(new Dn("contentEncoding",null,!0)),t.push(new Dn("contentLanguage",null,!0)),t.push(new Dn("contentType",null,!0)),t.push(new Dn("metadata","customMetadata",!0)),$f=t,$f}function jC(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new nr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function qC(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return jC(r,t),r}function _3(t,e,n){const r=m3(e);return r===null?null:qC(t,r,n)}function HC(t,e,n,r){const s=m3(e);if(s===null||!ud(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const y=t.bucket,_=t.fullPath,w="/b/"+l(y)+"/o/"+l(_),x=lc(w,n,r),C=c3({alt:"media",token:p});return x+C})[0]}function b3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class bo{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){if(!t)throw Ag()}function kg(t,e){function n(r,s){const a=_3(t,s,e);return Gi(a!==null),a}return n}function GC(t,e){function n(r,s){const a=_3(t,s,e);return Gi(a!==null),HC(a,s,t.host,t._protocol)}return n}function cc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=oC():s=aC():n.getStatus()===402?s=sC(t.bucket):n.getStatus()===403?s=lC(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function v3(t){const e=cc(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=uC(t.path)),a.serverResponse=s.serverResponse,a}return n}function $C(t,e,n){const r=e.fullServerUrl(),s=lc(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,f=new bo(s,a,kg(t,n),l);return f.errorHandler=v3(e),f}function KC(t,e,n){const r=e.fullServerUrl(),s=lc(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,f=new bo(s,a,GC(t,n),l);return f.errorHandler=v3(e),f}function QC(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function E3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=QC(null,e)),r}function YC(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function f(){let $="";for(let ne=0;ne<2;ne++)$=$+Math.random().toString().slice(2);return $}const d=f();l["Content-Type"]="multipart/related; boundary="+d;const p=E3(e,r,s),y=b3(p,n),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+d+"--",x=Pu.getBlob(_,r,w);if(x===null)throw o3();const C={name:p.fullPath},L=lc(a,t.host,t._protocol),V="POST",H=t.maxUploadRetryTime,Q=new bo(L,V,kg(t,n),H);return Q.urlParams=C,Q.headers=l,Q.body=x.uploadData(),Q.errorHandler=cc(e),Q}class Sh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Cg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Gi(!1)}return Gi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function XC(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l=E3(e,r,s),f={name:l.fullPath},d=lc(a,t.host,t._protocol),p="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},_=b3(l,n),w=t.maxUploadRetryTime;function x(L){Cg(L);let V;try{V=L.getResponseHeader("X-Goog-Upload-URL")}catch{Gi(!1)}return Gi(ud(V)),V}const C=new bo(d,p,x,w);return C.urlParams=f,C.headers=y,C.body=_,C.errorHandler=cc(e),C}function ZC(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function a(p){const y=Cg(p,["active","final"]);let _=null;try{_=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gi(!1)}_||Gi(!1);const w=Number(_);return Gi(!isNaN(w)),new Sh(w,r.size(),y==="final")}const l="POST",f=t.maxUploadRetryTime,d=new bo(n,l,a,f);return d.headers=s,d.errorHandler=cc(e),d}const zv=256*1024;function WC(t,e,n,r,s,a,l,f){const d=new Sh(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw dC();const p=d.total-d.current;let y=p;s>0&&(y=Math.min(y,s));const _=d.current,w=_+y;let x="";y===0?x="finalize":p===y?x="upload, finalize":x="upload";const C={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${d.current}`},L=r.slice(_,w);if(L===null)throw o3();function V(ne,re){const G=Cg(ne,["active","final"]),U=d.current+y,R=r.size();let I;return G==="final"?I=kg(e,a)(ne,re):I=null,new Sh(U,R,G==="final",I)}const H="POST",Q=e.maxUploadRetryTime,$=new bo(n,H,V,Q);return $.headers=C,$.body=L.uploadData(),$.progressCallback=f||null,$.errorHandler=cc(t),$}const Fn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ip(t){switch(t){case"running":case"pausing":case"canceling":return Fn.RUNNING;case"paused":return Fn.PAUSED;case"success":return Fn.SUCCESS;case"canceled":return Fn.CANCELED;case"error":return Fn.ERROR;default:return Fn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r){if(EC(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class e8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Sl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t8 extends e8{initXhr(){this.xhr_.responseType="text"}}function $a(){return new t8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=y3(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(f3(s.status,[]))if(a)s=s3();else{this.sleepTime=Math.max(this.sleepTime*2,iC),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(xt.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=XC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$a,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=ZC(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,$a,n,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=zv*this._chunkMultiplier,n=new Sh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let l;try{l=WC(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const f=this._ref.storage._makeRequest(l,$a,s,a,!1);this._request=f,f.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){zv*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=$C(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,$a,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=YC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$a,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=a3(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ip(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const a=new JC(n||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ip(this._state)){case Fn.SUCCESS:Fa(this._resolve.bind(null,this.snapshot))();break;case Fn.CANCELED:case Fn.ERROR:const n=this._reject;Fa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ip(this._state)){case Fn.RUNNING:case Fn.PAUSED:e.next&&Fa(e.next.bind(e,this.snapshot))();break;case Fn.SUCCESS:e.complete&&Fa(e.complete.bind(e))();break;case Fn.CANCELED:case Fn.ERROR:e.error&&Fa(e.error.bind(e,this._error))();break;default:e.error&&Fa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this._service=e,n instanceof nr?this._location=n:this._location=nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new js(e,n)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g3(this._location.path)}get storage(){return this._service}get parent(){const e=FC(this._location.path);if(e===null)return null;const n=new nr(this._location.bucket,e);return new js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gC(e)}}function r8(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new n8(t,new Pu(e),n)}function i8(t){t._throwIfRoot("getDownloadURL");const e=KC(t.storage,t._location,y3());return t.storage.makeRequestWithTokens(e,$a).then(n=>{if(n===null)throw pC();return n})}function u8(t,e){const n=VC(t._location.path,e),r=new nr(t._location.bucket,n);return new js(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){return/^[A-Za-z]+:\/\//.test(t)}function a8(t,e){return new js(t,e)}function x3(t,e){if(t instanceof Rg){const n=t;if(n._bucket==null)throw hC();const r=new js(n,n._bucket);return e!=null?x3(r,e):r}else return e!==void 0?u8(t,e):t}function o8(t,e){if(e&&s8(e)){if(t instanceof Rg)return a8(t,e);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}else return x3(t,e)}function jv(t,e){const n=e==null?void 0:e[u3];return n==null?null:nr.makeFromBucketSpec(n,t)}function l8(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:yx(s,t.app.options.projectId))}class Rg{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=i3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nC,this._maxUploadRetryTime=rC,this._requests=new Set,s!=null?this._bucket=nr.makeFromBucketSpec(s,this._host):this._bucket=jv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=jv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new js(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new yC(l3());{const l=CC(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const qv="@firebase/storage",Hv="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="storage";function T3(t,e,n){return t=Mt(t),r8(t,e,n)}function A3(t){return t=Mt(t),i8(t)}function S3(t,e){return t=Mt(t),o8(t,e)}function c8(t=Bm(),e){t=Mt(t);const r=Vh(t,w3).getImmediate({identifier:e}),s=px("storage");return s&&f8(r,...s),r}function f8(t,e,n,r={}){l8(t,e,n,r)}function h8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Rg(n,r,s,e,Hs)}function d8(){Vs(new Ku(w3,h8,"PUBLIC").setMultipleInstances(!0)),si(qv,Hv,""),si(qv,Hv,"esm2017")}d8();function Dg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function k3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p8=k3,C3=new ec("auth","Firebase",k3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Fm("@firebase/auth");function m8(t,...e){kh.logLevel<=Ze.WARN&&kh.warn(`Auth (${Hs}): ${t}`,...e)}function uh(t,...e){kh.logLevel<=Ze.ERROR&&kh.error(`Auth (${Hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw Ng(t,...e)}function Lr(t,...e){return Ng(t,...e)}function Ig(t,e,n){const r=Object.assign(Object.assign({},p8()),{[e]:n});return new ec("auth","Firebase",r).create(e,{appName:t.name})}function Fs(t){return Ig(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(t,"argument-error"),Ig(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C3.create(t,...e)}function Fe(t,e,...n){if(!t)throw Ng(e,...n)}function zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function Wi(t,e){t||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y8(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y8()||x4()||"connection"in navigator)?navigator.onLine:!0}function b8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=b4()||w4()}get(){return _8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new fc(3e4,6e4);function Mg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ks(t,e,n,r,s={}){return D3(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const f=tc(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return E4()||(p.referrerPolicy="no-referrer"),R3.fetch()(I3(t,t.config.apiHost,n,f),p)})}async function D3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},v8),e);try{const s=new w8(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Kf(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const f=a.ok?l.errorMessage:l.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Kf(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Kf(t,"user-disabled",l);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ig(t,y,p);hi(t,y)}}catch(s){if(s instanceof pi)throw s;hi(t,"network-request-failed",{message:String(s)})}}async function x8(t,e,n,r,s={}){const a=await Ks(t,e,n,r,s);return"mfaPendingCredential"in a&&hi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function I3(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Og(t.config,s):`${t.config.apiScheme}://${s}`}class w8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),E8.get())})}}function Kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Lr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function N3(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A8(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),s=Lg(r);Fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Fl(Np(s.auth_time)),issuedAtTime:Fl(Np(s.iat)),expirationTime:Fl(Np(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=hx(n);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $v(t){const e=Lg(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&S8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var e;const n=t.auth,r=await t.getIdToken(),s=await lo(t,N3(n,{idToken:r}));Fe(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?O3(a.providerUserInfo):[],f=R8(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),y=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new wm(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function C8(t){const e=Mt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function O3(t){return t.map(e=>{var{providerId:n}=e,r=Dg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e){const n=await D3(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=I3(t,s,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",R3.fetch()(l,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I8(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",Mg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=$v(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await D8(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Qa;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Fe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Fe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A8(this,e)}reload(){return C8(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await lo(this,T8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,f,d,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(l=n.photoURL)!==null&&l!==void 0?l:void 0,L=(f=n.tenantId)!==null&&f!==void 0?f:void 0,V=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,H=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Q=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:ne,isAnonymous:re,providerData:G,stsTokenManager:U}=n;Fe($&&U,e,"internal-error");const R=Qa.fromJSON(this.name,U);Fe(typeof $=="string",e,"internal-error"),Ou(_,e.name),Ou(w,e.name),Fe(typeof ne=="boolean",e,"internal-error"),Fe(typeof re=="boolean",e,"internal-error"),Ou(x,e.name),Ou(C,e.name),Ou(L,e.name),Ou(V,e.name),Ou(H,e.name),Ou(Q,e.name);const I=new ji({uid:$,auth:e,email:w,emailVerified:ne,displayName:_,isAnonymous:re,photoURL:C,phoneNumber:x,tenantId:L,stsTokenManager:R,createdAt:H,lastLoginAt:Q});return G&&Array.isArray(G)&&(I.providerData=G.map(F=>Object.assign({},F))),V&&(I._redirectEventId=V),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qa;s.updateFromServerResponse(n);const a=new ji({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ch(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Fe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?O3(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Qa;f.updateFromIdToken(r);const d=new ji({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function qi(t){Wi(t instanceof Function,"Expected a class definition");let e=Kv.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M3.type="NONE";const Qv=M3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=sh(this.userKey,s.apiKey,a),this.fullPersistenceKey=sh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ya(qi(Qv),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||qi(Qv);const l=sh(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(l);if(y){const _=ji._fromJSON(e,y);p!==a&&(f=_),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Ya(a,e,r):(a=d[0],f&&await a._set(l,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ya(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B3(e))return"Blackberry";if(z3(e))return"Webos";if(P3(e))return"Safari";if((e.includes("chrome/")||U3(e))&&!e.includes("edge/"))return"Chrome";if(V3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function L3(t=wn()){return/firefox\//i.test(t)}function P3(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U3(t=wn()){return/crios\//i.test(t)}function F3(t=wn()){return/iemobile/i.test(t)}function V3(t=wn()){return/android/i.test(t)}function B3(t=wn()){return/blackberry/i.test(t)}function z3(t=wn()){return/webos/i.test(t)}function Pg(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N8(t=wn()){var e;return Pg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O8(){return T4()&&document.documentMode===10}function j3(t=wn()){return Pg(t)||V3(t)||z3(t)||B3(t)||/windows phone/i.test(t)||F3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e=[]){let n;switch(t){case"Browser":n=Yv(wn());break;case"Worker":n=`${Yv(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,f)=>{try{const d=e(a);l(d)}catch(d){f(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",Mg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=6;class U8{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:P8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new M8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await N3(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===f)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Fs(this));const n=e?Mt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L8(this),n=new U8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(f,this,"internal-error"),f.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sd(t){return Mt(t)}class Xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=N4(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V8(t){Ug=t}function B8(t){return Ug.loadJS(t)}function z8(){return Ug.gapiScript}function j8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if($i(a,e??{}))return s;hi(s,"already-initialized")}return n.initialize({options:e})}function H8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function G8(t,e,n){const r=sd(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=H3(e),{host:l,port:f}=$8(e),d=f===null?"":`:${f}`,p={url:`${a}//${l}${d}/`},y=Object.freeze({host:l,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe($i(p,r.config.emulator)&&$i(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,K8()}function H3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $8(t){const e=H3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Zv(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Zv(l)}}}function Zv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e){return x8(t,"POST","/v1/accounts:signInWithIdp",Mg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="http://localhost";class qs extends G3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Dg(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new qs(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:Q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends hc{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends hc{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fu.credential(e.oauthAccessToken)}catch{return null}}}Fu.GITHUB_SIGN_IN_METHOD="github.com";Fu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends hc{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vu.credential(n,r)}catch{return null}}}Vu.TWITTER_SIGN_IN_METHOD="twitter.com";Vu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ji._fromIdTokenResponse(e,r,s),l=Wv(r);return new co({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Wv(r);return new co({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Wv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends pi{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rh(e,n,r,s)}}function $3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(t,a,e,r):a})}async function Y8(t,e,n=!1){const r=await lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(t,e,n=!1){const{auth:r}=t;if(Tr(r.app))return Promise.reject(Fs(r));const s="reauthenticate";try{const a=await lo(t,$3(r,s,e,t),n);Fe(a.idToken,r,"internal-error");const l=Lg(a.idToken);Fe(l,r,"internal-error");const{sub:f}=l;return Fe(t.uid===f,r,"user-mismatch"),co._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e,n=!1){if(Tr(t.app))return Promise.reject(Fs(t));const r="signIn",s=await $3(t,r,e),a=await co._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t,e){return Ks(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await lo(r,W8(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const f=r.providerData.find(({providerId:d})=>d==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function eR(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function tR(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function nR(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function rR(t){return Mt(t).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1e3,uR=10;class Q3 extends K3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,f,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);O8()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q3.type="LOCAL";const sR=Q3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3 extends K3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y3.type="SESSION";const X3=Y3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(l).map(async p=>p(n.origin,a)),d=await aR(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((f,d)=>{const p=Vg("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(w.data.response);break;default:clearTimeout(y),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function lR(t){li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function cR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hR(){return Z3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="firebaseLocalStorageDb",dR=1,Ih="firebaseLocalStorage",J3="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function pR(){const t=indexedDB.deleteDatabase(W3);return new dc(t).toPromise()}function Tm(){const t=indexedDB.open(W3,dR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ih,{keyPath:J3})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),await pR(),e(await Tm()))})})}async function Jv(t,e,n){const r=od(t,!0).put({[J3]:e,value:n});return new dc(r).toPromise()}async function mR(t,e){const n=od(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function eE(t,e){const n=od(t,!0).delete(e);return new dc(n).toPromise()}const gR=800,yR=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(hR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new oR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await Jv(e,Dh,"1"),await eE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=od(s,!1).getAll();return new dc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const _R=ew;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){return e?qi(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends G3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bR(t){return Z8(t.auth,new Bg(t),t.bypassAuthState)}function vR(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),X8(n,new Bg(t),t.bypassAuthState)}async function ER(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),Y8(n,new Bg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:f}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bR;case"linkViaPopup":case"linkViaRedirect":return ER;case"reauthViaPopup":case"reauthViaRedirect":return vR;default:hi(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new fc(2e3,1e4);async function rw(t,e,n){if(Tr(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=sd(t);g8(t,e,Fg);const s=tw(r,n);return new Ps(r,"signInViaPopup",e,s).executeNotNull()}class Ps extends nw{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xR.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="pendingRedirect",ah=new Map;class TR extends nw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await AR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AR(t,e){const n=CR(e),r=kR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function SR(t,e){ah.set(t._key(),e)}function kR(t){return qi(t._redirectPersistence)}function CR(t){return sh(wR,t.config.apiKey,t.name)}async function RR(t,e,n=!1){if(Tr(t.app))return Promise.reject(Fs(t));const r=sd(t),s=tw(r,e),l=await new TR(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=10*60*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DR&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LR=/^https?/;async function PR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OR(t);for(const n of e)try{if(UR(n))return}catch{}hi(t,"unauthorized-domain")}function UR(t){const e=xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!LR.test(n))return!1;if(MR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new fc(3e4,6e4);function nE(){const t=li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VR(t){return new Promise((e,n)=>{var r,s,a;function l(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(Lr(t,"network-request-failed"))},timeout:FR.get()})}if(!((s=(r=li().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=li().gapi)===null||a===void 0)&&a.load)l();else{const f=j8("iframefcb");return li()[f]=()=>{gapi.load?l():n(Lr(t,"network-request-failed"))},B8(`${z8()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw oh=null,e})}let oh=null;function BR(t){return oh=oh||VR(t),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new fc(5e3,15e3),jR="__/auth/iframe",qR="emulator/auth/iframe",HR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $R(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,qR):`https://${t.config.authDomain}/${jR}`,r={apiKey:e.apiKey,appName:t.name,v:Hs},s=GR.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${tc(r).slice(1)}`}async function KR(t){const e=await BR(t),n=li().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:$R(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HR,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Lr(t,"network-request-failed"),f=li().setTimeout(()=>{a(l)},zR.get());function d(){li().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YR=500,XR=600,ZR="_blank",WR="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JR(t,e,n,r=YR,s=XR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},QR),{width:r.toString(),height:s.toString(),top:a,left:l}),p=wn().toLowerCase();n&&(f=U3(p)?ZR:n),L3(p)&&(e=e||WR,d.scrollbars="yes");const y=Object.entries(d).reduce((w,[x,C])=>`${w}${x}=${C},`,"");if(N8(p)&&f!=="_self")return e9(e||"",f),new rE(null);const _=window.open(e||"",f,y);Fe(_,t,"popup-blocked");try{_.focus()}catch{}return new rE(_)}function e9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="__/auth/handler",n9="emulator/auth/handler",r9=encodeURIComponent("fac");async function iE(t,e,n,r,s,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hs,eventId:s};if(e instanceof Fg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",I4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof hc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const f=l;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await t._getAppCheckToken(),p=d?`#${r9}=${encodeURIComponent(d)}`:"";return`${i9(t)}?${tc(f).slice(1)}${p}`}function i9({config:t}){return t.emulator?Og(t,n9):`https://${t.authDomain}/${t9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class u9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X3,this._completeRedirectFn=RR,this._overrideRedirectResult=SR}async _openPopup(e,n,r,s){var a;Wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await iE(e,n,r,xm(),s);return JR(e,l,Vg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await iE(e,n,r,xm(),s);return lR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KR(e),r=new IR(e);return n.register("authEvent",s=>(Fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Op];l!==void 0&&n(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j3()||P3()||Pg()}}const s9=u9;var uE="@firebase/auth",sE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l9(t){Vs(new Ku("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q3(t)},p=new F8(r,s,a,d);return H8(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vs(new Ku("auth-internal",e=>{const n=sd(e.getProvider("auth").getImmediate());return(r=>new a9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(uE,sE,o9(t)),si(uE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=5*60,f9=gx("authIdTokenMaxAge")||c9;let aE=null;const h9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f9)return;const s=n==null?void 0:n.token;aE!==s&&(aE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function d9(t=Bm()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q8(t,{popupRedirectResolver:s9,persistence:[_R,sR,X3]}),r=gx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=h9(a.toString());tR(n,l,()=>l(n.currentUser)),eR(n,f=>l(f))}}const s=dx("auth");return s&&G8(n,`http://${s}`),n}function p9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Lr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",p9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l9("Browser");const m9={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},zg=vx(m9),Pr=F5(zg),uw=c8(zg),Kl=d9(zg);new Mr;const sw=ed(Pr,"eotv-enemies"),g9=ed(Pr,"eotv-enemy-tags");ed(Pr,"users");const y9=async t=>{},jg=te.createContext(null),_9=({children:t})=>{const[e,n]=te.useState(null);return te.useEffect(()=>nR(Kl,n),[]),te.useEffect(()=>{e&&y9(e.uid)},[e]),B.jsx(jg.Provider,{value:{user:e,setUser:n},children:t})},Qs=()=>{var t;return((t=te.useContext(jg))==null?void 0:t.user)??null},b9=()=>{var t;return(t=te.useContext(jg))==null?void 0:t.setUser};function v9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const E9=te.forwardRef(v9);function x9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const aw=te.forwardRef(x9);function w9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const T9=te.forwardRef(w9);function A9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const S9=te.forwardRef(A9);function k9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const C9=te.forwardRef(k9);function R9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const D9=te.forwardRef(R9);function I9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const N9=te.forwardRef(I9);function O9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const M9=te.forwardRef(O9);function L9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const P9=te.forwardRef(L9);function U9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const ow=te.forwardRef(U9);function F9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const qg=te.forwardRef(F9);function V9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const B9=te.forwardRef(V9);function z9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ys=te.forwardRef(z9),j9=(t,e,n,r)=>{const s=S3(uw,`enemies/${t}/${e.name}`),a=T3(s,e);a.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;r(f)},l=>{console.error(" :",l)},async()=>{const l=await A3(a.snapshot.ref);n(l)})},Nh=({imageURL:t,setImageURL:e,ownerUid:n,className:r,placeholder:s})=>{const[a,l]=te.useState(0),f=p=>{p&&j9(n,p,e,l)},d=p=>{p.preventDefault(),f(p.dataTransfer.files[0])};return B.jsxs("div",{className:`w-full sm:w-3/14 flex items-center justify-center bg-gray-200 dark:bg-gray-800 relative overflow-hidden group ${r||""}`,onDrop:d,onDragOver:p=>p.preventDefault(),children:[B.jsx("img",{src:t||s||"/eotv-enemy-placeholder.png",className:"object-cover w-full h-full",alt:""}),B.jsx("input",{type:"file",accept:"image/*",onChange:p=>f(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),B.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[B.jsx(aw,{className:"w-8 h-8"}),B.jsx("span",{className:"text-xs",children:"   "})]}),a>0&&a<100&&B.jsxs("span",{className:"absolute bottom-2 left-2 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},lw=te.createContext([]),q9=({children:t})=>{const[e,n]=te.useState([]);return te.useEffect(()=>{(async()=>{const s=await Y5(g9);n(s.docs.map(a=>a.data().name))})()},[]),B.jsx(lw.Provider,{value:e,children:t})},Hg=()=>te.useContext(lw),H9=({selectedTags:t,setSelectedTags:e})=>{const n=Hg().map(_=>({name:_})),[r,s]=te.useState(""),a=Array.from(new Set([...n.map(_=>_.name)])),l=a.filter(_=>_.toLowerCase().includes(r.toLowerCase())&&!t.includes(_)),f=te.useCallback(_=>{const w=_.trim();w&&(t.includes(w)||e([...t,w]))},[t,e,n]),d=te.useCallback(_=>{(_.key==="Enter"||_.key===",")&&(_.preventDefault(),f(r),s(""))},[r,f]),p=te.useCallback(_=>{const w=_.target.value;a.includes(w)?(f(w),s("")):s(w)},[a,f]),y=te.useCallback(_=>{e(t.filter(w=>w!==_))},[t,e]);return B.jsxs("div",{className:"mt-auto py-4",children:[B.jsx("label",{className:"block text-sm mb-1",children:""}),B.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-200 dark:bg-gray-700 p-2 rounded",children:[t.map(_=>B.jsxs("span",{className:"bg-gray-300 dark:bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1",children:[_,B.jsx("button",{type:"button",onClick:()=>y(_),className:"text-red-400 hover:text-white",children:""})]},_)),B.jsx("input",{type:"text",value:r,list:"tag-suggestions",onChange:p,onKeyDown:d,className:"bg-transparent outline-none flex-1 text-sm text-gray-900 dark:text-white"}),B.jsx("datalist",{id:"tag-suggestions",children:l.map(_=>B.jsx("option",{value:_},_))})]})]})},cw=({name:t,setName:e,customDescription:n,setCustomDescription:r,selectedTags:s,setSelectedTags:a,children:l})=>B.jsxs("div",{className:"w-full sm:w-4/7 flex flex-col px-6 h-full overflow-y-auto",children:[B.jsx("input",{type:"text",placeholder:" ",value:t,onChange:f=>e(f.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue",required:!0}),B.jsx("textarea",{placeholder:"",value:n,onChange:f=>r(f.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue flex-1 resize-none"}),B.jsx(H9,{selectedTags:s,setSelectedTags:a}),l]});function G9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{fillRule:"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}),te.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const $9=te.forwardRef(G9);function K9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const Q9=te.forwardRef(K9);function Y9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const fw=te.forwardRef(Y9);function X9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Gg=te.forwardRef(X9);function Z9({title:t,titleId:e,...n},r){return te.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?te.createElement("title",{id:e},t):null,te.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const W9=te.forwardRef(Z9),hw=({draft:t,setDraft:e})=>{const n=t?"":"translate-x-8";return B.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[B.jsx("input",{type:"checkbox",className:"sr-only",checked:!t,onChange:()=>e(!t)}),B.jsxs("div",{className:"relative w-16 h-8 bg-gray-300 dark:bg-gray-600 rounded-full transition-colors",children:[B.jsx(fw,{className:"absolute left-1 top-1 w-5 h-5 text-gray-700 dark:text-gray-200"}),B.jsx($9,{className:"absolute right-1 top-1 w-5 h-5 text-green-700"}),B.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform ${n}`})]}),B.jsx("span",{className:"text-sm",children:t?" (  )":" ( )"})]})},$g=({open:t,message:e="   ",onClose:n,onSuccess:r})=>{if(!t)return null;const s=async()=>{const a=new Mr;await rw(Kl,a),n(),r&&r()};return B.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-[60] p-5  bg-gray-500 dark:bg-black flex items-center justify-center",onClick:n,children:B.jsxs("div",{role:"dialog",onClick:a=>a.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-sm p-6 flex flex-col items-center gap-4",children:[B.jsx("button",{onClick:n,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:B.jsx(Ys,{className:"w-5 h-5"})}),B.jsx("p",{children:e}),B.jsx("button",{onClick:s,className:"px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded hover:bg-opacity-80 transition cursor-pointer",children:"  Google"})]})})},J9=()=>{const[t,e]=te.useState(!1),[n,r]=te.useState(!1),[s,a]=te.useState(""),[l,f]=te.useState(""),[d,p]=te.useState([]),[y,_]=te.useState(""),[w,x]=te.useState(""),[C,L]=te.useState(!0),V=Qs(),H=te.useRef(null),Q=async $=>{if($.preventDefault(),!V)return;const ne={name:s,customDescription:l,tags:d,imageURL:y,imageURL2:w,authorUid:V.uid,likedBy:[],createdAt:new Date().toISOString(),...C?{draft:!0}:{}};await Z5(sw,ne),e(!1),a(""),f(""),p([]),_(""),x(""),L(!0)};return te.useEffect(()=>{const $=re=>{H.current&&!H.current.contains(re.target)&&e(!1)},ne=re=>{re.key==="Escape"&&e(!1)};return t&&(document.addEventListener("mousedown",$),document.addEventListener("keydown",ne)),()=>{document.removeEventListener("mousedown",$),document.removeEventListener("keydown",ne)}},[t]),n?B.jsx($g,{open:n,onClose:()=>r(!1),onSuccess:()=>e(!0),message:"    "}):t?B.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5  bg-gray-500 dark:bg-black flex items-center justify-center",onClick:()=>e(!1),children:B.jsxs("div",{role:"dialog",onClick:$=>$.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-7xl flex flex-col sm:flex-row shadow-lg overflow-hidden h-full",children:[B.jsxs("form",{ref:H,onSubmit:Q,className:"flex flex-col sm:flex-row w-full h-full overflow-y-auto",children:[B.jsx(Nh,{imageURL:y,setImageURL:_,ownerUid:(V==null?void 0:V.uid)||""}),B.jsx(cw,{name:s,setName:a,customDescription:l,setCustomDescription:f,selectedTags:d,setSelectedTags:p,children:B.jsxs("div",{className:"flex items-center gap-4 py-4",children:[B.jsx(hw,{draft:C,setDraft:L}),B.jsxs("button",{type:"submit",disabled:!V,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:[B.jsx(P9,{className:"w-5 h-5"}),""]})]})}),B.jsx(Nh,{imageURL:w,setImageURL:x,ownerUid:(V==null?void 0:V.uid)||"",placeholder:"/eotv-enemy-location-placeholder.png"})]}),B.jsx("button",{type:"button",onClick:()=>e(!1),className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:B.jsx(Ys,{className:"w-6 h-6"})})]})}):B.jsxs("div",{role:"button",tabIndex:0,className:"group relative flex flex-col items-center justify-center bg-white text-gray-900 dark:bg-gray-800 dark:text-white p-4 rounded-xl shadow-lg cursor-pointer w-full sm:w-40 sm:h-56 aspect-[2/3] hover:scale-110 transition-all duration-300 ease-in-out",onClick:()=>{V?(L(!0),e(!0)):r(!0)},onKeyDown:$=>{$.key==="Enter"&&(V?(L(!0),e(!0)):r(!0))},children:[B.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-neonBlue rounded-full transform transition-transform duration-300 group-hover:rotate-90",children:B.jsx("span",{className:"text-3xl font-bold text-darkBg",children:"+"})}),B.jsx("p",{className:"mt-2 text-lg",children:""}),!V&&B.jsx("span",{className:"text-xs text-gray-400",children:" "})]})},eD=({index:t,enemy:e,author:n,onClick:r})=>{var _;const s=te.useRef(null),a=Qs(),l=Hg(),[f,d]=te.useState(!1),p=!!a&&((_=e.likedBy)==null?void 0:_.includes(a.uid)),y=async w=>{if(w.stopPropagation(),!a||!e.id){d(!0);return}const x=Xi(Pr,"eotv-enemies",e.id);await Tg(x,{likedBy:p?r3(a.uid):n3(a.uid)})};return B.jsxs(B.Fragment,{children:[f&&B.jsx($g,{open:f,onClose:()=>d(!1),message:"   "}),B.jsxs("div",{ref:s,className:"bg-white text-gray-900 dark:bg-gray-800 dark:text-white shadow-lg cursor-pointer  overflow-hidden relative w-full sm:w-40 sm:h-56 aspect-[2/3] hover:scale-110 flex flex-col rounded-xl transition-all duration-300 ease-in-out",onClick:()=>r(t),children:[e.draft&&B.jsx(fw,{className:"w-5 h-5 absolute top-2 left-2 text-gray-400",title:""}),B.jsx("img",{src:e.imageURL||"/eotv-enemy-placeholder.png",alt:e.name,className:"w-full h-1/2 sm:h-32 object-cover"}),B.jsx("button",{onClick:y,title:p?"":"",className:"absolute top-2 right-2 text-blue-300 hover:scale-110 transition",children:p?B.jsx(Gg,{className:"w-5 h-5"}):B.jsx(qg,{className:"w-5 h-5"})}),B.jsxs("div",{className:"p-2 flex flex-col",children:[B.jsx("p",{className:"text-sm text-center font-bold",children:e.name}),B.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:B.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.filter(w=>l.includes(w)).map((w,x)=>B.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:w},x))})}),B.jsx("div",{className:"absolute items-center gap-2 mt-1 right-4 bottom-4",children:B.jsx("img",{src:n==null?void 0:n.photoURL,alt:"Avatar",className:"w-6 h-6 rounded-full",title:(n==null?void 0:n.displayName)||"Unknown"})})]}),e.imageURL2&&B.jsx("img",{src:e.imageURL2,alt:"Extra",className:"hidden"})]},e.id)]})},tD=({enemies:t,users:e,onSelect:n})=>B.jsxs("div",{className:"grid sm:flex sm:flex-wrap grid-cols-2 gap-4 justify-center relative",children:[B.jsx(J9,{}),t.map((r,s)=>B.jsx(eD,{index:s,enemy:r,author:e[r.authorUid],onClick:()=>n(s)},r.id))]});function nD(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const rD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uD={};function oE(t,e){return(uD.jsx?iD:rD).test(t)}const sD=/[ \t\n\f\r]/g;function aD(t){return typeof t=="object"?t.type==="text"?lE(t.value):!1:lE(t)}function lE(t){return t.replace(sD,"")===""}class pc{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}pc.prototype.normal={};pc.prototype.property={};pc.prototype.space=void 0;function dw(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new pc(n,r,e)}function Am(t){return t.toLowerCase()}class qn{constructor(e,n){this.attribute=n,this.property=e}}qn.prototype.attribute="";qn.prototype.booleanish=!1;qn.prototype.boolean=!1;qn.prototype.commaOrSpaceSeparated=!1;qn.prototype.commaSeparated=!1;qn.prototype.defined=!1;qn.prototype.mustUseProperty=!1;qn.prototype.number=!1;qn.prototype.overloadedBoolean=!1;qn.prototype.property="";qn.prototype.spaceSeparated=!1;qn.prototype.space=void 0;let oD=0;const Ge=Xs(),qt=Xs(),pw=Xs(),ye=Xs(),bt=Xs(),Za=Xs(),er=Xs();function Xs(){return 2**++oD}const Sm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:qt,commaOrSpaceSeparated:er,commaSeparated:Za,number:ye,overloadedBoolean:pw,spaceSeparated:bt},Symbol.toStringTag,{value:"Module"})),Mp=Object.keys(Sm);class Kg extends qn{constructor(e,n,r,s){let a=-1;if(super(e,n),cE(this,"space",s),typeof r=="number")for(;++a<Mp.length;){const l=Mp[a];cE(this,Mp[a],(r&Sm[l])===Sm[l])}}}Kg.prototype.defined=!0;function cE(t,e,n){n&&(t[e]=n)}function vo(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const a=new Kg(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Am(r)]=r,n[Am(a.attribute)]=r}return new pc(e,n,t.space)}const mw=vo({properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:bt,ariaCurrent:null,ariaDescribedBy:bt,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:bt,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:bt,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bt,ariaLevel:ye,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:bt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:bt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:qt,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function gw(t,e){return e in t?t[e]:e}function yw(t,e){return gw(t,e.toLowerCase())}const lD=vo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Za,acceptCharset:bt,accessKey:bt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:bt,autoFocus:Ge,autoPlay:Ge,blocking:bt,capture:null,charSet:null,checked:Ge,cite:null,className:bt,cols:ye,colSpan:null,content:null,contentEditable:qt,controls:Ge,controlsList:bt,coords:ye|Za,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:pw,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:bt,height:ye,hidden:Ge,high:ye,href:null,hrefLang:null,htmlFor:bt,httpEquiv:bt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:bt,itemRef:bt,itemScope:Ge,itemType:bt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ye,pattern:null,ping:bt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:bt,required:Ge,reversed:Ge,rows:ye,rowSpan:ye,sandbox:bt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:qt,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:yw}),cD=vo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:er,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:bt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Za,g2:Za,glyphName:Za,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:er,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:er,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:er,rev:er,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:er,requiredFeatures:er,requiredFonts:er,requiredFormats:er,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:er,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:er,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:er,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gw}),_w=vo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),bw=vo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yw}),vw=vo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),fD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hD=/[A-Z]/g,fE=/-[a-z]/g,dD=/^data[-\w.:]+$/i;function pD(t,e){const n=Am(e);let r=e,s=qn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dD.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(fE,gD);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!fE.test(a)){let l=a.replace(hD,mD);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=Kg}return new s(r,e)}function mD(t){return"-"+t.toLowerCase()}function gD(t){return t.charAt(1).toUpperCase()}const yD=dw([mw,lD,_w,bw,vw],"html"),Qg=dw([mw,cD,_w,bw,vw],"svg");function _D(t){return t.join(" ").trim()}var Va={},Lp,hE;function bD(){if(hE)return Lp;hE=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,f=/^\s+|\s+$/g,d=`
`,p="/",y="*",_="",w="comment",x="declaration";Lp=function(L,V){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];V=V||{};var H=1,Q=1;function $(N){var de=N.match(e);de&&(H+=de.length);var _e=N.lastIndexOf(d);Q=~_e?N.length-_e:Q+N.length}function ne(){var N={line:H,column:Q};return function(de){return de.position=new re(N),R(),de}}function re(N){this.start=N,this.end={line:H,column:Q},this.source=V.source}re.prototype.content=L;function G(N){var de=new Error(V.source+":"+H+":"+Q+": "+N);if(de.reason=N,de.filename=V.source,de.line=H,de.column=Q,de.source=L,!V.silent)throw de}function U(N){var de=N.exec(L);if(de){var _e=de[0];return $(_e),L=L.slice(_e.length),de}}function R(){U(n)}function I(N){var de;for(N=N||[];de=F();)de!==!1&&N.push(de);return N}function F(){var N=ne();if(!(p!=L.charAt(0)||y!=L.charAt(1))){for(var de=2;_!=L.charAt(de)&&(y!=L.charAt(de)||p!=L.charAt(de+1));)++de;if(de+=2,_===L.charAt(de-1))return G("End of comment missing");var _e=L.slice(2,de-2);return Q+=2,$(_e),L=L.slice(de),Q+=2,N({type:w,comment:_e})}}function z(){var N=ne(),de=U(r);if(de){if(F(),!U(s))return G("property missing ':'");var _e=U(a),me=N({type:x,property:C(de[0].replace(t,_)),value:_e?C(_e[0].replace(t,_)):_});return U(l),me}}function q(){var N=[];I(N);for(var de;de=z();)de!==!1&&(N.push(de),I(N));return N}return R(),q()};function C(L){return L?L.replace(f,_):_}return Lp}var dE;function vD(){if(dE)return Va;dE=1;var t=Va&&Va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Va,"__esModule",{value:!0}),Va.default=n;var e=t(bD());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var l=(0,e.default)(r),f=typeof s=="function";return l.forEach(function(d){if(d.type==="declaration"){var p=d.property,y=d.value;f?s(p,y,d):y&&(a=a||{},a[p]=y)}}),a}return Va}var ED=vD();const pE=Jl(ED),xD=pE.default||pE,Ew=xw("end"),Yg=xw("start");function xw(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function wD(t){const e=Yg(t),n=Ew(t);if(e&&n)return{start:e,end:n}}function Vl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?mE(t.position):"start"in t||"end"in t?mE(t):"line"in t||"column"in t?km(t):""}function km(t){return gE(t&&t.line)+":"+gE(t&&t.column)}function mE(t){return km(t&&t.start)+"-"+km(t&&t.end)}function gE(t){return t&&typeof t=="number"?t:1}class Tn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const f=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=f?f.line:void 0,this.name=Vl(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const Xg={}.hasOwnProperty,TD=new Map,AD=/[A-Z]/g,SD=/-([a-z])/g,kD=new Set(["table","tbody","thead","tfoot","tr"]),CD=new Set(["td","th"]),ww="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function RD(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=UD(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=PD(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Qg:yD,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Tw(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function Tw(t,e,n){if(e.type==="element")return DD(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ID(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return OD(t,e,n);if(e.type==="mdxjsEsm")return ND(t,e);if(e.type==="root")return MD(t,e,n);if(e.type==="text")return LD(t,e)}function DD(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Qg,t.schema=s),t.ancestors.push(e);const a=Sw(t,e.tagName,!1),l=FD(t,e);let f=Wg(t,e);return kD.has(e.tagName)&&(f=f.filter(function(d){return typeof d=="string"?!aD(d):!0})),Aw(t,l,a,e),Zg(l,f),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function ID(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ql(t,e.position)}function ND(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ql(t,e.position)}function OD(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Qg,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:Sw(t,e.name,!0),l=VD(t,e),f=Wg(t,e);return Aw(t,l,a,e),Zg(l,f),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function MD(t,e,n){const r={};return Zg(r,Wg(t,e)),t.create(e,t.Fragment,r,n)}function LD(t,e){return e.value}function Aw(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Zg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function PD(t,e,n){return r;function r(s,a,l,f){const p=Array.isArray(l.children)?n:e;return f?p(a,l,f):p(a,l)}}function UD(t,e){return n;function n(r,s,a,l){const f=Array.isArray(a.children),d=Yg(r);return e(s,a,l,f,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function FD(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&Xg.call(e.properties,s)){const a=BD(t,s,e.properties[s]);if(a){const[l,f]=a;t.tableCellAlignToStyle&&l==="align"&&typeof f=="string"&&CD.has(e.tagName)?r=f:n[l]=f}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function VD(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const f=l.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Ql(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const f=r.value.data.estree.body[0];f.type,a=t.evaluater.evaluateExpression(f.expression)}else Ql(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function Wg(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:TD;for(;++r<e.children.length;){const a=e.children[r];let l;if(t.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const p=s.get(d)||0;l=d+"-"+p,s.set(d,p+1)}}const f=Tw(t,a,l);f!==void 0&&n.push(f)}return n}function BD(t,e,n){const r=pD(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?nD(n):_D(n)),r.property==="style"){let s=typeof n=="object"?n:zD(t,String(n));return t.stylePropertyNameCase==="css"&&(s=jD(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?fD[r.property]||r.property:r.attribute,n]}}function zD(t,e){const n={};try{xD(e,r)}catch(s){if(!t.ignoreInvalidStyle){const a=s,l=new Tn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=ww+"#cannot-parse-style-attribute",l}}return n;function r(s,a){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(SD,HD)),n[l]=a}}function Sw(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,l;for(;++a<s.length;){const f=oE(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:f,computed:!!(a&&f.type==="Literal"),optional:!1}:f}r=l}else r=oE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return Xg.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ql(t)}function Ql(t,e){const n=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=ww+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jD(t){const e={};let n;for(n in t)Xg.call(t,n)&&(e[qD(n)]=t[n]);return e}function qD(t){let e=t.replace(AD,GD);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function HD(t,e){return e.toUpperCase()}function GD(t){return"-"+t.toLowerCase()}const Pp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$D={};function KD(t,e){const n=$D,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kw(t,r,s)}function kw(t,e,n){if(QD(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return yE(t.children,e,n)}return Array.isArray(t)?yE(t,e,n):""}function yE(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=kw(t[s],e,n);return r.join("")}function QD(t){return!!(t&&typeof t=="object")}const _E=document.createElement("i");function Jg(t){const e="&"+t+";";_E.innerHTML=e;const n=_E.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function di(t,e,n,r){const s=t.length;let a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}function wr(t,e){return t.length>0?(di(t,t.length,0,e),t):e}const bE={}.hasOwnProperty;function YD(t){const e={};let n=-1;for(;++n<t.length;)XD(e,t[n]);return e}function XD(t,e){let n;for(n in e){const s=(bE.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let l;if(a)for(l in a){bE.call(s,l)||(s[l]=[]);const f=a[l];ZD(s[l],Array.isArray(f)?f:f?[f]:[])}}}function ZD(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);di(t,0,0,r)}function Cw(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ni=rs(/[A-Za-z]/),rr=rs(/[\dA-Za-z]/),WD=rs(/[#-'*+\--9=?A-Z^-~]/);function Cm(t){return t!==null&&(t<32||t===127)}const Rm=rs(/\d/),JD=rs(/[\dA-Fa-f]/),eI=rs(/[!-/:-@[-`{-~]/);function Ue(t){return t!==null&&t<-2}function zn(t){return t!==null&&(t<0||t===32)}function ct(t){return t===-2||t===-1||t===32}const tI=rs(new RegExp("\\p{P}|\\p{S}","u")),nI=rs(/\s/);function rs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Eo(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let l="";if(a===37&&rr(t.charCodeAt(n+1))&&rr(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const f=t.charCodeAt(n+1);a<56320&&f>56319&&f<57344?(l=String.fromCharCode(a,f),s=1):l=""}else l=String.fromCharCode(a);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function vt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(d){return ct(d)?(t.enter(n),f(d)):e(d)}function f(d){return ct(d)&&a++<s?(t.consume(d),f):(t.exit(n),e(d))}}const rI={tokenize:iI};function iI(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),vt(t,e,"linePrefix")}function s(f){return t.enter("paragraph"),a(f)}function a(f){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(f)}function l(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Ue(f)?(t.consume(f),t.exit("chunkText"),a):(t.consume(f),l)}}const uI={tokenize:sI},vE={tokenize:aI};function sI(t){const e=this,n=[];let r=0,s,a,l;return f;function f($){if(r<n.length){const ne=n[r];return e.containerState=ne[1],t.attempt(ne[0].continuation,d,p)($)}return p($)}function d($){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&Q();const ne=e.events.length;let re=ne,G;for(;re--;)if(e.events[re][0]==="exit"&&e.events[re][1].type==="chunkFlow"){G=e.events[re][1].end;break}H(r);let U=ne;for(;U<e.events.length;)e.events[U][1].end={...G},U++;return di(e.events,re+1,0,e.events.slice(ne)),e.events.length=U,p($)}return f($)}function p($){if(r===n.length){if(!s)return w($);if(s.currentConstruct&&s.currentConstruct.concrete)return C($);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(vE,y,_)($)}function y($){return s&&Q(),H(r),w($)}function _($){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,C($)}function w($){return e.containerState={},t.attempt(vE,x,C)($)}function x($){return r++,n.push([e.currentConstruct,e.containerState]),w($)}function C($){if($===null){s&&Q(),H(0),t.consume($);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),L($)}function L($){if($===null){V(t.exit("chunkFlow"),!0),H(0),t.consume($);return}return Ue($)?(t.consume($),V(t.exit("chunkFlow")),r=0,e.interrupt=void 0,f):(t.consume($),L)}function V($,ne){const re=e.sliceStream($);if(ne&&re.push(null),$.previous=a,a&&(a.next=$),a=$,s.defineSkip($.start),s.write(re),e.parser.lazy[$.start.line]){let G=s.events.length;for(;G--;)if(s.events[G][1].start.offset<l&&(!s.events[G][1].end||s.events[G][1].end.offset>l))return;const U=e.events.length;let R=U,I,F;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(I){F=e.events[R][1].end;break}I=!0}for(H(r),G=U;G<e.events.length;)e.events[G][1].end={...F},G++;di(e.events,R+1,0,e.events.slice(U)),e.events.length=G}}function H($){let ne=n.length;for(;ne-- >$;){const re=n[ne];e.containerState=re[1],re[0].exit.call(e,t)}n.length=$}function Q(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function aI(t,e,n){return vt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function EE(t){if(t===null||zn(t)||nI(t))return 1;if(tI(t))return 2}function e1(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const Dm={name:"attention",resolveAll:oI,tokenize:lI};function oI(t,e){let n=-1,r,s,a,l,f,d,p,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},w={...t[n][1].start};xE(_,-d),xE(w,d),l={type:d>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},f={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...f.end}},t[r][1].end={...l.start},t[n][1].start={...f.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=wr(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=wr(p,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),p=wr(p,e1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=wr(p,[["exit",a,e],["enter",f,e],["exit",f,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,p=wr(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,di(t,r-1,n-r+3,p),n=r+p.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function lI(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=EE(r);let a;return l;function l(d){return a=d,t.enter("attentionSequence"),f(d)}function f(d){if(d===a)return t.consume(d),f;const p=t.exit("attentionSequence"),y=EE(d),_=!y||y===2&&s||n.includes(d),w=!s||s===2&&y||n.includes(r);return p._open=!!(a===42?_:_&&(s||!w)),p._close=!!(a===42?w:w&&(y||!_)),e(d)}}function xE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const cI={name:"autolink",tokenize:fI};function fI(t,e,n){let r=0;return s;function s(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return ni(x)?(t.consume(x),l):x===64?n(x):p(x)}function l(x){return x===43||x===45||x===46||rr(x)?(r=1,f(x)):p(x)}function f(x){return x===58?(t.consume(x),r=0,d):(x===43||x===45||x===46||rr(x))&&r++<32?(t.consume(x),f):(r=0,p(x))}function d(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||Cm(x)?n(x):(t.consume(x),d)}function p(x){return x===64?(t.consume(x),y):WD(x)?(t.consume(x),p):n(x)}function y(x){return rr(x)?_(x):n(x)}function _(x){return x===46?(t.consume(x),r=0,y):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):w(x)}function w(x){if((x===45||rr(x))&&r++<63){const C=x===45?w:_;return t.consume(x),C}return n(x)}}const ld={partial:!0,tokenize:hI};function hI(t,e,n){return r;function r(a){return ct(a)?vt(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||Ue(a)?e(a):n(a)}}const Rw={continuation:{tokenize:pI},exit:mI,name:"blockQuote",tokenize:dI};function dI(t,e,n){const r=this;return s;function s(l){if(l===62){const f=r.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return ct(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function pI(t,e,n){const r=this;return s;function s(l){return ct(l)?vt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(Rw,e,n)(l)}}function mI(t){t.exit("blockQuote")}const Dw={name:"characterEscape",tokenize:gI};function gI(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return eI(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Iw={name:"characterReference",tokenize:yI};function yI(t,e,n){const r=this;let s=0,a,l;return f;function f(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),d}function d(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),a=31,l=rr,y(_))}function p(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=JD,y):(t.enter("characterReferenceValue"),a=7,l=Rm,y(_))}function y(_){if(_===59&&s){const w=t.exit("characterReferenceValue");return l===rr&&!Jg(r.sliceSerialize(w))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(_)&&s++<a?(t.consume(_),y):n(_)}}const wE={partial:!0,tokenize:bI},TE={concrete:!0,name:"codeFenced",tokenize:_I};function _I(t,e,n){const r=this,s={partial:!0,tokenize:re};let a=0,l=0,f;return d;function d(G){return p(G)}function p(G){const U=r.events[r.events.length-1];return a=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,f=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(G)}function y(G){return G===f?(l++,t.consume(G),y):l<3?n(G):(t.exit("codeFencedFenceSequence"),ct(G)?vt(t,_,"whitespace")(G):_(G))}function _(G){return G===null||Ue(G)?(t.exit("codeFencedFence"),r.interrupt?e(G):t.check(wE,L,ne)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(G))}function w(G){return G===null||Ue(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(G)):ct(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),vt(t,x,"whitespace")(G)):G===96&&G===f?n(G):(t.consume(G),w)}function x(G){return G===null||Ue(G)?_(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(G))}function C(G){return G===null||Ue(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(G)):G===96&&G===f?n(G):(t.consume(G),C)}function L(G){return t.attempt(s,ne,V)(G)}function V(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),H}function H(G){return a>0&&ct(G)?vt(t,Q,"linePrefix",a+1)(G):Q(G)}function Q(G){return G===null||Ue(G)?t.check(wE,L,ne)(G):(t.enter("codeFlowValue"),$(G))}function $(G){return G===null||Ue(G)?(t.exit("codeFlowValue"),Q(G)):(t.consume(G),$)}function ne(G){return t.exit("codeFenced"),e(G)}function re(G,U,R){let I=0;return F;function F(_e){return G.enter("lineEnding"),G.consume(_e),G.exit("lineEnding"),z}function z(_e){return G.enter("codeFencedFence"),ct(_e)?vt(G,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_e):q(_e)}function q(_e){return _e===f?(G.enter("codeFencedFenceSequence"),N(_e)):R(_e)}function N(_e){return _e===f?(I++,G.consume(_e),N):I>=l?(G.exit("codeFencedFenceSequence"),ct(_e)?vt(G,de,"whitespace")(_e):de(_e)):R(_e)}function de(_e){return _e===null||Ue(_e)?(G.exit("codeFencedFence"),U(_e)):R(_e)}}}function bI(t,e,n){const r=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const Up={name:"codeIndented",tokenize:EI},vI={partial:!0,tokenize:xI};function EI(t,e,n){const r=this;return s;function s(p){return t.enter("codeIndented"),vt(t,a,"linePrefix",5)(p)}function a(p){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?d(p):Ue(p)?t.attempt(vI,l,d)(p):(t.enter("codeFlowValue"),f(p))}function f(p){return p===null||Ue(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),f)}function d(p){return t.exit("codeIndented"),e(p)}}function xI(t,e,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):Ue(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):vt(t,a,"linePrefix",5)(l)}function a(l){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(l):Ue(l)?s(l):n(l)}}const wI={name:"codeText",previous:AI,resolve:TI,tokenize:SI};function TI(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function AI(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function SI(t,e,n){let r=0,s,a;return l;function l(_){return t.enter("codeText"),t.enter("codeTextSequence"),f(_)}function f(_){return _===96?(t.consume(_),r++,f):(t.exit("codeTextSequence"),d(_))}function d(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),d):_===96?(a=t.enter("codeTextSequence"),s=0,y(_)):Ue(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),d):(t.enter("codeTextData"),p(_))}function p(_){return _===null||_===32||_===96||Ue(_)?(t.exit("codeTextData"),d(_)):(t.consume(_),p)}function y(_){return _===96?(t.consume(_),s++,y):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",p(_))}}class kI{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&kl(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),kl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),kl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);kl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);kl(this.left,n.reverse())}}}function kl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Nw(t){const e={};let n=-1,r,s,a,l,f,d,p;const y=new kI(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(r=y.get(n),n&&r[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,CI(y,n)),n=e[n],p=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(l=y.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(y.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...y.get(s)[1].start},f=y.slice(s,n),f.unshift(r),y.splice(s,n-s+1,f))}}return di(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!p}function CI(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const f=l.events,d=[],p={};let y,_,w=-1,x=n,C=0,L=0;const V=[L];for(;x;){for(;t.get(++s)[1]!==x;);a.push(s),x._tokenizer||(y=r.sliceStream(x),x.next||y.push(null),_&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(y),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),_=x,x=x.next}for(x=n;++w<f.length;)f[w][0]==="exit"&&f[w-1][0]==="enter"&&f[w][1].type===f[w-1][1].type&&f[w][1].start.line!==f[w][1].end.line&&(L=w+1,V.push(L),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):V.pop(),w=V.length;w--;){const H=f.slice(V[w],V[w+1]),Q=a.pop();d.push([Q,Q+H.length-1]),t.splice(Q,2,H)}for(d.reverse(),w=-1;++w<d.length;)p[C+d[w][0]]=C+d[w][1],C+=d[w][1]-d[w][0]-1;return p}const RI={resolve:II,tokenize:NI},DI={partial:!0,tokenize:OI};function II(t){return Nw(t),t}function NI(t,e){let n;return r;function r(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(f)}function s(f){return f===null?a(f):Ue(f)?t.check(DI,l,a)(f):(t.consume(f),s)}function a(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function l(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function OI(t,e,n){const r=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),vt(t,a,"linePrefix")}function a(l){if(l===null||Ue(l))return n(l);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function Ow(t,e,n,r,s,a,l,f,d){const p=d||Number.POSITIVE_INFINITY;let y=0;return _;function _(H){return H===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(H),t.exit(a),w):H===null||H===32||H===41||Cm(H)?n(H):(t.enter(r),t.enter(l),t.enter(f),t.enter("chunkString",{contentType:"string"}),L(H))}function w(H){return H===62?(t.enter(a),t.consume(H),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),x(H))}function x(H){return H===62?(t.exit("chunkString"),t.exit(f),w(H)):H===null||H===60||Ue(H)?n(H):(t.consume(H),H===92?C:x)}function C(H){return H===60||H===62||H===92?(t.consume(H),x):x(H)}function L(H){return!y&&(H===null||H===41||zn(H))?(t.exit("chunkString"),t.exit(f),t.exit(l),t.exit(r),e(H)):y<p&&H===40?(t.consume(H),y++,L):H===41?(t.consume(H),y--,L):H===null||H===32||H===40||Cm(H)?n(H):(t.consume(H),H===92?V:L)}function V(H){return H===40||H===41||H===92?(t.consume(H),L):L(H)}}function Mw(t,e,n,r,s,a){const l=this;let f=0,d;return p;function p(x){return t.enter(r),t.enter(s),t.consume(x),t.exit(s),t.enter(a),y}function y(x){return f>999||x===null||x===91||x===93&&!d||x===94&&!f&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(t.exit(a),t.enter(s),t.consume(x),t.exit(s),t.exit(r),e):Ue(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),_(x))}function _(x){return x===null||x===91||x===93||Ue(x)||f++>999?(t.exit("chunkString"),y(x)):(t.consume(x),d||(d=!ct(x)),x===92?w:_)}function w(x){return x===91||x===92||x===93?(t.consume(x),f++,_):_(x)}}function Lw(t,e,n,r,s,a){let l;return f;function f(w){return w===34||w===39||w===40?(t.enter(r),t.enter(s),t.consume(w),t.exit(s),l=w===40?41:w,d):n(w)}function d(w){return w===l?(t.enter(s),t.consume(w),t.exit(s),t.exit(r),e):(t.enter(a),p(w))}function p(w){return w===l?(t.exit(a),d(l)):w===null?n(w):Ue(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),vt(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===l||w===null||Ue(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?_:y)}function _(w){return w===l||w===92?(t.consume(w),y):y(w)}}function Bl(t,e){let n;return r;function r(s){return Ue(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):ct(s)?vt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const MI={name:"definition",tokenize:PI},LI={partial:!0,tokenize:UI};function PI(t,e,n){const r=this;let s;return a;function a(x){return t.enter("definition"),l(x)}function l(x){return Mw.call(r,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function f(x){return s=Wa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),d):n(x)}function d(x){return zn(x)?Bl(t,p)(x):p(x)}function p(x){return Ow(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function y(x){return t.attempt(LI,_,_)(x)}function _(x){return ct(x)?vt(t,w,"whitespace")(x):w(x)}function w(x){return x===null||Ue(x)?(t.exit("definition"),r.parser.defined.push(s),e(x)):n(x)}}function UI(t,e,n){return r;function r(f){return zn(f)?Bl(t,s)(f):n(f)}function s(f){return Lw(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function a(f){return ct(f)?vt(t,l,"whitespace")(f):l(f)}function l(f){return f===null||Ue(f)?e(f):n(f)}}const FI={name:"hardBreakEscape",tokenize:VI};function VI(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return Ue(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const BI={name:"headingAtx",resolve:zI,tokenize:jI};function zI(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},di(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function jI(t,e,n){let r=0;return s;function s(y){return t.enter("atxHeading"),a(y)}function a(y){return t.enter("atxHeadingSequence"),l(y)}function l(y){return y===35&&r++<6?(t.consume(y),l):y===null||zn(y)?(t.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(t.enter("atxHeadingSequence"),d(y)):y===null||Ue(y)?(t.exit("atxHeading"),e(y)):ct(y)?vt(t,f,"whitespace")(y):(t.enter("atxHeadingText"),p(y))}function d(y){return y===35?(t.consume(y),d):(t.exit("atxHeadingSequence"),f(y))}function p(y){return y===null||y===35||zn(y)?(t.exit("atxHeadingText"),f(y)):(t.consume(y),p)}}const qI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],AE=["pre","script","style","textarea"],HI={concrete:!0,name:"htmlFlow",resolveTo:KI,tokenize:QI},GI={partial:!0,tokenize:XI},$I={partial:!0,tokenize:YI};function KI(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function QI(t,e,n){const r=this;let s,a,l,f,d;return p;function p(P){return y(P)}function y(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),_}function _(P){return P===33?(t.consume(P),w):P===47?(t.consume(P),a=!0,L):P===63?(t.consume(P),s=3,r.interrupt?e:k):ni(P)?(t.consume(P),l=String.fromCharCode(P),V):n(P)}function w(P){return P===45?(t.consume(P),s=2,x):P===91?(t.consume(P),s=5,f=0,C):ni(P)?(t.consume(P),s=4,r.interrupt?e:k):n(P)}function x(P){return P===45?(t.consume(P),r.interrupt?e:k):n(P)}function C(P){const Ee="CDATA[";return P===Ee.charCodeAt(f++)?(t.consume(P),f===Ee.length?r.interrupt?e:q:C):n(P)}function L(P){return ni(P)?(t.consume(P),l=String.fromCharCode(P),V):n(P)}function V(P){if(P===null||P===47||P===62||zn(P)){const Ee=P===47,Ne=l.toLowerCase();return!Ee&&!a&&AE.includes(Ne)?(s=1,r.interrupt?e(P):q(P)):qI.includes(l.toLowerCase())?(s=6,Ee?(t.consume(P),H):r.interrupt?e(P):q(P)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):a?Q(P):$(P))}return P===45||rr(P)?(t.consume(P),l+=String.fromCharCode(P),V):n(P)}function H(P){return P===62?(t.consume(P),r.interrupt?e:q):n(P)}function Q(P){return ct(P)?(t.consume(P),Q):F(P)}function $(P){return P===47?(t.consume(P),F):P===58||P===95||ni(P)?(t.consume(P),ne):ct(P)?(t.consume(P),$):F(P)}function ne(P){return P===45||P===46||P===58||P===95||rr(P)?(t.consume(P),ne):re(P)}function re(P){return P===61?(t.consume(P),G):ct(P)?(t.consume(P),re):$(P)}function G(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),d=P,U):ct(P)?(t.consume(P),G):R(P)}function U(P){return P===d?(t.consume(P),d=null,I):P===null||Ue(P)?n(P):(t.consume(P),U)}function R(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||zn(P)?re(P):(t.consume(P),R)}function I(P){return P===47||P===62||ct(P)?$(P):n(P)}function F(P){return P===62?(t.consume(P),z):n(P)}function z(P){return P===null||Ue(P)?q(P):ct(P)?(t.consume(P),z):n(P)}function q(P){return P===45&&s===2?(t.consume(P),me):P===60&&s===1?(t.consume(P),xe):P===62&&s===4?(t.consume(P),oe):P===63&&s===3?(t.consume(P),k):P===93&&s===5?(t.consume(P),He):Ue(P)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(GI,ve,N)(P)):P===null||Ue(P)?(t.exit("htmlFlowData"),N(P)):(t.consume(P),q)}function N(P){return t.check($I,de,ve)(P)}function de(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),_e}function _e(P){return P===null||Ue(P)?N(P):(t.enter("htmlFlowData"),q(P))}function me(P){return P===45?(t.consume(P),k):q(P)}function xe(P){return P===47?(t.consume(P),l="",we):q(P)}function we(P){if(P===62){const Ee=l.toLowerCase();return AE.includes(Ee)?(t.consume(P),oe):q(P)}return ni(P)&&l.length<8?(t.consume(P),l+=String.fromCharCode(P),we):q(P)}function He(P){return P===93?(t.consume(P),k):q(P)}function k(P){return P===62?(t.consume(P),oe):P===45&&s===2?(t.consume(P),k):q(P)}function oe(P){return P===null||Ue(P)?(t.exit("htmlFlowData"),ve(P)):(t.consume(P),oe)}function ve(P){return t.exit("htmlFlow"),e(P)}}function YI(t,e,n){const r=this;return s;function s(l){return Ue(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function XI(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(ld,e,n)}}const ZI={name:"htmlText",tokenize:WI};function WI(t,e,n){const r=this;let s,a,l;return f;function f(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),d}function d(k){return k===33?(t.consume(k),p):k===47?(t.consume(k),re):k===63?(t.consume(k),$):ni(k)?(t.consume(k),R):n(k)}function p(k){return k===45?(t.consume(k),y):k===91?(t.consume(k),a=0,C):ni(k)?(t.consume(k),Q):n(k)}function y(k){return k===45?(t.consume(k),x):n(k)}function _(k){return k===null?n(k):k===45?(t.consume(k),w):Ue(k)?(l=_,xe(k)):(t.consume(k),_)}function w(k){return k===45?(t.consume(k),x):_(k)}function x(k){return k===62?me(k):k===45?w(k):_(k)}function C(k){const oe="CDATA[";return k===oe.charCodeAt(a++)?(t.consume(k),a===oe.length?L:C):n(k)}function L(k){return k===null?n(k):k===93?(t.consume(k),V):Ue(k)?(l=L,xe(k)):(t.consume(k),L)}function V(k){return k===93?(t.consume(k),H):L(k)}function H(k){return k===62?me(k):k===93?(t.consume(k),H):L(k)}function Q(k){return k===null||k===62?me(k):Ue(k)?(l=Q,xe(k)):(t.consume(k),Q)}function $(k){return k===null?n(k):k===63?(t.consume(k),ne):Ue(k)?(l=$,xe(k)):(t.consume(k),$)}function ne(k){return k===62?me(k):$(k)}function re(k){return ni(k)?(t.consume(k),G):n(k)}function G(k){return k===45||rr(k)?(t.consume(k),G):U(k)}function U(k){return Ue(k)?(l=U,xe(k)):ct(k)?(t.consume(k),U):me(k)}function R(k){return k===45||rr(k)?(t.consume(k),R):k===47||k===62||zn(k)?I(k):n(k)}function I(k){return k===47?(t.consume(k),me):k===58||k===95||ni(k)?(t.consume(k),F):Ue(k)?(l=I,xe(k)):ct(k)?(t.consume(k),I):me(k)}function F(k){return k===45||k===46||k===58||k===95||rr(k)?(t.consume(k),F):z(k)}function z(k){return k===61?(t.consume(k),q):Ue(k)?(l=z,xe(k)):ct(k)?(t.consume(k),z):I(k)}function q(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),s=k,N):Ue(k)?(l=q,xe(k)):ct(k)?(t.consume(k),q):(t.consume(k),de)}function N(k){return k===s?(t.consume(k),s=void 0,_e):k===null?n(k):Ue(k)?(l=N,xe(k)):(t.consume(k),N)}function de(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||zn(k)?I(k):(t.consume(k),de)}function _e(k){return k===47||k===62||zn(k)?I(k):n(k)}function me(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function xe(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),we}function we(k){return ct(k)?vt(t,He,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):He(k)}function He(k){return t.enter("htmlTextData"),l(k)}}const t1={name:"labelEnd",resolveAll:n7,resolveTo:r7,tokenize:i7},JI={tokenize:u7},e7={tokenize:s7},t7={tokenize:a7};function n7(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&di(t,0,t.length,n),t}function r7(t,e){let n=t.length,r=0,s,a,l,f;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},y={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[l-2][1].start}};return f=[["enter",d,e],["enter",p,e]],f=wr(f,t.slice(a+1,a+r+3)),f=wr(f,[["enter",y,e]]),f=wr(f,e1(e.parser.constructs.insideSpan.null,t.slice(a+r+4,l-3),e)),f=wr(f,[["exit",y,e],t[l-2],t[l-1],["exit",p,e]]),f=wr(f,t.slice(l+1)),f=wr(f,[["exit",d,e]]),di(t,a,t.length,f),t}function i7(t,e,n){const r=this;let s=r.events.length,a,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return f;function f(w){return a?a._inactive?_(w):(l=r.parser.defined.includes(Wa(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),d):n(w)}function d(w){return w===40?t.attempt(JI,y,l?y:_)(w):w===91?t.attempt(e7,y,l?p:_)(w):l?y(w):_(w)}function p(w){return t.attempt(t7,y,_)(w)}function y(w){return e(w)}function _(w){return a._balanced=!0,n(w)}}function u7(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),s}function s(_){return zn(_)?Bl(t,a)(_):a(_)}function a(_){return _===41?y(_):Ow(t,l,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function l(_){return zn(_)?Bl(t,d)(_):y(_)}function f(_){return n(_)}function d(_){return _===34||_===39||_===40?Lw(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):y(_)}function p(_){return zn(_)?Bl(t,y)(_):y(_)}function y(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function s7(t,e,n){const r=this;return s;function s(f){return Mw.call(r,t,a,l,"reference","referenceMarker","referenceString")(f)}function a(f){return r.parser.defined.includes(Wa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function l(f){return n(f)}}function a7(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const o7={name:"labelStartImage",resolveAll:t1.resolveAll,tokenize:l7};function l7(t,e,n){const r=this;return s;function s(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),a}function a(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),l):n(f)}function l(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):e(f)}}const c7={name:"labelStartLink",resolveAll:t1.resolveAll,tokenize:f7};function f7(t,e,n){const r=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Fp={name:"lineEnding",tokenize:h7};function h7(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),vt(t,e,"linePrefix")}}const lh={name:"thematicBreak",tokenize:d7};function d7(t,e,n){let r=0,s;return a;function a(p){return t.enter("thematicBreak"),l(p)}function l(p){return s=p,f(p)}function f(p){return p===s?(t.enter("thematicBreakSequence"),d(p)):r>=3&&(p===null||Ue(p))?(t.exit("thematicBreak"),e(p)):n(p)}function d(p){return p===s?(t.consume(p),r++,d):(t.exit("thematicBreakSequence"),ct(p)?vt(t,f,"whitespace")(p):f(p))}}const Pn={continuation:{tokenize:y7},exit:b7,name:"list",tokenize:g7},p7={partial:!0,tokenize:v7},m7={partial:!0,tokenize:_7};function g7(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return f;function f(x){const C=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Rm(x)){if(r.containerState.type||(r.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(lh,n,p)(x):p(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(x)}return n(x)}function d(x){return Rm(x)&&++l<10?(t.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),p(x)):n(x)}function p(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(ld,r.interrupt?n:y,t.attempt(p7,w,_))}function y(x){return r.containerState.initialBlankLine=!0,a++,w(x)}function _(x){return ct(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),w):n(x)}function w(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function y7(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ld,s,a);function s(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vt(t,e,"listItemIndent",r.containerState.size+1)(f)}function a(f){return r.containerState.furtherBlankLines||!ct(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(m7,e,l)(f))}function l(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,vt(t,t.attempt(Pn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function _7(t,e,n){const r=this;return vt(t,s,"listItemIndent",r.containerState.size+1);function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(a):n(a)}}function b7(t){t.exit(this.containerState.type)}function v7(t,e,n){const r=this;return vt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=r.events[r.events.length-1];return!ct(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const SE={name:"setextUnderline",resolveTo:E7,tokenize:x7};function E7(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function x7(t,e,n){const r=this;let s;return a;function a(p){let y=r.events.length,_;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){_=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),s=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),f(p)}function f(p){return p===s?(t.consume(p),f):(t.exit("setextHeadingLineSequence"),ct(p)?vt(t,d,"lineSuffix")(p):d(p))}function d(p){return p===null||Ue(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const w7={tokenize:T7};function T7(t){const e=this,n=t.attempt(ld,r,t.attempt(this.parser.constructs.flowInitial,s,vt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(RI,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const A7={resolveAll:Uw()},S7=Pw("string"),k7=Pw("text");function Pw(t){return{resolveAll:Uw(t==="text"?C7:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,l,f);return l;function l(y){return p(y)?a(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),d}function d(y){return p(y)?(n.exit("data"),a(y)):(n.consume(y),d)}function p(y){if(y===null)return!0;const _=s[y];let w=-1;if(_)for(;++w<_.length;){const x=_[w];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function Uw(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function C7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,l=-1,f=0,d;for(;a--;){const p=s[a];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)f++,l--;if(l)break;l=-1}else if(p===-2)d=!0,f++;else if(p!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const p={type:n===t.length||d||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const R7={42:Pn,43:Pn,45:Pn,48:Pn,49:Pn,50:Pn,51:Pn,52:Pn,53:Pn,54:Pn,55:Pn,56:Pn,57:Pn,62:Rw},D7={91:MI},I7={[-2]:Up,[-1]:Up,32:Up},N7={35:BI,42:lh,45:[SE,lh],60:HI,61:SE,95:lh,96:TE,126:TE},O7={38:Iw,92:Dw},M7={[-5]:Fp,[-4]:Fp,[-3]:Fp,33:o7,38:Iw,42:Dm,60:[cI,ZI],91:c7,92:[FI,Dw],93:t1,95:Dm,96:wI},L7={null:[Dm,A7]},P7={null:[42,95]},U7={null:[]},F7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:P7,contentInitial:D7,disable:U7,document:R7,flow:N7,flowInitial:I7,insideSpan:L7,string:O7,text:M7},Symbol.toStringTag,{value:"Module"}));function V7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],f=[];const d={attempt:U(re),check:U(G),consume:Q,enter:$,exit:ne,interrupt:U(G,{interrupt:!0})},p={code:null,containerState:{},defineSkip:L,events:[],now:C,parser:t,previous:null,sliceSerialize:w,sliceStream:x,write:_};let y=e.tokenize.call(p,d);return e.resolveAll&&a.push(e),p;function _(z){return l=wr(l,z),V(),l[l.length-1]!==null?[]:(R(e,0),p.events=e1(a,p.events,p),p.events)}function w(z,q){return z7(x(z),q)}function x(z){return B7(l,z)}function C(){const{_bufferIndex:z,_index:q,line:N,column:de,offset:_e}=r;return{_bufferIndex:z,_index:q,line:N,column:de,offset:_e}}function L(z){s[z.line]=z.column,F()}function V(){let z;for(;r._index<l.length;){const q=l[r._index];if(typeof q=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<q.length;)H(q.charCodeAt(r._bufferIndex));else H(q)}}function H(z){y=y(z)}function Q(z){Ue(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,F()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=z}function $(z,q){const N=q||{};return N.type=z,N.start=C(),p.events.push(["enter",N,p]),f.push(N),N}function ne(z){const q=f.pop();return q.end=C(),p.events.push(["exit",q,p]),q}function re(z,q){R(z,q.from)}function G(z,q){q.restore()}function U(z,q){return N;function N(de,_e,me){let xe,we,He,k;return Array.isArray(de)?ve(de):"tokenize"in de?ve([de]):oe(de);function oe(Se){return dt;function dt(Le){const st=Le!==null&&Se[Le],Ke=Le!==null&&Se.null,Rt=[...Array.isArray(st)?st:st?[st]:[],...Array.isArray(Ke)?Ke:Ke?[Ke]:[]];return ve(Rt)(Le)}}function ve(Se){return xe=Se,we=0,Se.length===0?me:P(Se[we])}function P(Se){return dt;function dt(Le){return k=I(),He=Se,Se.partial||(p.currentConstruct=Se),Se.name&&p.parser.constructs.disable.null.includes(Se.name)?Ne():Se.tokenize.call(q?Object.assign(Object.create(p),q):p,d,Ee,Ne)(Le)}}function Ee(Se){return z(He,k),_e}function Ne(Se){return k.restore(),++we<xe.length?P(xe[we]):me}}}function R(z,q){z.resolveAll&&!a.includes(z)&&a.push(z),z.resolve&&di(p.events,q,p.events.length-q,z.resolve(p.events.slice(q),p)),z.resolveTo&&(p.events=z.resolveTo(p.events,p))}function I(){const z=C(),q=p.previous,N=p.currentConstruct,de=p.events.length,_e=Array.from(f);return{from:de,restore:me};function me(){r=z,p.previous=q,p.currentConstruct=N,p.events.length=de,f=_e,F()}}function F(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function B7(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let l;if(n===s)l=[t[n].slice(r,a)];else{if(l=t.slice(n,s),r>-1){const f=l[0];typeof f=="string"?l[0]=f.slice(r):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}function z7(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,r.push(l)}return r.join("")}function j7(t){const r={constructs:YD([F7,...(t||{}).extensions||[]]),content:s(rI),defined:[],document:s(uI),flow:s(w7),lazy:{},string:s(S7),text:s(k7)};return r;function s(a){return l;function l(f){return V7(r,a,f)}}}function q7(t){for(;!Nw(t););return t}const kE=/[\0\t\n\r]/g;function H7(){let t=1,e="",n=!0,r;return s;function s(a,l,f){const d=[];let p,y,_,w,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(kE.lastIndex=_,p=kE.exec(a),w=p&&p.index!==void 0?p.index:a.length,x=a.charCodeAt(w),!p){e=a.slice(_);break}if(x===10&&_===w&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),_<w&&(d.push(a.slice(_,w)),t+=w-_),x){case 0:{d.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,d.push(-2);t++<y;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}_=w+1}return f&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const G7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $7(t){return t.replace(G7,K7)}function K7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return Cw(n.slice(a?2:1),a?16:10)}return Jg(n)||t}const Fw={}.hasOwnProperty;function Q7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Y7(n)(q7(j7(n).document().write(H7()(t,e,!0))))}function Y7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Sr),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(Hn),blockQuote:a(Ke),characterEscape:I,characterReference:I,codeFenced:a(Rt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Rt,l),codeText:a(Nn,l),codeTextData:I,data:I,codeFlowValue:I,definition:a(Lt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(gn),hardBreakEscape:a(On),hardBreakTrailing:a(On),htmlFlow:a(sr,l),htmlFlowData:I,htmlText:a(sr,l),htmlTextData:I,image:a(Fr),label:l,link:a(Sr),listItem:a($n),listItemValue:w,listOrdered:a(Gn,_),listUnordered:a(Gn),paragraph:a(yn),reference:P,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Hn),strong:a(kr),thematicBreak:a(An)},exit:{atxHeading:d(),atxHeadingSequence:re,autolink:d(),autolinkEmail:st,autolinkProtocol:Le,blockQuote:d(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:Se,characterReference:dt,codeFenced:d(V),codeFencedFence:L,codeFencedFenceInfo:x,codeFencedFenceMeta:C,codeFlowValue:F,codeIndented:d(H),codeText:d(_e),codeTextData:F,data:F,definition:d(),definitionDestinationString:ne,definitionLabelString:Q,definitionTitleString:$,emphasis:d(),hardBreakEscape:d(q),hardBreakTrailing:d(q),htmlFlow:d(N),htmlFlowData:F,htmlText:d(de),htmlTextData:F,image:d(xe),label:He,labelText:we,lineEnding:z,link:d(me),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Ee,resourceDestinationString:k,resourceTitleString:oe,resource:ve,setextHeading:d(R),setextHeadingLineSequence:U,setextHeadingText:G,strong:d(),thematicBreak:d()}};Vw(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ue){let S={type:"root",children:[]};const b={stack:[S],tokenStack:[],config:e,enter:f,exit:p,buffer:l,resume:y,data:n},E=[];let M=-1;for(;++M<ue.length;)if(ue[M][1].type==="listOrdered"||ue[M][1].type==="listUnordered")if(ue[M][0]==="enter")E.push(M);else{const K=E.pop();M=s(ue,K,M)}for(M=-1;++M<ue.length;){const K=e[ue[M][0]];Fw.call(K,ue[M][1].type)&&K[ue[M][1].type].call(Object.assign({sliceSerialize:ue[M][2].sliceSerialize},b),ue[M][1])}if(b.tokenStack.length>0){const K=b.tokenStack[b.tokenStack.length-1];(K[1]||CE).call(b,void 0,K[0])}for(S.position={start:Mu(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Mu(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},M=-1;++M<e.transforms.length;)S=e.transforms[M](S)||S;return S}function s(ue,S,b){let E=S-1,M=-1,K=!1,ee,ae,ke,tt;for(;++E<=b;){const Me=ue[E];switch(Me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Me[0]==="enter"?M++:M--,tt=void 0;break}case"lineEndingBlank":{Me[0]==="enter"&&(ee&&!tt&&!M&&!ke&&(ke=E),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!M&&Me[0]==="enter"&&Me[1].type==="listItemPrefix"||M===-1&&Me[0]==="exit"&&(Me[1].type==="listUnordered"||Me[1].type==="listOrdered")){if(ee){let Ve=E;for(ae=void 0;Ve--;){const qe=ue[Ve];if(qe[1].type==="lineEnding"||qe[1].type==="lineEndingBlank"){if(qe[0]==="exit")continue;ae&&(ue[ae][1].type="lineEndingBlank",K=!0),qe[1].type="lineEnding",ae=Ve}else if(!(qe[1].type==="linePrefix"||qe[1].type==="blockQuotePrefix"||qe[1].type==="blockQuotePrefixWhitespace"||qe[1].type==="blockQuoteMarker"||qe[1].type==="listItemIndent"))break}ke&&(!ae||ke<ae)&&(ee._spread=!0),ee.end=Object.assign({},ae?ue[ae][1].start:Me[1].end),ue.splice(ae||E,0,["exit",ee,Me[2]]),E++,b++}if(Me[1].type==="listItemPrefix"){const Ve={type:"listItem",_spread:!1,start:Object.assign({},Me[1].start),end:void 0};ee=Ve,ue.splice(E,0,["enter",Ve,Me[2]]),E++,b++,ke=void 0,tt=!0}}}return ue[S][1]._spread=K,b}function a(ue,S){return b;function b(E){f.call(this,ue(E),E),S&&S.call(this,E)}}function l(){this.stack.push({type:"fragment",children:[]})}function f(ue,S,b){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([S,b||void 0]),ue.position={start:Mu(S.start),end:void 0}}function d(ue){return S;function S(b){ue&&ue.call(this,b),p.call(this,b)}}function p(ue,S){const b=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==ue.type&&(S?S.call(this,ue,E[0]):(E[1]||CE).call(this,ue,E[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Vl({start:ue.start,end:ue.end})+"): its not open");b.position.end=Mu(ue.end)}function y(){return KD(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function w(ue){if(this.data.expectingFirstListItemValue){const S=this.stack[this.stack.length-2];S.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.lang=ue}function C(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.meta=ue}function L(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function V(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function H(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.value=ue.replace(/(\r?\n|\r)$/g,"")}function Q(ue){const S=this.resume(),b=this.stack[this.stack.length-1];b.label=S,b.identifier=Wa(this.sliceSerialize(ue)).toLowerCase()}function $(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.title=ue}function ne(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.url=ue}function re(ue){const S=this.stack[this.stack.length-1];if(!S.depth){const b=this.sliceSerialize(ue).length;S.depth=b}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function U(ue){const S=this.stack[this.stack.length-1];S.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ue){const b=this.stack[this.stack.length-1].children;let E=b[b.length-1];(!E||E.type!=="text")&&(E=Wt(),E.position={start:Mu(ue.start),end:void 0},b.push(E)),this.stack.push(E)}function F(ue){const S=this.stack.pop();S.value+=this.sliceSerialize(ue),S.position.end=Mu(ue.end)}function z(ue){const S=this.stack[this.stack.length-1];if(this.data.atHardBreak){const b=S.children[S.children.length-1];b.position.end=Mu(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(S.type)&&(I.call(this,ue),F.call(this,ue))}function q(){this.data.atHardBreak=!0}function N(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.value=ue}function de(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.value=ue}function _e(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.value=ue}function me(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const S=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=S,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function xe(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const S=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=S,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function we(ue){const S=this.sliceSerialize(ue),b=this.stack[this.stack.length-2];b.label=$7(S),b.identifier=Wa(S).toLowerCase()}function He(){const ue=this.stack[this.stack.length-1],S=this.resume(),b=this.stack[this.stack.length-1];if(this.data.inReference=!0,b.type==="link"){const E=ue.children;b.children=E}else b.alt=S}function k(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.url=ue}function oe(){const ue=this.resume(),S=this.stack[this.stack.length-1];S.title=ue}function ve(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Ee(ue){const S=this.resume(),b=this.stack[this.stack.length-1];b.label=S,b.identifier=Wa(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function Ne(ue){this.data.characterReferenceType=ue.type}function Se(ue){const S=this.sliceSerialize(ue),b=this.data.characterReferenceType;let E;b?(E=Cw(S,b==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=Jg(S);const M=this.stack[this.stack.length-1];M.value+=E}function dt(ue){const S=this.stack.pop();S.position.end=Mu(ue.end)}function Le(ue){F.call(this,ue);const S=this.stack[this.stack.length-1];S.url=this.sliceSerialize(ue)}function st(ue){F.call(this,ue);const S=this.stack[this.stack.length-1];S.url="mailto:"+this.sliceSerialize(ue)}function Ke(){return{type:"blockquote",children:[]}}function Rt(){return{type:"code",lang:null,meta:null,value:""}}function Nn(){return{type:"inlineCode",value:""}}function Lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gn(){return{type:"emphasis",children:[]}}function Hn(){return{type:"heading",depth:0,children:[]}}function On(){return{type:"break"}}function sr(){return{type:"html",value:""}}function Fr(){return{type:"image",title:null,url:"",alt:null}}function Sr(){return{type:"link",title:null,url:"",children:[]}}function Gn(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function $n(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function yn(){return{type:"paragraph",children:[]}}function kr(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function An(){return{type:"thematicBreak"}}}function Mu(t){return{line:t.line,column:t.column,offset:t.offset}}function Vw(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Vw(t,r):X7(t,r)}}function X7(t,e){let n;for(n in e)if(Fw.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function CE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Vl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Vl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Vl({start:e.start,end:e.end})+") is still open")}function Z7(t){const e=this;e.parser=n;function n(r){return Q7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function W7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function J7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function eN(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function tN(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nN(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rN(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Eo(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let l,f=t.footnoteCounts.get(r);f===void 0?(f=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=a+1,f+=1,t.footnoteCounts.set(r,f);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,p),t.applyData(e,p)}function iN(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uN(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Bw(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function sN(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Bw(t,e);const s={src:Eo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function aN(t,e){const n={src:Eo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function oN(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function lN(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Bw(t,e);const s={href:Eo(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function cN(t,e){const n={href:Eo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fN(t,e,n){const r=t.all(e),s=n?hN(n):zw(e),a={},l=[];if(typeof e.checked=="boolean"){const y=r[0];let _;y&&y.type==="element"&&y.tagName==="p"?_=y:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const y=r[f];(s||f!==0||y.type!=="element"||y.tagName!=="p")&&l.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!s?l.push(...y.children):l.push(y)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:a,children:l};return t.patch(e,p),t.applyData(e,p)}function hN(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=zw(n[r])}return e}function zw(t){const e=t.spread;return e??t.children.length>1}function dN(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function pN(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mN(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function gN(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yN(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=Yg(e.children[1]),d=Ew(e.children[e.children.length-1]);f&&d&&(l.position={start:f,end:d}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function _N(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,f=l?l.length:e.children.length;let d=-1;const p=[];for(;++d<f;){const _=e.children[d],w={},x=l?l[d]:void 0;x&&(w.align=x);let C={type:"element",tagName:a,properties:w,children:[]};_&&(C.children=t.all(_),t.patch(_,C),C=t.applyData(_,C)),p.push(C)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,y),t.applyData(e,y)}function bN(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const RE=9,DE=32;function vN(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(IE(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(IE(e.slice(s),s>0,!1)),a.join("")}function IE(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===RE||a===DE;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===RE||a===DE;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function EN(t,e){const n={type:"text",value:vN(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function xN(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const wN={blockquote:W7,break:J7,code:eN,delete:tN,emphasis:nN,footnoteReference:rN,heading:iN,html:uN,imageReference:sN,image:aN,inlineCode:oN,linkReference:lN,link:cN,listItem:fN,list:dN,paragraph:pN,root:mN,strong:gN,table:yN,tableCell:bN,tableRow:_N,text:EN,thematicBreak:xN,toml:Qf,yaml:Qf,definition:Qf,footnoteDefinition:Qf};function Qf(){}const jw=-1,cd=0,zl=1,Oh=2,n1=3,r1=4,i1=5,u1=6,qw=7,Hw=8,NE=typeof self=="object"?self:globalThis,TN=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,l]=e[s];switch(a){case cd:case jw:return n(l,s);case zl:{const f=n([],s);for(const d of l)f.push(r(d));return f}case Oh:{const f=n({},s);for(const[d,p]of l)f[r(d)]=r(p);return f}case n1:return n(new Date(l),s);case r1:{const{source:f,flags:d}=l;return n(new RegExp(f,d),s)}case i1:{const f=n(new Map,s);for(const[d,p]of l)f.set(r(d),r(p));return f}case u1:{const f=n(new Set,s);for(const d of l)f.add(r(d));return f}case qw:{const{name:f,message:d}=l;return n(new NE[f](d),s)}case Hw:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:f}=new Uint8Array(l);return n(new DataView(f),l)}}return n(new NE[a](l),s)};return r},OE=t=>TN(new Map,t)(0),Ba="",{toString:AN}={},{keys:SN}=Object,Cl=t=>{const e=typeof t;if(e!=="object"||!t)return[cd,e];const n=AN.call(t).slice(8,-1);switch(n){case"Array":return[zl,Ba];case"Object":return[Oh,Ba];case"Date":return[n1,Ba];case"RegExp":return[r1,Ba];case"Map":return[i1,Ba];case"Set":return[u1,Ba];case"DataView":return[zl,n]}return n.includes("Array")?[zl,n]:n.includes("Error")?[qw,n]:[Oh,n]},Yf=([t,e])=>t===cd&&(e==="function"||e==="symbol"),kN=(t,e,n,r)=>{const s=(l,f)=>{const d=r.push(l)-1;return n.set(f,d),d},a=l=>{if(n.has(l))return n.get(l);let[f,d]=Cl(l);switch(f){case cd:{let y=l;switch(d){case"bigint":f=Hw,y=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);y=null;break;case"undefined":return s([jw],l)}return s([f,y],l)}case zl:{if(d){let w=l;return d==="DataView"?w=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(w=new Uint8Array(l)),s([d,[...w]],l)}const y=[],_=s([f,y],l);for(const w of l)y.push(a(w));return _}case Oh:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const y=[],_=s([f,y],l);for(const w of SN(l))(t||!Yf(Cl(l[w])))&&y.push([a(w),a(l[w])]);return _}case n1:return s([f,l.toISOString()],l);case r1:{const{source:y,flags:_}=l;return s([f,{source:y,flags:_}],l)}case i1:{const y=[],_=s([f,y],l);for(const[w,x]of l)(t||!(Yf(Cl(w))||Yf(Cl(x))))&&y.push([a(w),a(x)]);return _}case u1:{const y=[],_=s([f,y],l);for(const w of l)(t||!Yf(Cl(w)))&&y.push(a(w));return _}}const{message:p}=l;return s([f,{name:d,message:p}],l)};return a},ME=(t,{json:e,lossy:n}={})=>{const r=[];return kN(!(e||n),!!e,new Map,r)(t),r},Mh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?OE(ME(t,e)):structuredClone(t):(t,e)=>OE(ME(t,e));function CN(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function RN(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function DN(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||CN,r=t.options.footnoteBackLabel||RN,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let d=-1;for(;++d<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[d]);if(!p)continue;const y=t.all(p),_=String(p.identifier).toUpperCase(),w=Eo(_.toLowerCase());let x=0;const C=[],L=t.footnoteCounts.get(_);for(;L!==void 0&&++x<=L;){C.length>0&&C.push({type:"text",value:" "});let Q=typeof n=="string"?n:n(d,x);typeof Q=="string"&&(Q={type:"text",value:Q}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+w+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(Q)?Q:[Q]})}const V=y[y.length-1];if(V&&V.type==="element"&&V.tagName==="p"){const Q=V.children[V.children.length-1];Q&&Q.type==="text"?Q.value+=" ":V.children.push({type:"text",value:" "}),V.children.push(...C)}else y.push(...C);const H={type:"element",tagName:"li",properties:{id:e+"fn-"+w},children:t.wrap(y,!0)};t.patch(p,H),f.push(H)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Mh(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const s1=function(t){if(t==null)return MN;if(typeof t=="function")return fd(t);if(typeof t=="object")return Array.isArray(t)?IN(t):NN(t);if(typeof t=="string")return ON(t);throw new Error("Expected function, string, or object as test")};function IN(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=s1(t[n]);return fd(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function NN(t){const e=t;return fd(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function ON(t){return fd(e);function e(n){return n&&n.type===t}}function fd(t){return e;function e(n,r,s){return!!(LN(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function MN(){return!0}function LN(t){return t!==null&&typeof t=="object"&&"type"in t}const Gw=[],PN=!0,LE=!1,UN="skip";function $w(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=s1(s),l=r?-1:1;f(t,void 0,[])();function f(d,p,y){const _=d&&typeof d=="object"?d:{};if(typeof _.type=="string"){const x=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return w;function w(){let x=Gw,C,L,V;if((!e||a(d,p,y[y.length-1]||void 0))&&(x=FN(n(d,y)),x[0]===LE))return x;if("children"in d&&d.children){const H=d;if(H.children&&x[0]!==UN)for(L=(r?H.children.length:-1)+l,V=y.concat(H);L>-1&&L<H.children.length;){const Q=H.children[L];if(C=f(Q,L,V)(),C[0]===LE)return C;L=typeof C[1]=="number"?C[1]:L+l}}return x}}}function FN(t){return Array.isArray(t)?t:typeof t=="number"?[PN,t]:t==null?Gw:[t]}function Kw(t,e,n,r){let s,a,l;typeof e=="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=r),$w(t,a,f,s);function f(d,p){const y=p[p.length-1],_=y?y.children.indexOf(d):void 0;return l(d,_,y)}}const Im={}.hasOwnProperty,VN={};function BN(t,e){const n=e||VN,r=new Map,s=new Map,a=new Map,l={...wN,...n.handlers},f={all:p,applyData:jN,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:d,options:n,patch:zN,wrap:HN};return Kw(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const _=y.type==="definition"?r:s,w=String(y.identifier).toUpperCase();_.has(w)||_.set(w,y)}}),f;function d(y,_){const w=y.type,x=f.handlers[w];if(Im.call(f.handlers,w)&&x)return x(f,y,_);if(f.options.passThrough&&f.options.passThrough.includes(w)){if("children"in y){const{children:L,...V}=y,H=Mh(V);return H.children=f.all(y),H}return Mh(y)}return(f.options.unknownHandler||qN)(f,y,_)}function p(y){const _=[];if("children"in y){const w=y.children;let x=-1;for(;++x<w.length;){const C=f.one(w[x],y);if(C){if(x&&w[x-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=PE(C.value)),!Array.isArray(C)&&C.type==="element")){const L=C.children[0];L&&L.type==="text"&&(L.value=PE(L.value))}Array.isArray(C)?_.push(...C):_.push(C)}}}return _}}function zN(t,e){t.position&&(e.position=wD(t))}function jN(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,Mh(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function qN(t,e){const n=e.data||{},r="value"in e&&!(Im.call(n,"hProperties")||Im.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function HN(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function PE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function UE(t,e){const n=BN(t,e),r=n.one(t,void 0),s=DN(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function GN(t,e){return t&&"run"in t?async function(n,r){const s=UE(n,{file:r,...e});await t.run(s,r)}:function(n,r){return UE(n,{file:r,...t||e})}}function FE(t){if(t)throw t}var Vp,VE;function $N(){if(VE)return Vp;VE=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},a=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var y=t.call(p,"constructor"),_=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!_)return!1;var w;for(w in p);return typeof w>"u"||t.call(p,w)},l=function(p,y){n&&y.name==="__proto__"?n(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},f=function(p,y){if(y==="__proto__")if(t.call(p,y)){if(r)return r(p,y).value}else return;return p[y]};return Vp=function d(){var p,y,_,w,x,C,L=arguments[0],V=1,H=arguments.length,Q=!1;for(typeof L=="boolean"&&(Q=L,L=arguments[1]||{},V=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});V<H;++V)if(p=arguments[V],p!=null)for(y in p)_=f(L,y),w=f(p,y),L!==w&&(Q&&w&&(a(w)||(x=s(w)))?(x?(x=!1,C=_&&s(_)?_:[]):C=_&&a(_)?_:{},l(L,{name:y,newValue:d(Q,C,w)})):typeof w<"u"&&l(L,{name:y,newValue:w}));return L},Vp}var KN=$N();const Bp=Jl(KN);function Nm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function QN(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);f(null,...s);function f(d,...p){const y=t[++a];let _=-1;if(d){l(d);return}for(;++_<s.length;)(p[_]===null||p[_]===void 0)&&(p[_]=s[_]);s=p,y?YN(y,f)(...p):l(null,...p)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function YN(t,e){let n;return r;function r(...l){const f=t.length>l.length;let d;f&&l.push(s);try{d=t.apply(this,l)}catch(p){const y=p;if(f&&n)throw y;return s(y)}f||(d&&d.then&&typeof d.then=="function"?d.then(a,s):d instanceof Error?s(d):a(d))}function s(l,...f){n||(n=!0,e(l,...f))}function a(l){s(null,l)}}const ei={basename:XN,dirname:ZN,extname:WN,join:JN,sep:"/"};function XN(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');mc(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,f=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),f>-1&&(t.codePointAt(s)===e.codePointAt(f--)?f<0&&(r=s):(f=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function ZN(t){if(mc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function WN(t){mc(t);let e=t.length,n=-1,r=0,s=-1,a=0,l;for(;e--;){const f=t.codePointAt(e);if(f===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),f===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function JN(...t){let e=-1,n;for(;++e<t.length;)mc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":eO(n)}function eO(t){mc(t);const e=t.codePointAt(0)===47;let n=tO(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function tO(t,e){let n="",r=0,s=-1,a=0,l=-1,f,d;for(;++l<=t.length;){if(l<t.length)f=t.codePointAt(l);else{if(f===47)break;f=47}if(f===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",r=0,s=l,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,l):n=t.slice(s+1,l),r=l-s-1;s=l,a=0}else f===46&&a>-1?a++:a=-1}return n}function mc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const nO={cwd:rO};function rO(){return"/"}function Om(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function iO(t){if(typeof t=="string")t=new URL(t);else if(!Om(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return uO(t)}function uO(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const zp=["history","path","basename","stem","extname","dirname"];class Qw{constructor(e){let n;e?Om(e)?n={path:e}:typeof e=="string"||sO(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":nO.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zp.length;){const a=zp[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)zp.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ei.basename(this.path):void 0}set basename(e){qp(e,"basename"),jp(e,"basename"),this.path=ei.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ei.dirname(this.path):void 0}set dirname(e){BE(this.basename,"dirname"),this.path=ei.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ei.extname(this.path):void 0}set extname(e){if(jp(e,"extname"),BE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ei.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Om(e)&&(e=iO(e)),qp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ei.basename(this.path,this.extname):void 0}set stem(e){qp(e,"stem"),jp(e,"stem"),this.path=ei.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Tn(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function jp(t,e){if(t&&t.includes(ei.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ei.sep+"`")}function qp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function BE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function sO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const aO=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},oO={}.hasOwnProperty;class a1 extends aO{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=QN()}copy(){const e=new a1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Bp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?($p("data",this.frozen),this.namespace[e]=n,this):oO.call(this.namespace,e)&&this.namespace[e]||void 0:e?($p("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Xf(e),r=this.parser||this.Parser;return Hp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Hp("process",this.parser||this.Parser),Gp("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const f=Xf(e),d=r.parse(f);r.run(d,f,function(y,_,w){if(y||!_||!w)return p(y);const x=_,C=r.stringify(x,w);fO(C)?w.value=C:w.result=C,p(y,w)});function p(y,_){y||!_?l(y):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),Hp("processSync",this.parser||this.Parser),Gp("processSync",this.compiler||this.Compiler),this.process(e,s),jE("processSync","process",n),r;function s(a,l){n=!0,FE(a),r=l}}run(e,n,r){zE(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,f){const d=Xf(n);s.run(e,d,p);function p(y,_,w){const x=_||e;y?f(y):l?l(x):r(void 0,x,w)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),jE("runSync","run",r),s;function a(l,f){FE(l),s=f,r=!0}}stringify(e,n){this.freeze();const r=Xf(n),s=this.compiler||this.Compiler;return Gp("stringify",s),zE(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if($p("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[y,..._]=p;d(y,_)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(p.plugins),p.settings&&(s.settings=Bp(!0,s.settings,p.settings))}function f(p){let y=-1;if(p!=null)if(Array.isArray(p))for(;++y<p.length;){const _=p[y];a(_)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,y){let _=-1,w=-1;for(;++_<r.length;)if(r[_][0]===p){w=_;break}if(w===-1)r.push([p,...y]);else if(y.length>0){let[x,...C]=y;const L=r[w][1];Nm(L)&&Nm(x)&&(x=Bp(!0,L,x)),r[w]=[p,x,...C]}}}}const lO=new a1().freeze();function Hp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Gp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function $p(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zE(t){if(!Nm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function jE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Xf(t){return cO(t)?t:new Qw(t)}function cO(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function fO(t){return typeof t=="string"||hO(t)}function hO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const dO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",qE=[],HE={allowDangerousHtml:!0},pO=/^(https?|ircs?|mailto|xmpp)$/i,mO=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gO(t){const e=yO(t),n=_O(t);return bO(e.runSync(e.parse(n),n),t)}function yO(t){const e=t.rehypePlugins||qE,n=t.remarkPlugins||qE,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...HE}:HE;return lO().use(Z7).use(n).use(GN,r).use(e)}function _O(t){const e=t.children||"",n=new Qw;return typeof e=="string"&&(n.value=e),n}function bO(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,a=e.disallowedElements,l=e.skipHtml,f=e.unwrapDisallowed,d=e.urlTransform||vO;for(const y of mO)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+dO+y.id,void 0);return Kw(t,p),RD(t,{Fragment:B.Fragment,components:s,ignoreInvalidStyle:!0,jsx:B.jsx,jsxs:B.jsxs,passKeys:!0,passNode:!0});function p(y,_,w){if(y.type==="raw"&&w&&typeof _=="number")return l?w.children.splice(_,1):w.children[_]={type:"text",value:y.value},_;if(y.type==="element"){let x;for(x in Pp)if(Object.hasOwn(Pp,x)&&Object.hasOwn(y.properties,x)){const C=y.properties[x],L=Pp[x];(L===null||L.includes(y.tagName))&&(y.properties[x]=d(String(C||""),x,y))}}if(y.type==="element"){let x=n?!n.includes(y.tagName):a?a.includes(y.tagName):!1;if(!x&&r&&typeof _=="number"&&(x=!r(y,_,w)),x&&w&&typeof _=="number")return f&&y.children?w.children.splice(_,1,...y.children):w.children.splice(_,1),_}}}function vO(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||pO.test(t.slice(0,e))?t:""}function EO(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function xO(t,e,n){const s=s1({}.ignore||[]),a=wO(e);let l=-1;for(;++l<a.length;)$w(t,"text",f);function f(p,y){let _=-1,w;for(;++_<y.length;){const x=y[_],C=w?w.children:void 0;if(s(x,C?C.indexOf(x):void 0,w))return;w=x}if(w)return d(p,y)}function d(p,y){const _=y[y.length-1],w=a[l][0],x=a[l][1];let C=0;const V=_.children.indexOf(p);let H=!1,Q=[];w.lastIndex=0;let $=w.exec(p.value);for(;$;){const ne=$.index,re={index:$.index,input:$.input,stack:[...y,p]};let G=x(...$,re);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?w.lastIndex=ne+1:(C!==ne&&Q.push({type:"text",value:p.value.slice(C,ne)}),Array.isArray(G)?Q.push(...G):G&&Q.push(G),C=ne+$[0].length,H=!0),!w.global)break;$=w.exec(p.value)}return H?(C<p.value.length&&Q.push({type:"text",value:p.value.slice(C)}),_.children.splice(V,1,...Q)):Q=[p],V+Q.length}}function wO(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const s=n[r];e.push([TO(s[0]),AO(s[1])])}return e}function TO(t){return typeof t=="string"?new RegExp(EO(t),"g"):t}function AO(t){return typeof t=="function"?t:function(){return t}}function SO(t){xO(t,[/\r?\n|\r/g,kO])}function kO(){return{type:"break"}}function CO(){return function(t){SO(t)}}const GE={};function RO(t){let e=GE[t];if(e)return e;e=GE[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function fo(t,e){typeof e!="string"&&(e=fo.defaultChars);const n=RO(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let s="";for(let a=0,l=r.length;a<l;a+=3){const f=parseInt(r.slice(a+1,a+3),16);if(f<128){s+=n[f];continue}if((f&224)===192&&a+3<l){const d=parseInt(r.slice(a+4,a+6),16);if((d&192)===128){const p=f<<6&1984|d&63;p<128?s+="":s+=String.fromCharCode(p),a+=3;continue}}if((f&240)===224&&a+6<l){const d=parseInt(r.slice(a+4,a+6),16),p=parseInt(r.slice(a+7,a+9),16);if((d&192)===128&&(p&192)===128){const y=f<<12&61440|d<<6&4032|p&63;y<2048||y>=55296&&y<=57343?s+="":s+=String.fromCharCode(y),a+=6;continue}}if((f&248)===240&&a+9<l){const d=parseInt(r.slice(a+4,a+6),16),p=parseInt(r.slice(a+7,a+9),16),y=parseInt(r.slice(a+10,a+12),16);if((d&192)===128&&(p&192)===128&&(y&192)===128){let _=f<<18&1835008|d<<12&258048|p<<6&4032|y&63;_<65536||_>1114111?s+="":(_-=65536,s+=String.fromCharCode(55296+(_>>10),56320+(_&1023))),a+=9;continue}}s+=""}return s})}fo.defaultChars=";/?:@&=+$,#";fo.componentChars="";const $E={};function DO(t){let e=$E[t];if(e)return e;e=$E[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function gc(t,e,n){typeof e!="string"&&(n=e,e=gc.defaultChars),typeof n>"u"&&(n=!0);const r=DO(e);let s="";for(let a=0,l=t.length;a<l;a++){const f=t.charCodeAt(a);if(n&&f===37&&a+2<l&&/^[0-9a-f]{2}$/i.test(t.slice(a+1,a+3))){s+=t.slice(a,a+3),a+=2;continue}if(f<128){s+=r[f];continue}if(f>=55296&&f<=57343){if(f>=55296&&f<=56319&&a+1<l){const d=t.charCodeAt(a+1);if(d>=56320&&d<=57343){s+=encodeURIComponent(t[a]+t[a+1]),a++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(t[a])}return s}gc.defaultChars=";/?:@&=+$,-_.!~*'()#";gc.componentChars="-_.!~*'()";function o1(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Lh(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const IO=/^([a-z0-9.+-]+:)/i,NO=/:[0-9]*$/,OO=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,MO=["<",">",'"',"`"," ","\r",`
`,"	"],LO=["{","}","|","\\","^","`"].concat(MO),PO=["'"].concat(LO),KE=["%","/","?",";","#"].concat(PO),QE=["/","?","#"],UO=255,YE=/^[+a-z0-9A-Z_-]{0,63}$/,FO=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,XE={javascript:!0,"javascript:":!0},ZE={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function l1(t,e){if(t&&t instanceof Lh)return t;const n=new Lh;return n.parse(t,e),n}Lh.prototype.parse=function(t,e){let n,r,s,a=t;if(a=a.trim(),!e&&t.split("#").length===1){const p=OO.exec(a);if(p)return this.pathname=p[1],p[2]&&(this.search=p[2]),this}let l=IO.exec(a);if(l&&(l=l[0],n=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(e||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(l&&XE[l])&&(a=a.substr(2),this.slashes=!0)),!XE[l]&&(s||l&&!ZE[l])){let p=-1;for(let C=0;C<QE.length;C++)r=a.indexOf(QE[C]),r!==-1&&(p===-1||r<p)&&(p=r);let y,_;p===-1?_=a.lastIndexOf("@"):_=a.lastIndexOf("@",p),_!==-1&&(y=a.slice(0,_),a=a.slice(_+1),this.auth=y),p=-1;for(let C=0;C<KE.length;C++)r=a.indexOf(KE[C]),r!==-1&&(p===-1||r<p)&&(p=r);p===-1&&(p=a.length),a[p-1]===":"&&p--;const w=a.slice(0,p);a=a.slice(p),this.parseHost(w),this.hostname=this.hostname||"";const x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x){const C=this.hostname.split(/\./);for(let L=0,V=C.length;L<V;L++){const H=C[L];if(H&&!H.match(YE)){let Q="";for(let $=0,ne=H.length;$<ne;$++)H.charCodeAt($)>127?Q+="x":Q+=H[$];if(!Q.match(YE)){const $=C.slice(0,L),ne=C.slice(L+1),re=H.match(FO);re&&($.push(re[1]),ne.unshift(re[2])),ne.length&&(a=ne.join(".")+a),this.hostname=$.join(".");break}}}}this.hostname.length>UO&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const f=a.indexOf("#");f!==-1&&(this.hash=a.substr(f),a=a.slice(0,f));const d=a.indexOf("?");return d!==-1&&(this.search=a.substr(d),a=a.slice(0,d)),a&&(this.pathname=a),ZE[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Lh.prototype.parseHost=function(t){let e=NO.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const VO=Object.freeze(Object.defineProperty({__proto__:null,decode:fo,encode:gc,format:o1,parse:l1},Symbol.toStringTag,{value:"Module"})),Yw=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Xw=/[\0-\x1F\x7F-\x9F]/,BO=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,c1=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Zw=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Ww=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,zO=Object.freeze(Object.defineProperty({__proto__:null,Any:Yw,Cc:Xw,Cf:BO,P:c1,S:Zw,Z:Ww},Symbol.toStringTag,{value:"Module"})),jO=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),qO=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Kp;const HO=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),GO=(Kp=String.fromCodePoint)!==null&&Kp!==void 0?Kp:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function $O(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=HO.get(t))!==null&&e!==void 0?e:t}var on;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(on||(on={}));const KO=32;var ju;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(ju||(ju={}));function Mm(t){return t>=on.ZERO&&t<=on.NINE}function QO(t){return t>=on.UPPER_A&&t<=on.UPPER_F||t>=on.LOWER_A&&t<=on.LOWER_F}function YO(t){return t>=on.UPPER_A&&t<=on.UPPER_Z||t>=on.LOWER_A&&t<=on.LOWER_Z||Mm(t)}function XO(t){return t===on.EQUALS||YO(t)}var sn;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(sn||(sn={}));var Bu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Bu||(Bu={}));class ZO{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=sn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Bu.Strict}startEntity(e){this.decodeMode=e,this.state=sn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case sn.EntityStart:return e.charCodeAt(n)===on.NUM?(this.state=sn.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=sn.NamedEntity,this.stateNamedEntity(e,n));case sn.NumericStart:return this.stateNumericStart(e,n);case sn.NumericDecimal:return this.stateNumericDecimal(e,n);case sn.NumericHex:return this.stateNumericHex(e,n);case sn.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|KO)===on.LOWER_X?(this.state=sn.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=sn.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){const a=r-n;this.result=this.result*Math.pow(s,a)+parseInt(e.substr(n,a),s),this.consumed+=a}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(Mm(s)||QO(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(Mm(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===on.SEMI)this.consumed+=1;else if(this.decodeMode===Bu.Strict)return 0;return this.emitCodePoint($O(this.result),this.consumed),this.errors&&(e!==on.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let s=r[this.treeIndex],a=(s&ju.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const l=e.charCodeAt(n);if(this.treeIndex=WO(r,s,this.treeIndex+Math.max(1,a),l),this.treeIndex<0)return this.result===0||this.decodeMode===Bu.Attribute&&(a===0||XO(l))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],a=(s&ju.VALUE_LENGTH)>>14,a!==0){if(l===on.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Bu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,s=(r[n]&ju.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~ju.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case sn.NamedEntity:return this.result!==0&&(this.decodeMode!==Bu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case sn.NumericDecimal:return this.emitNumericEntity(0,2);case sn.NumericHex:return this.emitNumericEntity(0,3);case sn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case sn.EntityStart:return 0}}}function Jw(t){let e="";const n=new ZO(t,r=>e+=GO(r));return function(s,a){let l=0,f=0;for(;(f=s.indexOf("&",f))>=0;){e+=s.slice(l,f),n.startEntity(a);const p=n.write(s,f+1);if(p<0){l=f+n.end();break}l=f+p,f=p===0?l+1:l}const d=e+s.slice(l);return e="",d}}function WO(t,e,n,r){const s=(e&ju.BRANCH_LENGTH)>>7,a=e&ju.JUMP_TABLE;if(s===0)return a!==0&&r===a?n:-1;if(a){const d=r-a;return d<0||d>=s?-1:t[n+d]-1}let l=n,f=l+s-1;for(;l<=f;){const d=l+f>>>1,p=t[d];if(p<r)l=d+1;else if(p>r)f=d-1;else return t[d+s]}return-1}const JO=Jw(jO);Jw(qO);function e6(t,e=Bu.Legacy){return JO(t,e)}function eM(t){return Object.prototype.toString.call(t)}function f1(t){return eM(t)==="[object String]"}const tM=Object.prototype.hasOwnProperty;function nM(t,e){return tM.call(t,e)}function hd(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function t6(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function h1(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Ph(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const n6=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,rM=/&([a-z#][a-z0-9]{1,31});/gi,iM=new RegExp(n6.source+"|"+rM.source,"gi"),uM=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function sM(t,e){if(e.charCodeAt(0)===35&&uM.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return h1(r)?Ph(r):t}const n=e6(t);return n!==t?n:t}function aM(t){return t.indexOf("\\")<0?t:t.replace(n6,"$1")}function ho(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(iM,function(e,n,r){return n||sM(e,r)})}const oM=/[&<>"]/,lM=/[&<>"]/g,cM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function fM(t){return cM[t]}function es(t){return oM.test(t)?t.replace(lM,fM):t}const hM=/[.?*+^$[\]\\(){}|-]/g;function dM(t){return t.replace(hM,"\\$&")}function Et(t){switch(t){case 9:case 32:return!0}return!1}function Yl(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Xl(t){return c1.test(t)||Zw.test(t)}function Zl(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function dd(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const pM={mdurl:VO,ucmicro:zO},mM=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:t6,assign:hd,escapeHtml:es,escapeRE:dM,fromCodePoint:Ph,has:nM,isMdAsciiPunct:Zl,isPunctChar:Xl,isSpace:Et,isString:f1,isValidEntityCode:h1,isWhiteSpace:Yl,lib:pM,normalizeReference:dd,unescapeAll:ho,unescapeMd:aM},Symbol.toStringTag,{value:"Module"}));function gM(t,e,n){let r,s,a,l;const f=t.posMax,d=t.pos;for(t.pos=e+1,r=1;t.pos<f;){if(a=t.src.charCodeAt(t.pos),a===93&&(r--,r===0)){s=!0;break}if(l=t.pos,t.md.inline.skipToken(t),a===91){if(l===t.pos-1)r++;else if(n)return t.pos=d,-1}}let p=-1;return s&&(p=t.pos),t.pos=d,p}function yM(t,e,n){let r,s=e;const a={ok:!1,pos:0,str:""};if(t.charCodeAt(s)===60){for(s++;s<n;){if(r=t.charCodeAt(s),r===10||r===60)return a;if(r===62)return a.pos=s+1,a.str=ho(t.slice(e+1,s)),a.ok=!0,a;if(r===92&&s+1<n){s+=2;continue}s++}return a}let l=0;for(;s<n&&(r=t.charCodeAt(s),!(r===32||r<32||r===127));){if(r===92&&s+1<n){if(t.charCodeAt(s+1)===32)break;s+=2;continue}if(r===40&&(l++,l>32))return a;if(r===41){if(l===0)break;l--}s++}return e===s||l!==0||(a.str=ho(t.slice(e,s)),a.pos=s,a.ok=!0),a}function _M(t,e,n,r){let s,a=e;const l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)l.str=r.str,l.marker=r.marker;else{if(a>=n)return l;let f=t.charCodeAt(a);if(f!==34&&f!==39&&f!==40)return l;e++,a++,f===40&&(f=41),l.marker=f}for(;a<n;){if(s=t.charCodeAt(a),s===l.marker)return l.pos=a+1,l.str+=ho(t.slice(e,a)),l.ok=!0,l;if(s===40&&l.marker===41)return l;s===92&&a+1<n&&a++,a++}return l.can_continue=!0,l.str+=ho(t.slice(e,a)),l}const bM=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:yM,parseLinkLabel:gM,parseLinkTitle:_M},Symbol.toStringTag,{value:"Module"})),mi={};mi.code_inline=function(t,e,n,r,s){const a=t[e];return"<code"+s.renderAttrs(a)+">"+es(a.content)+"</code>"};mi.code_block=function(t,e,n,r,s){const a=t[e];return"<pre"+s.renderAttrs(a)+"><code>"+es(t[e].content)+`</code></pre>
`};mi.fence=function(t,e,n,r,s){const a=t[e],l=a.info?ho(a.info).trim():"";let f="",d="";if(l){const y=l.split(/(\s+)/g);f=y[0],d=y.slice(2).join("")}let p;if(n.highlight?p=n.highlight(a.content,f,d)||es(a.content):p=es(a.content),p.indexOf("<pre")===0)return p+`
`;if(l){const y=a.attrIndex("class"),_=a.attrs?a.attrs.slice():[];y<0?_.push(["class",n.langPrefix+f]):(_[y]=_[y].slice(),_[y][1]+=" "+n.langPrefix+f);const w={attrs:_};return`<pre><code${s.renderAttrs(w)}>${p}</code></pre>
`}return`<pre><code${s.renderAttrs(a)}>${p}</code></pre>
`};mi.image=function(t,e,n,r,s){const a=t[e];return a.attrs[a.attrIndex("alt")][1]=s.renderInlineAsText(a.children,n,r),s.renderToken(t,e,n)};mi.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};mi.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};mi.text=function(t,e){return es(t[e].content)};mi.html_block=function(t,e){return t[e].content};mi.html_inline=function(t,e){return t[e].content};function xo(){this.rules=hd({},mi)}xo.prototype.renderAttrs=function(e){let n,r,s;if(!e.attrs)return"";for(s="",n=0,r=e.attrs.length;n<r;n++)s+=" "+es(e.attrs[n][0])+'="'+es(e.attrs[n][1])+'"';return s};xo.prototype.renderToken=function(e,n,r){const s=e[n];let a="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&e[n-1].hidden&&(a+=`
`),a+=(s.nesting===-1?"</":"<")+s.tag,a+=this.renderAttrs(s),s.nesting===0&&r.xhtmlOut&&(a+=" /");let l=!1;if(s.block&&(l=!0,s.nesting===1&&n+1<e.length)){const f=e[n+1];(f.type==="inline"||f.hidden||f.nesting===-1&&f.tag===s.tag)&&(l=!1)}return a+=l?`>
`:">",a};xo.prototype.renderInline=function(t,e,n){let r="";const s=this.rules;for(let a=0,l=t.length;a<l;a++){const f=t[a].type;typeof s[f]<"u"?r+=s[f](t,a,e,n,this):r+=this.renderToken(t,a,e)}return r};xo.prototype.renderInlineAsText=function(t,e,n){let r="";for(let s=0,a=t.length;s<a;s++)switch(t[s].type){case"text":r+=t[s].content;break;case"image":r+=this.renderInlineAsText(t[s].children,e,n);break;case"html_inline":case"html_block":r+=t[s].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};xo.prototype.render=function(t,e,n){let r="";const s=this.rules;for(let a=0,l=t.length;a<l;a++){const f=t[a].type;f==="inline"?r+=this.renderInline(t[a].children,e,n):typeof s[f]<"u"?r+=s[f](t,a,e,n,this):r+=this.renderToken(t,a,e,n)}return r};function jn(){this.__rules__=[],this.__cache__=null}jn.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};jn.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};jn.prototype.at=function(t,e,n){const r=this.__find__(t),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=s.alt||[],this.__cache__=null};jn.prototype.before=function(t,e,n,r){const s=this.__find__(t),a=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null};jn.prototype.after=function(t,e,n,r){const s=this.__find__(t),a=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null};jn.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};jn.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const s=this.__find__(r);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};jn.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};jn.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const s=this.__find__(r);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};jn.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ur(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ur.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,s=n.length;r<s;r++)if(n[r][0]===e)return r;return-1};Ur.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ur.prototype.attrSet=function(e,n){const r=this.attrIndex(e),s=[e,n];r<0?this.attrPush(s):this.attrs[r]=s};Ur.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};Ur.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function r6(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}r6.prototype.Token=Ur;const vM=/\r\n?|\n/g,EM=/\0/g;function xM(t){let e;e=t.src.replace(vM,`
`),e=e.replace(EM,""),t.src=e}function wM(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function TM(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const s=e[n];s.type==="inline"&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}function AM(t){return/^<a[>\s]/i.test(t)}function SM(t){return/^<\/a\s*>/i.test(t)}function kM(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let s=e[n].children,a=0;for(let l=s.length-1;l>=0;l--){const f=s[l];if(f.type==="link_close"){for(l--;s[l].level!==f.level&&s[l].type!=="link_open";)l--;continue}if(f.type==="html_inline"&&(AM(f.content)&&a>0&&a--,SM(f.content)&&a++),!(a>0)&&f.type==="text"&&t.md.linkify.test(f.content)){const d=f.content;let p=t.md.linkify.match(d);const y=[];let _=f.level,w=0;p.length>0&&p[0].index===0&&l>0&&s[l-1].type==="text_special"&&(p=p.slice(1));for(let x=0;x<p.length;x++){const C=p[x].url,L=t.md.normalizeLink(C);if(!t.md.validateLink(L))continue;let V=p[x].text;p[x].schema?p[x].schema==="mailto:"&&!/^mailto:/i.test(V)?V=t.md.normalizeLinkText("mailto:"+V).replace(/^mailto:/,""):V=t.md.normalizeLinkText(V):V=t.md.normalizeLinkText("http://"+V).replace(/^http:\/\//,"");const H=p[x].index;if(H>w){const re=new t.Token("text","",0);re.content=d.slice(w,H),re.level=_,y.push(re)}const Q=new t.Token("link_open","a",1);Q.attrs=[["href",L]],Q.level=_++,Q.markup="linkify",Q.info="auto",y.push(Q);const $=new t.Token("text","",0);$.content=V,$.level=_,y.push($);const ne=new t.Token("link_close","a",-1);ne.level=--_,ne.markup="linkify",ne.info="auto",y.push(ne),w=p[x].lastIndex}if(w<d.length){const x=new t.Token("text","",0);x.content=d.slice(w),x.level=_,y.push(x)}e[n].children=s=t6(s,l,y)}}}}const i6=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,CM=/\((c|tm|r)\)/i,RM=/\((c|tm|r)\)/ig,DM={c:"",r:"",tm:""};function IM(t,e){return DM[e.toLowerCase()]}function NM(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(RM,IM)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function OM(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&i6.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function MM(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(CM.test(t.tokens[e].content)&&NM(t.tokens[e].children),i6.test(t.tokens[e].content)&&OM(t.tokens[e].children))}const LM=/['"]/,WE=/['"]/g,JE="";function Zf(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function PM(t,e){let n;const r=[];for(let s=0;s<t.length;s++){const a=t[s],l=t[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=l);n--);if(r.length=n+1,a.type!=="text")continue;let f=a.content,d=0,p=f.length;e:for(;d<p;){WE.lastIndex=d;const y=WE.exec(f);if(!y)break;let _=!0,w=!0;d=y.index+1;const x=y[0]==="'";let C=32;if(y.index-1>=0)C=f.charCodeAt(y.index-1);else for(n=s-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){C=t[n].content.charCodeAt(t[n].content.length-1);break}let L=32;if(d<p)L=f.charCodeAt(d);else for(n=s+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){L=t[n].content.charCodeAt(0);break}const V=Zl(C)||Xl(String.fromCharCode(C)),H=Zl(L)||Xl(String.fromCharCode(L)),Q=Yl(C),$=Yl(L);if($?_=!1:H&&(Q||V||(_=!1)),Q?w=!1:V&&($||H||(w=!1)),L===34&&y[0]==='"'&&C>=48&&C<=57&&(w=_=!1),_&&w&&(_=V,w=H),!_&&!w){x&&(a.content=Zf(a.content,y.index,JE));continue}if(w)for(n=r.length-1;n>=0;n--){let ne=r[n];if(r[n].level<l)break;if(ne.single===x&&r[n].level===l){ne=r[n];let re,G;x?(re=e.md.options.quotes[2],G=e.md.options.quotes[3]):(re=e.md.options.quotes[0],G=e.md.options.quotes[1]),a.content=Zf(a.content,y.index,G),t[ne.token].content=Zf(t[ne.token].content,ne.pos,re),d+=G.length-1,ne.token===s&&(d+=re.length-1),f=a.content,p=f.length,r.length=n;continue e}}_?r.push({token:s,pos:y.index,single:x,level:l}):w&&x&&(a.content=Zf(a.content,y.index,JE))}}}function UM(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!LM.test(t.tokens[e].content)||PM(t.tokens[e].children,t)}function FM(t){let e,n;const r=t.tokens,s=r.length;for(let a=0;a<s;a++){if(r[a].type!=="inline")continue;const l=r[a].children,f=l.length;for(e=0;e<f;e++)l[e].type==="text_special"&&(l[e].type="text");for(e=n=0;e<f;e++)l[e].type==="text"&&e+1<f&&l[e+1].type==="text"?l[e+1].content=l[e].content+l[e+1].content:(e!==n&&(l[n]=l[e]),n++);e!==n&&(l.length=n)}}const Qp=[["normalize",xM],["block",wM],["inline",TM],["linkify",kM],["replacements",MM],["smartquotes",UM],["text_join",FM]];function d1(){this.ruler=new jn;for(let t=0;t<Qp.length;t++)this.ruler.push(Qp[t][0],Qp[t][1])}d1.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};d1.prototype.State=r6;function gi(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let a=0,l=0,f=0,d=0,p=s.length,y=!1;l<p;l++){const _=s.charCodeAt(l);if(!y)if(Et(_)){f++,_===9?d+=4-d%4:d++;continue}else y=!0;(_===10||l===p-1)&&(_!==10&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(f),this.sCount.push(d),this.bsCount.push(0),y=!1,f=0,d=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}gi.prototype.push=function(t,e,n){const r=new Ur(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};gi.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};gi.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};gi.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Et(r))break}return e};gi.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Et(this.src.charCodeAt(--e)))return e+1;return e};gi.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};gi.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};gi.prototype.getLines=function(e,n,r,s){if(e>=n)return"";const a=new Array(n-e);for(let l=0,f=e;f<n;f++,l++){let d=0;const p=this.bMarks[f];let y=p,_;for(f+1<n||s?_=this.eMarks[f]+1:_=this.eMarks[f];y<_&&d<r;){const w=this.src.charCodeAt(y);if(Et(w))w===9?d+=4-(d+this.bsCount[f])%4:d++;else if(y-p<this.tShift[f])d++;else break;y++}d>r?a[l]=new Array(d-r+1).join(" ")+this.src.slice(y,_):a[l]=this.src.slice(y,_)}return a.join("")};gi.prototype.Token=Ur;const VM=65536;function Yp(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function ex(t){const e=[],n=t.length;let r=0,s=t.charCodeAt(r),a=!1,l=0,f="";for(;r<n;)s===124&&(a?(f+=t.substring(l,r-1),l=r):(e.push(f+t.substring(l,r)),f="",l=r+1)),a=s===92,r++,s=t.charCodeAt(r);return e.push(f+t.substring(l)),e}function BM(t,e,n,r){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent||t.sCount[s]-t.blkIndent>=4)return!1;let a=t.bMarks[s]+t.tShift[s];if(a>=t.eMarks[s])return!1;const l=t.src.charCodeAt(a++);if(l!==124&&l!==45&&l!==58||a>=t.eMarks[s])return!1;const f=t.src.charCodeAt(a++);if(f!==124&&f!==45&&f!==58&&!Et(f)||l===45&&Et(f))return!1;for(;a<t.eMarks[s];){const ne=t.src.charCodeAt(a);if(ne!==124&&ne!==45&&ne!==58&&!Et(ne))return!1;a++}let d=Yp(t,e+1),p=d.split("|");const y=[];for(let ne=0;ne<p.length;ne++){const re=p[ne].trim();if(!re){if(ne===0||ne===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(re))return!1;re.charCodeAt(re.length-1)===58?y.push(re.charCodeAt(0)===58?"center":"right"):re.charCodeAt(0)===58?y.push("left"):y.push("")}if(d=Yp(t,e).trim(),d.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;p=ex(d),p.length&&p[0]===""&&p.shift(),p.length&&p[p.length-1]===""&&p.pop();const _=p.length;if(_===0||_!==y.length)return!1;if(r)return!0;const w=t.parentType;t.parentType="table";const x=t.md.block.ruler.getRules("blockquote"),C=t.push("table_open","table",1),L=[e,0];C.map=L;const V=t.push("thead_open","thead",1);V.map=[e,e+1];const H=t.push("tr_open","tr",1);H.map=[e,e+1];for(let ne=0;ne<p.length;ne++){const re=t.push("th_open","th",1);y[ne]&&(re.attrs=[["style","text-align:"+y[ne]]]);const G=t.push("inline","",0);G.content=p[ne].trim(),G.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let Q,$=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let ne=!1;for(let G=0,U=x.length;G<U;G++)if(x[G](t,s,n,!0)){ne=!0;break}if(ne||(d=Yp(t,s).trim(),!d)||t.sCount[s]-t.blkIndent>=4||(p=ex(d),p.length&&p[0]===""&&p.shift(),p.length&&p[p.length-1]===""&&p.pop(),$+=_-p.length,$>VM))break;if(s===e+2){const G=t.push("tbody_open","tbody",1);G.map=Q=[e+2,0]}const re=t.push("tr_open","tr",1);re.map=[s,s+1];for(let G=0;G<_;G++){const U=t.push("td_open","td",1);y[G]&&(U.attrs=[["style","text-align:"+y[G]]]);const R=t.push("inline","",0);R.content=p[G]?p[G].trim():"",R.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return Q&&(t.push("tbody_close","tbody",-1),Q[1]=s),t.push("table_close","table",-1),L[1]=s,t.parentType=w,t.line=s,!0}function zM(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,s=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,s=r;continue}break}t.line=s;const a=t.push("code_block","code",0);return a.content=t.getLines(e,s,4+t.blkIndent,!1)+`
`,a.map=[e,t.line],!0}function jM(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],a=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||s+3>a)return!1;const l=t.src.charCodeAt(s);if(l!==126&&l!==96)return!1;let f=s;s=t.skipChars(s,l);let d=s-f;if(d<3)return!1;const p=t.src.slice(f,s),y=t.src.slice(s,a);if(l===96&&y.indexOf(String.fromCharCode(l))>=0)return!1;if(r)return!0;let _=e,w=!1;for(;_++,!(_>=n||(s=f=t.bMarks[_]+t.tShift[_],a=t.eMarks[_],s<a&&t.sCount[_]<t.blkIndent));)if(t.src.charCodeAt(s)===l&&!(t.sCount[_]-t.blkIndent>=4)&&(s=t.skipChars(s,l),!(s-f<d)&&(s=t.skipSpaces(s),!(s<a)))){w=!0;break}d=t.sCount[e],t.line=_+(w?1:0);const x=t.push("fence","code",0);return x.info=y,x.content=t.getLines(e+1,_,d,!0),x.markup=p,x.map=[e,t.line],!0}function qM(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],a=t.eMarks[e];const l=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==62)return!1;if(r)return!0;const f=[],d=[],p=[],y=[],_=t.md.block.ruler.getRules("blockquote"),w=t.parentType;t.parentType="blockquote";let x=!1,C;for(C=e;C<n;C++){const $=t.sCount[C]<t.blkIndent;if(s=t.bMarks[C]+t.tShift[C],a=t.eMarks[C],s>=a)break;if(t.src.charCodeAt(s++)===62&&!$){let re=t.sCount[C]+1,G,U;t.src.charCodeAt(s)===32?(s++,re++,U=!1,G=!0):t.src.charCodeAt(s)===9?(G=!0,(t.bsCount[C]+re)%4===3?(s++,re++,U=!1):U=!0):G=!1;let R=re;for(f.push(t.bMarks[C]),t.bMarks[C]=s;s<a;){const I=t.src.charCodeAt(s);if(Et(I))I===9?R+=4-(R+t.bsCount[C]+(U?1:0))%4:R++;else break;s++}x=s>=a,d.push(t.bsCount[C]),t.bsCount[C]=t.sCount[C]+1+(G?1:0),p.push(t.sCount[C]),t.sCount[C]=R-re,y.push(t.tShift[C]),t.tShift[C]=s-t.bMarks[C];continue}if(x)break;let ne=!1;for(let re=0,G=_.length;re<G;re++)if(_[re](t,C,n,!0)){ne=!0;break}if(ne){t.lineMax=C,t.blkIndent!==0&&(f.push(t.bMarks[C]),d.push(t.bsCount[C]),y.push(t.tShift[C]),p.push(t.sCount[C]),t.sCount[C]-=t.blkIndent);break}f.push(t.bMarks[C]),d.push(t.bsCount[C]),y.push(t.tShift[C]),p.push(t.sCount[C]),t.sCount[C]=-1}const L=t.blkIndent;t.blkIndent=0;const V=t.push("blockquote_open","blockquote",1);V.markup=">";const H=[e,0];V.map=H,t.md.block.tokenize(t,e,C);const Q=t.push("blockquote_close","blockquote",-1);Q.markup=">",t.lineMax=l,t.parentType=w,H[1]=t.line;for(let $=0;$<y.length;$++)t.bMarks[$+e]=f[$],t.tShift[$+e]=y[$],t.sCount[$+e]=p[$],t.bsCount[$+e]=d[$];return t.blkIndent=L,!0}function HM(t,e,n,r){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.bMarks[e]+t.tShift[e];const l=t.src.charCodeAt(a++);if(l!==42&&l!==45&&l!==95)return!1;let f=1;for(;a<s;){const p=t.src.charCodeAt(a++);if(p!==l&&!Et(p))return!1;p===l&&f++}if(f<3)return!1;if(r)return!0;t.line=e+1;const d=t.push("hr","hr",0);return d.map=[e,t.line],d.markup=Array(f+1).join(String.fromCharCode(l)),!0}function tx(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(r++);if(s!==42&&s!==45&&s!==43)return-1;if(r<n){const a=t.src.charCodeAt(r);if(!Et(a))return-1}return r}function nx(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let s=n;if(s+1>=r)return-1;let a=t.src.charCodeAt(s++);if(a<48||a>57)return-1;for(;;){if(s>=r)return-1;if(a=t.src.charCodeAt(s++),a>=48&&a<=57){if(s-n>=10)return-1;continue}if(a===41||a===46)break;return-1}return s<r&&(a=t.src.charCodeAt(s),!Et(a))?-1:s}function GM(t,e){const n=t.level+2;for(let r=e+2,s=t.tokens.length-2;r<s;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function $M(t,e,n,r){let s,a,l,f,d=e,p=!0;if(t.sCount[d]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[d]-t.listIndent>=4&&t.sCount[d]<t.blkIndent)return!1;let y=!1;r&&t.parentType==="paragraph"&&t.sCount[d]>=t.blkIndent&&(y=!0);let _,w,x;if((x=nx(t,d))>=0){if(_=!0,l=t.bMarks[d]+t.tShift[d],w=Number(t.src.slice(l,x-1)),y&&w!==1)return!1}else if((x=tx(t,d))>=0)_=!1;else return!1;if(y&&t.skipSpaces(x)>=t.eMarks[d])return!1;if(r)return!0;const C=t.src.charCodeAt(x-1),L=t.tokens.length;_?(f=t.push("ordered_list_open","ol",1),w!==1&&(f.attrs=[["start",w]])):f=t.push("bullet_list_open","ul",1);const V=[d,0];f.map=V,f.markup=String.fromCharCode(C);let H=!1;const Q=t.md.block.ruler.getRules("list"),$=t.parentType;for(t.parentType="list";d<n;){a=x,s=t.eMarks[d];const ne=t.sCount[d]+x-(t.bMarks[d]+t.tShift[d]);let re=ne;for(;a<s;){const _e=t.src.charCodeAt(a);if(_e===9)re+=4-(re+t.bsCount[d])%4;else if(_e===32)re++;else break;a++}const G=a;let U;G>=s?U=1:U=re-ne,U>4&&(U=1);const R=ne+U;f=t.push("list_item_open","li",1),f.markup=String.fromCharCode(C);const I=[d,0];f.map=I,_&&(f.info=t.src.slice(l,x-1));const F=t.tight,z=t.tShift[d],q=t.sCount[d],N=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=R,t.tight=!0,t.tShift[d]=G-t.bMarks[d],t.sCount[d]=re,G>=s&&t.isEmpty(d+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,d,n,!0),(!t.tight||H)&&(p=!1),H=t.line-d>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=N,t.tShift[d]=z,t.sCount[d]=q,t.tight=F,f=t.push("list_item_close","li",-1),f.markup=String.fromCharCode(C),d=t.line,I[1]=d,d>=n||t.sCount[d]<t.blkIndent||t.sCount[d]-t.blkIndent>=4)break;let de=!1;for(let _e=0,me=Q.length;_e<me;_e++)if(Q[_e](t,d,n,!0)){de=!0;break}if(de)break;if(_){if(x=nx(t,d),x<0)break;l=t.bMarks[d]+t.tShift[d]}else if(x=tx(t,d),x<0)break;if(C!==t.src.charCodeAt(x-1))break}return _?f=t.push("ordered_list_close","ol",-1):f=t.push("bullet_list_close","ul",-1),f.markup=String.fromCharCode(C),V[1]=d,t.line=d,t.parentType=$,p&&GM(t,L),!0}function KM(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],a=t.eMarks[e],l=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==91)return!1;function f(Q){const $=t.lineMax;if(Q>=$||t.isEmpty(Q))return null;let ne=!1;if(t.sCount[Q]-t.blkIndent>3&&(ne=!0),t.sCount[Q]<0&&(ne=!0),!ne){const U=t.md.block.ruler.getRules("reference"),R=t.parentType;t.parentType="reference";let I=!1;for(let F=0,z=U.length;F<z;F++)if(U[F](t,Q,$,!0)){I=!0;break}if(t.parentType=R,I)return null}const re=t.bMarks[Q]+t.tShift[Q],G=t.eMarks[Q];return t.src.slice(re,G+1)}let d=t.src.slice(s,a+1);a=d.length;let p=-1;for(s=1;s<a;s++){const Q=d.charCodeAt(s);if(Q===91)return!1;if(Q===93){p=s;break}else if(Q===10){const $=f(l);$!==null&&(d+=$,a=d.length,l++)}else if(Q===92&&(s++,s<a&&d.charCodeAt(s)===10)){const $=f(l);$!==null&&(d+=$,a=d.length,l++)}}if(p<0||d.charCodeAt(p+1)!==58)return!1;for(s=p+2;s<a;s++){const Q=d.charCodeAt(s);if(Q===10){const $=f(l);$!==null&&(d+=$,a=d.length,l++)}else if(!Et(Q))break}const y=t.md.helpers.parseLinkDestination(d,s,a);if(!y.ok)return!1;const _=t.md.normalizeLink(y.str);if(!t.md.validateLink(_))return!1;s=y.pos;const w=s,x=l,C=s;for(;s<a;s++){const Q=d.charCodeAt(s);if(Q===10){const $=f(l);$!==null&&(d+=$,a=d.length,l++)}else if(!Et(Q))break}let L=t.md.helpers.parseLinkTitle(d,s,a);for(;L.can_continue;){const Q=f(l);if(Q===null)break;d+=Q,s=a,a=d.length,l++,L=t.md.helpers.parseLinkTitle(d,s,a,L)}let V;for(s<a&&C!==s&&L.ok?(V=L.str,s=L.pos):(V="",s=w,l=x);s<a;){const Q=d.charCodeAt(s);if(!Et(Q))break;s++}if(s<a&&d.charCodeAt(s)!==10&&V)for(V="",s=w,l=x;s<a;){const Q=d.charCodeAt(s);if(!Et(Q))break;s++}if(s<a&&d.charCodeAt(s)!==10)return!1;const H=dd(d.slice(1,p));return H?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[H]>"u"&&(t.env.references[H]={title:V,href:_}),t.line=l),!0):!1}const QM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],YM="[a-zA-Z_:][a-zA-Z0-9:._-]*",XM="[^\"'=<>`\\x00-\\x20]+",ZM="'[^']*'",WM='"[^"]*"',JM="(?:"+XM+"|"+ZM+"|"+WM+")",eL="(?:\\s+"+YM+"(?:\\s*=\\s*"+JM+")?)",u6="<[A-Za-z][A-Za-z0-9\\-]*"+eL+"*\\s*\\/?>",s6="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",tL="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",nL="<[?][\\s\\S]*?[?]>",rL="<![A-Za-z][^>]*>",iL="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",uL=new RegExp("^(?:"+u6+"|"+s6+"|"+tL+"|"+nL+"|"+rL+"|"+iL+")"),sL=new RegExp("^(?:"+u6+"|"+s6+")"),za=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+QM.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(sL.source+"\\s*$"),/^$/,!1]];function aL(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],a=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(s)!==60)return!1;let l=t.src.slice(s,a),f=0;for(;f<za.length&&!za[f][0].test(l);f++);if(f===za.length)return!1;if(r)return za[f][2];let d=e+1;if(!za[f][1].test(l)){for(;d<n&&!(t.sCount[d]<t.blkIndent);d++)if(s=t.bMarks[d]+t.tShift[d],a=t.eMarks[d],l=t.src.slice(s,a),za[f][1].test(l)){l.length!==0&&d++;break}}t.line=d;const p=t.push("html_block","",0);return p.map=[e,d],p.content=t.getLines(e,d,t.blkIndent,!0),!0}function oL(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],a=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let l=t.src.charCodeAt(s);if(l!==35||s>=a)return!1;let f=1;for(l=t.src.charCodeAt(++s);l===35&&s<a&&f<=6;)f++,l=t.src.charCodeAt(++s);if(f>6||s<a&&!Et(l))return!1;if(r)return!0;a=t.skipSpacesBack(a,s);const d=t.skipCharsBack(a,35,s);d>s&&Et(t.src.charCodeAt(d-1))&&(a=d),t.line=e+1;const p=t.push("heading_open","h"+String(f),1);p.markup="########".slice(0,f),p.map=[e,t.line];const y=t.push("inline","",0);y.content=t.src.slice(s,a).trim(),y.map=[e,t.line],y.children=[];const _=t.push("heading_close","h"+String(f),-1);return _.markup="########".slice(0,f),!0}function lL(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let a=0,l,f=e+1;for(;f<n&&!t.isEmpty(f);f++){if(t.sCount[f]-t.blkIndent>3)continue;if(t.sCount[f]>=t.blkIndent){let x=t.bMarks[f]+t.tShift[f];const C=t.eMarks[f];if(x<C&&(l=t.src.charCodeAt(x),(l===45||l===61)&&(x=t.skipChars(x,l),x=t.skipSpaces(x),x>=C))){a=l===61?1:2;break}}if(t.sCount[f]<0)continue;let w=!1;for(let x=0,C=r.length;x<C;x++)if(r[x](t,f,n,!0)){w=!0;break}if(w)break}if(!a)return!1;const d=t.getLines(e,f,t.blkIndent,!1).trim();t.line=f+1;const p=t.push("heading_open","h"+String(a),1);p.markup=String.fromCharCode(l),p.map=[e,t.line];const y=t.push("inline","",0);y.content=d,y.map=[e,t.line-1],y.children=[];const _=t.push("heading_close","h"+String(a),-1);return _.markup=String.fromCharCode(l),t.parentType=s,!0}function cL(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let a=e+1;for(t.parentType="paragraph";a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3||t.sCount[a]<0)continue;let p=!1;for(let y=0,_=r.length;y<_;y++)if(r[y](t,a,n,!0)){p=!0;break}if(p)break}const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a;const f=t.push("paragraph_open","p",1);f.map=[e,t.line];const d=t.push("inline","",0);return d.content=l,d.map=[e,t.line],d.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}const Wf=[["table",BM,["paragraph","reference"]],["code",zM],["fence",jM,["paragraph","reference","blockquote","list"]],["blockquote",qM,["paragraph","reference","blockquote","list"]],["hr",HM,["paragraph","reference","blockquote","list"]],["list",$M,["paragraph","reference","blockquote"]],["reference",KM],["html_block",aL,["paragraph","reference","blockquote"]],["heading",oL,["paragraph","reference","blockquote"]],["lheading",lL],["paragraph",cL]];function pd(){this.ruler=new jn;for(let t=0;t<Wf.length;t++)this.ruler.push(Wf[t][0],Wf[t][1],{alt:(Wf[t][2]||[]).slice()})}pd.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),s=r.length,a=t.md.options.maxNesting;let l=e,f=!1;for(;l<n&&(t.line=l=t.skipEmptyLines(l),!(l>=n||t.sCount[l]<t.blkIndent));){if(t.level>=a){t.line=n;break}const d=t.line;let p=!1;for(let y=0;y<s;y++)if(p=r[y](t,l,n,!1),p){if(d>=t.line)throw new Error("block rule didn't increment state.line");break}if(!p)throw new Error("none of the block rules matched");t.tight=!f,t.isEmpty(t.line-1)&&(f=!0),l=t.line,l<n&&t.isEmpty(l)&&(f=!0,l++,t.line=l)}};pd.prototype.parse=function(t,e,n,r){if(!t)return;const s=new this.State(t,e,n,r);this.tokenize(s,s.line,s.lineMax)};pd.prototype.State=gi;function yc(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}yc.prototype.pushPending=function(){const t=new Ur("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};yc.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new Ur(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};yc.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let a=t;for(;a<n&&this.src.charCodeAt(a)===r;)a++;const l=a-t,f=a<n?this.src.charCodeAt(a):32,d=Zl(s)||Xl(String.fromCharCode(s)),p=Zl(f)||Xl(String.fromCharCode(f)),y=Yl(s),_=Yl(f),w=!_&&(!p||y||d),x=!y&&(!d||_||p);return{can_open:w&&(e||!x||d),can_close:x&&(e||!w||p),length:l}};yc.prototype.Token=Ur;function fL(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function hL(t,e){let n=t.pos;for(;n<t.posMax&&!fL(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const dL=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function pL(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const s=t.pending.match(dL);if(!s)return!1;const a=s[1],l=t.md.linkify.matchAtStart(t.src.slice(n-a.length));if(!l)return!1;let f=l.url;if(f.length<=a.length)return!1;f=f.replace(/\*+$/,"");const d=t.md.normalizeLink(f);if(!t.md.validateLink(d))return!1;if(!e){t.pending=t.pending.slice(0,-a.length);const p=t.push("link_open","a",1);p.attrs=[["href",d]],p.markup="linkify",p.info="auto";const y=t.push("text","",0);y.content=t.md.normalizeLinkText(f);const _=t.push("link_close","a",-1);_.markup="linkify",_.info="auto"}return t.pos+=f.length-a.length,!0}function mL(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,s=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let a=r-1;for(;a>=1&&t.pending.charCodeAt(a-1)===32;)a--;t.pending=t.pending.slice(0,a),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&Et(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const p1=[];for(let t=0;t<256;t++)p1.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){p1[t.charCodeAt(0)]=1});function gL(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let s=t.src.charCodeAt(n);if(s===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(s=t.src.charCodeAt(n),!!Et(s));)n++;return t.pos=n,!0}let a=t.src[n];if(s>=55296&&s<=56319&&n+1<r){const f=t.src.charCodeAt(n+1);f>=56320&&f<=57343&&(a+=t.src[n+1],n++)}const l="\\"+a;if(!e){const f=t.push("text_special","",0);s<256&&p1[s]!==0?f.content=a:f.content=l,f.markup=l,f.info="escape"}return t.pos=n+1,!0}function yL(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const s=n;n++;const a=t.posMax;for(;n<a&&t.src.charCodeAt(n)===96;)n++;const l=t.src.slice(s,n),f=l.length;if(t.backticksScanned&&(t.backticks[f]||0)<=s)return e||(t.pending+=l),t.pos+=f,!0;let d=n,p;for(;(p=t.src.indexOf("`",d))!==-1;){for(d=p+1;d<a&&t.src.charCodeAt(d)===96;)d++;const y=d-p;if(y===f){if(!e){const _=t.push("code_inline","code",0);_.markup=l,_.content=t.src.slice(n,p).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=d,!0}t.backticks[y]=p}return t.backticksScanned=!0,e||(t.pending+=l),t.pos+=f,!0}function _L(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const s=t.scanDelims(t.pos,!0);let a=s.length;const l=String.fromCharCode(r);if(a<2)return!1;let f;a%2&&(f=t.push("text","",0),f.content=l,a--);for(let d=0;d<a;d+=2)f=t.push("text","",0),f.content=l+l,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0}function rx(t,e){let n;const r=[],s=e.length;for(let a=0;a<s;a++){const l=e[a];if(l.marker!==126||l.end===-1)continue;const f=e[l.end];n=t.tokens[l.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[f.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[f.token-1].type==="text"&&t.tokens[f.token-1].content==="~"&&r.push(f.token-1)}for(;r.length;){const a=r.pop();let l=a+1;for(;l<t.tokens.length&&t.tokens[l].type==="s_close";)l++;l--,a!==l&&(n=t.tokens[l],t.tokens[l]=t.tokens[a],t.tokens[a]=n)}}function bL(t){const e=t.tokens_meta,n=t.tokens_meta.length;rx(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&rx(t,e[r].delimiters)}const a6={tokenize:_L,postProcess:bL};function vL(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const s=t.scanDelims(t.pos,r===42);for(let a=0;a<s.length;a++){const l=t.push("text","",0);l.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0}function ix(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const s=e[r];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const a=e[s.end],l=r>0&&e[r-1].end===s.end+1&&e[r-1].marker===s.marker&&e[r-1].token===s.token-1&&e[s.end+1].token===a.token+1,f=String.fromCharCode(s.marker),d=t.tokens[s.token];d.type=l?"strong_open":"em_open",d.tag=l?"strong":"em",d.nesting=1,d.markup=l?f+f:f,d.content="";const p=t.tokens[a.token];p.type=l?"strong_close":"em_close",p.tag=l?"strong":"em",p.nesting=-1,p.markup=l?f+f:f,p.content="",l&&(t.tokens[e[r-1].token].content="",t.tokens[e[s.end+1].token].content="",r--)}}function EL(t){const e=t.tokens_meta,n=t.tokens_meta.length;ix(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&ix(t,e[r].delimiters)}const o6={tokenize:vL,postProcess:EL};function xL(t,e){let n,r,s,a,l="",f="",d=t.pos,p=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const y=t.pos,_=t.posMax,w=t.pos+1,x=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(x<0)return!1;let C=x+1;if(C<_&&t.src.charCodeAt(C)===40){for(p=!1,C++;C<_&&(n=t.src.charCodeAt(C),!(!Et(n)&&n!==10));C++);if(C>=_)return!1;if(d=C,s=t.md.helpers.parseLinkDestination(t.src,C,t.posMax),s.ok){for(l=t.md.normalizeLink(s.str),t.md.validateLink(l)?C=s.pos:l="",d=C;C<_&&(n=t.src.charCodeAt(C),!(!Et(n)&&n!==10));C++);if(s=t.md.helpers.parseLinkTitle(t.src,C,t.posMax),C<_&&d!==C&&s.ok)for(f=s.str,C=s.pos;C<_&&(n=t.src.charCodeAt(C),!(!Et(n)&&n!==10));C++);}(C>=_||t.src.charCodeAt(C)!==41)&&(p=!0),C++}if(p){if(typeof t.env.references>"u")return!1;if(C<_&&t.src.charCodeAt(C)===91?(d=C+1,C=t.md.helpers.parseLinkLabel(t,C),C>=0?r=t.src.slice(d,C++):C=x+1):C=x+1,r||(r=t.src.slice(w,x)),a=t.env.references[dd(r)],!a)return t.pos=y,!1;l=a.href,f=a.title}if(!e){t.pos=w,t.posMax=x;const L=t.push("link_open","a",1),V=[["href",l]];L.attrs=V,f&&V.push(["title",f]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=C,t.posMax=_,!0}function wL(t,e){let n,r,s,a,l,f,d,p,y="";const _=t.pos,w=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const x=t.pos+2,C=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(C<0)return!1;if(a=C+1,a<w&&t.src.charCodeAt(a)===40){for(a++;a<w&&(n=t.src.charCodeAt(a),!(!Et(n)&&n!==10));a++);if(a>=w)return!1;for(p=a,f=t.md.helpers.parseLinkDestination(t.src,a,t.posMax),f.ok&&(y=t.md.normalizeLink(f.str),t.md.validateLink(y)?a=f.pos:y=""),p=a;a<w&&(n=t.src.charCodeAt(a),!(!Et(n)&&n!==10));a++);if(f=t.md.helpers.parseLinkTitle(t.src,a,t.posMax),a<w&&p!==a&&f.ok)for(d=f.str,a=f.pos;a<w&&(n=t.src.charCodeAt(a),!(!Et(n)&&n!==10));a++);else d="";if(a>=w||t.src.charCodeAt(a)!==41)return t.pos=_,!1;a++}else{if(typeof t.env.references>"u")return!1;if(a<w&&t.src.charCodeAt(a)===91?(p=a+1,a=t.md.helpers.parseLinkLabel(t,a),a>=0?s=t.src.slice(p,a++):a=C+1):a=C+1,s||(s=t.src.slice(x,C)),l=t.env.references[dd(s)],!l)return t.pos=_,!1;y=l.href,d=l.title}if(!e){r=t.src.slice(x,C);const L=[];t.md.inline.parse(r,t.md,t.env,L);const V=t.push("image","img",0),H=[["src",y],["alt",""]];V.attrs=H,V.children=L,V.content=r,d&&H.push(["title",d])}return t.pos=a,t.posMax=w,!0}const TL=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AL=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function SL(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const l=t.src.charCodeAt(n);if(l===60)return!1;if(l===62)break}const a=t.src.slice(r+1,n);if(AL.test(a)){const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){const f=t.push("link_open","a",1);f.attrs=[["href",l]],f.markup="autolink",f.info="auto";const d=t.push("text","",0);d.content=t.md.normalizeLinkText(a);const p=t.push("link_close","a",-1);p.markup="autolink",p.info="auto"}return t.pos+=a.length+2,!0}if(TL.test(a)){const l=t.md.normalizeLink("mailto:"+a);if(!t.md.validateLink(l))return!1;if(!e){const f=t.push("link_open","a",1);f.attrs=[["href",l]],f.markup="autolink",f.info="auto";const d=t.push("text","",0);d.content=t.md.normalizeLinkText(a);const p=t.push("link_close","a",-1);p.markup="autolink",p.info="auto"}return t.pos+=a.length+2,!0}return!1}function kL(t){return/^<a[>\s]/i.test(t)}function CL(t){return/^<\/a\s*>/i.test(t)}function RL(t){const e=t|32;return e>=97&&e<=122}function DL(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const s=t.src.charCodeAt(r+1);if(s!==33&&s!==63&&s!==47&&!RL(s))return!1;const a=t.src.slice(r).match(uL);if(!a)return!1;if(!e){const l=t.push("html_inline","",0);l.content=a[0],kL(l.content)&&t.linkLevel++,CL(l.content)&&t.linkLevel--}return t.pos+=a[0].length,!0}const IL=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NL=/^&([a-z][a-z0-9]{1,31});/i;function OL(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const a=t.src.slice(n).match(IL);if(a){if(!e){const l=a[1][0].toLowerCase()==="x"?parseInt(a[1].slice(1),16):parseInt(a[1],10),f=t.push("text_special","",0);f.content=h1(l)?Ph(l):Ph(65533),f.markup=a[0],f.info="entity"}return t.pos+=a[0].length,!0}}else{const a=t.src.slice(n).match(NL);if(a){const l=e6(a[0]);if(l!==a[0]){if(!e){const f=t.push("text_special","",0);f.content=l,f.markup=a[0],f.info="entity"}return t.pos+=a[0].length,!0}}}return!1}function ux(t){const e={},n=t.length;if(!n)return;let r=0,s=-2;const a=[];for(let l=0;l<n;l++){const f=t[l];if(a.push(0),(t[r].marker!==f.marker||s!==f.token-1)&&(r=l),s=f.token,f.length=f.length||0,!f.close)continue;e.hasOwnProperty(f.marker)||(e[f.marker]=[-1,-1,-1,-1,-1,-1]);const d=e[f.marker][(f.open?3:0)+f.length%3];let p=r-a[r]-1,y=p;for(;p>d;p-=a[p]+1){const _=t[p];if(_.marker===f.marker&&_.open&&_.end<0){let w=!1;if((_.close||f.open)&&(_.length+f.length)%3===0&&(_.length%3!==0||f.length%3!==0)&&(w=!0),!w){const x=p>0&&!t[p-1].open?a[p-1]+1:0;a[l]=l-p+x,a[p]=x,f.open=!1,_.end=l,_.close=!1,y=-1,s=-2;break}}}y!==-1&&(e[f.marker][(f.open?3:0)+(f.length||0)%3]=y)}}function ML(t){const e=t.tokens_meta,n=t.tokens_meta.length;ux(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&ux(e[r].delimiters)}function LL(t){let e,n,r=0;const s=t.tokens,a=t.tokens.length;for(e=n=0;e<a;e++)s[e].nesting<0&&r--,s[e].level=r,s[e].nesting>0&&r++,s[e].type==="text"&&e+1<a&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}const Xp=[["text",hL],["linkify",pL],["newline",mL],["escape",gL],["backticks",yL],["strikethrough",a6.tokenize],["emphasis",o6.tokenize],["link",xL],["image",wL],["autolink",SL],["html_inline",DL],["entity",OL]],Zp=[["balance_pairs",ML],["strikethrough",a6.postProcess],["emphasis",o6.postProcess],["fragments_join",LL]];function _c(){this.ruler=new jn;for(let t=0;t<Xp.length;t++)this.ruler.push(Xp[t][0],Xp[t][1]);this.ruler2=new jn;for(let t=0;t<Zp.length;t++)this.ruler2.push(Zp[t][0],Zp[t][1])}_c.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,s=t.md.options.maxNesting,a=t.cache;if(typeof a[e]<"u"){t.pos=a[e];return}let l=!1;if(t.level<s){for(let f=0;f<r;f++)if(t.level++,l=n[f](t,!0),t.level--,l){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;l||t.pos++,a[e]=t.pos};_c.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,s=t.md.options.maxNesting;for(;t.pos<r;){const a=t.pos;let l=!1;if(t.level<s){for(let f=0;f<n;f++)if(l=e[f](t,!1),l){if(a>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};_c.prototype.parse=function(t,e,n,r){const s=new this.State(t,e,n,r);this.tokenize(s);const a=this.ruler2.getRules(""),l=a.length;for(let f=0;f<l;f++)a[f](s)};_c.prototype.State=yc;function PL(t){const e={};t=t||{},e.src_Any=Yw.source,e.src_Cc=Xw.source,e.src_Z=Ww.source,e.src_P=c1.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function Lm(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function md(t){return Object.prototype.toString.call(t)}function UL(t){return md(t)==="[object String]"}function FL(t){return md(t)==="[object Object]"}function VL(t){return md(t)==="[object RegExp]"}function sx(t){return md(t)==="[object Function]"}function BL(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const l6={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function zL(t){return Object.keys(t||{}).reduce(function(e,n){return e||l6.hasOwnProperty(n)},!1)}const jL={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},qL="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",HL="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function GL(t){t.__index__=-1,t.__text_cache__=""}function $L(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function ax(){return function(t,e){e.normalize(t)}}function Uh(t){const e=t.re=PL(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(qL),n.push(e.src_xn),e.src_tlds=n.join("|");function r(f){return f.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function a(f,d){throw new Error('(LinkifyIt) Invalid schema "'+f+'": '+d)}Object.keys(t.__schemas__).forEach(function(f){const d=t.__schemas__[f];if(d===null)return;const p={validate:null,link:null};if(t.__compiled__[f]=p,FL(d)){VL(d.validate)?p.validate=$L(d.validate):sx(d.validate)?p.validate=d.validate:a(f,d),sx(d.normalize)?p.normalize=d.normalize:d.normalize?a(f,d):p.normalize=ax();return}if(UL(d)){s.push(f);return}a(f,d)}),s.forEach(function(f){t.__compiled__[t.__schemas__[f]]&&(t.__compiled__[f].validate=t.__compiled__[t.__schemas__[f]].validate,t.__compiled__[f].normalize=t.__compiled__[t.__schemas__[f]].normalize)}),t.__compiled__[""]={validate:null,normalize:ax()};const l=Object.keys(t.__compiled__).filter(function(f){return f.length>0&&t.__compiled__[f]}).map(BL).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+l+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+l+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),GL(t)}function KL(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}function Pm(t,e){const n=new KL(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function ir(t,e){if(!(this instanceof ir))return new ir(t,e);e||zL(t)&&(e=t,t={}),this.__opts__=Lm({},l6,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Lm({},jL,t),this.__compiled__={},this.__tlds__=HL,this.__tlds_replaced__=!1,this.re={},Uh(this)}ir.prototype.add=function(e,n){return this.__schemas__[e]=n,Uh(this),this};ir.prototype.set=function(e){return this.__opts__=Lm(this.__opts__,e),this};ir.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,s,a,l,f,d,p,y;if(this.re.schema_test.test(e)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(e))!==null;)if(a=this.testSchemaAt(e,n[2],d.lastIndex),a){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+a;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(p=e.search(this.re.host_fuzzy_test),p>=0&&(this.__index__<0||p<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=r.index+r[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(y=e.indexOf("@"),y>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(l=s.index+s[1].length,f=s.index+s[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&f>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=f))),this.__index__>=0};ir.prototype.pretest=function(e){return this.re.pretest.test(e)};ir.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};ir.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(Pm(this,r)),r=this.__last_index__);let s=r?e.slice(r):e;for(;this.test(s);)n.push(Pm(this,r)),s=s.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};ir.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Pm(this,0)):null};ir.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,s,a){return r!==a[s-1]}).reverse(),Uh(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Uh(this),this)};ir.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};ir.prototype.onCompile=function(){};const Ja=2147483647,ii=36,m1=1,Wl=26,QL=38,YL=700,c6=72,f6=128,h6="-",XL=/^xn--/,ZL=/[^\0-\x7F]/,WL=/[\x2E\u3002\uFF0E\uFF61]/g,JL={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Wp=ii-m1,ui=Math.floor,Jp=String.fromCharCode;function Lu(t){throw new RangeError(JL[t])}function eP(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function d6(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(WL,".");const s=t.split("."),a=eP(s,e).join(".");return r+a}function p6(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const a=t.charCodeAt(n++);(a&64512)==56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}const tP=t=>String.fromCodePoint(...t),nP=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:ii},ox=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},m6=function(t,e,n){let r=0;for(t=n?ui(t/YL):t>>1,t+=ui(t/e);t>Wp*Wl>>1;r+=ii)t=ui(t/Wp);return ui(r+(Wp+1)*t/(t+QL))},g6=function(t){const e=[],n=t.length;let r=0,s=f6,a=c6,l=t.lastIndexOf(h6);l<0&&(l=0);for(let f=0;f<l;++f)t.charCodeAt(f)>=128&&Lu("not-basic"),e.push(t.charCodeAt(f));for(let f=l>0?l+1:0;f<n;){const d=r;for(let y=1,_=ii;;_+=ii){f>=n&&Lu("invalid-input");const w=nP(t.charCodeAt(f++));w>=ii&&Lu("invalid-input"),w>ui((Ja-r)/y)&&Lu("overflow"),r+=w*y;const x=_<=a?m1:_>=a+Wl?Wl:_-a;if(w<x)break;const C=ii-x;y>ui(Ja/C)&&Lu("overflow"),y*=C}const p=e.length+1;a=m6(r-d,p,d==0),ui(r/p)>Ja-s&&Lu("overflow"),s+=ui(r/p),r%=p,e.splice(r++,0,s)}return String.fromCodePoint(...e)},y6=function(t){const e=[];t=p6(t);const n=t.length;let r=f6,s=0,a=c6;for(const d of t)d<128&&e.push(Jp(d));const l=e.length;let f=l;for(l&&e.push(h6);f<n;){let d=Ja;for(const y of t)y>=r&&y<d&&(d=y);const p=f+1;d-r>ui((Ja-s)/p)&&Lu("overflow"),s+=(d-r)*p,r=d;for(const y of t)if(y<r&&++s>Ja&&Lu("overflow"),y===r){let _=s;for(let w=ii;;w+=ii){const x=w<=a?m1:w>=a+Wl?Wl:w-a;if(_<x)break;const C=_-x,L=ii-x;e.push(Jp(ox(x+C%L,0))),_=ui(C/L)}e.push(Jp(ox(_,0))),a=m6(s,p,f===l),s=0,++f}++s,++r}return e.join("")},rP=function(t){return d6(t,function(e){return XL.test(e)?g6(e.slice(4).toLowerCase()):e})},iP=function(t){return d6(t,function(e){return ZL.test(e)?"xn--"+y6(e):e})},_6={version:"2.3.1",ucs2:{decode:p6,encode:tP},decode:g6,encode:y6,toASCII:iP,toUnicode:rP},uP={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},sP={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},aP={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},oP={default:uP,zero:sP,commonmark:aP},lP=/^(vbscript|javascript|file|data):/,cP=/^data:image\/(gif|png|jpeg|webp);/;function fP(t){const e=t.trim().toLowerCase();return lP.test(e)?cP.test(e):!0}const b6=["http:","https:","mailto:"];function hP(t){const e=l1(t,!0);if(e.hostname&&(!e.protocol||b6.indexOf(e.protocol)>=0))try{e.hostname=_6.toASCII(e.hostname)}catch{}return gc(o1(e))}function dP(t){const e=l1(t,!0);if(e.hostname&&(!e.protocol||b6.indexOf(e.protocol)>=0))try{e.hostname=_6.toUnicode(e.hostname)}catch{}return fo(o1(e),fo.defaultChars+"%")}function ur(t,e){if(!(this instanceof ur))return new ur(t,e);e||f1(t)||(e=t||{},t="default"),this.inline=new _c,this.block=new pd,this.core=new d1,this.renderer=new xo,this.linkify=new ir,this.validateLink=fP,this.normalizeLink=hP,this.normalizeLinkText=dP,this.utils=mM,this.helpers=hd({},bM),this.options={},this.configure(t),e&&this.set(e)}ur.prototype.set=function(t){return hd(this.options,t),this};ur.prototype.configure=function(t){const e=this;if(f1(t)){const n=t;if(t=oP[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};ur.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(s){return n.indexOf(s)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};ur.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(s){return n.indexOf(s)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};ur.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};ur.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};ur.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};ur.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};ur.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const v6=(t,e)=>{const n=`
    @page { size: A4 landscape; margin: 1cm; }
    body { font-family: sans-serif; padding: 0; font-size: 14px; }
    .page { display: flex; align-items: stretch; page-break-after: always; height: calc(100vh - 2cm); }
    .page:last-child { page-break-after: auto; }
    .side { width: 20%; overflow: hidden; }
    .side img { width: 100%; height: 100%; object-fit: cover; object-position: center; }
    .content { width: 60%; padding: 0 10px; box-sizing: border-box; }
    h1 { text-align: center; margin: 0 0 10px; }
    .desc { margin-bottom: 10px; }
    .desc p { margin: 0 0 4px; }
    .tags { margin-bottom: 10px; }
    .tags span { background: #eee; padding: 2px 4px; margin-right: 4px; border-radius: 3px; }
    .author { text-align: right; }
  `,r=new ur({html:!1,breaks:!0}),s=t.map(f=>{const d=e[f.authorUid],p=f.tags.map(_=>`<span>${_}</span>`).join(" "),y=r.render(f.customDescription);return`
        <div class="page">
          <div class="side"><img src="${f.imageURL||"/eotv-enemy-placeholder.png"}" /></div>
          <div class="content">
            <h1>${f.name}</h1>
            <div class="desc">${y}</div>
            <div class="tags">${p}</div>
            <div class="author">${d?d.displayName:""}</div>
          </div>
          <div class="side">${f.imageURL2?`<img src="${f.imageURL2}" />`:""}</div>
        </div>`}).join(""),a=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Print</title>
  <style>${n}</style>
</head>
<body onload="window.print()">
${s}
</body>
</html>`,l=window.open("","_blank");l&&(l.document.write(a),l.document.close())},pP=({enemy:t,onClose:e})=>{const[n,r]=te.useState(t.name),[s,a]=te.useState(t.customDescription),[l,f]=te.useState(t.tags||[]),[d,p]=te.useState(t.imageURL||""),[y,_]=te.useState(t.imageURL2||""),[w,x]=te.useState(t.draft??!1),C=te.useRef(!0),L=te.useCallback(async()=>{const V=Xi(Pr,"eotv-enemies",t.id),H={name:n,customDescription:s,tags:l,imageURL:d,imageURL2:y,...w?{draft:!0}:{draft:J5()}};t.createdAt||(H.createdAt=new Date().toISOString()),await Tg(V,H)},[t.id,n,s,l,d,y,w]);return te.useEffect(()=>{if(C.current){C.current=!1;return}const V=setTimeout(()=>{L()},800);return()=>clearTimeout(V)},[n,s,l,d,y,w,L]),B.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full flex flex-col sm:flex-row shadow-lg h-full max-w-7xl overflow-hidden",children:[B.jsx(Nh,{imageURL:d,setImageURL:p,ownerUid:t.authorUid}),B.jsx(cw,{name:n,setName:r,customDescription:s,setCustomDescription:a,selectedTags:l,setSelectedTags:f,children:B.jsx("div",{className:"py-2",children:B.jsx(hw,{draft:w,setDraft:x})})}),B.jsx(Nh,{imageURL:y,setImageURL:_,ownerUid:t.authorUid,placeholder:"/eotv-enemy-location-placeholder.png"}),B.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:B.jsx(Ys,{className:"w-6 h-6"})})]})},mP=({user:t,anchor:e,onClose:n})=>{const r=te.useRef(null),[s,a]=te.useState({top:e.top,left:e.left}),l=te.useRef(new ur({linkify:!0,breaks:!0}));return te.useEffect(()=>{const f=l.current,d=f.renderer.rules.link_open||((p,y,_,w,x)=>x.renderToken(p,y,_));f.renderer.rules.link_open=(p,y,_,w,x)=>(p[y].attrPush(["target","_blank"]),p[y].attrPush(["rel","noopener noreferrer"]),d(p,y,_,w,x))},[]),te.useLayoutEffect(()=>{if(r.current){const f=r.current.getBoundingClientRect(),d=Math.max(0,e.top-f.height-4);a({top:d,left:e.left})}},[e]),te.useEffect(()=>{const f=p=>{r.current&&!r.current.contains(p.target)&&n()},d=p=>{p.key==="Escape"&&n()};return document.addEventListener("mousedown",f),document.addEventListener("keydown",d),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",d)}},[n]),B.jsxs("div",{ref:r,role:"dialog",className:"fixed z-50 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-md p-4 shadow-lg",style:{top:s.top,left:s.left},children:[B.jsx("button",{onClick:n,className:"absolute top-1 right-1 text-gray-400 hover:text-gray-700",children:B.jsx(Ys,{className:"w-4 h-4"})}),B.jsx("h3",{className:"text-sm font-bold mb-2",children:t.displayName}),B.jsx("div",{className:"text-xs max-w-xs whitespace-pre-line [&_a]:text-blue-600 [&_a]:underline hover:[&_a]:underline",dangerouslySetInnerHTML:{__html:l.current.render(t.about||"")}})]})},gP=({enemy:t,author:e,onPrev:n,onNext:r,close:s,onDelete:a})=>{var U;const l=Qs(),f=te.useRef(null),[d,p]=te.useState(!1),[y,_]=te.useState(!1),[w,x]=te.useState(!1),[C,L]=te.useState(!1),[V,H]=te.useState(null),Q=!!l&&((U=t.likedBy)==null?void 0:U.includes(l.uid)),$=async()=>{if(!l||!t.id){_(!0);return}const R=Xi(Pr,"eotv-enemies",t.id);await Tg(R,{likedBy:Q?r3(l.uid):n3(l.uid)})},ne=async()=>{if(!t.id)return;const R=`${window.location.origin}${window.location.pathname}?enemy=${t.id}`;try{await navigator.clipboard.writeText(R),x(!0),setTimeout(()=>x(!1),2e3)}catch(I){console.error("Failed to copy link",I)}},re=()=>{const R={};e&&(R[t.authorUid]=e),v6([t],R)};te.useEffect(()=>{const R=I=>{I.key==="Escape"?C?L(!1):d?p(!1):s():!d&&!C&&I.key==="ArrowLeft"?n():!d&&!C&&I.key==="ArrowRight"&&r()};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[d,C,s,n,r]);const G=R=>{f.current===R.target&&(C?L(!1):(s(),p(!1)))};return B.jsxs(B.Fragment,{children:[y&&B.jsx($g,{open:y,onClose:()=>_(!1),message:"   "}),B.jsx("div",{ref:f,onClick:G,className:"text-gray-900 dark:text-white shadow-lg cursor-pointer  overflow-hidden fixed z-40 inset-0 p-5  bg-gray-500 dark:bg-black flex justify-center items-center",children:d?B.jsx(pP,{enemy:t,onClose:()=>p(!1)}):B.jsx(B.Fragment,{children:B.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full flex flex-col sm:flex-row shadow-lg h-full max-w-7xl overflow-hidden",children:[B.jsx("img",{src:t.imageURL||"/eotv-enemy-placeholder.png",alt:t.name,className:"w-full sm:w-3/14 h-40 sm:h-auto object-cover"}),B.jsxs("div",{className:"sm:w-4/7 w-full flex flex-col px-6 overflow-y-auto",children:[B.jsx("h2",{className:"text-2xl font-bold text-center p-6 pt-10",children:t.name}),B.jsx(gO,{remarkPlugins:[CO],components:{p:({node:R,...I})=>B.jsx("p",{className:"text-sm mt-2",...I}),strong:({node:R,...I})=>B.jsx("strong",{className:"font-bold",...I}),em:({node:R,...I})=>B.jsx("em",{className:"italic",...I}),ul:({node:R,...I})=>B.jsx("ul",{className:"list-disc list-inside mt-2",...I}),li:({node:R,...I})=>B.jsx("li",{className:"ml-4",...I})},children:t.customDescription})]}),t.imageURL2&&B.jsx("img",{src:t.imageURL2,alt:"Extra",className:"w-full sm:w-3/14 h-40 sm:h-auto object-cover"}),B.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:B.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((R,I)=>B.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:R},I))})}),B.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[B.jsx("span",{className:"text-sm hover:underline cursor-pointer",onClick:R=>{H(R.currentTarget.getBoundingClientRect()),L(!0)},children:(e==null?void 0:e.displayName)||"Unknown"}),B.jsx("img",{src:e==null?void 0:e.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-500"})]}),B.jsxs("div",{className:"absolute top-2 right-10 flex gap-2",children:[B.jsx("button",{onClick:$,title:Q?"":"",className:"text-gray-300 hover:scale-110 transition",children:Q?B.jsx(Gg,{className:"w-6 h-6"}):B.jsx(qg,{className:"w-6 h-6"})}),B.jsx("button",{onClick:ne,title:"",className:"text-gray-300 hover:scale-110 transition",children:B.jsx(N9,{className:"w-6 h-6"})}),B.jsx("button",{onClick:re,title:"",className:"text-gray-300 hover:scale-110 transition",children:B.jsx(ow,{className:"w-6 h-6"})}),l&&l.uid===t.authorUid&&B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:()=>p(!0),className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:B.jsx(M9,{className:"w-6 h-6"})}),B.jsx("button",{onClick:a,className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:B.jsx(B9,{className:"w-6 h-6"})})]})]}),w&&B.jsx("div",{className:"absolute top-10 right-10 bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white text-xs px-2 py-1 rounded-md shadow",children:" "}),B.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer drop-shadow-xl",children:B.jsx(Ys,{className:"w-6 h-6"})}),B.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-200 dark:bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:n,children:B.jsx(T9,{className:"w-5 h-5 text-gray-900 dark:text-white"})}),B.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-200 dark:bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:r,children:B.jsx(S9,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]})})},t.id),e&&C&&V&&B.jsx(mP,{user:e,anchor:V,onClose:()=>L(!1)})]})},g1=()=>B.jsxs("footer",{className:"text-center text-gray-600 dark:text-gray-400 p-4 flex items-center justify-center gap-2",children:[B.jsx("span",{children:"Eugen Zha"}),B.jsxs("a",{href:"https://t.me/d320stories",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 link",children:[B.jsx("img",{src:"/telegram.svg",alt:"Telegram",className:"w-5 h-5"}),"t.me/d320stories"]}),B.jsxs("a",{href:"https://github.com/nightskylark/d320",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 link",children:[B.jsx("img",{src:"/github.svg",alt:"GItHub",className:"w-5 h-5"}),"github.com/nightskylark/d320"]})]}),yP=(t,e,n,r)=>{const s=S3(uw,`avatars/${t}/${e.name}`),a=T3(s,e);a.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;r(f)},l=>{console.error(" :",l)},async()=>{const l=await A3(a.snapshot.ref);n(l)})},_P=({avatarURL:t,setAvatarURL:e,ownerUid:n,className:r})=>{const[s,a]=te.useState(0),l=d=>{d&&yP(n,d,e,a)},f=d=>{d.preventDefault(),l(d.dataTransfer.files[0])};return B.jsxs("div",{className:`flex items-center justify-center bg-gray-200 dark:bg-gray-800 relative overflow-hidden group ${r||""}`,onDrop:f,onDragOver:d=>d.preventDefault(),children:[t&&B.jsx("img",{src:t,className:"object-cover w-full h-full",alt:""}),B.jsx("input",{type:"file",accept:"image/*",onChange:d=>l(d.target.files&&d.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),B.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[B.jsx(aw,{className:"w-8 h-8"}),B.jsx("span",{className:"text-xs",children:"   "})]}),s>0&&s<100&&B.jsxs("span",{className:"absolute bottom-2 left-10 text-xs bg-black/60 px-1 rounded",children:[s.toFixed(0),"%"]})]})},bP=({onClose:t})=>{const e=Qs(),n=b9(),[r,s]=te.useState((e==null?void 0:e.displayName)||""),[a,l]=te.useState((e==null?void 0:e.photoURL)||""),[f,d]=te.useState(""),p=te.useRef(null);te.useEffect(()=>{const _=x=>{p.current&&!p.current.contains(x.target)&&t()},w=x=>{x.key==="Escape"&&t()};return document.addEventListener("mousedown",_),document.addEventListener("keydown",w),()=>{document.removeEventListener("mousedown",_),document.removeEventListener("keydown",w)}},[t]),te.useEffect(()=>{(async()=>{if(!e)return;const w=await J2(Xi(Pr,"users",e.uid));if(w.exists()){const x=w.data();d(x.about||"")}})()},[e]);const y=async()=>{if(!e)return;await J8(e,{displayName:r,photoURL:a}),await e.reload();const _=Kl.currentUser,w=_&&Object.assign(Object.create(Object.getPrototypeOf(_)),_);n(w),await e3(Xi(Pr,"users",e.uid),{displayName:r,photoURL:a,about:f},{merge:!0}),t()};return e?B.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5 bg-gray-500 dark:bg-black flex items-center justify-center",onClick:t,children:B.jsxs("div",{ref:p,role:"dialog",onClick:_=>_.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-md flex flex-col shadow-lg overflow-hidden p-6 items-center",children:[B.jsx(_P,{avatarURL:a,setAvatarURL:l,ownerUid:e.uid,className:"w-32 h-32 rounded-full"}),B.jsx("input",{type:"text",value:r,onChange:_=>s(_.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue"}),B.jsx("textarea",{value:f,onChange:_=>d(_.target.value),placeholder:" ",className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue"}),B.jsxs("div",{className:"flex gap-4 mt-6 w-full",children:[B.jsxs("button",{type:"button",onClick:t,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-500 transition cursor-pointer",children:[B.jsx(Ys,{className:"w-5 h-5"}),""]}),B.jsx("button",{type:"button",onClick:y,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:""})]})]})}):null},vP=ed(Pr,"users"),EP=()=>{const t=Qs(),[e,n]=te.useState(!1),[r,s]=te.useState(!1),a=te.useRef(null);te.useEffect(()=>{if(!t)return;const p=Xi(vP,t.uid);e3(p,{displayName:t.displayName||"Unknown",photoURL:t.photoURL||""},{merge:!0})},[t]),te.useEffect(()=>{const p=y=>{a.current&&!a.current.contains(y.target)&&n(!1)};return e&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[e]);const l=async()=>{const p=new Mr;await rw(Kl,p)},f=async()=>{await rR(Kl)},d=()=>{s(!0),n(!1)};return B.jsx("div",{className:"relative flex items-center gap-4",children:t?B.jsxs(B.Fragment,{children:[B.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 focus:outline-none hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-1 cursor-pointer",children:[B.jsx("img",{src:t.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-600 shadow"}),B.jsx("span",{className:"text-sm",children:t.displayName||"Unknown"})]}),e&&B.jsxs("div",{ref:a,className:"absolute right-0 top-full mt-2 w-40 bg-white dark:bg-gray-800 rounded shadow-lg text-sm",children:[B.jsxs("button",{onClick:d,className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[B.jsx(C9,{className:"w-5 h-5"}),""]}),B.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-red-400 cursor-pointer",children:[B.jsx(E9,{className:"w-5 h-5"}),""]})]}),r&&B.jsx(bP,{onClose:()=>s(!1)})]}):B.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-700 dark:bg-sky-300 hover:bg-blue-500 dark:hover:bg-sky-200 text-white dark:text-black font-semibold rounded transition cursor-pointer",children:"  Google"})})},xP=()=>{const[t,e]=te.useState(()=>localStorage.getItem("theme")!=="light");te.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{e(s=>!s)},r=t?"translate-x-6":"";return B.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[B.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!t,onChange:n}),B.jsxs("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer-focus:ring-2 peer-focus:ring-blue-700 dark:peer-focus:ring-sky-300 dark:bg-gray-600",children:[B.jsx(W9,{className:"absolute left-1 top-1 w-4 h-4 text-yellow-400"}),B.jsx(Q9,{className:"absolute right-1 top-1 w-4 h-4 text-blue-700"}),B.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${r}`})]})]})},y1=()=>B.jsx("header",{className:"text-gray-900 dark:text-sky-300",children:B.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"flex h-16 items-center justify-between",children:[B.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[B.jsx("img",{src:"/logo.png",alt:"d320",className:"w-10 h-10"}),B.jsx("h1",{className:"text-2xl font-bold text-blue-700 dark:text-sky-300",children:"d320"})]}),B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsx(xP,{}),B.jsx(EP,{})]})]})})}),wP=({search:t,setSearch:e,tag:n,setTag:r,liked:s,setLiked:a,author:l,setAuthor:f,sort:d,setSort:p,draft:y,setDraft:_,authors:w,onPrint:x,count:C,onRandom:L})=>{const V=Hg(),H=Qs(),[Q,$]=te.useState(!1),ne=te.useRef(null),re=l?w[l]:void 0;return te.useEffect(()=>{if(!Q)return;const G=R=>{ne.current&&!ne.current.contains(R.target)&&$(!1)},U=R=>{R.key==="Escape"&&$(!1)};return document.addEventListener("mousedown",G),document.addEventListener("keydown",U),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("keydown",U)}},[Q]),B.jsxs("div",{className:"flex flex-wrap gap-4 mx-2 my-4 items-center",children:[B.jsx("input",{type:"text",placeholder:"",value:t,onChange:G=>e(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white flex-1 h-10"}),H&&B.jsxs("button",{type:"button",title:"",onClick:()=>a(!s),className:"text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 transition flex items-center gap-1 h-10 px-2 cursor-pointer",children:[s?B.jsx(Gg,{className:"w-5 h-5"}):B.jsx(qg,{className:"w-5 h-5"}),B.jsx("span",{className:"text-sm",children:""})]}),B.jsxs("select",{value:n,onChange:G=>r(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[B.jsx("option",{value:"",children:" "}),V.map(G=>B.jsx("option",{value:G,children:G},G))]}),B.jsxs("div",{className:"relative",children:[B.jsxs("button",{type:"button",onClick:()=>$(G=>!G),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white flex items-center gap-2 h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[re&&B.jsx("img",{src:re.photoURL,alt:"avatar",className:"w-6 h-6 rounded-full"}),B.jsx("span",{children:re?re.displayName:""})]}),Q&&B.jsxs("div",{ref:ne,className:"absolute left-0 z-10 bg-white dark:bg-gray-800 rounded shadow p-2 mt-1 max-h-60 overflow-y-auto w-48",children:[B.jsx("div",{className:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{f(""),$(!1)},children:B.jsx("span",{children:" "})}),Object.entries(w).map(([G,U])=>B.jsxs("div",{className:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{f(G),$(!1)},children:[B.jsx("img",{src:U.photoURL,alt:U.displayName,className:"w-6 h-6 rounded-full"}),B.jsx("span",{children:U.displayName})]},G))]})]}),H&&B.jsxs("select",{value:y,onChange:G=>_(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[B.jsx("option",{value:"all",children:" "}),B.jsx("option",{value:"draft",children:""}),B.jsx("option",{value:"published",children:""})]}),B.jsxs("button",{type:"button",onClick:()=>{e(""),r(""),a(!1),f(""),p("name"),_("all")},className:"flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:[B.jsx(Ys,{className:"w-5 h-5"})," "]}),B.jsx("span",{className:"text-sm",children:":"}),B.jsxs("select",{value:d,onChange:G=>p(G.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[B.jsx("option",{value:"name",children:" "}),B.jsx("option",{value:"date",children:" "})]}),B.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[B.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-300",children:[": ",C]}),B.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:[B.jsx(D9,{className:"w-6 h-6"}),""]}),B.jsxs("button",{type:"button",onClick:x,className:"flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:[B.jsx(ow,{className:"w-6 h-6"}),""]})]})]})},TP=async t=>{const e={};return await Promise.all(t.map(async n=>{const r=await J2(Xi(Pr,"users",n));r.exists()&&(e[n]=r.data())})),e},AP=()=>{const[t,e]=te.useState([]),[n,r]=te.useState({}),[s,a]=te.useState(null),[l,f]=te.useState(null),[d,p]=te.useState(""),[y,_]=te.useState(""),[w,x]=te.useState(!1),[C,L]=te.useState(""),[V,H]=te.useState("name"),[Q,$]=te.useState("all"),ne=Qs();te.useEffect(()=>W5(sw,de=>{const _e=de.docs.map(me=>({id:me.id,...me.data()}));e(_e)}),[]),te.useEffect(()=>{const de=new URLSearchParams(window.location.search).get("enemy");de&&f(de)},[]),te.useEffect(()=>{const N=[...new Set(t.map(de=>de.authorUid))];TP(N).then(r)},[t,ne]);const re=async N=>{ne&&window.confirm("  ?")&&(await X5(Xi(Pr,"eotv-enemies",N)),a(null))},G=()=>{v6(R,n)},U=d.toLowerCase();let R=t.filter(N=>(!N.draft||ne&&N.authorUid===ne.uid)&&(N.name.toLowerCase().includes(U)||N.customDescription.toLowerCase().includes(U)||N.tags.some(de=>de.toLowerCase().includes(U))));y&&(R=R.filter(N=>N.tags.includes(y))),w&&ne&&(R=R.filter(N=>{var de;return(de=N.likedBy)==null?void 0:de.includes(ne.uid)})),C&&(R=R.filter(N=>N.authorUid===C)),Q==="draft"?R=R.filter(N=>N.draft):Q==="published"&&(R=R.filter(N=>!N.draft)),R=[...R],V==="name"?R.sort((N,de)=>N.name.localeCompare(de.name)):R.sort((N,de)=>{const _e=N.createdAt?new Date(N.createdAt).getTime():0;return(de.createdAt?new Date(de.createdAt).getTime():0)-_e}),te.useEffect(()=>{if(!l)return;const N=R.findIndex(de=>de.id===l);N!==-1&&(a(N),f(null))},[R,l]);const I=()=>{!R.length||s===null||a((s+1)%R.length)},F=()=>{if(!R.length)return;const N=Math.floor(Math.random()*R.length);a(N)},z=()=>{!R.length||s===null||a((s-1+R.length)%R.length)},q=s!==null?R[s]:null;return te.useEffect(()=>{if(q===null)return;const N=de=>{const _e=de.target;_e&&(_e.closest("input")||_e.closest("textarea")||_e.closest("[contenteditable]"))||(de.key==="ArrowLeft"?z():de.key==="ArrowRight"?I():de.key==="Escape"&&a(null))};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[q,z,I]),te.useEffect(()=>{const N=new URLSearchParams(window.location.search);q?N.set("enemy",q.id):N.delete("enemy");const de=N.toString(),_e=de?`${window.location.pathname}?${de}`:window.location.pathname;window.history.replaceState(null,"",_e)},[q]),B.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-slate-900 dark:text-sky-200",children:[B.jsx(y1,{}),B.jsxs("main",{className:"flex-1 p-6 max-w-screen-xl mx-auto",children:[B.jsx("h2",{className:"text-3xl font-bold text-center",children:"     "}),B.jsxs("p",{className:"text-center text-gray-400 p-4",children:["  : ",B.jsxs("a",{className:"link",href:"http://eotvrpg.ru/",target:"_blank",children:[B.jsx("img",{src:"/eotv-logo.png",alt:"EOTV",className:"w-5 h-5 inline-block"}),"eotvrpg.ru"]})]}),B.jsx(wP,{search:d,setSearch:p,tag:y,setTag:_,liked:w,setLiked:x,author:C,setAuthor:L,draft:Q,setDraft:$,sort:V,setSort:H,authors:n,onPrint:G,count:R.length,onRandom:F}),B.jsx(tD,{enemies:R,users:n,onSelect:a})]}),q&&B.jsx(gP,{enemy:q,author:n[q.authorUid],onPrev:z,onNext:I,close:()=>a(null),onDelete:()=>re(q.id)}),B.jsx(g1,{})]})},SP=()=>B.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-slate-900 dark:text-sky-200",children:[B.jsx(y1,{}),B.jsxs("main",{className:"flex-1 p-6 max-w-screen-xl mx-auto flex flex-col sm:flex-row gap-6 justify-center items-center",children:[B.jsx("a",{href:"/eotv-enemies/",className:"block w-full sm:w-80 h-56 hover:scale-110 rounded-lg overflow-hidden shadow-lg transition-all duration-300 ease-in-out",children:B.jsx("img",{src:"/eotv-enemies.png",alt:" ",className:"object-cover w-full h-full"})}),B.jsx("a",{href:"/eotv-generators/",className:"block w-full sm:w-80 h-56 hover:scale-110 rounded-lg overflow-hidden shadow-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center transition-all duration-300 ease-in-out",children:B.jsx("span",{className:"text-center px-4 font-bold",children:"   "})})]}),B.jsx(g1,{})]}),kP=()=>B.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-slate-900 dark:text-sky-200",children:[B.jsx(y1,{}),B.jsxs("main",{className:"flex-1 p-6 max-w-screen-xl mx-auto",children:[B.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"   "}),B.jsx("p",{className:"text-center",children:" "})]}),B.jsx(g1,{})]}),CP=l4.createRoot(document.getElementById("root")),lx=window.location.pathname;let ch;lx.startsWith("/eotv-enemies")?ch=B.jsx(q9,{children:B.jsx(AP,{})}):lx.startsWith("/eotv-generators")?ch=B.jsx(kP,{}):ch=B.jsx(SP,{});CP.render(B.jsx(t4.StrictMode,{children:B.jsx(_9,{children:ch})}));
