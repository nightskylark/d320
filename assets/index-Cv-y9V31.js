(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function xu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={},tu={},dv;function VA(){if(dv)return tu;dv=1,tu.byteLength=f,tu.toByteArray=m,tu.fromByteArray=R;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)t[a]=i[a],e[i.charCodeAt(a)]=a;e[45]=62,e[95]=63;function c(b){var U=b.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=b.indexOf("=");L===-1&&(L=U);var F=L===U?0:4-L%4;return[L,F]}function f(b){var U=c(b),L=U[0],F=U[1];return(L+F)*3/4-F}function p(b,U,L){return(U+L)*3/4-L}function m(b){var U,L=c(b),F=L[0],G=L[1],te=new n(p(b,F,G)),ee=0,pe=G>0?F-4:F,ce;for(ce=0;ce<pe;ce+=4)U=e[b.charCodeAt(ce)]<<18|e[b.charCodeAt(ce+1)]<<12|e[b.charCodeAt(ce+2)]<<6|e[b.charCodeAt(ce+3)],te[ee++]=U>>16&255,te[ee++]=U>>8&255,te[ee++]=U&255;return G===2&&(U=e[b.charCodeAt(ce)]<<2|e[b.charCodeAt(ce+1)]>>4,te[ee++]=U&255),G===1&&(U=e[b.charCodeAt(ce)]<<10|e[b.charCodeAt(ce+1)]<<4|e[b.charCodeAt(ce+2)]>>2,te[ee++]=U>>8&255,te[ee++]=U&255),te}function y(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function T(b,U,L){for(var F,G=[],te=U;te<L;te+=3)F=(b[te]<<16&16711680)+(b[te+1]<<8&65280)+(b[te+2]&255),G.push(y(F));return G.join("")}function R(b){for(var U,L=b.length,F=L%3,G=[],te=16383,ee=0,pe=L-F;ee<pe;ee+=te)G.push(T(b,ee,ee+te>pe?pe:ee+te));return F===1?(U=b[L-1],G.push(t[U>>2]+t[U<<4&63]+"==")):F===2&&(U=(b[L-2]<<8)+b[L-1],G.push(t[U>>10]+t[U>>4&63]+t[U<<2&63]+"=")),G.join("")}return tu}var lh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var pv;function BA(){return pv||(pv=1,lh.read=function(t,e,n,i,a){var l,c,f=a*8-i-1,p=(1<<f)-1,m=p>>1,y=-7,T=n?a-1:0,R=n?-1:1,b=t[e+T];for(T+=R,l=b&(1<<-y)-1,b>>=-y,y+=f;y>0;l=l*256+t[e+T],T+=R,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=i;y>0;c=c*256+t[e+T],T+=R,y-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(b?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-m}return(b?-1:1)*c*Math.pow(2,l-i)},lh.write=function(t,e,n,i,a,l){var c,f,p,m=l*8-a-1,y=(1<<m)-1,T=y>>1,R=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:l-1,U=i?1:-1,L=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+T>=1?e+=R/p:e+=R*Math.pow(2,1-T),e*p>=2&&(c++,p/=2),c+T>=y?(f=0,c=y):c+T>=1?(f=(e*p-1)*Math.pow(2,a),c=c+T):(f=e*Math.pow(2,T-1)*Math.pow(2,a),c=0));a>=8;t[n+b]=f&255,b+=U,f/=256,a-=8);for(c=c<<a|f,m+=a;m>0;t[n+b]=c&255,b+=U,c/=256,m-=8);t[n+b-U]|=L*128}),lh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var mv;function zA(){return mv||(mv=1,function(t){const e=VA(),n=BA(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=te,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(A,_),A.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(A){if(A>a)throw new RangeError('The value "'+A+'" is invalid for option "size"');const _=new Uint8Array(A);return Object.setPrototypeOf(_,f.prototype),_}function f(A,_,E){if(typeof A=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(A)}return p(A,_,E)}f.poolSize=8192;function p(A,_,E){if(typeof A=="string")return R(A,_);if(ArrayBuffer.isView(A))return U(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pn(A,ArrayBuffer)||A&&pn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(A,SharedArrayBuffer)||A&&pn(A.buffer,SharedArrayBuffer)))return L(A,_,E);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=A.valueOf&&A.valueOf();if(D!=null&&D!==A)return f.from(D,_,E);const q=F(A);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return f.from(A[Symbol.toPrimitive]("string"),_,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}f.from=function(A,_,E){return p(A,_,E)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function m(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function y(A,_,E){return m(A),A<=0?c(A):_!==void 0?typeof E=="string"?c(A).fill(_,E):c(A).fill(_):c(A)}f.alloc=function(A,_,E){return y(A,_,E)};function T(A){return m(A),c(A<0?0:G(A)|0)}f.allocUnsafe=function(A){return T(A)},f.allocUnsafeSlow=function(A){return T(A)};function R(A,_){if((typeof _!="string"||_==="")&&(_="utf8"),!f.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const E=ee(A,_)|0;let D=c(E);const q=D.write(A,_);return q!==E&&(D=D.slice(0,q)),D}function b(A){const _=A.length<0?0:G(A.length)|0,E=c(_);for(let D=0;D<_;D+=1)E[D]=A[D]&255;return E}function U(A){if(pn(A,Uint8Array)){const _=new Uint8Array(A);return L(_.buffer,_.byteOffset,_.byteLength)}return b(A)}function L(A,_,E){if(_<0||A.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<_+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return _===void 0&&E===void 0?D=new Uint8Array(A):E===void 0?D=new Uint8Array(A,_):D=new Uint8Array(A,_,E),Object.setPrototypeOf(D,f.prototype),D}function F(A){if(f.isBuffer(A)){const _=G(A.length)|0,E=c(_);return E.length===0||A.copy(E,0,0,_),E}if(A.length!==void 0)return typeof A.length!="number"||Tr(A.length)?c(0):b(A);if(A.type==="Buffer"&&Array.isArray(A.data))return b(A.data)}function G(A){if(A>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return A|0}function te(A){return+A!=A&&(A=0),f.alloc(+A)}f.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==f.prototype},f.compare=function(_,E){if(pn(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),pn(E,Uint8Array)&&(E=f.from(E,E.offset,E.byteLength)),!f.isBuffer(_)||!f.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===E)return 0;let D=_.length,q=E.length;for(let X=0,ie=Math.min(D,q);X<ie;++X)if(_[X]!==E[X]){D=_[X],q=E[X];break}return D<q?-1:q<D?1:0},f.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(_,E){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return f.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<_.length;++D)E+=_[D].length;const q=f.allocUnsafe(E);let X=0;for(D=0;D<_.length;++D){let ie=_[D];if(pn(ie,Uint8Array))X+ie.length>q.length?(f.isBuffer(ie)||(ie=f.from(ie)),ie.copy(q,X)):Uint8Array.prototype.set.call(q,ie,X);else if(f.isBuffer(ie))ie.copy(q,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=ie.length}return q};function ee(A,_){if(f.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return er(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return jn(A).length;default:if(q)return D?-1:er(A).length;_=(""+_).toLowerCase(),q=!0}}f.byteLength=ee;function pe(A,_,E){let D=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,_>>>=0,E<=_))return"";for(A||(A="utf8");;)switch(A){case"hex":return He(this,_,E);case"utf8":case"utf-8":return Ee(this,_,E);case"ascii":return we(this,_,E);case"latin1":case"binary":return be(this,_,E);case"base64":return O(this,_,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,_,E);default:if(D)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),D=!0}}f.prototype._isBuffer=!0;function ce(A,_,E){const D=A[_];A[_]=A[E],A[E]=D}f.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<_;E+=2)ce(this,E,E+1);return this},f.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<_;E+=4)ce(this,E,E+3),ce(this,E+1,E+2);return this},f.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<_;E+=8)ce(this,E,E+7),ce(this,E+1,E+6),ce(this,E+2,E+5),ce(this,E+3,E+4);return this},f.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?Ee(this,0,_):pe.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(_){if(!f.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:f.compare(this,_)===0},f.prototype.inspect=function(){let _="";const E=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(_+=" ... "),"<Buffer "+_+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(_,E,D,q,X){if(pn(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(E===void 0&&(E=0),D===void 0&&(D=_?_.length:0),q===void 0&&(q=0),X===void 0&&(X=this.length),E<0||D>_.length||q<0||X>this.length)throw new RangeError("out of range index");if(q>=X&&E>=D)return 0;if(q>=X)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,q>>>=0,X>>>=0,this===_)return 0;let ie=X-q,xe=D-E;const tt=Math.min(ie,xe),Me=this.slice(q,X),Be=_.slice(E,D);for(let qe=0;qe<tt;++qe)if(Me[qe]!==Be[qe]){ie=Me[qe],xe=Be[qe];break}return ie<xe?-1:xe<ie?1:0};function W(A,_,E,D,q){if(A.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Tr(E)&&(E=q?0:A.length-1),E<0&&(E=A.length+E),E>=A.length){if(q)return-1;E=A.length-1}else if(E<0)if(q)E=0;else return-1;if(typeof _=="string"&&(_=f.from(_,D)),f.isBuffer(_))return _.length===0?-1:V(A,_,E,D,q);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(A,_,E):Uint8Array.prototype.lastIndexOf.call(A,_,E):V(A,[_],E,D,q);throw new TypeError("val must be string, number or Buffer")}function V(A,_,E,D,q){let X=1,ie=A.length,xe=_.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(A.length<2||_.length<2)return-1;X=2,ie/=2,xe/=2,E/=2}function tt(Be,qe){return X===1?Be[qe]:Be.readUInt16BE(qe*X)}let Me;if(q){let Be=-1;for(Me=E;Me<ie;Me++)if(tt(A,Me)===tt(_,Be===-1?0:Me-Be)){if(Be===-1&&(Be=Me),Me-Be+1===xe)return Be*X}else Be!==-1&&(Me-=Me-Be),Be=-1}else for(E+xe>ie&&(E=ie-xe),Me=E;Me>=0;Me--){let Be=!0;for(let qe=0;qe<xe;qe++)if(tt(A,Me+qe)!==tt(_,qe)){Be=!1;break}if(Be)return Me}return-1}f.prototype.includes=function(_,E,D){return this.indexOf(_,E,D)!==-1},f.prototype.indexOf=function(_,E,D){return W(this,_,E,D,!0)},f.prototype.lastIndexOf=function(_,E,D){return W(this,_,E,D,!1)};function N(A,_,E,D){E=Number(E)||0;const q=A.length-E;D?(D=Number(D),D>q&&(D=q)):D=q;const X=_.length;D>X/2&&(D=X/2);let ie;for(ie=0;ie<D;++ie){const xe=parseInt(_.substr(ie*2,2),16);if(Tr(xe))return ie;A[E+ie]=xe}return ie}function k(A,_,E,D){return Fn(er(_,A.length-E),A,E,D)}function P(A,_,E,D){return Fn(Cr(_),A,E,D)}function z(A,_,E,D){return Fn(jn(_),A,E,D)}function j(A,_,E,D){return Fn(Er(_,A.length-E),A,E,D)}f.prototype.write=function(_,E,D,q){if(E===void 0)q="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")q=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,q===void 0&&(q="utf8")):(q=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-E;if((D===void 0||D>X)&&(D=X),_.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let ie=!1;for(;;)switch(q){case"hex":return N(this,_,E,D);case"utf8":case"utf-8":return k(this,_,E,D);case"ascii":case"latin1":case"binary":return P(this,_,E,D);case"base64":return z(this,_,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,_,E,D);default:if(ie)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ie=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(A,_,E){return _===0&&E===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(_,E))}function Ee(A,_,E){E=Math.min(A.length,E);const D=[];let q=_;for(;q<E;){const X=A[q];let ie=null,xe=X>239?4:X>223?3:X>191?2:1;if(q+xe<=E){let tt,Me,Be,qe;switch(xe){case 1:X<128&&(ie=X);break;case 2:tt=A[q+1],(tt&192)===128&&(qe=(X&31)<<6|tt&63,qe>127&&(ie=qe));break;case 3:tt=A[q+1],Me=A[q+2],(tt&192)===128&&(Me&192)===128&&(qe=(X&15)<<12|(tt&63)<<6|Me&63,qe>2047&&(qe<55296||qe>57343)&&(ie=qe));break;case 4:tt=A[q+1],Me=A[q+2],Be=A[q+3],(tt&192)===128&&(Me&192)===128&&(Be&192)===128&&(qe=(X&15)<<18|(tt&63)<<12|(Me&63)<<6|Be&63,qe>65535&&qe<1114112&&(ie=qe))}}ie===null?(ie=65533,xe=1):ie>65535&&(ie-=65536,D.push(ie>>>10&1023|55296),ie=56320|ie&1023),D.push(ie),q+=xe}return de(D)}const Te=4096;function de(A){const _=A.length;if(_<=Te)return String.fromCharCode.apply(String,A);let E="",D=0;for(;D<_;)E+=String.fromCharCode.apply(String,A.slice(D,D+=Te));return E}function we(A,_,E){let D="";E=Math.min(A.length,E);for(let q=_;q<E;++q)D+=String.fromCharCode(A[q]&127);return D}function be(A,_,E){let D="";E=Math.min(A.length,E);for(let q=_;q<E;++q)D+=String.fromCharCode(A[q]);return D}function He(A,_,E){const D=A.length;(!_||_<0)&&(_=0),(!E||E<0||E>D)&&(E=D);let q="";for(let X=_;X<E;++X)q+=Wt[A[X]];return q}function x(A,_,E){const D=A.slice(_,E);let q="";for(let X=0;X<D.length-1;X+=2)q+=String.fromCharCode(D[X]+D[X+1]*256);return q}f.prototype.slice=function(_,E){const D=this.length;_=~~_,E=E===void 0?D:~~E,_<0?(_+=D,_<0&&(_=0)):_>D&&(_=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<_&&(E=_);const q=this.subarray(_,E);return Object.setPrototypeOf(q,f.prototype),q};function se(A,_,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+_>E)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(_,E,D){_=_>>>0,E=E>>>0,D||se(_,E,this.length);let q=this[_],X=1,ie=0;for(;++ie<E&&(X*=256);)q+=this[_+ie]*X;return q},f.prototype.readUintBE=f.prototype.readUIntBE=function(_,E,D){_=_>>>0,E=E>>>0,D||se(_,E,this.length);let q=this[_+--E],X=1;for(;E>0&&(X*=256);)q+=this[_+--E]*X;return q},f.prototype.readUint8=f.prototype.readUInt8=function(_,E){return _=_>>>0,E||se(_,1,this.length),this[_]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(_,E){return _=_>>>0,E||se(_,2,this.length),this[_]|this[_+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(_,E){return _=_>>>0,E||se(_,2,this.length),this[_]<<8|this[_+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(_,E){return _=_>>>0,E||se(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(_,E){return _=_>>>0,E||se(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},f.prototype.readBigUInt64LE=wn(function(_){_=_>>>0,Ot(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const q=E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,X=this[++_]+this[++_]*2**8+this[++_]*2**16+D*2**24;return BigInt(q)+(BigInt(X)<<BigInt(32))}),f.prototype.readBigUInt64BE=wn(function(_){_=_>>>0,Ot(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const q=E*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],X=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+D;return(BigInt(q)<<BigInt(32))+BigInt(X)}),f.prototype.readIntLE=function(_,E,D){_=_>>>0,E=E>>>0,D||se(_,E,this.length);let q=this[_],X=1,ie=0;for(;++ie<E&&(X*=256);)q+=this[_+ie]*X;return X*=128,q>=X&&(q-=Math.pow(2,8*E)),q},f.prototype.readIntBE=function(_,E,D){_=_>>>0,E=E>>>0,D||se(_,E,this.length);let q=E,X=1,ie=this[_+--q];for(;q>0&&(X*=256);)ie+=this[_+--q]*X;return X*=128,ie>=X&&(ie-=Math.pow(2,8*E)),ie},f.prototype.readInt8=function(_,E){return _=_>>>0,E||se(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},f.prototype.readInt16LE=function(_,E){_=_>>>0,E||se(_,2,this.length);const D=this[_]|this[_+1]<<8;return D&32768?D|4294901760:D},f.prototype.readInt16BE=function(_,E){_=_>>>0,E||se(_,2,this.length);const D=this[_+1]|this[_]<<8;return D&32768?D|4294901760:D},f.prototype.readInt32LE=function(_,E){return _=_>>>0,E||se(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},f.prototype.readInt32BE=function(_,E){return _=_>>>0,E||se(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},f.prototype.readBigInt64LE=wn(function(_){_=_>>>0,Ot(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const q=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(D<<24);return(BigInt(q)<<BigInt(32))+BigInt(E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),f.prototype.readBigInt64BE=wn(function(_){_=_>>>0,Ot(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const q=(E<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+D)}),f.prototype.readFloatLE=function(_,E){return _=_>>>0,E||se(_,4,this.length),n.read(this,_,!0,23,4)},f.prototype.readFloatBE=function(_,E){return _=_>>>0,E||se(_,4,this.length),n.read(this,_,!1,23,4)},f.prototype.readDoubleLE=function(_,E){return _=_>>>0,E||se(_,8,this.length),n.read(this,_,!0,52,8)},f.prototype.readDoubleBE=function(_,E){return _=_>>>0,E||se(_,8,this.length),n.read(this,_,!1,52,8)};function _e(A,_,E,D,q,X){if(!f.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<X)throw new RangeError('"value" argument is out of bounds');if(E+D>A.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(_,E,D,q){if(_=+_,E=E>>>0,D=D>>>0,!q){const xe=Math.pow(2,8*D)-1;_e(this,_,E,D,xe,0)}let X=1,ie=0;for(this[E]=_&255;++ie<D&&(X*=256);)this[E+ie]=_/X&255;return E+D},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(_,E,D,q){if(_=+_,E=E>>>0,D=D>>>0,!q){const xe=Math.pow(2,8*D)-1;_e(this,_,E,D,xe,0)}let X=D-1,ie=1;for(this[E+X]=_&255;--X>=0&&(ie*=256);)this[E+X]=_/ie&255;return E+D},f.prototype.writeUint8=f.prototype.writeUInt8=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,1,255,0),this[E]=_&255,E+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,65535,0),this[E]=_&255,this[E+1]=_>>>8,E+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,65535,0),this[E]=_>>>8,this[E+1]=_&255,E+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,4294967295,0),this[E+3]=_>>>24,this[E+2]=_>>>16,this[E+1]=_>>>8,this[E]=_&255,E+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,4294967295,0),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4};function M(A,_,E,D,q){Cn(_,D,q,A,E,7);let X=Number(_&BigInt(4294967295));A[E++]=X,X=X>>8,A[E++]=X,X=X>>8,A[E++]=X,X=X>>8,A[E++]=X;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return A[E++]=ie,ie=ie>>8,A[E++]=ie,ie=ie>>8,A[E++]=ie,ie=ie>>8,A[E++]=ie,E}function ve(A,_,E,D,q){Cn(_,D,q,A,E,7);let X=Number(_&BigInt(4294967295));A[E+7]=X,X=X>>8,A[E+6]=X,X=X>>8,A[E+5]=X,X=X>>8,A[E+4]=X;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return A[E+3]=ie,ie=ie>>8,A[E+2]=ie,ie=ie>>8,A[E+1]=ie,ie=ie>>8,A[E]=ie,E+8}f.prototype.writeBigUInt64LE=wn(function(_,E=0){return M(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=wn(function(_,E=0){return ve(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(_,E,D,q){if(_=+_,E=E>>>0,!q){const tt=Math.pow(2,8*D-1);_e(this,_,E,D,tt-1,-tt)}let X=0,ie=1,xe=0;for(this[E]=_&255;++X<D&&(ie*=256);)_<0&&xe===0&&this[E+X-1]!==0&&(xe=1),this[E+X]=(_/ie>>0)-xe&255;return E+D},f.prototype.writeIntBE=function(_,E,D,q){if(_=+_,E=E>>>0,!q){const tt=Math.pow(2,8*D-1);_e(this,_,E,D,tt-1,-tt)}let X=D-1,ie=1,xe=0;for(this[E+X]=_&255;--X>=0&&(ie*=256);)_<0&&xe===0&&this[E+X+1]!==0&&(xe=1),this[E+X]=(_/ie>>0)-xe&255;return E+D},f.prototype.writeInt8=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,1,127,-128),_<0&&(_=255+_+1),this[E]=_&255,E+1},f.prototype.writeInt16LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,32767,-32768),this[E]=_&255,this[E+1]=_>>>8,E+2},f.prototype.writeInt16BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,32767,-32768),this[E]=_>>>8,this[E+1]=_&255,E+2},f.prototype.writeInt32LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,2147483647,-2147483648),this[E]=_&255,this[E+1]=_>>>8,this[E+2]=_>>>16,this[E+3]=_>>>24,E+4},f.prototype.writeInt32BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4},f.prototype.writeBigInt64LE=wn(function(_,E=0){return M(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=wn(function(_,E=0){return ve(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(A,_,E,D,q,X){if(E+D>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Re(A,_,E,D,q){return _=+_,E=E>>>0,q||Ne(A,_,E,4),n.write(A,_,E,D,23,4),E+4}f.prototype.writeFloatLE=function(_,E,D){return Re(this,_,E,!0,D)},f.prototype.writeFloatBE=function(_,E,D){return Re(this,_,E,!1,D)};function dt(A,_,E,D,q){return _=+_,E=E>>>0,q||Ne(A,_,E,8),n.write(A,_,E,D,52,8),E+8}f.prototype.writeDoubleLE=function(_,E,D){return dt(this,_,E,!0,D)},f.prototype.writeDoubleBE=function(_,E,D){return dt(this,_,E,!1,D)},f.prototype.copy=function(_,E,D,q){if(!f.isBuffer(_))throw new TypeError("argument should be a Buffer");if(D||(D=0),!q&&q!==0&&(q=this.length),E>=_.length&&(E=_.length),E||(E=0),q>0&&q<D&&(q=D),q===D||_.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-E<q-D&&(q=_.length-E+D);const X=q-D;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,q):Uint8Array.prototype.set.call(_,this.subarray(D,q),E),X},f.prototype.fill=function(_,E,D,q){if(typeof _=="string"){if(typeof E=="string"?(q=E,E=0,D=this.length):typeof D=="string"&&(q=D,D=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!f.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(_.length===1){const ie=_.charCodeAt(0);(q==="utf8"&&ie<128||q==="latin1")&&(_=ie)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,_||(_=0);let X;if(typeof _=="number")for(X=E;X<D;++X)this[X]=_;else{const ie=f.isBuffer(_)?_:f.from(_,q),xe=ie.length;if(xe===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(X=0;X<D-E;++X)this[X+E]=ie[X%xe]}return this};const Ue={};function at(A,_,E){Ue[A]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(A,_){return`The "${A}" argument must be of type number. Received type ${typeof _}`},TypeError),at("ERR_OUT_OF_RANGE",function(A,_,E){let D=`The value of "${A}" is out of range.`,q=E;return Number.isInteger(E)&&Math.abs(E)>2**32?q=Qe(String(E)):typeof E=="bigint"&&(q=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(q=Qe(q)),q+="n"),D+=` It must be ${_}. Received ${q}`,D},RangeError);function Qe(A){let _="",E=A.length;const D=A[0]==="-"?1:0;for(;E>=D+4;E-=3)_=`_${A.slice(E-3,E)}${_}`;return`${A.slice(0,E)}${_}`}function It(A,_,E){Ot(_,"offset"),(A[_]===void 0||A[_+E]===void 0)&&dn(_,A.length-(E+1))}function Cn(A,_,E,D,q,X){if(A>E||A<_){const ie=typeof _=="bigint"?"n":"";let xe;throw _===0||_===BigInt(0)?xe=`>= 0${ie} and < 2${ie} ** ${(X+1)*8}${ie}`:xe=`>= -(2${ie} ** ${(X+1)*8-1}${ie}) and < 2 ** ${(X+1)*8-1}${ie}`,new Ue.ERR_OUT_OF_RANGE("value",xe,A)}It(D,q,X)}function Ot(A,_){if(typeof A!="number")throw new Ue.ERR_INVALID_ARG_TYPE(_,"number",A)}function dn(A,_,E){throw Math.floor(A)!==A?(Ot(A,E),new Ue.ERR_OUT_OF_RANGE("offset","an integer",A)):_<0?new Ue.ERR_BUFFER_OUT_OF_BOUNDS:new Ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,A)}const zn=/[^+/0-9A-Za-z-_]/g;function kn(A){if(A=A.split("=")[0],A=A.trim().replace(zn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function er(A,_){_=_||1/0;let E;const D=A.length;let q=null;const X=[];for(let ie=0;ie<D;++ie){if(E=A.charCodeAt(ie),E>55295&&E<57344){if(!q){if(E>56319){(_-=3)>-1&&X.push(239,191,189);continue}else if(ie+1===D){(_-=3)>-1&&X.push(239,191,189);continue}q=E;continue}if(E<56320){(_-=3)>-1&&X.push(239,191,189),q=E;continue}E=(q-55296<<10|E-56320)+65536}else q&&(_-=3)>-1&&X.push(239,191,189);if(q=null,E<128){if((_-=1)<0)break;X.push(E)}else if(E<2048){if((_-=2)<0)break;X.push(E>>6|192,E&63|128)}else if(E<65536){if((_-=3)<0)break;X.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((_-=4)<0)break;X.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return X}function Cr(A){const _=[];for(let E=0;E<A.length;++E)_.push(A.charCodeAt(E)&255);return _}function Er(A,_){let E,D,q;const X=[];for(let ie=0;ie<A.length&&!((_-=2)<0);++ie)E=A.charCodeAt(ie),D=E>>8,q=E%256,X.push(q),X.push(D);return X}function jn(A){return e.toByteArray(kn(A))}function Fn(A,_,E,D){let q;for(q=0;q<D&&!(q+E>=_.length||q>=A.length);++q)_[q+E]=A[q];return q}function pn(A,_){return A instanceof _||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===_.name}function Tr(A){return A!==A}const Wt=function(){const A="0123456789abcdef",_=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let q=0;q<16;++q)_[D+q]=A[E]+A[q]}return _}();function wn(A){return typeof BigInt>"u"?ne:A}function ne(){throw new Error("BigInt not supported")}}(xp)),xp}var jA=zA(),Ip={exports:{}},gv;function FA(){if(gv)return Ip.exports;gv=1;var t=Ip.exports={},e,n;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=a}catch{n=a}})();function l(L){if(e===setTimeout)return setTimeout(L,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(L,0);try{return e(L,0)}catch{try{return e.call(null,L,0)}catch{return e.call(this,L,0)}}}function c(L){if(n===clearTimeout)return clearTimeout(L);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(L);try{return n(L)}catch{try{return n.call(null,L)}catch{return n.call(this,L)}}}var f=[],p=!1,m,y=-1;function T(){!p||!m||(p=!1,m.length?f=m.concat(f):y=-1,f.length&&R())}function R(){if(!p){var L=l(T);p=!0;for(var F=f.length;F;){for(m=f,f=[];++y<F;)m&&m[y].run();y=-1,F=f.length}m=null,p=!1,c(L)}}t.nextTick=function(L){var F=new Array(arguments.length-1);if(arguments.length>1)for(var G=1;G<arguments.length;G++)F[G-1]=arguments[G];f.push(new b(L,F)),f.length===1&&!p&&l(R)};function b(L,F){this.fun=L,this.array=F}b.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function U(){}return t.on=U,t.addListener=U,t.once=U,t.off=U,t.removeListener=U,t.removeAllListeners=U,t.emit=U,t.prependListener=U,t.prependOnceListener=U,t.listeners=function(L){return[]},t.binding=function(L){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(L){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Ip.exports}var qA=FA();const HA=xu(qA);window.Buffer=jA.Buffer;window.process=HA;var Cp={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function GA(){if(yv)return nu;yv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var _v;function KA(){return _v||(_v=1,Cp.exports=GA()),Cp.exports}var J=KA(),kp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function QA(){if(vv)return Ke;vv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function F(x,se,_e){this.props=x,this.context=se,this.refs=L,this.updater=_e||b}F.prototype.isReactComponent={},F.prototype.setState=function(x,se){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,se,"setState")},F.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=F.prototype;function te(x,se,_e){this.props=x,this.context=se,this.refs=L,this.updater=_e||b}var ee=te.prototype=new G;ee.constructor=te,U(ee,F.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,ce={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function V(x,se,_e,M,ve,Ne){return _e=Ne.ref,{$$typeof:t,type:x,key:se,ref:_e!==void 0?_e:null,props:Ne}}function N(x,se){return V(x.type,se,void 0,void 0,void 0,x.props)}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function P(x){var se={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(_e){return se[_e]})}var z=/\/+/g;function j(x,se){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):se.toString(36)}function O(){}function Ee(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(O,O):(x.status="pending",x.then(function(se){x.status==="pending"&&(x.status="fulfilled",x.value=se)},function(se){x.status==="pending"&&(x.status="rejected",x.reason=se)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Te(x,se,_e,M,ve){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var Re=!1;if(x===null)Re=!0;else switch(Ne){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(x.$$typeof){case t:case e:Re=!0;break;case y:return Re=x._init,Te(Re(x._payload),se,_e,M,ve)}}if(Re)return ve=ve(x),Re=M===""?"."+j(x,0):M,pe(ve)?(_e="",Re!=null&&(_e=Re.replace(z,"$&/")+"/"),Te(ve,se,_e,"",function(at){return at})):ve!=null&&(k(ve)&&(ve=N(ve,_e+(ve.key==null||x&&x.key===ve.key?"":(""+ve.key).replace(z,"$&/")+"/")+Re)),se.push(ve)),1;Re=0;var dt=M===""?".":M+":";if(pe(x))for(var Ue=0;Ue<x.length;Ue++)M=x[Ue],Ne=dt+j(M,Ue),Re+=Te(M,se,_e,Ne,ve);else if(Ue=R(x),typeof Ue=="function")for(x=Ue.call(x),Ue=0;!(M=x.next()).done;)M=M.value,Ne=dt+j(M,Ue++),Re+=Te(M,se,_e,Ne,ve);else if(Ne==="object"){if(typeof x.then=="function")return Te(Ee(x),se,_e,M,ve);throw se=String(x),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Re}function de(x,se,_e){if(x==null)return x;var M=[],ve=0;return Te(x,M,"","",function(Ne){return se.call(_e,Ne,ve++)}),M}function we(x){if(x._status===-1){var se=x._result;se=se(),se.then(function(_e){(x._status===0||x._status===-1)&&(x._status=1,x._result=_e)},function(_e){(x._status===0||x._status===-1)&&(x._status=2,x._result=_e)}),x._status===-1&&(x._status=0,x._result=se)}if(x._status===1)return x._result.default;throw x._result}var be=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function He(){}return Ke.Children={map:de,forEach:function(x,se,_e){de(x,function(){se.apply(this,arguments)},_e)},count:function(x){var se=0;return de(x,function(){se++}),se},toArray:function(x){return de(x,function(se){return se})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ke.Component=F,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=te,Ke.StrictMode=i,Ke.Suspense=p,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ke.cache=function(x){return function(){return x.apply(null,arguments)}},Ke.cloneElement=function(x,se,_e){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var M=U({},x.props),ve=x.key,Ne=void 0;if(se!=null)for(Re in se.ref!==void 0&&(Ne=void 0),se.key!==void 0&&(ve=""+se.key),se)!W.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(M[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)M.children=_e;else if(1<Re){for(var dt=Array(Re),Ue=0;Ue<Re;Ue++)dt[Ue]=arguments[Ue+2];M.children=dt}return V(x.type,ve,void 0,void 0,Ne,M)},Ke.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Ke.createElement=function(x,se,_e){var M,ve={},Ne=null;if(se!=null)for(M in se.key!==void 0&&(Ne=""+se.key),se)W.call(se,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ve[M]=se[M]);var Re=arguments.length-2;if(Re===1)ve.children=_e;else if(1<Re){for(var dt=Array(Re),Ue=0;Ue<Re;Ue++)dt[Ue]=arguments[Ue+2];ve.children=dt}if(x&&x.defaultProps)for(M in Re=x.defaultProps,Re)ve[M]===void 0&&(ve[M]=Re[M]);return V(x,Ne,void 0,void 0,null,ve)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(x){return{$$typeof:f,render:x}},Ke.isValidElement=k,Ke.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:we}},Ke.memo=function(x,se){return{$$typeof:m,type:x,compare:se===void 0?null:se}},Ke.startTransition=function(x){var se=ce.T,_e={};ce.T=_e;try{var M=x(),ve=ce.S;ve!==null&&ve(_e,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(He,be)}catch(Ne){be(Ne)}finally{ce.T=se}},Ke.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ke.use=function(x){return ce.H.use(x)},Ke.useActionState=function(x,se,_e){return ce.H.useActionState(x,se,_e)},Ke.useCallback=function(x,se){return ce.H.useCallback(x,se)},Ke.useContext=function(x){return ce.H.useContext(x)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(x,se){return ce.H.useDeferredValue(x,se)},Ke.useEffect=function(x,se){return ce.H.useEffect(x,se)},Ke.useId=function(){return ce.H.useId()},Ke.useImperativeHandle=function(x,se,_e){return ce.H.useImperativeHandle(x,se,_e)},Ke.useInsertionEffect=function(x,se){return ce.H.useInsertionEffect(x,se)},Ke.useLayoutEffect=function(x,se){return ce.H.useLayoutEffect(x,se)},Ke.useMemo=function(x,se){return ce.H.useMemo(x,se)},Ke.useOptimistic=function(x,se){return ce.H.useOptimistic(x,se)},Ke.useReducer=function(x,se,_e){return ce.H.useReducer(x,se,_e)},Ke.useRef=function(x){return ce.H.useRef(x)},Ke.useState=function(x){return ce.H.useState(x)},Ke.useSyncExternalStore=function(x,se,_e){return ce.H.useSyncExternalStore(x,se,_e)},Ke.useTransition=function(){return ce.H.useTransition()},Ke.version="19.0.0",Ke}var Ev;function qm(){return Ev||(Ev=1,kp.exports=QA()),kp.exports}var ge=qm();const YA=xu(ge);var Dp={exports:{}},ru={},Np={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function $A(){return Tv||(Tv=1,function(t){function e(de,we){var be=de.length;de.push(we);e:for(;0<be;){var He=be-1>>>1,x=de[He];if(0<a(x,we))de[He]=we,de[be]=x,be=He;else break e}}function n(de){return de.length===0?null:de[0]}function i(de){if(de.length===0)return null;var we=de[0],be=de.pop();if(be!==we){de[0]=be;e:for(var He=0,x=de.length,se=x>>>1;He<se;){var _e=2*(He+1)-1,M=de[_e],ve=_e+1,Ne=de[ve];if(0>a(M,be))ve<x&&0>a(Ne,M)?(de[He]=Ne,de[ve]=be,He=ve):(de[He]=M,de[_e]=be,He=_e);else if(ve<x&&0>a(Ne,be))de[He]=Ne,de[ve]=be,He=ve;else break e}}return we}function a(de,we){var be=de.sortIndex-we.sortIndex;return be!==0?be:de.id-we.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,T=null,R=3,b=!1,U=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ee(de){for(var we=n(m);we!==null;){if(we.callback===null)i(m);else if(we.startTime<=de)i(m),we.sortIndex=we.expirationTime,e(p,we);else break;we=n(m)}}function pe(de){if(L=!1,ee(de),!U)if(n(p)!==null)U=!0,Ee();else{var we=n(m);we!==null&&Te(pe,we.startTime-de)}}var ce=!1,W=-1,V=5,N=-1;function k(){return!(t.unstable_now()-N<V)}function P(){if(ce){var de=t.unstable_now();N=de;var we=!0;try{e:{U=!1,L&&(L=!1,G(W),W=-1),b=!0;var be=R;try{t:{for(ee(de),T=n(p);T!==null&&!(T.expirationTime>de&&k());){var He=T.callback;if(typeof He=="function"){T.callback=null,R=T.priorityLevel;var x=He(T.expirationTime<=de);if(de=t.unstable_now(),typeof x=="function"){T.callback=x,ee(de),we=!0;break t}T===n(p)&&i(p),ee(de)}else i(p);T=n(p)}if(T!==null)we=!0;else{var se=n(m);se!==null&&Te(pe,se.startTime-de),we=!1}}break e}finally{T=null,R=be,b=!1}we=void 0}}finally{we?z():ce=!1}}}var z;if(typeof te=="function")z=function(){te(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,O=j.port2;j.port1.onmessage=P,z=function(){O.postMessage(null)}}else z=function(){F(P,0)};function Ee(){ce||(ce=!0,z())}function Te(de,we){W=F(function(){de(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_continueExecution=function(){U||b||(U=!0,Ee())},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(de){switch(R){case 1:case 2:case 3:var we=3;break;default:we=R}var be=R;R=we;try{return de()}finally{R=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(de,we){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var be=R;R=de;try{return we()}finally{R=be}},t.unstable_scheduleCallback=function(de,we,be){var He=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?He+be:He):be=He,de){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=be+x,de={id:y++,callback:we,priorityLevel:de,startTime:be,expirationTime:x,sortIndex:-1},be>He?(de.sortIndex=be,e(m,de),n(p)===null&&de===n(m)&&(L?(G(W),W=-1):L=!0,Te(pe,be-He))):(de.sortIndex=x,e(p,de),U||b||(U=!0,Ee())),de},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(de){var we=R;return function(){var be=R;R=we;try{return de.apply(this,arguments)}finally{R=be}}}}(Op)),Op}var wv;function XA(){return wv||(wv=1,Np.exports=$A()),Np.exports}var Mp={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function WA(){if(bv)return gn;bv=1;var t=qm();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},gn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=f(y,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:b}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=f(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var Sv;function ZA(){if(Sv)return Mp.exports;Sv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=WA(),Mp.exports}var Av;function JA(){if(Av)return ru;Av=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=XA(),e=qm(),n=ZA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),b=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=ce&&r[ce]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function N(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case f:return"Portal";case y:return"Profiler";case m:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Provider";case R:return(r._context.displayName||"Context")+".Consumer";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:N(r.type)||"Memo";case te:s=r._payload,r=r._init;try{return N(r(s))}catch{}}return null}var k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,z,j;function O(r){if(z===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||"",j=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+r+j}var Ee=!1;function Te(r,s){if(!r||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var Z=ae}Reflect.construct(r,[],he)}else{try{he.call()}catch(ae){Z=ae}r.call(he.prototype)}}else{try{throw Error()}catch(ae){Z=ae}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&Z&&typeof ae.stack=="string")return[ae.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],I=g[1];if(S&&I){var B=S.split(`
`),K=I.split(`
`);for(d=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===B.length||d===K.length)for(u=B.length-1,d=K.length-1;1<=u&&0<=d&&B[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(B[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||B[u]!==K[d]){var oe=`
`+B[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=d);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?O(o):""}function de(r){switch(r.tag){case 26:case 27:case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return r=Te(r.type,!1),r;case 11:return r=Te(r.type.render,!1),r;case 1:return r=Te(r.type,!0),r;default:return""}}function we(r){try{var s="";do s+=de(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function be(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function He(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function x(r){if(be(r)!==r)throw Error(i(188))}function se(r){var s=r.alternate;if(!s){if(s=be(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return x(d),r;if(g===u)return x(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var S=!1,I=d.child;I;){if(I===o){S=!0,o=d,u=g;break}if(I===u){S=!0,u=d,o=g;break}I=I.sibling}if(!S){for(I=g.child;I;){if(I===o){S=!0,o=g,u=d;break}if(I===u){S=!0,u=g,o=d;break}I=I.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function _e(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_e(r),s!==null)return s;r=r.sibling}return null}var M=Array.isArray,ve=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Re=[],dt=-1;function Ue(r){return{current:r}}function at(r){0>dt||(r.current=Re[dt],Re[dt]=null,dt--)}function Qe(r,s){dt++,Re[dt]=r.current,r.current=s}var It=Ue(null),Cn=Ue(null),Ot=Ue(null),dn=Ue(null);function zn(r,s){switch(Qe(Ot,s),Qe(Cn,r),Qe(It,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?F0(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=F0(r),s=q0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}at(It),Qe(It,s)}function kn(){at(It),at(Cn),at(Ot)}function er(r){r.memoizedState!==null&&Qe(dn,r);var s=It.current,o=q0(s,r.type);s!==o&&(Qe(Cn,r),Qe(It,o))}function Cr(r){Cn.current===r&&(at(It),at(Cn)),dn.current===r&&(at(dn),Xl._currentValue=Ne)}var Er=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,Fn=t.unstable_cancelCallback,pn=t.unstable_shouldYield,Tr=t.unstable_requestPaint,Wt=t.unstable_now,wn=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,A=t.unstable_UserBlockingPriority,_=t.unstable_NormalPriority,E=t.unstable_LowPriority,D=t.unstable_IdlePriority,q=t.log,X=t.unstable_setDisableYieldValue,ie=null,xe=null;function tt(r){if(xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(ie,r,void 0,(r.current.flags&128)===128)}catch{}}function Me(r){if(typeof q=="function"&&X(r),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(ie,r)}catch{}}var Be=Math.clz32?Math.clz32:Hu,qe=Math.log,qu=Math.LN2;function Hu(r){return r>>>=0,r===0?32:31-(qe(r)/qu|0)|0}var kr=128,zi=4194304;function wr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tr(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,d=r.suspendedLanes,g=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~d,o!==0?u=wr(o):(g&=I,g!==0?u=wr(g):r||(S=I&~S,S!==0&&(u=wr(S))))):(I=o&~d,I!==0?u=wr(I):g!==0?u=wr(g):r||(S=o&~S,S!==0&&(u=wr(S)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,S=s&-s,d>=S||d===32&&(S&4194176)!==0)?s:u}function ji(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Oa(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var r=kr;return kr<<=1,(kr&4194176)===0&&(kr=128),r}function Fi(){var r=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),r}function Ma(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Mt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Gu(r,s,o,u,d,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,B=r.expirationTimes,K=r.hiddenUpdates;for(o=S&~o;0<o;){var oe=31-Be(o),he=1<<oe;I[oe]=0,B[oe]=-1;var Z=K[oe];if(Z!==null)for(K[oe]=null,oe=0;oe<Z.length;oe++){var ae=Z[oe];ae!==null&&(ae.lane&=-536870913)}o&=~he}u!==0&&qi(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function qi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Be(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Hi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Be(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Ku(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qu(){var r=ve.p;return r!==0?r:(r=window.event,r===void 0?32:ov(r.type))}function Gi(r,s){var o=ve.p;try{return ve.p=r,s()}finally{ve.p=o}}var Dr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Dr,qt="__reactProps$"+Dr,si="__reactContainer$"+Dr,Fs="__reactEvents$"+Dr,Ua="__reactListeners$"+Dr,Nr="__reactHandles$"+Dr,nl="__reactResources$"+Dr,Ki="__reactMarker$"+Dr;function qs(r){delete r[Zt],delete r[qt],delete r[Fs],delete r[Ua],delete r[Nr]}function br(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[si]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=K0(r);r!==null;){if(o=r[Zt])return o;r=K0(r)}return s}r=o,o=r.parentNode}return null}function ai(r){if(r=r[Zt]||r[si]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Qi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Yi(r){var s=r[nl];return s||(s=r[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Ki]=!0}var rl=new Set,La={};function qn(r,s){Dn(r,s),Dn(r+"Capture",s)}function Dn(r,s){for(La[r]=s,r=0;r<s.length;r++)rl.add(s[r])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},sl={};function Yu(r){return Er.call(sl,r)?!0:Er.call(il,r)?!1:Df.test(r)?sl[r]=!0:(il[r]=!0,!1)}function $i(r,s,o){if(Yu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Xi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $u(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nf(r){var s=$u(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Hs(r){r._valueTracker||(r._valueTracker=Nf(r))}function al(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=$u(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Pa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oi=/[\n"\\]/g;function Ct(r){return r.replace(oi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wi(r,s,o,u,d,g,S,I){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Va(r,S,bn(s)):o!=null?Va(r,S,bn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+bn(I):r.removeAttribute("name")}function Gs(r,s,o,u,d,g,S,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Va(r,s,o){s==="number"&&Pa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ot(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Ks(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function Zi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(M(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Of.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Xu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&ol(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&ol(r,g,s[g])}function ll(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(r){return Uf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function Ba(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,ui=null;function ci(r){var s=ai(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Wi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[qt]||null;if(!d)throw Error(i(90));Wi(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&al(u)}break e;case"textarea":Ks(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ot(r,!!o.multiple,s,!1)}}}var ul=!1;function Wu(r,s,o){if(ul)return r(s,o);ul=!0;try{var u=r(s);return u}finally{if(ul=!1,(li!==null||ui!==null)&&(Fc(),li&&(s=li,r=ui,ui=li=null,ci(s),r)))for(s=0;s<r.length;s++)ci(r[s])}}function Qs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Hn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{sr=!1}var Mr=null,Ji=null,hi=null;function cl(){if(hi)return hi;var r,s=Ji,o=s.length,u,d="value"in Mr?Mr.value:Mr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var S=o-r;for(u=1;u<=S&&s[o-u]===d[g-u];u++);return hi=d.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function hl(){return!1}function Jt(r){function s(o,u,d,g,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:hl,this.isPropagationStopped=hl,this}return P(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Jt(ht),$s=P({},ht,{view:0,detail:0}),Zu=Jt($s),ja,Fa,Pr,Xs=P({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pr&&(Pr&&r.type==="mousemove"?(ja=r.screenX-Pr.screenX,Fa=r.screenY-Pr.screenY):Fa=ja=0,Pr=r),ja)},movementY:function(r){return"movementY"in r?r.movementY:Fa}}),ar=Jt(Xs),Ju=P({},Xs,{dataTransfer:0}),Lf=Jt(Ju),Ws=P({},$s,{relatedTarget:0}),qa=Jt(Ws),fl=P({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=Jt(fl),ec=P({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ga=Jt(ec),Pf=P({},ht,{data:0}),dl=Jt(Pf),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nc[r])?!!s[r]:!1}function Js(){return pl}var rc=P({},$s,{key:function(r){if(r.key){var s=Zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ka=Jt(rc),ic=P({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Jt(ic),fi=P({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),sc=Jt(fi),ac=P({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Jt(ac),lc=P({},Xs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Jt(lc),Sn=P({},ht,{newState:0,oldState:0}),uc=Jt(Sn),cc=[9,13,27,32],Vr=Hn&&"CompositionEvent"in window,h=null;Hn&&"documentMode"in document&&(h=document.documentMode);var v=Hn&&"TextEvent"in window&&!h,w=Hn&&(!Vr||h&&8<h&&11>=h),C=" ",Y=!1;function re(r,s){switch(r){case"keyup":return cc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function Ht(r,s){switch(r){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(Y=!0,C);case"textInput":return r=s.data,r===C&&Y?null:r;default:return null}}function rt(r,s){if(nt)return r==="compositionend"||!Vr&&re(r,s)?(r=cl(),hi=Ji=Mr=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!en[r.type]:s==="textarea"}function di(r,s,o,u){li?ui?ui.push(u):ui=[u]:li=u,s=Qc(s,"onChange"),0<s.length&&(o=new za("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var an=null,Br=null;function gl(r){P0(r,0)}function hc(r){var s=Qi(r);if(al(s))return r}function fy(r,s){if(r==="change")return s}var dy=!1;if(Hn){var Vf;if(Hn){var Bf="oninput"in document;if(!Bf){var py=document.createElement("div");py.setAttribute("oninput","return;"),Bf=typeof py.oninput=="function"}Vf=Bf}else Vf=!1;dy=Vf&&(!document.documentMode||9<document.documentMode)}function my(){an&&(an.detachEvent("onpropertychange",gy),Br=an=null)}function gy(r){if(r.propertyName==="value"&&hc(Br)){var s=[];di(s,Br,r,Ba(r)),Wu(gl,s)}}function pS(r,s,o){r==="focusin"?(my(),an=s,Br=o,an.attachEvent("onpropertychange",gy)):r==="focusout"&&my()}function mS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hc(Br)}function gS(r,s){if(r==="click")return hc(s)}function yS(r,s){if(r==="input"||r==="change")return hc(s)}function _S(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:_S;function yl(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Er.call(s,d)||!Gn(r[d],s[d]))return!1}return!0}function yy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _y(r,s){var o=yy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yy(o)}}function vy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?vy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ey(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Pa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Pa(r.document)}return s}function zf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function vS(r,s){var o=Ey(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&vy(s.ownerDocument.documentElement,s)){if(u!==null&&zf(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=_y(s,g);var S=_y(s,u);d&&S&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ES=Hn&&"documentMode"in document&&11>=document.documentMode,Ya=null,jf=null,_l=null,Ff=!1;function Ty(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ff||Ya==null||Ya!==Pa(u)||(u=Ya,"selectionStart"in u&&zf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_l&&yl(_l,u)||(_l=u,u=Qc(jf,"onSelect"),0<u.length&&(s=new za("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ya)))}function ea(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var $a={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},qf={},wy={};Hn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ta(r){if(qf[r])return qf[r];if(!$a[r])return r;var s=$a[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in wy)return qf[r]=s[o];return r}var by=ta("animationend"),Sy=ta("animationiteration"),Ay=ta("animationstart"),TS=ta("transitionrun"),wS=ta("transitionstart"),bS=ta("transitioncancel"),Ry=ta("transitionend"),xy=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(r,s){xy.set(r,s),qn(s,[r])}var or=[],Xa=0,Hf=0;function fc(){for(var r=Xa,s=Hf=Xa=0;s<r;){var o=or[s];or[s++]=null;var u=or[s];or[s++]=null;var d=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}g!==0&&Cy(o,d,g)}}function dc(r,s,o,u){or[Xa++]=r,or[Xa++]=s,or[Xa++]=o,or[Xa++]=u,Hf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gf(r,s,o,u){return dc(r,s,o,u),pc(r)}function es(r,s){return dc(r,null,null,s),pc(r)}function Cy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-Be(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function pc(r){if(50<ql)throw ql=0,Wd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Wa={},ky=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=ky.get(r);return o!==void 0?o:(s={value:r,source:s,stack:we(s)},ky.set(r,s),s)}return{value:r,source:s,stack:we(s)}}var Za=[],Ja=0,mc=null,gc=0,ur=[],cr=0,na=null,pi=1,mi="";function ra(r,s){Za[Ja++]=gc,Za[Ja++]=mc,mc=r,gc=s}function Dy(r,s,o){ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=na,na=r;var u=pi;r=mi;var d=32-Be(u)-1;u&=~(1<<d),o+=1;var g=32-Be(s)+d;if(30<g){var S=d-d%5;g=(u&(1<<S)-1).toString(32),u>>=S,d-=S,pi=1<<32-Be(s)+d|o<<d|u,mi=g+r}else pi=1<<g|o<<d|u,mi=r}function Kf(r){r.return!==null&&(ra(r,1),Dy(r,1,0))}function Qf(r){for(;r===mc;)mc=Za[--Ja],Za[Ja]=null,gc=Za[--Ja],Za[Ja]=null;for(;r===na;)na=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null,pi=ur[--cr],ur[cr]=null}var An=null,on=null,lt=!1,Ar=null,zr=!1,Yf=Error(i(519));function ia(r){var s=Error(i(418,""));throw Tl(lr(s,r)),Yf}function Ny(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Zt]=r,s[qt]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<Gl.length;o++)Je(Gl[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Gs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Hs(s);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Zi(s,u.value,u.defaultValue,u.children),Hs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||j0(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=Yc),s=!0):s=!1,s||ia(r)}function Oy(r){for(An=r.return;An;)switch(An.tag){case 3:case 27:zr=!0;return;case 5:case 13:zr=!1;return;default:An=An.return}}function vl(r){if(r!==An)return!1;if(!lt)return Oy(r),lt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||pp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&on&&ia(r),Oy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){on=xr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}on=null}}else on=An?xr(r.stateNode.nextSibling):null;return!0}function El(){on=An=null,lt=!1}function Tl(r){Ar===null?Ar=[r]:Ar.push(r)}var wl=Error(i(460)),My=Error(i(474)),$f={then:function(){}};function Uy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function yc(){}function Ly(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(yc,yc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===wl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(yc,yc);else{if(r=yt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===wl?Error(i(483)):r}throw bl=s,wl}}var bl=null;function Py(){if(bl===null)throw Error(i(459));var r=bl;return bl=null,r}var eo=null,Sl=0;function _c(r){var s=Sl;return Sl+=1,eo===null&&(eo=[]),Ly(eo,r,s)}function Al(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function vc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Vy(r){var s=r._init;return s(r._payload)}function By(r){function s(Q,H){if(r){var $=Q.deletions;$===null?(Q.deletions=[H],Q.flags|=16):$.push(H)}}function o(Q,H){if(!r)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function u(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function d(Q,H){return Q=fs(Q,H),Q.index=0,Q.sibling=null,Q}function g(Q,H,$){return Q.index=$,r?($=Q.alternate,$!==null?($=$.index,$<H?(Q.flags|=33554434,H):$):(Q.flags|=33554434,H)):(Q.flags|=1048576,H)}function S(Q){return r&&Q.alternate===null&&(Q.flags|=33554434),Q}function I(Q,H,$,le){return H===null||H.tag!==6?(H=qd($,Q.mode,le),H.return=Q,H):(H=d(H,$),H.return=Q,H)}function B(Q,H,$,le){var Ae=$.type;return Ae===p?oe(Q,H,$.props.children,le,$.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===te&&Vy(Ae)===H.type)?(H=d(H,$.props),Al(H,$),H.return=Q,H):(H=Pc($.type,$.key,$.props,null,Q.mode,le),Al(H,$),H.return=Q,H)}function K(Q,H,$,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=Hd($,Q.mode,le),H.return=Q,H):(H=d(H,$.children||[]),H.return=Q,H)}function oe(Q,H,$,le,Ae){return H===null||H.tag!==7?(H=pa($,Q.mode,le,Ae),H.return=Q,H):(H=d(H,$),H.return=Q,H)}function he(Q,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=qd(""+H,Q.mode,$),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return $=Pc(H.type,H.key,H.props,null,Q.mode,$),Al($,H),$.return=Q,$;case f:return H=Hd(H,Q.mode,$),H.return=Q,H;case te:var le=H._init;return H=le(H._payload),he(Q,H,$)}if(M(H)||W(H))return H=pa(H,Q.mode,$,null),H.return=Q,H;if(typeof H.then=="function")return he(Q,_c(H),$);if(H.$$typeof===b)return he(Q,Mc(Q,H),$);vc(Q,H)}return null}function Z(Q,H,$,le){var Ae=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ae!==null?null:I(Q,H,""+$,le);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===Ae?B(Q,H,$,le):null;case f:return $.key===Ae?K(Q,H,$,le):null;case te:return Ae=$._init,$=Ae($._payload),Z(Q,H,$,le)}if(M($)||W($))return Ae!==null?null:oe(Q,H,$,le,null);if(typeof $.then=="function")return Z(Q,H,_c($),le);if($.$$typeof===b)return Z(Q,H,Mc(Q,$),le);vc(Q,$)}return null}function ae(Q,H,$,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Q=Q.get($)||null,I(H,Q,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return Q=Q.get(le.key===null?$:le.key)||null,B(H,Q,le,Ae);case f:return Q=Q.get(le.key===null?$:le.key)||null,K(H,Q,le,Ae);case te:var $e=le._init;return le=$e(le._payload),ae(Q,H,$,le,Ae)}if(M(le)||W(le))return Q=Q.get($)||null,oe(H,Q,le,Ae,null);if(typeof le.then=="function")return ae(Q,H,$,_c(le),Ae);if(le.$$typeof===b)return ae(Q,H,$,Mc(H,le),Ae);vc(H,le)}return null}function Ie(Q,H,$,le){for(var Ae=null,$e=null,ke=H,Oe=H=0,rn=null;ke!==null&&Oe<$.length;Oe++){ke.index>Oe?(rn=ke,ke=null):rn=ke.sibling;var ut=Z(Q,ke,$[Oe],le);if(ut===null){ke===null&&(ke=rn);break}r&&ke&&ut.alternate===null&&s(Q,ke),H=g(ut,H,Oe),$e===null?Ae=ut:$e.sibling=ut,$e=ut,ke=rn}if(Oe===$.length)return o(Q,ke),lt&&ra(Q,Oe),Ae;if(ke===null){for(;Oe<$.length;Oe++)ke=he(Q,$[Oe],le),ke!==null&&(H=g(ke,H,Oe),$e===null?Ae=ke:$e.sibling=ke,$e=ke);return lt&&ra(Q,Oe),Ae}for(ke=u(ke);Oe<$.length;Oe++)rn=ae(ke,Q,Oe,$[Oe],le),rn!==null&&(r&&rn.alternate!==null&&ke.delete(rn.key===null?Oe:rn.key),H=g(rn,H,Oe),$e===null?Ae=rn:$e.sibling=rn,$e=rn);return r&&ke.forEach(function(vs){return s(Q,vs)}),lt&&ra(Q,Oe),Ae}function je(Q,H,$,le){if($==null)throw Error(i(151));for(var Ae=null,$e=null,ke=H,Oe=H=0,rn=null,ut=$.next();ke!==null&&!ut.done;Oe++,ut=$.next()){ke.index>Oe?(rn=ke,ke=null):rn=ke.sibling;var vs=Z(Q,ke,ut.value,le);if(vs===null){ke===null&&(ke=rn);break}r&&ke&&vs.alternate===null&&s(Q,ke),H=g(vs,H,Oe),$e===null?Ae=vs:$e.sibling=vs,$e=vs,ke=rn}if(ut.done)return o(Q,ke),lt&&ra(Q,Oe),Ae;if(ke===null){for(;!ut.done;Oe++,ut=$.next())ut=he(Q,ut.value,le),ut!==null&&(H=g(ut,H,Oe),$e===null?Ae=ut:$e.sibling=ut,$e=ut);return lt&&ra(Q,Oe),Ae}for(ke=u(ke);!ut.done;Oe++,ut=$.next())ut=ae(ke,Q,Oe,ut.value,le),ut!==null&&(r&&ut.alternate!==null&&ke.delete(ut.key===null?Oe:ut.key),H=g(ut,H,Oe),$e===null?Ae=ut:$e.sibling=ut,$e=ut);return r&&ke.forEach(function(PA){return s(Q,PA)}),lt&&ra(Q,Oe),Ae}function Nt(Q,H,$,le){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:e:{for(var Ae=$.key;H!==null;){if(H.key===Ae){if(Ae=$.type,Ae===p){if(H.tag===7){o(Q,H.sibling),le=d(H,$.props.children),le.return=Q,Q=le;break e}}else if(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===te&&Vy(Ae)===H.type){o(Q,H.sibling),le=d(H,$.props),Al(le,$),le.return=Q,Q=le;break e}o(Q,H);break}else s(Q,H);H=H.sibling}$.type===p?(le=pa($.props.children,Q.mode,le,$.key),le.return=Q,Q=le):(le=Pc($.type,$.key,$.props,null,Q.mode,le),Al(le,$),le.return=Q,Q=le)}return S(Q);case f:e:{for(Ae=$.key;H!==null;){if(H.key===Ae)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){o(Q,H.sibling),le=d(H,$.children||[]),le.return=Q,Q=le;break e}else{o(Q,H);break}else s(Q,H);H=H.sibling}le=Hd($,Q.mode,le),le.return=Q,Q=le}return S(Q);case te:return Ae=$._init,$=Ae($._payload),Nt(Q,H,$,le)}if(M($))return Ie(Q,H,$,le);if(W($)){if(Ae=W($),typeof Ae!="function")throw Error(i(150));return $=Ae.call($),je(Q,H,$,le)}if(typeof $.then=="function")return Nt(Q,H,_c($),le);if($.$$typeof===b)return Nt(Q,H,Mc(Q,$),le);vc(Q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(o(Q,H.sibling),le=d(H,$),le.return=Q,Q=le):(o(Q,H),le=qd($,Q.mode,le),le.return=Q,Q=le),S(Q)):o(Q,H)}return function(Q,H,$,le){try{Sl=0;var Ae=Nt(Q,H,$,le);return eo=null,Ae}catch(ke){if(ke===wl)throw ke;var $e=pr(29,ke,null,Q.mode);return $e.lanes=le,$e.return=Q,$e}finally{}}}var sa=By(!0),zy=By(!1),to=Ue(null),Ec=Ue(0);function jy(r,s){r=Ri,Qe(Ec,r),Qe(to,s),Ri=r|s.baseLanes}function Xf(){Qe(Ec,Ri),Qe(to,to.current)}function Wf(){Ri=Ec.current,at(to),at(Ec)}var hr=Ue(null),jr=null;function ts(r){var s=r.alternate;Qe(Kt,Kt.current&1),Qe(hr,r),jr===null&&(s===null||to.current!==null||s.memoizedState!==null)&&(jr=r)}function Fy(r){if(r.tag===22){if(Qe(Kt,Kt.current),Qe(hr,r),jr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(jr=r)}}else ns()}function ns(){Qe(Kt,Kt.current),Qe(hr,hr.current)}function gi(r){at(hr),jr===r&&(jr=null),at(Kt)}var Kt=Ue(0);function Tc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var SS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},AS=t.unstable_scheduleCallback,RS=t.unstable_NormalPriority,Qt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new SS,data:new Map,refCount:0}}function Rl(r){r.refCount--,r.refCount===0&&AS(RS,function(){r.controller.abort()})}var xl=null,Jf=0,no=0,ro=null;function xS(r,s){if(xl===null){var o=xl=[];Jf=0,no=sp(),ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jf++,s.then(qy,qy),s}function qy(){if(--Jf===0&&xl!==null){ro!==null&&(ro.status="fulfilled");var r=xl;xl=null,no=0,ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function IS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Hy=k.S;k.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xS(r,s),Hy!==null&&Hy(r,s)};var aa=Ue(null);function ed(){var r=aa.current;return r!==null?r:yt.pooledCache}function wc(r,s){s===null?Qe(aa,aa.current):Qe(aa,s.pool)}function Gy(){var r=ed();return r===null?null:{parent:Qt._currentValue,pool:r}}var rs=0,Ye=null,pt=null,Vt=null,bc=!1,io=!1,oa=!1,Sc=0,Il=0,so=null,CS=0;function Ut(){throw Error(i(321))}function td(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Gn(r[o],s[o]))return!1;return!0}function nd(r,s,o,u,d,g){return rs=g,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=r===null||r.memoizedState===null?la:is,oa=!1,g=o(u,d),oa=!1,io&&(g=Qy(s,o,u,d)),Ky(r),g}function Ky(r){k.H=Fr;var s=pt!==null&&pt.next!==null;if(rs=0,Vt=pt=Ye=null,bc=!1,Il=0,so=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&Oc(r)&&(tn=!0))}function Qy(r,s,o,u){Ye=r;var d=0;do{if(io&&(so=null),Il=0,io=!1,25<=d)throw Error(i(301));if(d+=1,Vt=pt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=ua,g=s(o,u)}while(io);return g}function kS(){var r=k.H,s=r.useState()[0];return s=typeof s.then=="function"?Cl(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(Ye.flags|=1024),s}function rd(){var r=Sc!==0;return Sc=0,r}function id(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function sd(r){if(bc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bc=!1}rs=0,Vt=pt=Ye=null,io=!1,Il=Sc=0,so=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ye.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Bt(){if(pt===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Vt===null?Ye.memoizedState:Vt.next;if(s!==null)Vt=s,pt=r;else{if(r===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Vt===null?Ye.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}var Ac;Ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Cl(r){var s=Il;return Il+=1,so===null&&(so=[]),r=Ly(so,r,s),s=Ye,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?la:is),r}function Rc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Cl(r);if(r.$$typeof===b)return mn(r)}throw Error(i(438,String(r)))}function ad(r){var s=null,o=Ye.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ac(),Ye.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=pe;return s.index++,o}function yi(r,s){return typeof s=="function"?s(r):s}function xc(r){var s=Bt();return od(s,pt,r)}function od(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var S=d.next;d.next=g.next,g.next=S}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var I=S=null,B=null,K=s,oe=!1;do{var he=K.lane&-536870913;if(he!==K.lane?(it&he)===he:(rs&he)===he){var Z=K.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),he===no&&(oe=!0);else if((rs&Z)===Z){K=K.next,Z===no&&(oe=!0);continue}else he={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(I=B=he,S=g):B=B.next=he,Ye.lanes|=Z,ds|=Z;he=K.action,oa&&o(g,he),g=K.hasEagerState?K.eagerState:o(g,he)}else Z={lane:he,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(I=B=Z,S=g):B=B.next=Z,Ye.lanes|=he,ds|=he;K=K.next}while(K!==null&&K!==s);if(B===null?S=g:B.next=I,!Gn(g,r.memoizedState)&&(tn=!0,oe&&(o=ro,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=B,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function ld(r){var s=Bt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do g=r(g,S.action),S=S.next;while(S!==d);Gn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Yy(r,s,o){var u=Ye,d=Bt(),g=lt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!Gn((pt||d).memoizedState,o);if(S&&(d.memoizedState=o,tn=!0),d=d.queue,hd(Wy.bind(null,u,d,r),[r]),d.getSnapshot!==s||S||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,ao(9,Xy.bind(null,u,d,o,s),{destroy:void 0},null),yt===null)throw Error(i(349));g||(rs&60)!==0||$y(u,s,o)}return o}function $y(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ye.updateQueue,s===null?(s=Ac(),Ye.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Xy(r,s,o,u){s.value=o,s.getSnapshot=u,Zy(s)&&Jy(r)}function Wy(r,s,o){return o(function(){Zy(s)&&Jy(r)})}function Zy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Gn(r,o)}catch{return!0}}function Jy(r){var s=es(r,2);s!==null&&Rn(s,r,2)}function ud(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),oa){Me(!0);try{o()}finally{Me(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},s}function e_(r,s,o,u){return r.baseState=o,od(r,pt,typeof u=="function"?u:yi)}function DS(r,s,o,u,d){if(kc(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,t_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function t_(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=k.T,S={};k.T=S;try{var I=o(d,u),B=k.S;B!==null&&B(S,I),n_(r,s,I)}catch(K){cd(r,s,K)}finally{k.T=g}}else try{g=o(d,u),n_(r,s,g)}catch(K){cd(r,s,K)}}function n_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){r_(r,s,u)},function(u){return cd(r,s,u)}):r_(r,s,o)}function r_(r,s,o){s.status="fulfilled",s.value=o,i_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,t_(r,o)))}function cd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,i_(s),s=s.next;while(s!==u)}r.action=null}function i_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function s_(r,s){return s}function a_(r,s){if(lt){var o=yt.formState;if(o!==null){e:{var u=Ye;if(lt){if(on){t:{for(var d=on,g=zr;d.nodeType!==8;){if(!g){d=null;break t}if(d=xr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=xr(d.nextSibling),u=d.data==="F!";break e}}ia(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:s},o.queue=u,o=S_.bind(null,Ye,u),u.dispatch=o,u=ud(!1),g=gd.bind(null,Ye,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=DS.bind(null,Ye,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function o_(r){var s=Bt();return l_(s,pt,r)}function l_(r,s,o){s=od(r,s,s_)[0],r=xc(yi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Cl(s):s;var u=Bt(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&(Ye.flags|=2048,ao(9,NS.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function NS(r,s){r.action=s}function u_(r){var s=Bt(),o=pt;if(o!==null)return l_(s,o,r);Bt(),s=s.memoizedState,o=Bt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ao(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Ye.updateQueue,s===null&&(s=Ac(),Ye.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function c_(){return Bt().memoizedState}function Ic(r,s,o,u){var d=Nn();Ye.flags|=r,d.memoizedState=ao(1|s,o,{destroy:void 0},u===void 0?null:u)}function Cc(r,s,o,u){var d=Bt();u=u===void 0?null:u;var g=d.memoizedState.inst;pt!==null&&u!==null&&td(u,pt.memoizedState.deps)?d.memoizedState=ao(s,o,g,u):(Ye.flags|=r,d.memoizedState=ao(1|s,o,g,u))}function h_(r,s){Ic(8390656,8,r,s)}function hd(r,s){Cc(2048,8,r,s)}function f_(r,s){return Cc(4,2,r,s)}function d_(r,s){return Cc(4,4,r,s)}function p_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function m_(r,s,o){o=o!=null?o.concat([r]):null,Cc(4,4,p_.bind(null,s,r),o)}function fd(){}function g_(r,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&td(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function y_(r,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&td(s,u[1]))return u[0];if(u=r(),oa){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,s],u}function dd(r,s,o){return o===void 0||(rs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=v0(),Ye.lanes|=r,ds|=r,o)}function __(r,s,o,u){return Gn(o,s)?o:to.current!==null?(r=dd(r,o,u),Gn(r,s)||(tn=!0),r):(rs&42)===0?(tn=!0,r.memoizedState=o):(r=v0(),Ye.lanes|=r,ds|=r,s)}function v_(r,s,o,u,d){var g=ve.p;ve.p=g!==0&&8>g?g:8;var S=k.T,I={};k.T=I,gd(r,!1,s,o);try{var B=d(),K=k.S;if(K!==null&&K(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=IS(B,u);kl(r,s,oe,$n(r))}else kl(r,s,u,$n(r))}catch(he){kl(r,s,{then:function(){},status:"rejected",reason:he},$n())}finally{ve.p=g,k.T=S}}function OS(){}function pd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=E_(r).queue;v_(r,d,s,Ne,o===null?OS:function(){return T_(r),o(u)})}function E_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function T_(r){var s=E_(r).next.queue;kl(r,s,{},$n())}function md(){return mn(Xl)}function w_(){return Bt().memoizedState}function b_(){return Bt().memoizedState}function MS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=os(o);var u=ls(s,r,o);u!==null&&(Rn(u,s,o),Ol(u,s,o)),s={cache:Zf()},r.payload=s;return}s=s.return}}function US(r,s,o){var u=$n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},kc(r)?A_(s,o):(o=Gf(r,s,o,u),o!==null&&(Rn(o,r,u),R_(o,s,u)))}function S_(r,s,o){var u=$n();kl(r,s,o,u)}function kl(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(kc(r))A_(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,I=g(S,o);if(d.hasEagerState=!0,d.eagerState=I,Gn(I,S))return dc(r,s,d,0),yt===null&&fc(),!1}catch{}finally{}if(o=Gf(r,s,d,u),o!==null)return Rn(o,r,u),R_(o,s,u),!0}return!1}function gd(r,s,o,u){if(u={lane:2,revertLane:sp(),action:u,hasEagerState:!1,eagerState:null,next:null},kc(r)){if(s)throw Error(i(479))}else s=Gf(r,o,u,2),s!==null&&Rn(s,r,2)}function kc(r){var s=r.alternate;return r===Ye||s!==null&&s===Ye}function A_(r,s){io=bc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function R_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Hi(r,o)}}var Fr={readContext:mn,use:Rc,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut};Fr.useCacheRefresh=Ut,Fr.useMemoCache=Ut,Fr.useHostTransitionStatus=Ut,Fr.useFormState=Ut,Fr.useActionState=Ut,Fr.useOptimistic=Ut;var la={readContext:mn,use:Rc,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:h_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ic(4194308,4,p_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ic(4194308,4,r,s)},useInsertionEffect:function(r,s){Ic(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(oa){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(oa){Me(!0);try{o(s)}finally{Me(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=US.bind(null,Ye,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=ud(r);var s=r.queue,o=S_.bind(null,Ye,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:fd,useDeferredValue:function(r,s){var o=Nn();return dd(o,r,s)},useTransition:function(){var r=ud(!1);return r=v_.bind(null,Ye,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ye,d=Nn();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),yt===null)throw Error(i(349));(it&60)!==0||$y(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,h_(Wy.bind(null,u,g,r),[r]),u.flags|=2048,ao(9,Xy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=yt.identifierPrefix;if(lt){var o=mi,u=pi;o=(u&~(1<<32-Be(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Sc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=CS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=MS.bind(null,Ye)}};la.useMemoCache=ad,la.useHostTransitionStatus=md,la.useFormState=a_,la.useActionState=a_,la.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=gd.bind(null,Ye,!0,o),o.dispatch=s,[r,s]};var is={readContext:mn,use:Rc,useCallback:g_,useContext:mn,useEffect:hd,useImperativeHandle:m_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:xc,useRef:c_,useState:function(){return xc(yi)},useDebugValue:fd,useDeferredValue:function(r,s){var o=Bt();return __(o,pt.memoizedState,r,s)},useTransition:function(){var r=xc(yi)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:Cl(r),s]},useSyncExternalStore:Yy,useId:w_};is.useCacheRefresh=b_,is.useMemoCache=ad,is.useHostTransitionStatus=md,is.useFormState=o_,is.useActionState=o_,is.useOptimistic=function(r,s){var o=Bt();return e_(o,pt,r,s)};var ua={readContext:mn,use:Rc,useCallback:g_,useContext:mn,useEffect:hd,useImperativeHandle:m_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:ld,useRef:c_,useState:function(){return ld(yi)},useDebugValue:fd,useDeferredValue:function(r,s){var o=Bt();return pt===null?dd(o,r,s):__(o,pt.memoizedState,r,s)},useTransition:function(){var r=ld(yi)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:Cl(r),s]},useSyncExternalStore:Yy,useId:w_};ua.useCacheRefresh=b_,ua.useMemoCache=ad,ua.useHostTransitionStatus=md,ua.useFormState=u_,ua.useActionState=u_,ua.useOptimistic=function(r,s){var o=Bt();return pt!==null?e_(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function yd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:P({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var _d={isMounted:function(r){return(r=r._reactInternals)?be(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=$n(),d=os(u);d.payload=s,o!=null&&(d.callback=o),s=ls(r,d,u),s!==null&&(Rn(s,r,u),Ol(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=$n(),d=os(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ls(r,d,u),s!==null&&(Rn(s,r,u),Ol(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),u=os(o);u.tag=2,s!=null&&(u.callback=s),s=ls(r,u,o),s!==null&&(Rn(s,r,o),Ol(s,r,o))}};function x_(r,s,o,u,d,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!yl(o,u)||!yl(d,g):!0}function I_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&_d.enqueueReplaceState(s,s.state,null)}function ca(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=P({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Dc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function C_(r){Dc(r)}function k_(r){console.error(r)}function D_(r){Dc(r)}function Nc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function N_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vd(r,s,o){return o=os(o),o.tag=3,o.payload={element:null},o.callback=function(){Nc(r,s)},o}function O_(r){return r=os(r),r.tag=3,r}function M_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){N_(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){N_(s,o,u),typeof d!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function LS(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Nl(s,o,d,!0),o=hr.current,o!==null){switch(o.tag){case 13:return jr===null?ep():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===$f?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),np(r,u,d)),!1;case 22:return o.flags|=65536,u===$f?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),np(r,u,d)),!1}throw Error(i(435,o.tag))}return np(r,u,d),ep(),!1}if(lt)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Yf&&(r=Error(i(422),{cause:u}),Tl(lr(r,o)))):(u!==Yf&&(s=Error(i(423),{cause:u}),Tl(lr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=lr(u,o),d=vd(r.stateNode,u,d),Md(r,d),Dt!==4&&(Dt=2)),!1;var g=Error(i(520),{cause:u});if(g=lr(g,o),jl===null?jl=[g]:jl.push(g),Dt!==4&&(Dt=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=vd(o.stateNode,u,r),Md(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ps===null||!ps.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=O_(d),M_(d,r,o,u),Md(o,d),!1}o=o.return}while(o!==null);return!1}var U_=Error(i(461)),tn=!1;function ln(r,s,o,u){s.child=r===null?zy(s,null,o,u):sa(s,r.child,o,u)}function L_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var S={};for(var I in u)I!=="ref"&&(S[I]=u[I])}else S=u;return fa(s),u=nd(r,s,o,S,g,d),I=rd(),r!==null&&!tn?(id(r,s,d),_i(r,s,d)):(lt&&I&&Kf(s),s.flags|=1,ln(r,s,u,d),s.child)}function P_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Fd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,V_(r,s,g,u,d)):(r=Pc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Id(r,d)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(S,u)&&r.ref===s.ref)return _i(r,s,d)}return s.flags|=1,r=fs(g,u),r.ref=s.ref,r.return=s,s.child=r}function V_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(yl(g,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=g,Id(r,d))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,_i(r,s,d)}return Ed(r,s,o,u,d)}function B_(r,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(Dl(r,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=S!==null?S.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return z_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&wc(s,S!==null?S.cachePool:null),S!==null?jy(s,S):Xf(),Fy(s);else return s.lanes=s.childLanes=536870912,z_(r,s,S!==null?S.baseLanes|o:o,o)}else S!==null?(wc(s,S.cachePool),jy(s,S),ns(),s.memoizedState=null):(r!==null&&wc(s,null),Xf(),ns());return ln(r,s,d,o),s.child}function z_(r,s,o,u){var d=ed();return d=d===null?null:{parent:Qt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&wc(s,null),Xf(),Fy(s),r!==null&&Nl(r,s,u,!0),null}function Dl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Ed(r,s,o,u,d){return fa(s),o=nd(r,s,o,u,void 0,d),u=rd(),r!==null&&!tn?(id(r,s,d),_i(r,s,d)):(lt&&u&&Kf(s),s.flags|=1,ln(r,s,o,d),s.child)}function j_(r,s,o,u,d,g){return fa(s),s.updateQueue=null,o=Qy(s,u,o,d),Ky(r),u=rd(),r!==null&&!tn?(id(r,s,g),_i(r,s,g)):(lt&&u&&Kf(s),s.flags|=1,ln(r,s,o,g),s.child)}function F_(r,s,o,u,d){if(fa(s),s.stateNode===null){var g=Wa,S=o.contextType;typeof S=="object"&&S!==null&&(g=mn(S)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_d,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Nd(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?mn(S):Wa,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(yd(s,o,S,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&_d.enqueueReplaceState(g,g.state,null),Ul(s,u,g,d),Ml(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,B=ca(o,I);g.props=B;var K=g.context,oe=o.contextType;S=Wa,typeof oe=="object"&&oe!==null&&(S=mn(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||K!==S)&&I_(s,g,u,S),as=!1;var Z=s.memoizedState;g.state=Z,Ul(s,u,g,d),Ml(),K=s.memoizedState,I||Z!==K||as?(typeof he=="function"&&(yd(s,o,he,u),K=s.memoizedState),(B=as||x_(s,o,B,u,Z,K,S))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=S,u=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Od(r,s),S=s.memoizedProps,oe=ca(o,S),g.props=oe,he=s.pendingProps,Z=g.context,K=o.contextType,B=Wa,typeof K=="object"&&K!==null&&(B=mn(K)),I=o.getDerivedStateFromProps,(K=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==he||Z!==B)&&I_(s,g,u,B),as=!1,Z=s.memoizedState,g.state=Z,Ul(s,u,g,d),Ml();var ae=s.memoizedState;S!==he||Z!==ae||as||r!==null&&r.dependencies!==null&&Oc(r.dependencies)?(typeof I=="function"&&(yd(s,o,I,u),ae=s.memoizedState),(oe=as||x_(s,o,oe,u,Z,ae,B)||r!==null&&r.dependencies!==null&&Oc(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ae,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ae,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ae),g.props=u,g.state=ae,g.context=B,u=oe):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Dl(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=sa(s,r.child,null,d),s.child=sa(s,null,o,d)):ln(r,s,o,d),s.memoizedState=g.state,r=s.child):r=_i(r,s,d),r}function q_(r,s,o,u){return El(),s.flags|=256,ln(r,s,o,u),s.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function wd(r){return{baseLanes:r,cachePool:Gy()}}function bd(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function H_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),S&&(d=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(lt){if(d?ts(s):ns(),lt){var I=on,B;if(B=I){e:{for(B=I,I=zr;B.nodeType!==8;){if(!I){I=null;break e}if(B=xr(B.nextSibling),B===null){I=null;break e}}I=B}I!==null?(s.memoizedState={dehydrated:I,treeContext:na!==null?{id:pi,overflow:mi}:null,retryLane:536870912},B=pr(18,null,null,0),B.stateNode=I,B.return=s,s.child=B,An=s,on=null,B=!0):B=!1}B||ia(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;gi(s)}return I=u.children,u=u.fallback,d?(ns(),d=s.mode,I=Ad({mode:"hidden",children:I},d),u=pa(u,d,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,d=s.child,d.memoizedState=wd(o),d.childLanes=bd(r,S,o),s.memoizedState=Td,u):(ts(s),Sd(s,I))}if(B=r.memoizedState,B!==null&&(I=B.dehydrated,I!==null)){if(g)s.flags&256?(ts(s),s.flags&=-257,s=Rd(r,s,o)):s.memoizedState!==null?(ns(),s.child=r.child,s.flags|=128,s=null):(ns(),d=u.fallback,I=s.mode,u=Ad({mode:"visible",children:u.children},I),d=pa(d,I,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,sa(s,r.child,null,o),u=s.child,u.memoizedState=wd(o),u.childLanes=bd(r,S,o),s.memoizedState=Td,s=d);else if(ts(s),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var K=S.dgst;S=K,u=Error(i(419)),u.stack="",u.digest=S,Tl({value:u,source:null,stack:null}),s=Rd(r,s,o)}else if(tn||Nl(r,s,o,!1),S=(o&r.childLanes)!==0,tn||S){if(S=yt,S!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==B.retryLane)throw B.retryLane=u,es(r,u),Rn(S,r,u),U_}I.data==="$?"||ep(),s=Rd(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=WS.bind(null,r),I._reactRetry=s,s=null):(r=B.treeContext,on=xr(I.nextSibling),An=s,lt=!0,Ar=null,zr=!1,r!==null&&(ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=na,pi=r.id,mi=r.overflow,na=s),s=Sd(s,u.children),s.flags|=4096);return s}return d?(ns(),d=u.fallback,I=s.mode,B=r.child,K=B.sibling,u=fs(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&31457280,K!==null?d=fs(K,d):(d=pa(d,I,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,I=r.child.memoizedState,I===null?I=wd(o):(B=I.cachePool,B!==null?(K=Qt._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=Gy(),I={baseLanes:I.baseLanes|o,cachePool:B}),d.memoizedState=I,d.childLanes=bd(r,S,o),s.memoizedState=Td,u):(ts(s),o=r.child,r=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function Sd(r,s){return s=Ad({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ad(r,s){return g0(r,s,0,null)}function Rd(r,s,o){return sa(s,r.child,null,o),r=Sd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function G_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),kd(r.return,s,o)}function xd(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function K_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(r,s,u.children,o),u=Kt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&G_(r,o,s);else if(r.tag===19)G_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qe(Kt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Tc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),xd(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Tc(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}xd(s,!0,o,null,g);break;case"together":xd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Nl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=fs(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=fs(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Id(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Oc(r)))}function PS(r,s,o){switch(s.tag){case 3:zn(s,s.stateNode.containerInfo),ss(s,Qt,r.memoizedState.cache),El();break;case 27:case 5:er(s);break;case 4:zn(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?H_(r,s,o):(ts(s),r=_i(r,s,o),r!==null?r.sibling:null);ts(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Nl(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return K_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(Kt,Kt.current),u)break;return null;case 22:case 23:return s.lanes=0,B_(r,s,o);case 24:ss(s,Qt,r.memoizedState.cache)}return _i(r,s,o)}function Q_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Id(r,o)&&(s.flags&128)===0)return tn=!1,PS(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,lt&&(s.flags&1048576)!==0&&Dy(s,gc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Fd(u)?(r=ca(u,r),s.tag=1,s=F_(null,s,u,r,o)):(s.tag=0,s=Ed(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===U){s.tag=11,s=L_(null,s,u,r,o);break e}else if(d===G){s.tag=14,s=P_(null,s,u,r,o);break e}}throw s=N(u)||u,Error(i(306,s,""))}}return s;case 0:return Ed(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ca(u,s.pendingProps),F_(r,s,u,d,o);case 3:e:{if(zn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,Od(r,s),Ul(s,g,null,o);var S=s.memoizedState;if(g=S.cache,ss(s,Qt,g),g!==d.cache&&Dd(s,[Qt],o,!0),Ml(),g=S.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=q_(r,s,g,o);break e}else if(g!==u){u=lr(Error(i(424)),s),Tl(u),s=q_(r,s,g,o);break e}else for(on=xr(s.stateNode.containerInfo.firstChild),An=s,lt=!0,Ar=null,zr=!0,o=zy(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(El(),g===u){s=_i(r,s,o);break e}ln(r,s,g,o)}s=s.child}return s;case 26:return Dl(r,s),r===null?(o=X0(s.type,null,s.pendingProps,null))?s.memoizedState=o:lt||(o=s.type,r=s.pendingProps,u=$c(Ot.current).createElement(o),u[Zt]=s,u[qt]=r,un(u,o,r),bt(u),s.stateNode=u):s.memoizedState=X0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return er(s),r===null&&lt&&(u=s.stateNode=Q0(s.type,s.pendingProps,Ot.current),An=s,zr=!0,on=xr(u.firstChild)),u=s.pendingProps.children,r!==null||lt?ln(r,s,u,o):s.child=sa(s,null,u,o),Dl(r,s),s.child;case 5:return r===null&&lt&&((d=u=on)&&(u=dA(u,s.type,s.pendingProps,zr),u!==null?(s.stateNode=u,An=s,on=xr(u.firstChild),zr=!1,d=!0):d=!1),d||ia(s)),er(s),d=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,pp(d,g)?u=null:S!==null&&pp(d,S)&&(s.flags|=32),s.memoizedState!==null&&(d=nd(r,s,kS,null,null,o),Xl._currentValue=d),Dl(r,s),ln(r,s,u,o),s.child;case 6:return r===null&&lt&&((r=o=on)&&(o=pA(o,s.pendingProps,zr),o!==null?(s.stateNode=o,An=s,on=null,r=!0):r=!1),r||ia(s)),null;case 13:return H_(r,s,o);case 4:return zn(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=sa(s,null,u,o):ln(r,s,u,o),s.child;case 11:return L_(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ss(s,s.type,u.value),ln(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,fa(s),d=mn(d),u=u(d),s.flags|=1,ln(r,s,u,o),s.child;case 14:return P_(r,s,s.type,s.pendingProps,o);case 15:return V_(r,s,s.type,s.pendingProps,o);case 19:return K_(r,s,o);case 22:return B_(r,s,o);case 24:return fa(s),u=mn(Qt),r===null?(d=ed(),d===null&&(d=yt,g=Zf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Nd(s),ss(s,Qt,d)):((r.lanes&o)!==0&&(Od(r,s),Ul(s,null,null,o),Ml()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ss(s,Qt,u)):(u=g.cache,ss(s,Qt,u),u!==d.cache&&Dd(s,[Qt],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Cd=Ue(null),ha=null,vi=null;function ss(r,s,o){Qe(Cd,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=Cd.current,at(Cd)}function kd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Dd(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var S=d.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=d;for(var B=0;B<s.length;B++)if(I.context===s[B]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),kd(g.return,o,r),u||(S=null);break e}g=I.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),kd(S,o,r),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===r){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Nl(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var I=d.type;Gn(d.pendingProps.value,S.value)||(r!==null?r.push(I):r=[I])}}else if(d===dn.current){if(S=d.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Xl):r=[Xl])}d=d.return}r!==null&&Dd(s,r,o,u),s.flags|=262144}function Oc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function fa(r){ha=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return Y_(ha,r)}function Mc(r,s){return ha===null&&fa(r),Y_(r,s)}function Y_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var as=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ls(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(At&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=pc(r),Cy(r,null,o),s}return dc(r,u,s,o),pc(r)}function Ol(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Hi(r,o)}}function Md(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Ud=!1;function Ml(){if(Ud){var r=ro;if(r!==null)throw r}}function Ul(r,s,o,u){Ud=!1;var d=r.updateQueue;as=!1;var g=d.firstBaseUpdate,S=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var B=I,K=B.next;B.next=null,S===null?g=K:S.next=K,S=B;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==S&&(I===null?oe.firstBaseUpdate=K:I.next=K,oe.lastBaseUpdate=B))}if(g!==null){var he=d.baseState;S=0,oe=K=B=null,I=g;do{var Z=I.lane&-536870913,ae=Z!==I.lane;if(ae?(it&Z)===Z:(u&Z)===Z){Z!==0&&Z===no&&(Ud=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ie=r,je=I;Z=s;var Nt=o;switch(je.tag){case 1:if(Ie=je.payload,typeof Ie=="function"){he=Ie.call(Nt,he,Z);break e}he=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=je.payload,Z=typeof Ie=="function"?Ie.call(Nt,he,Z):Ie,Z==null)break e;he=P({},he,Z);break e;case 2:as=!0}}Z=I.callback,Z!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=d.callbacks,ae===null?d.callbacks=[Z]:ae.push(Z))}else ae={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(K=oe=ae,B=he):oe=oe.next=ae,S|=Z;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);oe===null&&(B=he),d.baseState=B,d.firstBaseUpdate=K,d.lastBaseUpdate=oe,g===null&&(d.shared.lanes=0),ds|=S,r.lanes=S,r.memoizedState=he}}function $_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function X_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)$_(o[r],s)}function Ll(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==d)}}catch(I){gt(s,s.return,I)}}function us(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var S=u.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,d=s;var B=o;try{I()}catch(K){gt(d,B,K)}}}u=u.next}while(u!==g)}}catch(K){gt(s,s.return,K)}}function W_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{X_(s,o)}catch(u){gt(r,r.return,u)}}}function Z_(r,s,o){o.props=ca(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){gt(r,s,u)}}function da(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){gt(r,s,g)}}function Kn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){gt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){gt(r,s,d)}else o.current=null}function J_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){gt(r,r.return,d)}}function e0(r,s,o){try{var u=r.stateNode;lA(u,r.type,o,s),u[qt]=s}catch(d){gt(r,r.return,d)}}function t0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Ld(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||t0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Yc));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Pd(r,s,o),r=r.sibling;r!==null;)Pd(r,s,o),r=r.sibling}function Uc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Uc(r,s,o),r=r.sibling;r!==null;)Uc(r,s,o),r=r.sibling}var Ti=!1,kt=!1,Vd=!1,n0=typeof WeakSet=="function"?WeakSet:Set,nn=null,r0=!1;function VS(r,s){if(r=r.containerInfo,fp=th,r=Ey(r),zf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,I=-1,B=-1,K=0,oe=0,he=r,Z=null;t:for(;;){for(var ae;he!==o||d!==0&&he.nodeType!==3||(I=S+d),he!==g||u!==0&&he.nodeType!==3||(B=S+u),he.nodeType===3&&(S+=he.nodeValue.length),(ae=he.firstChild)!==null;)Z=he,he=ae;for(;;){if(he===r)break t;if(Z===o&&++K===d&&(I=S),Z===g&&++oe===u&&(B=S),(ae=he.nextSibling)!==null)break;he=Z,Z=he.parentNode}he=ae}o=I===-1||B===-1?null:{start:I,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:r,selectionRange:o},th=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=ca(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(je){gt(o,o.return,je)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)yp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":yp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}return Ie=r0,r0=!1,Ie}function i0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bi(r,o),u&4&&Ll(5,o);break;case 1:if(bi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){gt(o,o.return,I)}else{var d=ca(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(o,o.return,I)}}u&64&&W_(o),u&512&&da(o,o.return);break;case 3:if(bi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{X_(u,r)}catch(I){gt(o,o.return,I)}}break;case 26:bi(r,o),u&512&&da(o,o.return);break;case 27:case 5:bi(r,o),s===null&&u&4&&J_(o),u&512&&da(o,o.return);break;case 12:bi(r,o);break;case 13:bi(r,o),u&4&&o0(r,o);break;case 22:if(d=o.memoizedState!==null||Ti,!d){s=s!==null&&s.memoizedState!==null||kt;var g=Ti,S=kt;Ti=d,(kt=s)&&!S?cs(r,o,(o.subtreeFlags&8772)!==0):bi(r,o),Ti=g,kt=S}u&512&&(o.memoizedProps.mode==="manual"?da(o,o.return):Kn(o,o.return));break;default:bi(r,o)}}function s0(r){var s=r.alternate;s!==null&&(r.alternate=null,s0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&qs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,Qn=!1;function wi(r,s,o){for(o=o.child;o!==null;)a0(r,s,o),o=o.sibling}function a0(r,s,o){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(ie,o)}catch{}switch(o.tag){case 26:kt||Kn(o,s),wi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Kn(o,s);var u=zt,d=Qn;for(zt=o.stateNode,wi(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);qs(o),zt=u,Qn=d;break;case 5:kt||Kn(o,s);case 6:d=zt;var g=Qn;if(zt=null,wi(r,s,o),zt=d,Qn=g,zt!==null)if(Qn)try{r=zt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(S){gt(o,s,S)}else try{zt.removeChild(o.stateNode)}catch(S){gt(o,s,S)}break;case 18:zt!==null&&(Qn?(s=zt,o=o.stateNode,s.nodeType===8?gp(s.parentNode,o):s.nodeType===1&&gp(s,o),eu(s)):gp(zt,o.stateNode));break;case 4:u=zt,d=Qn,zt=o.stateNode.containerInfo,Qn=!0,wi(r,s,o),zt=u,Qn=d;break;case 0:case 11:case 14:case 15:kt||us(2,o,s),kt||us(4,o,s),wi(r,s,o);break;case 1:kt||(Kn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Z_(o,s,u)),wi(r,s,o);break;case 21:wi(r,s,o);break;case 22:kt||Kn(o,s),kt=(u=kt)||o.memoizedState!==null,wi(r,s,o),kt=u;break;default:wi(r,s,o)}}function o0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{eu(r)}catch(o){gt(s,s.return,o)}}function BS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new n0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new n0),s;default:throw Error(i(435,r.tag))}}function Bd(r,s){var o=BS(r);s.forEach(function(u){var d=ZS.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,S=s,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:zt=I.stateNode,Qn=!1;break e;case 3:zt=I.stateNode.containerInfo,Qn=!0;break e;case 4:zt=I.stateNode.containerInfo,Qn=!0;break e}I=I.return}if(zt===null)throw Error(i(160));a0(g,S,d),zt=null,Qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)l0(s,r),s=s.sibling}var Rr=null;function l0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),dr(r),u&4&&(us(3,r,r.return),Ll(3,r),us(5,r,r.return));break;case 1:fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),u&64&&Ti&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Rr;if(fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ki]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Zt]=r,bt(g),u=g;break e;case"link":var S=J0("link","href",d).get(u+(o.href||""));if(S){for(var I=0;I<S.length;I++)if(g=S[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(I,1);break t}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(S=J0("meta","content",d).get(u+(o.content||""))){for(I=0;I<S.length;I++)if(g=S[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(I,1);break t}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Zt]=r,bt(g),u=g}r.stateNode=u}else ev(d,r.type,r.stateNode);else r.stateNode=Z0(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ev(d,r.type,r.stateNode):Z0(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&e0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var B=d.firstChild;B;){var K=B.nextSibling,oe=B.nodeName;B[Ki]||oe==="HEAD"||oe==="BODY"||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||d.removeChild(B),B=K}for(var he=r.type,Z=d.attributes;Z.length;)d.removeAttributeNode(Z[0]);un(d,he,g),d[Zt]=r,d[qt]=g}catch(Ie){gt(r,r.return,Ie)}}case 5:if(fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),r.flags&32){d=r.stateNode;try{rr(d,"")}catch(Ie){gt(r,r.return,Ie)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,e0(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Vd=!0);break;case 6:if(fr(s,r),dr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ie){gt(r,r.return,Ie)}}break;case 3:if(Zc=null,d=Rr,Rr=Xc(s.containerInfo),fr(s,r),Rr=d,dr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{eu(s.containerInfo)}catch(Ie){gt(r,r.return,Ie)}Vd&&(Vd=!1,u0(r));break;case 4:u=Rr,Rr=Xc(r.stateNode.containerInfo),fr(s,r),dr(r),Rr=u;break;case 12:fr(s,r),dr(r);break;case 13:fr(s,r),dr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yd=Wt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bd(r,u)));break;case 22:if(u&512&&(kt||o===null||Kn(o,o.return)),B=r.memoizedState!==null,K=o!==null&&o.memoizedState!==null,oe=Ti,he=kt,Ti=oe||B,kt=he||K,fr(s,r),kt=he,Ti=oe,dr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=B?s._visibility&-2:s._visibility|1,B&&(s=Ti||kt,o===null||K||s||oo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){K=o=s;try{if(d=K.stateNode,B)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=K.stateNode,I=K.memoizedProps.style;var ae=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ie){gt(K,K.return,Ie)}}}else if(s.tag===6){if(o===null){K=s;try{K.stateNode.nodeValue=B?"":K.memoizedProps}catch(Ie){gt(K,K.return,Ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bd(r,o))));break;case 19:fr(s,r),dr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bd(r,u)));break;case 21:break;default:fr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(t0(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,g=Ld(r);Uc(r,g,d);break;case 5:var S=u.stateNode;u.flags&32&&(rr(S,""),u.flags&=-33);var I=Ld(r);Uc(r,I,S);break;case 3:case 4:var B=u.stateNode.containerInfo,K=Ld(r);Pd(r,K,B);break;default:throw Error(i(161))}}}catch(oe){gt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function u0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;u0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function bi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i0(r,s.alternate,s),s=s.sibling}function oo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),oo(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Z_(s,s.return,o),oo(s);break;case 26:case 27:case 5:Kn(s,s.return),oo(s);break;case 22:Kn(s,s.return),s.memoizedState===null&&oo(s);break;default:oo(s)}r=r.sibling}}function cs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:cs(d,g,o),Ll(4,g);break;case 1:if(cs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){gt(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var I=u.stateNode;try{var B=d.shared.hiddenCallbacks;if(B!==null)for(d.shared.hiddenCallbacks=null,d=0;d<B.length;d++)$_(B[d],I)}catch(K){gt(u,u.return,K)}}o&&S&64&&W_(g),da(g,g.return);break;case 26:case 27:case 5:cs(d,g,o),o&&u===null&&S&4&&J_(g),da(g,g.return);break;case 12:cs(d,g,o);break;case 13:cs(d,g,o),o&&S&4&&o0(d,g);break;case 22:g.memoizedState===null&&cs(d,g,o),da(g,g.return);break;default:cs(d,g,o)}s=s.sibling}}function zd(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Rl(o))}function jd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rl(r))}function hs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)c0(r,s,o,u),s=s.sibling}function c0(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:hs(r,s,o,u),d&2048&&Ll(9,s);break;case 3:hs(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rl(r)));break;case 12:if(d&2048){hs(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,I=g.onPostCommit;typeof I=="function"&&I(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){gt(s,s.return,B)}}else hs(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?hs(r,s,o,u):Pl(r,s):g._visibility&4?hs(r,s,o,u):(g._visibility|=4,lo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&zd(s.alternate,s);break;case 24:hs(r,s,o,u),d&2048&&jd(s.alternate,s);break;default:hs(r,s,o,u)}}function lo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,S=s,I=o,B=u,K=S.flags;switch(S.tag){case 0:case 11:case 15:lo(g,S,I,B,d),Ll(8,S);break;case 23:break;case 22:var oe=S.stateNode;S.memoizedState!==null?oe._visibility&4?lo(g,S,I,B,d):Pl(g,S):(oe._visibility|=4,lo(g,S,I,B,d)),d&&K&2048&&zd(S.alternate,S);break;case 24:lo(g,S,I,B,d),d&&K&2048&&jd(S.alternate,S);break;default:lo(g,S,I,B,d)}s=s.sibling}}function Pl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Pl(o,u),d&2048&&zd(u.alternate,u);break;case 24:Pl(o,u),d&2048&&jd(u.alternate,u);break;default:Pl(o,u)}s=s.sibling}}var Vl=8192;function uo(r){if(r.subtreeFlags&Vl)for(r=r.child;r!==null;)h0(r),r=r.sibling}function h0(r){switch(r.tag){case 26:uo(r),r.flags&Vl&&r.memoizedState!==null&&xA(Rr,r.memoizedState,r.memoizedProps);break;case 5:uo(r);break;case 3:case 4:var s=Rr;Rr=Xc(r.stateNode.containerInfo),uo(r),Rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,uo(r),Vl=s):uo(r));break;default:uo(r)}}function f0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Bl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,p0(u,r)}f0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d0(r),r=r.sibling}function d0(r){switch(r.tag){case 0:case 11:case 15:Bl(r),r.flags&2048&&us(9,r,r.return);break;case 3:Bl(r);break;case 12:Bl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Lc(r)):Bl(r);break;default:Bl(r)}}function Lc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,p0(u,r)}f0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:us(8,s,s.return),Lc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Lc(s));break;default:Lc(s)}r=r.sibling}}function p0(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=r;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(s0(u),u===o){nn=null;break e}if(d!==null){d.return=g,nn=d;break e}nn=g}}}function zS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,o,u){return new zS(r,s,o,u)}function Fd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fs(r,s){var o=r.alternate;return o===null?(o=pr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function m0(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Pc(r,s,o,u,d,g){var S=0;if(u=r,typeof r=="function")Fd(r)&&(S=1);else if(typeof r=="string")S=AA(r,o,It.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return pa(o.children,d,g,s);case m:S=8,d|=24;break;case y:return r=pr(12,o,s,d|2),r.elementType=y,r.lanes=g,r;case L:return r=pr(13,o,s,d),r.elementType=L,r.lanes=g,r;case F:return r=pr(19,o,s,d),r.elementType=F,r.lanes=g,r;case ee:return g0(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case b:S=10;break e;case R:S=9;break e;case U:S=11;break e;case G:S=14;break e;case te:S=16,u=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=pr(S,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function pa(r,s,o,u){return r=pr(7,r,u,s),r.lanes=o,r}function g0(r,s,o,u){r=pr(22,r,u,s),r.elementType=ee,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var S=es(g,2);S!==null&&(d._pendingVisibility|=2,Rn(S,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var S=es(g,2);S!==null&&(d._pendingVisibility&=-3,Rn(S,g,2))}}};return r.stateNode=d,r}function qd(r,s,o){return r=pr(6,r,null,s),r.lanes=o,r}function Hd(r,s,o){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Si(r){r.flags|=4}function y0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!tv(s)){if(s=hr.current,s!==null&&((it&4194176)===it?jr!==null:(it&62914560)!==it&&(it&536870912)===0||s!==jr))throw bl=$f,My;r.flags|=8192}}function Vc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Fi():536870912,r.lanes|=s,ho|=s)}function zl(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function St(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function jS(r,s,o){var u=s.pendingProps;switch(Qf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei(Qt),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(vl(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar!==null&&(Zd(Ar),Ar=null))),St(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(St(s),y0(s,o)):(St(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),St(s),y0(s,o)):(St(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),St(s),s.flags&=-16777217),null;case 27:Cr(s),o=Ot.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}r=It.current,vl(s)?Ny(s):(r=Q0(d,u,o),s.stateNode=r,Si(s))}return St(s),null;case 5:if(Cr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}if(r=It.current,vl(s))Ny(s);else{switch(d=$c(Ot.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Zt]=s,r[qt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(un(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return St(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ot.current,vl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||j0(r.nodeValue,o)),r||ia(s)}else r=$c(r).createTextNode(u),r[Zt]=s,s.stateNode=r}return St(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=vl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Zt]=s}else El(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),d=!1}else Ar!==null&&(Zd(Ar),Ar=null),d=!0;if(!d)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Vc(s,s.updateQueue),St(s),null;case 4:return kn(),r===null&&up(s.stateNode.containerInfo),St(s),null;case 10:return Ei(s.type),St(s),null;case 19:if(at(Kt),d=s.memoizedState,d===null)return St(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)zl(d,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Tc(r),g!==null){for(s.flags|=128,zl(d,!1),r=g.updateQueue,s.updateQueue=r,Vc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)m0(o,r),o=o.sibling;return Qe(Kt,Kt.current&1|2),s.child}r=r.sibling}d.tail!==null&&Wt()>Bc&&(s.flags|=128,u=!0,zl(d,!1),s.lanes=4194304)}else{if(!u)if(r=Tc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Vc(s,r),zl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!lt)return St(s),null}else 2*Wt()-d.renderingStartTime>Bc&&o!==536870912&&(s.flags|=128,u=!0,zl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Wt(),s.sibling=null,r=Kt.current,Qe(Kt,u?r&1|2:r&1),s):(St(s),null);case 22:case 23:return gi(s),Wf(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),o=s.updateQueue,o!==null&&Vc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&at(aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei(Qt),St(s),null;case 25:return null}throw Error(i(156,s.tag))}function FS(r,s){switch(Qf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(Qt),kn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Cr(s),null;case 13:if(gi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));El()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(Kt),null;case 4:return kn(),null;case 10:return Ei(s.type),null;case 22:case 23:return gi(s),Wf(),r!==null&&at(aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei(Qt),null;case 25:return null;default:return null}}function _0(r,s){switch(Qf(s),s.tag){case 3:Ei(Qt),kn();break;case 26:case 27:case 5:Cr(s);break;case 4:kn();break;case 13:gi(s);break;case 19:at(Kt);break;case 10:Ei(s.type);break;case 22:case 23:gi(s),Wf(),r!==null&&at(aa);break;case 24:Ei(Qt)}}var qS={getCacheForType:function(r){var s=mn(Qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},HS=typeof WeakMap=="function"?WeakMap:Map,At=0,yt=null,Xe=null,it=0,_t=0,Yn=null,Ai=!1,co=!1,Gd=!1,Ri=0,Dt=0,ds=0,ma=0,Kd=0,mr=0,ho=0,jl=null,qr=null,Qd=!1,Yd=0,Bc=1/0,zc=null,ps=null,jc=!1,ga=null,Fl=0,$d=0,Xd=null,ql=0,Wd=null;function $n(){if((At&2)!==0&&it!==0)return it&-it;if(k.T!==null){var r=no;return r!==0?r:sp()}return Qu()}function v0(){mr===0&&(mr=(it&536870912)===0||lt?tl():536870912);var r=hr.current;return r!==null&&(r.flags|=32),mr}function Rn(r,s,o){(r===yt&&_t===2||r.cancelPendingCommit!==null)&&(fo(r,0),xi(r,it,mr,!1)),Mt(r,o),((At&2)===0||r!==yt)&&(r===yt&&((At&2)===0&&(ma|=o),Dt===4&&xi(r,it,mr,!1)),Hr(r))}function E0(r,s,o){if((At&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||ji(r,s),d=u?QS(r,s):tp(r,s,!0),g=u;do{if(d===0){co&&!u&&xi(r,s,0,!1);break}else if(d===6)xi(r,s,0,!Ai);else{if(o=r.current.alternate,g&&!GS(o)){d=tp(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var I=r;d=jl;var B=I.current.memoizedState.isDehydrated;if(B&&(fo(I,S).flags|=256),S=tp(I,S,!1),S!==2){if(Gd&&!B){I.errorRecoveryDisabledLanes|=g,ma|=g,d=4;break e}g=qr,qr=d,g!==null&&Zd(g)}d=S}if(g=!1,d!==2)continue}}if(d===1){fo(r,0),xi(r,s,0,!0);break}e:{switch(u=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){xi(u,s,mr,!Ai);break e}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Yd+300-Wt(),10<g)){if(xi(u,s,mr,!Ai),tr(u,0)!==0)break e;u.timeoutHandle=H0(T0.bind(null,u,o,qr,zc,Qd,s,mr,ma,ho,Ai,2,-0,0),g);break e}T0(u,o,qr,zc,Qd,s,mr,ma,ho,Ai,0,-0,0)}}break}while(!0);Hr(r)}function Zd(r){qr===null?qr=r:qr.push.apply(qr,r)}function T0(r,s,o,u,d,g,S,I,B,K,oe,he,Z){var ae=s.subtreeFlags;if((ae&8192||(ae&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:RA},h0(s),s=IA(),s!==null)){r.cancelPendingCommit=s(I0.bind(null,r,o,u,d,S,I,B,1,he,Z)),xi(r,g,S,!K);return}I0(r,o,u,d,S,I,B,oe,he,Z)}function GS(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s,o,u){s&=~Kd,s&=~ma,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-Be(d),S=1<<g;u[g]=-1,d&=~S}o!==0&&qi(r,o,s)}function Fc(){return(At&6)===0?(Hl(0),!1):!0}function Jd(){if(Xe!==null){if(_t===0)var r=Xe.return;else r=Xe,vi=ha=null,sd(r),eo=null,Sl=0,r=Xe;for(;r!==null;)_0(r.alternate,r),r=r.return;Xe=null}}function fo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,cA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Jd(),yt=r,Xe=o=fs(r.current,null),it=s,_t=0,Yn=null,Ai=!1,co=ji(r,s),Gd=!1,ho=mr=Kd=ma=ds=Dt=0,qr=jl=null,Qd=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Be(u),g=1<<d;s|=r[d],u&=~g}return Ri=s,fc(),o}function w0(r,s){Ye=null,k.H=Fr,s===wl?(s=Py(),_t=3):s===My?(s=Py(),_t=4):_t=s===U_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Xe===null&&(Dt=1,Nc(r,lr(s,r.current)))}function b0(){var r=k.H;return k.H=Fr,r===null?Fr:r}function S0(){var r=k.A;return k.A=qS,r}function ep(){Dt=4,Ai||(it&4194176)!==it&&hr.current!==null||(co=!0),(ds&134217727)===0&&(ma&134217727)===0||yt===null||xi(yt,it,mr,!1)}function tp(r,s,o){var u=At;At|=2;var d=b0(),g=S0();(yt!==r||it!==s)&&(zc=null,fo(r,s)),s=!1;var S=Dt;e:do try{if(_t!==0&&Xe!==null){var I=Xe,B=Yn;switch(_t){case 8:Jd(),S=6;break e;case 3:case 2:case 6:hr.current===null&&(s=!0);var K=_t;if(_t=0,Yn=null,po(r,I,B,K),o&&co){S=0;break e}break;default:K=_t,_t=0,Yn=null,po(r,I,B,K)}}KS(),S=Dt;break}catch(oe){w0(r,oe)}while(!0);return s&&r.shellSuspendCounter++,vi=ha=null,At=u,k.H=d,k.A=g,Xe===null&&(yt=null,it=0,fc()),S}function KS(){for(;Xe!==null;)A0(Xe)}function QS(r,s){var o=At;At|=2;var u=b0(),d=S0();yt!==r||it!==s?(zc=null,Bc=Wt()+500,fo(r,s)):co=ji(r,s);e:do try{if(_t!==0&&Xe!==null){s=Xe;var g=Yn;t:switch(_t){case 1:_t=0,Yn=null,po(r,s,g,1);break;case 2:if(Uy(g)){_t=0,Yn=null,R0(s);break}s=function(){_t===2&&yt===r&&(_t=7),Hr(r)},g.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Uy(g)?(_t=0,Yn=null,R0(s)):(_t=0,Yn=null,po(r,s,g,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var I=Xe;if(!S||tv(S)){_t=0,Yn=null;var B=I.sibling;if(B!==null)Xe=B;else{var K=I.return;K!==null?(Xe=K,qc(K)):Xe=null}break t}}_t=0,Yn=null,po(r,s,g,5);break;case 6:_t=0,Yn=null,po(r,s,g,6);break;case 8:Jd(),Dt=6;break e;default:throw Error(i(462))}}YS();break}catch(oe){w0(r,oe)}while(!0);return vi=ha=null,k.H=u,k.A=d,At=o,Xe!==null?0:(yt=null,it=0,fc(),Dt)}function YS(){for(;Xe!==null&&!pn();)A0(Xe)}function A0(r){var s=Q_(r.alternate,r,Ri);r.memoizedProps=r.pendingProps,s===null?qc(r):Xe=s}function R0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=j_(o,s,s.pendingProps,s.type,void 0,it);break;case 11:s=j_(o,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:sd(s);default:_0(o,s),s=Xe=m0(s,Ri),s=Q_(o,s,Ri)}r.memoizedProps=r.pendingProps,s===null?qc(r):Xe=s}function po(r,s,o,u){vi=ha=null,sd(s),eo=null,Sl=0;var d=s.return;try{if(LS(r,d,s,o,it)){Dt=1,Nc(r,lr(o,r.current)),Xe=null;return}}catch(g){if(d!==null)throw Xe=d,g;Dt=1,Nc(r,lr(o,r.current)),Xe=null;return}s.flags&32768?(lt||u===1?r=!0:co||(it&536870912)!==0?r=!1:(Ai=r=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),x0(s,r)):qc(s)}function qc(r){var s=r;do{if((s.flags&32768)!==0){x0(s,Ai);return}r=s.return;var o=jS(s.alternate,s,Ri);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);Dt===0&&(Dt=5)}function x0(r,s){do{var o=FS(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);Dt=6,Xe=null}function I0(r,s,o,u,d,g,S,I,B,K){var oe=k.T,he=ve.p;try{ve.p=2,k.T=null,$S(r,s,o,u,he,d,g,S,I,B,K)}finally{k.T=oe,ve.p=he}}function $S(r,s,o,u,d,g,S,I){do mo();while(ga!==null);if((At&6)!==0)throw Error(i(327));var B=r.finishedWork;if(u=r.finishedLanes,B===null)return null;if(r.finishedWork=null,r.finishedLanes=0,B===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var K=B.lanes|B.childLanes;if(K|=Hf,Gu(r,u,K,g,S,I),r===yt&&(Xe=yt=null,it=0),(B.subtreeFlags&10256)===0&&(B.flags&10256)===0||jc||(jc=!0,$d=K,Xd=o,JS(_,function(){return mo(),null})),o=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||o?(o=k.T,k.T=null,g=ve.p,ve.p=2,S=At,At|=4,VS(r,B),l0(B,r),vS(dp,r.containerInfo),th=!!fp,dp=fp=null,r.current=B,i0(r,B.alternate,B),Tr(),At=S,ve.p=g,k.T=o):r.current=B,jc?(jc=!1,ga=r,Fl=u):C0(r,K),K=r.pendingLanes,K===0&&(ps=null),tt(B.stateNode),Hr(r),s!==null)for(d=r.onRecoverableError,B=0;B<s.length;B++)K=s[B],d(K.value,{componentStack:K.stack});return(Fl&3)!==0&&mo(),K=r.pendingLanes,(u&4194218)!==0&&(K&42)!==0?r===Wd?ql++:(ql=0,Wd=r):ql=0,Hl(0),null}function C0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Rl(s)))}function mo(){if(ga!==null){var r=ga,s=$d;$d=0;var o=Ku(Fl),u=k.T,d=ve.p;try{if(ve.p=32>o?32:o,k.T=null,ga===null)var g=!1;else{o=Xd,Xd=null;var S=ga,I=Fl;if(ga=null,Fl=0,(At&6)!==0)throw Error(i(331));var B=At;if(At|=4,d0(S.current),c0(S,S.current,I,o),At=B,Hl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(ie,S)}catch{}g=!0}return g}finally{ve.p=d,k.T=u,C0(r,s)}}return!1}function k0(r,s,o){s=lr(o,s),s=vd(r.stateNode,s,2),r=ls(r,s,2),r!==null&&(Mt(r,2),Hr(r))}function gt(r,s,o){if(r.tag===3)k0(r,r,o);else for(;s!==null;){if(s.tag===3){k0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ps===null||!ps.has(u))){r=lr(o,r),o=O_(2),u=ls(s,o,2),u!==null&&(M_(o,u,s,r),Mt(u,2),Hr(u));break}}s=s.return}}function np(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new HS;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Gd=!0,d.add(o),r=XS.bind(null,r,s,o),s.then(r,r))}function XS(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,yt===r&&(it&o)===o&&(Dt===4||Dt===3&&(it&62914560)===it&&300>Wt()-Yd?(At&2)===0&&fo(r,0):Kd|=o,ho===it&&(ho=0)),Hr(r)}function D0(r,s){s===0&&(s=Fi()),r=es(r,s),r!==null&&(Mt(r,s),Hr(r))}function WS(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),D0(r,o)}function ZS(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),D0(r,o)}function JS(r,s){return jn(r,s)}var Hc=null,go=null,rp=!1,Gc=!1,ip=!1,ya=0;function Hr(r){r!==go&&r.next===null&&(go===null?Hc=go=r:go=go.next=r),Gc=!0,rp||(rp=!0,tA(eA))}function Hl(r,s){if(!ip&&Gc){ip=!0;do for(var o=!1,u=Hc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var S=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-Be(42|r)+1)-1,g&=d&~(S&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,M0(u,g))}else g=it,g=tr(u,u===yt?g:0),(g&3)===0||ji(u,g)||(o=!0,M0(u,g));u=u.next}while(o);ip=!1}}function eA(){Gc=rp=!1;var r=0;ya!==0&&(uA()&&(r=ya),ya=0);for(var s=Wt(),o=null,u=Hc;u!==null;){var d=u.next,g=N0(u,s);g===0?(u.next=null,o===null?Hc=d:o.next=d,d===null&&(go=o)):(o=u,(r!==0||(g&3)!==0)&&(Gc=!0)),u=d}Hl(r)}function N0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-Be(g),I=1<<S,B=d[S];B===-1?((I&o)===0||(I&u)!==0)&&(d[S]=Oa(I,s)):B<=s&&(r.expiredLanes|=I),g&=~I}if(s=yt,o=it,o=tr(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&_t===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Fn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ji(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Fn(u),Ku(o)){case 2:case 8:o=A;break;case 32:o=_;break;case 268435456:o=D;break;default:o=_}return u=O0.bind(null,r),o=jn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Fn(u),r.callbackPriority=2,r.callbackNode=null,2}function O0(r,s){var o=r.callbackNode;if(mo()&&r.callbackNode!==o)return null;var u=it;return u=tr(r,r===yt?u:0),u===0?null:(E0(r,u,s),N0(r,Wt()),r.callbackNode!=null&&r.callbackNode===o?O0.bind(null,r):null)}function M0(r,s){if(mo())return null;E0(r,s,!0)}function tA(r){hA(function(){(At&6)!==0?jn(ne,r):r()})}function sp(){return ya===0&&(ya=tl()),ya}function U0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Or(""+r)}function L0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function nA(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=U0((d[qt]||null).action),S=u.submitter;S&&(s=(s=S[qt]||null)?U0(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var I=new za("action","action",null,u,d);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ya!==0){var B=S?L0(d,S):new FormData(d);pd(o,{pending:!0,data:B,method:d.method,action:g},null,B)}}else typeof g=="function"&&(I.preventDefault(),B=S?L0(d,S):new FormData(d),pd(o,{pending:!0,data:B,method:d.method,action:g},g,B))},currentTarget:d}]})}}for(var ap=0;ap<Iy.length;ap++){var op=Iy[ap],rA=op.toLowerCase(),iA=op[0].toUpperCase()+op.slice(1);Sr(rA,"on"+iA)}Sr(by,"onAnimationEnd"),Sr(Sy,"onAnimationIteration"),Sr(Ay,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(TS,"onTransitionRun"),Sr(wS,"onTransitionStart"),Sr(bS,"onTransitionCancel"),Sr(Ry,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function P0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var I=u[S],B=I.instance,K=I.currentTarget;if(I=I.listener,B!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=K;try{g(d)}catch(oe){Dc(oe)}d.currentTarget=null,g=B}else for(S=0;S<u.length;S++){if(I=u[S],B=I.instance,K=I.currentTarget,I=I.listener,B!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=K;try{g(d)}catch(oe){Dc(oe)}d.currentTarget=null,g=B}}}}function Je(r,s){var o=s[Fs];o===void 0&&(o=s[Fs]=new Set);var u=r+"__bubble";o.has(u)||(V0(s,r,2,!1),o.add(u))}function lp(r,s,o){var u=0;s&&(u|=4),V0(o,r,u,s)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function up(r){if(!r[Kc]){r[Kc]=!0,rl.forEach(function(o){o!=="selectionchange"&&(sA.has(o)||lp(o,!1,r),lp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Kc]||(s[Kc]=!0,lp("selectionchange",!1,s))}}function V0(r,s,o,u){switch(ov(s)){case 2:var d=DA;break;case 8:d=NA;break;default:d=wp}o=d.bind(null,s,o,r),d=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function cp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(S===4)for(S=u.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===d||B.nodeType===8&&B.parentNode===d))return;S=S.return}for(;I!==null;){if(S=br(I),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){u=g=S;continue e}I=I.parentNode}}u=u.return}Wu(function(){var K=g,oe=Ba(o),he=[];e:{var Z=xy.get(r);if(Z!==void 0){var ae=za,Ie=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":ae=Ka;break;case"focusin":Ie="focus",ae=qa;break;case"focusout":Ie="blur",ae=qa;break;case"beforeblur":case"afterblur":ae=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=sc;break;case by:case Sy:case Ay:ae=Ha;break;case Ry:ae=oc;break;case"scroll":case"scrollend":ae=Zu;break;case"wheel":ae=Qa;break;case"copy":case"cut":case"paste":ae=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=ml;break;case"toggle":case"beforetoggle":ae=uc}var je=(s&4)!==0,Nt=!je&&(r==="scroll"||r==="scrollend"),Q=je?Z!==null?Z+"Capture":null:Z;je=[];for(var H=K,$;H!==null;){var le=H;if($=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||$===null||Q===null||(le=Qs(H,Q),le!=null&&je.push(Kl(H,le,$))),Nt)break;H=H.return}0<je.length&&(Z=new ae(Z,Ie,null,o,oe),he.push({event:Z,listeners:je}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Z&&o!==ir&&(Ie=o.relatedTarget||o.fromElement)&&(br(Ie)||Ie[si]))break e;if((ae||Z)&&(Z=oe.window===oe?oe:(Z=oe.ownerDocument)?Z.defaultView||Z.parentWindow:window,ae?(Ie=o.relatedTarget||o.toElement,ae=K,Ie=Ie?br(Ie):null,Ie!==null&&(Nt=be(Ie),je=Ie.tag,Ie!==Nt||je!==5&&je!==27&&je!==6)&&(Ie=null)):(ae=null,Ie=K),ae!==Ie)){if(je=ar,le="onMouseLeave",Q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(je=ml,le="onPointerLeave",Q="onPointerEnter",H="pointer"),Nt=ae==null?Z:Qi(ae),$=Ie==null?Z:Qi(Ie),Z=new je(le,H+"leave",ae,o,oe),Z.target=Nt,Z.relatedTarget=$,le=null,br(oe)===K&&(je=new je(Q,H+"enter",Ie,o,oe),je.target=$,je.relatedTarget=Nt,le=je),Nt=le,ae&&Ie)t:{for(je=ae,Q=Ie,H=0,$=je;$;$=yo($))H++;for($=0,le=Q;le;le=yo(le))$++;for(;0<H-$;)je=yo(je),H--;for(;0<$-H;)Q=yo(Q),$--;for(;H--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=yo(je),Q=yo(Q)}je=null}else je=null;ae!==null&&B0(he,Z,ae,je,!1),Ie!==null&&Nt!==null&&B0(he,Nt,Ie,je,!0)}}e:{if(Z=K?Qi(K):window,ae=Z.nodeName&&Z.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Z.type==="file")var Ae=fy;else if(Gt(Z))if(dy)Ae=yS;else{Ae=mS;var $e=pS}else ae=Z.nodeName,!ae||ae.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&ll(K.elementType)&&(Ae=fy):Ae=gS;if(Ae&&(Ae=Ae(r,K))){di(he,Ae,o,oe);break e}$e&&$e(r,Z,K),r==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Va(Z,"number",Z.value)}switch($e=K?Qi(K):window,r){case"focusin":(Gt($e)||$e.contentEditable==="true")&&(Ya=$e,jf=K,_l=null);break;case"focusout":_l=jf=Ya=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Ty(he,o,oe);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Ty(he,o,oe)}var ke;if(Vr)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nt?re(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(w&&o.locale!=="ko"&&(nt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nt&&(ke=cl()):(Mr=oe,Ji="value"in Mr?Mr.value:Mr.textContent,nt=!0)),$e=Qc(K,Oe),0<$e.length&&(Oe=new dl(Oe,r,null,o,oe),he.push({event:Oe,listeners:$e}),ke?Oe.data=ke:(ke=ye(o),ke!==null&&(Oe.data=ke)))),(ke=v?Ht(r,o):rt(r,o))&&(Oe=Qc(K,"onBeforeInput"),0<Oe.length&&($e=new dl("onBeforeInput","beforeinput",null,o,oe),he.push({event:$e,listeners:Oe}),$e.data=ke)),nA(he,r,K,o,oe)}P0(he,s)})}function Kl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Qc(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Qs(r,o),d!=null&&u.unshift(Kl(r,d,g)),d=Qs(r,s),d!=null&&u.push(Kl(r,d,g))),r=r.return}return u}function yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function B0(r,s,o,u,d){for(var g=s._reactName,S=[];o!==null&&o!==u;){var I=o,B=I.alternate,K=I.stateNode;if(I=I.tag,B!==null&&B===u)break;I!==5&&I!==26&&I!==27||K===null||(B=K,d?(K=Qs(o,g),K!=null&&S.unshift(Kl(o,K,B))):d||(K=Qs(o,g),K!=null&&S.push(Kl(o,K,B)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function z0(r){return(typeof r=="string"?r:""+r).replace(aA,`
`).replace(oA,"")}function j0(r,s){return s=z0(s),z0(r)===s}function Yc(){}function mt(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":Xi(r,"class",u);break;case"tabIndex":Xi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(r,o,u);break;case"style":Xu(r,u,g);break;case"data":if(s!=="object"){Xi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Or(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&mt(r,s,"name",d.name,d,null),mt(r,s,"formEncType",d.formEncType,d,null),mt(r,s,"formMethod",d.formMethod,d,null),mt(r,s,"formTarget",d.formTarget,d,null)):(mt(r,s,"encType",d.encType,d,null),mt(r,s,"method",d.method,d,null),mt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Or(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Yc);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Or(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Je("beforetoggle",r),Je("toggle",r),$i(r,"popover",u);break;case"xlinkActuate":nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$i(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mf.get(o)||o,$i(r,o,u))}}function hp(r,s,o,u,d,g){switch(o){case"style":Xu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):$i(r,o,u)}}}function un(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,g,S,o,null)}}d&&mt(r,s,"srcSet",o.srcSet,o,null),u&&mt(r,s,"src",o.src,o,null);return;case"input":Je("invalid",r);var I=g=S=d=null,B=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":d=oe;break;case"type":S=oe;break;case"checked":B=oe;break;case"defaultChecked":K=oe;break;case"value":g=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:mt(r,s,u,oe,o,null)}}Gs(r,g,I,B,K,S,d,!1),Hs(r);return;case"select":Je("invalid",r),u=S=g=null;for(d in o)if(o.hasOwnProperty(d)&&(I=o[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":S=I;break;case"multiple":u=I;default:mt(r,s,d,I,o,null)}s=g,o=S,r.multiple=!!u,s!=null?ot(r,!!u,s,!1):o!=null&&ot(r,!!u,o,!0);return;case"textarea":Je("invalid",r),g=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(I=o[S],I!=null))switch(S){case"value":u=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:mt(r,s,S,I,o,null)}Zi(r,u,d,g),Hs(r);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(r,s,B,u,o,null)}return;case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(u=0;u<Gl.length;u++)Je(Gl[u],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,K,u,o,null)}return;default:if(ll(s)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&hp(r,s,oe,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&mt(r,s,I,u,o,null))}function lA(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,S=null,I=null,B=null,K=null,oe=null;for(ae in o){var he=o[ae];if(o.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":B=he;default:u.hasOwnProperty(ae)||mt(r,s,ae,null,u,he)}}for(var Z in u){var ae=u[Z];if(he=o[Z],u.hasOwnProperty(Z)&&(ae!=null||he!=null))switch(Z){case"type":g=ae;break;case"name":d=ae;break;case"checked":K=ae;break;case"defaultChecked":oe=ae;break;case"value":S=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ae!==he&&mt(r,s,Z,ae,u,he)}}Wi(r,S,I,B,K,oe,g,d);return;case"select":ae=S=I=Z=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":ae=B;default:u.hasOwnProperty(g)||mt(r,s,g,null,u,B)}for(d in u)if(g=u[d],B=o[d],u.hasOwnProperty(d)&&(g!=null||B!=null))switch(d){case"value":Z=g;break;case"defaultValue":I=g;break;case"multiple":S=g;default:g!==B&&mt(r,s,d,g,u,B)}s=I,o=S,u=ae,Z!=null?ot(r,!!o,Z,!1):!!u!=!!o&&(s!=null?ot(r,!!o,s,!0):ot(r,!!o,o?[]:"",!1));return;case"textarea":ae=Z=null;for(I in o)if(d=o[I],o.hasOwnProperty(I)&&d!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:mt(r,s,I,null,u,d)}for(S in u)if(d=u[S],g=o[S],u.hasOwnProperty(S)&&(d!=null||g!=null))switch(S){case"value":Z=d;break;case"defaultValue":ae=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&mt(r,s,S,d,u,g)}Ks(r,Z,ae);return;case"option":for(var Ie in o)if(Z=o[Ie],o.hasOwnProperty(Ie)&&Z!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:mt(r,s,Ie,null,u,Z)}for(B in u)if(Z=u[B],ae=o[B],u.hasOwnProperty(B)&&Z!==ae&&(Z!=null||ae!=null))switch(B){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:mt(r,s,B,Z,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)Z=o[je],o.hasOwnProperty(je)&&Z!=null&&!u.hasOwnProperty(je)&&mt(r,s,je,null,u,Z);for(K in u)if(Z=u[K],ae=o[K],u.hasOwnProperty(K)&&Z!==ae&&(Z!=null||ae!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:mt(r,s,K,Z,u,ae)}return;default:if(ll(s)){for(var Nt in o)Z=o[Nt],o.hasOwnProperty(Nt)&&Z!==void 0&&!u.hasOwnProperty(Nt)&&hp(r,s,Nt,void 0,u,Z);for(oe in u)Z=u[oe],ae=o[oe],!u.hasOwnProperty(oe)||Z===ae||Z===void 0&&ae===void 0||hp(r,s,oe,Z,u,ae);return}}for(var Q in o)Z=o[Q],o.hasOwnProperty(Q)&&Z!=null&&!u.hasOwnProperty(Q)&&mt(r,s,Q,null,u,Z);for(he in u)Z=u[he],ae=o[he],!u.hasOwnProperty(he)||Z===ae||Z==null&&ae==null||mt(r,s,he,Z,u,ae)}var fp=null,dp=null;function $c(r){return r.nodeType===9?r:r.ownerDocument}function F0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function pp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mp=null;function uA(){var r=window.event;return r&&r.type==="popstate"?r===mp?!1:(mp=r,!0):(mp=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(r){return G0.resolve(null).then(r).catch(fA)}:H0;function fA(r){setTimeout(function(){throw r})}function gp(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){r.removeChild(d),eu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);eu(s)}function yp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yp(o),qs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function dA(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ki])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=xr(r.nextSibling),r===null)break}return null}function pA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=xr(r.nextSibling),r===null))return null;return r}function xr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function K0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Q0(r,s,o){switch(s=$c(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var gr=new Map,Y0=new Set;function Xc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ii=ve.d;ve.d={f:mA,r:gA,D:yA,C:_A,L:vA,m:EA,X:wA,S:TA,M:bA};function mA(){var r=Ii.f(),s=Fc();return r||s}function gA(r){var s=ai(r);s!==null&&s.tag===5&&s.type==="form"?T_(s):Ii.r(r)}var _o=typeof document>"u"?null:document;function $0(r,s,o){var u=_o;if(u&&typeof s=="string"&&s){var d=Ct(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Y0.has(d)||(Y0.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",r),bt(s),u.head.appendChild(s)))}}function yA(r){Ii.D(r),$0("dns-prefetch",r,null)}function _A(r,s){Ii.C(r,s),$0("preconnect",r,s)}function vA(r,s,o){Ii.L(r,s,o);var u=_o;if(u&&r&&s){var d='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ct(o.imageSizes)+'"]')):d+='[href="'+Ct(r)+'"]';var g=d;switch(s){case"style":g=vo(r);break;case"script":g=Eo(r)}gr.has(g)||(r=P({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),gr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(Ql(g))||s==="script"&&u.querySelector(Yl(g))||(s=u.createElement("link"),un(s,"link",r),bt(s),u.head.appendChild(s)))}}function EA(r,s){Ii.m(r,s);var o=_o;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(r)}if(!gr.has(g)&&(r=P({rel:"modulepreload",href:r},s),gr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yl(g)))return}u=o.createElement("link"),un(u,"link",r),bt(u),o.head.appendChild(u)}}}function TA(r,s,o){Ii.S(r,s,o);var u=_o;if(u&&r){var d=Yi(u).hoistableStyles,g=vo(r);s=s||"default";var S=d.get(g);if(!S){var I={loading:0,preload:null};if(S=u.querySelector(Ql(g)))I.loading=5;else{r=P({rel:"stylesheet",href:r,"data-precedence":s},o),(o=gr.get(g))&&_p(r,o);var B=S=u.createElement("link");bt(B),un(B,"link",r),B._p=new Promise(function(K,oe){B.onload=K,B.onerror=oe}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Wc(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:I},d.set(g,S)}}}function wA(r,s){Ii.X(r,s);var o=_o;if(o&&r){var u=Yi(o).hoistableScripts,d=Eo(r),g=u.get(d);g||(g=o.querySelector(Yl(d)),g||(r=P({src:r,async:!0},s),(s=gr.get(d))&&vp(r,s),g=o.createElement("script"),bt(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function bA(r,s){Ii.M(r,s);var o=_o;if(o&&r){var u=Yi(o).hoistableScripts,d=Eo(r),g=u.get(d);g||(g=o.querySelector(Yl(d)),g||(r=P({src:r,async:!0,type:"module"},s),(s=gr.get(d))&&vp(r,s),g=o.createElement("script"),bt(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function X0(r,s,o,u){var d=(d=Ot.current)?Xc(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vo(o.href),o=Yi(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=vo(o.href);var g=Yi(d).hoistableStyles,S=g.get(r);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=d.querySelector(Ql(r)))&&!g._p&&(S.instance=g,S.state.loading=5),gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gr.set(r,o),g||SA(d,r,o,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eo(o),o=Yi(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vo(r){return'href="'+Ct(r)+'"'}function Ql(r){return'link[rel="stylesheet"]['+r+"]"}function W0(r){return P({},r,{"data-precedence":r.precedence,precedence:null})}function SA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),bt(s),r.head.appendChild(s))}function Eo(r){return'[src="'+Ct(r)+'"]'}function Yl(r){return"script[async]"+r}function Z0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var d=P({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),un(u,"style",d),Wc(u,o.precedence,r),s.instance=u;case"stylesheet":d=vo(o.href);var g=r.querySelector(Ql(d));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=W0(o),(d=gr.get(d))&&_p(u,d),g=(r.ownerDocument||r).createElement("link"),bt(g);var S=g;return S._p=new Promise(function(I,B){S.onload=I,S.onerror=B}),un(g,"link",u),s.state.loading|=4,Wc(g,o.precedence,r),s.instance=g;case"script":return g=Eo(o.src),(d=r.querySelector(Yl(g)))?(s.instance=d,bt(d),d):(u=o,(d=gr.get(g))&&(u=P({},o),vp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),bt(d),un(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Wc(u,o.precedence,r));return s.instance}function Wc(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,S=0;S<u.length;S++){var I=u[S];if(I.dataset.precedence===s)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function _p(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Zc=null;function J0(r,s,o){if(Zc===null){var u=new Map,d=Zc=new Map;d.set(o,u)}else d=Zc,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Ki]||g[Zt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var I=u.get(S);I?I.push(g):u.set(S,[g])}}return u}function ev(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function AA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var $l=null;function RA(){}function xA(r,s,o){if($l===null)throw Error(i(475));var u=$l;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=vo(o.href),g=r.querySelector(Ql(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Jc.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=W0(o),(d=gr.get(d))&&_p(o,d),g=g.createElement("link"),bt(g);var S=g;S._p=new Promise(function(I,B){S.onload=I,S.onerror=B}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Jc.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function IA(){if($l===null)throw Error(i(475));var r=$l;return r.stylesheets&&r.count===0&&Ep(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Ep(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)Ep(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var eh=null;function Ep(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,eh=new Map,s.forEach(CA,r),eh=null,Jc.call(r))}function CA(r,s){if(!(s.state.loading&4)){var o=eh.get(r);if(o)var u=o.get(null);else{o=new Map,eh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var S=d[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=s.instance,S=d.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,d),o.set(S,d),this.count++,u=Jc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Xl={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function kA(r,s,o,u,d,g,S,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function nv(r,s,o,u,d,g,S,I,B,K,oe,he){return r=new kA(r,s,o,S,I,B,K,he),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),r.current=g,g.stateNode=r,s=Zf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Nd(g),r}function rv(r){return r?(r=Wa,r):Wa}function iv(r,s,o,u,d,g){d=rv(d),u.context===null?u.context=d:u.pendingContext=d,u=os(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ls(r,u,s),o!==null&&(Rn(o,r,s),Ol(o,r,s))}function sv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tp(r,s){sv(r,s),(r=r.alternate)&&sv(r,s)}function av(r){if(r.tag===13){var s=es(r,67108864);s!==null&&Rn(s,r,67108864),Tp(r,67108864)}}var th=!0;function DA(r,s,o,u){var d=k.T;k.T=null;var g=ve.p;try{ve.p=2,wp(r,s,o,u)}finally{ve.p=g,k.T=d}}function NA(r,s,o,u){var d=k.T;k.T=null;var g=ve.p;try{ve.p=8,wp(r,s,o,u)}finally{ve.p=g,k.T=d}}function wp(r,s,o,u){if(th){var d=bp(u);if(d===null)cp(r,s,u,nh,o),lv(r,u);else if(MA(d,r,s,o,u))u.stopPropagation();else if(lv(r,u),s&4&&-1<OA.indexOf(r)){for(;d!==null;){var g=ai(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=wr(g.pendingLanes);if(S!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var B=1<<31-Be(S);I.entanglements[1]|=B,S&=~B}Hr(g),(At&6)===0&&(Bc=Wt()+500,Hl(0))}}break;case 13:I=es(g,2),I!==null&&Rn(I,g,2),Fc(),Tp(g,2)}if(g=bp(u),g===null&&cp(r,s,u,nh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else cp(r,s,u,null,o)}}function bp(r){return r=Ba(r),Sp(r)}var nh=null;function Sp(r){if(nh=null,r=br(r),r!==null){var s=be(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=He(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return nh=r,null}function ov(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wn()){case ne:return 2;case A:return 8;case _:case E:return 32;case D:return 268435456;default:return 32}default:return 32}}var Ap=!1,ms=null,gs=null,ys=null,Wl=new Map,Zl=new Map,_s=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(r,s){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Jl(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ai(s),s!==null&&av(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function MA(r,s,o,u,d){switch(s){case"focusin":return ms=Jl(ms,r,s,o,u,d),!0;case"dragenter":return gs=Jl(gs,r,s,o,u,d),!0;case"mouseover":return ys=Jl(ys,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Wl.set(g,Jl(Wl.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Zl.set(g,Jl(Zl.get(g)||null,r,s,o,u,d)),!0}return!1}function uv(r){var s=br(r.target);if(s!==null){var o=be(s);if(o!==null){if(s=o.tag,s===13){if(s=He(o),s!==null){r.blockedOn=s,Gi(r.priority,function(){if(o.tag===13){var u=$n(),d=es(o,u);d!==null&&Rn(d,o,u),Tp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=bp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ir=u,o.target.dispatchEvent(u),ir=null}else return s=ai(o),s!==null&&av(s),r.blockedOn=o,!1;s.shift()}return!0}function cv(r,s,o){rh(r)&&o.delete(s)}function UA(){Ap=!1,ms!==null&&rh(ms)&&(ms=null),gs!==null&&rh(gs)&&(gs=null),ys!==null&&rh(ys)&&(ys=null),Wl.forEach(cv),Zl.forEach(cv)}function ih(r,s){r.blockedOn===s&&(r.blockedOn=null,Ap||(Ap=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,UA)))}var sh=null;function hv(r){sh!==r&&(sh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sh===r&&(sh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Sp(u||o)===null)continue;break}var g=ai(o);g!==null&&(r.splice(s,3),s-=3,pd(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function eu(r){function s(B){return ih(B,r)}ms!==null&&ih(ms,r),gs!==null&&ih(gs,r),ys!==null&&ih(ys,r),Wl.forEach(s),Zl.forEach(s);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)uv(o),o.blockedOn===null&&_s.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],S=d[qt]||null;if(typeof g=="function")S||hv(o);else if(S){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,S=g[qt]||null)I=S.formAction;else if(Sp(d)!==null)continue}else I=S.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),hv(o)}}}function Rp(r){this._internalRoot=r}ah.prototype.render=Rp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=$n();iv(o,u,r,s,null,null)},ah.prototype.unmount=Rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&mo(),iv(r.current,2,null,r,null,null),Fc(),s[si]=null}};function ah(r){this._internalRoot=r}ah.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,r),o===0&&uv(r)}};var fv=e.version;if(fv!=="19.0.0")throw Error(i(527,fv,"19.0.0"));ve.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=se(s),r=r!==null?_e(r):null,r=r===null?null:r.stateNode,r};var LA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:br,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ie=oh.inject(LA),xe=oh}catch{}}return ru.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=C_,g=k_,S=D_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=nv(r,1,!1,null,null,o,u,d,g,S,I,null),r[si]=s.current,up(r.nodeType===8?r.parentNode:r),new Rp(s)},ru.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=C_,S=k_,I=D_,B=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=nv(r,1,!0,s,o??null,u,d,g,S,I,B,K),s.context=rv(null),o=s.current,u=$n(),d=os(u),d.callback=null,ls(o,d,u),s.current.lanes=u,Mt(s,u),Hr(s),r[si]=s.current,up(r),new ah(s)},ru.version="19.0.0",ru}var Rv;function eR(){if(Rv)return Dp.exports;Rv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=JA(),Dp.exports}var tR=eR();const nR=xu(tR),rR=()=>{};var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},iR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let R=(f&15)<<2|m>>6,b=m&63;p||(b=64,c||(R=64)),i.push(n[y],n[T],n[R],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||m==null||T==null)throw new sR;const R=l<<2|f>>4;if(i.push(R),m!==64){const b=f<<4&240|m>>2;if(i.push(b),T!==64){const U=m<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=BT(t);return zT.encodeByteArray(e,!0)},Dh=function(t){return aR(t).replace(/\./g,"")},jT=function(t){try{return zT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=()=>oR().__FIREBASE_DEFAULTS__,uR=()=>{if(typeof process>"u"||typeof xv>"u")return;const t=xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jT(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return rR()||lR()||uR()||cR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FT=t=>{var e,n;return(n=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qT=t=>{const e=FT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},HT=()=>{var t;return(t=tf())===null||t===void 0?void 0:t.config},GT=t=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dh(JSON.stringify(n)),Dh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function dR(){var t;const e=(t=tf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _R(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vR(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TR,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?wR(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ii(a,f,i)}}function wR(t,e){return t.replace(bR,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const bR=/\{\$([^}]+)}/g;function SR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mi(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Iv(l)&&Iv(c)){if(!Mi(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Iv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function AR(t,e){const n=new RR(t,e);return n.subscribe.bind(n)}class RR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");xR(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new hR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kR(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(t){return t===_a?void 0:t}function kR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const NR={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},OR=We.INFO,MR={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},UR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=MR[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const LR=(t,e)=>e.some(n=>t instanceof n);let Cv,kv;function PR(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,lm=new WeakMap,YT=new WeakMap,Lp=new WeakMap,Gm=new WeakMap;function BR(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(xs(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function zR(t){if(lm.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});lm.set(t,e)}let um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jR(t){um=t(um)}function FR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Pp(this),e,...n);return YT.set(i,e.sort?e.sort():[e]),xs(i)}:VR().includes(t)?function(...e){return t.apply(Pp(this),e),xs(QT.get(this))}:function(...e){return xs(t.apply(Pp(this),e))}}function qR(t){return typeof t=="function"?FR(t):(t instanceof IDBTransaction&&zR(t),LR(t,PR())?new Proxy(t,um):t)}function xs(t){if(t instanceof IDBRequest)return BR(t);if(Lp.has(t))return Lp.get(t);const e=qR(t);return e!==t&&(Lp.set(t,e),Gm.set(e,t)),e}const Pp=t=>Gm.get(t);function HR(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=xs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(xs(c.result),p.oldVersion,p.newVersion,xs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const GR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],Vp=new Map;function Dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=KR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||GR.includes(n)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),a&&p.done]))[0]};return Vp.set(e,l),l}jR(t=>({...t,get:(e,n,i)=>Dv(e,n)||t.get(e,n,i),has:(e,n)=>!!Dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",Nv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Hm("@firebase/app"),$R="@firebase/app-compat",XR="@firebase/analytics-compat",WR="@firebase/analytics",ZR="@firebase/app-check-compat",JR="@firebase/app-check",ex="@firebase/auth",tx="@firebase/auth-compat",nx="@firebase/database",rx="@firebase/data-connect",ix="@firebase/database-compat",sx="@firebase/functions",ax="@firebase/functions-compat",ox="@firebase/installations",lx="@firebase/installations-compat",ux="@firebase/messaging",cx="@firebase/messaging-compat",hx="@firebase/performance",fx="@firebase/performance-compat",dx="@firebase/remote-config",px="@firebase/remote-config-compat",mx="@firebase/storage",gx="@firebase/storage-compat",yx="@firebase/firestore",_x="@firebase/vertexai",vx="@firebase/firestore-compat",Ex="firebase",Tx="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",wx={[cm]:"fire-core",[$R]:"fire-core-compat",[WR]:"fire-analytics",[XR]:"fire-analytics-compat",[JR]:"fire-app-check",[ZR]:"fire-app-check-compat",[ex]:"fire-auth",[tx]:"fire-auth-compat",[nx]:"fire-rtdb",[rx]:"fire-data-connect",[ix]:"fire-rtdb-compat",[sx]:"fire-fn",[ax]:"fire-fn-compat",[ox]:"fire-iid",[lx]:"fire-iid-compat",[ux]:"fire-fcm",[cx]:"fire-fcm-compat",[hx]:"fire-perf",[fx]:"fire-perf-compat",[dx]:"fire-rc",[px]:"fire-rc-compat",[mx]:"fire-gcs",[gx]:"fire-gcs-compat",[yx]:"fire-fst",[vx]:"fire-fst-compat",[_x]:"fire-vertex","fire-js":"fire-js",[Ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,bx=new Map,fm=new Map;function Ov(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(fm.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(const n of Nh.values())Ov(n,t);for(const n of bx.values())Ov(n,t);return!0}function nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Iu("app","Firebase",Sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=Tx;function $T(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(n||(n=HT()),!n)throw Is.create("no-options");const l=Nh.get(a);if(l){if(Mi(n,l.options)&&Mi(i,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new DR(a);for(const p of fm.values())c.addComponent(p);const f=new Ax(n,i,c);return Nh.set(a,f),f}function Km(t=hm){const e=Nh.get(t);if(!e&&t===hm&&HT())return $T();if(!e)throw Is.create("no-app",{appName:t});return e}function Xr(t,e,n){var i;let a=(i=wx[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(f.join(" "));return}ba(new Ds(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firebase-heartbeat-database",xx=1,Eu="firebase-heartbeat-store";let Bp=null;function XT(){return Bp||(Bp=HR(Rx,xx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Bp}async function Ix(t){try{const n=(await XT()).transaction(Eu),i=await n.objectStore(Eu).get(WT(t));return await n.done,i}catch(e){if(e instanceof ii)Ui.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function Mv(t,e){try{const i=(await XT()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(e,WT(t)),await i.done}catch(n){if(n instanceof ii)Ui.warn(n.message);else{const i=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(i.message)}}}function WT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=1024,kx=30;class Dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ox(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Uv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>kx){const c=Mx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uv(),{heartbeatsToSend:i,unsentEntries:a}=Nx(this._heartbeatsCache.heartbeats),l=Dh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ui.warn(n),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function Nx(t,e=Cx){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Lv(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Lv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vR()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ix(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Lv(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}function Mx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){ba(new Ds("platform-logger",e=>new QR(e),"PRIVATE")),ba(new Ds("heartbeat",e=>new Dx(e),"PRIVATE")),Xr(cm,Nv,t),Xr(cm,Nv,"esm2017"),Xr("fire-js","")}Ux("");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,ZT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,N){function k(){}k.prototype=N.prototype,V.D=N.prototype,V.prototype=new k,V.prototype.constructor=V,V.C=function(P,z,j){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return N.prototype[z].apply(P,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,N,k){k||(k=0);var P=Array(16);if(typeof N=="string")for(var z=0;16>z;++z)P[z]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(z=0;16>z;++z)P[z]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=V.g[0],k=V.g[1],z=V.g[2];var j=V.g[3],O=N+(j^k&(z^j))+P[0]+3614090360&4294967295;N=k+(O<<7&4294967295|O>>>25),O=j+(z^N&(k^z))+P[1]+3905402710&4294967295,j=N+(O<<12&4294967295|O>>>20),O=z+(k^j&(N^k))+P[2]+606105819&4294967295,z=j+(O<<17&4294967295|O>>>15),O=k+(N^z&(j^N))+P[3]+3250441966&4294967295,k=z+(O<<22&4294967295|O>>>10),O=N+(j^k&(z^j))+P[4]+4118548399&4294967295,N=k+(O<<7&4294967295|O>>>25),O=j+(z^N&(k^z))+P[5]+1200080426&4294967295,j=N+(O<<12&4294967295|O>>>20),O=z+(k^j&(N^k))+P[6]+2821735955&4294967295,z=j+(O<<17&4294967295|O>>>15),O=k+(N^z&(j^N))+P[7]+4249261313&4294967295,k=z+(O<<22&4294967295|O>>>10),O=N+(j^k&(z^j))+P[8]+1770035416&4294967295,N=k+(O<<7&4294967295|O>>>25),O=j+(z^N&(k^z))+P[9]+2336552879&4294967295,j=N+(O<<12&4294967295|O>>>20),O=z+(k^j&(N^k))+P[10]+4294925233&4294967295,z=j+(O<<17&4294967295|O>>>15),O=k+(N^z&(j^N))+P[11]+2304563134&4294967295,k=z+(O<<22&4294967295|O>>>10),O=N+(j^k&(z^j))+P[12]+1804603682&4294967295,N=k+(O<<7&4294967295|O>>>25),O=j+(z^N&(k^z))+P[13]+4254626195&4294967295,j=N+(O<<12&4294967295|O>>>20),O=z+(k^j&(N^k))+P[14]+2792965006&4294967295,z=j+(O<<17&4294967295|O>>>15),O=k+(N^z&(j^N))+P[15]+1236535329&4294967295,k=z+(O<<22&4294967295|O>>>10),O=N+(z^j&(k^z))+P[1]+4129170786&4294967295,N=k+(O<<5&4294967295|O>>>27),O=j+(k^z&(N^k))+P[6]+3225465664&4294967295,j=N+(O<<9&4294967295|O>>>23),O=z+(N^k&(j^N))+P[11]+643717713&4294967295,z=j+(O<<14&4294967295|O>>>18),O=k+(j^N&(z^j))+P[0]+3921069994&4294967295,k=z+(O<<20&4294967295|O>>>12),O=N+(z^j&(k^z))+P[5]+3593408605&4294967295,N=k+(O<<5&4294967295|O>>>27),O=j+(k^z&(N^k))+P[10]+38016083&4294967295,j=N+(O<<9&4294967295|O>>>23),O=z+(N^k&(j^N))+P[15]+3634488961&4294967295,z=j+(O<<14&4294967295|O>>>18),O=k+(j^N&(z^j))+P[4]+3889429448&4294967295,k=z+(O<<20&4294967295|O>>>12),O=N+(z^j&(k^z))+P[9]+568446438&4294967295,N=k+(O<<5&4294967295|O>>>27),O=j+(k^z&(N^k))+P[14]+3275163606&4294967295,j=N+(O<<9&4294967295|O>>>23),O=z+(N^k&(j^N))+P[3]+4107603335&4294967295,z=j+(O<<14&4294967295|O>>>18),O=k+(j^N&(z^j))+P[8]+1163531501&4294967295,k=z+(O<<20&4294967295|O>>>12),O=N+(z^j&(k^z))+P[13]+2850285829&4294967295,N=k+(O<<5&4294967295|O>>>27),O=j+(k^z&(N^k))+P[2]+4243563512&4294967295,j=N+(O<<9&4294967295|O>>>23),O=z+(N^k&(j^N))+P[7]+1735328473&4294967295,z=j+(O<<14&4294967295|O>>>18),O=k+(j^N&(z^j))+P[12]+2368359562&4294967295,k=z+(O<<20&4294967295|O>>>12),O=N+(k^z^j)+P[5]+4294588738&4294967295,N=k+(O<<4&4294967295|O>>>28),O=j+(N^k^z)+P[8]+2272392833&4294967295,j=N+(O<<11&4294967295|O>>>21),O=z+(j^N^k)+P[11]+1839030562&4294967295,z=j+(O<<16&4294967295|O>>>16),O=k+(z^j^N)+P[14]+4259657740&4294967295,k=z+(O<<23&4294967295|O>>>9),O=N+(k^z^j)+P[1]+2763975236&4294967295,N=k+(O<<4&4294967295|O>>>28),O=j+(N^k^z)+P[4]+1272893353&4294967295,j=N+(O<<11&4294967295|O>>>21),O=z+(j^N^k)+P[7]+4139469664&4294967295,z=j+(O<<16&4294967295|O>>>16),O=k+(z^j^N)+P[10]+3200236656&4294967295,k=z+(O<<23&4294967295|O>>>9),O=N+(k^z^j)+P[13]+681279174&4294967295,N=k+(O<<4&4294967295|O>>>28),O=j+(N^k^z)+P[0]+3936430074&4294967295,j=N+(O<<11&4294967295|O>>>21),O=z+(j^N^k)+P[3]+3572445317&4294967295,z=j+(O<<16&4294967295|O>>>16),O=k+(z^j^N)+P[6]+76029189&4294967295,k=z+(O<<23&4294967295|O>>>9),O=N+(k^z^j)+P[9]+3654602809&4294967295,N=k+(O<<4&4294967295|O>>>28),O=j+(N^k^z)+P[12]+3873151461&4294967295,j=N+(O<<11&4294967295|O>>>21),O=z+(j^N^k)+P[15]+530742520&4294967295,z=j+(O<<16&4294967295|O>>>16),O=k+(z^j^N)+P[2]+3299628645&4294967295,k=z+(O<<23&4294967295|O>>>9),O=N+(z^(k|~j))+P[0]+4096336452&4294967295,N=k+(O<<6&4294967295|O>>>26),O=j+(k^(N|~z))+P[7]+1126891415&4294967295,j=N+(O<<10&4294967295|O>>>22),O=z+(N^(j|~k))+P[14]+2878612391&4294967295,z=j+(O<<15&4294967295|O>>>17),O=k+(j^(z|~N))+P[5]+4237533241&4294967295,k=z+(O<<21&4294967295|O>>>11),O=N+(z^(k|~j))+P[12]+1700485571&4294967295,N=k+(O<<6&4294967295|O>>>26),O=j+(k^(N|~z))+P[3]+2399980690&4294967295,j=N+(O<<10&4294967295|O>>>22),O=z+(N^(j|~k))+P[10]+4293915773&4294967295,z=j+(O<<15&4294967295|O>>>17),O=k+(j^(z|~N))+P[1]+2240044497&4294967295,k=z+(O<<21&4294967295|O>>>11),O=N+(z^(k|~j))+P[8]+1873313359&4294967295,N=k+(O<<6&4294967295|O>>>26),O=j+(k^(N|~z))+P[15]+4264355552&4294967295,j=N+(O<<10&4294967295|O>>>22),O=z+(N^(j|~k))+P[6]+2734768916&4294967295,z=j+(O<<15&4294967295|O>>>17),O=k+(j^(z|~N))+P[13]+1309151649&4294967295,k=z+(O<<21&4294967295|O>>>11),O=N+(z^(k|~j))+P[4]+4149444226&4294967295,N=k+(O<<6&4294967295|O>>>26),O=j+(k^(N|~z))+P[11]+3174756917&4294967295,j=N+(O<<10&4294967295|O>>>22),O=z+(N^(j|~k))+P[2]+718787259&4294967295,z=j+(O<<15&4294967295|O>>>17),O=k+(j^(z|~N))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+j&4294967295}i.prototype.u=function(V,N){N===void 0&&(N=V.length);for(var k=N-this.blockSize,P=this.B,z=this.h,j=0;j<N;){if(z==0)for(;j<=k;)a(this,V,j),j+=this.blockSize;if(typeof V=="string"){for(;j<N;)if(P[z++]=V.charCodeAt(j++),z==this.blockSize){a(this,P),z=0;break}}else for(;j<N;)if(P[z++]=V[j++],z==this.blockSize){a(this,P),z=0;break}}this.h=z,this.o+=N},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;var k=8*this.o;for(N=V.length-8;N<V.length;++N)V[N]=k&255,k/=256;for(this.u(V),V=Array(16),N=k=0;4>N;++N)for(var P=0;32>P;P+=8)V[k++]=this.g[N]>>>P&255;return V};function l(V,N){var k=f;return Object.prototype.hasOwnProperty.call(k,V)?k[V]:k[V]=N(V)}function c(V,N){this.h=N;for(var k=[],P=!0,z=V.length-1;0<=z;z--){var j=V[z]|0;P&&j==N||(k[z]=j,P=!1)}this.g=k}var f={};function p(V){return-128<=V&&128>V?l(V,function(N){return new c([N|0],0>N?-1:0)}):new c([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return F(m(-V));for(var N=[],k=1,P=0;V>=k;P++)N[P]=V/k|0,k*=4294967296;return new c(N,0)}function y(V,N){if(V.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V.charAt(0)=="-")return F(y(V.substring(1),N));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(N,8)),P=T,z=0;z<V.length;z+=8){var j=Math.min(8,V.length-z),O=parseInt(V.substring(z,z+j),N);8>j?(j=m(Math.pow(N,j)),P=P.j(j).add(m(O))):(P=P.j(k),P=P.add(m(O)))}return P}var T=p(0),R=p(1),b=p(16777216);t=c.prototype,t.m=function(){if(L(this))return-F(this).m();for(var V=0,N=1,k=0;k<this.g.length;k++){var P=this.i(k);V+=(0<=P?P:4294967296+P)*N,N*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(U(this))return"0";if(L(this))return"-"+F(this).toString(V);for(var N=m(Math.pow(V,6)),k=this,P="";;){var z=pe(k,N).g;k=G(k,z.j(N));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(V);if(k=z,U(k))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function U(V){if(V.h!=0)return!1;for(var N=0;N<V.g.length;N++)if(V.g[N]!=0)return!1;return!0}function L(V){return V.h==-1}t.l=function(V){return V=G(this,V),L(V)?-1:U(V)?0:1};function F(V){for(var N=V.g.length,k=[],P=0;P<N;P++)k[P]=~V.g[P];return new c(k,~V.h).add(R)}t.abs=function(){return L(this)?F(this):this},t.add=function(V){for(var N=Math.max(this.g.length,V.g.length),k=[],P=0,z=0;z<=N;z++){var j=P+(this.i(z)&65535)+(V.i(z)&65535),O=(j>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);P=O>>>16,j&=65535,O&=65535,k[z]=O<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function G(V,N){return V.add(F(N))}t.j=function(V){if(U(this)||U(V))return T;if(L(this))return L(V)?F(this).j(F(V)):F(F(this).j(V));if(L(V))return F(this.j(F(V)));if(0>this.l(b)&&0>V.l(b))return m(this.m()*V.m());for(var N=this.g.length+V.g.length,k=[],P=0;P<2*N;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var z=0;z<V.g.length;z++){var j=this.i(P)>>>16,O=this.i(P)&65535,Ee=V.i(z)>>>16,Te=V.i(z)&65535;k[2*P+2*z]+=O*Te,te(k,2*P+2*z),k[2*P+2*z+1]+=j*Te,te(k,2*P+2*z+1),k[2*P+2*z+1]+=O*Ee,te(k,2*P+2*z+1),k[2*P+2*z+2]+=j*Ee,te(k,2*P+2*z+2)}for(P=0;P<N;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=N;P<2*N;P++)k[P]=0;return new c(k,0)};function te(V,N){for(;(V[N]&65535)!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function ee(V,N){this.g=V,this.h=N}function pe(V,N){if(U(N))throw Error("division by zero");if(U(V))return new ee(T,T);if(L(V))return N=pe(F(V),N),new ee(F(N.g),F(N.h));if(L(N))return N=pe(V,F(N)),new ee(F(N.g),N.h);if(30<V.g.length){if(L(V)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var k=R,P=N;0>=P.l(V);)k=ce(k),P=ce(P);var z=W(k,1),j=W(P,1);for(P=W(P,2),k=W(k,2);!U(P);){var O=j.add(P);0>=O.l(V)&&(z=z.add(k),j=O),P=W(P,1),k=W(k,1)}return N=G(V,z.j(N)),new ee(z,N)}for(z=T;0<=V.l(N);){for(k=Math.max(1,Math.floor(V.m()/N.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=m(k),O=j.j(N);L(O)||0<O.l(V);)k-=P,j=m(k),O=j.j(N);U(j)&&(j=R),z=z.add(j),V=G(V,O)}return new ee(z,V)}t.A=function(V){return pe(this,V).h},t.and=function(V){for(var N=Math.max(this.g.length,V.g.length),k=[],P=0;P<N;P++)k[P]=this.i(P)&V.i(P);return new c(k,this.h&V.h)},t.or=function(V){for(var N=Math.max(this.g.length,V.g.length),k=[],P=0;P<N;P++)k[P]=this.i(P)|V.i(P);return new c(k,this.h|V.h)},t.xor=function(V){for(var N=Math.max(this.g.length,V.g.length),k=[],P=0;P<N;P++)k[P]=this.i(P)^V.i(P);return new c(k,this.h^V.h)};function ce(V){for(var N=V.g.length+1,k=[],P=0;P<N;P++)k[P]=V.i(P)<<1|V.i(P-1)>>>31;return new c(k,V.h)}function W(V,N){var k=N>>5;N%=32;for(var P=V.g.length-k,z=[],j=0;j<P;j++)z[j]=0<N?V.i(j+k)>>>N|V.i(j+k+1)<<32-N:V.i(j+k);return new c(z,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ZT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Cs=c}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,ou,ew,Eh,dm,tw,nw,rw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var w=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],C=w[h],v=v(C),v!=C&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,C=!1,Y={next:function(){if(!C&&w<h.length){var re=w++;return{value:v(re,h[re]),done:!1}}return C=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,w){return h.call.apply(h.bind,arguments)}function T(h,v,w){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,C),h.apply(v,Y)}}return function(){return h.apply(v,arguments)}}function R(h,v,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,R.apply(null,arguments)}function b(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function U(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(C,Y,re){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return v.prototype[Y].apply(C,ye)}}function L(h){const v=h.length;if(0<v){const w=Array(v);for(let C=0;C<v;C++)w[C]=h[C];return w}return[]}function F(h,v){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(p(C)){const Y=h.length||0,re=C.length||0;h.length=Y+re;for(let ye=0;ye<re;ye++)h[Y+ye]=C[ye]}else h.push(C)}}class G{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function te(h){return/^[\s\xa0]*$/.test(h)}function ee(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function pe(h){return pe[" "](h),h}pe[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function W(h,v,w){for(const C in h)v.call(w,h[C],C,h)}function V(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function N(h){const v={};for(const w in h)v[w]=h[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let w,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(w in C)h[w]=C[w];for(let re=0;re<k.length;re++)w=k[re],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function z(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function j(h){f.setTimeout(()=>{throw h},0)}function O(){var h=He;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,w){const C=Te.get();C.set(v,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Te=new G(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let we,be=!1,He=new Ee,x=()=>{const h=f.Promise.resolve(void 0);we=()=>{h.then(se)}};var se=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(w){j(w)}var v=Te;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}be=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function Ne(h,v){if(M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ce){e:{try{pe(v.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}U(Ne,M);var Re={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function at(h,v,w,C,Y){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!C,this.ha=Y,this.key=++Ue,this.da=this.fa=!1}function Qe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h){this.src=h,this.g={},this.h=0}It.prototype.add=function(h,v,w,C,Y){var re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);var ye=Ot(h,v,C,Y);return-1<ye?(v=h[ye],w||(v.fa=!1)):(v=new at(v,this.src,re,!!C,Y),v.fa=w,h.push(v)),v};function Cn(h,v){var w=v.type;if(w in h.g){var C=h.g[w],Y=Array.prototype.indexOf.call(C,v,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(C,Y,1),re&&(Qe(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ot(h,v,w,C){for(var Y=0;Y<h.length;++Y){var re=h[Y];if(!re.da&&re.listener==v&&re.capture==!!w&&re.ha==C)return Y}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),zn={};function kn(h,v,w,C,Y){if(Array.isArray(v)){for(var re=0;re<v.length;re++)kn(h,v[re],w,C,Y);return null}return w=wn(w),h&&h[dt]?h.K(v,w,m(C)?!!C.capture:!1,Y):er(h,v,w,!1,C,Y)}function er(h,v,w,C,Y,re){if(!v)throw Error("Invalid event type");var ye=m(Y)?!!Y.capture:!!Y,nt=Tr(h);if(nt||(h[dn]=nt=new It(h)),w=nt.add(v,w,C,ye,re),w.proxy)return w;if(C=Cr(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)ve||(Y=ye),Y===void 0&&(Y=!1),h.addEventListener(v.toString(),C,Y);else if(h.attachEvent)h.attachEvent(Fn(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Cr(){function h(w){return v.call(h.src,h.listener,w)}const v=pn;return h}function Er(h,v,w,C,Y){if(Array.isArray(v))for(var re=0;re<v.length;re++)Er(h,v[re],w,C,Y);else C=m(C)?!!C.capture:!!C,w=wn(w),h&&h[dt]?(h=h.i,v=String(v).toString(),v in h.g&&(re=h.g[v],w=Ot(re,w,C,Y),-1<w&&(Qe(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete h.g[v],h.h--)))):h&&(h=Tr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ot(v,w,C,Y)),(w=-1<h?v[h]:null)&&jn(w))}function jn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[dt])Cn(v.i,h);else{var w=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(w,C,h.capture):v.detachEvent?v.detachEvent(Fn(w),C):v.addListener&&v.removeListener&&v.removeListener(C),(w=Tr(v))?(Cn(w,h),w.h==0&&(w.src=null,v[dn]=null)):Qe(h)}}}function Fn(h){return h in zn?zn[h]:zn[h]="on"+h}function pn(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var w=h.listener,C=h.ha||h.src;h.fa&&jn(h),h=w.call(C,v)}return h}function Tr(h){return h=h[dn],h instanceof It?h:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(h){return typeof h=="function"?h:(h[Wt]||(h[Wt]=function(v){return h.handleEvent(v)}),h[Wt])}function ne(){_e.call(this),this.i=new It(this),this.M=this,this.F=null}U(ne,_e),ne.prototype[dt]=!0,ne.prototype.removeEventListener=function(h,v,w,C){Er(this,h,v,w,C)};function A(h,v){var w,C=h.F;if(C)for(w=[];C;C=C.F)w.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var Y=v;v=new M(C,h),P(v,Y)}if(Y=!0,w)for(var re=w.length-1;0<=re;re--){var ye=v.g=w[re];Y=_(ye,C,!0,v)&&Y}if(ye=v.g=h,Y=_(ye,C,!0,v)&&Y,Y=_(ye,C,!1,v)&&Y,w)for(re=0;re<w.length;re++)ye=v.g=w[re],Y=_(ye,C,!1,v)&&Y}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],C=0;C<w.length;C++)Qe(w[C]);delete h.g[v],h.h--}}this.F=null},ne.prototype.K=function(h,v,w,C){return this.i.add(String(h),v,!1,w,C)},ne.prototype.L=function(h,v,w,C){return this.i.add(String(h),v,!0,w,C)};function _(h,v,w,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,re=0;re<v.length;++re){var ye=v[re];if(ye&&!ye.da&&ye.capture==w){var nt=ye.listener,Ht=ye.ha||ye.src;ye.fa&&Cn(h.i,ye),Y=nt.call(Ht,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function E(h,v,w){if(typeof h=="function")w&&(h=R(h,w));else if(h&&typeof h.handleEvent=="function")h=R(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function D(h){h.g=E(()=>{h.g=null,h.i&&(h.i=!1,D(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class q extends _e{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:D(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X(h){_e.call(this),this.h=h,this.g={}}U(X,_e);var ie=[];function xe(h){W(h.g,function(v,w){this.g.hasOwnProperty(w)&&jn(v)},h),h.g={}}X.prototype.N=function(){X.aa.N.call(this),xe(this)},X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=f.JSON.stringify,Me=f.JSON.parse,Be=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function qe(){}qe.prototype.h=null;function qu(h){return h.h||(h.h=h.i())}function Hu(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){M.call(this,"d")}U(zi,M);function wr(){M.call(this,"c")}U(wr,M);var tr={},ji=null;function Oa(){return ji=ji||new ne}tr.La="serverreachability";function tl(h){M.call(this,tr.La,h)}U(tl,M);function Fi(h){const v=Oa();A(v,new tl(v))}tr.STAT_EVENT="statevent";function Ma(h,v){M.call(this,tr.STAT_EVENT,h),this.stat=v}U(Ma,M);function Mt(h){const v=Oa();A(v,new Ma(v,h))}tr.Ma="timingevent";function Gu(h,v){M.call(this,tr.Ma,h),this.size=v}U(Gu,M);function qi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function Ku(h,v,w,C,Y,re){h.info(function(){if(h.g)if(re)for(var ye="",nt=re.split("&"),Ht=0;Ht<nt.length;Ht++){var rt=nt[Ht].split("=");if(1<rt.length){var en=rt[0];rt=rt[1];var Gt=en.split("_");ye=2<=Gt.length&&Gt[1]=="type"?ye+(en+"="+rt+"&"):ye+(en+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+v+`
`+w+`
`+ye})}function Qu(h,v,w,C,Y,re,ye){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+v+`
`+w+`
`+re+" "+ye})}function Gi(h,v,w,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zt(h,w)+(C?" "+C:"")})}function Dr(h,v){h.info(function(){return"TIMEOUT: "+v})}Hi.prototype.info=function(){};function Zt(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var C=w[h];if(!(2>C.length)){var Y=C[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<Y.length;ye++)Y[ye]=""}}}}return tt(w)}catch{return v}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fs;function Ua(){}U(Ua,qe),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},Fs=new Ua;function Nr(h,v,w,C){this.j=h,this.i=v,this.l=w,this.R=C||1,this.U=new X(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nl}function nl(){this.i=null,this.g="",this.h=!1}var Ki={},qs={};function br(h,v,w){h.L=1,h.v=Ks(Ct(v)),h.m=w,h.P=!0,ai(h,null)}function ai(h,v){h.F=Date.now(),bt(h),h.A=Ct(h.v);var w=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),ui(w.i,"t",C),h.C=0,w=h.j.J,h.h=new nl,h.g=oc(h.j,w?v:null,!h.m),0<h.O&&(h.M=new q(R(h.Y,h,h.g),h.O)),v=h.U,w=h.g,C=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ie[0]=Y.toString()),Y=ie);for(var re=0;re<Y.length;re++){var ye=kn(w,Y[re],C||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Fi(),Ku(h.i,h.u,h.A,h.l,h.R,h.m)}Nr.prototype.ca=function(h){h=h.target;const v=this.M;v&&ar(h)==3?v.j():this.Y(h)},Nr.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=ar(this.g);var v=this.g.Ba();const di=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Gt!=4||v==7||(v==8||0>=di?Fi(3):Fi(2)),La(this);var w=this.g.Z();this.X=w;t:if(Qi(this)){var C=Ju(this.g);h="";var Y=C.length,re=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),qn(this);var ye="";break t}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(re&&v==Y-1)});C.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=w==200,Qu(this.i,this.u,this.A,this.l,this.R,Gt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Ht=this.g;if((nt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(nt)){var rt=nt;break t}}rt=null}if(w=rt)Gi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,w);else{this.o=!1,this.s=3,Mt(12),Dn(this),qn(this);break e}}if(this.P){w=!0;let an;for(;!this.J&&this.C<ye.length;)if(an=Yi(this,ye),an==qs){Gt==4&&(this.s=4,Mt(14),w=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Ki){this.s=4,Mt(15),Gi(this.i,this.l,ye,"[Invalid Chunk]"),w=!1;break}else Gi(this.i,this.l,an,null),Hn(this,an);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ye.length!=0||this.h.h||(this.s=1,Mt(16),w=!1),this.o=this.o&&w,!w)Gi(this.i,this.l,ye,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(0<ye.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Js(en),en.M=!0,Mt(11))}}else Gi(this.i,this.l,ye,null),Hn(this,ye);Gt==4&&Dn(this),this.o&&!this.J&&(Gt==4?ic(this.j,this):(this.o=!1,bt(this)))}else Lf(this.g),w==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Dn(this),qn(this)}}}catch{}finally{}};function Qi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Yi(h,v){var w=h.C,C=v.indexOf(`
`,w);return C==-1?qs:(w=Number(v.substring(w,C)),isNaN(w)?Ki:(C+=1,C+w>v.length?qs:(v=v.slice(C,C+w),h.C=C+w,v)))}Nr.prototype.cancel=function(){this.J=!0,Dn(this)};function bt(h){h.S=Date.now()+h.I,rl(h,h.I)}function rl(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qi(R(h.ba,h),v)}function La(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Nr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dr(this.i,this.A),this.L!=2&&(Fi(),Mt(17)),Dn(this),this.s=2,qn(this)):rl(this,this.S-h)};function qn(h){h.j.G==0||h.J||ic(h.j,h)}function Dn(h){La(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,xe(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hn(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||$i(w.h,h))){if(!h.K&&$i(w.h,h)&&w.G==3){try{var C=w.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ka(w),Ha(w);else break e;pl(w),Mt(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=qi(R(w.Za,w),6e3));if(1>=Yu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else fi(w,11)}else if((h.K||w.g==h)&&Ka(w),!te(v))for(Y=w.Da.g.parse(v),v=0;v<Y.length;v++){let rt=Y[v];if(w.T=rt[0],rt=rt[1],w.G==2)if(rt[0]=="c"){w.K=rt[1],w.ia=rt[2];const en=rt[3];en!=null&&(w.la=en,w.j.info("VER="+w.la));const Gt=rt[4];Gt!=null&&(w.Aa=Gt,w.j.info("SVER="+w.Aa));const di=rt[5];di!=null&&typeof di=="number"&&0<di&&(C=1.5*di,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const an=h.g;if(an){const Br=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var re=C.h;re.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Xi(re,re.h),re.h=null))}if(C.D){const gl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(C.ya=gl,ot(C.I,C.D,gl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ye=h;if(C.qa=ac(C,C.J?C.ia:null,C.W),ye.K){nr(C.h,ye);var nt=ye,Ht=C.L;Ht&&(nt.I=Ht),nt.B&&(La(nt),bt(nt)),C.g=ye}else nc(C);0<w.i.length&&Ga(w)}else rt[0]!="stop"&&rt[0]!="close"||fi(w,7);else w.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?fi(w,7):fl(w):rt[0]!="noop"&&w.l&&w.l.ta(rt),w.v=0)}}Fi(4)}catch{}}var Df=class{constructor(h,v){this.g=h,this.map=v}};function il(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Yu(h){return h.h?1:h.g?h.g.size:0}function $i(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Xi(h,v){h.g?h.g.add(v):h.h=v}function nr(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}il.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return L(h.i)}function $u(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],w=h.length,C=0;C<w;C++)v.push(h[C]);return v}v=[],w=0;for(C in h)v[w++]=h[C];return v}function Nf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const C in h)v[w++]=C;return v}}}function Hs(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=Nf(h),C=$u(h),Y=C.length,re=0;re<Y;re++)v.call(void 0,C[re],w&&w[re],h)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var C=h[w].indexOf("="),Y=null;if(0<=C){var re=h[w].substring(0,C);Y=h[w].substring(C+1)}else re=h[w];v(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function oi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof oi){this.h=h.h,Wi(this,h.j),this.o=h.o,this.g=h.g,Gs(this,h.s),this.l=h.l;var v=h.i,w=new Or;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Va(this,w),this.m=h.m}else h&&(v=String(h).match(al))?(this.h=!1,Wi(this,v[1]||"",!0),this.o=Zi(v[2]||""),this.g=Zi(v[3]||"",!0),Gs(this,v[4]),this.l=Zi(v[5]||"",!0),Va(this,v[6]||"",!0),this.m=Zi(v[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}oi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(rr(v,ol,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(rr(v,ol,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(rr(w,w.charAt(0)=="/"?ll:Xu,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",rr(w,Uf)),h.join("")};function Ct(h){return new oi(h)}function Wi(h,v,w){h.j=w?Zi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Gs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Va(h,v,w){v instanceof Or?(h.i=v,ul(h.i,h.h)):(w||(v=rr(v,Mf)),h.i=new Or(v,h.h))}function ot(h,v,w){h.i.set(v,w)}function Ks(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rr(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Of),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Of(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ol=/[#\/\?@]/g,Xu=/[#\?:]/g,ll=/[#\?]/g,Mf=/[#\?@]/g,Uf=/#/g;function Or(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Pa(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=Or.prototype,t.add=function(h,v){ir(this),this.i=null,h=ci(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function Ba(h,v){ir(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function li(h,v){return ir(h),v=ci(h,v),h.g.has(v)}t.forEach=function(h,v){ir(this),this.g.forEach(function(w,C){w.forEach(function(Y){h.call(v,Y,C,this)},this)},this)},t.na=function(){ir(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let C=0;C<v.length;C++){const Y=h[C];for(let re=0;re<Y.length;re++)w.push(v[C])}return w},t.V=function(h){ir(this);let v=[];if(typeof h=="string")li(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},t.set=function(h,v){return ir(this),this.i=null,h=ci(this,h),li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ui(h,v,w){Ba(h,v),0<w.length&&(h.i=null,h.g.set(ci(h,v),L(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var C=v[w];const re=encodeURIComponent(String(C)),ye=this.V(C);for(C=0;C<ye.length;C++){var Y=re;ye[C]!==""&&(Y+="="+encodeURIComponent(String(ye[C]))),h.push(Y)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ul(h,v){v&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(w,C){var Y=C.toLowerCase();C!=Y&&(Ba(this,C),ui(this,Y,w))},h)),h.j=v}function Wu(h,v){const w=new Hi;if(f.Image){const C=new Image;C.onload=b(sr,w,"TestLoadImage: loaded",!0,v,C),C.onerror=b(sr,w,"TestLoadImage: error",!1,v,C),C.onabort=b(sr,w,"TestLoadImage: abort",!1,v,C),C.ontimeout=b(sr,w,"TestLoadImage: timeout",!1,v,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Qs(h,v){const w=new Hi,C=new AbortController,Y=setTimeout(()=>{C.abort(),sr(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(re=>{clearTimeout(Y),re.ok?sr(w,"TestPingServer: ok",!0,v):sr(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),sr(w,"TestPingServer: error",!1,v)})}function sr(h,v,w,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(w)}catch{}}function Ys(){this.g=new Be}function Mr(h,v,w){const C=w||"";try{Hs(h,function(Y,re){let ye=Y;m(Y)&&(ye=tt(Y)),v.push(C+re+"="+encodeURIComponent(ye))})}catch(Y){throw v.push(C+"type="+encodeURIComponent("_badmap")),Y}}function Ji(h){this.l=h.Ub||null,this.j=h.eb||!1}U(Ji,qe),Ji.prototype.g=function(){return new hi(this.l,this.j)},Ji.prototype.i=function(h){return function(){return h}}({});function hi(h,v){ne.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(hi,ne),t=hi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Lr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ur(this):Lr(this),this.readyState==3&&cl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},t.Qa=function(h){this.g&&(this.response=h,Ur(this))},t.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Lr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Lr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hl(h){let v="";return W(h,function(w,C){v+=C,v+=":",v+=w,v+=`\r
`}),v}function Jt(h,v,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=hl(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):ot(h,v,w))}function ht(h){ne.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ht,ne);var za=/^https?$/i,$s=["POST","PUT"];t=ht.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fs.g(),this.v=this.o?qu(this.o):qu(Fs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(re){Zu(this,re);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)w.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())w.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),Y=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call($s,v,void 0))||C||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of w)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(h),this.u=!1}catch(re){Zu(this,re)}};function Zu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ja(h),Pr(h)}function ja(h){h.A||(h.A=!0,A(h,"complete"),A(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,A(this,"complete"),A(this,"abort"),Pr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},t.bb=function(){Fa(this)};function Fa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)E(h.Ea,0,h);else if(A(h,"readystatechange"),ar(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var C;if(C=ye===0){var Y=String(h.D).match(al)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),C=!za.test(Y?Y.toLowerCase():"")}w=C}if(w)A(h,"complete"),A(h,"success");else{h.m=6;try{var re=2<ar(h)?h.g.statusText:""}catch{re=""}h.l=re+" ["+h.Z()+"]",ja(h)}}finally{Pr(h)}}}}function Pr(h,v){if(h.g){Xs(h);const w=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||A(h,"ready");try{w.onreadystatechange=C}catch{}}}function Xs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Me(v)}};function Ju(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Lf(h){const v={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(te(h[C]))continue;var w=z(h[C]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=v[Y]||[];v[Y]=re,re.push(w)}V(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function qa(h){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,h),this.cb=Ws("retryDelaySeedMs",1e4,h),this.Wa=Ws("forwardChannelMaxRetries",2,h),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new il(h&&h.concurrentRequestLimit),this.Da=new Ys,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qa.prototype,t.la=8,t.G=1,t.connect=function(h,v,w,C){Mt(0),this.W=h,this.H=v||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=ac(this,null,this.W),Ga(this)};function fl(h){if(ec(h),h.G==3){var v=h.U++,w=Ct(h.I);if(ot(w,"SID",h.K),ot(w,"RID",v),ot(w,"TYPE","terminate"),Zs(h,w),v=new Nr(h,h.j,v),v.L=2,v.v=Ks(Ct(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bt(v)}sc(h)}function Ha(h){h.g&&(Js(h),h.g.cancel(),h.g=null)}function ec(h){Ha(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ga(h){if(!sl(h.h)&&!h.s){h.s=!0;var v=h.Ga;we||x(),be||(we(),be=!0),He.add(v,h),h.B=0}}function Pf(h,v){return Yu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qi(R(h.Ga,h,v),ml(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Nr(this,this.j,h);let re=this.o;if(this.S&&(re?(re=N(re),P(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=tc(this,Y,v),w=Ct(this.I),ot(w,"RID",h),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),Zs(this,w),re&&(this.O?v="headers="+encodeURIComponent(String(hl(re)))+"&"+v:this.m&&Jt(w,this.m,re)),Xi(this.h,Y),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",v),ot(w,"SID","null"),Y.T=!0,br(Y,w,null)):br(Y,w,v),this.G=2}}else this.G==3&&(h?dl(this,h):this.i.length==0||sl(this.h)||dl(this))};function dl(h,v){var w;v?w=v.l:w=h.U++;const C=Ct(h.I);ot(C,"SID",h.K),ot(C,"RID",w),ot(C,"AID",h.T),Zs(h,C),h.m&&h.o&&Jt(C,h.m,h.o),w=new Nr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=tc(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xi(h.h,w),br(w,C,v)}function Zs(h,v){h.H&&W(h.H,function(w,C){ot(v,C,w)}),h.l&&Hs({},function(w,C){ot(v,C,w)})}function tc(h,v,w){w=Math.min(h.i.length,w);var C=h.l?R(h.l.Na,h.l,h):null;e:{var Y=h.i;let re=-1;for(;;){const ye=["count="+w];re==-1?0<w?(re=Y[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let nt=!0;for(let Ht=0;Ht<w;Ht++){let rt=Y[Ht].g;const en=Y[Ht].map;if(rt-=re,0>rt)re=Math.max(0,Y[Ht].g-100),nt=!1;else try{Mr(en,ye,"req"+rt+"_")}catch{C&&C(en)}}if(nt){C=ye.join("&");break e}}}return h=h.i.splice(0,w),v.D=h,C}function nc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;we||x(),be||(we(),be=!0),He.add(v,h),h.v=0}}function pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qi(R(h.Fa,h),ml(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qi(R(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Ha(this),rc(this))};function Js(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function rc(h){h.g=new Nr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Ct(h.qa);ot(v,"RID","rpc"),ot(v,"SID",h.K),ot(v,"AID",h.T),ot(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(v,"TO",h.ja),ot(v,"TYPE","xmlhttp"),Zs(h,v),h.m&&h.o&&Jt(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Ks(Ct(v)),w.m=null,w.P=!0,ai(w,h)}t.Za=function(){this.C!=null&&(this.C=null,Ha(this),pl(this),Mt(19))};function Ka(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function ic(h,v){var w=null;if(h.g==v){Ka(h),Js(h),h.g=null;var C=2}else if($i(h.h,v))w=v.D,nr(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var Y=h.B;C=Oa(),A(C,new Gu(C,w)),Ga(h)}else nc(h);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(C==1&&Pf(h,v)||C==2&&pl(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),Y){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function ml(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function fi(h,v){if(h.j.info("Error code "+v),v==2){var w=R(h.fb,h),C=h.Xa;const Y=!C;C=new oi(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wi(C,"https"),Ks(C),Y?Wu(C.toString(),w):Qs(C.toString(),w)}else Mt(2);h.G=0,h.l&&h.l.sa(v),sc(h),ec(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function sc(h){if(h.G=0,h.ka=[],h.l){const v=bn(h.h);(v.length!=0||h.i.length!=0)&&(F(h.ka,v),F(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function ac(h,v,w){var C=w instanceof oi?Ct(w):new oi(w);if(C.g!="")v&&(C.g=v+"."+C.g),Gs(C,C.s);else{var Y=f.location;C=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new oi(null);C&&Wi(re,C),v&&(re.g=v),Y&&Gs(re,Y),w&&(re.l=w),C=re}return w=h.D,v=h.ya,w&&v&&ot(C,w,v),ot(C,"VER",h.la),Zs(h,C),C}function oc(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ht(new Ji({eb:w})):new ht(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}t=lc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(h,v){return new Sn(h,v)};function Sn(h,v){ne.call(this),this.g=new qa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!te(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!te(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Vr(this)}U(Sn,ne),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){fl(this.g)},Sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=tt(h),h=w);v.i.push(new Df(v.Ya++,h)),v.G==3&&Ga(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,Sn.aa.N.call(this)};function uc(h){zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}U(uc,zi);function cc(){wr.call(this),this.status=1}U(cc,wr);function Vr(h){this.g=h}U(Vr,lc),Vr.prototype.ua=function(){A(this.g,"a")},Vr.prototype.ta=function(h){A(this.g,new uc(h))},Vr.prototype.sa=function(h){A(this.g,new cc)},Vr.prototype.ra=function(){A(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,rw=function(){return new Qa},nw=function(){return Oa()},tw=tr,dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,Eh=qt,si.COMPLETE="complete",ew=si,Hu.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ou=Hu,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,JT=ht}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const Vv="@firebase/firestore",Bv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Hm("@firebase/firestore");function So(){return Sa.logLevel}function Se(t,...e){if(Sa.logLevel<=We.DEBUG){const n=e.map(Qm);Sa.debug(`Firestore (${Go}): ${t}`,...n)}}function Li(t,...e){if(Sa.logLevel<=We.ERROR){const n=e.map(Qm);Sa.error(`Firestore (${Go}): ${t}`,...n)}}function Uo(t,...e){if(Sa.logLevel<=We.WARN){const n=e.map(Qm);Sa.warn(`Firestore (${Go}): ${t}`,...n)}}function Qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw Li(e),new Error(e)}function ft(t,e){t||Le()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class Px{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ni)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new iw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new _n(e)}}class Bx{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zx{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Bx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jx{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const i=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new zv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Fx(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function et(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-62135596800,Fv=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Fv);return new $t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jv)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new $t(0,0))}static max(){return new ze(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class Kr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(),i===void 0?i=e.length-n:i>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Kr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Kr.isNumericId(e),a=Kr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Kr.extractNumericId(e).compare(Kr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class wt extends Kr{construct(e,n,i){return new wt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Kr{construct(e,n,i){return new hn(e,n,i)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new hn([qv])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ce(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Ce(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(wt.fromString(e))}static fromName(e){return new De(wt.fromString(e).popFirst(5))}static empty(){return new De(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function Hx(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(i===1e9?new $t(n+1,0):new $t(n,i));return new Ns(a,De.empty(),e)}function Gx(t){return new Ns(t.readTime,t.key,Tu)}class Ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ns(ze.min(),De.empty(),Tu)}static max(){return new Ns(ze.max(),De.empty(),Tu)}}function Kx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==Qx)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(a=>a?ue.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(y=>{c[m]=y,++f,f===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new ue((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function $x(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function sf(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function Xx(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="";function Wx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hv(e)),e=Zx(t.get(n),e);return Hv(e)}function Zx(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case aw:n+="";break;default:n+=l}}return n}function Hv(t){return t+aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ow(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Xt(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lw("Invalid base64 string: "+l):l}}(e);return new fn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const Jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(ft(!!t),typeof t=="string"){let e=0;const n=Jx.exec(t);if(ft(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="server_timestamp",cw="__type__",hw="__previous_value__",fw="__local_write_time__";function $m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cw])===null||n===void 0?void 0:n.stringValue)===uw}function af(t){const e=t.mapValue.fields[hw];return $m(e)?af(e):e}function wu(t){const e=Os(t.mapValue.fields[fw].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,i,a,l,c,f,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Mh="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="__type__",tI="__max__",hh={mapValue:{}},pw="__vector__",Uh="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$m(t)?4:rI(t)?9007199254740991:nI(t)?10:11:Le()}function ei(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Os(a.timestampValue),f=Os(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ms(a.bytesValue).isEqual(Ms(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?Oh(c)===Oh(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Gv(c)!==Gv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ei(c[p],f[p])))return!1;return!0}(t,e);default:return Le()}}function Su(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=Us(t),i=Us(e);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Lt(l.integerValue||l.doubleValue),p=Lt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return Qv(t.timestampValue,e.timestampValue);case 4:return Qv(wu(t),wu(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Ms(l),p=Ms(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=et(f[m],p[m]);if(y!==0)return y}return et(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=et(Lt(l.latitude),Lt(c.latitude));return f!==0?f:et(Lt(l.longitude),Lt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yv(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,m,y;const T=l.fields||{},R=c.fields||{},b=(f=T[Uh])===null||f===void 0?void 0:f.arrayValue,U=(p=R[Uh])===null||p===void 0?void 0:p.arrayValue,L=et(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:Yv(b,U)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===hh.mapValue&&c===hh.mapValue)return 0;if(l===hh.mapValue)return 1;if(c===hh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const R=et(p[T],y[T]);if(R!==0)return R;const b=Po(f[p[T]],m[y[T]]);if(b!==0)return b}return et(p.length,y.length)}(t.mapValue,e.mapValue);default:throw Le()}}function Qv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Os(t),i=Os(e),a=et(n.seconds,i.seconds);return a!==0?a:et(n.nanos,i.nanos)}function Yv(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Po(n[a],i[a]);if(l)return l}return et(n.length,i.length)}function Vo(t){return pm(t)}function pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Os(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=pm(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${pm(n.fields[c])}`;return a+"}"}(t.mapValue):Le()}function Th(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+Th(e):16;case 5:return 2*t.stringValue.length;case 6:return Ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Th(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Vs(i.fields,(l,c)=>{a+=l.length+Th(c)}),a}(t.mapValue);default:throw Le()}}function mm(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function $v(t){return!!t&&"nullValue"in t}function Xv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function nI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dw])===null||n===void 0?void 0:n.stringValue)===pw}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=hu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=hn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=hu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Vs(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Ln(hu(this.value))}}function mw(t){const e=[];return Vs(t.fields,(n,i)=>{const a=new hn([n]);if(wh(i)){const l=mw(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new vn(e,0,ze.min(),ze.min(),ze.min(),Ln.empty(),0)}static newFoundDocument(e,n,i,a){return new vn(e,1,n,ze.min(),i,a,0)}static newNoDocument(e,n){return new vn(e,2,n,ze.min(),ze.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,ze.min(),ze.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function Wv(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=De.comparator(De.fromName(c.referenceValue),n.key):i=Po(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function iI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{}class Yt extends gw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new aI(e,n,i):n==="array-contains"?new uI(e,i):n==="in"?new cI(e,i):n==="not-in"?new hI(e,i):n==="array-contains-any"?new fI(e,i):new Yt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new oI(e,i):new lI(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Po(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends gw{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ti(e,n)}matches(e){return yw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yw(t){return t.op==="and"}function _w(t){return sI(t)&&yw(t)}function sI(t){for(const e of t.filters)if(e instanceof ti)return!1;return!0}function gm(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(_w(t))return t.filters.map(e=>gm(e)).join(",");{const e=t.filters.map(n=>gm(n)).join(",");return`${t.op}(${e})`}}function vw(t,e){return t instanceof Yt?function(i,a){return a instanceof Yt&&i.op===a.op&&i.field.isEqual(a.field)&&ei(i.value,a.value)}(t,e):t instanceof ti?function(i,a){return a instanceof ti&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&vw(c,a.filters[f]),!0):!1}(t,e):void Le()}function Ew(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof ti?function(n){return n.op.toString()+" {"+n.getFilters().map(Ew).join(" ,")+"}"}(t):"Filter"}class aI extends Yt{constructor(e,n,i){super(e,n,i),this.key=De.fromName(i.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class oI extends Yt{constructor(e,n){super(e,"in",n),this.keys=Tw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lI extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=Tw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>De.fromName(i.referenceValue))}class uI extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&Su(n.arrayValue,this.value)}}class cI extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class hI extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}}class fI extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Su(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function Jv(t,e=null,n=[],i=[],a=null,l=null,c=null){return new dI(t,e,n,i,a,l,c)}function Wm(t){const e=Fe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>gm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Vo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Vo(i)).join(",")),e.le=n}return e.le}function Zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zv(t.startAt,e.startAt)&&Zv(t.endAt,e.endAt)}function ym(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pI(t,e,n,i,a,l,c,f){return new of(t,e,n,i,a,l,c,f)}function lf(t){return new of(t)}function eE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mI(t){return t.collectionGroup!==null}function fu(t){const e=Fe(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xt(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Ph(l,i))}),n.has(hn.keyField().canonicalString())||e.he.push(new Ph(hn.keyField(),i))}return e.he}function Wr(t){const e=Fe(t);return e.Pe||(e.Pe=gI(e,fu(t))),e.Pe}function gI(t,e){if(t.limitType==="F")return Jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Ph(a.field,l)});const n=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;return Jv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _m(t,e,n){return new of(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uf(t,e){return Zm(Wr(t),Wr(e))&&t.limitType===e.limitType}function ww(t){return`${Wm(Wr(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>Ew(a)).join(", ")}]`),sf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Vo(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Vo(a)).join(",")),`Target(${i})`}(Wr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):De.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of fu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,f,p){const m=Wv(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,fu(i),a)||i.endAt&&!function(c,f,p){const m=Wv(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,fu(i),a))}(t,e)}function yI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bw(t){return(e,n)=>{let i=!1;for(const a of fu(t)){const l=_I(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function _I(t,e,n){const i=t.field.isKeyField()?De.comparator(e.key,n.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Po(p,m):Le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return ow(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Rt(De.comparator);function Pi(){return vI}const Sw=new Rt(De.comparator);function lu(...t){let e=Sw;for(const n of t)e=e.insert(n.key,n);return e}function Aw(t){let e=Sw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function va(){return du()}function Rw(){return du()}function du(){return new Ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const EI=new Rt(De.comparator),TI=new Xt(De.comparator);function Ze(...t){let e=TI;for(const n of t)e=e.add(n);return e}const wI=new Xt(et);function bI(){return wI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function xw(t){return{integerValue:""+t}}function SI(t,e){return Xx(e)?xw(e):Jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function AI(t,e,n){return t instanceof Vh?function(a,l){const c={fields:{[cw]:{stringValue:uw},[fw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$m(l)&&(l=af(l)),l&&(c.fields[hw]=l),{mapValue:c}}(n,e):t instanceof Bo?Cw(t,e):t instanceof zo?kw(t,e):function(a,l){const c=Iw(a,l),f=tE(c)+tE(a.Ie);return mm(c)&&mm(a.Ie)?xw(f):Jm(a.serializer,f)}(t,e)}function RI(t,e,n){return t instanceof Bo?Cw(t,e):t instanceof zo?kw(t,e):n}function Iw(t,e){return t instanceof Bh?function(i){return mm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Vh extends hf{}class Bo extends hf{constructor(e){super(),this.elements=e}}function Cw(t,e){const n=Dw(e);for(const i of t.elements)n.some(a=>ei(a,i))||n.push(i);return{arrayValue:{values:n}}}class zo extends hf{constructor(e){super(),this.elements=e}}function kw(t,e){let n=Dw(e);for(const i of t.elements)n=n.filter(a=>!ei(a,i));return{arrayValue:{values:n}}}class Bh extends hf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tE(t){return Lt(t.integerValue||t.doubleValue)}function Dw(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.field=e,this.transform=n}}function xI(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Bo&&a instanceof Bo||i instanceof zo&&a instanceof zo?Lo(i.elements,a.elements,ei):i instanceof Bh&&a instanceof Bh?ei(i.Ie,a.Ie):i instanceof Vh&&a instanceof Vh}(t.transform,e.transform)}class II{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ff{}function Ow(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eg(t.key,vr.none()):new ku(t.key,t.data,vr.none());{const n=t.data,i=Ln.empty();let a=new Xt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Bs(t.key,i,new Wn(a.toArray()),vr.none())}}function CI(t,e,n){t instanceof ku?function(a,l,c){const f=a.value.clone(),p=rE(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Bs?function(a,l,c){if(!bh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=rE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Mw(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function pu(t,e,n,i){return t instanceof ku?function(l,c,f,p){if(!bh(l.precondition,c))return f;const m=l.value.clone(),y=iE(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Bs?function(l,c,f,p){if(!bh(l.precondition,c))return f;const m=iE(l.fieldTransforms,p,c),y=c.data;return y.setAll(Mw(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(t,e,n,i):function(l,c,f){return bh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function kI(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=Iw(i.transform,a||null);l!=null&&(n===null&&(n=Ln.empty()),n.set(i.field,l))}return n||null}function nE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Lo(i,a,(l,c)=>xI(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends ff{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bs extends ff{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function rE(t,e,n){const i=new Map;ft(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,RI(c,f,n[a]))}return i}function iE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,AI(l,c,e))}return i}class eg extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&CI(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Rw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const p=Ow(c,f);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,i)=>nE(n,i))&&Lo(this.baseMutations,e.baseMutations,(n,i)=>nE(n,i))}}class tg{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ft(e.mutations.length===i.length);let a=function(){return EI}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new tg(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,st;function UI(t){switch(t){case fe.OK:return Le();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Le()}}function Uw(t){if(t===void 0)return Li("GRPC error has no .code"),fe.UNKNOWN;switch(t){case jt.OK:return fe.OK;case jt.CANCELLED:return fe.CANCELLED;case jt.UNKNOWN:return fe.UNKNOWN;case jt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case jt.INTERNAL:return fe.INTERNAL;case jt.UNAVAILABLE:return fe.UNAVAILABLE;case jt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case jt.NOT_FOUND:return fe.NOT_FOUND;case jt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case jt.ABORTED:return fe.ABORTED;case jt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case jt.DATA_LOSS:return fe.DATA_LOSS;default:return Le()}}(st=jt||(jt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Cs([4294967295,4294967295],0);function sE(t){const e=LI().encode(t),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function aE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cs([n,i],0),new Cs([a,l],0)]}class ng{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(i<0)throw new uu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Cs.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(Cs.fromNumber(i)));return a.compare(PI)===1&&(a=new Cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=sE(e),[i,a]=aE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ng(l,a,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const n=sE(e),[i,a]=aE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new df(ze.min(),a,new Rt(et),Pi(),Ze())}}class Du{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Du(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class Lw{constructor(e,n){this.targetId=e,this.ge=n}}class Pw{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class oE{constructor(){this.pe=0,this.ye=lE(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ze(),n=Ze(),i=Ze();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Le()}}),new Du(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=lE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class VI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=fh(),this.Ke=fh(),this.Ue=new Rt(et)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(ym(l))if(i===0){const c=new De(l.path);this.ze(n,c,vn.newNoDocument(c,ze.min()))}else ft(i===1);else{const c=this.et(n);if(c!==i){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ms(i).toUint8Array()}catch(p){if(p instanceof lw)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new ng(c,a,l)}catch(p){return Uo(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&ym(f.target)){const p=new De(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Ze();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new df(e,n,this.Ue,this.Qe,i);return this.Qe=Pi(),this.$e=fh(),this.Ke=fh(),this.Ue=new Rt(et),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new oE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Xt(et),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new oE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function fh(){return new Rt(De.comparator)}function lE(){return new Rt(De.comparator)}const BI={asc:"ASCENDING",desc:"DESCENDING"},zI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class FI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||sf(e)?e:{value:e}}function zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qI(t,e){return zh(t,e.toTimestamp())}function Zr(t){return ft(!!t),ze.fromTimestamp(function(n){const i=Os(n);return new $t(i.seconds,i.nanos)}(t))}function rg(t,e){return Em(t,e).canonicalString()}function Em(t,e){const n=function(a){return new wt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bw(t){const e=wt.fromString(t);return ft(Hw(e)),e}function Tm(t,e){return rg(t.databaseId,e.path)}function zp(t,e){const n=Bw(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(jw(n))}function zw(t,e){return rg(t.databaseId,e)}function HI(t){const e=Bw(t);return e.length===4?wt.emptyPath():jw(e)}function wm(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jw(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uE(t,e,n){return{name:Tm(t,e),fields:n.value.mapValue.fields}}function GI(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(ft(y===void 0||typeof y=="string"),fn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array),fn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const y=m.code===void 0?fe.UNKNOWN:Uw(m.code);return new Ce(y,m.message||"")}(c);n=new Pw(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=zp(t,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):ze.min(),f=new Ln({mapValue:{fields:i.document.fields}}),p=vn.newFoundDocument(a,l,c,f),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Sh(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=zp(t,i.document),l=i.readTime?Zr(i.readTime):ze.min(),c=vn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Sh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=zp(t,i.document),l=i.removedTargetIds||[];n=new Sh([],l,a,null)}else{if(!("filter"in e))return Le();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new MI(a,l),f=i.targetId;n=new Lw(f,c)}}return n}function KI(t,e){let n;if(e instanceof ku)n={update:uE(t,e.key,e.value)};else if(e instanceof eg)n={delete:Tm(t,e.key)};else if(e instanceof Bs)n={update:uE(t,e.key,e.data),updateMask:tC(e.fieldMask)};else{if(!(e instanceof DI))return Le();n={verify:Tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof Vh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof zo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Bh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:qI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le()}(t,e.precondition)),n}function QI(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(ze.min())&&(c=Zr(l)),new II(c,a.transformResults||[])}(n,e))):[]}function YI(t,e){return{documents:[zw(t,e.path)]}}function $I(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zw(t,a);const l=function(m){if(m.length!==0)return qw(ti.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(R){return{field:Ro(R.field),direction:ZI(R.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=vm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function XI(t){let e=HI(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ft(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(T){const R=Fw(T);return R instanceof ti&&_w(R)?R.getFilters():[R]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(R=>function(U){return new Ph(xo(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(n.orderBy));let f=null;n.limit&&(f=function(T){let R;return R=typeof T=="object"?T.value:T,sf(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(T){const R=!!T.before,b=T.values||[];return new Lh(b,R)}(n.startAt));let m=null;return n.endAt&&(m=function(T){const R=!T.before,b=T.values||[];return new Lh(b,R)}(n.endAt)),pI(e,a,c,l,f,"F",p,m)}function WI(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xo(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(n.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(n.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(n.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(xo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ti.create(n.compositeFilter.filters.map(i=>Fw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function ZI(t){return BI[t]}function JI(t){return zI[t]}function eC(t){return jI[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function xo(t){return hn.fromServerFormat(t.fieldPath)}function qw(t){return t instanceof Yt?function(n){if(n.op==="=="){if(Xv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:JI(n.op),value:n.value}}}(t):t instanceof ti?function(n){const i=n.getFilters().map(a=>qw(a));return i.length===1?i[0]:{compositeFilter:{op:eC(n.op),filters:i}}}(t):Le()}function tC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,i,a,l=ze.min(),c=ze.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Tt=e}}function rC(t){const e=XI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.Tn=new sC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Ns.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class sC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(wt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gw=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Gw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new jo(0)}static Un(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",aC=1048576;function fE([t,e],[n,i]){const a=et(t,n);return a===0?et(e,i):a}class oC{constructor(e){this.Hn=e,this.buffer=new Xt(fE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();fE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(hE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?Se(hE,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.er(3e5)})}}class uC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(rf.ae);const i=new oC(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(cE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,n))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(m=Date.now(),So()<=We.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function cC(t,e){return new uC(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.changes=new Ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&pu(i.mutation,a,Wn.empty(),$t.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ze()){const a=va();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=lu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ze()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,a){let l=Pi();const c=du(),f=function(){return du()}();return n.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Bs)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),pu(y.mutation,m,y.mutation.getFieldMask(),$t.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var T;return f.set(m,new fC(y,(T=c.get(m))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,n){const i=du();let a=new Rt((c,f)=>c-f),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Wn.empty();y=f.applyToLocalView(m,y),i.set(p,y);const T=(a.get(f.batchId)||Ze()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,T=Rw();y.forEach(R=>{if(!l.has(R)){const b=Ow(n.get(R),i.get(R));b!==null&&T.set(R,b),l=l.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ue.resolve(va());let f=Tu,p=l;return c.next(m=>ue.forEach(m,(y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next(R=>{p=p.insert(y,R)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ze())).next(y=>({batchId:f,changes:Aw(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(i=>{let a=lu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(e,l).next(f=>ue.forEach(f,p=>{const m=function(T,R){return new of(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((T,R)=>{c=c.insert(T,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,vn.newInvalidDocument(y)))});let f=lu();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&pu(y.mutation,m,Wn.empty(),$t.now()),cf(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ue.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:rC(a.bundledQuery),readTime:Zr(a.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.overlays=new Rt(De.comparator),this.Rr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=va();return ue.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const a=va(),l=n.length+1,c=new De(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Rt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=va(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=va(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return ue.resolve(f)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new OI(n,i));let l=this.Rr.get(n);l===void 0&&(l=Ze(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Vr=new Xt(sn.mr),this.gr=new Xt(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new sn(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new sn(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new De(new wt([])),i=new sn(n,e),a=new sn(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new De(new wt([])),i=new sn(n,e),a=new sn(n,e+1);let l=Ze();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new sn(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class sn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return De.comparator(e.key,n.key)||et(e.Cr,n.Cr)}static pr(e,n){return et(e.Cr,n.Cr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(sn.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new NI(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,n){return ue.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Ym:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const f=this.Or(c.Cr);l.push(f)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(et);return n.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;De.isDocumentKey(l)||(l=l.child(""));const c=new sn(new De(l),0);let f=new Xt(et);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},c),ue.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(n.mutations,a=>{const l=new sn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new sn(n,0),a=this.Mr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.kr=e,this.docs=function(){return new Rt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=Pi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Pi();const c=n.path,f=new De(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Kx(Gx(y),i)<=0||(a.has(y.key)||cf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Le()}qr(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new vC(this)}getSize(e){return ue.resolve(this.size)}}class vC extends hC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.persistence=e,this.Qr=new Ca(n=>Wm(n),Zm),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ig,this.targetCount=0,this.Ur=jo.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ue.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.zn(n),ue.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new rf(0),this.zr=!1,this.zr=!0,this.jr=new gC,this.referenceDelegate=e(this),this.Hr=new EC(this),this.indexManager=new iC,this.remoteDocumentCache=function(a){return new _C(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new nC(n),this.Yr=new pC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new yC(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){Se("MemoryPersistence","Starting transaction:",e);const a=new TC(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class TC extends Yx{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.ti=new ig,this.ni=null}static ri(e){return new sg(e)}get ii(){if(this.ni)return this.ni;throw Le()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ue.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const a=De.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ue.or([()=>ue.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.oi=new Ca(i=>Wx(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=cC(this,n)}static ri(e,n){return new jh(e,n)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ue.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ue.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(f=>{f||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ue.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}ar(e,n,i){return ue.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Ze(),a=Ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ag(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _R()?8:$x(En())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new wC;return this._s(e,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,n,c,f.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(So()<=We.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(So()<=We.DEBUG&&Se("QueryEngine","Query:",Ao(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(So()<=We.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):ue.resolve())}rs(e,n){if(eE(n))return ue.resolve(null);let i=Wr(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=_m(n,null,"F"),i=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ze(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(n,f);return this.ls(n,m,c,p.readTime)?this.rs(e,_m(n,null,"F")):this.hs(e,m,n,p)}))})))}ss(e,n,i,a){return eE(n)||a.isEqual(ze.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ue.resolve(null):(So()<=We.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ao(n)),this.hs(e,c,n,Hx(a,Tu)).next(f=>f))})}cs(e,n){let i=new Xt(bw(e));return n.forEach((a,l)=>{cf(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return So()<=We.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.ns.getDocumentsMatchingQuery(e,n,Ns.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",SC=3e8;class AC{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new Rt(et),this.Is=new Ca(l=>Wm(l),Zm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function RC(t,e,n,i){return new AC(t,e,n,i)}async function Qw(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Ze();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:f}))})})}function xC(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const T=m.batch,R=T.keys();let b=ue.resolve();return R.forEach(U=>{b=b.next(()=>y.getEntry(p,U)).next(L=>{const F=m.docVersions.get(U);ft(F!==null),L.version.compareTo(F)<0&&(T.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Ze();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function Yw(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function IC(t,e){const n=Fe(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];e.targetChanges.forEach((y,T)=>{const R=a.get(T);if(!R)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,T)));let b=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(fn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),a=a.insert(T,b),function(L,F,G){return L.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=SC?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,b,y)&&f.push(n.Hr.updateTargetData(l,b))});let p=Pi(),m=Ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(CC(l,c,e.documentUpdates).next(y=>{p=y.Vs,m=y.fs})),!i.isEqual(ze.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(T=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return ue.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function CC(t,e,n){let i=Ze(),a=Ze();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Pi();return n.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Se(og,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function kC(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ym),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function DC(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function bm(t,e,n){const i=Fe(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Qo(c))throw c;Se(og,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function dE(t,e,n){const i=Fe(t);let a=ze.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const T=Fe(p),R=T.Is.get(y);return R!==void 0?ue.resolve(T.Ts.get(R)):T.Hr.getTargetData(m,y)}(i,c,Wr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:ze.min(),n?l:Ze())).next(f=>(NC(i,yI(e),f),{documents:f,gs:l})))}function NC(t,e,n){let i=t.Es.get(e)||ze.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class pE{constructor(){this.activeTargetIds=bI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OC{constructor(){this.ho=new pE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class gE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(mE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Sm(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Mh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const c=Sm(),f=this.So(e,n.toUriEncodedString());Se(jp,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,f,p,i).then(m=>(Se(jp,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Uo(jp,`RPC '${e}' ${c} failed with error: `,m,"url: ",f,"request:",i),m})}Co(e,n,i,a,l,c){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=UC[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class VC extends LC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Sm();return new Promise((c,f)=>{const p=new JT;p.setWithCredentials(!0),p.listenOnce(ew.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Eh.NO_ERROR:const y=p.getResponseJson();Se(yn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Eh.TIMEOUT:Se(yn,`RPC '${e}' ${l} timed out`),f(new Ce(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const T=p.getStatus();if(Se(yn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const b=R==null?void 0:R.error;if(b&&b.status&&b.message){const U=function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(G)>=0?G:fe.UNKNOWN}(b.status);f(new Ce(U,b.message))}else f(new Ce(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ce(fe.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Se(yn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Se(yn,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=Sm(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rw(),f=nw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");Se(yn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const T=c.createWebChannel(y,p);let R=!1,b=!1;const U=new PC({Fo:F=>{b?Se(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,F):(R||(Se(yn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),R=!0),Se(yn,`RPC '${e}' stream ${a} sending:`,F),T.send(F))},Mo:()=>T.close()}),L=(F,G,te)=>{F.listen(G,ee=>{try{te(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return L(T,ou.EventType.OPEN,()=>{b||(Se(yn,`RPC '${e}' stream ${a} transport opened.`),U.Qo())}),L(T,ou.EventType.CLOSE,()=>{b||(b=!0,Se(yn,`RPC '${e}' stream ${a} transport closed`),U.Ko())}),L(T,ou.EventType.ERROR,F=>{b||(b=!0,Uo(yn,`RPC '${e}' stream ${a} transport errored:`,F),U.Ko(new Ce(fe.UNAVAILABLE,"The operation could not be completed")))}),L(T,ou.EventType.MESSAGE,F=>{var G;if(!b){const te=F.data[0];ft(!!te);const ee=te,pe=(ee==null?void 0:ee.error)||((G=ee[0])===null||G===void 0?void 0:G.error);if(pe){Se(yn,`RPC '${e}' stream ${a} received error:`,pe);const ce=pe.status;let W=function(k){const P=jt[k];if(P!==void 0)return Uw(P)}(ce),V=pe.message;W===void 0&&(W=fe.INTERNAL,V="Unknown error status: "+ce+" with message "+pe.message),b=!0,U.Ko(new Ce(W,V)),T.close()}else Se(yn,`RPC '${e}' stream ${a} received:`,te),U.Uo(te)}}),L(f,tw.STAT_EVENT,F=>{F.stat===dm.PROXY?Se(yn,`RPC '${e}' stream ${a} detected buffering proxy`):F.stat===dm.NOPROXY&&Se(yn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){return new FI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class Xw{constructor(e,n,i,a,l,c,f,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $w(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ce(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(yE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Se(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BC extends Xw{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=GI(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Zr(c.readTime):ze.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=wm(this.serializer),n.addTarget=function(l,c){let f;const p=c.target;if(f=ym(p)?{documents:YI(l,p)}:{query:$I(l,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Vw(l,c.resumeToken);const m=vm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){f.readTime=zh(l,c.snapshotVersion.toTimestamp());const m=vm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=WI(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.I_(n)}}class zC extends Xw{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=QI(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=wm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>KI(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{}class FC extends jC{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,Em(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(fe.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,Em(n,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(fe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(n),this.N_=!1):Se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class HC{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{ka(this)&&(Se(Aa,"Restarting streams for network reachability change."),await async function(p){const m=Fe(p);m.W_.add(4),await Nu(m),m.j_.set("Unknown"),m.W_.delete(4),await mf(m)}(this))})}),this.j_=new qC(i,a)}}async function mf(t){if(ka(t))for(const e of t.G_)await e(!0)}async function Nu(t){for(const e of t.G_)await e(!1)}function Ww(t,e){const n=Fe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),hg(n)?cg(n):Yo(n).c_()&&ug(n,e))}function lg(t,e){const n=Fe(t),i=Yo(n);n.U_.delete(e),i.c_()&&Zw(n,e),n.U_.size===0&&(i.c_()?i.P_():ka(n)&&n.j_.set("Unknown"))}function ug(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).y_(e)}function Zw(t,e){t.H_.Ne(e),Yo(t).w_(e)}function cg(t){t.H_=new VI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.j_.B_()}function hg(t){return ka(t)&&!Yo(t).u_()&&t.U_.size>0}function ka(t){return Fe(t).W_.size===0}function Jw(t){t.H_=void 0}async function GC(t){t.j_.set("Online")}async function KC(t){t.U_.forEach((e,n)=>{ug(t,e)})}async function QC(t,e){Jw(t),hg(t)?(t.j_.q_(e),cg(t)):t.j_.set("Unknown")}async function YC(t,e,n){if(t.j_.set("Online"),e instanceof Pw&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(t,e)}catch(i){Se(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fh(t,i)}else if(e instanceof Sh?t.H_.We(e):e instanceof Lw?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ze.min()))try{const i=await Yw(t.localStore);n.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.U_.get(m);y&&l.U_.set(m,y.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const y=l.U_.get(p);if(!y)return;l.U_.set(p,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),Zw(l,p);const T=new Rs(y.target,p,m,y.sequenceNumber);ug(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){Se(Aa,"Failed to raise snapshot:",i),await Fh(t,i)}}async function Fh(t,e,n){if(!Qo(e))throw e;t.W_.add(1),await Nu(t),t.j_.set("Offline"),n||(n=()=>Yw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se(Aa,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await mf(t)})}function eb(t,e){return e().catch(n=>Fh(t,n,e))}async function gf(t){const e=Fe(t),n=Ls(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ym;for(;$C(e);)try{const a=await kC(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,XC(e,a)}catch(a){await Fh(e,a)}tb(e)&&nb(e)}function $C(t){return ka(t)&&t.K_.length<10}function XC(t,e){t.K_.push(e);const n=Ls(t);n.c_()&&n.b_&&n.S_(e.mutations)}function tb(t){return ka(t)&&!Ls(t).u_()&&t.K_.length>0}function nb(t){Ls(t).start()}async function WC(t){Ls(t).C_()}async function ZC(t){const e=Ls(t);for(const n of t.K_)e.S_(n.mutations)}async function JC(t,e,n){const i=t.K_.shift(),a=tg.from(i,e,n);await eb(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await gf(t)}async function ek(t,e){e&&Ls(t).b_&&await async function(i,a){if(function(c){return UI(c)&&c!==fe.ABORTED}(a.code)){const l=i.K_.shift();Ls(i).h_(),await eb(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await gf(i)}}(t,e),tb(t)&&nb(t)}async function _E(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Se(Aa,"RemoteStore received new credentials");const i=ka(n);n.W_.add(3),await Nu(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await mf(n)}async function tk(t,e){const n=Fe(t);e?(n.W_.delete(2),await mf(n)):e||(n.W_.add(2),await Nu(n),n.j_.set("Unknown"))}function Yo(t){return t.J_||(t.J_=function(n,i,a){const l=Fe(n);return l.M_(),new BC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:GC.bind(null,t),No:KC.bind(null,t),Lo:QC.bind(null,t),p_:YC.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),hg(t)?cg(t):t.j_.set("Unknown")):(await t.J_.stop(),Jw(t))})),t.J_}function Ls(t){return t.Y_||(t.Y_=function(n,i,a){const l=Fe(n);return l.M_(),new zC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:WC.bind(null,t),Lo:ek.bind(null,t),D_:ZC.bind(null,t),v_:JC.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await gf(t)):(await t.Y_.stop(),t.K_.length>0&&(Se(Aa,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new fg(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(Li("AsyncQueue",`${e}: ${t}`),Qo(t))return new Ce(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||De.comparator(n.key,i.key):(n,i)=>De.comparator(n.key,i.key),this.keyedMap=lu(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Co;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.Z_=new Rt(De.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Le():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Fo{constructor(e,n,i,a,l,c,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Fo(e,n,Co.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rk{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Fe(n),l=a.queries;a.queries=EE(),l.forEach((c,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ce(fe.ABORTED,"Firestore shutting down"))}}function EE(){return new Ca(t=>ww(t),uf)}async function pg(t,e){const n=Fe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new nk,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=dg(c,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&gg(n)}async function mg(t,e){const n=Fe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ik(t,e){const n=Fe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(i=!0);c.ea=a}}i&&gg(n)}function sk(t,e,n){const i=Fe(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function gg(t){t.ia.forEach(e=>{e.next()})}var Am,TE;(TE=Am||(Am={}))._a="default",TE.Cache="cache";class yg{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class ak{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ze(),this.mutatedKeys=Ze(),this.ya=bw(e),this.wa=new Co(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new vE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,T)=>{const R=a.get(y),b=cf(this.query,T)?T:null,U=!!R&&this.mutatedKeys.has(R.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;R&&b?R.data.isEqual(b.data)?U!==L&&(i.track({type:3,doc:b}),F=!0):this.va(R,b)||(i.track({type:2,doc:b}),F=!0,(p&&this.ya(b,p)>0||m&&this.ya(b,m)<0)&&(f=!0)):!R&&b?(i.track({type:0,doc:b}),F=!0):R&&!b&&(i.track({type:1,doc:R}),F=!0,(p||m)&&(f=!0)),F&&(b?(c=c.add(b),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,T)=>function(b,U){const L=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return L(b)-L(U)}(y.type,T.type)||this.ya(y.doc,T.doc)),this.Ca(i),a=a!=null&&a;const f=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Fo(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new ib(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new rb(i))}),n}Oa(e){this.fa=e.gs,this.pa=Ze();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _g="SyncEngine";class ok{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class lk{constructor(e){this.key=e,this.Ba=!1}}class uk{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ca(f=>ww(f),uf),this.qa=new Map,this.Qa=new Set,this.$a=new Rt(De.comparator),this.Ka=new Map,this.Ua=new ig,this.Wa={},this.Ga=new Map,this.za=jo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ck(t,e,n=!0){const i=cb(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await sb(i,e,n,!0),a}async function hk(t,e){const n=cb(t);await sb(n,e,!0,!1)}async function sb(t,e,n,i){const a=await DC(t.localStore,Wr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await fk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Ww(t.remoteStore,a),f}async function fk(t,e,n,i,a){t.Ha=(T,R,b)=>async function(L,F,G,te){let ee=F.view.Sa(G);ee.ls&&(ee=await dE(L.localStore,F.query,!1).then(({documents:V})=>F.view.Sa(V,ee)));const pe=te&&te.targetChanges.get(F.targetId),ce=te&&te.targetMismatches.get(F.targetId)!=null,W=F.view.applyChanges(ee,L.isPrimaryClient,pe,ce);return bE(L,F.targetId,W.Ma),W.snapshot}(t,T,R,b);const l=await dE(t.localStore,e,!0),c=new ak(e,l.gs),f=c.Sa(l.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(f,t.isPrimaryClient,p);bE(t,n,m.Ma);const y=new ok(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function dk(t,e,n){const i=Fe(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!uf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await bm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&lg(i.remoteStore,a.targetId),Rm(i,a.targetId)}).catch(Ko)):(Rm(i,a.targetId),await bm(i.localStore,a.targetId,!0))}async function pk(t,e){const n=Fe(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lg(n.remoteStore,i.targetId))}async function mk(t,e,n){const i=wk(t);try{const a=await function(c,f){const p=Fe(c),m=$t.now(),y=f.reduce((b,U)=>b.add(U.key),Ze());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let U=Pi(),L=Ze();return p.ds.getEntries(b,y).next(F=>{U=F,U.forEach((G,te)=>{te.isValidDocument()||(L=L.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,U)).next(F=>{T=F;const G=[];for(const te of f){const ee=kI(te,T.get(te.key).overlayedDocument);ee!=null&&G.push(new Bs(te.key,ee,mw(ee.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,G,f)}).next(F=>{R=F;const G=F.applyToLocalDocumentSet(T,L);return p.documentOverlayCache.saveOverlays(b,F.batchId,G)})}).then(()=>({batchId:R.batchId,changes:Aw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new Rt(et)),m=m.insert(f,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await Ou(i,a.changes),await gf(i.remoteStore)}catch(a){const l=dg(a,"Failed to persist write");n.reject(l)}}async function ab(t,e){const n=Fe(t);try{const i=await IC(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?ft(c.Ba):a.removedDocuments.size>0&&(ft(c.Ba),c.Ba=!1))}),await Ou(n,i,e)}catch(i){await Ko(i)}}function wE(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Fe(c);p.onlineState=f;let m=!1;p.queries.forEach((y,T)=>{for(const R of T.ta)R.sa(f)&&(m=!0)}),m&&gg(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function gk(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new Rt(De.comparator);c=c.insert(l,vn.newNoDocument(l,ze.min()));const f=Ze().add(l),p=new df(ze.min(),new Map,new Rt(et),c,f);await ab(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),vg(i)}else await bm(i.localStore,e,!1).then(()=>Rm(i,e,n)).catch(Ko)}async function yk(t,e){const n=Fe(t),i=e.batch.batchId;try{const a=await xC(n.localStore,e);lb(n,i,null),ob(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ou(n,a)}catch(a){await Ko(a)}}async function _k(t,e,n){const i=Fe(t);try{const a=await function(c,f){const p=Fe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(T=>(ft(T!==null),y=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);lb(i,e,n),ob(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ou(i,a)}catch(a){await Ko(a)}}function ob(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function lb(t,e,n){const i=Fe(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||ub(t,i)})}function ub(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(lg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),vg(t))}function bE(t,e,n){for(const i of n)i instanceof rb?(t.Ua.addReference(i.key,e),vk(t,i)):i instanceof ib?(Se(_g,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||ub(t,i.key)):Le()}function vk(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(Se(_g,"New document in limbo: "+n),t.Qa.add(i),vg(t))}function vg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new De(wt.fromString(e)),i=t.za.next();t.Ka.set(i,new lk(n)),t.$a=t.$a.insert(n,i),Ww(t.remoteStore,new Rs(Wr(lf(n.path)),i,"TargetPurposeLimboResolution",rf.ae))}}async function Ou(t,e,n){const i=Fe(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{c.push(i.Ha(p,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const T=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=ag.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const y=Fe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ue.forEach(m,R=>ue.forEach(R.Hi,b=>y.persistence.referenceDelegate.addReference(T,R.targetId,b)).next(()=>ue.forEach(R.Ji,b=>y.persistence.referenceDelegate.removeReference(T,R.targetId,b)))))}catch(T){if(!Qo(T))throw T;Se(og,"Failed to update sequence numbers: "+T)}for(const T of m){const R=T.targetId;if(!T.fromCache){const b=y.Ts.get(R),U=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(U);y.Ts=y.Ts.insert(R,L)}}}(i.localStore,l))}async function Ek(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Se(_g,"User change. New user:",e.toKey());const i=await Qw(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ce(fe.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ou(n,i.Rs)}}function Tk(t,e){const n=Fe(t),i=n.Ka.get(e);if(i&&i.Ba)return Ze().add(i.key);{let a=Ze();const l=n.qa.get(e);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function cb(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gk.bind(null,e),e.La.p_=ik.bind(null,e.eventManager),e.La.Ja=sk.bind(null,e.eventManager),e}function wk(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_k.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return RC(this.persistence,new bC,e.initialUser,this.serializer)}Xa(e){return new Kw(sg.ri,this.serializer)}Za(e){return new OC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class bk extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof jh);const i=this.persistence.referenceDelegate.garbageCollector;return new lC(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Kw(i=>jh.ri(i,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ek.bind(null,this.syncEngine),await tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rk}()}createDatastore(e){const n=pf(e.databaseInfo.databaseId),i=function(l){return new VC(l)}(e.databaseInfo);return function(l,c,f,p){return new FC(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,f){return new HC(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>wE(this.syncEngine,n,0),function(){return gE.D()?new gE:new MC}())}createSyncEngine(e,n){return function(a,l,c,f,p,m,y){const T=new uk(a,l,c,f,p,m);return y&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Fe(a);Se(Aa,"RemoteStore shutting down."),l.W_.add(5),await Nu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class Sk{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=sw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Se(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Se(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),Se(Ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Qw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ak(t);Se(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>_E(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>_E(e.remoteStore,a)),t._onlineComponents=e}async function Ak(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(Ps,"Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new qh)}}else Se(Ps,"Using default OfflineComponentProvider"),await qp(t,new bk(void 0));return t._offlineComponents}async function hb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(Ps,"Using user provided OnlineComponentProvider"),await SE(t,t._uninitializedComponentsProvider._online)):(Se(Ps,"Using default OnlineComponentProvider"),await SE(t,new xm))),t._onlineComponents}function Rk(t){return hb(t).then(e=>e.syncEngine)}async function Hh(t){const e=await hb(t),n=e.eventManager;return n.onListen=ck.bind(null,e.syncEngine),n.onUnlisten=dk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pk.bind(null,e.syncEngine),n}function xk(t,e,n={}){const i=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new Eg({next:R=>{y.su(),c.enqueueAndForget(()=>mg(l,T));const b=R.docs.has(f);!b&&R.fromCache?m.reject(new Ce(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&R.fromCache&&p&&p.source==="server"?m.reject(new Ce(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new yg(lf(f.path),y,{includeMetadataChanges:!0,Ta:!0});return pg(l,T)}(await Hh(t),t.asyncQueue,e,n,i)),i.promise}function Ik(t,e,n={}){const i=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new Eg({next:R=>{y.su(),c.enqueueAndForget(()=>mg(l,T)),R.fromCache&&p.source==="server"?m.reject(new Ce(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new yg(f,y,{includeMetadataChanges:!0,Ta:!0});return pg(l,T)}(await Hh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t,e,n){if(!n)throw new Ce(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ck(t,e,n,i){if(e===!0&&i===!0)throw new Ce(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!De.isDocumentKey(t))throw new Ce(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xE(t){if(De.isDocumentKey(t))throw new Ce(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tg(t);throw new Ce(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firestore.googleapis.com",IE=!0;class CE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=IE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:IE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aC)throw new Ce(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ck("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Lx;switch(i.type){case"firstParty":return new zx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=AE.get(n);i&&(Se("ComponentProvider","Removing Datastore"),AE.delete(n),i.terminate())}(this),Promise.resolve()}}function kk(t,e,n,i={}){var a;const l=(t=Pn(t,yf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==pb&&l.host!==f&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!Mi(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=_n.MOCK_USER;else{m=KT(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ce(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(T)}t._authCredentials=new Px(new iw(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Mu(this.firestore,e,this._query)}}class In{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class ks extends Mu{constructor(e,n,i){super(e,n,lf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new De(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function wg(t,e,...n){if(t=Pt(t),db("collection","path",e),t instanceof yf){const i=wt.fromString(e,...n);return xE(i),new ks(t,null,i)}{if(!(t instanceof In||t instanceof ks))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(wt.fromString(e,...n));return xE(i),new ks(t.firestore,null,i)}}function Da(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=sw.newId()),db("doc","path",e),t instanceof yf){const i=wt.fromString(e,...n);return RE(i),new In(t,null,new De(i))}{if(!(t instanceof In||t instanceof ks))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(wt.fromString(e,...n));return RE(i),new In(t.firestore,t instanceof ks?t.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class DE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $w(this,"async_queue_retry"),this.bu=()=>{const i=Fp();i&&Se(kE,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Qo(e))throw e;Se(kE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw Li("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=fg.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Le()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function NE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends yf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new DE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function Dk(t,e){const n=typeof t=="object"?t:Km(),i=typeof t=="string"?t:Mh,a=nf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=qT("firestore");l&&kk(a,...l)}return a}function _f(t){if(t._terminated)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Nk(t),t._firestoreClient}function Nk(t){var e,n,i;const a=t._freezeSettings(),l=function(f,p,m,y){return new eI(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,fb(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Sk(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(fn.fromBase64String(e))}catch(n){throw new Ce(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=/^__.*__$/;class Mk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Ef{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gb(this.Lu)&&Ok.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Uk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pf(e)}ju(e,n,i,a=!1){return new Ef({Lu:e,methodName:n,zu:i,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(t){const e=t._freezeSettings(),n=pf(t._databaseId);return new Uk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yb(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Ig("Data must be an object, but it was:",c,i);const f=vb(i,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const R=Im(e,T,n);if(!c.contains(R))throw new Ce(fe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Tb(y,R)||y.push(R)}p=new Wn(y),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new Mk(new Ln(f),p,m)}class Tf extends Uu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function _b(t,e,n){return new Ef({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rg extends Uu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=_b(this,e,!0),i=this.Hu.map(l=>$o(l,n)),a=new Bo(i);return new Nw(e.path,a)}isEqual(e){return e instanceof Rg&&Mi(this.Hu,e.Hu)}}class xg extends Uu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=_b(this,e,!0),i=this.Hu.map(l=>$o(l,n)),a=new zo(i);return new Nw(e.path,a)}isEqual(e){return e instanceof xg&&Mi(this.Hu,e.Hu)}}function Lk(t,e,n,i){const a=t.ju(1,e,n);Ig("Data must be an object, but it was:",a,i);const l=[],c=Ln.empty();Vs(i,(p,m)=>{const y=Cg(e,p,n);m=Pt(m);const T=a.Ku(y);if(m instanceof Tf)l.push(y);else{const R=$o(m,T);R!=null&&(l.push(y),c.set(y,R))}});const f=new Wn(l);return new mb(c,f,a.fieldTransforms)}function Pk(t,e,n,i,a,l){const c=t.ju(1,e,n),f=[Im(e,i,n)],p=[a];if(l.length%2!=0)throw new Ce(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)f.push(Im(e,l[R])),p.push(l[R+1]);const m=[],y=Ln.empty();for(let R=f.length-1;R>=0;--R)if(!Tb(m,f[R])){const b=f[R];let U=p[R];U=Pt(U);const L=c.Ku(b);if(U instanceof Tf)m.push(b);else{const F=$o(U,L);F!=null&&(m.push(b),y.set(b,F))}}const T=new Wn(m);return new mb(y,T,c.fieldTransforms)}function $o(t,e){if(Eb(t=Pt(t)))return Ig("Unsupported field value:",e,t),vb(t,e);if(t instanceof Uu)return function(i,a){if(!gb(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let p=$o(f,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=$t.fromDate(i);return{timestampValue:zh(a.serializer,l)}}if(i instanceof $t){const l=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zh(a.serializer,l)}}if(i instanceof bg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qo)return{bytesValue:Vw(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Sg)return function(c,f){return{mapValue:{fields:{[dw]:{stringValue:pw},[Uh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Jm(f.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Tg(i)}`)}(t,e)}function vb(t,e){const n={};return ow(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,(i,a)=>{const l=$o(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function Eb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof bg||t instanceof qo||t instanceof In||t instanceof Uu||t instanceof Sg)}function Ig(t,e,n){if(!Eb(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Tg(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Im(t,e,n){if((e=Pt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Cg(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vk=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search(Vk)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ce(fe.INVALID_ARGUMENT,f+t+p)}function Tb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bk extends wb{data(){return super.data()}}function bb(t,e){return typeof e=="string"?Cg(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zk{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Vs(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[Uh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Lt(c.doubleValue));return new Sg(l)}convertGeoPoint(e){return new bg(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=af(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Os(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=wt.fromString(e);ft(Hw(i));const a=new bu(i.get(1),i.get(3)),l=new De(i.popFirst(5));return a.isEqual(n)||Li(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rb extends wb{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(bb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ah extends Rb{data(e={}){return super.data(e)}}class xb{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new cu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ah(this._firestore,this._userDataWriter,i.key,i,new cu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new Ah(a._firestore,a._userDataWriter,f.doc.key,f.doc,new cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Ah(a._firestore,a._userDataWriter,f.doc.key,f.doc,new cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:jk(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){t=Pn(t,In);const e=Pn(t.firestore,Vi);return xk(_f(e),t._key).then(n=>Ib(e,t,n))}class kg extends zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function qk(t){t=Pn(t,Mu);const e=Pn(t.firestore,Vi),n=_f(e),i=new kg(e);return Sb(t._query),Ik(n,t._query).then(a=>new xb(e,i,t,a))}function Hk(t,e,n){t=Pn(t,In);const i=Pn(t.firestore,Vi),a=Ab(t.converter,e,n);return wf(i,[yb(Ag(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,vr.none())])}function Dg(t,e,n,...i){t=Pn(t,In);const a=Pn(t.firestore,Vi),l=Ag(a);let c;return c=typeof(e=Pt(e))=="string"||e instanceof vf?Pk(l,"updateDoc",t._key,e,n,i):Lk(l,"updateDoc",t._key,e),wf(a,[c.toMutation(t._key,vr.exists(!0))])}function Gk(t){return wf(Pn(t.firestore,Vi),[new eg(t._key,vr.none())])}function Kk(t,e){const n=Pn(t.firestore,Vi),i=Da(t),a=Ab(t.converter,e);return wf(n,[yb(Ag(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function Qk(t,...e){var n,i,a;t=Pt(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||NE(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(NE(e[c])){const T=e[c];e[c]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let p,m,y;if(t instanceof In)m=Pn(t.firestore,Vi),y=lf(t._key.path),p={next:T=>{e[c]&&e[c](Ib(m,t,T))},error:e[c+1],complete:e[c+2]};else{const T=Pn(t,Mu);m=Pn(T.firestore,Vi),y=T._query;const R=new kg(m);p={next:b=>{e[c]&&e[c](new xb(m,R,T,b))},error:e[c+1],complete:e[c+2]},Sb(t._query)}return function(R,b,U,L){const F=new Eg(L),G=new yg(b,F,U);return R.asyncQueue.enqueueAndForget(async()=>pg(await Hh(R),G)),()=>{F.su(),R.asyncQueue.enqueueAndForget(async()=>mg(await Hh(R),G))}}(_f(m),y,f,p)}function wf(t,e){return function(i,a){const l=new Ni;return i.asyncQueue.enqueueAndForget(async()=>mk(await Rk(i),a,l)),l.promise}(_f(t),e)}function Ib(t,e,n){const i=n.docs.get(e._key),a=new kg(t);return new Rb(t,a,e._key,i,new cu(n.hasPendingWrites,n.fromCache),e.converter)}function Cb(...t){return new Rg("arrayUnion",t)}function kb(...t){return new xg("arrayRemove",t)}(function(e,n=!0){(function(a){Go=a})(Ia),ba(new Ds("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Vi(new Vx(i.getProvider("auth-internal")),new jx(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Xr(Vv,Bv,e),Xr(Vv,Bv,"esm2017")})();var Yk="firebase",$k="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(Yk,$k,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebasestorage.googleapis.com",Nb="storageBucket",Xk=2*60*1e3,Wk=10*60*1e3,Zk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends ii{constructor(e,n,i=0){super(Hp(e),`Firebase Storage: ${n} (${Hp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function Hp(t){return"storage/"+t}function Ng(){const t="An unknown error occurred, please check the error payload for server response.";return new xt(Tt.UNKNOWN,t)}function Jk(t){return new xt(Tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eD(t){return new xt(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(Tt.UNAUTHENTICATED,t)}function nD(){return new xt(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rD(t){return new xt(Tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ob(){return new xt(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mb(){return new xt(Tt.CANCELED,"User canceled the upload/download.")}function iD(t){return new xt(Tt.INVALID_URL,"Invalid URL '"+t+"'.")}function sD(t){return new xt(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aD(){return new xt(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nb+"' property when initializing the app?")}function Ub(){return new xt(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oD(){return new xt(Tt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function lD(){return new xt(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uD(t){return new xt(Tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cm(t){return new xt(Tt.INVALID_ARGUMENT,t)}function Lb(){return new xt(Tt.APP_DELETED,"The Firebase app was deleted.")}function cD(t){return new xt(Tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(t,e){return new xt(Tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function iu(t){throw new xt(Tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(i.path==="")return i;throw sD(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(pe){pe.path_=decodeURIComponent(pe.path)}const y="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",b=new RegExp(`^https?://${T}/${y}/b/${a}/o${R}`,"i"),U={bucket:1,path:3},L=n===Db?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",G=new RegExp(`^https?://${L}/${a}/${F}`,"i"),ee=[{regex:f,indices:p,postModify:l},{regex:b,indices:U,postModify:m},{regex:G,indices:{bucket:1,path:2},postModify:m}];for(let pe=0;pe<ee.length;pe++){const ce=ee[pe],W=ce.regex.exec(e);if(W){const V=W[ce.indices.bucket];let N=W[ce.indices.path];N||(N=""),i=new Zn(V,N),ce.postModify(i);break}}if(i==null)throw iD(e);return i}}class hD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e,n){let i=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function y(...F){m||(m=!0,e.apply(null,F))}function T(F){a=setTimeout(()=>{a=null,t(b,p())},F)}function R(){l&&clearTimeout(l)}function b(F,...G){if(m){R();return}if(F){R(),y.call(null,F,...G);return}if(p()||c){R(),y.call(null,F,...G);return}i<64&&(i*=2);let ee;f===1?(f=2,ee=0):ee=(i+Math.random())*1e3,T(ee)}let U=!1;function L(F){U||(U=!0,R(),!m&&(a!==null?(F||(f=2),clearTimeout(a),T(0)):F||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,L(!0)},n),L}function dD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){return t!==void 0}function mD(t){return typeof t=="function"}function gD(t){return typeof t=="object"&&!Array.isArray(t)}function bf(t){return typeof t=="string"||t instanceof String}function OE(t){return Og()&&t instanceof Blob}function Og(){return typeof Blob<"u"}function ME(t,e,n,i){if(i<e)throw Cm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Cm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Pb(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,i,a,l,c,f,p,m,y,T,R=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=T,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,U)=>{this.resolve_=b,this.reject_=U,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new ph(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ta.NO_ERROR,p=l.getStatus();if(!f||Vb(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ta.ABORT;i(!1,new ph(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new ph(m,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());pD(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=Ng();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Lb():Mb();c(p)}else{const p=Ob();c(p)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=fD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function _D(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ED(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wD(t,e,n,i,a,l,c=!0){const f=Pb(t.urlParams),p=t.url+f,m=Object.assign({},t.headers);return ED(m,e),_D(m,n),vD(m,l),TD(m,i),new yD(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SD(...t){const e=bD();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Og())return new Blob(t);throw new xt(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){if(typeof atob>"u")throw uD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gp{constructor(e,n){this.data=e,this.contentType=n||null}}function xD(t,e){switch(t){case $r.RAW:return new Gp(Bb(e));case $r.BASE64:case $r.BASE64URL:return new Gp(zb(t,e));case $r.DATA_URL:return new Gp(CD(e),kD(e))}throw Ng()}function Bb(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function ID(t){let e;try{e=decodeURIComponent(t)}catch{throw mu($r.DATA_URL,"Malformed data URL.")}return Bb(e)}function zb(t,e){switch(t){case $r.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw mu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case $r.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw mu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RD(e)}catch(a){throw a.message.includes("polyfill")?a:mu(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class jb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mu($r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=DD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function CD(t){const e=new jb(t);return e.base64?zb($r.BASE64,e.rest):ID(e.rest)}function kD(t){return new jb(t).contentType}function DD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){let i=0,a="";OE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(OE(this.data_)){const i=this.data_,a=AD(i,e,n);return a===null?null:new ws(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ws(i,!0)}}static getBlob(...e){if(Og()){const n=e.map(i=>i instanceof ws?i.data_:i);return new ws(SD.apply(null,n))}else{const n=e.map(c=>bf(c)?xD($r.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new ws(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){let e;try{e=JSON.parse(t)}catch{return null}return gD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OD(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function qb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){return e}class xn{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||MD}}let mh=null;function UD(t){return!bf(t)||t.length<2?t:qb(t)}function Hb(){if(mh)return mh;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(l,c){return UD(c)}const n=new xn("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=i,t.push(a),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),mh=t,mh}function LD(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Zn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function PD(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return LD(i,t),i}function Gb(t,e,n){const i=Fb(e);return i===null?null:PD(t,i,n)}function VD(t,e,n,i){const a=Fb(e);if(a===null||!bf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const y=t.bucket,T=t.fullPath,R="/b/"+c(y)+"/o/"+c(T),b=Lu(R,n,i),U=Pb({alt:"media",token:m});return b+U})[0]}function Kb(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class Xo{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){if(!t)throw Ng()}function Mg(t,e){function n(i,a){const l=Gb(t,a,e);return Oi(l!==null),l}return n}function BD(t,e){function n(i,a){const l=Gb(t,a,e);return Oi(l!==null),VD(l,a,t.host,t._protocol)}return n}function Pu(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=nD():a=tD():n.getStatus()===402?a=eD(t.bucket):n.getStatus()===403?a=rD(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function Qb(t){const e=Pu(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=Jk(t.path)),l.serverResponse=a.serverResponse,l}return n}function zD(t,e,n){const i=e.fullServerUrl(),a=Lu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new Xo(a,l,Mg(t,n),c);return f.errorHandler=Qb(e),f}function jD(t,e,n){const i=e.fullServerUrl(),a=Lu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new Xo(a,l,BD(t,n),c);return f.errorHandler=Qb(e),f}function FD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yb(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=FD(null,e)),i}function qD(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let ee="";for(let pe=0;pe<2;pe++)ee=ee+Math.random().toString().slice(2);return ee}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=Yb(e,i,a),y=Kb(m,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,R=`\r
--`+p+"--",b=ws.getBlob(T,i,R);if(b===null)throw Ub();const U={name:m.fullPath},L=Lu(l,t.host,t._protocol),F="POST",G=t.maxUploadRetryTime,te=new Xo(L,F,Mg(t,n),G);return te.urlParams=U,te.headers=c,te.body=b.uploadData(),te.errorHandler=Pu(e),te}class Kh{constructor(e,n,i,a){this.current=e,this.total=n,this.finalized=!!i,this.metadata=a||null}}function Ug(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function HD(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c=Yb(e,i,a),f={name:c.fullPath},p=Lu(l,t.host,t._protocol),m="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Kb(c,n),R=t.maxUploadRetryTime;function b(L){Ug(L);let F;try{F=L.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(bf(F)),F}const U=new Xo(p,m,b,R);return U.urlParams=f,U.headers=y,U.body=T,U.errorHandler=Pu(e),U}function GD(t,e,n,i){const a={"X-Goog-Upload-Command":"query"};function l(m){const y=Ug(m,["active","final"]);let T=null;try{T=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}T||Oi(!1);const R=Number(T);return Oi(!isNaN(R)),new Kh(R,i.size(),y==="final")}const c="POST",f=t.maxUploadRetryTime,p=new Xo(n,c,l,f);return p.headers=a,p.errorHandler=Pu(e),p}const UE=256*1024;function KD(t,e,n,i,a,l,c,f){const p=new Kh(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw oD();const m=p.total-p.current;let y=m;a>0&&(y=Math.min(y,a));const T=p.current,R=T+y;let b="";y===0?b="finalize":m===y?b="upload, finalize":b="upload";const U={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${p.current}`},L=i.slice(T,R);if(L===null)throw Ub();function F(pe,ce){const W=Ug(pe,["active","final"]),V=p.current+y,N=i.size();let k;return W==="final"?k=Mg(e,l)(pe,ce):k=null,new Kh(V,N,W==="final",k)}const G="POST",te=e.maxUploadRetryTime,ee=new Xo(n,G,F,te);return ee.headers=U,ee.body=L.uploadData(),ee.progressCallback=f||null,ee.errorHandler=Pu(t),ee}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kp(t){switch(t){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,i){if(mD(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class YD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a){if(this.sent_)throw iu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $D extends YD{initXhr(){this.xhr_.responseType="text"}}function Io(){return new $D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Hb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Tt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Vb(a.status,[]))if(l)a=Ob();else{this.sleepTime=Math.max(this.sleepTime*2,Zk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Tt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=HD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Io,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const a=GD(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Io,n,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=UE*this._chunkMultiplier,n=new Kh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=KD(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Io,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){UE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=zD(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Io,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=qD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Io,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Mb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Kp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,a){const l=new QD(n||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Kp(this._state)){case Un.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const n=this._reject;To(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Kp(this._state)){case Un.RUNNING:case Un.PAUSED:e.next&&To(e.next.bind(e,this.snapshot))();break;case Un.SUCCESS:e.complete&&To(e.complete.bind(e))();break;case Un.CANCELED:case Un.ERROR:e.error&&To(e.error.bind(e,this._error))();break;default:e.error&&To(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ra(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qb(this._location.path)}get storage(){return this._service}get parent(){const e=ND(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new Ra(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cD(e)}}function WD(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new XD(t,new ws(e),n)}function ZD(t){t._throwIfRoot("getDownloadURL");const e=jD(t.storage,t._location,Hb());return t.storage.makeRequestWithTokens(e,Io).then(n=>{if(n===null)throw lD();return n})}function JD(t,e){const n=OD(t._location.path,e),i=new Zn(t._location.bucket,n);return new Ra(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){return/^[A-Za-z]+:\/\//.test(t)}function tN(t,e){return new Ra(t,e)}function $b(t,e){if(t instanceof Lg){const n=t;if(n._bucket==null)throw aD();const i=new Ra(n,n._bucket);return e!=null?$b(i,e):i}else return e!==void 0?JD(t,e):t}function nN(t,e){if(e&&eN(e)){if(t instanceof Lg)return tN(t,e);throw Cm("To use ref(service, url), the first argument must be a Storage instance.")}else return $b(t,e)}function LE(t,e){const n=e==null?void 0:e[Nb];return n==null?null:Zn.makeFromBucketSpec(n,t)}function rN(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:KT(a,t.app.options.projectId))}class Lg{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Db,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xk,this._maxUploadRetryTime=Wk,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ME("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ra(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new hD(Lb());{const c=wD(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const PE="@firebase/storage",VE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="storage";function iN(t,e,n){return t=Pt(t),WD(t,e,n)}function sN(t){return t=Pt(t),ZD(t)}function aN(t,e){return t=Pt(t),nN(t,e)}function oN(t=Km(),e){t=Pt(t);const i=nf(t,Xb).getImmediate({identifier:e}),a=qT("storage");return a&&lN(i,...a),i}function lN(t,e,n,i={}){rN(t,e,n,i)}function uN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Lg(n,i,a,e,Ia)}function cN(){ba(new Ds(Xb,uN,"PUBLIC").setMultipleInstances(!0)),Xr(PE,VE,""),Xr(PE,VE,"esm2017")}cN();function Pg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function Wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=Wb,Zb=new Iu("auth","Firebase",Wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Hm("@firebase/auth");function fN(t,...e){Qh.logLevel<=We.WARN&&Qh.warn(`Auth (${Ia}): ${t}`,...e)}function Rh(t,...e){Qh.logLevel<=We.ERROR&&Qh.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw Bg(t,...e)}function Ir(t,...e){return Bg(t,...e)}function Vg(t,e,n){const i=Object.assign(Object.assign({},hN()),{[e]:n});return new Iu("auth","Firebase",i).create(e,{appName:t.name})}function wa(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ni(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Zb.create(t,...e)}function Ve(t,e,...n){if(!t)throw Bg(e,...n)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rh(e),new Error(e)}function Bi(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pN(){return BE()==="http:"||BE()==="https:"}function BE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pN()||mR()||"connection"in navigator)?navigator.onLine:!0}function gN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=fR()||gR()}get(){return mN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Vu(3e4,6e4);function jg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,n,i,a={}){return e1(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Cu(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return pR()||(m.referrerPolicy="no-referrer"),Jb.fetch()(t1(t,t.config.apiHost,n,f),m)})}async function e1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},yN),e);try{const a=new EN(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw gh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw gh(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw gh(t,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Vg(t,y,m);ni(t,y)}}catch(a){if(a instanceof ii)throw a;ni(t,"network-request-failed",{message:String(a)})}}async function vN(t,e,n,i,a={}){const l=await Wo(t,e,n,i,a);return"mfaPendingCredential"in l&&ni(t,"multi-factor-auth-required",{_serverResponse:l}),l}function t1(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?zg(t.config,a):`${t.config.apiScheme}://${a}`}class EN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),_N.get())})}}function gh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ir(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function n1(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(t,e=!1){const n=Pt(t),i=await n.getIdToken(e),a=Fg(i);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:gu(Qp(a.auth_time)),issuedAtTime:gu(Qp(a.iat)),expirationTime:gu(Qp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function Fg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const a=jT(n);return a?JSON.parse(a):(Rh("Failed to decode base64 JWT payload"),null)}catch(a){return Rh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function zE(t){const e=Fg(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&bN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function bN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Au(t,n1(n,{idToken:i}));Ve(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?r1(l.providerUserInfo):[],f=RN(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,T)}async function AN(t){const e=Pt(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function r1(t){return t.map(e=>{var{providerId:n}=e,i=Pg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){const n=await e1(t,{},async()=>{const i=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=t1(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Jb.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IN(t,e){return Wo(t,"POST","/v2/accounts:revokeToken",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=zE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await xN(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ko;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wN(this,e)}reload(){return AN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Au(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,f,p,m,y;const T=(i=n.displayName)!==null&&i!==void 0?i:void 0,R=(a=n.email)!==null&&a!==void 0?a:void 0,b=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,U=(c=n.photoURL)!==null&&c!==void 0?c:void 0,L=(f=n.tenantId)!==null&&f!==void 0?f:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(m=n.createdAt)!==null&&m!==void 0?m:void 0,te=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ee,emailVerified:pe,isAnonymous:ce,providerData:W,stsTokenManager:V}=n;Ve(ee&&V,e,"internal-error");const N=ko.fromJSON(this.name,V);Ve(typeof ee=="string",e,"internal-error"),Es(T,e.name),Es(R,e.name),Ve(typeof pe=="boolean",e,"internal-error"),Ve(typeof ce=="boolean",e,"internal-error"),Es(b,e.name),Es(U,e.name),Es(L,e.name),Es(F,e.name),Es(G,e.name),Es(te,e.name);const k=new ki({uid:ee,auth:e,email:R,emailVerified:pe,displayName:T,isAnonymous:ce,photoURL:U,phoneNumber:b,tenantId:L,stsTokenManager:N,createdAt:G,lastLoginAt:te});return W&&Array.isArray(W)&&(k.providerData=W.map(P=>Object.assign({},P))),F&&(k._redirectEventId=F),k}static async _fromIdTokenResponse(e,n,i=!1){const a=new ko;a.updateFromServerResponse(n);const l=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Yh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?r1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new ko;f.updateFromIdToken(i);const p=new ki({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function Di(t){Bi(t instanceof Function,"Expected a class definition");let e=jE.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i1.type="NONE";const FE=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=xh(this.userKey,a.apiKey,l),this.fullPersistenceKey=xh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Do(Di(FE),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(FE);const c=xh(i,e.config.apiKey,e.name);let f=null;for(const m of n)try{const y=await m._get(c);if(y){const T=ki._fromJSON(e,y);m!==l&&(f=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Do(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Do(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(h1(e))return"Webos";if(a1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function s1(t=En()){return/firefox\//i.test(t)}function a1(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(t=En()){return/crios\//i.test(t)}function l1(t=En()){return/iemobile/i.test(t)}function u1(t=En()){return/android/i.test(t)}function c1(t=En()){return/blackberry/i.test(t)}function h1(t=En()){return/webos/i.test(t)}function qg(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CN(t=En()){var e;return qg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kN(){return yR()&&document.documentMode===10}function f1(t=En()){return qg(t)||u1(t)||h1(t)||c1(t)||/windows phone/i.test(t)||l1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e=[]){let n;switch(t){case"Browser":n=qE(En());break;case"Worker":n=`${qE(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e={}){return Wo(t,"GET","/v2/passwordPolicy",jg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=6;class MN{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:ON,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n1(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(wa(this));const n=e?Pt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NN(this),n=new MN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await IN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sf(t){return Pt(t)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AR(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LN(t){Hg=t}function PN(t){return Hg.loadJS(t)}function VN(){return Hg.gapiScript}function BN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e){const n=nf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Mi(l,e??{}))return a;ni(a,"already-initialized")}return n.initialize({options:e})}function jN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FN(t,e,n){const i=Sf(t);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=p1(e),{host:c,port:f}=qN(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(Mi(m,i.config.emulator)&&Mi(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,HN()}function p1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qN(t){const e=p1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:GE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:GE(c)}}}function GE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return vN(t,"POST","/v1/accounts:signInWithIdp",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="http://localhost";class xa extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Pg(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new xa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,No(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:GN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Bu{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qr.credential(n,i)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Bu{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Bu{constructor(){super("twitter.com")}static credential(e,n){return xa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return As.credential(n,i)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ki._fromIdTokenResponse(e,i,a),c=KE(i);return new Ho({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=KE(i);return new Ho({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function KE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends ii{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new $h(e,n,i,a)}}function g1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,l,e,i):l})}async function KN(t,e,n=!1){const i=await Au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e,n=!1){const{auth:i}=t;if(_r(i.app))return Promise.reject(wa(i));const a="reauthenticate";try{const l=await Au(t,g1(i,a,e,t),n);Ve(l.idToken,i,"internal-error");const c=Fg(l.idToken);Ve(c,i,"internal-error");const{sub:f}=c;return Ve(t.uid===f,i,"user-mismatch"),Ho._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e,n=!1){if(_r(t.app))return Promise.reject(wa(t));const i="signIn",a=await g1(t,i,e),l=await Ho._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function $N(t,e,n,i){return Pt(t).onIdTokenChanged(e,n,i)}function XN(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function WN(t,e,n,i){return Pt(t).onAuthStateChanged(e,n,i)}function ZN(t){return Pt(t).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=1e3,eO=10;class _1 extends y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);kN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,eO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},JN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const tO=_1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v1.type="SESSION";const E1=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Af(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async m=>m(n.origin,l)),p=await nO(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Kg("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const R=T;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function iO(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function sO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oO(){return T1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebaseLocalStorageDb",lO=1,Wh="firebaseLocalStorage",b1="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rf(t,e){return t.transaction([Wh],e?"readwrite":"readonly").objectStore(Wh)}function uO(){const t=indexedDB.deleteDatabase(w1);return new zu(t).toPromise()}function Nm(){const t=indexedDB.open(w1,lO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Wh,{keyPath:b1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Wh)?e(i):(i.close(),await uO(),e(await Nm()))})})}async function QE(t,e,n){const i=Rf(t,!0).put({[b1]:e,value:n});return new zu(i).toPromise()}async function cO(t,e){const n=Rf(t,!1).get(e),i=await new zu(n).toPromise();return i===void 0?null:i.value}function YE(t,e){const n=Rf(t,!0).delete(e);return new zu(n).toPromise()}const hO=800,fO=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>fO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(oO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await QE(e,Xh,"1"),await YE(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>QE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>cO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Rf(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const dO=S1;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){return e?Di(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pO(t){return YN(t.auth,new Qg(t),t.bypassAuthState)}function mO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),QN(n,new Qg(t),t.bypassAuthState)}async function gO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),KN(n,new Qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pO;case"linkViaPopup":case"linkViaRedirect":return gO;case"reauthViaPopup":case"reauthViaRedirect":return mO;default:ni(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Vu(2e3,1e4);async function _O(t,e,n){if(_r(t.app))return Promise.reject(Ir(t,"operation-not-supported-in-this-environment"));const i=Sf(t);dN(t,e,Gg);const a=A1(i,n);return new Ea(i,"signInViaPopup",e,a).executeNotNull()}class Ea extends R1{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yO.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="pendingRedirect",Ih=new Map;class EO extends R1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const i=await TO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TO(t,e){const n=SO(e),i=bO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function wO(t,e){Ih.set(t._key(),e)}function bO(t){return Di(t._redirectPersistence)}function SO(t){return xh(vO,t.config.apiKey,t.name)}async function AO(t,e,n=!1){if(_r(t.app))return Promise.reject(wa(t));const i=Sf(t),a=A1(i,e),c=await new EO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=10*60*1e3;class xO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!x1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RO&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DO=/^https?/;async function NO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CO(t);for(const n of e)try{if(OO(n))return}catch{}ni(t,"unauthorized-domain")}function OO(t){const e=km(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!DO.test(n))return!1;if(kO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new Vu(3e4,6e4);function XE(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UO(t){return new Promise((e,n)=>{var i,a,l;function c(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(Ir(t,"network-request-failed"))},timeout:MO.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)c();else{const f=BN("iframefcb");return Jr()[f]=()=>{gapi.load?c():n(Ir(t,"network-request-failed"))},PN(`${VN()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function LO(t){return Ch=Ch||UO(t),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new Vu(5e3,15e3),VO="__/auth/iframe",BO="emulator/auth/iframe",zO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FO(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zg(e,BO):`https://${t.config.authDomain}/${VO}`,i={apiKey:e.apiKey,appName:t.name,v:Ia},a=jO.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Cu(i).slice(1)}`}async function qO(t){const e=await LO(t),n=Jr().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:FO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ir(t,"network-request-failed"),f=Jr().setTimeout(()=>{l(c)},PO.get());function p(){Jr().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GO=500,KO=600,QO="_blank",YO="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $O(t,e,n,i=GO,a=KO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},HO),{width:i.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();n&&(f=o1(m)?QO:n),s1(m)&&(e=e||YO,p.scrollbars="yes");const y=Object.entries(p).reduce((R,[b,U])=>`${R}${b}=${U},`,"");if(CN(m)&&f!=="_self")return XO(e||"",f),new WE(null);const T=window.open(e||"",f,y);Ve(T,t,"popup-blocked");try{T.focus()}catch{}return new WE(T)}function XO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="__/auth/handler",ZO="emulator/auth/handler",JO=encodeURIComponent("fac");async function ZE(t,e,n,i,a,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ia,eventId:a};if(e instanceof Gg){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",SR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof Bu){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),m=p?`#${JO}=${encodeURIComponent(p)}`:"";return`${eM(t)}?${Cu(f).slice(1)}${m}`}function eM({config:t}){return t.emulator?zg(t,ZO):`https://${t.authDomain}/${WO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class tM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E1,this._completeRedirectFn=AO,this._overrideRedirectResult=wO}async _openPopup(e,n,i,a){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ZE(e,n,i,km(),a);return $O(e,c,Kg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await ZE(e,n,i,km(),a);return iO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await qO(e),i=new xO(e);return n.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Yp];c!==void 0&&n(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f1()||a1()||qg()}}const nM=tM;var JE="@firebase/auth",eT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sM(t){ba(new Ds("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(t)},m=new UN(i,a,l,p);return jN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ba(new Ds("auth-internal",e=>{const n=Sf(e.getProvider("auth").getImmediate());return(i=>new rM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(JE,eT,iM(t)),Xr(JE,eT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=5*60,oM=GT("authIdTokenMaxAge")||aM;let tT=null;const lM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oM)return;const a=n==null?void 0:n.token;tT!==a&&(tT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uM(t=Km()){const e=nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zN(t,{popupRedirectResolver:nM,persistence:[dO,tO,E1]}),i=GT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=lM(l.toString());XN(n,c,()=>c(n.currentUser)),$N(n,f=>c(f))}}const a=FT("auth");return a&&FN(n,`http://${a}`),n}function cM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ir("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",cM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sM("Browser");const hM={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},Yg=$T(hM),zs=Dk(Yg),fM=oN(Yg),Om=uM(Yg);new Qr;const I1=wg(zs,"eotv-enemies"),dM=wg(zs,"eotv-enemy-tags"),C1=ge.createContext(null),pM=({children:t})=>{const[e,n]=ge.useState(null);return ge.useEffect(()=>WN(Om,n),[]),J.jsx(C1.Provider,{value:e,children:t})},Zo=()=>ge.useContext(C1);function mM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const gM=ge.forwardRef(mM);function yM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const _M=ge.forwardRef(yM);function vM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const EM=ge.forwardRef(vM);function TM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const wM=ge.forwardRef(TM);function bM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const SM=ge.forwardRef(bM);function AM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const $g=ge.forwardRef(AM);function RM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const xM=ge.forwardRef(RM);function IM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const xf=ge.forwardRef(IM),CM=(t,e,n,i)=>{const a=aN(fM,`enemies/${t}/${e.name}`),l=iN(a,e);l.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;i(f)},c=>{console.error("Ошибка загрузки:",c)},async()=>{const c=await sN(l.snapshot.ref);n(c)})},Zh=({imageURL:t,setImageURL:e,ownerUid:n,className:i})=>{const[a,l]=ge.useState(0),c=p=>{p&&CM(n,p,e,l)},f=p=>{p.preventDefault(),c(p.dataTransfer.files[0])};return J.jsxs("div",{className:`w-3/14 flex items-center justify-center bg-gray-800 relative overflow-hidden group ${i||""}`,onDrop:f,onDragOver:p=>p.preventDefault(),children:[t&&J.jsx("img",{src:t,className:"object-cover w-full h-full",alt:""}),J.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),J.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[J.jsx(gM,{className:"w-8 h-8"}),J.jsx("span",{className:"text-xs",children:"Нажмите или перетащите файл"})]}),a>0&&a<100&&J.jsxs("span",{className:"absolute bottom-2 left-2 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},k1=ge.createContext([]),kM=({children:t})=>{const[e,n]=ge.useState([]);return ge.useEffect(()=>{(async()=>{const a=await qk(dM);n(a.docs.map(l=>l.data().name))})()},[]),J.jsx(k1.Provider,{value:e,children:t})},Xg=()=>ge.useContext(k1),DM=({selectedTags:t,setSelectedTags:e,customTags:n,setCustomTags:i})=>{const a=Xg().map(R=>({name:R})),[l,c]=ge.useState(""),p=Array.from(new Set([...a.map(R=>R.name),...n])).filter(R=>R.toLowerCase().includes(l.toLowerCase())&&!t.includes(R)),m=ge.useCallback(R=>{const b=R.trim();b&&(t.includes(b)||e([...t,b]),!a.some(U=>U.name===b)&&!n.includes(b)&&i([...n,b]))},[t,e,a,n,i]),y=ge.useCallback(R=>{(R.key==="Enter"||R.key===",")&&(R.preventDefault(),m(l),c(""))},[l,m]),T=ge.useCallback(R=>{e(t.filter(b=>b!==R))},[t,e]);return J.jsxs("div",{className:"mt-auto py-4",children:[J.jsx("label",{className:"block text-sm mb-1",children:"Теги"}),J.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-700 p-2 rounded",children:[t.map(R=>J.jsxs("span",{className:"bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1",children:[R,J.jsx("button",{type:"button",onClick:()=>T(R),className:"text-red-400 hover:text-white",children:"×"})]},R)),J.jsx("input",{type:"text",value:l,list:"tag-suggestions",onChange:R=>c(R.target.value),onKeyDown:y,className:"bg-transparent outline-none flex-1 text-sm text-white"}),J.jsx("datalist",{id:"tag-suggestions",children:p.map(R=>J.jsx("option",{value:R},R))})]})]})},D1=({name:t,setName:e,customDescription:n,setCustomDescription:i,selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f,children:p})=>J.jsxs("div",{className:"w-4/7 flex flex-col px-6 h-full overflow-y-auto",children:[J.jsx("input",{type:"text",placeholder:"Имя противника",value:t,onChange:m=>e(m.target.value),className:"w-full p-2 mt-4 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue",required:!0}),J.jsx("textarea",{placeholder:"Описание",value:n,onChange:m=>i(m.target.value),className:"w-full p-2 mt-4 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue flex-1 resize-none"}),J.jsx(DM,{selectedTags:a,setSelectedTags:l,customTags:c,setCustomTags:f}),p]}),NM=()=>{const[t,e]=ge.useState(!1),[n,i]=ge.useState(""),[a,l]=ge.useState(""),[c,f]=ge.useState([]),[p,m]=ge.useState([]),[y,T]=ge.useState(""),[R,b]=ge.useState(""),U=Zo(),L=ge.useRef(null),F=async G=>{if(G.preventDefault(),!U)return;const te={name:n,customDescription:a,tags:c,customTags:p,imageURL:y,imageURL2:R,authorUid:U.uid,likedBy:[],createdAt:new Date().toISOString()};await Kk(I1,te),e(!1),i(""),l(""),f([]),m([]),T(""),b("")};return ge.useEffect(()=>{const G=ee=>{L.current&&!L.current.contains(ee.target)&&e(!1)},te=ee=>{ee.key==="Escape"&&e(!1)};return t&&(document.addEventListener("mousedown",G),document.addEventListener("keydown",te)),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("keydown",te)}},[t]),t?J.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5 bg-black flex items-center justify-center",onClick:()=>e(!1),children:J.jsx("div",{role:"dialog",onClick:G=>G.stopPropagation(),className:"relative bg-gray-900 rounded-2xl w-full max-w-7xl flex shadow-lg overflow-hidden h-full",children:J.jsxs("form",{ref:L,onSubmit:F,className:"flex w-full h-full",children:[J.jsx(Zh,{imageURL:y,setImageURL:T,ownerUid:(U==null?void 0:U.uid)||""}),J.jsx(D1,{name:n,setName:i,customDescription:a,setCustomDescription:l,selectedTags:c,setSelectedTags:f,customTags:p,setCustomTags:m,children:J.jsxs("div",{className:"flex gap-4 py-4",children:[J.jsxs("button",{type:"button",onClick:()=>e(!1),className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition cursor-pointer",children:[J.jsx(xf,{className:"w-5 h-5"}),"Отмена"]}),J.jsxs("button",{type:"submit",disabled:!U,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:[J.jsx(SM,{className:"w-5 h-5"}),"Добавить"]})]})}),J.jsx(Zh,{imageURL:R,setImageURL:b,ownerUid:(U==null?void 0:U.uid)||""})]})})}):J.jsxs("div",{role:"button",tabIndex:0,className:"group relative flex flex-col items-center justify-center bg-gray-800 text-white p-4 rounded-xl shadow-lg cursor-pointer w-40 h-56 aspect-[2/3] hover:scale-110 transition-all duration-300 ease-in-out",onClick:()=>e(!0),onKeyDown:G=>G.key==="Enter"&&e(!0),children:[J.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-neonBlue rounded-full transform transition-transform duration-300 group-hover:rotate-90",children:J.jsx("span",{className:"text-3xl font-bold text-darkBg",children:"+"})}),J.jsx("p",{className:"mt-2 text-lg",children:"Добавить"})]})};function OM({title:t,titleId:e,...n},i){return ge.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?ge.createElement("title",{id:e},t):null,ge.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Wg=ge.forwardRef(OM),MM=({index:t,enemy:e,author:n,onClick:i})=>{var m;const a=ge.useRef(null),l=Zo(),c=Xg(),f=!!l&&((m=e.likedBy)==null?void 0:m.includes(l.uid)),p=async y=>{if(y.stopPropagation(),!l||!e.id)return;const T=Da(zs,"eotv-enemies",e.id);await Dg(T,{likedBy:f?kb(l.uid):Cb(l.uid)})};return J.jsxs("div",{ref:a,className:"bg-gray-800 text-white shadow-lg cursor-pointer  overflow-hidden relative w-40 h-56 aspect-[2/3] hover:scale-110 flex flex-col rounded-xl transition-all duration-300 ease-in-out",onClick:()=>i(t),children:[J.jsx("img",{src:e.imageURL,alt:e.name,className:"w-full h-32 object-cover"}),J.jsx("button",{onClick:p,title:f?"Сохранено":"Сохранить",className:"absolute top-2 right-2 text-blue-300 hover:scale-110 transition",children:f?J.jsx(Wg,{className:"w-5 h-5"}):J.jsx($g,{className:"w-5 h-5"})}),J.jsxs("div",{className:"p-2 flex flex-col",children:[J.jsx("p",{className:"text-sm text-center font-bold",children:e.name}),J.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:J.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.filter(y=>c.includes(y)).map((y,T)=>J.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:y},T))})}),J.jsx("div",{className:"absolute items-center gap-2 mt-1 right-4 bottom-4",children:J.jsx("img",{src:n==null?void 0:n.photoURL,alt:"Avatar",className:"w-6 h-6 rounded-full",title:(n==null?void 0:n.displayName)||"Unknown"})})]}),e.imageURL2&&J.jsx("img",{src:e.imageURL2,alt:"Extra",className:"hidden"})]},e.id)},UM=({enemies:t,users:e,onSelect:n})=>{const i=Zo();return J.jsxs("div",{className:"flex flex-wrap gap-4 justify-center relative",children:[i&&J.jsx(NM,{}),t.map((a,l)=>J.jsx(MM,{index:l,enemy:a,author:e[a.authorUid],onClick:()=>n(l)},a.id))]})};function LM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const PM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BM={};function nT(t,e){return(BM.jsx?VM:PM).test(t)}const zM=/[ \t\n\f\r]/g;function jM(t){return typeof t=="object"?t.type==="text"?rT(t.value):!1:rT(t)}function rT(t){return t.replace(zM,"")===""}class ju{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}ju.prototype.normal={};ju.prototype.property={};ju.prototype.space=void 0;function N1(t,e){const n={},i={};for(const a of t)Object.assign(n,a.property),Object.assign(i,a.normal);return new ju(n,i,e)}function Mm(t){return t.toLowerCase()}class Bn{constructor(e,n){this.attribute=n,this.property=e}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let FM=0;const Ge=Na(),Ft=Na(),O1=Na(),me=Na(),vt=Na(),Oo=Na(),Xn=Na();function Na(){return 2**++FM}const Um=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Ft,commaOrSpaceSeparated:Xn,commaSeparated:Oo,number:me,overloadedBoolean:O1,spaceSeparated:vt},Symbol.toStringTag,{value:"Module"})),$p=Object.keys(Um);class Zg extends Bn{constructor(e,n,i,a){let l=-1;if(super(e,n),iT(this,"space",a),typeof i=="number")for(;++l<$p.length;){const c=$p[l];iT(this,$p[l],(i&Um[c])===Um[c])}}}Zg.prototype.defined=!0;function iT(t,e,n){n&&(t[e]=n)}function Jo(t){const e={},n={};for(const[i,a]of Object.entries(t.properties)){const l=new Zg(i,t.transform(t.attributes||{},i),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[Mm(i)]=i,n[Mm(l.attribute)]=i}return new ju(e,n,t.space)}const M1=Jo({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:vt,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:me,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:vt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Ft,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function U1(t,e){return e in t?t[e]:e}function L1(t,e){return U1(t,e.toLowerCase())}const qM=Jo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Oo,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:vt,autoFocus:Ge,autoPlay:Ge,blocking:vt,capture:null,charSet:null,checked:Ge,cite:null,className:vt,cols:me,colSpan:null,content:null,contentEditable:Ft,controls:Ge,controlsList:vt,coords:me|Oo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:O1,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:vt,height:me,hidden:Ge,high:me,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:vt,itemRef:vt,itemScope:Ge,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:me,pattern:null,ping:vt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:vt,required:Ge,reversed:Ge,rows:me,rowSpan:me,sandbox:vt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Ft,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:L1}),HM=Jo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Oo,g2:Oo,glyphName:Oo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xn,rev:Xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xn,requiredFeatures:Xn,requiredFonts:Xn,requiredFormats:Xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:U1}),P1=Jo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),V1=Jo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:L1}),B1=Jo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),GM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},KM=/[A-Z]/g,sT=/-[a-z]/g,QM=/^data[-\w.:]+$/i;function YM(t,e){const n=Mm(e);let i=e,a=Bn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&QM.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(sT,XM);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!sT.test(l)){let c=l.replace(KM,$M);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}a=Zg}return new a(i,e)}function $M(t){return"-"+t.toLowerCase()}function XM(t){return t.charAt(1).toUpperCase()}const WM=N1([M1,qM,P1,V1,B1],"html"),Jg=N1([M1,HM,P1,V1,B1],"svg");function ZM(t){return t.join(" ").trim()}var wo={},Xp,aT;function JM(){if(aT)return Xp;aT=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,m="/",y="*",T="",R="comment",b="declaration";Xp=function(L,F){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];F=F||{};var G=1,te=1;function ee(O){var Ee=O.match(e);Ee&&(G+=Ee.length);var Te=O.lastIndexOf(p);te=~Te?O.length-Te:te+O.length}function pe(){var O={line:G,column:te};return function(Ee){return Ee.position=new ce(O),N(),Ee}}function ce(O){this.start=O,this.end={line:G,column:te},this.source=F.source}ce.prototype.content=L;function W(O){var Ee=new Error(F.source+":"+G+":"+te+": "+O);if(Ee.reason=O,Ee.filename=F.source,Ee.line=G,Ee.column=te,Ee.source=L,!F.silent)throw Ee}function V(O){var Ee=O.exec(L);if(Ee){var Te=Ee[0];return ee(Te),L=L.slice(Te.length),Ee}}function N(){V(n)}function k(O){var Ee;for(O=O||[];Ee=P();)Ee!==!1&&O.push(Ee);return O}function P(){var O=pe();if(!(m!=L.charAt(0)||y!=L.charAt(1))){for(var Ee=2;T!=L.charAt(Ee)&&(y!=L.charAt(Ee)||m!=L.charAt(Ee+1));)++Ee;if(Ee+=2,T===L.charAt(Ee-1))return W("End of comment missing");var Te=L.slice(2,Ee-2);return te+=2,ee(Te),L=L.slice(Ee),te+=2,O({type:R,comment:Te})}}function z(){var O=pe(),Ee=V(i);if(Ee){if(P(),!V(a))return W("property missing ':'");var Te=V(l),de=O({type:b,property:U(Ee[0].replace(t,T)),value:Te?U(Te[0].replace(t,T)):T});return V(c),de}}function j(){var O=[];k(O);for(var Ee;Ee=z();)Ee!==!1&&(O.push(Ee),k(O));return O}return N(),j()};function U(L){return L?L.replace(f,T):T}return Xp}var oT;function e4(){if(oT)return wo;oT=1;var t=wo&&wo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wo,"__esModule",{value:!0}),wo.default=n;var e=t(JM());function n(i,a){var l=null;if(!i||typeof i!="string")return l;var c=(0,e.default)(i),f=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,y=p.value;f?a(m,y,p):y&&(l=l||{},l[m]=y)}}),l}return wo}var t4=e4();const lT=xu(t4),n4=lT.default||lT,z1=j1("end"),ey=j1("start");function j1(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function r4(t){const e=ey(t),n=z1(t);if(e&&n)return{start:e,end:n}}function yu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uT(t.position):"start"in t||"end"in t?uT(t):"line"in t||"column"in t?Lm(t):""}function Lm(t){return cT(t&&t.line)+":"+cT(t&&t.column)}function uT(t){return Lm(t&&t.start)+"-"+Lm(t&&t.end)}function cT(t){return t&&typeof t=="number"?t:1}class Tn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(c=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=yu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Tn.prototype.file="";Tn.prototype.name="";Tn.prototype.reason="";Tn.prototype.message="";Tn.prototype.stack="";Tn.prototype.column=void 0;Tn.prototype.line=void 0;Tn.prototype.ancestors=void 0;Tn.prototype.cause=void 0;Tn.prototype.fatal=void 0;Tn.prototype.place=void 0;Tn.prototype.ruleId=void 0;Tn.prototype.source=void 0;const ty={}.hasOwnProperty,i4=new Map,s4=/[A-Z]/g,a4=/-([a-z])/g,o4=new Set(["table","tbody","thead","tfoot","tr"]),l4=new Set(["td","th"]),F1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function u4(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=y4(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=g4(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Jg:WM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=q1(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function q1(t,e,n){if(e.type==="element")return c4(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return h4(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return d4(t,e,n);if(e.type==="mdxjsEsm")return f4(t,e);if(e.type==="root")return p4(t,e,n);if(e.type==="text")return m4(t,e)}function c4(t,e,n){const i=t.schema;let a=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=Jg,t.schema=a),t.ancestors.push(e);const l=G1(t,e.tagName,!1),c=_4(t,e);let f=ry(t,e);return o4.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!jM(p):!0})),H1(t,c,l,e),ny(c,f),t.ancestors.pop(),t.schema=i,t.create(e,l,c,n)}function h4(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Ru(t,e.position)}function f4(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ru(t,e.position)}function d4(t,e,n){const i=t.schema;let a=i;e.name==="svg"&&i.space==="html"&&(a=Jg,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:G1(t,e.name,!0),c=v4(t,e),f=ry(t,e);return H1(t,c,l,e),ny(c,f),t.ancestors.pop(),t.schema=i,t.create(e,l,c,n)}function p4(t,e,n){const i={};return ny(i,ry(t,e)),t.create(e,t.Fragment,i,n)}function m4(t,e){return e.value}function H1(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function ny(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function g4(t,e,n){return i;function i(a,l,c,f){const m=Array.isArray(c.children)?n:e;return f?m(l,c,f):m(l,c)}}function y4(t,e){return n;function n(i,a,l,c){const f=Array.isArray(l.children),p=ey(i);return e(a,l,c,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function _4(t,e){const n={};let i,a;for(a in e.properties)if(a!=="children"&&ty.call(e.properties,a)){const l=E4(t,a,e.properties[a]);if(l){const[c,f]=l;t.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&l4.has(e.tagName)?i=f:n[c]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function v4(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const f=c.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Ru(t,e.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else Ru(t,e.position);else l=i.value===null?!0:i.value;n[a]=l}return n}function ry(t,e){const n=[];let i=-1;const a=t.passKeys?new Map:i4;for(;++i<e.children.length;){const l=e.children[i];let c;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const f=q1(t,l,c);f!==void 0&&n.push(f)}return n}function E4(t,e,n){const i=YM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?LM(n):ZM(n)),i.property==="style"){let a=typeof n=="object"?n:T4(t,String(n));return t.stylePropertyNameCase==="css"&&(a=w4(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?GM[i.property]||i.property:i.attribute,n]}}function T4(t,e){const n={};try{n4(e,i)}catch(a){if(!t.ignoreInvalidStyle){const l=a,c=new Tn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=t.filePath||void 0,c.url=F1+"#cannot-parse-style-attribute",c}}return n;function i(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(a4,S4)),n[c]=l}}function G1(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,c;for(;++l<a.length;){const f=nT(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=c}else i=nT(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const a=i.value;return ty.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(i);Ru(t)}function Ru(t,e){const n=new Tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=F1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function w4(t){const e={};let n;for(n in t)ty.call(t,n)&&(e[b4(n)]=t[n]);return e}function b4(t){let e=t.replace(s4,A4);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function S4(t,e){return e.toUpperCase()}function A4(t){return"-"+t.toLowerCase()}const Wp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},R4={};function x4(t,e){const n=R4,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return K1(t,i,a)}function K1(t,e,n){if(I4(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hT(t.children,e,n)}return Array.isArray(t)?hT(t,e,n):""}function hT(t,e,n){const i=[];let a=-1;for(;++a<t.length;)i[a]=K1(t[a],e,n);return i.join("")}function I4(t){return!!(t&&typeof t=="object")}const fT=document.createElement("i");function iy(t){const e="&"+t+";";fT.innerHTML=e;const n=fT.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ri(t,e,n,i){const a=t.length;let l=0,c;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);l<i.length;)c=i.slice(l,l+1e4),c.unshift(e,0),t.splice(...c),l+=1e4,e+=1e4}function yr(t,e){return t.length>0?(ri(t,t.length,0,e),t):e}const dT={}.hasOwnProperty;function C4(t){const e={};let n=-1;for(;++n<t.length;)k4(e,t[n]);return e}function k4(t,e){let n;for(n in e){const a=(dT.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let c;if(l)for(c in l){dT.call(a,c)||(a[c]=[]);const f=l[c];D4(a[c],Array.isArray(f)?f:f?[f]:[])}}}function D4(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);ri(t,0,0,i)}function Q1(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Mo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yr=js(/[A-Za-z]/),Jn=js(/[\dA-Za-z]/),N4=js(/[#-'*+\--9=?A-Z^-~]/);function Pm(t){return t!==null&&(t<32||t===127)}const Vm=js(/\d/),O4=js(/[\dA-Fa-f]/),M4=js(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function Vn(t){return t!==null&&(t<0||t===32)}function ct(t){return t===-2||t===-1||t===32}const U4=js(new RegExp("\\p{P}|\\p{S}","u")),L4=js(/\s/);function js(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function el(t){const e=[];let n=-1,i=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let c="";if(l===37&&Jn(t.charCodeAt(n+1))&&Jn(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(c=String.fromCharCode(l,f),a=1):c="�"}else c=String.fromCharCode(l);c&&(e.push(t.slice(i,n),encodeURIComponent(c)),i=n+a+1,c=""),a&&(n+=a,a=0)}return e.join("")+t.slice(i)}function Et(t,e,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ct(p)?(t.enter(n),f(p)):e(p)}function f(p){return ct(p)&&l++<a?(t.consume(p),f):(t.exit(n),e(p))}}const P4={tokenize:V4};function V4(t){const e=t.attempt(this.parser.constructs.contentInitial,i,a);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Et(t,e,"linePrefix")}function a(f){return t.enter("paragraph"),l(f)}function l(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(f)}function c(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Pe(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),c)}}const B4={tokenize:z4},pT={tokenize:j4};function z4(t){const e=this,n=[];let i=0,a,l,c;return f;function f(ee){if(i<n.length){const pe=n[i];return e.containerState=pe[1],t.attempt(pe[0].continuation,p,m)(ee)}return m(ee)}function p(ee){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&te();const pe=e.events.length;let ce=pe,W;for(;ce--;)if(e.events[ce][0]==="exit"&&e.events[ce][1].type==="chunkFlow"){W=e.events[ce][1].end;break}G(i);let V=pe;for(;V<e.events.length;)e.events[V][1].end={...W},V++;return ri(e.events,ce+1,0,e.events.slice(pe)),e.events.length=V,m(ee)}return f(ee)}function m(ee){if(i===n.length){if(!a)return R(ee);if(a.currentConstruct&&a.currentConstruct.concrete)return U(ee);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(pT,y,T)(ee)}function y(ee){return a&&te(),G(i),R(ee)}function T(ee){return e.parser.lazy[e.now().line]=i!==n.length,c=e.now().offset,U(ee)}function R(ee){return e.containerState={},t.attempt(pT,b,U)(ee)}function b(ee){return i++,n.push([e.currentConstruct,e.containerState]),R(ee)}function U(ee){if(ee===null){a&&te(),G(0),t.consume(ee);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),L(ee)}function L(ee){if(ee===null){F(t.exit("chunkFlow"),!0),G(0),t.consume(ee);return}return Pe(ee)?(t.consume(ee),F(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(ee),L)}function F(ee,pe){const ce=e.sliceStream(ee);if(pe&&ce.push(null),ee.previous=l,l&&(l.next=ee),l=ee,a.defineSkip(ee.start),a.write(ce),e.parser.lazy[ee.start.line]){let W=a.events.length;for(;W--;)if(a.events[W][1].start.offset<c&&(!a.events[W][1].end||a.events[W][1].end.offset>c))return;const V=e.events.length;let N=V,k,P;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(k){P=e.events[N][1].end;break}k=!0}for(G(i),W=V;W<e.events.length;)e.events[W][1].end={...P},W++;ri(e.events,N+1,0,e.events.slice(V)),e.events.length=W}}function G(ee){let pe=n.length;for(;pe-- >ee;){const ce=n[pe];e.containerState=ce[1],ce[0].exit.call(e,t)}n.length=ee}function te(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function j4(t,e,n){return Et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mT(t){if(t===null||Vn(t)||L4(t))return 1;if(U4(t))return 2}function sy(t,e,n){const i=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const Bm={name:"attention",resolveAll:F4,tokenize:q4};function F4(t,e){let n=-1,i,a,l,c,f,p,m,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const T={...t[i][1].end},R={...t[n][1].start};gT(T,-p),gT(R,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...t[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:R},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},t[i][1].end={...c.start},t[n][1].start={...f.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=yr(m,[["enter",t[i][1],e],["exit",t[i][1],e]])),m=yr(m,[["enter",a,e],["enter",c,e],["exit",c,e],["enter",l,e]]),m=yr(m,sy(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),m=yr(m,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,m=yr(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,ri(t,i-1,n-i+3,m),n=i+m.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function q4(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=mT(i);let l;return c;function c(p){return l=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===l)return t.consume(p),f;const m=t.exit("attentionSequence"),y=mT(p),T=!y||y===2&&a||n.includes(p),R=!a||a===2&&y||n.includes(i);return m._open=!!(l===42?T:T&&(a||!R)),m._close=!!(l===42?R:R&&(y||!T)),e(p)}}function gT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const H4={name:"autolink",tokenize:G4};function G4(t,e,n){let i=0;return a;function a(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(b){return Yr(b)?(t.consume(b),c):b===64?n(b):m(b)}function c(b){return b===43||b===45||b===46||Jn(b)?(i=1,f(b)):m(b)}function f(b){return b===58?(t.consume(b),i=0,p):(b===43||b===45||b===46||Jn(b))&&i++<32?(t.consume(b),f):(i=0,m(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||Pm(b)?n(b):(t.consume(b),p)}function m(b){return b===64?(t.consume(b),y):N4(b)?(t.consume(b),m):n(b)}function y(b){return Jn(b)?T(b):n(b)}function T(b){return b===46?(t.consume(b),i=0,y):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):R(b)}function R(b){if((b===45||Jn(b))&&i++<63){const U=b===45?R:T;return t.consume(b),U}return n(b)}}const If={partial:!0,tokenize:K4};function K4(t,e,n){return i;function i(l){return ct(l)?Et(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Pe(l)?e(l):n(l)}}const Y1={continuation:{tokenize:Y4},exit:$4,name:"blockQuote",tokenize:Q4};function Q4(t,e,n){const i=this;return a;function a(c){if(c===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),l}return n(c)}function l(c){return ct(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function Y4(t,e,n){const i=this;return a;function a(c){return ct(c)?Et(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return t.attempt(Y1,e,n)(c)}}function $4(t){t.exit("blockQuote")}const $1={name:"characterEscape",tokenize:X4};function X4(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return M4(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const X1={name:"characterReference",tokenize:W4};function W4(t,e,n){const i=this;let a=0,l,c;return f;function f(T){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(T),t.exit("characterReferenceMarker"),p}function p(T){return T===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(T),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),l=31,c=Jn,y(T))}function m(T){return T===88||T===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(T),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,c=O4,y):(t.enter("characterReferenceValue"),l=7,c=Vm,y(T))}function y(T){if(T===59&&a){const R=t.exit("characterReferenceValue");return c===Jn&&!iy(i.sliceSerialize(R))?n(T):(t.enter("characterReferenceMarker"),t.consume(T),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(T)&&a++<l?(t.consume(T),y):n(T)}}const yT={partial:!0,tokenize:J4},_T={concrete:!0,name:"codeFenced",tokenize:Z4};function Z4(t,e,n){const i=this,a={partial:!0,tokenize:ce};let l=0,c=0,f;return p;function p(W){return m(W)}function m(W){const V=i.events[i.events.length-1];return l=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,f=W,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(W)}function y(W){return W===f?(c++,t.consume(W),y):c<3?n(W):(t.exit("codeFencedFenceSequence"),ct(W)?Et(t,T,"whitespace")(W):T(W))}function T(W){return W===null||Pe(W)?(t.exit("codeFencedFence"),i.interrupt?e(W):t.check(yT,L,pe)(W)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),R(W))}function R(W){return W===null||Pe(W)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),T(W)):ct(W)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Et(t,b,"whitespace")(W)):W===96&&W===f?n(W):(t.consume(W),R)}function b(W){return W===null||Pe(W)?T(W):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),U(W))}function U(W){return W===null||Pe(W)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),T(W)):W===96&&W===f?n(W):(t.consume(W),U)}function L(W){return t.attempt(a,pe,F)(W)}function F(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),G}function G(W){return l>0&&ct(W)?Et(t,te,"linePrefix",l+1)(W):te(W)}function te(W){return W===null||Pe(W)?t.check(yT,L,pe)(W):(t.enter("codeFlowValue"),ee(W))}function ee(W){return W===null||Pe(W)?(t.exit("codeFlowValue"),te(W)):(t.consume(W),ee)}function pe(W){return t.exit("codeFenced"),e(W)}function ce(W,V,N){let k=0;return P;function P(Te){return W.enter("lineEnding"),W.consume(Te),W.exit("lineEnding"),z}function z(Te){return W.enter("codeFencedFence"),ct(Te)?Et(W,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Te):j(Te)}function j(Te){return Te===f?(W.enter("codeFencedFenceSequence"),O(Te)):N(Te)}function O(Te){return Te===f?(k++,W.consume(Te),O):k>=c?(W.exit("codeFencedFenceSequence"),ct(Te)?Et(W,Ee,"whitespace")(Te):Ee(Te)):N(Te)}function Ee(Te){return Te===null||Pe(Te)?(W.exit("codeFencedFence"),V(Te)):N(Te)}}}function J4(t,e,n){const i=this;return a;function a(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}const Zp={name:"codeIndented",tokenize:tU},eU={partial:!0,tokenize:nU};function tU(t,e,n){const i=this;return a;function a(m){return t.enter("codeIndented"),Et(t,l,"linePrefix",5)(m)}function l(m){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Pe(m)?t.attempt(eU,c,p)(m):(t.enter("codeFlowValue"),f(m))}function f(m){return m===null||Pe(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),f)}function p(m){return t.exit("codeIndented"),e(m)}}function nU(t,e,n){const i=this;return a;function a(c){return i.parser.lazy[i.now().line]?n(c):Pe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),a):Et(t,l,"linePrefix",5)(c)}function l(c){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):Pe(c)?a(c):n(c)}}const rU={name:"codeText",previous:sU,resolve:iU,tokenize:aU};function iU(t){let e=t.length-4,n=3,i,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)a===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(a=i):(i===e||t[i][1].type==="lineEnding")&&(t[a][1].type="codeTextData",i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),e-=i-a-2,i=a+2),a=void 0);return t}function sU(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aU(t,e,n){let i=0,a,l;return c;function c(T){return t.enter("codeText"),t.enter("codeTextSequence"),f(T)}function f(T){return T===96?(t.consume(T),i++,f):(t.exit("codeTextSequence"),p(T))}function p(T){return T===null?n(T):T===32?(t.enter("space"),t.consume(T),t.exit("space"),p):T===96?(l=t.enter("codeTextSequence"),a=0,y(T)):Pe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(T))}function m(T){return T===null||T===32||T===96||Pe(T)?(t.exit("codeTextData"),p(T)):(t.consume(T),m)}function y(T){return T===96?(t.consume(T),a++,y):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(T)):(l.type="codeTextData",m(T))}}class oU{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&su(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),su(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),su(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);su(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);su(this.left,n.reverse())}}}function su(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function W1(t){const e={};let n=-1,i,a,l,c,f,p,m;const y=new oU(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,lU(y,n)),n=e[n],m=!0);else if(i[1]._container){for(l=n,a=void 0;l--;)if(c=y.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(i[1].end={...y.get(a)[1].start},f=y.slice(a,n),f.unshift(i),y.splice(a,n-a+1,f))}}return ri(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function lU(t,e){const n=t.get(e)[1],i=t.get(e)[2];let a=e-1;const l=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],m={};let y,T,R=-1,b=n,U=0,L=0;const F=[L];for(;b;){for(;t.get(++a)[1]!==b;);l.push(a),b._tokenizer||(y=i.sliceStream(b),b.next||y.push(null),T&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=b,b=b.next}for(b=n;++R<f.length;)f[R][0]==="exit"&&f[R-1][0]==="enter"&&f[R][1].type===f[R-1][1].type&&f[R][1].start.line!==f[R][1].end.line&&(L=R+1,F.push(L),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):F.pop(),R=F.length;R--;){const G=f.slice(F[R],F[R+1]),te=l.pop();p.push([te,te+G.length-1]),t.splice(te,2,G)}for(p.reverse(),R=-1;++R<p.length;)m[U+p[R][0]]=U+p[R][1],U+=p[R][1]-p[R][0]-1;return m}const uU={resolve:hU,tokenize:fU},cU={partial:!0,tokenize:dU};function hU(t){return W1(t),t}function fU(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):Pe(f)?t.check(cU,c,l)(f):(t.consume(f),a)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function c(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function dU(t,e,n){const i=this;return a;function a(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Et(t,l,"linePrefix")}function l(c){if(c===null||Pe(c))return n(c);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):t.interrupt(i.parser.constructs.flow,n,e)(c)}}function Z1(t,e,n,i,a,l,c,f,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return T;function T(G){return G===60?(t.enter(i),t.enter(a),t.enter(l),t.consume(G),t.exit(l),R):G===null||G===32||G===41||Pm(G)?n(G):(t.enter(i),t.enter(c),t.enter(f),t.enter("chunkString",{contentType:"string"}),L(G))}function R(G){return G===62?(t.enter(l),t.consume(G),t.exit(l),t.exit(a),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),b(G))}function b(G){return G===62?(t.exit("chunkString"),t.exit(f),R(G)):G===null||G===60||Pe(G)?n(G):(t.consume(G),G===92?U:b)}function U(G){return G===60||G===62||G===92?(t.consume(G),b):b(G)}function L(G){return!y&&(G===null||G===41||Vn(G))?(t.exit("chunkString"),t.exit(f),t.exit(c),t.exit(i),e(G)):y<m&&G===40?(t.consume(G),y++,L):G===41?(t.consume(G),y--,L):G===null||G===32||G===40||Pm(G)?n(G):(t.consume(G),G===92?F:L)}function F(G){return G===40||G===41||G===92?(t.consume(G),L):L(G)}}function J1(t,e,n,i,a,l){const c=this;let f=0,p;return m;function m(b){return t.enter(i),t.enter(a),t.consume(b),t.exit(a),t.enter(l),y}function y(b){return f>999||b===null||b===91||b===93&&!p||b===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?n(b):b===93?(t.exit(l),t.enter(a),t.consume(b),t.exit(a),t.exit(i),e):Pe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),T(b))}function T(b){return b===null||b===91||b===93||Pe(b)||f++>999?(t.exit("chunkString"),y(b)):(t.consume(b),p||(p=!ct(b)),b===92?R:T)}function R(b){return b===91||b===92||b===93?(t.consume(b),f++,T):T(b)}}function eS(t,e,n,i,a,l){let c;return f;function f(R){return R===34||R===39||R===40?(t.enter(i),t.enter(a),t.consume(R),t.exit(a),c=R===40?41:R,p):n(R)}function p(R){return R===c?(t.enter(a),t.consume(R),t.exit(a),t.exit(i),e):(t.enter(l),m(R))}function m(R){return R===c?(t.exit(l),p(c)):R===null?n(R):Pe(R)?(t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),Et(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(R))}function y(R){return R===c||R===null||Pe(R)?(t.exit("chunkString"),m(R)):(t.consume(R),R===92?T:y)}function T(R){return R===c||R===92?(t.consume(R),y):y(R)}}function _u(t,e){let n;return i;function i(a){return Pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,i):ct(a)?Et(t,i,n?"linePrefix":"lineSuffix")(a):e(a)}}const pU={name:"definition",tokenize:gU},mU={partial:!0,tokenize:yU};function gU(t,e,n){const i=this;let a;return l;function l(b){return t.enter("definition"),c(b)}function c(b){return J1.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function f(b){return a=Mo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):n(b)}function p(b){return Vn(b)?_u(t,m)(b):m(b)}function m(b){return Z1(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function y(b){return t.attempt(mU,T,T)(b)}function T(b){return ct(b)?Et(t,R,"whitespace")(b):R(b)}function R(b){return b===null||Pe(b)?(t.exit("definition"),i.parser.defined.push(a),e(b)):n(b)}}function yU(t,e,n){return i;function i(f){return Vn(f)?_u(t,a)(f):n(f)}function a(f){return eS(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ct(f)?Et(t,c,"whitespace")(f):c(f)}function c(f){return f===null||Pe(f)?e(f):n(f)}}const _U={name:"hardBreakEscape",tokenize:vU};function vU(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Pe(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const EU={name:"headingAtx",resolve:TU,tokenize:wU};function TU(t,e){let n=t.length-2,i=3,a,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},ri(t,i,n-i+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function wU(t,e,n){let i=0;return a;function a(y){return t.enter("atxHeading"),l(y)}function l(y){return t.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&i++<6?(t.consume(y),c):y===null||Vn(y)?(t.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Pe(y)?(t.exit("atxHeading"),e(y)):ct(y)?Et(t,f,"whitespace")(y):(t.enter("atxHeadingText"),m(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),f(y))}function m(y){return y===null||y===35||Vn(y)?(t.exit("atxHeadingText"),f(y)):(t.consume(y),m)}}const bU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vT=["pre","script","style","textarea"],SU={concrete:!0,name:"htmlFlow",resolveTo:xU,tokenize:IU},AU={partial:!0,tokenize:kU},RU={partial:!0,tokenize:CU};function xU(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function IU(t,e,n){const i=this;let a,l,c,f,p;return m;function m(M){return y(M)}function y(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),T}function T(M){return M===33?(t.consume(M),R):M===47?(t.consume(M),l=!0,L):M===63?(t.consume(M),a=3,i.interrupt?e:x):Yr(M)?(t.consume(M),c=String.fromCharCode(M),F):n(M)}function R(M){return M===45?(t.consume(M),a=2,b):M===91?(t.consume(M),a=5,f=0,U):Yr(M)?(t.consume(M),a=4,i.interrupt?e:x):n(M)}function b(M){return M===45?(t.consume(M),i.interrupt?e:x):n(M)}function U(M){const ve="CDATA[";return M===ve.charCodeAt(f++)?(t.consume(M),f===ve.length?i.interrupt?e:j:U):n(M)}function L(M){return Yr(M)?(t.consume(M),c=String.fromCharCode(M),F):n(M)}function F(M){if(M===null||M===47||M===62||Vn(M)){const ve=M===47,Ne=c.toLowerCase();return!ve&&!l&&vT.includes(Ne)?(a=1,i.interrupt?e(M):j(M)):bU.includes(c.toLowerCase())?(a=6,ve?(t.consume(M),G):i.interrupt?e(M):j(M)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(M):l?te(M):ee(M))}return M===45||Jn(M)?(t.consume(M),c+=String.fromCharCode(M),F):n(M)}function G(M){return M===62?(t.consume(M),i.interrupt?e:j):n(M)}function te(M){return ct(M)?(t.consume(M),te):P(M)}function ee(M){return M===47?(t.consume(M),P):M===58||M===95||Yr(M)?(t.consume(M),pe):ct(M)?(t.consume(M),ee):P(M)}function pe(M){return M===45||M===46||M===58||M===95||Jn(M)?(t.consume(M),pe):ce(M)}function ce(M){return M===61?(t.consume(M),W):ct(M)?(t.consume(M),ce):ee(M)}function W(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),p=M,V):ct(M)?(t.consume(M),W):N(M)}function V(M){return M===p?(t.consume(M),p=null,k):M===null||Pe(M)?n(M):(t.consume(M),V)}function N(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Vn(M)?ce(M):(t.consume(M),N)}function k(M){return M===47||M===62||ct(M)?ee(M):n(M)}function P(M){return M===62?(t.consume(M),z):n(M)}function z(M){return M===null||Pe(M)?j(M):ct(M)?(t.consume(M),z):n(M)}function j(M){return M===45&&a===2?(t.consume(M),de):M===60&&a===1?(t.consume(M),we):M===62&&a===4?(t.consume(M),se):M===63&&a===3?(t.consume(M),x):M===93&&a===5?(t.consume(M),He):Pe(M)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(AU,_e,O)(M)):M===null||Pe(M)?(t.exit("htmlFlowData"),O(M)):(t.consume(M),j)}function O(M){return t.check(RU,Ee,_e)(M)}function Ee(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),Te}function Te(M){return M===null||Pe(M)?O(M):(t.enter("htmlFlowData"),j(M))}function de(M){return M===45?(t.consume(M),x):j(M)}function we(M){return M===47?(t.consume(M),c="",be):j(M)}function be(M){if(M===62){const ve=c.toLowerCase();return vT.includes(ve)?(t.consume(M),se):j(M)}return Yr(M)&&c.length<8?(t.consume(M),c+=String.fromCharCode(M),be):j(M)}function He(M){return M===93?(t.consume(M),x):j(M)}function x(M){return M===62?(t.consume(M),se):M===45&&a===2?(t.consume(M),x):j(M)}function se(M){return M===null||Pe(M)?(t.exit("htmlFlowData"),_e(M)):(t.consume(M),se)}function _e(M){return t.exit("htmlFlow"),e(M)}}function CU(t,e,n){const i=this;return a;function a(c){return Pe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):n(c)}function l(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}function kU(t,e,n){return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(If,e,n)}}const DU={name:"htmlText",tokenize:NU};function NU(t,e,n){const i=this;let a,l,c;return f;function f(x){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(x),p}function p(x){return x===33?(t.consume(x),m):x===47?(t.consume(x),ce):x===63?(t.consume(x),ee):Yr(x)?(t.consume(x),N):n(x)}function m(x){return x===45?(t.consume(x),y):x===91?(t.consume(x),l=0,U):Yr(x)?(t.consume(x),te):n(x)}function y(x){return x===45?(t.consume(x),b):n(x)}function T(x){return x===null?n(x):x===45?(t.consume(x),R):Pe(x)?(c=T,we(x)):(t.consume(x),T)}function R(x){return x===45?(t.consume(x),b):T(x)}function b(x){return x===62?de(x):x===45?R(x):T(x)}function U(x){const se="CDATA[";return x===se.charCodeAt(l++)?(t.consume(x),l===se.length?L:U):n(x)}function L(x){return x===null?n(x):x===93?(t.consume(x),F):Pe(x)?(c=L,we(x)):(t.consume(x),L)}function F(x){return x===93?(t.consume(x),G):L(x)}function G(x){return x===62?de(x):x===93?(t.consume(x),G):L(x)}function te(x){return x===null||x===62?de(x):Pe(x)?(c=te,we(x)):(t.consume(x),te)}function ee(x){return x===null?n(x):x===63?(t.consume(x),pe):Pe(x)?(c=ee,we(x)):(t.consume(x),ee)}function pe(x){return x===62?de(x):ee(x)}function ce(x){return Yr(x)?(t.consume(x),W):n(x)}function W(x){return x===45||Jn(x)?(t.consume(x),W):V(x)}function V(x){return Pe(x)?(c=V,we(x)):ct(x)?(t.consume(x),V):de(x)}function N(x){return x===45||Jn(x)?(t.consume(x),N):x===47||x===62||Vn(x)?k(x):n(x)}function k(x){return x===47?(t.consume(x),de):x===58||x===95||Yr(x)?(t.consume(x),P):Pe(x)?(c=k,we(x)):ct(x)?(t.consume(x),k):de(x)}function P(x){return x===45||x===46||x===58||x===95||Jn(x)?(t.consume(x),P):z(x)}function z(x){return x===61?(t.consume(x),j):Pe(x)?(c=z,we(x)):ct(x)?(t.consume(x),z):k(x)}function j(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(t.consume(x),a=x,O):Pe(x)?(c=j,we(x)):ct(x)?(t.consume(x),j):(t.consume(x),Ee)}function O(x){return x===a?(t.consume(x),a=void 0,Te):x===null?n(x):Pe(x)?(c=O,we(x)):(t.consume(x),O)}function Ee(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===47||x===62||Vn(x)?k(x):(t.consume(x),Ee)}function Te(x){return x===47||x===62||Vn(x)?k(x):n(x)}function de(x){return x===62?(t.consume(x),t.exit("htmlTextData"),t.exit("htmlText"),e):n(x)}function we(x){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),be}function be(x){return ct(x)?Et(t,He,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):He(x)}function He(x){return t.enter("htmlTextData"),c(x)}}const ay={name:"labelEnd",resolveAll:LU,resolveTo:PU,tokenize:VU},OU={tokenize:BU},MU={tokenize:zU},UU={tokenize:jU};function LU(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",e+=a}}return t.length!==n.length&&ri(t,0,t.length,n),t}function PU(t,e){let n=t.length,i=0,a,l,c,f;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(c=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[l][1].start},end:{...t[c][1].end}},y={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[c-2][1].start}};return f=[["enter",p,e],["enter",m,e]],f=yr(f,t.slice(l+1,l+i+3)),f=yr(f,[["enter",y,e]]),f=yr(f,sy(e.parser.constructs.insideSpan.null,t.slice(l+i+4,c-3),e)),f=yr(f,[["exit",y,e],t[c-2],t[c-1],["exit",m,e]]),f=yr(f,t.slice(c+1)),f=yr(f,[["exit",p,e]]),ri(t,l,t.length,f),t}function VU(t,e,n){const i=this;let a=i.events.length,l,c;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return f;function f(R){return l?l._inactive?T(R):(c=i.parser.defined.includes(Mo(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(R),t.exit("labelMarker"),t.exit("labelEnd"),p):n(R)}function p(R){return R===40?t.attempt(OU,y,c?y:T)(R):R===91?t.attempt(MU,y,c?m:T)(R):c?y(R):T(R)}function m(R){return t.attempt(UU,y,T)(R)}function y(R){return e(R)}function T(R){return l._balanced=!0,n(R)}}function BU(t,e,n){return i;function i(T){return t.enter("resource"),t.enter("resourceMarker"),t.consume(T),t.exit("resourceMarker"),a}function a(T){return Vn(T)?_u(t,l)(T):l(T)}function l(T){return T===41?y(T):Z1(t,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return Vn(T)?_u(t,p)(T):y(T)}function f(T){return n(T)}function p(T){return T===34||T===39||T===40?eS(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):y(T)}function m(T){return Vn(T)?_u(t,y)(T):y(T)}function y(T){return T===41?(t.enter("resourceMarker"),t.consume(T),t.exit("resourceMarker"),t.exit("resource"),e):n(T)}}function zU(t,e,n){const i=this;return a;function a(f){return J1.call(i,t,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Mo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function c(f){return n(f)}}function jU(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const FU={name:"labelStartImage",resolveAll:ay.resolveAll,tokenize:qU};function qU(t,e,n){const i=this;return a;function a(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),c):n(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const HU={name:"labelStartLink",resolveAll:ay.resolveAll,tokenize:GU};function GU(t,e,n){const i=this;return a;function a(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const Jp={name:"lineEnding",tokenize:KU};function KU(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Et(t,e,"linePrefix")}}const kh={name:"thematicBreak",tokenize:QU};function QU(t,e,n){let i=0,a;return l;function l(m){return t.enter("thematicBreak"),c(m)}function c(m){return a=m,f(m)}function f(m){return m===a?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Pe(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===a?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),ct(m)?Et(t,f,"whitespace")(m):f(m))}}const On={continuation:{tokenize:WU},exit:JU,name:"list",tokenize:XU},YU={partial:!0,tokenize:eL},$U={partial:!0,tokenize:ZU};function XU(t,e,n){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(b){const U=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(U==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Vm(b)){if(i.containerState.type||(i.containerState.type=U,t.enter(U,{_container:!0})),U==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(kh,n,m)(b):m(b);if(!i.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return n(b)}function p(b){return Vm(b)&&++c<10?(t.consume(b),p):(!i.interrupt||c<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),m(b)):n(b)}function m(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,t.check(If,i.interrupt?n:y,t.attempt(YU,R,T))}function y(b){return i.containerState.initialBlankLine=!0,l++,R(b)}function T(b){return ct(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),R):n(b)}function R(b){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function WU(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(If,a,l);function a(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Et(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ct(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt($U,e,c)(f))}function c(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,Et(t,t.attempt(On,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function ZU(t,e,n){const i=this;return Et(t,a,"listItemIndent",i.containerState.size+1);function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?e(l):n(l)}}function JU(t){t.exit(this.containerState.type)}function eL(t,e,n){const i=this;return Et(t,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=i.events[i.events.length-1];return!ct(l)&&c&&c[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const ET={name:"setextUnderline",resolveTo:tL,tokenize:nL};function tL(t,e){let n=t.length,i,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",c,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=c,t.push(["exit",c,e]),t}function nL(t,e,n){const i=this;let a;return l;function l(m){let y=i.events.length,T;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){T=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||T)?(t.enter("setextHeadingLine"),a=m,c(m)):n(m)}function c(m){return t.enter("setextHeadingLineSequence"),f(m)}function f(m){return m===a?(t.consume(m),f):(t.exit("setextHeadingLineSequence"),ct(m)?Et(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Pe(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const rL={tokenize:iL};function iL(t){const e=this,n=t.attempt(If,i,t.attempt(this.parser.constructs.flowInitial,a,Et(t,t.attempt(this.parser.constructs.flow,a,t.attempt(uU,a)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const sL={resolveAll:nS()},aL=tS("string"),oL=tS("text");function tS(t){return{resolveAll:nS(t==="text"?lL:void 0),tokenize:e};function e(n){const i=this,a=this.parser.constructs[t],l=n.attempt(a,c,f);return c;function c(y){return m(y)?l(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return m(y)?(n.exit("data"),l(y)):(n.consume(y),p)}function m(y){if(y===null)return!0;const T=a[y];let R=-1;if(T)for(;++R<T.length;){const b=T[R];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function nS(t){return e;function e(n,i){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,i):n}}function lL(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],a=e.sliceStream(i);let l=a.length,c=-1,f=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(m===-2)p=!0,f++;else if(m!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const m={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const uL={42:On,43:On,45:On,48:On,49:On,50:On,51:On,52:On,53:On,54:On,55:On,56:On,57:On,62:Y1},cL={91:pU},hL={[-2]:Zp,[-1]:Zp,32:Zp},fL={35:EU,42:kh,45:[ET,kh],60:SU,61:ET,95:kh,96:_T,126:_T},dL={38:X1,92:$1},pL={[-5]:Jp,[-4]:Jp,[-3]:Jp,33:FU,38:X1,42:Bm,60:[H4,DU],91:HU,92:[_U,$1],93:ay,95:Bm,96:rU},mL={null:[Bm,sL]},gL={null:[42,95]},yL={null:[]},_L=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gL,contentInitial:cL,disable:yL,document:uL,flow:fL,flowInitial:hL,insideSpan:mL,string:dL,text:pL},Symbol.toStringTag,{value:"Module"}));function vL(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:V(ce),check:V(W),consume:te,enter:ee,exit:pe,interrupt:V(W,{interrupt:!0})},m={code:null,containerState:{},defineSkip:L,events:[],now:U,parser:t,previous:null,sliceSerialize:R,sliceStream:b,write:T};let y=e.tokenize.call(m,p);return e.resolveAll&&l.push(e),m;function T(z){return c=yr(c,z),F(),c[c.length-1]!==null?[]:(N(e,0),m.events=sy(l,m.events,m),m.events)}function R(z,j){return TL(b(z),j)}function b(z){return EL(c,z)}function U(){const{_bufferIndex:z,_index:j,line:O,column:Ee,offset:Te}=i;return{_bufferIndex:z,_index:j,line:O,column:Ee,offset:Te}}function L(z){a[z.line]=z.column,P()}function F(){let z;for(;i._index<c.length;){const j=c[i._index];if(typeof j=="string")for(z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===z&&i._bufferIndex<j.length;)G(j.charCodeAt(i._bufferIndex));else G(j)}}function G(z){y=y(z)}function te(z){Pe(z)?(i.line++,i.column=1,i.offset+=z===-3?2:1,P()):z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=z}function ee(z,j){const O=j||{};return O.type=z,O.start=U(),m.events.push(["enter",O,m]),f.push(O),O}function pe(z){const j=f.pop();return j.end=U(),m.events.push(["exit",j,m]),j}function ce(z,j){N(z,j.from)}function W(z,j){j.restore()}function V(z,j){return O;function O(Ee,Te,de){let we,be,He,x;return Array.isArray(Ee)?_e(Ee):"tokenize"in Ee?_e([Ee]):se(Ee);function se(Re){return dt;function dt(Ue){const at=Ue!==null&&Re[Ue],Qe=Ue!==null&&Re.null,It=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return _e(It)(Ue)}}function _e(Re){return we=Re,be=0,Re.length===0?de:M(Re[be])}function M(Re){return dt;function dt(Ue){return x=k(),He=Re,Re.partial||(m.currentConstruct=Re),Re.name&&m.parser.constructs.disable.null.includes(Re.name)?Ne():Re.tokenize.call(j?Object.assign(Object.create(m),j):m,p,ve,Ne)(Ue)}}function ve(Re){return z(He,x),Te}function Ne(Re){return x.restore(),++be<we.length?M(we[be]):de}}}function N(z,j){z.resolveAll&&!l.includes(z)&&l.push(z),z.resolve&&ri(m.events,j,m.events.length-j,z.resolve(m.events.slice(j),m)),z.resolveTo&&(m.events=z.resolveTo(m.events,m))}function k(){const z=U(),j=m.previous,O=m.currentConstruct,Ee=m.events.length,Te=Array.from(f);return{from:Ee,restore:de};function de(){i=z,m.previous=j,m.currentConstruct=O,m.events.length=Ee,f=Te,P()}}function P(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function EL(t,e){const n=e.start._index,i=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let c;if(n===a)c=[t[n].slice(i,l)];else{if(c=t.slice(n,a),i>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(i):c.shift()}l>0&&c.push(t[a].slice(0,l))}return c}function TL(t,e){let n=-1;const i=[];let a;for(;++n<t.length;){const l=t[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,i.push(c)}return i.join("")}function wL(t){const i={constructs:C4([_L,...(t||{}).extensions||[]]),content:a(P4),defined:[],document:a(B4),flow:a(rL),lazy:{},string:a(aL),text:a(oL)};return i;function a(l){return c;function c(f){return vL(i,l,f)}}}function bL(t){for(;!W1(t););return t}const TT=/[\0\t\n\r]/g;function SL(){let t=1,e="",n=!0,i;return a;function a(l,c,f){const p=[];let m,y,T,R,b;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),T=0,e="",n&&(l.charCodeAt(0)===65279&&T++,n=void 0);T<l.length;){if(TT.lastIndex=T,m=TT.exec(l),R=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(R),!m){e=l.slice(T);break}if(b===10&&T===R&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),T<R&&(p.push(l.slice(T,R)),t+=R-T),b){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}T=R+1}return f&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const AL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RL(t){return t.replace(AL,xL)}function xL(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return Q1(n.slice(l?2:1),l?16:10)}return iy(n)||t}const rS={}.hasOwnProperty;function IL(t,e,n){return typeof e!="string"&&(n=e,e=void 0),CL(n)(bL(wL(n).document().write(SL()(t,e,!0))))}function CL(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Er),autolinkProtocol:k,autolinkEmail:k,atxHeading:l(zn),blockQuote:l(Qe),characterEscape:k,characterReference:k,codeFenced:l(It),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(It,c),codeText:l(Cn,c),codeTextData:k,data:k,codeFlowValue:k,definition:l(Ot),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(er,c),htmlFlowData:k,htmlText:l(er,c),htmlTextData:k,image:l(Cr),label:c,link:l(Er),listItem:l(Fn),listItemValue:R,listOrdered:l(jn,T),listUnordered:l(jn),paragraph:l(pn),reference:M,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(zn),strong:l(Tr),thematicBreak:l(wn)},exit:{atxHeading:p(),atxHeadingSequence:ce,autolink:p(),autolinkEmail:at,autolinkProtocol:Ue,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:Re,characterReference:dt,codeFenced:p(F),codeFencedFence:L,codeFencedFenceInfo:b,codeFencedFenceMeta:U,codeFlowValue:P,codeIndented:p(G),codeText:p(Te),codeTextData:P,data:P,definition:p(),definitionDestinationString:pe,definitionLabelString:te,definitionTitleString:ee,emphasis:p(),hardBreakEscape:p(j),hardBreakTrailing:p(j),htmlFlow:p(O),htmlFlowData:P,htmlText:p(Ee),htmlTextData:P,image:p(we),label:He,labelText:be,lineEnding:z,link:p(de),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ve,resourceDestinationString:x,resourceTitleString:se,resource:_e,setextHeading:p(N),setextHeadingLineSequence:V,setextHeadingText:W,strong:p(),thematicBreak:p()}};iS(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(ne){let A={type:"root",children:[]};const _={stack:[A],tokenStack:[],config:e,enter:f,exit:m,buffer:c,resume:y,data:n},E=[];let D=-1;for(;++D<ne.length;)if(ne[D][1].type==="listOrdered"||ne[D][1].type==="listUnordered")if(ne[D][0]==="enter")E.push(D);else{const q=E.pop();D=a(ne,q,D)}for(D=-1;++D<ne.length;){const q=e[ne[D][0]];rS.call(q,ne[D][1].type)&&q[ne[D][1].type].call(Object.assign({sliceSerialize:ne[D][2].sliceSerialize},_),ne[D][1])}if(_.tokenStack.length>0){const q=_.tokenStack[_.tokenStack.length-1];(q[1]||wT).call(_,void 0,q[0])}for(A.position={start:Ts(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Ts(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<e.transforms.length;)A=e.transforms[D](A)||A;return A}function a(ne,A,_){let E=A-1,D=-1,q=!1,X,ie,xe,tt;for(;++E<=_;){const Me=ne[E];switch(Me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Me[0]==="enter"?D++:D--,tt=void 0;break}case"lineEndingBlank":{Me[0]==="enter"&&(X&&!tt&&!D&&!xe&&(xe=E),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!D&&Me[0]==="enter"&&Me[1].type==="listItemPrefix"||D===-1&&Me[0]==="exit"&&(Me[1].type==="listUnordered"||Me[1].type==="listOrdered")){if(X){let Be=E;for(ie=void 0;Be--;){const qe=ne[Be];if(qe[1].type==="lineEnding"||qe[1].type==="lineEndingBlank"){if(qe[0]==="exit")continue;ie&&(ne[ie][1].type="lineEndingBlank",q=!0),qe[1].type="lineEnding",ie=Be}else if(!(qe[1].type==="linePrefix"||qe[1].type==="blockQuotePrefix"||qe[1].type==="blockQuotePrefixWhitespace"||qe[1].type==="blockQuoteMarker"||qe[1].type==="listItemIndent"))break}xe&&(!ie||xe<ie)&&(X._spread=!0),X.end=Object.assign({},ie?ne[ie][1].start:Me[1].end),ne.splice(ie||E,0,["exit",X,Me[2]]),E++,_++}if(Me[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},Me[1].start),end:void 0};X=Be,ne.splice(E,0,["enter",Be,Me[2]]),E++,_++,xe=void 0,tt=!0}}}return ne[A][1]._spread=q,_}function l(ne,A){return _;function _(E){f.call(this,ne(E),E),A&&A.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(ne,A,_){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([A,_||void 0]),ne.position={start:Ts(A.start),end:void 0}}function p(ne){return A;function A(_){ne&&ne.call(this,_),m.call(this,_)}}function m(ne,A){const _=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==ne.type&&(A?A.call(this,ne,E[0]):(E[1]||wT).call(this,ne,E[0]));else throw new Error("Cannot close `"+ne.type+"` ("+yu({start:ne.start,end:ne.end})+"): it’s not open");_.position.end=Ts(ne.end)}function y(){return x4(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function R(ne){if(this.data.expectingFirstListItemValue){const A=this.stack[this.stack.length-2];A.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.lang=ne}function U(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.meta=ne}function L(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function G(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne.replace(/(\r?\n|\r)$/g,"")}function te(ne){const A=this.resume(),_=this.stack[this.stack.length-1];_.label=A,_.identifier=Mo(this.sliceSerialize(ne)).toLowerCase()}function ee(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.title=ne}function pe(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.url=ne}function ce(ne){const A=this.stack[this.stack.length-1];if(!A.depth){const _=this.sliceSerialize(ne).length;A.depth=_}}function W(){this.data.setextHeadingSlurpLineEnding=!0}function V(ne){const A=this.stack[this.stack.length-1];A.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function k(ne){const _=this.stack[this.stack.length-1].children;let E=_[_.length-1];(!E||E.type!=="text")&&(E=Wt(),E.position={start:Ts(ne.start),end:void 0},_.push(E)),this.stack.push(E)}function P(ne){const A=this.stack.pop();A.value+=this.sliceSerialize(ne),A.position.end=Ts(ne.end)}function z(ne){const A=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _=A.children[A.children.length-1];_.position.end=Ts(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(A.type)&&(k.call(this,ne),P.call(this,ne))}function j(){this.data.atHardBreak=!0}function O(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne}function Ee(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne}function Te(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne}function de(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=A,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function we(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=A,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function be(ne){const A=this.sliceSerialize(ne),_=this.stack[this.stack.length-2];_.label=RL(A),_.identifier=Mo(A).toLowerCase()}function He(){const ne=this.stack[this.stack.length-1],A=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,_.type==="link"){const E=ne.children;_.children=E}else _.alt=A}function x(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.url=ne}function se(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.title=ne}function _e(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ve(ne){const A=this.resume(),_=this.stack[this.stack.length-1];_.label=A,_.identifier=Mo(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function Ne(ne){this.data.characterReferenceType=ne.type}function Re(ne){const A=this.sliceSerialize(ne),_=this.data.characterReferenceType;let E;_?(E=Q1(A,_==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=iy(A);const D=this.stack[this.stack.length-1];D.value+=E}function dt(ne){const A=this.stack.pop();A.position.end=Ts(ne.end)}function Ue(ne){P.call(this,ne);const A=this.stack[this.stack.length-1];A.url=this.sliceSerialize(ne)}function at(ne){P.call(this,ne);const A=this.stack[this.stack.length-1];A.url="mailto:"+this.sliceSerialize(ne)}function Qe(){return{type:"blockquote",children:[]}}function It(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function zn(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function er(){return{type:"html",value:""}}function Cr(){return{type:"image",title:null,url:"",alt:null}}function Er(){return{type:"link",title:null,url:"",children:[]}}function jn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function Fn(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function Tr(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function wn(){return{type:"thematicBreak"}}}function Ts(t){return{line:t.line,column:t.column,offset:t.offset}}function iS(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?iS(t,i):kL(t,i)}}function kL(t,e){let n;for(n in e)if(rS.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function wT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+yu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+yu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+yu({start:e.start,end:e.end})+") is still open")}function DL(t){const e=this;e.parser=n;function n(i){return IL(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function NL(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function OL(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ML(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function UL(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LL(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PL(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),a=el(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let c,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),c=t.footnoteOrder.length):c=l+1,f+=1,t.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,m),t.applyData(e,m)}function VL(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BL(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function sS(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=i:a.push({type:"text",value:i}),a}function zL(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return sS(t,e);const a={src:el(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function jL(t,e){const n={src:el(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function FL(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function qL(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return sS(t,e);const a={href:el(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function HL(t,e){const n={href:el(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function GL(t,e,n){const i=t.all(e),a=n?KL(n):aS(e),l={},c=[];if(typeof e.checked=="boolean"){const y=i[0];let T;y&&y.type==="element"&&y.tagName==="p"?T=y:(T={type:"element",tagName:"p",properties:{},children:[]},i.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const y=i[f];(a||f!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?c.push(...y.children):c.push(y)}const p=i[i.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return t.patch(e,m),t.applyData(e,m)}function KL(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=aS(n[i])}return e}function aS(t){const e=t.spread;return e??t.children.length>1}function QL(t,e){const n={},i=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<i.length;){const c=i[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function YL(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $L(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function XL(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WL(t,e){const n=t.all(e),i=n.shift(),a=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=ey(e.children[1]),p=z1(e.children[e.children.length-1]);f&&p&&(c.position={start:f,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function ZL(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,f=c?c.length:e.children.length;let p=-1;const m=[];for(;++p<f;){const T=e.children[p],R={},b=c?c[p]:void 0;b&&(R.align=b);let U={type:"element",tagName:l,properties:R,children:[]};T&&(U.children=t.all(T),t.patch(T,U),U=t.applyData(T,U)),m.push(U)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,y),t.applyData(e,y)}function JL(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const bT=9,ST=32;function eP(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),a=0;const l=[];for(;i;)l.push(AT(e.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(e);return l.push(AT(e.slice(a),a>0,!1)),l.join("")}function AT(t,e,n){let i=0,a=t.length;if(e){let l=t.codePointAt(i);for(;l===bT||l===ST;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(a-1);for(;l===bT||l===ST;)a--,l=t.codePointAt(a-1)}return a>i?t.slice(i,a):""}function tP(t,e){const n={type:"text",value:eP(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function nP(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rP={blockquote:NL,break:OL,code:ML,delete:UL,emphasis:LL,footnoteReference:PL,heading:VL,html:BL,imageReference:zL,image:jL,inlineCode:FL,linkReference:qL,link:HL,listItem:GL,list:QL,paragraph:YL,root:$L,strong:XL,table:WL,tableCell:JL,tableRow:ZL,text:tP,thematicBreak:nP,toml:yh,yaml:yh,definition:yh,footnoteDefinition:yh};function yh(){}const oS=-1,Cf=0,vu=1,Jh=2,oy=3,ly=4,uy=5,cy=6,lS=7,uS=8,RT=typeof self=="object"?self:globalThis,iP=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),i=a=>{if(t.has(a))return t.get(a);const[l,c]=e[a];switch(l){case Cf:case oS:return n(c,a);case vu:{const f=n([],a);for(const p of c)f.push(i(p));return f}case Jh:{const f=n({},a);for(const[p,m]of c)f[i(p)]=i(m);return f}case oy:return n(new Date(c),a);case ly:{const{source:f,flags:p}=c;return n(new RegExp(f,p),a)}case uy:{const f=n(new Map,a);for(const[p,m]of c)f.set(i(p),i(m));return f}case cy:{const f=n(new Set,a);for(const p of c)f.add(i(p));return f}case lS:{const{name:f,message:p}=c;return n(new RT[f](p),a)}case uS:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return n(new DataView(f),c)}}return n(new RT[l](c),a)};return i},xT=t=>iP(new Map,t)(0),bo="",{toString:sP}={},{keys:aP}=Object,au=t=>{const e=typeof t;if(e!=="object"||!t)return[Cf,e];const n=sP.call(t).slice(8,-1);switch(n){case"Array":return[vu,bo];case"Object":return[Jh,bo];case"Date":return[oy,bo];case"RegExp":return[ly,bo];case"Map":return[uy,bo];case"Set":return[cy,bo];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[lS,n]:[Jh,n]},_h=([t,e])=>t===Cf&&(e==="function"||e==="symbol"),oP=(t,e,n,i)=>{const a=(c,f)=>{const p=i.push(c)-1;return n.set(f,p),p},l=c=>{if(n.has(c))return n.get(c);let[f,p]=au(c);switch(f){case Cf:{let y=c;switch(p){case"bigint":f=uS,y=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return a([oS],c)}return a([f,y],c)}case vu:{if(p){let R=c;return p==="DataView"?R=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(R=new Uint8Array(c)),a([p,[...R]],c)}const y=[],T=a([f,y],c);for(const R of c)y.push(l(R));return T}case Jh:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(e&&"toJSON"in c)return l(c.toJSON());const y=[],T=a([f,y],c);for(const R of aP(c))(t||!_h(au(c[R])))&&y.push([l(R),l(c[R])]);return T}case oy:return a([f,c.toISOString()],c);case ly:{const{source:y,flags:T}=c;return a([f,{source:y,flags:T}],c)}case uy:{const y=[],T=a([f,y],c);for(const[R,b]of c)(t||!(_h(au(R))||_h(au(b))))&&y.push([l(R),l(b)]);return T}case cy:{const y=[],T=a([f,y],c);for(const R of c)(t||!_h(au(R)))&&y.push(l(R));return T}}const{message:m}=c;return a([f,{name:p,message:m}],c)};return l},IT=(t,{json:e,lossy:n}={})=>{const i=[];return oP(!(e||n),!!e,new Map,i)(t),i},ef=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?xT(IT(t,e)):structuredClone(t):(t,e)=>xT(IT(t,e));function lP(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function uP(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function cP(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||lP,i=t.options.footnoteBackLabel||uP,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const y=t.all(m),T=String(m.identifier).toUpperCase(),R=el(T.toLowerCase());let b=0;const U=[],L=t.footnoteCounts.get(T);for(;L!==void 0&&++b<=L;){U.length>0&&U.push({type:"text",value:" "});let te=typeof n=="string"?n:n(p,b);typeof te=="string"&&(te={type:"text",value:te}),U.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+R+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,b),className:["data-footnote-backref"]},children:Array.isArray(te)?te:[te]})}const F=y[y.length-1];if(F&&F.type==="element"&&F.tagName==="p"){const te=F.children[F.children.length-1];te&&te.type==="text"?te.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...U)}else y.push(...U);const G={type:"element",tagName:"li",properties:{id:e+"fn-"+R},children:t.wrap(y,!0)};t.patch(m,G),f.push(G)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...ef(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const cS=function(t){if(t==null)return pP;if(typeof t=="function")return kf(t);if(typeof t=="object")return Array.isArray(t)?hP(t):fP(t);if(typeof t=="string")return dP(t);throw new Error("Expected function, string, or object as test")};function hP(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=cS(t[n]);return kf(i);function i(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function fP(t){const e=t;return kf(n);function n(i){const a=i;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function dP(t){return kf(e);function e(n){return n&&n.type===t}}function kf(t){return e;function e(n,i,a){return!!(mP(n)&&t.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function pP(){return!0}function mP(t){return t!==null&&typeof t=="object"&&"type"in t}const hS=[],gP=!0,CT=!1,yP="skip";function _P(t,e,n,i){let a;typeof e=="function"&&typeof n!="function"?(i=n,n=e):a=e;const l=cS(a),c=i?-1:1;f(t,void 0,[])();function f(p,m,y){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const b=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(R,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return R;function R(){let b=hS,U,L,F;if((!e||l(p,m,y[y.length-1]||void 0))&&(b=vP(n(p,y)),b[0]===CT))return b;if("children"in p&&p.children){const G=p;if(G.children&&b[0]!==yP)for(L=(i?G.children.length:-1)+c,F=y.concat(G);L>-1&&L<G.children.length;){const te=G.children[L];if(U=f(te,L,F)(),U[0]===CT)return U;L=typeof U[1]=="number"?U[1]:L+c}}return b}}}function vP(t){return Array.isArray(t)?t:typeof t=="number"?[gP,t]:t==null?hS:[t]}function fS(t,e,n,i){let a,l,c;typeof e=="function"?(l=void 0,c=e,a=n):(l=e,c=n,a=i),_P(t,l,f,a);function f(p,m){const y=m[m.length-1],T=y?y.children.indexOf(p):void 0;return c(p,T,y)}}const zm={}.hasOwnProperty,EP={};function TP(t,e){const n=e||EP,i=new Map,a=new Map,l=new Map,c={...rP,...n.handlers},f={all:m,applyData:bP,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:wP,wrap:AP};return fS(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const T=y.type==="definition"?i:a,R=String(y.identifier).toUpperCase();T.has(R)||T.set(R,y)}}),f;function p(y,T){const R=y.type,b=f.handlers[R];if(zm.call(f.handlers,R)&&b)return b(f,y,T);if(f.options.passThrough&&f.options.passThrough.includes(R)){if("children"in y){const{children:L,...F}=y,G=ef(F);return G.children=f.all(y),G}return ef(y)}return(f.options.unknownHandler||SP)(f,y,T)}function m(y){const T=[];if("children"in y){const R=y.children;let b=-1;for(;++b<R.length;){const U=f.one(R[b],y);if(U){if(b&&R[b-1].type==="break"&&(!Array.isArray(U)&&U.type==="text"&&(U.value=kT(U.value)),!Array.isArray(U)&&U.type==="element")){const L=U.children[0];L&&L.type==="text"&&(L.value=kT(L.value))}Array.isArray(U)?T.push(...U):T.push(U)}}}return T}}function wP(t,e){t.position&&(e.position=r4(t))}function bP(t,e){let n=e;if(t&&t.data){const i=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,ef(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function SP(t,e){const n=e.data||{},i="value"in e&&!(zm.call(n,"hProperties")||zm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function AP(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function kT(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function DT(t,e){const n=TP(t,e),i=n.one(t,void 0),a=cP(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function RP(t,e){return t&&"run"in t?async function(n,i){const a=DT(n,{file:i,...e});await t.run(a,i)}:function(n,i){return DT(n,{file:i,...t||e})}}function NT(t){if(t)throw t}var em,OT;function xP(){if(OT)return em;OT=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},l=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var y=t.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!T)return!1;var R;for(R in m);return typeof R>"u"||t.call(m,R)},c=function(m,y){n&&y.name==="__proto__"?n(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},f=function(m,y){if(y==="__proto__")if(t.call(m,y)){if(i)return i(m,y).value}else return;return m[y]};return em=function p(){var m,y,T,R,b,U,L=arguments[0],F=1,G=arguments.length,te=!1;for(typeof L=="boolean"&&(te=L,L=arguments[1]||{},F=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});F<G;++F)if(m=arguments[F],m!=null)for(y in m)T=f(L,y),R=f(m,y),L!==R&&(te&&R&&(l(R)||(b=a(R)))?(b?(b=!1,U=T&&a(T)?T:[]):U=T&&l(T)?T:{},c(L,{name:y,newValue:p(te,U,R)})):typeof R<"u"&&c(L,{name:y,newValue:R}));return L},em}var IP=xP();const tm=xu(IP);function jm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function CP(){const t=[],e={run:n,use:i};return e;function n(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...m){const y=t[++l];let T=-1;if(p){c(p);return}for(;++T<a.length;)(m[T]===null||m[T]===void 0)&&(m[T]=a[T]);a=m,y?kP(y,f)(...m):c(null,...m)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function kP(t,e){let n;return i;function i(...c){const f=t.length>c.length;let p;f&&c.push(a);try{p=t.apply(this,c)}catch(m){const y=m;if(f&&n)throw y;return a(y)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){n||(n=!0,e(c,...f))}function l(c){a(null,c)}}const Gr={basename:DP,dirname:NP,extname:OP,join:MP,sep:"/"};function DP(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Fu(t);let n=0,i=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let c=-1,f=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(t.codePointAt(a)===e.codePointAt(f--)?f<0&&(i=a):(f=-1,i=c));return n===i?i=c:i<0&&(i=t.length),t.slice(n,i)}function NP(t){if(Fu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function OP(t){Fu(t);let e=t.length,n=-1,i=0,a=-1,l=0,c;for(;e--;){const f=t.codePointAt(e);if(f===47){if(c){i=e+1;break}continue}n<0&&(c=!0,n=e+1),f===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===i+1?"":t.slice(a,n)}function MP(...t){let e=-1,n;for(;++e<t.length;)Fu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":UP(n)}function UP(t){Fu(t);const e=t.codePointAt(0)===47;let n=LP(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function LP(t,e){let n="",i=0,a=-1,l=0,c=-1,f,p;for(;++c<=t.length;){if(c<t.length)f=t.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),a=c,l=0;continue}}else if(n.length>0){n="",i=0,a=c,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(a+1,c):n=t.slice(a+1,c),i=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return n}function Fu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const PP={cwd:VP};function VP(){return"/"}function Fm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function BP(t){if(typeof t=="string")t=new URL(t);else if(!Fm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return zP(t)}function zP(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const nm=["history","path","basename","stem","extname","dirname"];class dS{constructor(e){let n;e?Fm(e)?n={path:e}:typeof e=="string"||jP(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":PP.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<nm.length;){const l=nm[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)nm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Gr.basename(this.path):void 0}set basename(e){im(e,"basename"),rm(e,"basename"),this.path=Gr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Gr.dirname(this.path):void 0}set dirname(e){MT(this.basename,"dirname"),this.path=Gr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Gr.extname(this.path):void 0}set extname(e){if(rm(e,"extname"),MT(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Fm(e)&&(e=BP(e)),im(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Gr.basename(this.path,this.extname):void 0}set stem(e){im(e,"stem"),rm(e,"stem"),this.path=Gr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const a=this.message(e,n,i);throw a.fatal=!0,a}info(e,n,i){const a=this.message(e,n,i);return a.fatal=void 0,a}message(e,n,i){const a=new Tn(e,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function rm(t,e){if(t&&t.includes(Gr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Gr.sep+"`")}function im(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function MT(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jP(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FP=function(t){const i=this.constructor.prototype,a=i[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},qP={}.hasOwnProperty;class hy extends FP{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CP()}copy(){const e=new hy;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(tm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(om("data",this.frozen),this.namespace[e]=n,this):qP.call(this.namespace,e)&&this.namespace[e]||void 0:e?(om("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(e,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=vh(e),i=this.parser||this.Parser;return sm("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),sm("process",this.parser||this.Parser),am("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,c){const f=vh(e),p=i.parse(f);i.run(p,f,function(y,T,R){if(y||!T||!R)return m(y);const b=T,U=i.stringify(b,R);KP(U)?R.value=U:R.result=U,m(y,R)});function m(y,T){y||!T?c(y):l?l(T):n(void 0,T)}}}processSync(e){let n=!1,i;return this.freeze(),sm("processSync",this.parser||this.Parser),am("processSync",this.compiler||this.Compiler),this.process(e,a),LT("processSync","process",n),i;function a(l,c){n=!0,NT(l),i=c}}run(e,n,i){UT(e),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(c,f){const p=vh(n);a.run(e,p,m);function m(y,T,R){const b=T||e;y?f(y):c?c(b):i(void 0,b,R)}}}runSync(e,n){let i=!1,a;return this.run(e,n,l),LT("runSync","run",i),a;function l(c,f){NT(c),a=f,i=!0}}stringify(e,n){this.freeze();const i=vh(n),a=this.compiler||this.Compiler;return am("stringify",a),UT(e),a(e,i)}use(e,...n){const i=this.attachers,a=this.namespace;if(om("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...T]=m;p(y,T)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(m.plugins),m.settings&&(a.settings=tm(!0,a.settings,m.settings))}function f(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const T=m[y];l(T)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,y){let T=-1,R=-1;for(;++T<i.length;)if(i[T][0]===m){R=T;break}if(R===-1)i.push([m,...y]);else if(y.length>0){let[b,...U]=y;const L=i[R][1];jm(L)&&jm(b)&&(b=tm(!0,L,b)),i[R]=[m,b,...U]}}}}const HP=new hy().freeze();function sm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function am(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function om(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UT(t){if(!jm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function LT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function vh(t){return GP(t)?t:new dS(t)}function GP(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function KP(t){return typeof t=="string"||QP(t)}function QP(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const YP="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PT=[],VT={allowDangerousHtml:!0},$P=/^(https?|ircs?|mailto|xmpp)$/i,XP=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function WP(t){const e=ZP(t),n=JP(t);return eV(e.runSync(e.parse(n),n),t)}function ZP(t){const e=t.rehypePlugins||PT,n=t.remarkPlugins||PT,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...VT}:VT;return HP().use(DL).use(n).use(RP,i).use(e)}function JP(t){const e=t.children||"",n=new dS;return typeof e=="string"&&(n.value=e),n}function eV(t,e){const n=e.allowedElements,i=e.allowElement,a=e.components,l=e.disallowedElements,c=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||tV;for(const y of XP)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+YP+y.id,void 0);return fS(t,m),u4(t,{Fragment:J.Fragment,components:a,ignoreInvalidStyle:!0,jsx:J.jsx,jsxs:J.jsxs,passKeys:!0,passNode:!0});function m(y,T,R){if(y.type==="raw"&&R&&typeof T=="number")return c?R.children.splice(T,1):R.children[T]={type:"text",value:y.value},T;if(y.type==="element"){let b;for(b in Wp)if(Object.hasOwn(Wp,b)&&Object.hasOwn(y.properties,b)){const U=y.properties[b],L=Wp[b];(L===null||L.includes(y.tagName))&&(y.properties[b]=p(String(U||""),b,y))}}if(y.type==="element"){let b=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!b&&i&&typeof T=="number"&&(b=!i(y,T,R)),b&&R&&typeof T=="number")return f&&y.children?R.children.splice(T,1,...y.children):R.children.splice(T,1),T}}}function tV(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||i!==-1&&e>i||$P.test(t.slice(0,e))?t:""}const nV=({enemy:t,onClose:e})=>{const[n,i]=ge.useState(t.name),[a,l]=ge.useState(t.customDescription),[c,f]=ge.useState(t.tags||[]),[p,m]=ge.useState(t.customTags||[]),[y,T]=ge.useState(t.imageURL||""),[R,b]=ge.useState(t.imageURL2||""),U=ge.useRef(!0),L=ge.useCallback(async()=>{const F=Da(zs,"eotv-enemies",t.id),G={name:n,customDescription:a,tags:c,customTags:p,imageURL:y,imageURL2:R};t.createdAt||(G.createdAt=new Date().toISOString()),await Dg(F,G)},[t.id,n,a,c,p,y,R]);return ge.useEffect(()=>{if(U.current){U.current=!1;return}const F=setTimeout(()=>{L()},800);return()=>clearTimeout(F)},[n,a,c,p,y,R,L]),J.jsxs("div",{className:"relative bg-gray-900 rounded-2xl w-full flex shadow-lg h-full max-w-7xl overflow-hidden",children:[J.jsx(Zh,{imageURL:y,setImageURL:T,ownerUid:t.authorUid}),J.jsx(D1,{name:n,setName:i,customDescription:a,setCustomDescription:l,selectedTags:c,setSelectedTags:f,customTags:p,setCustomTags:m}),J.jsx(Zh,{imageURL:R,setImageURL:b,ownerUid:t.authorUid}),J.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:J.jsx(xf,{className:"w-6 h-6"})})]})},rV=({enemy:t,author:e,onPrev:n,onNext:i,close:a,onDelete:l})=>{var b;const c=Zo(),f=ge.useRef(null),[p,m]=ge.useState(!1),y=!!c&&((b=t.likedBy)==null?void 0:b.includes(c.uid)),T=async()=>{if(!c||!t.id)return;const U=Da(zs,"eotv-enemies",t.id);await Dg(U,{likedBy:y?kb(c.uid):Cb(c.uid)})};ge.useEffect(()=>{const U=L=>{L.key==="Escape"?p?m(!1):a():!p&&L.key==="ArrowLeft"?n():!p&&L.key==="ArrowRight"&&i()};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[p,a,n,i]);const R=U=>{f.current===U.target&&(a(),m(!1))};return J.jsx("div",{ref:f,onClick:R,className:"text-white shadow-lg cursor-pointer  overflow-hidden fixed z-50 inset-0 p-5 bg-black flex justify-center items-center",children:p?J.jsx(nV,{enemy:t,onClose:()=>m(!1)}):J.jsx(J.Fragment,{children:J.jsxs("div",{className:"relative bg-gray-900 rounded-2xl w-full flex shadow-lg h-full max-w-7xl overflow-hidden",children:[J.jsx("img",{src:t.imageURL,alt:t.name,className:"w-3/14 object-cover"}),J.jsxs("div",{className:"w-4/7 flex flex-col px-6 overflow-y-auto",children:[J.jsx("h2",{className:"text-2xl font-bold text-center p-6 pt-10",children:t.name}),J.jsx(WP,{components:{p:({node:U,...L})=>J.jsx("p",{className:"text-gray-300 text-sm mt-2",...L}),strong:({node:U,...L})=>J.jsx("strong",{className:"text-white font-bold",...L}),em:({node:U,...L})=>J.jsx("em",{className:"italic text-gray-400",...L}),ul:({node:U,...L})=>J.jsx("ul",{className:"list-disc list-inside text-gray-300 mt-2",...L}),li:({node:U,...L})=>J.jsx("li",{className:"ml-4",...L})},children:t.customDescription})]}),t.imageURL2&&J.jsx("img",{src:t.imageURL2,alt:"Extra",className:"w-3/14 object-cover"}),J.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:J.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((U,L)=>J.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:U},L))})}),J.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[J.jsx("span",{className:"text-sm",children:(e==null?void 0:e.displayName)||"Unknown"}),J.jsx("img",{src:e==null?void 0:e.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-500"})]}),J.jsxs("div",{className:"absolute top-2 right-10 flex gap-2",children:[J.jsx("button",{onClick:T,title:y?"Сохранено":"Сохранить",className:"text-gray-300 hover:scale-110 transition",children:y?J.jsx(Wg,{className:"w-6 h-6"}):J.jsx($g,{className:"w-6 h-6"})}),c&&c.uid===t.authorUid&&J.jsxs(J.Fragment,{children:[J.jsx("button",{onClick:()=>m(!0),className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:J.jsx(wM,{className:"w-6 h-6"})}),J.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:J.jsx(xM,{className:"w-6 h-6"})})]})]}),J.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer drop-shadow-xl",children:J.jsx(xf,{className:"w-6 h-6"})}),J.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:n,children:J.jsx(_M,{className:"w-5 h-5 text-white"})}),J.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:i,children:J.jsx(EM,{className:"w-5 h-5 text-white"})})]})})},t.id)},iV=wg(zs,"users"),sV=()=>{const t=Zo();ge.useEffect(()=>{if(!t)return;const i=Da(iV,t.uid);Hk(i,{displayName:t.displayName||"Unknown",photoURL:t.photoURL||""},{merge:!0})},[t]);const e=async()=>{const i=new Qr;await _O(Om,i)},n=async()=>{await ZN(Om)};return J.jsx("div",{className:"flex items-center gap-4",children:t?J.jsxs(J.Fragment,{children:[J.jsx("img",{src:t.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",className:"w-10 h-10 rounded-full border border-gray-600 shadow"}),J.jsx("button",{onClick:n,className:"text-sm text-red-500 hover:text-red-400 transition",children:"Выйти"})]}):J.jsx("button",{onClick:e,className:"px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded hover:bg-opacity-80 transition",children:"Войти"})})},aV=()=>J.jsx("header",{className:"text-sky-300",children:J.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:J.jsxs("div",{className:"flex h-16 items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("img",{src:"./logo.png",alt:"d320",className:"w-10 h-10"}),J.jsx("h1",{className:"text-2xl font-bold text-sky-300",children:"d320"})]}),J.jsx(sV,{})]})})}),oV=({search:t,setSearch:e,tag:n,setTag:i,liked:a,setLiked:l,author:c,setAuthor:f,sort:p,setSort:m,authors:y})=>{const T=Xg(),[R,b]=ge.useState(!1),U=ge.useRef(null),L=c?y[c]:void 0;return ge.useEffect(()=>{if(!R)return;const F=te=>{U.current&&!U.current.contains(te.target)&&b(!1)},G=te=>{te.key==="Escape"&&b(!1)};return document.addEventListener("mousedown",F),document.addEventListener("keydown",G),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("keydown",G)}},[R]),J.jsxs("div",{className:"flex flex-wrap gap-4 my-4 items-center",children:[J.jsx("input",{type:"text",placeholder:"Поиск",value:t,onChange:F=>e(F.target.value),className:"p-2 rounded bg-gray-700 text-white flex-1 h-10"}),J.jsxs("button",{type:"button",title:"Избранное",onClick:()=>l(!a),className:"text-blue-300 hover:scale-110 transition flex items-center gap-1 h-10 px-2 cursor-pointer",children:[a?J.jsx(Wg,{className:"w-5 h-5"}):J.jsx($g,{className:"w-5 h-5"}),J.jsx("span",{className:"text-sm",children:"Избранное"})]}),J.jsxs("select",{value:n,onChange:F=>i(F.target.value),className:"p-2 rounded bg-gray-700 text-white h-10 hover:bg-gray-500 transition cursor-pointer",children:[J.jsx("option",{value:"",children:"Тег"}),T.map(F=>J.jsx("option",{value:F,children:F},F))]}),J.jsxs("div",{className:"relative",children:[J.jsxs("button",{type:"button",onClick:()=>b(F=>!F),className:"p-2 rounded bg-gray-700 text-white flex items-center gap-2 h-10 hover:bg-gray-500 transition cursor-pointer",children:[L&&J.jsx("img",{src:L.photoURL,alt:"avatar",className:"w-6 h-6 rounded-full"}),J.jsx("span",{children:L?L.displayName:"Автор"})]}),R&&J.jsxs("div",{ref:U,className:"absolute left-0 z-10 bg-gray-800 rounded shadow p-2 mt-1 max-h-60 overflow-y-auto w-48",children:[J.jsx("div",{className:"cursor-pointer hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{f(""),b(!1)},children:J.jsx("span",{children:"Все авторы"})}),Object.entries(y).map(([F,G])=>J.jsxs("div",{className:"cursor-pointer hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{f(F),b(!1)},children:[J.jsx("img",{src:G.photoURL,alt:G.displayName,className:"w-6 h-6 rounded-full"}),J.jsx("span",{children:G.displayName})]},F))]})]}),J.jsxs("button",{type:"button",onClick:()=>{e(""),i(""),l(!1),f(""),m("name")},className:"flex items-center gap-1 p-2 rounded bg-blue-500 text-white hover:bg-blue-400 transition h-10 cursor-pointer",children:[J.jsx(xf,{className:"w-5 h-5"}),"Очистить"]}),J.jsx("span",{className:"text-sm text-gray-300",children:"Сортировка:"}),J.jsxs("select",{value:p,onChange:F=>m(F.target.value),className:"p-2 rounded bg-gray-700 text-white h-10 hover:bg-gray-500 transition cursor-pointer",children:[J.jsx("option",{value:"name",children:"Имя"}),J.jsx("option",{value:"date",children:"Дата"})]})]})},lV=async t=>{const e={};return await Promise.all(t.map(async n=>{const i=await Fk(Da(zs,"users",n));i.exists()&&(e[n]=i.data())})),e},uV=()=>{const[t,e]=ge.useState([]),[n,i]=ge.useState({}),[a,l]=ge.useState(null),[c,f]=ge.useState(""),[p,m]=ge.useState(""),[y,T]=ge.useState(!1),[R,b]=ge.useState(""),[U,L]=ge.useState("name"),F=Zo();ge.useEffect(()=>Qk(I1,N=>{const k=N.docs.map(P=>({id:P.id,...P.data()}));e(k)}),[]),ge.useEffect(()=>{const V=[...new Set(t.map(N=>N.authorUid))];lV(V).then(i)},[t]);const G=async V=>{F&&window.confirm("Удалить этого противника?")&&(await Gk(Da(zs,"eotv-enemies",V)),l(null))},te=()=>{!t.length||a===null||l((a+1)%t.length)},ee=()=>{!t.length||a===null||l((a-1+t.length)%t.length)},pe=a!==null?t[a]:null,ce=c.toLowerCase();let W=t.filter(V=>V.name.toLowerCase().includes(ce)||V.customDescription.toLowerCase().includes(ce)||V.tags.some(N=>N.toLowerCase().includes(ce))||V.customTags.some(N=>N.toLowerCase().includes(ce)));return p&&(W=W.filter(V=>V.tags.includes(p))),y&&F&&(W=W.filter(V=>{var N;return(N=V.likedBy)==null?void 0:N.includes(F.uid)})),R&&(W=W.filter(V=>V.authorUid===R)),W=[...W],U==="name"?W.sort((V,N)=>V.name.localeCompare(N.name)):W.sort((V,N)=>{const k=V.createdAt?new Date(V.createdAt).getTime():0;return(N.createdAt?new Date(N.createdAt).getTime():0)-k}),ge.useEffect(()=>{if(pe===null)return;const V=N=>{N.key==="ArrowLeft"?ee():N.key==="ArrowRight"?te():N.key==="Escape"&&l(null)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[pe,ee,te]),J.jsxs("div",{className:"bg-slate-900 text-sky-200 min-h-screen",children:[J.jsx(aV,{}),J.jsxs("main",{className:"p-6 max-w-screen-xl mx-auto",children:[J.jsx("h2",{className:"text-3xl font-bold text-center",children:"Каталог противников для игры Грань Вселенной"}),J.jsxs("p",{className:"text-center text-gray-400 p-4",children:["Официальный сайт игры: ",J.jsx("a",{className:"link",href:"http://eotvrpg.ru/",target:"_blank",children:"http://eotvrpg.ru/"})]}),J.jsx(oV,{search:c,setSearch:f,tag:p,setTag:m,liked:y,setLiked:T,author:R,setAuthor:b,sort:U,setSort:L,authors:n}),J.jsx(UM,{enemies:W,users:n,onSelect:l})]}),pe&&J.jsx(rV,{enemy:pe,author:n[pe.authorUid],onPrev:ee,onNext:te,close:()=>l(null),onDelete:()=>G(pe.id)})]})},cV=nR.createRoot(document.getElementById("root"));cV.render(J.jsx(YA.StrictMode,{children:J.jsx(pM,{children:J.jsx(kM,{children:J.jsx(uV,{})})})}));
