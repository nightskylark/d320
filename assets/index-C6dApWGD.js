(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Cu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={},ru={},gv;function $A(){if(gv)return ru;gv=1,ru.byteLength=h,ru.toByteArray=m,ru.fromByteArray=x;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)t[a]=i[a],e[i.charCodeAt(a)]=a;e[45]=62,e[95]=63;function c(b){var L=b.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=b.indexOf("=");B===-1&&(B=L);var q=B===L?0:4-B%4;return[B,q]}function h(b){var L=c(b),B=L[0],q=L[1];return(B+q)*3/4-q}function p(b,L,B){return(L+B)*3/4-B}function m(b){var L,B=c(b),q=B[0],H=B[1],ee=new n(p(b,q,H)),J=0,fe=H>0?q-4:q,le;for(le=0;le<fe;le+=4)L=e[b.charCodeAt(le)]<<18|e[b.charCodeAt(le+1)]<<12|e[b.charCodeAt(le+2)]<<6|e[b.charCodeAt(le+3)],ee[J++]=L>>16&255,ee[J++]=L>>8&255,ee[J++]=L&255;return H===2&&(L=e[b.charCodeAt(le)]<<2|e[b.charCodeAt(le+1)]>>4,ee[J++]=L&255),H===1&&(L=e[b.charCodeAt(le)]<<10|e[b.charCodeAt(le+1)]<<4|e[b.charCodeAt(le+2)]>>2,ee[J++]=L>>8&255,ee[J++]=L&255),ee}function y(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function w(b,L,B){for(var q,H=[],ee=L;ee<B;ee+=3)q=(b[ee]<<16&16711680)+(b[ee+1]<<8&65280)+(b[ee+2]&255),H.push(y(q));return H.join("")}function x(b){for(var L,B=b.length,q=B%3,H=[],ee=16383,J=0,fe=B-q;J<fe;J+=ee)H.push(w(b,J,J+ee>fe?fe:J+ee));return q===1?(L=b[B-1],H.push(t[L>>2]+t[L<<4&63]+"==")):q===2&&(L=(b[B-2]<<8)+b[B-1],H.push(t[L>>10]+t[L>>4&63]+t[L<<2&63]+"=")),H.join("")}return ru}var ch={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var yv;function YA(){return yv||(yv=1,ch.read=function(t,e,n,i,a){var l,c,h=a*8-i-1,p=(1<<h)-1,m=p>>1,y=-7,w=n?a-1:0,x=n?-1:1,b=t[e+w];for(w+=x,l=b&(1<<-y)-1,b>>=-y,y+=h;y>0;l=l*256+t[e+w],w+=x,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=i;y>0;c=c*256+t[e+w],w+=x,y-=8);if(l===0)l=1-m;else{if(l===p)return c?NaN:(b?-1:1)*(1/0);c=c+Math.pow(2,i),l=l-m}return(b?-1:1)*c*Math.pow(2,l-i)},ch.write=function(t,e,n,i,a,l){var c,h,p,m=l*8-a-1,y=(1<<m)-1,w=y>>1,x=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:l-1,L=i?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+w>=1?e+=x/p:e+=x*Math.pow(2,1-w),e*p>=2&&(c++,p/=2),c+w>=y?(h=0,c=y):c+w>=1?(h=(e*p-1)*Math.pow(2,a),c=c+w):(h=e*Math.pow(2,w-1)*Math.pow(2,a),c=0));a>=8;t[n+b]=h&255,b+=L,h/=256,a-=8);for(c=c<<a|h,m+=a;m>0;t[n+b]=c&255,b+=L,c/=256,m-=8);t[n+b-L]|=B*128}),ch}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var _v;function XA(){return _v||(_v=1,function(t){const e=$A(),n=YA(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=ee,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=l(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(A,_),A.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function c(A){if(A>a)throw new RangeError('The value "'+A+'" is invalid for option "size"');const _=new Uint8Array(A);return Object.setPrototypeOf(_,h.prototype),_}function h(A,_,E){if(typeof A=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(A)}return p(A,_,E)}h.poolSize=8192;function p(A,_,E){if(typeof A=="string")return x(A,_);if(ArrayBuffer.isView(A))return L(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pn(A,ArrayBuffer)||A&&pn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(A,SharedArrayBuffer)||A&&pn(A.buffer,SharedArrayBuffer)))return B(A,_,E);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=A.valueOf&&A.valueOf();if(D!=null&&D!==A)return h.from(D,_,E);const G=q(A);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return h.from(A[Symbol.toPrimitive]("string"),_,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}h.from=function(A,_,E){return p(A,_,E)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function m(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function y(A,_,E){return m(A),A<=0?c(A):_!==void 0?typeof E=="string"?c(A).fill(_,E):c(A).fill(_):c(A)}h.alloc=function(A,_,E){return y(A,_,E)};function w(A){return m(A),c(A<0?0:H(A)|0)}h.allocUnsafe=function(A){return w(A)},h.allocUnsafeSlow=function(A){return w(A)};function x(A,_){if((typeof _!="string"||_==="")&&(_="utf8"),!h.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const E=J(A,_)|0;let D=c(E);const G=D.write(A,_);return G!==E&&(D=D.slice(0,G)),D}function b(A){const _=A.length<0?0:H(A.length)|0,E=c(_);for(let D=0;D<_;D+=1)E[D]=A[D]&255;return E}function L(A){if(pn(A,Uint8Array)){const _=new Uint8Array(A);return B(_.buffer,_.byteOffset,_.byteLength)}return b(A)}function B(A,_,E){if(_<0||A.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<_+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return _===void 0&&E===void 0?D=new Uint8Array(A):E===void 0?D=new Uint8Array(A,_):D=new Uint8Array(A,_,E),Object.setPrototypeOf(D,h.prototype),D}function q(A){if(h.isBuffer(A)){const _=H(A.length)|0,E=c(_);return E.length===0||A.copy(E,0,0,_),E}if(A.length!==void 0)return typeof A.length!="number"||wr(A.length)?c(0):b(A);if(A.type==="Buffer"&&Array.isArray(A.data))return b(A.data)}function H(A){if(A>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return A|0}function ee(A){return+A!=A&&(A=0),h.alloc(+A)}h.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==h.prototype},h.compare=function(_,E){if(pn(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),pn(E,Uint8Array)&&(E=h.from(E,E.offset,E.byteLength)),!h.isBuffer(_)||!h.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===E)return 0;let D=_.length,G=E.length;for(let Z=0,ie=Math.min(D,G);Z<ie;++Z)if(_[Z]!==E[Z]){D=_[Z],G=E[Z];break}return D<G?-1:G<D?1:0},h.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(_,E){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return h.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<_.length;++D)E+=_[D].length;const G=h.allocUnsafe(E);let Z=0;for(D=0;D<_.length;++D){let ie=_[D];if(pn(ie,Uint8Array))Z+ie.length>G.length?(h.isBuffer(ie)||(ie=h.from(ie)),ie.copy(G,Z)):Uint8Array.prototype.set.call(G,ie,Z);else if(h.isBuffer(ie))ie.copy(G,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=ie.length}return G};function J(A,_){if(h.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let G=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return er(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return jn(A).length;default:if(G)return D?-1:er(A).length;_=(""+_).toLowerCase(),G=!0}}h.byteLength=J;function fe(A,_,E){let D=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,_>>>=0,E<=_))return"";for(A||(A="utf8");;)switch(A){case"hex":return He(this,_,E);case"utf8":case"utf-8":return Ee(this,_,E);case"ascii":return Te(this,_,E);case"latin1":case"binary":return be(this,_,E);case"base64":return N(this,_,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,_,E);default:if(D)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),D=!0}}h.prototype._isBuffer=!0;function le(A,_,E){const D=A[_];A[_]=A[E],A[E]=D}h.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<_;E+=2)le(this,E,E+1);return this},h.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<_;E+=4)le(this,E,E+3),le(this,E+1,E+2);return this},h.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<_;E+=8)le(this,E,E+7),le(this,E+1,E+6),le(this,E+2,E+5),le(this,E+3,E+4);return this},h.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?Ee(this,0,_):fe.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(_){if(!h.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:h.compare(this,_)===0},h.prototype.inspect=function(){let _="";const E=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(_+=" ... "),"<Buffer "+_+">"},i&&(h.prototype[i]=h.prototype.inspect),h.prototype.compare=function(_,E,D,G,Z){if(pn(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),!h.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(E===void 0&&(E=0),D===void 0&&(D=_?_.length:0),G===void 0&&(G=0),Z===void 0&&(Z=this.length),E<0||D>_.length||G<0||Z>this.length)throw new RangeError("out of range index");if(G>=Z&&E>=D)return 0;if(G>=Z)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,G>>>=0,Z>>>=0,this===_)return 0;let ie=Z-G,Re=D-E;const tt=Math.min(ie,Re),Me=this.slice(G,Z),Be=_.slice(E,D);for(let qe=0;qe<tt;++qe)if(Me[qe]!==Be[qe]){ie=Me[qe],Re=Be[qe];break}return ie<Re?-1:Re<ie?1:0};function $(A,_,E,D,G){if(A.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,wr(E)&&(E=G?0:A.length-1),E<0&&(E=A.length+E),E>=A.length){if(G)return-1;E=A.length-1}else if(E<0)if(G)E=0;else return-1;if(typeof _=="string"&&(_=h.from(_,D)),h.isBuffer(_))return _.length===0?-1:z(A,_,E,D,G);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(A,_,E):Uint8Array.prototype.lastIndexOf.call(A,_,E):z(A,[_],E,D,G);throw new TypeError("val must be string, number or Buffer")}function z(A,_,E,D,G){let Z=1,ie=A.length,Re=_.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(A.length<2||_.length<2)return-1;Z=2,ie/=2,Re/=2,E/=2}function tt(Be,qe){return Z===1?Be[qe]:Be.readUInt16BE(qe*Z)}let Me;if(G){let Be=-1;for(Me=E;Me<ie;Me++)if(tt(A,Me)===tt(_,Be===-1?0:Me-Be)){if(Be===-1&&(Be=Me),Me-Be+1===Re)return Be*Z}else Be!==-1&&(Me-=Me-Be),Be=-1}else for(E+Re>ie&&(E=ie-Re),Me=E;Me>=0;Me--){let Be=!0;for(let qe=0;qe<Re;qe++)if(tt(A,Me+qe)!==tt(_,qe)){Be=!1;break}if(Be)return Me}return-1}h.prototype.includes=function(_,E,D){return this.indexOf(_,E,D)!==-1},h.prototype.indexOf=function(_,E,D){return $(this,_,E,D,!0)},h.prototype.lastIndexOf=function(_,E,D){return $(this,_,E,D,!1)};function M(A,_,E,D){E=Number(E)||0;const G=A.length-E;D?(D=Number(D),D>G&&(D=G)):D=G;const Z=_.length;D>Z/2&&(D=Z/2);let ie;for(ie=0;ie<D;++ie){const Re=parseInt(_.substr(ie*2,2),16);if(wr(Re))return ie;A[E+ie]=Re}return ie}function k(A,_,E,D){return Fn(er(_,A.length-E),A,E,D)}function O(A,_,E,D){return Fn(kr(_),A,E,D)}function P(A,_,E,D){return Fn(jn(_),A,E,D)}function j(A,_,E,D){return Fn(Er(_,A.length-E),A,E,D)}h.prototype.write=function(_,E,D,G){if(E===void 0)G="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")G=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,G===void 0&&(G="utf8")):(G=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-E;if((D===void 0||D>Z)&&(D=Z),_.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let ie=!1;for(;;)switch(G){case"hex":return M(this,_,E,D);case"utf8":case"utf-8":return k(this,_,E,D);case"ascii":case"latin1":case"binary":return O(this,_,E,D);case"base64":return P(this,_,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,_,E,D);default:if(ie)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ie=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(A,_,E){return _===0&&E===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(_,E))}function Ee(A,_,E){E=Math.min(A.length,E);const D=[];let G=_;for(;G<E;){const Z=A[G];let ie=null,Re=Z>239?4:Z>223?3:Z>191?2:1;if(G+Re<=E){let tt,Me,Be,qe;switch(Re){case 1:Z<128&&(ie=Z);break;case 2:tt=A[G+1],(tt&192)===128&&(qe=(Z&31)<<6|tt&63,qe>127&&(ie=qe));break;case 3:tt=A[G+1],Me=A[G+2],(tt&192)===128&&(Me&192)===128&&(qe=(Z&15)<<12|(tt&63)<<6|Me&63,qe>2047&&(qe<55296||qe>57343)&&(ie=qe));break;case 4:tt=A[G+1],Me=A[G+2],Be=A[G+3],(tt&192)===128&&(Me&192)===128&&(Be&192)===128&&(qe=(Z&15)<<18|(tt&63)<<12|(Me&63)<<6|Be&63,qe>65535&&qe<1114112&&(ie=qe))}}ie===null?(ie=65533,Re=1):ie>65535&&(ie-=65536,D.push(ie>>>10&1023|55296),ie=56320|ie&1023),D.push(ie),G+=Re}return me(D)}const we=4096;function me(A){const _=A.length;if(_<=we)return String.fromCharCode.apply(String,A);let E="",D=0;for(;D<_;)E+=String.fromCharCode.apply(String,A.slice(D,D+=we));return E}function Te(A,_,E){let D="";E=Math.min(A.length,E);for(let G=_;G<E;++G)D+=String.fromCharCode(A[G]&127);return D}function be(A,_,E){let D="";E=Math.min(A.length,E);for(let G=_;G<E;++G)D+=String.fromCharCode(A[G]);return D}function He(A,_,E){const D=A.length;(!_||_<0)&&(_=0),(!E||E<0||E>D)&&(E=D);let G="";for(let Z=_;Z<E;++Z)G+=Wt[A[Z]];return G}function R(A,_,E){const D=A.slice(_,E);let G="";for(let Z=0;Z<D.length-1;Z+=2)G+=String.fromCharCode(D[Z]+D[Z+1]*256);return G}h.prototype.slice=function(_,E){const D=this.length;_=~~_,E=E===void 0?D:~~E,_<0?(_+=D,_<0&&(_=0)):_>D&&(_=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<_&&(E=_);const G=this.subarray(_,E);return Object.setPrototypeOf(G,h.prototype),G};function ae(A,_,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+_>E)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(_,E,D){_=_>>>0,E=E>>>0,D||ae(_,E,this.length);let G=this[_],Z=1,ie=0;for(;++ie<E&&(Z*=256);)G+=this[_+ie]*Z;return G},h.prototype.readUintBE=h.prototype.readUIntBE=function(_,E,D){_=_>>>0,E=E>>>0,D||ae(_,E,this.length);let G=this[_+--E],Z=1;for(;E>0&&(Z*=256);)G+=this[_+--E]*Z;return G},h.prototype.readUint8=h.prototype.readUInt8=function(_,E){return _=_>>>0,E||ae(_,1,this.length),this[_]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(_,E){return _=_>>>0,E||ae(_,2,this.length),this[_]|this[_+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(_,E){return _=_>>>0,E||ae(_,2,this.length),this[_]<<8|this[_+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(_,E){return _=_>>>0,E||ae(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(_,E){return _=_>>>0,E||ae(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},h.prototype.readBigUInt64LE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const G=E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Z=this[++_]+this[++_]*2**8+this[++_]*2**16+D*2**24;return BigInt(G)+(BigInt(Z)<<BigInt(32))}),h.prototype.readBigUInt64BE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const G=E*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Z=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+D;return(BigInt(G)<<BigInt(32))+BigInt(Z)}),h.prototype.readIntLE=function(_,E,D){_=_>>>0,E=E>>>0,D||ae(_,E,this.length);let G=this[_],Z=1,ie=0;for(;++ie<E&&(Z*=256);)G+=this[_+ie]*Z;return Z*=128,G>=Z&&(G-=Math.pow(2,8*E)),G},h.prototype.readIntBE=function(_,E,D){_=_>>>0,E=E>>>0,D||ae(_,E,this.length);let G=E,Z=1,ie=this[_+--G];for(;G>0&&(Z*=256);)ie+=this[_+--G]*Z;return Z*=128,ie>=Z&&(ie-=Math.pow(2,8*E)),ie},h.prototype.readInt8=function(_,E){return _=_>>>0,E||ae(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},h.prototype.readInt16LE=function(_,E){_=_>>>0,E||ae(_,2,this.length);const D=this[_]|this[_+1]<<8;return D&32768?D|4294901760:D},h.prototype.readInt16BE=function(_,E){_=_>>>0,E||ae(_,2,this.length);const D=this[_+1]|this[_]<<8;return D&32768?D|4294901760:D},h.prototype.readInt32LE=function(_,E){return _=_>>>0,E||ae(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},h.prototype.readInt32BE=function(_,E){return _=_>>>0,E||ae(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},h.prototype.readBigInt64LE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const G=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(D<<24);return(BigInt(G)<<BigInt(32))+BigInt(E+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),h.prototype.readBigInt64BE=Tn(function(_){_=_>>>0,Mt(_,"offset");const E=this[_],D=this[_+7];(E===void 0||D===void 0)&&dn(_,this.length-8);const G=(E<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(G)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+D)}),h.prototype.readFloatLE=function(_,E){return _=_>>>0,E||ae(_,4,this.length),n.read(this,_,!0,23,4)},h.prototype.readFloatBE=function(_,E){return _=_>>>0,E||ae(_,4,this.length),n.read(this,_,!1,23,4)},h.prototype.readDoubleLE=function(_,E){return _=_>>>0,E||ae(_,8,this.length),n.read(this,_,!0,52,8)},h.prototype.readDoubleBE=function(_,E){return _=_>>>0,E||ae(_,8,this.length),n.read(this,_,!1,52,8)};function _e(A,_,E,D,G,Z){if(!h.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>G||_<Z)throw new RangeError('"value" argument is out of bounds');if(E+D>A.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(_,E,D,G){if(_=+_,E=E>>>0,D=D>>>0,!G){const Re=Math.pow(2,8*D)-1;_e(this,_,E,D,Re,0)}let Z=1,ie=0;for(this[E]=_&255;++ie<D&&(Z*=256);)this[E+ie]=_/Z&255;return E+D},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(_,E,D,G){if(_=+_,E=E>>>0,D=D>>>0,!G){const Re=Math.pow(2,8*D)-1;_e(this,_,E,D,Re,0)}let Z=D-1,ie=1;for(this[E+Z]=_&255;--Z>=0&&(ie*=256);)this[E+Z]=_/ie&255;return E+D},h.prototype.writeUint8=h.prototype.writeUInt8=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,1,255,0),this[E]=_&255,E+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,65535,0),this[E]=_&255,this[E+1]=_>>>8,E+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,65535,0),this[E]=_>>>8,this[E+1]=_&255,E+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,4294967295,0),this[E+3]=_>>>24,this[E+2]=_>>>16,this[E+1]=_>>>8,this[E]=_&255,E+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,4294967295,0),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4};function U(A,_,E,D,G){Cn(_,D,G,A,E,7);let Z=Number(_&BigInt(4294967295));A[E++]=Z,Z=Z>>8,A[E++]=Z,Z=Z>>8,A[E++]=Z,Z=Z>>8,A[E++]=Z;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return A[E++]=ie,ie=ie>>8,A[E++]=ie,ie=ie>>8,A[E++]=ie,ie=ie>>8,A[E++]=ie,E}function ve(A,_,E,D,G){Cn(_,D,G,A,E,7);let Z=Number(_&BigInt(4294967295));A[E+7]=Z,Z=Z>>8,A[E+6]=Z,Z=Z>>8,A[E+5]=Z,Z=Z>>8,A[E+4]=Z;let ie=Number(_>>BigInt(32)&BigInt(4294967295));return A[E+3]=ie,ie=ie>>8,A[E+2]=ie,ie=ie>>8,A[E+1]=ie,ie=ie>>8,A[E]=ie,E+8}h.prototype.writeBigUInt64LE=Tn(function(_,E=0){return U(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Tn(function(_,E=0){return ve(this,_,E,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(_,E,D,G){if(_=+_,E=E>>>0,!G){const tt=Math.pow(2,8*D-1);_e(this,_,E,D,tt-1,-tt)}let Z=0,ie=1,Re=0;for(this[E]=_&255;++Z<D&&(ie*=256);)_<0&&Re===0&&this[E+Z-1]!==0&&(Re=1),this[E+Z]=(_/ie>>0)-Re&255;return E+D},h.prototype.writeIntBE=function(_,E,D,G){if(_=+_,E=E>>>0,!G){const tt=Math.pow(2,8*D-1);_e(this,_,E,D,tt-1,-tt)}let Z=D-1,ie=1,Re=0;for(this[E+Z]=_&255;--Z>=0&&(ie*=256);)_<0&&Re===0&&this[E+Z+1]!==0&&(Re=1),this[E+Z]=(_/ie>>0)-Re&255;return E+D},h.prototype.writeInt8=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,1,127,-128),_<0&&(_=255+_+1),this[E]=_&255,E+1},h.prototype.writeInt16LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,32767,-32768),this[E]=_&255,this[E+1]=_>>>8,E+2},h.prototype.writeInt16BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,2,32767,-32768),this[E]=_>>>8,this[E+1]=_&255,E+2},h.prototype.writeInt32LE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,2147483647,-2147483648),this[E]=_&255,this[E+1]=_>>>8,this[E+2]=_>>>16,this[E+3]=_>>>24,E+4},h.prototype.writeInt32BE=function(_,E,D){return _=+_,E=E>>>0,D||_e(this,_,E,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[E]=_>>>24,this[E+1]=_>>>16,this[E+2]=_>>>8,this[E+3]=_&255,E+4},h.prototype.writeBigInt64LE=Tn(function(_,E=0){return U(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Tn(function(_,E=0){return ve(this,_,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(A,_,E,D,G,Z){if(E+D>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function xe(A,_,E,D,G){return _=+_,E=E>>>0,G||Ne(A,_,E,4),n.write(A,_,E,D,23,4),E+4}h.prototype.writeFloatLE=function(_,E,D){return xe(this,_,E,!0,D)},h.prototype.writeFloatBE=function(_,E,D){return xe(this,_,E,!1,D)};function dt(A,_,E,D,G){return _=+_,E=E>>>0,G||Ne(A,_,E,8),n.write(A,_,E,D,52,8),E+8}h.prototype.writeDoubleLE=function(_,E,D){return dt(this,_,E,!0,D)},h.prototype.writeDoubleBE=function(_,E,D){return dt(this,_,E,!1,D)},h.prototype.copy=function(_,E,D,G){if(!h.isBuffer(_))throw new TypeError("argument should be a Buffer");if(D||(D=0),!G&&G!==0&&(G=this.length),E>=_.length&&(E=_.length),E||(E=0),G>0&&G<D&&(G=D),G===D||_.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),_.length-E<G-D&&(G=_.length-E+D);const Z=G-D;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,G):Uint8Array.prototype.set.call(_,this.subarray(D,G),E),Z},h.prototype.fill=function(_,E,D,G){if(typeof _=="string"){if(typeof E=="string"?(G=E,E=0,D=this.length):typeof D=="string"&&(G=D,D=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!h.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(_.length===1){const ie=_.charCodeAt(0);(G==="utf8"&&ie<128||G==="latin1")&&(_=ie)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,_||(_=0);let Z;if(typeof _=="number")for(Z=E;Z<D;++Z)this[Z]=_;else{const ie=h.isBuffer(_)?_:h.from(_,G),Re=ie.length;if(Re===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Z=0;Z<D-E;++Z)this[Z+E]=ie[Z%Re]}return this};const Le={};function at(A,_,E){Le[A]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(A,_){return`The "${A}" argument must be of type number. Received type ${typeof _}`},TypeError),at("ERR_OUT_OF_RANGE",function(A,_,E){let D=`The value of "${A}" is out of range.`,G=E;return Number.isInteger(E)&&Math.abs(E)>2**32?G=Qe(String(E)):typeof E=="bigint"&&(G=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(G=Qe(G)),G+="n"),D+=` It must be ${_}. Received ${G}`,D},RangeError);function Qe(A){let _="",E=A.length;const D=A[0]==="-"?1:0;for(;E>=D+4;E-=3)_=`_${A.slice(E-3,E)}${_}`;return`${A.slice(0,E)}${_}`}function It(A,_,E){Mt(_,"offset"),(A[_]===void 0||A[_+E]===void 0)&&dn(_,A.length-(E+1))}function Cn(A,_,E,D,G,Z){if(A>E||A<_){const ie=typeof _=="bigint"?"n":"";let Re;throw _===0||_===BigInt(0)?Re=`>= 0${ie} and < 2${ie} ** ${(Z+1)*8}${ie}`:Re=`>= -(2${ie} ** ${(Z+1)*8-1}${ie}) and < 2 ** ${(Z+1)*8-1}${ie}`,new Le.ERR_OUT_OF_RANGE("value",Re,A)}It(D,G,Z)}function Mt(A,_){if(typeof A!="number")throw new Le.ERR_INVALID_ARG_TYPE(_,"number",A)}function dn(A,_,E){throw Math.floor(A)!==A?(Mt(A,E),new Le.ERR_OUT_OF_RANGE("offset","an integer",A)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,A)}const zn=/[^+/0-9A-Za-z-_]/g;function kn(A){if(A=A.split("=")[0],A=A.trim().replace(zn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function er(A,_){_=_||1/0;let E;const D=A.length;let G=null;const Z=[];for(let ie=0;ie<D;++ie){if(E=A.charCodeAt(ie),E>55295&&E<57344){if(!G){if(E>56319){(_-=3)>-1&&Z.push(239,191,189);continue}else if(ie+1===D){(_-=3)>-1&&Z.push(239,191,189);continue}G=E;continue}if(E<56320){(_-=3)>-1&&Z.push(239,191,189),G=E;continue}E=(G-55296<<10|E-56320)+65536}else G&&(_-=3)>-1&&Z.push(239,191,189);if(G=null,E<128){if((_-=1)<0)break;Z.push(E)}else if(E<2048){if((_-=2)<0)break;Z.push(E>>6|192,E&63|128)}else if(E<65536){if((_-=3)<0)break;Z.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((_-=4)<0)break;Z.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return Z}function kr(A){const _=[];for(let E=0;E<A.length;++E)_.push(A.charCodeAt(E)&255);return _}function Er(A,_){let E,D,G;const Z=[];for(let ie=0;ie<A.length&&!((_-=2)<0);++ie)E=A.charCodeAt(ie),D=E>>8,G=E%256,Z.push(G),Z.push(D);return Z}function jn(A){return e.toByteArray(kn(A))}function Fn(A,_,E,D){let G;for(G=0;G<D&&!(G+E>=_.length||G>=A.length);++G)_[G+E]=A[G];return G}function pn(A,_){return A instanceof _||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===_.name}function wr(A){return A!==A}const Wt=function(){const A="0123456789abcdef",_=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let G=0;G<16;++G)_[D+G]=A[E]+A[G]}return _}();function Tn(A){return typeof BigInt>"u"?ne:A}function ne(){throw new Error("BigInt not supported")}}(Ip)),Ip}var WA=XA(),Cp={exports:{}},vv;function ZA(){if(vv)return Cp.exports;vv=1;var t=Cp.exports={},e,n;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=a}catch{n=a}})();function l(B){if(e===setTimeout)return setTimeout(B,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(B,0);try{return e(B,0)}catch{try{return e.call(null,B,0)}catch{return e.call(this,B,0)}}}function c(B){if(n===clearTimeout)return clearTimeout(B);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(B);try{return n(B)}catch{try{return n.call(null,B)}catch{return n.call(this,B)}}}var h=[],p=!1,m,y=-1;function w(){!p||!m||(p=!1,m.length?h=m.concat(h):y=-1,h.length&&x())}function x(){if(!p){var B=l(w);p=!0;for(var q=h.length;q;){for(m=h,h=[];++y<q;)m&&m[y].run();y=-1,q=h.length}m=null,p=!1,c(B)}}t.nextTick=function(B){var q=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)q[H-1]=arguments[H];h.push(new b(B,q)),h.length===1&&!p&&l(x)};function b(B,q){this.fun=B,this.array=q}b.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function L(){}return t.on=L,t.addListener=L,t.once=L,t.off=L,t.removeListener=L,t.removeAllListeners=L,t.emit=L,t.prependListener=L,t.prependOnceListener=L,t.listeners=function(B){return[]},t.binding=function(B){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(B){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Cp.exports}var JA=ZA();const ex=Cu(JA);window.Buffer=WA.Buffer;window.process=ex;var kp={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function tx(){if(Ev)return iu;Ev=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var wv;function nx(){return wv||(wv=1,kp.exports=tx()),kp.exports}var F=nx(),Dp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function rx(){if(Tv)return Ke;Tv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function q(R,ae,_e){this.props=R,this.context=ae,this.refs=B,this.updater=_e||b}q.prototype.isReactComponent={},q.prototype.setState=function(R,ae){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ae,"setState")},q.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function H(){}H.prototype=q.prototype;function ee(R,ae,_e){this.props=R,this.context=ae,this.refs=B,this.updater=_e||b}var J=ee.prototype=new H;J.constructor=ee,L(J,q.prototype),J.isPureReactComponent=!0;var fe=Array.isArray,le={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function z(R,ae,_e,U,ve,Ne){return _e=Ne.ref,{$$typeof:t,type:R,key:ae,ref:_e!==void 0?_e:null,props:Ne}}function M(R,ae){return z(R.type,ae,void 0,void 0,void 0,R.props)}function k(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function O(R){var ae={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(_e){return ae[_e]})}var P=/\/+/g;function j(R,ae){return typeof R=="object"&&R!==null&&R.key!=null?O(""+R.key):ae.toString(36)}function N(){}function Ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(N,N):(R.status="pending",R.then(function(ae){R.status==="pending"&&(R.status="fulfilled",R.value=ae)},function(ae){R.status==="pending"&&(R.status="rejected",R.reason=ae)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function we(R,ae,_e,U,ve){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Ne){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case t:case e:xe=!0;break;case y:return xe=R._init,we(xe(R._payload),ae,_e,U,ve)}}if(xe)return ve=ve(R),xe=U===""?"."+j(R,0):U,fe(ve)?(_e="",xe!=null&&(_e=xe.replace(P,"$&/")+"/"),we(ve,ae,_e,"",function(at){return at})):ve!=null&&(k(ve)&&(ve=M(ve,_e+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(P,"$&/")+"/")+xe)),ae.push(ve)),1;xe=0;var dt=U===""?".":U+":";if(fe(R))for(var Le=0;Le<R.length;Le++)U=R[Le],Ne=dt+j(U,Le),xe+=we(U,ae,_e,Ne,ve);else if(Le=x(R),typeof Le=="function")for(R=Le.call(R),Le=0;!(U=R.next()).done;)U=U.value,Ne=dt+j(U,Le++),xe+=we(U,ae,_e,Ne,ve);else if(Ne==="object"){if(typeof R.then=="function")return we(Ee(R),ae,_e,U,ve);throw ae=String(R),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return xe}function me(R,ae,_e){if(R==null)return R;var U=[],ve=0;return we(R,U,"","",function(Ne){return ae.call(_e,Ne,ve++)}),U}function Te(R){if(R._status===-1){var ae=R._result;ae=ae(),ae.then(function(_e){(R._status===0||R._status===-1)&&(R._status=1,R._result=_e)},function(_e){(R._status===0||R._status===-1)&&(R._status=2,R._result=_e)}),R._status===-1&&(R._status=0,R._result=ae)}if(R._status===1)return R._result.default;throw R._result}var be=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function He(){}return Ke.Children={map:me,forEach:function(R,ae,_e){me(R,function(){ae.apply(this,arguments)},_e)},count:function(R){var ae=0;return me(R,function(){ae++}),ae},toArray:function(R){return me(R,function(ae){return ae})||[]},only:function(R){if(!k(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ke.Component=q,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=ee,Ke.StrictMode=i,Ke.Suspense=p,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ke.cache=function(R){return function(){return R.apply(null,arguments)}},Ke.cloneElement=function(R,ae,_e){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var U=L({},R.props),ve=R.key,Ne=void 0;if(ae!=null)for(xe in ae.ref!==void 0&&(Ne=void 0),ae.key!==void 0&&(ve=""+ae.key),ae)!$.call(ae,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ae.ref===void 0||(U[xe]=ae[xe]);var xe=arguments.length-2;if(xe===1)U.children=_e;else if(1<xe){for(var dt=Array(xe),Le=0;Le<xe;Le++)dt[Le]=arguments[Le+2];U.children=dt}return z(R.type,ve,void 0,void 0,Ne,U)},Ke.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Ke.createElement=function(R,ae,_e){var U,ve={},Ne=null;if(ae!=null)for(U in ae.key!==void 0&&(Ne=""+ae.key),ae)$.call(ae,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(ve[U]=ae[U]);var xe=arguments.length-2;if(xe===1)ve.children=_e;else if(1<xe){for(var dt=Array(xe),Le=0;Le<xe;Le++)dt[Le]=arguments[Le+2];ve.children=dt}if(R&&R.defaultProps)for(U in xe=R.defaultProps,xe)ve[U]===void 0&&(ve[U]=xe[U]);return z(R,Ne,void 0,void 0,null,ve)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(R){return{$$typeof:h,render:R}},Ke.isValidElement=k,Ke.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:Te}},Ke.memo=function(R,ae){return{$$typeof:m,type:R,compare:ae===void 0?null:ae}},Ke.startTransition=function(R){var ae=le.T,_e={};le.T=_e;try{var U=R(),ve=le.S;ve!==null&&ve(_e,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(He,be)}catch(Ne){be(Ne)}finally{le.T=ae}},Ke.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ke.use=function(R){return le.H.use(R)},Ke.useActionState=function(R,ae,_e){return le.H.useActionState(R,ae,_e)},Ke.useCallback=function(R,ae){return le.H.useCallback(R,ae)},Ke.useContext=function(R){return le.H.useContext(R)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(R,ae){return le.H.useDeferredValue(R,ae)},Ke.useEffect=function(R,ae){return le.H.useEffect(R,ae)},Ke.useId=function(){return le.H.useId()},Ke.useImperativeHandle=function(R,ae,_e){return le.H.useImperativeHandle(R,ae,_e)},Ke.useInsertionEffect=function(R,ae){return le.H.useInsertionEffect(R,ae)},Ke.useLayoutEffect=function(R,ae){return le.H.useLayoutEffect(R,ae)},Ke.useMemo=function(R,ae){return le.H.useMemo(R,ae)},Ke.useOptimistic=function(R,ae){return le.H.useOptimistic(R,ae)},Ke.useReducer=function(R,ae,_e){return le.H.useReducer(R,ae,_e)},Ke.useRef=function(R){return le.H.useRef(R)},Ke.useState=function(R){return le.H.useState(R)},Ke.useSyncExternalStore=function(R,ae,_e){return le.H.useSyncExternalStore(R,ae,_e)},Ke.useTransition=function(){return le.H.useTransition()},Ke.version="19.0.0",Ke}var bv;function qm(){return bv||(bv=1,Dp.exports=rx()),Dp.exports}var se=qm();const ix=Cu(se);var Np={exports:{}},su={},Op={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function sx(){return Sv||(Sv=1,function(t){function e(me,Te){var be=me.length;me.push(Te);e:for(;0<be;){var He=be-1>>>1,R=me[He];if(0<a(R,Te))me[He]=Te,me[be]=R,be=He;else break e}}function n(me){return me.length===0?null:me[0]}function i(me){if(me.length===0)return null;var Te=me[0],be=me.pop();if(be!==Te){me[0]=be;e:for(var He=0,R=me.length,ae=R>>>1;He<ae;){var _e=2*(He+1)-1,U=me[_e],ve=_e+1,Ne=me[ve];if(0>a(U,be))ve<R&&0>a(Ne,U)?(me[He]=Ne,me[ve]=be,He=ve):(me[He]=U,me[_e]=be,He=_e);else if(ve<R&&0>a(Ne,be))me[He]=Ne,me[ve]=be,He=ve;else break e}}return Te}function a(me,Te){var be=me.sortIndex-Te.sortIndex;return be!==0?be:me.id-Te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,w=null,x=3,b=!1,L=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function J(me){for(var Te=n(m);Te!==null;){if(Te.callback===null)i(m);else if(Te.startTime<=me)i(m),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(m)}}function fe(me){if(B=!1,J(me),!L)if(n(p)!==null)L=!0,Ee();else{var Te=n(m);Te!==null&&we(fe,Te.startTime-me)}}var le=!1,$=-1,z=5,M=-1;function k(){return!(t.unstable_now()-M<z)}function O(){if(le){var me=t.unstable_now();M=me;var Te=!0;try{e:{L=!1,B&&(B=!1,H($),$=-1),b=!0;var be=x;try{t:{for(J(me),w=n(p);w!==null&&!(w.expirationTime>me&&k());){var He=w.callback;if(typeof He=="function"){w.callback=null,x=w.priorityLevel;var R=He(w.expirationTime<=me);if(me=t.unstable_now(),typeof R=="function"){w.callback=R,J(me),Te=!0;break t}w===n(p)&&i(p),J(me)}else i(p);w=n(p)}if(w!==null)Te=!0;else{var ae=n(m);ae!==null&&we(fe,ae.startTime-me),Te=!1}}break e}finally{w=null,x=be,b=!1}Te=void 0}}finally{Te?P():le=!1}}}var P;if(typeof ee=="function")P=function(){ee(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=O,P=function(){N.postMessage(null)}}else P=function(){q(O,0)};function Ee(){le||(le=!0,P())}function we(me,Te){$=q(function(){me(t.unstable_now())},Te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_continueExecution=function(){L||b||(L=!0,Ee())},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(me){switch(x){case 1:case 2:case 3:var Te=3;break;default:Te=x}var be=x;x=Te;try{return me()}finally{x=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(me,Te){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var be=x;x=me;try{return Te()}finally{x=be}},t.unstable_scheduleCallback=function(me,Te,be){var He=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?He+be:He):be=He,me){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=be+R,me={id:y++,callback:Te,priorityLevel:me,startTime:be,expirationTime:R,sortIndex:-1},be>He?(me.sortIndex=be,e(m,me),n(p)===null&&me===n(m)&&(B?(H($),$=-1):B=!0,we(fe,be-He))):(me.sortIndex=R,e(p,me),L||b||(L=!0,Ee())),me},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(me){var Te=x;return function(){var be=x;x=Te;try{return me.apply(this,arguments)}finally{x=be}}}}(Mp)),Mp}var Av;function ax(){return Av||(Av=1,Op.exports=sx()),Op.exports}var Lp={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function ox(){if(xv)return gn;xv=1;var t=qm();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},gn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,w=h(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:b}):y==="script"&&i.d.X(p,{crossOrigin:w,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,w=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.0.0",gn}var Rv;function lx(){if(Rv)return Lp.exports;Rv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=ox(),Lp.exports}var Iv;function ux(){if(Iv)return su;Iv=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=ax(),e=qm(),n=lx();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),fe=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function M(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Provider";case x:return(r._context.displayName||"Context")+".Consumer";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:M(r.type)||"Memo";case ee:s=r._payload,r=r._init;try{return M(r(s))}catch{}}return null}var k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,P,j;function N(r){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",j=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+j}var Ee=!1;function we(r,s){if(!r||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(oe){var te=oe}Reflect.construct(r,[],de)}else{try{de.call()}catch(oe){te=oe}r.call(de.prototype)}}else{try{throw Error()}catch(oe){te=oe}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(oe){if(oe&&te&&typeof oe.stack=="string")return[oe.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],I=g[1];if(S&&I){var V=S.split(`
`),Q=I.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===Q.length)for(u=V.length-1,d=Q.length-1;1<=u&&0<=d&&V[u]!==Q[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==Q[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==Q[d]){var ue=`
`+V[u].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=u&&0<=d);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?N(o):""}function me(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=we(r.type,!1),r;case 11:return r=we(r.type.render,!1),r;case 1:return r=we(r.type,!0),r;default:return""}}function Te(r){try{var s="";do s+=me(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function be(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function He(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function R(r){if(be(r)!==r)throw Error(i(188))}function ae(r){var s=r.alternate;if(!s){if(s=be(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return R(d),r;if(g===u)return R(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var S=!1,I=d.child;I;){if(I===o){S=!0,o=d,u=g;break}if(I===u){S=!0,u=d,o=g;break}I=I.sibling}if(!S){for(I=g.child;I;){if(I===o){S=!0,o=g,u=d;break}if(I===u){S=!0,u=g,o=d;break}I=I.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function _e(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_e(r),s!==null)return s;r=r.sibling}return null}var U=Array.isArray,ve=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},xe=[],dt=-1;function Le(r){return{current:r}}function at(r){0>dt||(r.current=xe[dt],xe[dt]=null,dt--)}function Qe(r,s){dt++,xe[dt]=r.current,r.current=s}var It=Le(null),Cn=Le(null),Mt=Le(null),dn=Le(null);function zn(r,s){switch(Qe(Mt,s),Qe(Cn,r),Qe(It,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?G0(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=G0(r),s=K0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}at(It),Qe(It,s)}function kn(){at(It),at(Cn),at(Mt)}function er(r){r.memoizedState!==null&&Qe(dn,r);var s=It.current,o=K0(s,r.type);s!==o&&(Qe(Cn,r),Qe(It,o))}function kr(r){Cn.current===r&&(at(It),at(Cn)),dn.current===r&&(at(dn),Zl._currentValue=Ne)}var Er=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,Fn=t.unstable_cancelCallback,pn=t.unstable_shouldYield,wr=t.unstable_requestPaint,Wt=t.unstable_now,Tn=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,A=t.unstable_UserBlockingPriority,_=t.unstable_NormalPriority,E=t.unstable_LowPriority,D=t.unstable_IdlePriority,G=t.log,Z=t.unstable_setDisableYieldValue,ie=null,Re=null;function tt(r){if(Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ie,r,void 0,(r.current.flags&128)===128)}catch{}}function Me(r){if(typeof G=="function"&&Z(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ie,r)}catch{}}var Be=Math.clz32?Math.clz32:Ku,qe=Math.log,Gu=Math.LN2;function Ku(r){return r>>>=0,r===0?32:31-(qe(r)/Gu|0)|0}var Dr=128,ji=4194304;function Tr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tr(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,d=r.suspendedLanes,g=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~d,o!==0?u=Tr(o):(g&=I,g!==0?u=Tr(g):r||(S=I&~S,S!==0&&(u=Tr(S))))):(I=o&~d,I!==0?u=Tr(I):g!==0?u=Tr(g):r||(S=o&~S,S!==0&&(u=Tr(S)))),u===0?0:s!==0&&s!==u&&(s&d)===0&&(d=u&-u,S=s&-s,d>=S||d===32&&(S&4194176)!==0)?s:u}function Fi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ma(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var r=Dr;return Dr<<=1,(Dr&4194176)===0&&(Dr=128),r}function qi(){var r=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),r}function La(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Lt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Qu(r,s,o,u,d,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(o=S&~o;0<o;){var ue=31-Be(o),de=1<<ue;I[ue]=0,V[ue]=-1;var te=Q[ue];if(te!==null)for(Q[ue]=null,ue=0;ue<te.length;ue++){var oe=te[ue];oe!==null&&(oe.lane&=-536870913)}o&=~de}u!==0&&Hi(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function Hi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Be(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Gi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Be(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function $u(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Yu(){var r=ve.p;return r!==0?r:(r=window.event,r===void 0?32:cv(r.type))}function Ki(r,s){var o=ve.p;try{return ve.p=r,s()}finally{ve.p=o}}var Nr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Nr,qt="__reactProps$"+Nr,si="__reactContainer$"+Nr,qs="__reactEvents$"+Nr,Ua="__reactListeners$"+Nr,Or="__reactHandles$"+Nr,il="__reactResources$"+Nr,Qi="__reactMarker$"+Nr;function Hs(r){delete r[Zt],delete r[qt],delete r[qs],delete r[Ua],delete r[Or]}function br(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[si]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Y0(r);r!==null;){if(o=r[Zt])return o;r=Y0(r)}return s}r=o,o=r.parentNode}return null}function ai(r){if(r=r[Zt]||r[si]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function $i(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Yi(r){var s=r[il];return s||(s=r[il]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Qi]=!0}var sl=new Set,Pa={};function qn(r,s){Dn(r,s),Dn(r+"Capture",s)}function Dn(r,s){for(Pa[r]=s,r=0;r<s.length;r++)sl.add(s[r])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ol={};function Xu(r){return Er.call(ol,r)?!0:Er.call(al,r)?!1:Nf.test(r)?ol[r]=!0:(al[r]=!0,!1)}function Xi(r,s,o){if(Xu(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Wi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Of(r){var s=Wu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Gs(r){r._valueTracker||(r._valueTracker=Of(r))}function ll(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Wu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Va(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oi=/[\n"\\]/g;function Ct(r){return r.replace(oi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zi(r,s,o,u,d,g,S,I){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Ba(r,S,bn(s)):o!=null?Ba(r,S,bn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+bn(I):r.removeAttribute("name")}function Ks(r,s,o,u,d,g,S,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Ba(r,s,o){s==="number"&&Va(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ot(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Qs(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function Ji(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(U(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Mf.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Zu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&ul(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&ul(r,g,s[g])}function cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(r){return Uf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function za(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,ui=null;function ci(r){var s=ai(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Zi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[qt]||null;if(!d)throw Error(i(90));Zi(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&ll(u)}break e;case"textarea":Qs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ot(r,!!o.multiple,s,!1)}}}var hl=!1;function Ju(r,s,o){if(hl)return r(s,o);hl=!0;try{var u=r(s);return u}finally{if(hl=!1,(li!==null||ui!==null)&&(Hc(),li&&(s=li,r=ui,ui=li=null,ci(s),r)))for(s=0;s<r.length;s++)ci(r[s])}}function $s(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Hn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{sr=!1}var Lr=null,es=null,hi=null;function fl(){if(hi)return hi;var r,s=es,o=s.length,u,d="value"in Lr?Lr.value:Lr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var S=o-r;for(u=1;u<=S&&s[o-u]===d[g-u];u++);return hi=d.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function dl(){return!1}function Jt(r){function s(o,u,d,g,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Pr:dl,this.isPropagationStopped=dl,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),s}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Jt(ht),Xs=O({},ht,{view:0,detail:0}),ec=Jt(Xs),Fa,qa,Vr,Ws=O({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vr&&(Vr&&r.type==="mousemove"?(Fa=r.screenX-Vr.screenX,qa=r.screenY-Vr.screenY):qa=Fa=0,Vr=r),Fa)},movementY:function(r){return"movementY"in r?r.movementY:qa}}),ar=Jt(Ws),tc=O({},Ws,{dataTransfer:0}),Pf=Jt(tc),Zs=O({},Xs,{relatedTarget:0}),Ha=Jt(Zs),pl=O({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Jt(pl),nc=O({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ka=Jt(nc),Vf=O({},ht,{data:0}),ml=Jt(Vf),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ic[r])?!!s[r]:!1}function ea(){return gl}var sc=O({},Xs,{key:function(r){if(r.key){var s=Js[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qa=Jt(sc),ac=O({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Jt(ac),fi=O({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),oc=Jt(fi),lc=O({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=Jt(lc),cc=O({},Ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=Jt(cc),Sn=O({},ht,{newState:0,oldState:0}),hc=Jt(Sn),fc=[9,13,27,32],Br=Hn&&"CompositionEvent"in window,f=null;Hn&&"documentMode"in document&&(f=document.documentMode);var v=Hn&&"TextEvent"in window&&!f,T=Hn&&(!Br||f&&8<f&&11>=f),C=" ",X=!1;function re(r,s){switch(r){case"keyup":return fc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function Ht(r,s){switch(r){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(X=!0,C);case"textInput":return r=s.data,r===C&&X?null:r;default:return null}}function rt(r,s){if(nt)return r==="compositionend"||!Br&&re(r,s)?(r=fl(),hi=es=Lr=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!en[r.type]:s==="textarea"}function di(r,s,o,u){li?ui?ui.push(u):ui=[u]:li=u,s=Yc(s,"onChange"),0<s.length&&(o=new ja("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var an=null,zr=null;function _l(r){z0(r,0)}function dc(r){var s=$i(r);if(ll(s))return r}function my(r,s){if(r==="change")return s}var gy=!1;if(Hn){var Bf;if(Hn){var zf="oninput"in document;if(!zf){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),zf=typeof yy.oninput=="function"}Bf=zf}else Bf=!1;gy=Bf&&(!document.documentMode||9<document.documentMode)}function _y(){an&&(an.detachEvent("onpropertychange",vy),zr=an=null)}function vy(r){if(r.propertyName==="value"&&dc(zr)){var s=[];di(s,zr,r,za(r)),Ju(_l,s)}}function SS(r,s,o){r==="focusin"?(_y(),an=s,zr=o,an.attachEvent("onpropertychange",vy)):r==="focusout"&&_y()}function AS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dc(zr)}function xS(r,s){if(r==="click")return dc(s)}function RS(r,s){if(r==="input"||r==="change")return dc(s)}function IS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:IS;function vl(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Er.call(s,d)||!Gn(r[d],s[d]))return!1}return!0}function Ey(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wy(r,s){var o=Ey(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ey(o)}}function Ty(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ty(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function by(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Va(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Va(r.document)}return s}function jf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function CS(r,s){var o=by(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ty(s.ownerDocument.documentElement,s)){if(u!==null&&jf(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var d=s.textContent.length,g=Math.min(u.start,d);u=u.end===void 0?g:Math.min(u.end,d),!o.extend&&g>u&&(d=u,u=g,g=d),d=wy(s,g);var S=wy(s,u);d&&S&&(o.rangeCount!==1||o.anchorNode!==d.node||o.anchorOffset!==d.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var kS=Hn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Ff=null,El=null,qf=!1;function Sy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qf||Ya==null||Ya!==Va(u)||(u=Ya,"selectionStart"in u&&jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&vl(El,u)||(El=u,u=Yc(Ff,"onSelect"),0<u.length&&(s=new ja("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ya)))}function ta(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Xa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Hf={},Ay={};Hn&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function na(r){if(Hf[r])return Hf[r];if(!Xa[r])return r;var s=Xa[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ay)return Hf[r]=s[o];return r}var xy=na("animationend"),Ry=na("animationiteration"),Iy=na("animationstart"),DS=na("transitionrun"),NS=na("transitionstart"),OS=na("transitioncancel"),Cy=na("transitionend"),ky=new Map,Dy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(r,s){ky.set(r,s),qn(s,[r])}var or=[],Wa=0,Gf=0;function pc(){for(var r=Wa,s=Gf=Wa=0;s<r;){var o=or[s];or[s++]=null;var u=or[s];or[s++]=null;var d=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}g!==0&&Ny(o,d,g)}}function mc(r,s,o,u){or[Wa++]=r,or[Wa++]=s,or[Wa++]=o,or[Wa++]=u,Gf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Kf(r,s,o,u){return mc(r,s,o,u),gc(r)}function ts(r,s){return mc(r,null,null,s),gc(r)}function Ny(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;d&&s!==null&&r.tag===3&&(g=r.stateNode,d=31-Be(o),g=g.hiddenUpdates,r=g[d],r===null?g[d]=[s]:r.push(s),s.lane=o|536870912)}function gc(r){if(50<Gl)throw Gl=0,Zd=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Za={},Oy=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=Oy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Te(s)},Oy.set(r,s),s)}return{value:r,source:s,stack:Te(s)}}var Ja=[],eo=0,yc=null,_c=0,ur=[],cr=0,ra=null,pi=1,mi="";function ia(r,s){Ja[eo++]=_c,Ja[eo++]=yc,yc=r,_c=s}function My(r,s,o){ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ra,ra=r;var u=pi;r=mi;var d=32-Be(u)-1;u&=~(1<<d),o+=1;var g=32-Be(s)+d;if(30<g){var S=d-d%5;g=(u&(1<<S)-1).toString(32),u>>=S,d-=S,pi=1<<32-Be(s)+d|o<<d|u,mi=g+r}else pi=1<<g|o<<d|u,mi=r}function Qf(r){r.return!==null&&(ia(r,1),My(r,1,0))}function $f(r){for(;r===yc;)yc=Ja[--eo],Ja[eo]=null,_c=Ja[--eo],Ja[eo]=null;for(;r===ra;)ra=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null,pi=ur[--cr],ur[cr]=null}var An=null,on=null,lt=!1,Ar=null,jr=!1,Yf=Error(i(519));function sa(r){var s=Error(i(418,""));throw bl(lr(s,r)),Yf}function Ly(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Zt]=r,s[qt]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<Ql.length;o++)Je(Ql[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Ks(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Gs(s);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Ji(s,u.value,u.defaultValue,u.children),Gs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||H0(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=Xc),s=!0):s=!1,s||sa(r)}function Uy(r){for(An=r.return;An;)switch(An.tag){case 3:case 27:jr=!0;return;case 5:case 13:jr=!1;return;default:An=An.return}}function wl(r){if(r!==An)return!1;if(!lt)return Uy(r),lt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||mp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&on&&sa(r),Uy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){on=Rr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}on=null}}else on=An?Rr(r.stateNode.nextSibling):null;return!0}function Tl(){on=An=null,lt=!1}function bl(r){Ar===null?Ar=[r]:Ar.push(r)}var Sl=Error(i(460)),Py=Error(i(474)),Xf={then:function(){}};function Vy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function vc(){}function By(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(vc,vc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Sl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(vc,vc);else{if(r=yt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Sl?Error(i(483)):r}throw Al=s,Sl}}var Al=null;function zy(){if(Al===null)throw Error(i(459));var r=Al;return Al=null,r}var to=null,xl=0;function Ec(r){var s=xl;return xl+=1,to===null&&(to=[]),By(to,r,s)}function Rl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function wc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function jy(r){var s=r._init;return s(r._payload)}function Fy(r){function s(Y,K){if(r){var W=Y.deletions;W===null?(Y.deletions=[K],Y.flags|=16):W.push(K)}}function o(Y,K){if(!r)return null;for(;K!==null;)s(Y,K),K=K.sibling;return null}function u(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function d(Y,K){return Y=ds(Y,K),Y.index=0,Y.sibling=null,Y}function g(Y,K,W){return Y.index=W,r?(W=Y.alternate,W!==null?(W=W.index,W<K?(Y.flags|=33554434,K):W):(Y.flags|=33554434,K)):(Y.flags|=1048576,K)}function S(Y){return r&&Y.alternate===null&&(Y.flags|=33554434),Y}function I(Y,K,W,ce){return K===null||K.tag!==6?(K=Hd(W,Y.mode,ce),K.return=Y,K):(K=d(K,W),K.return=Y,K)}function V(Y,K,W,ce){var Ae=W.type;return Ae===p?ue(Y,K,W.props.children,ce,W.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ee&&jy(Ae)===K.type)?(K=d(K,W.props),Rl(K,W),K.return=Y,K):(K=Bc(W.type,W.key,W.props,null,Y.mode,ce),Rl(K,W),K.return=Y,K)}function Q(Y,K,W,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=Gd(W,Y.mode,ce),K.return=Y,K):(K=d(K,W.children||[]),K.return=Y,K)}function ue(Y,K,W,ce,Ae){return K===null||K.tag!==7?(K=ma(W,Y.mode,ce,Ae),K.return=Y,K):(K=d(K,W),K.return=Y,K)}function de(Y,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Hd(""+K,Y.mode,W),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return W=Bc(K.type,K.key,K.props,null,Y.mode,W),Rl(W,K),W.return=Y,W;case h:return K=Gd(K,Y.mode,W),K.return=Y,K;case ee:var ce=K._init;return K=ce(K._payload),de(Y,K,W)}if(U(K)||$(K))return K=ma(K,Y.mode,W,null),K.return=Y,K;if(typeof K.then=="function")return de(Y,Ec(K),W);if(K.$$typeof===b)return de(Y,Uc(Y,K),W);wc(Y,K)}return null}function te(Y,K,W,ce){var Ae=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ae!==null?null:I(Y,K,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return W.key===Ae?V(Y,K,W,ce):null;case h:return W.key===Ae?Q(Y,K,W,ce):null;case ee:return Ae=W._init,W=Ae(W._payload),te(Y,K,W,ce)}if(U(W)||$(W))return Ae!==null?null:ue(Y,K,W,ce,null);if(typeof W.then=="function")return te(Y,K,Ec(W),ce);if(W.$$typeof===b)return te(Y,K,Uc(Y,W),ce);wc(Y,W)}return null}function oe(Y,K,W,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(W)||null,I(K,Y,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case c:return Y=Y.get(ce.key===null?W:ce.key)||null,V(K,Y,ce,Ae);case h:return Y=Y.get(ce.key===null?W:ce.key)||null,Q(K,Y,ce,Ae);case ee:var Ye=ce._init;return ce=Ye(ce._payload),oe(Y,K,W,ce,Ae)}if(U(ce)||$(ce))return Y=Y.get(W)||null,ue(K,Y,ce,Ae,null);if(typeof ce.then=="function")return oe(Y,K,W,Ec(ce),Ae);if(ce.$$typeof===b)return oe(Y,K,W,Uc(K,ce),Ae);wc(K,ce)}return null}function Ie(Y,K,W,ce){for(var Ae=null,Ye=null,ke=K,Oe=K=0,rn=null;ke!==null&&Oe<W.length;Oe++){ke.index>Oe?(rn=ke,ke=null):rn=ke.sibling;var ut=te(Y,ke,W[Oe],ce);if(ut===null){ke===null&&(ke=rn);break}r&&ke&&ut.alternate===null&&s(Y,ke),K=g(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut,ke=rn}if(Oe===W.length)return o(Y,ke),lt&&ia(Y,Oe),Ae;if(ke===null){for(;Oe<W.length;Oe++)ke=de(Y,W[Oe],ce),ke!==null&&(K=g(ke,K,Oe),Ye===null?Ae=ke:Ye.sibling=ke,Ye=ke);return lt&&ia(Y,Oe),Ae}for(ke=u(ke);Oe<W.length;Oe++)rn=oe(ke,Y,Oe,W[Oe],ce),rn!==null&&(r&&rn.alternate!==null&&ke.delete(rn.key===null?Oe:rn.key),K=g(rn,K,Oe),Ye===null?Ae=rn:Ye.sibling=rn,Ye=rn);return r&&ke.forEach(function(Es){return s(Y,Es)}),lt&&ia(Y,Oe),Ae}function je(Y,K,W,ce){if(W==null)throw Error(i(151));for(var Ae=null,Ye=null,ke=K,Oe=K=0,rn=null,ut=W.next();ke!==null&&!ut.done;Oe++,ut=W.next()){ke.index>Oe?(rn=ke,ke=null):rn=ke.sibling;var Es=te(Y,ke,ut.value,ce);if(Es===null){ke===null&&(ke=rn);break}r&&ke&&Es.alternate===null&&s(Y,ke),K=g(Es,K,Oe),Ye===null?Ae=Es:Ye.sibling=Es,Ye=Es,ke=rn}if(ut.done)return o(Y,ke),lt&&ia(Y,Oe),Ae;if(ke===null){for(;!ut.done;Oe++,ut=W.next())ut=de(Y,ut.value,ce),ut!==null&&(K=g(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut);return lt&&ia(Y,Oe),Ae}for(ke=u(ke);!ut.done;Oe++,ut=W.next())ut=oe(ke,Y,Oe,ut.value,ce),ut!==null&&(r&&ut.alternate!==null&&ke.delete(ut.key===null?Oe:ut.key),K=g(ut,K,Oe),Ye===null?Ae=ut:Ye.sibling=ut,Ye=ut);return r&&ke.forEach(function(QA){return s(Y,QA)}),lt&&ia(Y,Oe),Ae}function Nt(Y,K,W,ce){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case c:e:{for(var Ae=W.key;K!==null;){if(K.key===Ae){if(Ae=W.type,Ae===p){if(K.tag===7){o(Y,K.sibling),ce=d(K,W.props.children),ce.return=Y,Y=ce;break e}}else if(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ee&&jy(Ae)===K.type){o(Y,K.sibling),ce=d(K,W.props),Rl(ce,W),ce.return=Y,Y=ce;break e}o(Y,K);break}else s(Y,K);K=K.sibling}W.type===p?(ce=ma(W.props.children,Y.mode,ce,W.key),ce.return=Y,Y=ce):(ce=Bc(W.type,W.key,W.props,null,Y.mode,ce),Rl(ce,W),ce.return=Y,Y=ce)}return S(Y);case h:e:{for(Ae=W.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){o(Y,K.sibling),ce=d(K,W.children||[]),ce.return=Y,Y=ce;break e}else{o(Y,K);break}else s(Y,K);K=K.sibling}ce=Gd(W,Y.mode,ce),ce.return=Y,Y=ce}return S(Y);case ee:return Ae=W._init,W=Ae(W._payload),Nt(Y,K,W,ce)}if(U(W))return Ie(Y,K,W,ce);if($(W)){if(Ae=$(W),typeof Ae!="function")throw Error(i(150));return W=Ae.call(W),je(Y,K,W,ce)}if(typeof W.then=="function")return Nt(Y,K,Ec(W),ce);if(W.$$typeof===b)return Nt(Y,K,Uc(Y,W),ce);wc(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(o(Y,K.sibling),ce=d(K,W),ce.return=Y,Y=ce):(o(Y,K),ce=Hd(W,Y.mode,ce),ce.return=Y,Y=ce),S(Y)):o(Y,K)}return function(Y,K,W,ce){try{xl=0;var Ae=Nt(Y,K,W,ce);return to=null,Ae}catch(ke){if(ke===Sl)throw ke;var Ye=pr(29,ke,null,Y.mode);return Ye.lanes=ce,Ye.return=Y,Ye}finally{}}}var aa=Fy(!0),qy=Fy(!1),no=Le(null),Tc=Le(0);function Hy(r,s){r=xi,Qe(Tc,r),Qe(no,s),xi=r|s.baseLanes}function Wf(){Qe(Tc,xi),Qe(no,no.current)}function Zf(){xi=Tc.current,at(no),at(Tc)}var hr=Le(null),Fr=null;function ns(r){var s=r.alternate;Qe(Kt,Kt.current&1),Qe(hr,r),Fr===null&&(s===null||no.current!==null||s.memoizedState!==null)&&(Fr=r)}function Gy(r){if(r.tag===22){if(Qe(Kt,Kt.current),Qe(hr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else rs()}function rs(){Qe(Kt,Kt.current),Qe(hr,hr.current)}function gi(r){at(hr),Fr===r&&(Fr=null),at(Kt)}var Kt=Le(0);function bc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var MS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},LS=t.unstable_scheduleCallback,US=t.unstable_NormalPriority,Qt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new MS,data:new Map,refCount:0}}function Il(r){r.refCount--,r.refCount===0&&LS(US,function(){r.controller.abort()})}var Cl=null,ed=0,ro=0,io=null;function PS(r,s){if(Cl===null){var o=Cl=[];ed=0,ro=ap(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ed++,s.then(Ky,Ky),s}function Ky(){if(--ed===0&&Cl!==null){io!==null&&(io.status="fulfilled");var r=Cl;Cl=null,ro=0,io=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function VS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Qy=k.S;k.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&PS(r,s),Qy!==null&&Qy(r,s)};var oa=Le(null);function td(){var r=oa.current;return r!==null?r:yt.pooledCache}function Sc(r,s){s===null?Qe(oa,oa.current):Qe(oa,s.pool)}function $y(){var r=td();return r===null?null:{parent:Qt._currentValue,pool:r}}var is=0,$e=null,pt=null,Vt=null,Ac=!1,so=!1,la=!1,xc=0,kl=0,ao=null,BS=0;function Ut(){throw Error(i(321))}function nd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Gn(r[o],s[o]))return!1;return!0}function rd(r,s,o,u,d,g){return is=g,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=r===null||r.memoizedState===null?ua:ss,la=!1,g=o(u,d),la=!1,so&&(g=Xy(s,o,u,d)),Yy(r),g}function Yy(r){k.H=qr;var s=pt!==null&&pt.next!==null;if(is=0,Vt=pt=$e=null,Ac=!1,kl=0,ao=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&Lc(r)&&(tn=!0))}function Xy(r,s,o,u){$e=r;var d=0;do{if(so&&(ao=null),kl=0,so=!1,25<=d)throw Error(i(301));if(d+=1,Vt=pt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=ca,g=s(o,u)}while(so);return g}function zS(){var r=k.H,s=r.useState()[0];return s=typeof s.then=="function"?Dl(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&($e.flags|=1024),s}function id(){var r=xc!==0;return xc=0,r}function sd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ad(r){if(Ac){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ac=!1}is=0,Vt=pt=$e=null,so=!1,kl=xc=0,ao=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?$e.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Bt(){if(pt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Vt===null?$e.memoizedState:Vt.next;if(s!==null)Vt=s,pt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Vt===null?$e.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}var Rc;Rc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Dl(r){var s=kl;return kl+=1,ao===null&&(ao=[]),r=By(ao,r,s),s=$e,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?ua:ss),r}function Ic(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dl(r);if(r.$$typeof===b)return mn(r)}throw Error(i(438,String(r)))}function od(r){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Rc(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=fe;return s.index++,o}function yi(r,s){return typeof s=="function"?s(r):s}function Cc(r){var s=Bt();return ld(s,pt,r)}function ld(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var S=d.next;d.next=g.next,g.next=S}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var I=S=null,V=null,Q=s,ue=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(it&de)===de:(is&de)===de){var te=Q.revertLane;if(te===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===ro&&(ue=!0);else if((is&te)===te){Q=Q.next,te===ro&&(ue=!0);continue}else de={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(I=V=de,S=g):V=V.next=de,$e.lanes|=te,ps|=te;de=Q.action,la&&o(g,de),g=Q.hasEagerState?Q.eagerState:o(g,de)}else te={lane:de,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(I=V=te,S=g):V=V.next=te,$e.lanes|=de,ps|=de;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?S=g:V.next=I,!Gn(g,r.memoizedState)&&(tn=!0,ue&&(o=io,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function ud(r){var s=Bt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do g=r(g,S.action),S=S.next;while(S!==d);Gn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Wy(r,s,o){var u=$e,d=Bt(),g=lt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!Gn((pt||d).memoizedState,o);if(S&&(d.memoizedState=o,tn=!0),d=d.queue,fd(e_.bind(null,u,d,r),[r]),d.getSnapshot!==s||S||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,oo(9,Jy.bind(null,u,d,o,s),{destroy:void 0},null),yt===null)throw Error(i(349));g||(is&60)!==0||Zy(u,s,o)}return o}function Zy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=Rc(),$e.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Jy(r,s,o,u){s.value=o,s.getSnapshot=u,t_(s)&&n_(r)}function e_(r,s,o){return o(function(){t_(s)&&n_(r)})}function t_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Gn(r,o)}catch{return!0}}function n_(r){var s=ts(r,2);s!==null&&xn(s,r,2)}function cd(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),la){Me(!0);try{o()}finally{Me(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},s}function r_(r,s,o,u){return r.baseState=o,ld(r,pt,typeof u=="function"?u:yi)}function jS(r,s,o,u,d){if(Nc(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,i_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function i_(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=k.T,S={};k.T=S;try{var I=o(d,u),V=k.S;V!==null&&V(S,I),s_(r,s,I)}catch(Q){hd(r,s,Q)}finally{k.T=g}}else try{g=o(d,u),s_(r,s,g)}catch(Q){hd(r,s,Q)}}function s_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){a_(r,s,u)},function(u){return hd(r,s,u)}):a_(r,s,o)}function a_(r,s,o){s.status="fulfilled",s.value=o,o_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,i_(r,o)))}function hd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,o_(s),s=s.next;while(s!==u)}r.action=null}function o_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function l_(r,s){return s}function u_(r,s){if(lt){var o=yt.formState;if(o!==null){e:{var u=$e;if(lt){if(on){t:{for(var d=on,g=jr;d.nodeType!==8;){if(!g){d=null;break t}if(d=Rr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){on=Rr(d.nextSibling),u=d.data==="F!";break e}}sa(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:s},o.queue=u,o=R_.bind(null,$e,u),u.dispatch=o,u=cd(!1),g=yd.bind(null,$e,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=jS.bind(null,$e,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function c_(r){var s=Bt();return h_(s,pt,r)}function h_(r,s,o){s=ld(r,s,l_)[0],r=Cc(yi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Dl(s):s;var u=Bt(),d=u.queue,g=d.dispatch;return o!==u.memoizedState&&($e.flags|=2048,oo(9,FS.bind(null,d,o),{destroy:void 0},null)),[s,g,r]}function FS(r,s){r.action=s}function f_(r){var s=Bt(),o=pt;if(o!==null)return h_(s,o,r);Bt(),s=s.memoizedState,o=Bt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function oo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=$e.updateQueue,s===null&&(s=Rc(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function d_(){return Bt().memoizedState}function kc(r,s,o,u){var d=Nn();$e.flags|=r,d.memoizedState=oo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Dc(r,s,o,u){var d=Bt();u=u===void 0?null:u;var g=d.memoizedState.inst;pt!==null&&u!==null&&nd(u,pt.memoizedState.deps)?d.memoizedState=oo(s,o,g,u):($e.flags|=r,d.memoizedState=oo(1|s,o,g,u))}function p_(r,s){kc(8390656,8,r,s)}function fd(r,s){Dc(2048,8,r,s)}function m_(r,s){return Dc(4,2,r,s)}function g_(r,s){return Dc(4,4,r,s)}function y_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function __(r,s,o){o=o!=null?o.concat([r]):null,Dc(4,4,y_.bind(null,s,r),o)}function dd(){}function v_(r,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&nd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function E_(r,s){var o=Bt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&nd(s,u[1]))return u[0];if(u=r(),la){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,s],u}function pd(r,s,o){return o===void 0||(is&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=T0(),$e.lanes|=r,ps|=r,o)}function w_(r,s,o,u){return Gn(o,s)?o:no.current!==null?(r=pd(r,o,u),Gn(r,s)||(tn=!0),r):(is&42)===0?(tn=!0,r.memoizedState=o):(r=T0(),$e.lanes|=r,ps|=r,s)}function T_(r,s,o,u,d){var g=ve.p;ve.p=g!==0&&8>g?g:8;var S=k.T,I={};k.T=I,yd(r,!1,s,o);try{var V=d(),Q=k.S;if(Q!==null&&Q(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ue=VS(V,u);Nl(r,s,ue,Yn(r))}else Nl(r,s,u,Yn(r))}catch(de){Nl(r,s,{then:function(){},status:"rejected",reason:de},Yn())}finally{ve.p=g,k.T=S}}function qS(){}function md(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=b_(r).queue;T_(r,d,s,Ne,o===null?qS:function(){return S_(r),o(u)})}function b_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function S_(r){var s=b_(r).next.queue;Nl(r,s,{},Yn())}function gd(){return mn(Zl)}function A_(){return Bt().memoizedState}function x_(){return Bt().memoizedState}function HS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();r=ls(o);var u=us(s,r,o);u!==null&&(xn(u,s,o),Ll(u,s,o)),s={cache:Jf()},r.payload=s;return}s=s.return}}function GS(r,s,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Nc(r)?I_(s,o):(o=Kf(r,s,o,u),o!==null&&(xn(o,r,u),C_(o,s,u)))}function R_(r,s,o){var u=Yn();Nl(r,s,o,u)}function Nl(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nc(r))I_(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,I=g(S,o);if(d.hasEagerState=!0,d.eagerState=I,Gn(I,S))return mc(r,s,d,0),yt===null&&pc(),!1}catch{}finally{}if(o=Kf(r,s,d,u),o!==null)return xn(o,r,u),C_(o,s,u),!0}return!1}function yd(r,s,o,u){if(u={lane:2,revertLane:ap(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(r)){if(s)throw Error(i(479))}else s=Kf(r,o,u,2),s!==null&&xn(s,r,2)}function Nc(r){var s=r.alternate;return r===$e||s!==null&&s===$e}function I_(r,s){so=Ac=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function C_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gi(r,o)}}var qr={readContext:mn,use:Ic,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut};qr.useCacheRefresh=Ut,qr.useMemoCache=Ut,qr.useHostTransitionStatus=Ut,qr.useFormState=Ut,qr.useActionState=Ut,qr.useOptimistic=Ut;var ua={readContext:mn,use:Ic,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:p_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,kc(4194308,4,y_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return kc(4194308,4,r,s)},useInsertionEffect:function(r,s){kc(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(la){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(la){Me(!0);try{o(s)}finally{Me(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=GS.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=cd(r);var s=r.queue,o=R_.bind(null,$e,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:dd,useDeferredValue:function(r,s){var o=Nn();return pd(o,r,s)},useTransition:function(){var r=cd(!1);return r=T_.bind(null,$e,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=$e,d=Nn();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),yt===null)throw Error(i(349));(it&60)!==0||Zy(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,p_(e_.bind(null,u,g,r),[r]),u.flags|=2048,oo(9,Jy.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=Nn(),s=yt.identifierPrefix;if(lt){var o=mi,u=pi;o=(u&~(1<<32-Be(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=xc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=BS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=HS.bind(null,$e)}};ua.useMemoCache=od,ua.useHostTransitionStatus=gd,ua.useFormState=u_,ua.useActionState=u_,ua.useOptimistic=function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=yd.bind(null,$e,!0,o),o.dispatch=s,[r,s]};var ss={readContext:mn,use:Ic,useCallback:v_,useContext:mn,useEffect:fd,useImperativeHandle:__,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:E_,useReducer:Cc,useRef:d_,useState:function(){return Cc(yi)},useDebugValue:dd,useDeferredValue:function(r,s){var o=Bt();return w_(o,pt.memoizedState,r,s)},useTransition:function(){var r=Cc(yi)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:Wy,useId:A_};ss.useCacheRefresh=x_,ss.useMemoCache=od,ss.useHostTransitionStatus=gd,ss.useFormState=c_,ss.useActionState=c_,ss.useOptimistic=function(r,s){var o=Bt();return r_(o,pt,r,s)};var ca={readContext:mn,use:Ic,useCallback:v_,useContext:mn,useEffect:fd,useImperativeHandle:__,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:E_,useReducer:ud,useRef:d_,useState:function(){return ud(yi)},useDebugValue:dd,useDeferredValue:function(r,s){var o=Bt();return pt===null?pd(o,r,s):w_(o,pt.memoizedState,r,s)},useTransition:function(){var r=ud(yi)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:Dl(r),s]},useSyncExternalStore:Wy,useId:A_};ca.useCacheRefresh=x_,ca.useMemoCache=od,ca.useHostTransitionStatus=gd,ca.useFormState=f_,ca.useActionState=f_,ca.useOptimistic=function(r,s){var o=Bt();return pt!==null?r_(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function _d(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:O({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var vd={isMounted:function(r){return(r=r._reactInternals)?be(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Yn(),d=ls(u);d.payload=s,o!=null&&(d.callback=o),s=us(r,d,u),s!==null&&(xn(s,r,u),Ll(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Yn(),d=ls(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=us(r,d,u),s!==null&&(xn(s,r,u),Ll(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Yn(),u=ls(o);u.tag=2,s!=null&&(u.callback=s),s=us(r,u,o),s!==null&&(xn(s,r,o),Ll(s,r,o))}};function k_(r,s,o,u,d,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!vl(o,u)||!vl(d,g):!0}function D_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&vd.enqueueReplaceState(s,s.state,null)}function ha(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=O({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var Oc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function N_(r){Oc(r)}function O_(r){console.error(r)}function M_(r){Oc(r)}function Mc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function L_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ed(r,s,o){return o=ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Mc(r,s)},o}function U_(r){return r=ls(r),r.tag=3,r}function P_(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){L_(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){L_(s,o,u),typeof d!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function KS(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ml(s,o,d,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Fr===null?tp():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Xf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rp(r,u,d)),!1;case 22:return o.flags|=65536,u===Xf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rp(r,u,d)),!1}throw Error(i(435,o.tag))}return rp(r,u,d),tp(),!1}if(lt)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Yf&&(r=Error(i(422),{cause:u}),bl(lr(r,o)))):(u!==Yf&&(s=Error(i(423),{cause:u}),bl(lr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=lr(u,o),d=Ed(r.stateNode,u,d),Ld(r,d),Dt!==4&&(Dt=2)),!1;var g=Error(i(520),{cause:u});if(g=lr(g,o),ql===null?ql=[g]:ql.push(g),Dt!==4&&(Dt=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Ed(o.stateNode,u,r),Ld(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ms===null||!ms.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=U_(d),P_(d,r,o,u),Ld(o,d),!1}o=o.return}while(o!==null);return!1}var V_=Error(i(461)),tn=!1;function ln(r,s,o,u){s.child=r===null?qy(s,null,o,u):aa(s,r.child,o,u)}function B_(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var S={};for(var I in u)I!=="ref"&&(S[I]=u[I])}else S=u;return da(s),u=rd(r,s,o,S,g,d),I=id(),r!==null&&!tn?(sd(r,s,d),_i(r,s,d)):(lt&&I&&Qf(s),s.flags|=1,ln(r,s,u,d),s.child)}function z_(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!qd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,j_(r,s,g,u,d)):(r=Bc(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Cd(r,d)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:vl,o(S,u)&&r.ref===s.ref)return _i(r,s,d)}return s.flags|=1,r=ds(g,u),r.ref=s.ref,r.return=s,s.child=r}function j_(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(vl(g,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=g,Cd(r,d))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,_i(r,s,d)}return wd(r,s,o,u,d)}function F_(r,s,o){var u=s.pendingProps,d=u.children,g=(s.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(Ol(r,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=S!==null?S.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return q_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sc(s,S!==null?S.cachePool:null),S!==null?Hy(s,S):Wf(),Gy(s);else return s.lanes=s.childLanes=536870912,q_(r,s,S!==null?S.baseLanes|o:o,o)}else S!==null?(Sc(s,S.cachePool),Hy(s,S),rs(),s.memoizedState=null):(r!==null&&Sc(s,null),Wf(),rs());return ln(r,s,d,o),s.child}function q_(r,s,o,u){var d=td();return d=d===null?null:{parent:Qt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Sc(s,null),Wf(),Gy(s),r!==null&&Ml(r,s,u,!0),null}function Ol(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function wd(r,s,o,u,d){return da(s),o=rd(r,s,o,u,void 0,d),u=id(),r!==null&&!tn?(sd(r,s,d),_i(r,s,d)):(lt&&u&&Qf(s),s.flags|=1,ln(r,s,o,d),s.child)}function H_(r,s,o,u,d,g){return da(s),s.updateQueue=null,o=Xy(s,u,o,d),Yy(r),u=id(),r!==null&&!tn?(sd(r,s,g),_i(r,s,g)):(lt&&u&&Qf(s),s.flags|=1,ln(r,s,o,g),s.child)}function G_(r,s,o,u,d){if(da(s),s.stateNode===null){var g=Za,S=o.contextType;typeof S=="object"&&S!==null&&(g=mn(S)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Od(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?mn(S):Za,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(_d(s,o,S,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&vd.enqueueReplaceState(g,g.state,null),Pl(s,u,g,d),Ul(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,V=ha(o,I);g.props=V;var Q=g.context,ue=o.contextType;S=Za,typeof ue=="object"&&ue!==null&&(S=mn(ue));var de=o.getDerivedStateFromProps;ue=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ue||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==S)&&D_(s,g,u,S),os=!1;var te=s.memoizedState;g.state=te,Pl(s,u,g,d),Ul(),Q=s.memoizedState,I||te!==Q||os?(typeof de=="function"&&(_d(s,o,de,u),Q=s.memoizedState),(V=os||k_(s,o,V,u,te,Q,S))?(ue||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=S,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Md(r,s),S=s.memoizedProps,ue=ha(o,S),g.props=ue,de=s.pendingProps,te=g.context,Q=o.contextType,V=Za,typeof Q=="object"&&Q!==null&&(V=mn(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==de||te!==V)&&D_(s,g,u,V),os=!1,te=s.memoizedState,g.state=te,Pl(s,u,g,d),Ul();var oe=s.memoizedState;S!==de||te!==oe||os||r!==null&&r.dependencies!==null&&Lc(r.dependencies)?(typeof I=="function"&&(_d(s,o,I,u),oe=s.memoizedState),(ue=os||k_(s,o,ue,u,te,oe,V)||r!==null&&r.dependencies!==null&&Lc(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,oe,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,oe,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=oe),g.props=u,g.state=oe,g.context=V,u=ue):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ol(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=aa(s,r.child,null,d),s.child=aa(s,null,o,d)):ln(r,s,o,d),s.memoizedState=g.state,r=s.child):r=_i(r,s,d),r}function K_(r,s,o,u){return Tl(),s.flags|=256,ln(r,s,o,u),s.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function bd(r){return{baseLanes:r,cachePool:$y()}}function Sd(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function Q_(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),S&&(d=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(lt){if(d?ns(s):rs(),lt){var I=on,V;if(V=I){e:{for(V=I,I=jr;V.nodeType!==8;){if(!I){I=null;break e}if(V=Rr(V.nextSibling),V===null){I=null;break e}}I=V}I!==null?(s.memoizedState={dehydrated:I,treeContext:ra!==null?{id:pi,overflow:mi}:null,retryLane:536870912},V=pr(18,null,null,0),V.stateNode=I,V.return=s,s.child=V,An=s,on=null,V=!0):V=!1}V||sa(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;gi(s)}return I=u.children,u=u.fallback,d?(rs(),d=s.mode,I=xd({mode:"hidden",children:I},d),u=ma(u,d,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,d=s.child,d.memoizedState=bd(o),d.childLanes=Sd(r,S,o),s.memoizedState=Td,u):(ns(s),Ad(s,I))}if(V=r.memoizedState,V!==null&&(I=V.dehydrated,I!==null)){if(g)s.flags&256?(ns(s),s.flags&=-257,s=Rd(r,s,o)):s.memoizedState!==null?(rs(),s.child=r.child,s.flags|=128,s=null):(rs(),d=u.fallback,I=s.mode,u=xd({mode:"visible",children:u.children},I),d=ma(d,I,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,aa(s,r.child,null,o),u=s.child,u.memoizedState=bd(o),u.childLanes=Sd(r,S,o),s.memoizedState=Td,s=d);else if(ns(s),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var Q=S.dgst;S=Q,u=Error(i(419)),u.stack="",u.digest=S,bl({value:u,source:null,stack:null}),s=Rd(r,s,o)}else if(tn||Ml(r,s,o,!1),S=(o&r.childLanes)!==0,tn||S){if(S=yt,S!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane)throw V.retryLane=u,ts(r,u),xn(S,r,u),V_}I.data==="$?"||tp(),s=Rd(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=oA.bind(null,r),I._reactRetry=s,s=null):(r=V.treeContext,on=Rr(I.nextSibling),An=s,lt=!0,Ar=null,jr=!1,r!==null&&(ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=ra,pi=r.id,mi=r.overflow,ra=s),s=Ad(s,u.children),s.flags|=4096);return s}return d?(rs(),d=u.fallback,I=s.mode,V=r.child,Q=V.sibling,u=ds(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&31457280,Q!==null?d=ds(Q,d):(d=ma(d,I,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,I=r.child.memoizedState,I===null?I=bd(o):(V=I.cachePool,V!==null?(Q=Qt._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=$y(),I={baseLanes:I.baseLanes|o,cachePool:V}),d.memoizedState=I,d.childLanes=Sd(r,S,o),s.memoizedState=Td,u):(ns(s),o=r.child,r=o.sibling,o=ds(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function Ad(r,s){return s=xd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function xd(r,s){return v0(r,s,0,null)}function Rd(r,s,o){return aa(s,r.child,null,o),r=Ad(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function $_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Dd(r.return,s,o)}function Id(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function Y_(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(ln(r,s,u.children,o),u=Kt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$_(r,o,s);else if(r.tag===19)$_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qe(Kt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&bc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Id(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&bc(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Id(s,!0,o,null,g);break;case"together":Id(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ml(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ds(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ds(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Cd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Lc(r)))}function QS(r,s,o){switch(s.tag){case 3:zn(s,s.stateNode.containerInfo),as(s,Qt,r.memoizedState.cache),Tl();break;case 27:case 5:er(s);break;case 4:zn(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ns(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Q_(r,s,o):(ns(s),r=_i(r,s,o),r!==null?r.sibling:null);ns(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ml(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return Y_(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(Kt,Kt.current),u)break;return null;case 22:case 23:return s.lanes=0,F_(r,s,o);case 24:as(s,Qt,r.memoizedState.cache)}return _i(r,s,o)}function X_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Cd(r,o)&&(s.flags&128)===0)return tn=!1,QS(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,lt&&(s.flags&1048576)!==0&&My(s,_c,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")qd(u)?(r=ha(u,r),s.tag=1,s=G_(null,s,u,r,o)):(s.tag=0,s=wd(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===L){s.tag=11,s=B_(null,s,u,r,o);break e}else if(d===H){s.tag=14,s=z_(null,s,u,r,o);break e}}throw s=M(u)||u,Error(i(306,s,""))}}return s;case 0:return wd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ha(u,s.pendingProps),G_(r,s,u,d,o);case 3:e:{if(zn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;d=s.memoizedState,u=d.element,Md(r,s),Pl(s,g,null,o);var S=s.memoizedState;if(g=S.cache,as(s,Qt,g),g!==d.cache&&Nd(s,[Qt],o,!0),Ul(),g=S.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=K_(r,s,g,o);break e}else if(g!==u){u=lr(Error(i(424)),s),bl(u),s=K_(r,s,g,o);break e}else for(on=Rr(s.stateNode.containerInfo.firstChild),An=s,lt=!0,Ar=null,jr=!0,o=qy(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Tl(),g===u){s=_i(r,s,o);break e}ln(r,s,g,o)}s=s.child}return s;case 26:return Ol(r,s),r===null?(o=J0(s.type,null,s.pendingProps,null))?s.memoizedState=o:lt||(o=s.type,r=s.pendingProps,u=Wc(Mt.current).createElement(o),u[Zt]=s,u[qt]=r,un(u,o,r),bt(u),s.stateNode=u):s.memoizedState=J0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return er(s),r===null&&lt&&(u=s.stateNode=X0(s.type,s.pendingProps,Mt.current),An=s,jr=!0,on=Rr(u.firstChild)),u=s.pendingProps.children,r!==null||lt?ln(r,s,u,o):s.child=aa(s,null,u,o),Ol(r,s),s.child;case 5:return r===null&&lt&&((d=u=on)&&(u=bA(u,s.type,s.pendingProps,jr),u!==null?(s.stateNode=u,An=s,on=Rr(u.firstChild),jr=!1,d=!0):d=!1),d||sa(s)),er(s),d=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,mp(d,g)?u=null:S!==null&&mp(d,S)&&(s.flags|=32),s.memoizedState!==null&&(d=rd(r,s,zS,null,null,o),Zl._currentValue=d),Ol(r,s),ln(r,s,u,o),s.child;case 6:return r===null&&lt&&((r=o=on)&&(o=SA(o,s.pendingProps,jr),o!==null?(s.stateNode=o,An=s,on=null,r=!0):r=!1),r||sa(s)),null;case 13:return Q_(r,s,o);case 4:return zn(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=aa(s,null,u,o):ln(r,s,u,o),s.child;case 11:return B_(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,as(s,s.type,u.value),ln(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,da(s),d=mn(d),u=u(d),s.flags|=1,ln(r,s,u,o),s.child;case 14:return z_(r,s,s.type,s.pendingProps,o);case 15:return j_(r,s,s.type,s.pendingProps,o);case 19:return Y_(r,s,o);case 22:return F_(r,s,o);case 24:return da(s),u=mn(Qt),r===null?(d=td(),d===null&&(d=yt,g=Jf(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Od(s),as(s,Qt,d)):((r.lanes&o)!==0&&(Md(r,s),Pl(s,null,null,o),Ul()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),as(s,Qt,u)):(u=g.cache,as(s,Qt,u),u!==d.cache&&Nd(s,[Qt],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var kd=Le(null),fa=null,vi=null;function as(r,s,o){Qe(kd,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=kd.current,at(kd)}function Dd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Nd(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var S=d.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=d;for(var V=0;V<s.length;V++)if(I.context===s[V]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Dd(g.return,o,r),u||(S=null);break e}g=I.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Dd(S,o,r),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===r){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Ml(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var I=d.type;Gn(d.pendingProps.value,S.value)||(r!==null?r.push(I):r=[I])}}else if(d===dn.current){if(S=d.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Zl):r=[Zl])}d=d.return}r!==null&&Nd(s,r,o,u),s.flags|=262144}function Lc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function da(r){fa=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return W_(fa,r)}function Uc(r,s){return fa===null&&da(r),W_(r,s)}function W_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var os=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ls(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function us(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(At&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=gc(r),Ny(r,null,o),s}return mc(r,u,s,o),gc(r)}function Ll(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gi(r,o)}}function Ld(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Ud=!1;function Ul(){if(Ud){var r=io;if(r!==null)throw r}}function Pl(r,s,o,u){Ud=!1;var d=r.updateQueue;os=!1;var g=d.firstBaseUpdate,S=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var V=I,Q=V.next;V.next=null,S===null?g=Q:S.next=Q,S=V;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==S&&(I===null?ue.firstBaseUpdate=Q:I.next=Q,ue.lastBaseUpdate=V))}if(g!==null){var de=d.baseState;S=0,ue=Q=V=null,I=g;do{var te=I.lane&-536870913,oe=te!==I.lane;if(oe?(it&te)===te:(u&te)===te){te!==0&&te===ro&&(Ud=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ie=r,je=I;te=s;var Nt=o;switch(je.tag){case 1:if(Ie=je.payload,typeof Ie=="function"){de=Ie.call(Nt,de,te);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=je.payload,te=typeof Ie=="function"?Ie.call(Nt,de,te):Ie,te==null)break e;de=O({},de,te);break e;case 2:os=!0}}te=I.callback,te!==null&&(r.flags|=64,oe&&(r.flags|=8192),oe=d.callbacks,oe===null?d.callbacks=[te]:oe.push(te))}else oe={lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(Q=ue=oe,V=de):ue=ue.next=oe,S|=te;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,d.lastBaseUpdate=oe,d.shared.pending=null}}while(!0);ue===null&&(V=de),d.baseState=V,d.firstBaseUpdate=Q,d.lastBaseUpdate=ue,g===null&&(d.shared.lanes=0),ps|=S,r.lanes=S,r.memoizedState=de}}function Z_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function J_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Z_(o[r],s)}function Vl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==d)}}catch(I){gt(s,s.return,I)}}function cs(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var S=u.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,d=s;var V=o;try{I()}catch(Q){gt(d,V,Q)}}}u=u.next}while(u!==g)}}catch(Q){gt(s,s.return,Q)}}function e0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{J_(s,o)}catch(u){gt(r,r.return,u)}}}function t0(r,s,o){o.props=ha(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){gt(r,s,u)}}function pa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){gt(r,s,g)}}function Kn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){gt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){gt(r,s,d)}else o.current=null}function n0(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){gt(r,r.return,d)}}function r0(r,s,o){try{var u=r.stateNode;_A(u,r.type,o,s),u[qt]=s}catch(d){gt(r,r.return,d)}}function i0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Pd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||i0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Xc));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Vd(r,s,o),r=r.sibling;r!==null;)Vd(r,s,o),r=r.sibling}function Pc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Pc(r,s,o),r=r.sibling;r!==null;)Pc(r,s,o),r=r.sibling}var wi=!1,kt=!1,Bd=!1,s0=typeof WeakSet=="function"?WeakSet:Set,nn=null,a0=!1;function $S(r,s){if(r=r.containerInfo,dp=rh,r=by(r),jf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,I=-1,V=-1,Q=0,ue=0,de=r,te=null;t:for(;;){for(var oe;de!==o||d!==0&&de.nodeType!==3||(I=S+d),de!==g||u!==0&&de.nodeType!==3||(V=S+u),de.nodeType===3&&(S+=de.nodeValue.length),(oe=de.firstChild)!==null;)te=de,de=oe;for(;;){if(de===r)break t;if(te===o&&++Q===d&&(I=S),te===g&&++ue===u&&(V=S),(oe=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=oe}o=I===-1||V===-1?null:{start:I,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:r,selectionRange:o},rh=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=ha(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(je){gt(o,o.return,je)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)_p(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}return Ie=a0,a0=!1,Ie}function o0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bi(r,o),u&4&&Vl(5,o);break;case 1:if(bi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){gt(o,o.return,I)}else{var d=ha(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(o,o.return,I)}}u&64&&e0(o),u&512&&pa(o,o.return);break;case 3:if(bi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{J_(u,r)}catch(I){gt(o,o.return,I)}}break;case 26:bi(r,o),u&512&&pa(o,o.return);break;case 27:case 5:bi(r,o),s===null&&u&4&&n0(o),u&512&&pa(o,o.return);break;case 12:bi(r,o);break;case 13:bi(r,o),u&4&&c0(r,o);break;case 22:if(d=o.memoizedState!==null||wi,!d){s=s!==null&&s.memoizedState!==null||kt;var g=wi,S=kt;wi=d,(kt=s)&&!S?hs(r,o,(o.subtreeFlags&8772)!==0):bi(r,o),wi=g,kt=S}u&512&&(o.memoizedProps.mode==="manual"?pa(o,o.return):Kn(o,o.return));break;default:bi(r,o)}}function l0(r){var s=r.alternate;s!==null&&(r.alternate=null,l0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Hs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,Qn=!1;function Ti(r,s,o){for(o=o.child;o!==null;)u0(r,s,o),o=o.sibling}function u0(r,s,o){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ie,o)}catch{}switch(o.tag){case 26:kt||Kn(o,s),Ti(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Kn(o,s);var u=zt,d=Qn;for(zt=o.stateNode,Ti(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Hs(o),zt=u,Qn=d;break;case 5:kt||Kn(o,s);case 6:d=zt;var g=Qn;if(zt=null,Ti(r,s,o),zt=d,Qn=g,zt!==null)if(Qn)try{r=zt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(S){gt(o,s,S)}else try{zt.removeChild(o.stateNode)}catch(S){gt(o,s,S)}break;case 18:zt!==null&&(Qn?(s=zt,o=o.stateNode,s.nodeType===8?yp(s.parentNode,o):s.nodeType===1&&yp(s,o),nu(s)):yp(zt,o.stateNode));break;case 4:u=zt,d=Qn,zt=o.stateNode.containerInfo,Qn=!0,Ti(r,s,o),zt=u,Qn=d;break;case 0:case 11:case 14:case 15:kt||cs(2,o,s),kt||cs(4,o,s),Ti(r,s,o);break;case 1:kt||(Kn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&t0(o,s,u)),Ti(r,s,o);break;case 21:Ti(r,s,o);break;case 22:kt||Kn(o,s),kt=(u=kt)||o.memoizedState!==null,Ti(r,s,o),kt=u;break;default:Ti(r,s,o)}}function c0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(o){gt(s,s.return,o)}}function YS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new s0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new s0),s;default:throw Error(i(435,r.tag))}}function zd(r,s){var o=YS(r);s.forEach(function(u){var d=lA.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,S=s,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:zt=I.stateNode,Qn=!1;break e;case 3:zt=I.stateNode.containerInfo,Qn=!0;break e;case 4:zt=I.stateNode.containerInfo,Qn=!0;break e}I=I.return}if(zt===null)throw Error(i(160));u0(g,S,d),zt=null,Qn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)h0(s,r),s=s.sibling}var xr=null;function h0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),dr(r),u&4&&(cs(3,r,r.return),Vl(3,r),cs(5,r,r.return));break;case 1:fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),u&64&&wi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=xr;if(fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Qi]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),un(g,u,o),g[Zt]=r,bt(g),u=g;break e;case"link":var S=nv("link","href",d).get(u+(o.href||""));if(S){for(var I=0;I<S.length;I++)if(g=S[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(I,1);break t}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;case"meta":if(S=nv("meta","content",d).get(u+(o.content||""))){for(I=0;I<S.length;I++)if(g=S[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(I,1);break t}}g=d.createElement(u),un(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Zt]=r,bt(g),u=g}r.stateNode=u}else rv(d,r.type,r.stateNode);else r.stateNode=tv(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?rv(d,r.type,r.stateNode):tv(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&r0(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){d=r.stateNode,g=r.memoizedProps;try{for(var V=d.firstChild;V;){var Q=V.nextSibling,ue=V.nodeName;V[Qi]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&V.rel.toLowerCase()==="stylesheet"||d.removeChild(V),V=Q}for(var de=r.type,te=d.attributes;te.length;)d.removeAttributeNode(te[0]);un(d,de,g),d[Zt]=r,d[qt]=g}catch(Ie){gt(r,r.return,Ie)}}case 5:if(fr(s,r),dr(r),u&512&&(kt||o===null||Kn(o,o.return)),r.flags&32){d=r.stateNode;try{rr(d,"")}catch(Ie){gt(r,r.return,Ie)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,r0(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Bd=!0);break;case 6:if(fr(s,r),dr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ie){gt(r,r.return,Ie)}}break;case 3:if(eh=null,d=xr,xr=Zc(s.containerInfo),fr(s,r),xr=d,dr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nu(s.containerInfo)}catch(Ie){gt(r,r.return,Ie)}Bd&&(Bd=!1,f0(r));break;case 4:u=xr,xr=Zc(r.stateNode.containerInfo),fr(s,r),dr(r),xr=u;break;case 12:fr(s,r),dr(r);break;case 13:fr(s,r),dr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yd=Wt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zd(r,u)));break;case 22:if(u&512&&(kt||o===null||Kn(o,o.return)),V=r.memoizedState!==null,Q=o!==null&&o.memoizedState!==null,ue=wi,de=kt,wi=ue||V,kt=de||Q,fr(s,r),kt=de,wi=ue,dr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=wi||kt,o===null||Q||s||lo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Q=o=s;try{if(d=Q.stateNode,V)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=Q.stateNode,I=Q.memoizedProps.style;var oe=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ie){gt(Q,Q.return,Ie)}}}else if(s.tag===6){if(o===null){Q=s;try{Q.stateNode.nodeValue=V?"":Q.memoizedProps}catch(Ie){gt(Q,Q.return,Ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zd(r,o))));break;case 19:fr(s,r),dr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,zd(r,u)));break;case 21:break;default:fr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(i0(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,g=Pd(r);Pc(r,g,d);break;case 5:var S=u.stateNode;u.flags&32&&(rr(S,""),u.flags&=-33);var I=Pd(r);Pc(r,I,S);break;case 3:case 4:var V=u.stateNode.containerInfo,Q=Pd(r);Vd(r,Q,V);break;default:throw Error(i(161))}}}catch(ue){gt(r,r.return,ue)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function f0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;f0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function bi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o0(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),lo(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&t0(s,s.return,o),lo(s);break;case 26:case 27:case 5:Kn(s,s.return),lo(s);break;case 22:Kn(s,s.return),s.memoizedState===null&&lo(s);break;default:lo(s)}r=r.sibling}}function hs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:hs(d,g,o),Vl(4,g);break;case 1:if(hs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){gt(u,u.return,Q)}if(u=g,d=u.updateQueue,d!==null){var I=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)Z_(V[d],I)}catch(Q){gt(u,u.return,Q)}}o&&S&64&&e0(g),pa(g,g.return);break;case 26:case 27:case 5:hs(d,g,o),o&&u===null&&S&4&&n0(g),pa(g,g.return);break;case 12:hs(d,g,o);break;case 13:hs(d,g,o),o&&S&4&&c0(d,g);break;case 22:g.memoizedState===null&&hs(d,g,o),pa(g,g.return);break;default:hs(d,g,o)}s=s.sibling}}function jd(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Il(o))}function Fd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Il(r))}function fs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(r,s,o,u),s=s.sibling}function d0(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:fs(r,s,o,u),d&2048&&Vl(9,s);break;case 3:fs(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Il(r)));break;case 12:if(d&2048){fs(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,I=g.onPostCommit;typeof I=="function"&&I(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){gt(s,s.return,V)}}else fs(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?fs(r,s,o,u):Bl(r,s):g._visibility&4?fs(r,s,o,u):(g._visibility|=4,uo(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&jd(s.alternate,s);break;case 24:fs(r,s,o,u),d&2048&&Fd(s.alternate,s);break;default:fs(r,s,o,u)}}function uo(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,S=s,I=o,V=u,Q=S.flags;switch(S.tag){case 0:case 11:case 15:uo(g,S,I,V,d),Vl(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&4?uo(g,S,I,V,d):Bl(g,S):(ue._visibility|=4,uo(g,S,I,V,d)),d&&Q&2048&&jd(S.alternate,S);break;case 24:uo(g,S,I,V,d),d&&Q&2048&&Fd(S.alternate,S);break;default:uo(g,S,I,V,d)}s=s.sibling}}function Bl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Bl(o,u),d&2048&&jd(u.alternate,u);break;case 24:Bl(o,u),d&2048&&Fd(u.alternate,u);break;default:Bl(o,u)}s=s.sibling}}var zl=8192;function co(r){if(r.subtreeFlags&zl)for(r=r.child;r!==null;)p0(r),r=r.sibling}function p0(r){switch(r.tag){case 26:co(r),r.flags&zl&&r.memoizedState!==null&&PA(xr,r.memoizedState,r.memoizedProps);break;case 5:co(r);break;case 3:case 4:var s=xr;xr=Zc(r.stateNode.containerInfo),co(r),xr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=zl,zl=16777216,co(r),zl=s):co(r));break;default:co(r)}}function m0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function jl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,y0(u,r)}m0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g0(r),r=r.sibling}function g0(r){switch(r.tag){case 0:case 11:case 15:jl(r),r.flags&2048&&cs(9,r,r.return);break;case 3:jl(r);break;case 12:jl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Vc(r)):jl(r);break;default:jl(r)}}function Vc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,y0(u,r)}m0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cs(8,s,s.return),Vc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Vc(s));break;default:Vc(s)}r=r.sibling}}function y0(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=r;nn!==null;){u=nn;var d=u.sibling,g=u.return;if(l0(u),u===o){nn=null;break e}if(d!==null){d.return=g,nn=d;break e}nn=g}}}function XS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,o,u){return new XS(r,s,o,u)}function qd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ds(r,s){var o=r.alternate;return o===null?(o=pr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function _0(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Bc(r,s,o,u,d,g){var S=0;if(u=r,typeof r=="function")qd(r)&&(S=1);else if(typeof r=="string")S=LA(r,o,It.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return ma(o.children,d,g,s);case m:S=8,d|=24;break;case y:return r=pr(12,o,s,d|2),r.elementType=y,r.lanes=g,r;case B:return r=pr(13,o,s,d),r.elementType=B,r.lanes=g,r;case q:return r=pr(19,o,s,d),r.elementType=q,r.lanes=g,r;case J:return v0(o,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case b:S=10;break e;case x:S=9;break e;case L:S=11;break e;case H:S=14;break e;case ee:S=16,u=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=pr(S,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function ma(r,s,o,u){return r=pr(7,r,u,s),r.lanes=o,r}function v0(r,s,o,u){r=pr(22,r,u,s),r.elementType=J,r.lanes=o;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)===0){var S=ts(g,2);S!==null&&(d._pendingVisibility|=2,xn(S,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(i(456));if((d._pendingVisibility&2)!==0){var S=ts(g,2);S!==null&&(d._pendingVisibility&=-3,xn(S,g,2))}}};return r.stateNode=d,r}function Hd(r,s,o){return r=pr(6,r,null,s),r.lanes=o,r}function Gd(r,s,o){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Si(r){r.flags|=4}function E0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!iv(s)){if(s=hr.current,s!==null&&((it&4194176)===it?Fr!==null:(it&62914560)!==it&&(it&536870912)===0||s!==Fr))throw Al=Xf,Py;r.flags|=8192}}function zc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?qi():536870912,r.lanes|=s,fo|=s)}function Fl(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function St(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function WS(r,s,o){var u=s.pendingProps;switch($f(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei(Qt),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wl(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar!==null&&(Jd(Ar),Ar=null))),St(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(St(s),E0(s,o)):(St(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),St(s),E0(s,o)):(St(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),St(s),s.flags&=-16777217),null;case 27:kr(s),o=Mt.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}r=It.current,wl(s)?Ly(s):(r=X0(d,u,o),s.stateNode=r,Si(s))}return St(s),null;case 5:if(kr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}if(r=It.current,wl(s))Ly(s);else{switch(d=Wc(Mt.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Zt]=s,r[qt]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(un(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return St(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Mt.current,wl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=An,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||H0(r.nodeValue,o)),r||sa(s)}else r=Wc(r).createTextNode(u),r[Zt]=s,s.stateNode=r}return St(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=wl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Zt]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),d=!1}else Ar!==null&&(Jd(Ar),Ar=null),d=!0;if(!d)return s.flags&256?(gi(s),s):(gi(s),null)}if(gi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),zc(s,s.updateQueue),St(s),null;case 4:return kn(),r===null&&cp(s.stateNode.containerInfo),St(s),null;case 10:return Ei(s.type),St(s),null;case 19:if(at(Kt),d=s.memoizedState,d===null)return St(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Fl(d,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=bc(r),g!==null){for(s.flags|=128,Fl(d,!1),r=g.updateQueue,s.updateQueue=r,zc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)_0(o,r),o=o.sibling;return Qe(Kt,Kt.current&1|2),s.child}r=r.sibling}d.tail!==null&&Wt()>jc&&(s.flags|=128,u=!0,Fl(d,!1),s.lanes=4194304)}else{if(!u)if(r=bc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,zc(s,r),Fl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!lt)return St(s),null}else 2*Wt()-d.renderingStartTime>jc&&o!==536870912&&(s.flags|=128,u=!0,Fl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Wt(),s.sibling=null,r=Kt.current,Qe(Kt,u?r&1|2:r&1),s):(St(s),null);case 22:case 23:return gi(s),Zf(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),o=s.updateQueue,o!==null&&zc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&at(oa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei(Qt),St(s),null;case 25:return null}throw Error(i(156,s.tag))}function ZS(r,s){switch($f(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(Qt),kn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return kr(s),null;case 13:if(gi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Tl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(Kt),null;case 4:return kn(),null;case 10:return Ei(s.type),null;case 22:case 23:return gi(s),Zf(),r!==null&&at(oa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei(Qt),null;case 25:return null;default:return null}}function w0(r,s){switch($f(s),s.tag){case 3:Ei(Qt),kn();break;case 26:case 27:case 5:kr(s);break;case 4:kn();break;case 13:gi(s);break;case 19:at(Kt);break;case 10:Ei(s.type);break;case 22:case 23:gi(s),Zf(),r!==null&&at(oa);break;case 24:Ei(Qt)}}var JS={getCacheForType:function(r){var s=mn(Qt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},eA=typeof WeakMap=="function"?WeakMap:Map,At=0,yt=null,Xe=null,it=0,_t=0,$n=null,Ai=!1,ho=!1,Kd=!1,xi=0,Dt=0,ps=0,ga=0,Qd=0,mr=0,fo=0,ql=null,Hr=null,$d=!1,Yd=0,jc=1/0,Fc=null,ms=null,qc=!1,ya=null,Hl=0,Xd=0,Wd=null,Gl=0,Zd=null;function Yn(){if((At&2)!==0&&it!==0)return it&-it;if(k.T!==null){var r=ro;return r!==0?r:ap()}return Yu()}function T0(){mr===0&&(mr=(it&536870912)===0||lt?rl():536870912);var r=hr.current;return r!==null&&(r.flags|=32),mr}function xn(r,s,o){(r===yt&&_t===2||r.cancelPendingCommit!==null)&&(po(r,0),Ri(r,it,mr,!1)),Lt(r,o),((At&2)===0||r!==yt)&&(r===yt&&((At&2)===0&&(ga|=o),Dt===4&&Ri(r,it,mr,!1)),Gr(r))}function b0(r,s,o){if((At&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Fi(r,s),d=u?rA(r,s):np(r,s,!0),g=u;do{if(d===0){ho&&!u&&Ri(r,s,0,!1);break}else if(d===6)Ri(r,s,0,!Ai);else{if(o=r.current.alternate,g&&!tA(o)){d=np(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var I=r;d=ql;var V=I.current.memoizedState.isDehydrated;if(V&&(po(I,S).flags|=256),S=np(I,S,!1),S!==2){if(Kd&&!V){I.errorRecoveryDisabledLanes|=g,ga|=g,d=4;break e}g=Hr,Hr=d,g!==null&&Jd(g)}d=S}if(g=!1,d!==2)continue}}if(d===1){po(r,0),Ri(r,s,0,!0);break}e:{switch(u=r,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Ri(u,s,mr,!Ai);break e}break;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Yd+300-Wt(),10<g)){if(Ri(u,s,mr,!Ai),tr(u,0)!==0)break e;u.timeoutHandle=Q0(S0.bind(null,u,o,Hr,Fc,$d,s,mr,ga,fo,Ai,2,-0,0),g);break e}S0(u,o,Hr,Fc,$d,s,mr,ga,fo,Ai,0,-0,0)}}break}while(!0);Gr(r)}function Jd(r){Hr===null?Hr=r:Hr.push.apply(Hr,r)}function S0(r,s,o,u,d,g,S,I,V,Q,ue,de,te){var oe=s.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:UA},p0(s),s=VA(),s!==null)){r.cancelPendingCommit=s(D0.bind(null,r,o,u,d,S,I,V,1,de,te)),Ri(r,g,S,!Q);return}D0(r,o,u,d,S,I,V,ue,de,te)}function tA(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Gn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(r,s,o,u){s&=~Qd,s&=~ga,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-Be(d),S=1<<g;u[g]=-1,d&=~S}o!==0&&Hi(r,o,s)}function Hc(){return(At&6)===0?(Kl(0),!1):!0}function ep(){if(Xe!==null){if(_t===0)var r=Xe.return;else r=Xe,vi=fa=null,ad(r),to=null,xl=0,r=Xe;for(;r!==null;)w0(r.alternate,r),r=r.return;Xe=null}}function po(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,EA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ep(),yt=r,Xe=o=ds(r.current,null),it=s,_t=0,$n=null,Ai=!1,ho=Fi(r,s),Kd=!1,fo=mr=Qd=ga=ps=Dt=0,Hr=ql=null,$d=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Be(u),g=1<<d;s|=r[d],u&=~g}return xi=s,pc(),o}function A0(r,s){$e=null,k.H=qr,s===Sl?(s=zy(),_t=3):s===Py?(s=zy(),_t=4):_t=s===V_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,Xe===null&&(Dt=1,Mc(r,lr(s,r.current)))}function x0(){var r=k.H;return k.H=qr,r===null?qr:r}function R0(){var r=k.A;return k.A=JS,r}function tp(){Dt=4,Ai||(it&4194176)!==it&&hr.current!==null||(ho=!0),(ps&134217727)===0&&(ga&134217727)===0||yt===null||Ri(yt,it,mr,!1)}function np(r,s,o){var u=At;At|=2;var d=x0(),g=R0();(yt!==r||it!==s)&&(Fc=null,po(r,s)),s=!1;var S=Dt;e:do try{if(_t!==0&&Xe!==null){var I=Xe,V=$n;switch(_t){case 8:ep(),S=6;break e;case 3:case 2:case 6:hr.current===null&&(s=!0);var Q=_t;if(_t=0,$n=null,mo(r,I,V,Q),o&&ho){S=0;break e}break;default:Q=_t,_t=0,$n=null,mo(r,I,V,Q)}}nA(),S=Dt;break}catch(ue){A0(r,ue)}while(!0);return s&&r.shellSuspendCounter++,vi=fa=null,At=u,k.H=d,k.A=g,Xe===null&&(yt=null,it=0,pc()),S}function nA(){for(;Xe!==null;)I0(Xe)}function rA(r,s){var o=At;At|=2;var u=x0(),d=R0();yt!==r||it!==s?(Fc=null,jc=Wt()+500,po(r,s)):ho=Fi(r,s);e:do try{if(_t!==0&&Xe!==null){s=Xe;var g=$n;t:switch(_t){case 1:_t=0,$n=null,mo(r,s,g,1);break;case 2:if(Vy(g)){_t=0,$n=null,C0(s);break}s=function(){_t===2&&yt===r&&(_t=7),Gr(r)},g.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Vy(g)?(_t=0,$n=null,C0(s)):(_t=0,$n=null,mo(r,s,g,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var I=Xe;if(!S||iv(S)){_t=0,$n=null;var V=I.sibling;if(V!==null)Xe=V;else{var Q=I.return;Q!==null?(Xe=Q,Gc(Q)):Xe=null}break t}}_t=0,$n=null,mo(r,s,g,5);break;case 6:_t=0,$n=null,mo(r,s,g,6);break;case 8:ep(),Dt=6;break e;default:throw Error(i(462))}}iA();break}catch(ue){A0(r,ue)}while(!0);return vi=fa=null,k.H=u,k.A=d,At=o,Xe!==null?0:(yt=null,it=0,pc(),Dt)}function iA(){for(;Xe!==null&&!pn();)I0(Xe)}function I0(r){var s=X_(r.alternate,r,xi);r.memoizedProps=r.pendingProps,s===null?Gc(r):Xe=s}function C0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=H_(o,s,s.pendingProps,s.type,void 0,it);break;case 11:s=H_(o,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:ad(s);default:w0(o,s),s=Xe=_0(s,xi),s=X_(o,s,xi)}r.memoizedProps=r.pendingProps,s===null?Gc(r):Xe=s}function mo(r,s,o,u){vi=fa=null,ad(s),to=null,xl=0;var d=s.return;try{if(KS(r,d,s,o,it)){Dt=1,Mc(r,lr(o,r.current)),Xe=null;return}}catch(g){if(d!==null)throw Xe=d,g;Dt=1,Mc(r,lr(o,r.current)),Xe=null;return}s.flags&32768?(lt||u===1?r=!0:ho||(it&536870912)!==0?r=!1:(Ai=r=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),k0(s,r)):Gc(s)}function Gc(r){var s=r;do{if((s.flags&32768)!==0){k0(s,Ai);return}r=s.return;var o=WS(s.alternate,s,xi);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);Dt===0&&(Dt=5)}function k0(r,s){do{var o=ZS(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);Dt=6,Xe=null}function D0(r,s,o,u,d,g,S,I,V,Q){var ue=k.T,de=ve.p;try{ve.p=2,k.T=null,sA(r,s,o,u,de,d,g,S,I,V,Q)}finally{k.T=ue,ve.p=de}}function sA(r,s,o,u,d,g,S,I){do go();while(ya!==null);if((At&6)!==0)throw Error(i(327));var V=r.finishedWork;if(u=r.finishedLanes,V===null)return null;if(r.finishedWork=null,r.finishedLanes=0,V===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Q=V.lanes|V.childLanes;if(Q|=Gf,Qu(r,u,Q,g,S,I),r===yt&&(Xe=yt=null,it=0),(V.subtreeFlags&10256)===0&&(V.flags&10256)===0||qc||(qc=!0,Xd=Q,Wd=o,uA(_,function(){return go(),null})),o=(V.flags&15990)!==0,(V.subtreeFlags&15990)!==0||o?(o=k.T,k.T=null,g=ve.p,ve.p=2,S=At,At|=4,$S(r,V),h0(V,r),CS(pp,r.containerInfo),rh=!!dp,pp=dp=null,r.current=V,o0(r,V.alternate,V),wr(),At=S,ve.p=g,k.T=o):r.current=V,qc?(qc=!1,ya=r,Hl=u):N0(r,Q),Q=r.pendingLanes,Q===0&&(ms=null),tt(V.stateNode),Gr(r),s!==null)for(d=r.onRecoverableError,V=0;V<s.length;V++)Q=s[V],d(Q.value,{componentStack:Q.stack});return(Hl&3)!==0&&go(),Q=r.pendingLanes,(u&4194218)!==0&&(Q&42)!==0?r===Zd?Gl++:(Gl=0,Zd=r):Gl=0,Kl(0),null}function N0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Il(s)))}function go(){if(ya!==null){var r=ya,s=Xd;Xd=0;var o=$u(Hl),u=k.T,d=ve.p;try{if(ve.p=32>o?32:o,k.T=null,ya===null)var g=!1;else{o=Wd,Wd=null;var S=ya,I=Hl;if(ya=null,Hl=0,(At&6)!==0)throw Error(i(331));var V=At;if(At|=4,g0(S.current),d0(S,S.current,I,o),At=V,Kl(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ie,S)}catch{}g=!0}return g}finally{ve.p=d,k.T=u,N0(r,s)}}return!1}function O0(r,s,o){s=lr(o,s),s=Ed(r.stateNode,s,2),r=us(r,s,2),r!==null&&(Lt(r,2),Gr(r))}function gt(r,s,o){if(r.tag===3)O0(r,r,o);else for(;s!==null;){if(s.tag===3){O0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ms===null||!ms.has(u))){r=lr(o,r),o=U_(2),u=us(s,o,2),u!==null&&(P_(o,u,s,r),Lt(u,2),Gr(u));break}}s=s.return}}function rp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new eA;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Kd=!0,d.add(o),r=aA.bind(null,r,s,o),s.then(r,r))}function aA(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,yt===r&&(it&o)===o&&(Dt===4||Dt===3&&(it&62914560)===it&&300>Wt()-Yd?(At&2)===0&&po(r,0):Qd|=o,fo===it&&(fo=0)),Gr(r)}function M0(r,s){s===0&&(s=qi()),r=ts(r,s),r!==null&&(Lt(r,s),Gr(r))}function oA(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),M0(r,o)}function lA(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),M0(r,o)}function uA(r,s){return jn(r,s)}var Kc=null,yo=null,ip=!1,Qc=!1,sp=!1,_a=0;function Gr(r){r!==yo&&r.next===null&&(yo===null?Kc=yo=r:yo=yo.next=r),Qc=!0,ip||(ip=!0,hA(cA))}function Kl(r,s){if(!sp&&Qc){sp=!0;do for(var o=!1,u=Kc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var S=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-Be(42|r)+1)-1,g&=d&~(S&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,P0(u,g))}else g=it,g=tr(u,u===yt?g:0),(g&3)===0||Fi(u,g)||(o=!0,P0(u,g));u=u.next}while(o);sp=!1}}function cA(){Qc=ip=!1;var r=0;_a!==0&&(vA()&&(r=_a),_a=0);for(var s=Wt(),o=null,u=Kc;u!==null;){var d=u.next,g=L0(u,s);g===0?(u.next=null,o===null?Kc=d:o.next=d,d===null&&(yo=o)):(o=u,(r!==0||(g&3)!==0)&&(Qc=!0)),u=d}Kl(r)}function L0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-Be(g),I=1<<S,V=d[S];V===-1?((I&o)===0||(I&u)!==0)&&(d[S]=Ma(I,s)):V<=s&&(r.expiredLanes|=I),g&=~I}if(s=yt,o=it,o=tr(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&_t===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Fn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Fi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Fn(u),$u(o)){case 2:case 8:o=A;break;case 32:o=_;break;case 268435456:o=D;break;default:o=_}return u=U0.bind(null,r),o=jn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Fn(u),r.callbackPriority=2,r.callbackNode=null,2}function U0(r,s){var o=r.callbackNode;if(go()&&r.callbackNode!==o)return null;var u=it;return u=tr(r,r===yt?u:0),u===0?null:(b0(r,u,s),L0(r,Wt()),r.callbackNode!=null&&r.callbackNode===o?U0.bind(null,r):null)}function P0(r,s){if(go())return null;b0(r,s,!0)}function hA(r){wA(function(){(At&6)!==0?jn(ne,r):r()})}function ap(){return _a===0&&(_a=rl()),_a}function V0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mr(""+r)}function B0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function fA(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=V0((d[qt]||null).action),S=u.submitter;S&&(s=(s=S[qt]||null)?V0(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var I=new ja("action","action",null,u,d);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var V=S?B0(d,S):new FormData(d);md(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(I.preventDefault(),V=S?B0(d,S):new FormData(d),md(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var op=0;op<Dy.length;op++){var lp=Dy[op],dA=lp.toLowerCase(),pA=lp[0].toUpperCase()+lp.slice(1);Sr(dA,"on"+pA)}Sr(xy,"onAnimationEnd"),Sr(Ry,"onAnimationIteration"),Sr(Iy,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(DS,"onTransitionRun"),Sr(NS,"onTransitionStart"),Sr(OS,"onTransitionCancel"),Sr(Cy,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function z0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var I=u[S],V=I.instance,Q=I.currentTarget;if(I=I.listener,V!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=Q;try{g(d)}catch(ue){Oc(ue)}d.currentTarget=null,g=V}else for(S=0;S<u.length;S++){if(I=u[S],V=I.instance,Q=I.currentTarget,I=I.listener,V!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=Q;try{g(d)}catch(ue){Oc(ue)}d.currentTarget=null,g=V}}}}function Je(r,s){var o=s[qs];o===void 0&&(o=s[qs]=new Set);var u=r+"__bubble";o.has(u)||(j0(s,r,2,!1),o.add(u))}function up(r,s,o){var u=0;s&&(u|=4),j0(o,r,u,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function cp(r){if(!r[$c]){r[$c]=!0,sl.forEach(function(o){o!=="selectionchange"&&(mA.has(o)||up(o,!1,r),up(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[$c]||(s[$c]=!0,up("selectionchange",!1,s))}}function j0(r,s,o,u){switch(cv(s)){case 2:var d=jA;break;case 8:d=FA;break;default:d=bp}o=d.bind(null,s,o,r),d=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function hp(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var I=u.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(S===4)for(S=u.return;S!==null;){var V=S.tag;if((V===3||V===4)&&(V=S.stateNode.containerInfo,V===d||V.nodeType===8&&V.parentNode===d))return;S=S.return}for(;I!==null;){if(S=br(I),S===null)return;if(V=S.tag,V===5||V===6||V===26||V===27){u=g=S;continue e}I=I.parentNode}}u=u.return}Ju(function(){var Q=g,ue=za(o),de=[];e:{var te=ky.get(r);if(te!==void 0){var oe=ja,Ie=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":oe=Qa;break;case"focusin":Ie="focus",oe=Ha;break;case"focusout":Ie="blur",oe=Ha;break;case"beforeblur":case"afterblur":oe=Ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=oc;break;case xy:case Ry:case Iy:oe=Ga;break;case Cy:oe=uc;break;case"scroll":case"scrollend":oe=ec;break;case"wheel":oe=$a;break;case"copy":case"cut":case"paste":oe=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=yl;break;case"toggle":case"beforetoggle":oe=hc}var je=(s&4)!==0,Nt=!je&&(r==="scroll"||r==="scrollend"),Y=je?te!==null?te+"Capture":null:te;je=[];for(var K=Q,W;K!==null;){var ce=K;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||Y===null||(ce=$s(K,Y),ce!=null&&je.push($l(K,ce,W))),Nt)break;K=K.return}0<je.length&&(te=new oe(te,Ie,null,o,ue),de.push({event:te,listeners:je}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",te&&o!==ir&&(Ie=o.relatedTarget||o.fromElement)&&(br(Ie)||Ie[si]))break e;if((oe||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,oe?(Ie=o.relatedTarget||o.toElement,oe=Q,Ie=Ie?br(Ie):null,Ie!==null&&(Nt=be(Ie),je=Ie.tag,Ie!==Nt||je!==5&&je!==27&&je!==6)&&(Ie=null)):(oe=null,Ie=Q),oe!==Ie)){if(je=ar,ce="onMouseLeave",Y="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(je=yl,ce="onPointerLeave",Y="onPointerEnter",K="pointer"),Nt=oe==null?te:$i(oe),W=Ie==null?te:$i(Ie),te=new je(ce,K+"leave",oe,o,ue),te.target=Nt,te.relatedTarget=W,ce=null,br(ue)===Q&&(je=new je(Y,K+"enter",Ie,o,ue),je.target=W,je.relatedTarget=Nt,ce=je),Nt=ce,oe&&Ie)t:{for(je=oe,Y=Ie,K=0,W=je;W;W=_o(W))K++;for(W=0,ce=Y;ce;ce=_o(ce))W++;for(;0<K-W;)je=_o(je),K--;for(;0<W-K;)Y=_o(Y),W--;for(;K--;){if(je===Y||Y!==null&&je===Y.alternate)break t;je=_o(je),Y=_o(Y)}je=null}else je=null;oe!==null&&F0(de,te,oe,je,!1),Ie!==null&&Nt!==null&&F0(de,Nt,Ie,je,!0)}}e:{if(te=Q?$i(Q):window,oe=te.nodeName&&te.nodeName.toLowerCase(),oe==="select"||oe==="input"&&te.type==="file")var Ae=my;else if(Gt(te))if(gy)Ae=RS;else{Ae=AS;var Ye=SS}else oe=te.nodeName,!oe||oe.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Q&&cl(Q.elementType)&&(Ae=my):Ae=xS;if(Ae&&(Ae=Ae(r,Q))){di(de,Ae,o,ue);break e}Ye&&Ye(r,te,Q),r==="focusout"&&Q&&te.type==="number"&&Q.memoizedProps.value!=null&&Ba(te,"number",te.value)}switch(Ye=Q?$i(Q):window,r){case"focusin":(Gt(Ye)||Ye.contentEditable==="true")&&(Ya=Ye,Ff=Q,El=null);break;case"focusout":El=Ff=Ya=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Sy(de,o,ue);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":Sy(de,o,ue)}var ke;if(Br)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else nt?re(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(T&&o.locale!=="ko"&&(nt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&nt&&(ke=fl()):(Lr=ue,es="value"in Lr?Lr.value:Lr.textContent,nt=!0)),Ye=Yc(Q,Oe),0<Ye.length&&(Oe=new ml(Oe,r,null,o,ue),de.push({event:Oe,listeners:Ye}),ke?Oe.data=ke:(ke=ye(o),ke!==null&&(Oe.data=ke)))),(ke=v?Ht(r,o):rt(r,o))&&(Oe=Yc(Q,"onBeforeInput"),0<Oe.length&&(Ye=new ml("onBeforeInput","beforeinput",null,o,ue),de.push({event:Ye,listeners:Oe}),Ye.data=ke)),fA(de,r,Q,o,ue)}z0(de,s)})}function $l(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Yc(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=$s(r,o),d!=null&&u.unshift($l(r,d,g)),d=$s(r,s),d!=null&&u.push($l(r,d,g))),r=r.return}return u}function _o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function F0(r,s,o,u,d){for(var g=s._reactName,S=[];o!==null&&o!==u;){var I=o,V=I.alternate,Q=I.stateNode;if(I=I.tag,V!==null&&V===u)break;I!==5&&I!==26&&I!==27||Q===null||(V=Q,d?(Q=$s(o,g),Q!=null&&S.unshift($l(o,Q,V))):d||(Q=$s(o,g),Q!=null&&S.push($l(o,Q,V)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function q0(r){return(typeof r=="string"?r:""+r).replace(gA,`
`).replace(yA,"")}function H0(r,s){return s=q0(s),q0(r)===s}function Xc(){}function mt(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":Wi(r,"class",u);break;case"tabIndex":Wi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(r,o,u);break;case"style":Zu(r,u,g);break;case"data":if(s!=="object"){Wi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Mr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&mt(r,s,"name",d.name,d,null),mt(r,s,"formEncType",d.formEncType,d,null),mt(r,s,"formMethod",d.formMethod,d,null),mt(r,s,"formTarget",d.formTarget,d,null)):(mt(r,s,"encType",d.encType,d,null),mt(r,s,"method",d.method,d,null),mt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Mr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Xc);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Mr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Je("beforetoggle",r),Je("toggle",r),Xi(r,"popover",u);break;case"xlinkActuate":nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lf.get(o)||o,Xi(r,o,u))}}function fp(r,s,o,u,d,g){switch(o){case"style":Zu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Xi(r,o,u)}}}function un(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,g,S,o,null)}}d&&mt(r,s,"srcSet",o.srcSet,o,null),u&&mt(r,s,"src",o.src,o,null);return;case"input":Je("invalid",r);var I=g=S=d=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ue=o[u];if(ue!=null)switch(u){case"name":d=ue;break;case"type":S=ue;break;case"checked":V=ue;break;case"defaultChecked":Q=ue;break;case"value":g=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:mt(r,s,u,ue,o,null)}}Ks(r,g,I,V,Q,S,d,!1),Gs(r);return;case"select":Je("invalid",r),u=S=g=null;for(d in o)if(o.hasOwnProperty(d)&&(I=o[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":S=I;break;case"multiple":u=I;default:mt(r,s,d,I,o,null)}s=g,o=S,r.multiple=!!u,s!=null?ot(r,!!u,s,!1):o!=null&&ot(r,!!u,o,!0);return;case"textarea":Je("invalid",r),g=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(I=o[S],I!=null))switch(S){case"value":u=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:mt(r,s,S,I,o,null)}Ji(r,u,d,g),Gs(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(r,s,V,u,o,null)}return;case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(u=0;u<Ql.length;u++)Je(Ql[u],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:mt(r,s,Q,u,o,null)}return;default:if(cl(s)){for(ue in o)o.hasOwnProperty(ue)&&(u=o[ue],u!==void 0&&fp(r,s,ue,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&mt(r,s,I,u,o,null))}function _A(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,S=null,I=null,V=null,Q=null,ue=null;for(oe in o){var de=o[oe];if(o.hasOwnProperty(oe)&&de!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":V=de;default:u.hasOwnProperty(oe)||mt(r,s,oe,null,u,de)}}for(var te in u){var oe=u[te];if(de=o[te],u.hasOwnProperty(te)&&(oe!=null||de!=null))switch(te){case"type":g=oe;break;case"name":d=oe;break;case"checked":Q=oe;break;case"defaultChecked":ue=oe;break;case"value":S=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:oe!==de&&mt(r,s,te,oe,u,de)}}Zi(r,S,I,V,Q,ue,g,d);return;case"select":oe=S=I=te=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":oe=V;default:u.hasOwnProperty(g)||mt(r,s,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":te=g;break;case"defaultValue":I=g;break;case"multiple":S=g;default:g!==V&&mt(r,s,d,g,u,V)}s=I,o=S,u=oe,te!=null?ot(r,!!o,te,!1):!!u!=!!o&&(s!=null?ot(r,!!o,s,!0):ot(r,!!o,o?[]:"",!1));return;case"textarea":oe=te=null;for(I in o)if(d=o[I],o.hasOwnProperty(I)&&d!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:mt(r,s,I,null,u,d)}for(S in u)if(d=u[S],g=o[S],u.hasOwnProperty(S)&&(d!=null||g!=null))switch(S){case"value":te=d;break;case"defaultValue":oe=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&mt(r,s,S,d,u,g)}Qs(r,te,oe);return;case"option":for(var Ie in o)if(te=o[Ie],o.hasOwnProperty(Ie)&&te!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:mt(r,s,Ie,null,u,te)}for(V in u)if(te=u[V],oe=o[V],u.hasOwnProperty(V)&&te!==oe&&(te!=null||oe!=null))switch(V){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:mt(r,s,V,te,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)te=o[je],o.hasOwnProperty(je)&&te!=null&&!u.hasOwnProperty(je)&&mt(r,s,je,null,u,te);for(Q in u)if(te=u[Q],oe=o[Q],u.hasOwnProperty(Q)&&te!==oe&&(te!=null||oe!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:mt(r,s,Q,te,u,oe)}return;default:if(cl(s)){for(var Nt in o)te=o[Nt],o.hasOwnProperty(Nt)&&te!==void 0&&!u.hasOwnProperty(Nt)&&fp(r,s,Nt,void 0,u,te);for(ue in u)te=u[ue],oe=o[ue],!u.hasOwnProperty(ue)||te===oe||te===void 0&&oe===void 0||fp(r,s,ue,te,u,oe);return}}for(var Y in o)te=o[Y],o.hasOwnProperty(Y)&&te!=null&&!u.hasOwnProperty(Y)&&mt(r,s,Y,null,u,te);for(de in u)te=u[de],oe=o[de],!u.hasOwnProperty(de)||te===oe||te==null&&oe==null||mt(r,s,de,te,u,oe)}var dp=null,pp=null;function Wc(r){return r.nodeType===9?r:r.ownerDocument}function G0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function mp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gp=null;function vA(){var r=window.event;return r&&r.type==="popstate"?r===gp?!1:(gp=r,!0):(gp=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(r){return $0.resolve(null).then(r).catch(TA)}:Q0;function TA(r){setTimeout(function(){throw r})}function yp(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){r.removeChild(d),nu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);nu(s)}function _p(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_p(o),Hs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function bA(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Qi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Rr(r.nextSibling),r===null)break}return null}function SA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Rr(r.nextSibling),r===null))return null;return r}function Rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Y0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function X0(r,s,o){switch(s=Wc(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var gr=new Map,W0=new Set;function Zc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ii=ve.d;ve.d={f:AA,r:xA,D:RA,C:IA,L:CA,m:kA,X:NA,S:DA,M:OA};function AA(){var r=Ii.f(),s=Hc();return r||s}function xA(r){var s=ai(r);s!==null&&s.tag===5&&s.type==="form"?S_(s):Ii.r(r)}var vo=typeof document>"u"?null:document;function Z0(r,s,o){var u=vo;if(u&&typeof s=="string"&&s){var d=Ct(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),W0.has(d)||(W0.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),un(s,"link",r),bt(s),u.head.appendChild(s)))}}function RA(r){Ii.D(r),Z0("dns-prefetch",r,null)}function IA(r,s){Ii.C(r,s),Z0("preconnect",r,s)}function CA(r,s,o){Ii.L(r,s,o);var u=vo;if(u&&r&&s){var d='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ct(o.imageSizes)+'"]')):d+='[href="'+Ct(r)+'"]';var g=d;switch(s){case"style":g=Eo(r);break;case"script":g=wo(r)}gr.has(g)||(r=O({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),gr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(Yl(g))||s==="script"&&u.querySelector(Xl(g))||(s=u.createElement("link"),un(s,"link",r),bt(s),u.head.appendChild(s)))}}function kA(r,s){Ii.m(r,s);var o=vo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=wo(r)}if(!gr.has(g)&&(r=O({rel:"modulepreload",href:r},s),gr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xl(g)))return}u=o.createElement("link"),un(u,"link",r),bt(u),o.head.appendChild(u)}}}function DA(r,s,o){Ii.S(r,s,o);var u=vo;if(u&&r){var d=Yi(u).hoistableStyles,g=Eo(r);s=s||"default";var S=d.get(g);if(!S){var I={loading:0,preload:null};if(S=u.querySelector(Yl(g)))I.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":s},o),(o=gr.get(g))&&vp(r,o);var V=S=u.createElement("link");bt(V),un(V,"link",r),V._p=new Promise(function(Q,ue){V.onload=Q,V.onerror=ue}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Jc(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:I},d.set(g,S)}}}function NA(r,s){Ii.X(r,s);var o=vo;if(o&&r){var u=Yi(o).hoistableScripts,d=wo(r),g=u.get(d);g||(g=o.querySelector(Xl(d)),g||(r=O({src:r,async:!0},s),(s=gr.get(d))&&Ep(r,s),g=o.createElement("script"),bt(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function OA(r,s){Ii.M(r,s);var o=vo;if(o&&r){var u=Yi(o).hoistableScripts,d=wo(r),g=u.get(d);g||(g=o.querySelector(Xl(d)),g||(r=O({src:r,async:!0,type:"module"},s),(s=gr.get(d))&&Ep(r,s),g=o.createElement("script"),bt(g),un(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function J0(r,s,o,u){var d=(d=Mt.current)?Zc(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Eo(o.href),o=Yi(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Eo(o.href);var g=Yi(d).hoistableStyles,S=g.get(r);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=d.querySelector(Yl(r)))&&!g._p&&(S.instance=g,S.state.loading=5),gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gr.set(r,o),g||MA(d,r,o,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wo(o),o=Yi(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Eo(r){return'href="'+Ct(r)+'"'}function Yl(r){return'link[rel="stylesheet"]['+r+"]"}function ev(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function MA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),un(s,"link",o),bt(s),r.head.appendChild(s))}function wo(r){return'[src="'+Ct(r)+'"]'}function Xl(r){return"script[async]"+r}function tv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var d=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),un(u,"style",d),Jc(u,o.precedence,r),s.instance=u;case"stylesheet":d=Eo(o.href);var g=r.querySelector(Yl(d));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=ev(o),(d=gr.get(d))&&vp(u,d),g=(r.ownerDocument||r).createElement("link"),bt(g);var S=g;return S._p=new Promise(function(I,V){S.onload=I,S.onerror=V}),un(g,"link",u),s.state.loading|=4,Jc(g,o.precedence,r),s.instance=g;case"script":return g=wo(o.src),(d=r.querySelector(Xl(g)))?(s.instance=d,bt(d),d):(u=o,(d=gr.get(g))&&(u=O({},o),Ep(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),bt(d),un(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Jc(u,o.precedence,r));return s.instance}function Jc(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,S=0;S<u.length;S++){var I=u[S];if(I.dataset.precedence===s)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var eh=null;function nv(r,s,o){if(eh===null){var u=new Map,d=eh=new Map;d.set(o,u)}else d=eh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Qi]||g[Zt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var I=u.get(S);I?I.push(g):u.set(S,[g])}}return u}function rv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function LA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Wl=null;function UA(){}function PA(r,s,o){if(Wl===null)throw Error(i(475));var u=Wl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Eo(o.href),g=r.querySelector(Yl(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=th.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=ev(o),(d=gr.get(d))&&vp(o,d),g=g.createElement("link"),bt(g);var S=g;S._p=new Promise(function(I,V){S.onload=I,S.onerror=V}),un(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=th.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function VA(){if(Wl===null)throw Error(i(475));var r=Wl;return r.stylesheets&&r.count===0&&wp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&wp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nh=null;function wp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nh=new Map,s.forEach(BA,r),nh=null,th.call(r))}function BA(r,s){if(!(s.state.loading&4)){var o=nh.get(r);if(o)var u=o.get(null);else{o=new Map,nh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var S=d[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=s.instance,S=d.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,d),o.set(S,d),this.count++,u=th.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Zl={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function zA(r,s,o,u,d,g,S,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=La(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.hiddenUpdates=La(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function sv(r,s,o,u,d,g,S,I,V,Q,ue,de){return r=new zA(r,s,o,S,I,V,Q,de),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),r.current=g,g.stateNode=r,s=Jf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Od(g),r}function av(r){return r?(r=Za,r):Za}function ov(r,s,o,u,d,g){d=av(d),u.context===null?u.context=d:u.pendingContext=d,u=ls(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=us(r,u,s),o!==null&&(xn(o,r,s),Ll(o,r,s))}function lv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tp(r,s){lv(r,s),(r=r.alternate)&&lv(r,s)}function uv(r){if(r.tag===13){var s=ts(r,67108864);s!==null&&xn(s,r,67108864),Tp(r,67108864)}}var rh=!0;function jA(r,s,o,u){var d=k.T;k.T=null;var g=ve.p;try{ve.p=2,bp(r,s,o,u)}finally{ve.p=g,k.T=d}}function FA(r,s,o,u){var d=k.T;k.T=null;var g=ve.p;try{ve.p=8,bp(r,s,o,u)}finally{ve.p=g,k.T=d}}function bp(r,s,o,u){if(rh){var d=Sp(u);if(d===null)hp(r,s,u,ih,o),hv(r,u);else if(HA(d,r,s,o,u))u.stopPropagation();else if(hv(r,u),s&4&&-1<qA.indexOf(r)){for(;d!==null;){var g=ai(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Tr(g.pendingLanes);if(S!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var V=1<<31-Be(S);I.entanglements[1]|=V,S&=~V}Gr(g),(At&6)===0&&(jc=Wt()+500,Kl(0))}}break;case 13:I=ts(g,2),I!==null&&xn(I,g,2),Hc(),Tp(g,2)}if(g=Sp(u),g===null&&hp(r,s,u,ih,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else hp(r,s,u,null,o)}}function Sp(r){return r=za(r),Ap(r)}var ih=null;function Ap(r){if(ih=null,r=br(r),r!==null){var s=be(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=He(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ih=r,null}function cv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case ne:return 2;case A:return 8;case _:case E:return 32;case D:return 268435456;default:return 32}default:return 32}}var xp=!1,gs=null,ys=null,_s=null,Jl=new Map,eu=new Map,vs=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(r,s){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function tu(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ai(s),s!==null&&uv(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function HA(r,s,o,u,d){switch(s){case"focusin":return gs=tu(gs,r,s,o,u,d),!0;case"dragenter":return ys=tu(ys,r,s,o,u,d),!0;case"mouseover":return _s=tu(_s,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Jl.set(g,tu(Jl.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,eu.set(g,tu(eu.get(g)||null,r,s,o,u,d)),!0}return!1}function fv(r){var s=br(r.target);if(s!==null){var o=be(s);if(o!==null){if(s=o.tag,s===13){if(s=He(o),s!==null){r.blockedOn=s,Ki(r.priority,function(){if(o.tag===13){var u=Yn(),d=ts(o,u);d!==null&&xn(d,o,u),Tp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Sp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ir=u,o.target.dispatchEvent(u),ir=null}else return s=ai(o),s!==null&&uv(s),r.blockedOn=o,!1;s.shift()}return!0}function dv(r,s,o){sh(r)&&o.delete(s)}function GA(){xp=!1,gs!==null&&sh(gs)&&(gs=null),ys!==null&&sh(ys)&&(ys=null),_s!==null&&sh(_s)&&(_s=null),Jl.forEach(dv),eu.forEach(dv)}function ah(r,s){r.blockedOn===s&&(r.blockedOn=null,xp||(xp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GA)))}var oh=null;function pv(r){oh!==r&&(oh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){oh===r&&(oh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Ap(u||o)===null)continue;break}var g=ai(o);g!==null&&(r.splice(s,3),s-=3,md(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function nu(r){function s(V){return ah(V,r)}gs!==null&&ah(gs,r),ys!==null&&ah(ys,r),_s!==null&&ah(_s,r),Jl.forEach(s),eu.forEach(s);for(var o=0;o<vs.length;o++){var u=vs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)fv(o),o.blockedOn===null&&vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],S=d[qt]||null;if(typeof g=="function")S||pv(o);else if(S){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,S=g[qt]||null)I=S.formAction;else if(Ap(d)!==null)continue}else I=S.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),pv(o)}}}function Rp(r){this._internalRoot=r}lh.prototype.render=Rp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Yn();ov(o,u,r,s,null,null)},lh.prototype.unmount=Rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&go(),ov(r.current,2,null,r,null,null),Hc(),s[si]=null}};function lh(r){this._internalRoot=r}lh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<vs.length&&s!==0&&s<vs[o].priority;o++);vs.splice(o,0,r),o===0&&fv(r)}};var mv=e.version;if(mv!=="19.0.0")throw Error(i(527,mv,"19.0.0"));ve.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ae(s),r=r!==null?_e(r):null,r=r===null?null:r.stateNode,r};var KA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:br,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{ie=uh.inject(KA),Re=uh}catch{}}return su.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=N_,g=O_,S=M_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=sv(r,1,!1,null,null,o,u,d,g,S,I,null),r[si]=s.current,cp(r.nodeType===8?r.parentNode:r),new Rp(s)},su.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=N_,S=O_,I=M_,V=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=sv(r,1,!0,s,o??null,u,d,g,S,I,V,Q),s.context=av(null),o=s.current,u=Yn(),d=ls(u),d.callback=null,us(o,d,u),s.current.lanes=u,Lt(s,u),Gr(s),r[si]=s.current,cp(r),new lh(s)},su.version="19.0.0",su}var Cv;function cx(){if(Cv)return Np.exports;Cv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=ux(),Np.exports}var hx=cx();const fx=Cu(hx),dx=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},px=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,w=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,b=m&63;p||(b=64,c||(x=64)),i.push(n[y],n[w],n[x],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):px(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const w=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||w==null)throw new mx;const x=l<<2|h>>4;if(i.push(x),m!==64){const b=h<<4&240|m>>2;if(i.push(b),w!==64){const L=m<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gx=function(t){const e=Fw(t);return qw.encodeByteArray(e,!0)},Oh=function(t){return gx(t).replace(/\./g,"")},Hw=function(t){try{return qw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=()=>yx().__FIREBASE_DEFAULTS__,vx=()=>{if(typeof process>"u"||typeof kv>"u")return;const t=kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ex=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hw(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return dx()||_x()||vx()||Ex()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gw=t=>{var e,n;return(n=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kw=t=>{const e=Gw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Qw=()=>{var t;return(t=rf())===null||t===void 0?void 0:t.config},$w=t=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function bx(){var t;const e=(t=rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function Sx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ax(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rx(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ix(){return!bx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cx(){try{return typeof indexedDB=="object"}catch{return!1}}function kx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Dx,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Nx(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ii(a,h,i)}}function Nx(t,e){return t.replace(Ox,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Ox=/\{\$([^}]+)}/g;function Mx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mi(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Dv(l)&&Dv(c)){if(!Mi(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Dv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Lx(t,e){const n=new Ux(t,e);return n.subscribe.bind(n)}class Ux{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Px(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Px(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new wx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zx(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bx(t){return t===va?void 0:t}function zx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const Fx={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},qx=We.INFO,Hx={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},Gx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=Hx[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=qx,this._logHandler=Gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const Kx=(t,e)=>e.some(n=>t instanceof n);let Nv,Ov;function Qx(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $x(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xw=new WeakMap,um=new WeakMap,Ww=new WeakMap,Pp=new WeakMap,Gm=new WeakMap;function Yx(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Is(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Xw.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function Xx(t){if(um.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ww.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wx(t){cm=t(cm)}function Zx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vp(this),e,...n);return Ww.set(i,e.sort?e.sort():[e]),Is(i)}:$x().includes(t)?function(...e){return t.apply(Vp(this),e),Is(Xw.get(this))}:function(...e){return Is(t.apply(Vp(this),e))}}function Jx(t){return typeof t=="function"?Zx(t):(t instanceof IDBTransaction&&Xx(t),Kx(t,Qx())?new Proxy(t,cm):t)}function Is(t){if(t instanceof IDBRequest)return Yx(t);if(Pp.has(t))return Pp.get(t);const e=Jx(t);return e!==t&&(Pp.set(t,e),Gm.set(e,t)),e}const Vp=t=>Gm.get(t);function eR(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Is(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Is(c.result),p.oldVersion,p.newVersion,Is(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const tR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],Bp=new Map;function Mv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=nR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||tR.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&p.done]))[0]};return Bp.set(e,l),l}Wx(t=>({...t,get:(e,n,i)=>Mv(e,n)||t.get(e,n,i),has:(e,n)=>!!Mv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",Lv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Hm("@firebase/app"),sR="@firebase/app-compat",aR="@firebase/analytics-compat",oR="@firebase/analytics",lR="@firebase/app-check-compat",uR="@firebase/app-check",cR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",dR="@firebase/data-connect",pR="@firebase/database-compat",mR="@firebase/functions",gR="@firebase/functions-compat",yR="@firebase/installations",_R="@firebase/installations-compat",vR="@firebase/messaging",ER="@firebase/messaging-compat",wR="@firebase/performance",TR="@firebase/performance-compat",bR="@firebase/remote-config",SR="@firebase/remote-config-compat",AR="@firebase/storage",xR="@firebase/storage-compat",RR="@firebase/firestore",IR="@firebase/vertexai",CR="@firebase/firestore-compat",kR="firebase",DR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",NR={[hm]:"fire-core",[sR]:"fire-core-compat",[oR]:"fire-analytics",[aR]:"fire-analytics-compat",[uR]:"fire-app-check",[lR]:"fire-app-check-compat",[cR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[dR]:"fire-data-connect",[pR]:"fire-rtdb-compat",[mR]:"fire-fn",[gR]:"fire-fn-compat",[yR]:"fire-iid",[_R]:"fire-iid-compat",[vR]:"fire-fcm",[ER]:"fire-fcm-compat",[wR]:"fire-perf",[TR]:"fire-perf-compat",[bR]:"fire-rc",[SR]:"fire-rc-compat",[AR]:"fire-gcs",[xR]:"fire-gcs-compat",[RR]:"fire-fst",[CR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,OR=new Map,dm=new Map;function Uv(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(dm.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of Mh.values())Uv(n,t);for(const n of OR.values())Uv(n,t);return!0}function sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new ku("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=DR;function Zw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Cs.create("bad-app-name",{appName:String(a)});if(n||(n=Qw()),!n)throw Cs.create("no-options");const l=Mh.get(a);if(l){if(Mi(n,l.options)&&Mi(i,l.config))return l;throw Cs.create("duplicate-app",{appName:a})}const c=new jx(a);for(const p of dm.values())c.addComponent(p);const h=new LR(n,i,c);return Mh.set(a,h),h}function Km(t=fm){const e=Mh.get(t);if(!e&&t===fm&&Qw())return Zw();if(!e)throw Cs.create("no-app",{appName:t});return e}function Xr(t,e,n){var i;let a=(i=NR[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(h.join(" "));return}Sa(new Ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebase-heartbeat-database",PR=1,Tu="firebase-heartbeat-store";let zp=null;function Jw(){return zp||(zp=eR(UR,PR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),zp}async function VR(t){try{const n=(await Jw()).transaction(Tu),i=await n.objectStore(Tu).get(e1(t));return await n.done,i}catch(e){if(e instanceof ii)Li.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function Pv(t,e){try{const i=(await Jw()).transaction(Tu,"readwrite");await i.objectStore(Tu).put(e,e1(t)),await i.done}catch(n){if(n instanceof ii)Li.warn(n.message);else{const i=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(i.message)}}}function e1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1024,zR=30;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>zR){const c=HR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Li.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vv(),{heartbeatsToSend:i,unsentEntries:a}=FR(this._heartbeatsCache.heartbeats),l=Oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Li.warn(n),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function FR(t,e=BR){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Bv(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Bv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cx()?kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Bv(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}function HR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){Sa(new Ns("platform-logger",e=>new rR(e),"PRIVATE")),Sa(new Ns("heartbeat",e=>new jR(e),"PRIVATE")),Xr(hm,Lv,t),Xr(hm,Lv,"esm2017"),Xr("fire-js","")}GR("");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,t1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,M){function k(){}k.prototype=M.prototype,z.D=M.prototype,z.prototype=new k,z.prototype.constructor=z,z.C=function(O,P,j){for(var N=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)N[Ee-2]=arguments[Ee];return M.prototype[P].apply(O,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,M,k){k||(k=0);var O=Array(16);if(typeof M=="string")for(var P=0;16>P;++P)O[P]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(P=0;16>P;++P)O[P]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=z.g[0],k=z.g[1],P=z.g[2];var j=z.g[3],N=M+(j^k&(P^j))+O[0]+3614090360&4294967295;M=k+(N<<7&4294967295|N>>>25),N=j+(P^M&(k^P))+O[1]+3905402710&4294967295,j=M+(N<<12&4294967295|N>>>20),N=P+(k^j&(M^k))+O[2]+606105819&4294967295,P=j+(N<<17&4294967295|N>>>15),N=k+(M^P&(j^M))+O[3]+3250441966&4294967295,k=P+(N<<22&4294967295|N>>>10),N=M+(j^k&(P^j))+O[4]+4118548399&4294967295,M=k+(N<<7&4294967295|N>>>25),N=j+(P^M&(k^P))+O[5]+1200080426&4294967295,j=M+(N<<12&4294967295|N>>>20),N=P+(k^j&(M^k))+O[6]+2821735955&4294967295,P=j+(N<<17&4294967295|N>>>15),N=k+(M^P&(j^M))+O[7]+4249261313&4294967295,k=P+(N<<22&4294967295|N>>>10),N=M+(j^k&(P^j))+O[8]+1770035416&4294967295,M=k+(N<<7&4294967295|N>>>25),N=j+(P^M&(k^P))+O[9]+2336552879&4294967295,j=M+(N<<12&4294967295|N>>>20),N=P+(k^j&(M^k))+O[10]+4294925233&4294967295,P=j+(N<<17&4294967295|N>>>15),N=k+(M^P&(j^M))+O[11]+2304563134&4294967295,k=P+(N<<22&4294967295|N>>>10),N=M+(j^k&(P^j))+O[12]+1804603682&4294967295,M=k+(N<<7&4294967295|N>>>25),N=j+(P^M&(k^P))+O[13]+4254626195&4294967295,j=M+(N<<12&4294967295|N>>>20),N=P+(k^j&(M^k))+O[14]+2792965006&4294967295,P=j+(N<<17&4294967295|N>>>15),N=k+(M^P&(j^M))+O[15]+1236535329&4294967295,k=P+(N<<22&4294967295|N>>>10),N=M+(P^j&(k^P))+O[1]+4129170786&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^P&(M^k))+O[6]+3225465664&4294967295,j=M+(N<<9&4294967295|N>>>23),N=P+(M^k&(j^M))+O[11]+643717713&4294967295,P=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(P^j))+O[0]+3921069994&4294967295,k=P+(N<<20&4294967295|N>>>12),N=M+(P^j&(k^P))+O[5]+3593408605&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^P&(M^k))+O[10]+38016083&4294967295,j=M+(N<<9&4294967295|N>>>23),N=P+(M^k&(j^M))+O[15]+3634488961&4294967295,P=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(P^j))+O[4]+3889429448&4294967295,k=P+(N<<20&4294967295|N>>>12),N=M+(P^j&(k^P))+O[9]+568446438&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^P&(M^k))+O[14]+3275163606&4294967295,j=M+(N<<9&4294967295|N>>>23),N=P+(M^k&(j^M))+O[3]+4107603335&4294967295,P=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(P^j))+O[8]+1163531501&4294967295,k=P+(N<<20&4294967295|N>>>12),N=M+(P^j&(k^P))+O[13]+2850285829&4294967295,M=k+(N<<5&4294967295|N>>>27),N=j+(k^P&(M^k))+O[2]+4243563512&4294967295,j=M+(N<<9&4294967295|N>>>23),N=P+(M^k&(j^M))+O[7]+1735328473&4294967295,P=j+(N<<14&4294967295|N>>>18),N=k+(j^M&(P^j))+O[12]+2368359562&4294967295,k=P+(N<<20&4294967295|N>>>12),N=M+(k^P^j)+O[5]+4294588738&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^P)+O[8]+2272392833&4294967295,j=M+(N<<11&4294967295|N>>>21),N=P+(j^M^k)+O[11]+1839030562&4294967295,P=j+(N<<16&4294967295|N>>>16),N=k+(P^j^M)+O[14]+4259657740&4294967295,k=P+(N<<23&4294967295|N>>>9),N=M+(k^P^j)+O[1]+2763975236&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^P)+O[4]+1272893353&4294967295,j=M+(N<<11&4294967295|N>>>21),N=P+(j^M^k)+O[7]+4139469664&4294967295,P=j+(N<<16&4294967295|N>>>16),N=k+(P^j^M)+O[10]+3200236656&4294967295,k=P+(N<<23&4294967295|N>>>9),N=M+(k^P^j)+O[13]+681279174&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^P)+O[0]+3936430074&4294967295,j=M+(N<<11&4294967295|N>>>21),N=P+(j^M^k)+O[3]+3572445317&4294967295,P=j+(N<<16&4294967295|N>>>16),N=k+(P^j^M)+O[6]+76029189&4294967295,k=P+(N<<23&4294967295|N>>>9),N=M+(k^P^j)+O[9]+3654602809&4294967295,M=k+(N<<4&4294967295|N>>>28),N=j+(M^k^P)+O[12]+3873151461&4294967295,j=M+(N<<11&4294967295|N>>>21),N=P+(j^M^k)+O[15]+530742520&4294967295,P=j+(N<<16&4294967295|N>>>16),N=k+(P^j^M)+O[2]+3299628645&4294967295,k=P+(N<<23&4294967295|N>>>9),N=M+(P^(k|~j))+O[0]+4096336452&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~P))+O[7]+1126891415&4294967295,j=M+(N<<10&4294967295|N>>>22),N=P+(M^(j|~k))+O[14]+2878612391&4294967295,P=j+(N<<15&4294967295|N>>>17),N=k+(j^(P|~M))+O[5]+4237533241&4294967295,k=P+(N<<21&4294967295|N>>>11),N=M+(P^(k|~j))+O[12]+1700485571&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~P))+O[3]+2399980690&4294967295,j=M+(N<<10&4294967295|N>>>22),N=P+(M^(j|~k))+O[10]+4293915773&4294967295,P=j+(N<<15&4294967295|N>>>17),N=k+(j^(P|~M))+O[1]+2240044497&4294967295,k=P+(N<<21&4294967295|N>>>11),N=M+(P^(k|~j))+O[8]+1873313359&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~P))+O[15]+4264355552&4294967295,j=M+(N<<10&4294967295|N>>>22),N=P+(M^(j|~k))+O[6]+2734768916&4294967295,P=j+(N<<15&4294967295|N>>>17),N=k+(j^(P|~M))+O[13]+1309151649&4294967295,k=P+(N<<21&4294967295|N>>>11),N=M+(P^(k|~j))+O[4]+4149444226&4294967295,M=k+(N<<6&4294967295|N>>>26),N=j+(k^(M|~P))+O[11]+3174756917&4294967295,j=M+(N<<10&4294967295|N>>>22),N=P+(M^(j|~k))+O[2]+718787259&4294967295,P=j+(N<<15&4294967295|N>>>17),N=k+(j^(P|~M))+O[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,z.g[2]=z.g[2]+P&4294967295,z.g[3]=z.g[3]+j&4294967295}i.prototype.u=function(z,M){M===void 0&&(M=z.length);for(var k=M-this.blockSize,O=this.B,P=this.h,j=0;j<M;){if(P==0)for(;j<=k;)a(this,z,j),j+=this.blockSize;if(typeof z=="string"){for(;j<M;)if(O[P++]=z.charCodeAt(j++),P==this.blockSize){a(this,O),P=0;break}}else for(;j<M;)if(O[P++]=z[j++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=M},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;var k=8*this.o;for(M=z.length-8;M<z.length;++M)z[M]=k&255,k/=256;for(this.u(z),z=Array(16),M=k=0;4>M;++M)for(var O=0;32>O;O+=8)z[k++]=this.g[M]>>>O&255;return z};function l(z,M){var k=h;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=M(z)}function c(z,M){this.h=M;for(var k=[],O=!0,P=z.length-1;0<=P;P--){var j=z[P]|0;O&&j==M||(k[P]=j,O=!1)}this.g=k}var h={};function p(z){return-128<=z&&128>z?l(z,function(M){return new c([M|0],0>M?-1:0)}):new c([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return w;if(0>z)return q(m(-z));for(var M=[],k=1,O=0;z>=k;O++)M[O]=z/k|0,k*=4294967296;return new c(M,0)}function y(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return q(y(z.substring(1),M));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(M,8)),O=w,P=0;P<z.length;P+=8){var j=Math.min(8,z.length-P),N=parseInt(z.substring(P,P+j),M);8>j?(j=m(Math.pow(M,j)),O=O.j(j).add(m(N))):(O=O.j(k),O=O.add(m(N)))}return O}var w=p(0),x=p(1),b=p(16777216);t=c.prototype,t.m=function(){if(B(this))return-q(this).m();for(var z=0,M=1,k=0;k<this.g.length;k++){var O=this.i(k);z+=(0<=O?O:4294967296+O)*M,M*=4294967296}return z},t.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(L(this))return"0";if(B(this))return"-"+q(this).toString(z);for(var M=m(Math.pow(z,6)),k=this,O="";;){var P=fe(k,M).g;k=H(k,P.j(M));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(z);if(k=P,L(k))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},t.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function L(z){if(z.h!=0)return!1;for(var M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function B(z){return z.h==-1}t.l=function(z){return z=H(this,z),B(z)?-1:L(z)?0:1};function q(z){for(var M=z.g.length,k=[],O=0;O<M;O++)k[O]=~z.g[O];return new c(k,~z.h).add(x)}t.abs=function(){return B(this)?q(this):this},t.add=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0,P=0;P<=M;P++){var j=O+(this.i(P)&65535)+(z.i(P)&65535),N=(j>>>16)+(this.i(P)>>>16)+(z.i(P)>>>16);O=N>>>16,j&=65535,N&=65535,k[P]=N<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function H(z,M){return z.add(q(M))}t.j=function(z){if(L(this)||L(z))return w;if(B(this))return B(z)?q(this).j(q(z)):q(q(this).j(z));if(B(z))return q(this.j(q(z)));if(0>this.l(b)&&0>z.l(b))return m(this.m()*z.m());for(var M=this.g.length+z.g.length,k=[],O=0;O<2*M;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<z.g.length;P++){var j=this.i(O)>>>16,N=this.i(O)&65535,Ee=z.i(P)>>>16,we=z.i(P)&65535;k[2*O+2*P]+=N*we,ee(k,2*O+2*P),k[2*O+2*P+1]+=j*we,ee(k,2*O+2*P+1),k[2*O+2*P+1]+=N*Ee,ee(k,2*O+2*P+1),k[2*O+2*P+2]+=j*Ee,ee(k,2*O+2*P+2)}for(O=0;O<M;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=M;O<2*M;O++)k[O]=0;return new c(k,0)};function ee(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function J(z,M){this.g=z,this.h=M}function fe(z,M){if(L(M))throw Error("division by zero");if(L(z))return new J(w,w);if(B(z))return M=fe(q(z),M),new J(q(M.g),q(M.h));if(B(M))return M=fe(z,q(M)),new J(q(M.g),M.h);if(30<z.g.length){if(B(z)||B(M))throw Error("slowDivide_ only works with positive integers.");for(var k=x,O=M;0>=O.l(z);)k=le(k),O=le(O);var P=$(k,1),j=$(O,1);for(O=$(O,2),k=$(k,2);!L(O);){var N=j.add(O);0>=N.l(z)&&(P=P.add(k),j=N),O=$(O,1),k=$(k,1)}return M=H(z,P.j(M)),new J(P,M)}for(P=w;0<=z.l(M);){for(k=Math.max(1,Math.floor(z.m()/M.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=m(k),N=j.j(M);B(N)||0<N.l(z);)k-=O,j=m(k),N=j.j(M);L(j)&&(j=x),P=P.add(j),z=H(z,N)}return new J(P,z)}t.A=function(z){return fe(this,z).h},t.and=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0;O<M;O++)k[O]=this.i(O)&z.i(O);return new c(k,this.h&z.h)},t.or=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0;O<M;O++)k[O]=this.i(O)|z.i(O);return new c(k,this.h|z.h)},t.xor=function(z){for(var M=Math.max(this.g.length,z.g.length),k=[],O=0;O<M;O++)k[O]=this.i(O)^z.i(O);return new c(k,this.h^z.h)};function le(z){for(var M=z.g.length+1,k=[],O=0;O<M;O++)k[O]=z.i(O)<<1|z.i(O-1)>>>31;return new c(k,z.h)}function $(z,M){var k=M>>5;M%=32;for(var O=z.g.length-k,P=[],j=0;j<O;j++)P[j]=0<M?z.i(j+k)>>>M|z.i(j+k+1)<<32-M:z.i(j+k);return new c(P,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,t1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,ks=c}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n1,uu,r1,Th,pm,i1,s1,a1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)e:{var T=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var X=f[C];if(!(X in T))break e;T=T[X]}f=f[f.length-1],C=T[f],v=v(C),v!=C&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var T=0,C=!1,X={next:function(){if(!C&&T<f.length){var re=T++;return{value:v(re,f[re]),done:!1}}return C=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,T){return f.call.apply(f.bind,arguments)}function w(f,v,T){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,C),f.apply(v,X)}}return function(){return f.apply(v,arguments)}}function x(f,v,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,x.apply(null,arguments)}function b(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function L(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(C,X,re){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return v.prototype[X].apply(C,ye)}}function B(f){const v=f.length;if(0<v){const T=Array(v);for(let C=0;C<v;C++)T[C]=f[C];return T}return[]}function q(f,v){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(p(C)){const X=f.length||0,re=C.length||0;f.length=X+re;for(let ye=0;ye<re;ye++)f[X+ye]=C[ye]}else f.push(C)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function ee(f){return/^[\s\xa0]*$/.test(f)}function J(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function fe(f){return fe[" "](f),f}fe[" "]=function(){};var le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function $(f,v,T){for(const C in f)v.call(T,f[C],C,f)}function z(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function M(f){const v={};for(const T in f)v[T]=f[T];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,v){let T,C;for(let X=1;X<arguments.length;X++){C=arguments[X];for(T in C)f[T]=C[T];for(let re=0;re<k.length;re++)T=k[re],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function P(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function j(f){h.setTimeout(()=>{throw f},0)}function N(){var f=He;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,T){const C=we.get();C.set(v,T),this.h?this.h.next=C:this.g=C,this.h=C}}var we=new H(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,be=!1,He=new Ee,R=()=>{const f=h.Promise.resolve(void 0);Te=()=>{f.then(ae)}};var ae=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(T){j(T)}var v=we;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}be=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return f}();function Ne(f,v){if(U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(le){e:{try{fe(v.nodeName);var X=!0;break e}catch{}X=!1}X||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ne.aa.h.call(this)}}L(Ne,U);var xe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),Le=0;function at(f,v,T,C,X){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!C,this.ha=X,this.key=++Le,this.da=this.fa=!1}function Qe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function It(f){this.src=f,this.g={},this.h=0}It.prototype.add=function(f,v,T,C,X){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var ye=Mt(f,v,C,X);return-1<ye?(v=f[ye],T||(v.fa=!1)):(v=new at(v,this.src,re,!!C,X),v.fa=T,f.push(v)),v};function Cn(f,v){var T=v.type;if(T in f.g){var C=f.g[T],X=Array.prototype.indexOf.call(C,v,void 0),re;(re=0<=X)&&Array.prototype.splice.call(C,X,1),re&&(Qe(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Mt(f,v,T,C){for(var X=0;X<f.length;++X){var re=f[X];if(!re.da&&re.listener==v&&re.capture==!!T&&re.ha==C)return X}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),zn={};function kn(f,v,T,C,X){if(Array.isArray(v)){for(var re=0;re<v.length;re++)kn(f,v[re],T,C,X);return null}return T=Tn(T),f&&f[dt]?f.K(v,T,m(C)?!!C.capture:!1,X):er(f,v,T,!1,C,X)}function er(f,v,T,C,X,re){if(!v)throw Error("Invalid event type");var ye=m(X)?!!X.capture:!!X,nt=wr(f);if(nt||(f[dn]=nt=new It(f)),T=nt.add(v,T,C,ye,re),T.proxy)return T;if(C=kr(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)ve||(X=ye),X===void 0&&(X=!1),f.addEventListener(v.toString(),C,X);else if(f.attachEvent)f.attachEvent(Fn(v.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function kr(){function f(T){return v.call(f.src,f.listener,T)}const v=pn;return f}function Er(f,v,T,C,X){if(Array.isArray(v))for(var re=0;re<v.length;re++)Er(f,v[re],T,C,X);else C=m(C)?!!C.capture:!!C,T=Tn(T),f&&f[dt]?(f=f.i,v=String(v).toString(),v in f.g&&(re=f.g[v],T=Mt(re,T,C,X),-1<T&&(Qe(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete f.g[v],f.h--)))):f&&(f=wr(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Mt(v,T,C,X)),(T=-1<f?v[f]:null)&&jn(T))}function jn(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[dt])Cn(v.i,f);else{var T=f.type,C=f.proxy;v.removeEventListener?v.removeEventListener(T,C,f.capture):v.detachEvent?v.detachEvent(Fn(T),C):v.addListener&&v.removeListener&&v.removeListener(C),(T=wr(v))?(Cn(T,f),T.h==0&&(T.src=null,v[dn]=null)):Qe(f)}}}function Fn(f){return f in zn?zn[f]:zn[f]="on"+f}function pn(f,v){if(f.da)f=!0;else{v=new Ne(v,this);var T=f.listener,C=f.ha||f.src;f.fa&&jn(f),f=T.call(C,v)}return f}function wr(f){return f=f[dn],f instanceof It?f:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(f){return typeof f=="function"?f:(f[Wt]||(f[Wt]=function(v){return f.handleEvent(v)}),f[Wt])}function ne(){_e.call(this),this.i=new It(this),this.M=this,this.F=null}L(ne,_e),ne.prototype[dt]=!0,ne.prototype.removeEventListener=function(f,v,T,C){Er(this,f,v,T,C)};function A(f,v){var T,C=f.F;if(C)for(T=[];C;C=C.F)T.push(C);if(f=f.M,C=v.type||v,typeof v=="string")v=new U(v,f);else if(v instanceof U)v.target=v.target||f;else{var X=v;v=new U(C,f),O(v,X)}if(X=!0,T)for(var re=T.length-1;0<=re;re--){var ye=v.g=T[re];X=_(ye,C,!0,v)&&X}if(ye=v.g=f,X=_(ye,C,!0,v)&&X,X=_(ye,C,!1,v)&&X,T)for(re=0;re<T.length;re++)ye=v.g=T[re],X=_(ye,C,!1,v)&&X}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],C=0;C<T.length;C++)Qe(T[C]);delete f.g[v],f.h--}}this.F=null},ne.prototype.K=function(f,v,T,C){return this.i.add(String(f),v,!1,T,C)},ne.prototype.L=function(f,v,T,C){return this.i.add(String(f),v,!0,T,C)};function _(f,v,T,C){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var X=!0,re=0;re<v.length;++re){var ye=v[re];if(ye&&!ye.da&&ye.capture==T){var nt=ye.listener,Ht=ye.ha||ye.src;ye.fa&&Cn(f.i,ye),X=nt.call(Ht,C)!==!1&&X}}return X&&!C.defaultPrevented}function E(f,v,T){if(typeof f=="function")T&&(f=x(f,T));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function D(f){f.g=E(()=>{f.g=null,f.i&&(f.i=!1,D(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class G extends _e{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:D(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(f){_e.call(this),this.h=f,this.g={}}L(Z,_e);var ie=[];function Re(f){$(f.g,function(v,T){this.g.hasOwnProperty(T)&&jn(v)},f),f.g={}}Z.prototype.N=function(){Z.aa.N.call(this),Re(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=h.JSON.stringify,Me=h.JSON.parse,Be=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function qe(){}qe.prototype.h=null;function Gu(f){return f.h||(f.h=f.i())}function Ku(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){U.call(this,"d")}L(ji,U);function Tr(){U.call(this,"c")}L(Tr,U);var tr={},Fi=null;function Ma(){return Fi=Fi||new ne}tr.La="serverreachability";function rl(f){U.call(this,tr.La,f)}L(rl,U);function qi(f){const v=Ma();A(v,new rl(v))}tr.STAT_EVENT="statevent";function La(f,v){U.call(this,tr.STAT_EVENT,f),this.stat=v}L(La,U);function Lt(f){const v=Ma();A(v,new La(v,f))}tr.Ma="timingevent";function Qu(f,v){U.call(this,tr.Ma,f),this.size=v}L(Qu,U);function Hi(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function $u(f,v,T,C,X,re){f.info(function(){if(f.g)if(re)for(var ye="",nt=re.split("&"),Ht=0;Ht<nt.length;Ht++){var rt=nt[Ht].split("=");if(1<rt.length){var en=rt[0];rt=rt[1];var Gt=en.split("_");ye=2<=Gt.length&&Gt[1]=="type"?ye+(en+"="+rt+"&"):ye+(en+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+C+") [attempt "+X+"]: "+v+`
`+T+`
`+ye})}function Yu(f,v,T,C,X,re,ye){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+X+"]: "+v+`
`+T+`
`+re+" "+ye})}function Ki(f,v,T,C){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zt(f,T)+(C?" "+C:"")})}function Nr(f,v){f.info(function(){return"TIMEOUT: "+v})}Gi.prototype.info=function(){};function Zt(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var C=T[f];if(!(2>C.length)){var X=C[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return tt(T)}catch{return v}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qs;function Ua(){}L(Ua,qe),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},qs=new Ua;function Or(f,v,T,C){this.j=f,this.i=v,this.l=T,this.R=C||1,this.U=new Z(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new il}function il(){this.i=null,this.g="",this.h=!1}var Qi={},Hs={};function br(f,v,T){f.L=1,f.v=Qs(Ct(v)),f.m=T,f.P=!0,ai(f,null)}function ai(f,v){f.F=Date.now(),bt(f),f.A=Ct(f.v);var T=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),ui(T.i,"t",C),f.C=0,T=f.j.J,f.h=new il,f.g=uc(f.j,T?v:null,!f.m),0<f.O&&(f.M=new G(x(f.Y,f,f.g),f.O)),v=f.U,T=f.g,C=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(ie[0]=X.toString()),X=ie);for(var re=0;re<X.length;re++){var ye=kn(T,X[re],C||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?M(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),qi(),$u(f.i,f.u,f.A,f.l,f.R,f.m)}Or.prototype.ca=function(f){f=f.target;const v=this.M;v&&ar(f)==3?v.j():this.Y(f)},Or.prototype.Y=function(f){try{if(f==this.g)e:{const Gt=ar(this.g);var v=this.g.Ba();const di=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||tc(this.g)))){this.J||Gt!=4||v==7||(v==8||0>=di?qi(3):qi(2)),Pa(this);var T=this.g.Z();this.X=T;t:if($i(this)){var C=tc(this.g);f="";var X=C.length,re=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),qn(this);var ye="";break t}this.h.i=new h.TextDecoder}for(v=0;v<X;v++)this.h.h=!0,f+=this.h.i.decode(C[v],{stream:!(re&&v==X-1)});C.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,Yu(this.i,this.u,this.A,this.l,this.R,Gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Ht=this.g;if((nt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(nt)){var rt=nt;break t}}rt=null}if(T=rt)Ki(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,T);else{this.o=!1,this.s=3,Lt(12),Dn(this),qn(this);break e}}if(this.P){T=!0;let an;for(;!this.J&&this.C<ye.length;)if(an=Yi(this,ye),an==Hs){Gt==4&&(this.s=4,Lt(14),T=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Qi){this.s=4,Lt(15),Ki(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else Ki(this.i,this.l,an,null),Hn(this,an);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ye.length!=0||this.h.h||(this.s=1,Lt(16),T=!1),this.o=this.o&&T,!T)Ki(this.i,this.l,ye,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(0<ye.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ea(en),en.M=!0,Lt(11))}}else Ki(this.i,this.l,ye,null),Hn(this,ye);Gt==4&&Dn(this),this.o&&!this.J&&(Gt==4?ac(this.j,this):(this.o=!1,bt(this)))}else Pf(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Dn(this),qn(this)}}}catch{}finally{}};function $i(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Yi(f,v){var T=f.C,C=v.indexOf(`
`,T);return C==-1?Hs:(T=Number(v.substring(T,C)),isNaN(T)?Qi:(C+=1,C+T>v.length?Hs:(v=v.slice(C,C+T),f.C=C+T,v)))}Or.prototype.cancel=function(){this.J=!0,Dn(this)};function bt(f){f.S=Date.now()+f.I,sl(f,f.I)}function sl(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Hi(x(f.ba,f),v)}function Pa(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Or.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Nr(this.i,this.A),this.L!=2&&(qi(),Lt(17)),Dn(this),this.s=2,qn(this)):sl(this,this.S-f)};function qn(f){f.j.G==0||f.J||ac(f.j,f)}function Dn(f){Pa(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Re(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Hn(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||Xi(T.h,f))){if(!f.K&&Xi(T.h,f)&&T.G==3){try{var C=T.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var X=C;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Qa(T),Ga(T);else break e;gl(T),Lt(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=Hi(x(T.Za,T),6e3));if(1>=Xu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fi(T,11)}else if((f.K||T.g==f)&&Qa(T),!ee(v))for(X=T.Da.g.parse(v),v=0;v<X.length;v++){let rt=X[v];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const en=rt[3];en!=null&&(T.la=en,T.j.info("VER="+T.la));const Gt=rt[4];Gt!=null&&(T.Aa=Gt,T.j.info("SVER="+T.Aa));const di=rt[5];di!=null&&typeof di=="number"&&0<di&&(C=1.5*di,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const an=f.g;if(an){const zr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var re=C.h;re.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Wi(re,re.h),re.h=null))}if(C.D){const _l=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(C.ya=_l,ot(C.I,C.D,_l))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var ye=f;if(C.qa=lc(C,C.J?C.ia:null,C.W),ye.K){nr(C.h,ye);var nt=ye,Ht=C.L;Ht&&(nt.I=Ht),nt.B&&(Pa(nt),bt(nt)),C.g=ye}else ic(C);0<T.i.length&&Ka(T)}else rt[0]!="stop"&&rt[0]!="close"||fi(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?fi(T,7):pl(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}qi(4)}catch{}}var Nf=class{constructor(f,v){this.g=f,this.map=v}};function al(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ol(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xu(f){return f.h?1:f.g?f.g.size:0}function Xi(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Wi(f,v){f.g?f.g.add(v):f.h=v}function nr(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}al.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function bn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return B(f.i)}function Wu(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var v=[],T=f.length,C=0;C<T;C++)v.push(f[C]);return v}v=[],T=0;for(C in f)v[T++]=f[C];return v}function Of(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const C in f)v[T++]=C;return v}}}function Gs(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=Of(f),C=Wu(f),X=C.length,re=0;re<X;re++)v.call(void 0,C[re],T&&T[re],f)}var ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var C=f[T].indexOf("="),X=null;if(0<=C){var re=f[T].substring(0,C);X=f[T].substring(C+1)}else re=f[T];v(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function oi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof oi){this.h=f.h,Zi(this,f.j),this.o=f.o,this.g=f.g,Ks(this,f.s),this.l=f.l;var v=f.i,T=new Mr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ba(this,T),this.m=f.m}else f&&(v=String(f).match(ll))?(this.h=!1,Zi(this,v[1]||"",!0),this.o=Ji(v[2]||""),this.g=Ji(v[3]||"",!0),Ks(this,v[4]),this.l=Ji(v[5]||"",!0),Ba(this,v[6]||"",!0),this.m=Ji(v[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}oi.prototype.toString=function(){var f=[],v=this.j;v&&f.push(rr(v,ul,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(rr(v,ul,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(rr(T,T.charAt(0)=="/"?cl:Zu,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",rr(T,Uf)),f.join("")};function Ct(f){return new oi(f)}function Zi(f,v,T){f.j=T?Ji(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Ks(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Ba(f,v,T){v instanceof Mr?(f.i=v,hl(f.i,f.h)):(T||(v=rr(v,Lf)),f.i=new Mr(v,f.h))}function ot(f,v,T){f.i.set(v,T)}function Qs(f){return ot(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ji(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function rr(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Mf),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Mf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ul=/[#\/\?@]/g,Zu=/[#\?:]/g,cl=/[#\?]/g,Lf=/[#\?@]/g,Uf=/#/g;function Mr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function ir(f){f.g||(f.g=new Map,f.h=0,f.i&&Va(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Mr.prototype,t.add=function(f,v){ir(this),this.i=null,f=ci(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function za(f,v){ir(f),v=ci(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function li(f,v){return ir(f),v=ci(f,v),f.g.has(v)}t.forEach=function(f,v){ir(this),this.g.forEach(function(T,C){T.forEach(function(X){f.call(v,X,C,this)},this)},this)},t.na=function(){ir(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let C=0;C<v.length;C++){const X=f[C];for(let re=0;re<X.length;re++)T.push(v[C])}return T},t.V=function(f){ir(this);let v=[];if(typeof f=="string")li(this,f)&&(v=v.concat(this.g.get(ci(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},t.set=function(f,v){return ir(this),this.i=null,f=ci(this,f),li(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function ui(f,v,T){za(f,v),0<T.length&&(f.i=null,f.g.set(ci(f,v),B(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var C=v[T];const re=encodeURIComponent(String(C)),ye=this.V(C);for(C=0;C<ye.length;C++){var X=re;ye[C]!==""&&(X+="="+encodeURIComponent(String(ye[C]))),f.push(X)}}return this.i=f.join("&")};function ci(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function hl(f,v){v&&!f.j&&(ir(f),f.i=null,f.g.forEach(function(T,C){var X=C.toLowerCase();C!=X&&(za(this,C),ui(this,X,T))},f)),f.j=v}function Ju(f,v){const T=new Gi;if(h.Image){const C=new Image;C.onload=b(sr,T,"TestLoadImage: loaded",!0,v,C),C.onerror=b(sr,T,"TestLoadImage: error",!1,v,C),C.onabort=b(sr,T,"TestLoadImage: abort",!1,v,C),C.ontimeout=b(sr,T,"TestLoadImage: timeout",!1,v,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else v(!1)}function $s(f,v){const T=new Gi,C=new AbortController,X=setTimeout(()=>{C.abort(),sr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:C.signal}).then(re=>{clearTimeout(X),re.ok?sr(T,"TestPingServer: ok",!0,v):sr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),sr(T,"TestPingServer: error",!1,v)})}function sr(f,v,T,C,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),C(T)}catch{}}function Ys(){this.g=new Be}function Lr(f,v,T){const C=T||"";try{Gs(f,function(X,re){let ye=X;m(X)&&(ye=tt(X)),v.push(C+re+"="+encodeURIComponent(ye))})}catch(X){throw v.push(C+"type="+encodeURIComponent("_badmap")),X}}function es(f){this.l=f.Ub||null,this.j=f.eb||!1}L(es,qe),es.prototype.g=function(){return new hi(this.l,this.j)},es.prototype.i=function(f){return function(){return f}}({});function hi(f,v){ne.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(hi,ne),t=hi.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Pr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Ur(this):Pr(this),this.readyState==3&&fl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ur(this))},t.Qa=function(f){this.g&&(this.response=f,Ur(this))},t.ga=function(){this.g&&Ur(this)};function Ur(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Pr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function Pr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function dl(f){let v="";return $(f,function(T,C){v+=C,v+=":",v+=T,v+=`\r
`}),v}function Jt(f,v,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=dl(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):ot(f,v,T))}function ht(f){ne.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(ht,ne);var ja=/^https?$/i,Xs=["POST","PUT"];t=ht.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qs.g(),this.v=this.o?Gu(this.o):Gu(qs),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(re){ec(this,re);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var X in C)T.set(X,C[X]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const re of C.keys())T.set(re,C.get(re));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),X=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Xs,v,void 0))||C||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of T)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){ec(this,re)}};function ec(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Fa(f),Vr(f)}function Fa(f){f.A||(f.A=!0,A(f,"complete"),A(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,A(this,"complete"),A(this,"abort"),Vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},t.bb=function(){qa(this)};function qa(f){if(f.h&&typeof c<"u"&&(!f.v[1]||ar(f)!=4||f.Z()!=2)){if(f.u&&ar(f)==4)E(f.Ea,0,f);else if(A(f,"readystatechange"),ar(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var C;if(C=ye===0){var X=String(f.D).match(ll)[1]||null;!X&&h.self&&h.self.location&&(X=h.self.location.protocol.slice(0,-1)),C=!ja.test(X?X.toLowerCase():"")}T=C}if(T)A(f,"complete"),A(f,"success");else{f.m=6;try{var re=2<ar(f)?f.g.statusText:""}catch{re=""}f.l=re+" ["+f.Z()+"]",Fa(f)}}finally{Vr(f)}}}}function Vr(f,v){if(f.g){Ws(f);const T=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||A(f,"ready");try{T.onreadystatechange=C}catch{}}}function Ws(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ar(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Me(v)}};function tc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Pf(f){const v={};f=(f.g&&2<=ar(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(ee(f[C]))continue;var T=P(f[C]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=v[X]||[];v[X]=re,re.push(T)}z(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function Ha(f){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,f),this.cb=Zs("retryDelaySeedMs",1e4,f),this.Wa=Zs("forwardChannelMaxRetries",2,f),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new al(f&&f.concurrentRequestLimit),this.Da=new Ys,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ha.prototype,t.la=8,t.G=1,t.connect=function(f,v,T,C){Lt(0),this.W=f,this.H=v||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=lc(this,null,this.W),Ka(this)};function pl(f){if(nc(f),f.G==3){var v=f.U++,T=Ct(f.I);if(ot(T,"SID",f.K),ot(T,"RID",v),ot(T,"TYPE","terminate"),Js(f,T),v=new Or(f,f.j,v),v.L=2,v.v=Qs(Ct(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bt(v)}oc(f)}function Ga(f){f.g&&(ea(f),f.g.cancel(),f.g=null)}function nc(f){Ga(f),f.u&&(h.clearTimeout(f.u),f.u=null),Qa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ka(f){if(!ol(f.h)&&!f.s){f.s=!0;var v=f.Ga;Te||R(),be||(Te(),be=!0),He.add(v,f),f.B=0}}function Vf(f,v){return Xu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Hi(x(f.Ga,f,v),yl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new Or(this,this.j,f);let re=this.o;if(this.S&&(re?(re=M(re),O(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=rc(this,X,v),T=Ct(this.I),ot(T,"RID",f),ot(T,"CVER",22),this.D&&ot(T,"X-HTTP-Session-Id",this.D),Js(this,T),re&&(this.O?v="headers="+encodeURIComponent(String(dl(re)))+"&"+v:this.m&&Jt(T,this.m,re)),Wi(this.h,X),this.Ua&&ot(T,"TYPE","init"),this.P?(ot(T,"$req",v),ot(T,"SID","null"),X.T=!0,br(X,T,null)):br(X,T,v),this.G=2}}else this.G==3&&(f?ml(this,f):this.i.length==0||ol(this.h)||ml(this))};function ml(f,v){var T;v?T=v.l:T=f.U++;const C=Ct(f.I);ot(C,"SID",f.K),ot(C,"RID",T),ot(C,"AID",f.T),Js(f,C),f.m&&f.o&&Jt(C,f.m,f.o),T=new Or(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=rc(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Wi(f.h,T),br(T,C,v)}function Js(f,v){f.H&&$(f.H,function(T,C){ot(v,C,T)}),f.l&&Gs({},function(T,C){ot(v,C,T)})}function rc(f,v,T){T=Math.min(f.i.length,T);var C=f.l?x(f.l.Na,f.l,f):null;e:{var X=f.i;let re=-1;for(;;){const ye=["count="+T];re==-1?0<T?(re=X[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let nt=!0;for(let Ht=0;Ht<T;Ht++){let rt=X[Ht].g;const en=X[Ht].map;if(rt-=re,0>rt)re=Math.max(0,X[Ht].g-100),nt=!1;else try{Lr(en,ye,"req"+rt+"_")}catch{C&&C(en)}}if(nt){C=ye.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,C}function ic(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Te||R(),be||(Te(),be=!0),He.add(v,f),f.v=0}}function gl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Hi(x(f.Fa,f),yl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Hi(x(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Ga(this),sc(this))};function ea(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function sc(f){f.g=new Or(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Ct(f.qa);ot(v,"RID","rpc"),ot(v,"SID",f.K),ot(v,"AID",f.T),ot(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ot(v,"TO",f.ja),ot(v,"TYPE","xmlhttp"),Js(f,v),f.m&&f.o&&Jt(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Qs(Ct(v)),T.m=null,T.P=!0,ai(T,f)}t.Za=function(){this.C!=null&&(this.C=null,Ga(this),gl(this),Lt(19))};function Qa(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function ac(f,v){var T=null;if(f.g==v){Qa(f),ea(f),f.g=null;var C=2}else if(Xi(f.h,v))T=v.D,nr(f.h,v),C=1;else return;if(f.G!=0){if(v.o)if(C==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var X=f.B;C=Ma(),A(C,new Qu(C,T)),Ka(f)}else ic(f);else if(X=v.s,X==3||X==0&&0<v.X||!(C==1&&Vf(f,v)||C==2&&gl(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),X){case 1:fi(f,5);break;case 4:fi(f,10);break;case 3:fi(f,6);break;default:fi(f,2)}}}function yl(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function fi(f,v){if(f.j.info("Error code "+v),v==2){var T=x(f.fb,f),C=f.Xa;const X=!C;C=new oi(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Zi(C,"https"),Qs(C),X?Ju(C.toString(),T):$s(C.toString(),T)}else Lt(2);f.G=0,f.l&&f.l.sa(v),oc(f),nc(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function oc(f){if(f.G=0,f.ka=[],f.l){const v=bn(f.h);(v.length!=0||f.i.length!=0)&&(q(f.ka,v),q(f.ka,f.i),f.h.i.length=0,B(f.i),f.i.length=0),f.l.ra()}}function lc(f,v,T){var C=T instanceof oi?Ct(T):new oi(T);if(C.g!="")v&&(C.g=v+"."+C.g),Ks(C,C.s);else{var X=h.location;C=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;var re=new oi(null);C&&Zi(re,C),v&&(re.g=v),X&&Ks(re,X),T&&(re.l=T),C=re}return T=f.D,v=f.ya,T&&v&&ot(C,T,v),ot(C,"VER",f.la),Js(f,C),C}function uc(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new ht(new es({eb:T})):new ht(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $a(){}$a.prototype.g=function(f,v){return new Sn(f,v)};function Sn(f,v){ne.call(this),this.g=new Ha(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!ee(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!ee(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Br(this)}L(Sn,ne),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){pl(this.g)},Sn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=tt(f),f=T);v.i.push(new Nf(v.Ya++,f)),v.G==3&&Ka(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Sn.aa.N.call(this)};function hc(f){ji.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}L(hc,ji);function fc(){Tr.call(this),this.status=1}L(fc,Tr);function Br(f){this.g=f}L(Br,cc),Br.prototype.ua=function(){A(this.g,"a")},Br.prototype.ta=function(f){A(this.g,new hc(f))},Br.prototype.sa=function(f){A(this.g,new fc)},Br.prototype.ra=function(){A(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,a1=function(){return new $a},s1=function(){return Ma()},i1=tr,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,Th=qt,si.COMPLETE="complete",r1=si,Ku.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",ne.prototype.listen=ne.prototype.K,uu=Ku,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,n1=ht}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",Fv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Hm("@firebase/firestore");function Ao(){return Aa.logLevel}function Se(t,...e){if(Aa.logLevel<=We.DEBUG){const n=e.map(Qm);Aa.debug(`Firestore (${Qo}): ${t}`,...n)}}function Ui(t,...e){if(Aa.logLevel<=We.ERROR){const n=e.map(Qm);Aa.error(`Firestore (${Qo}): ${t}`,...n)}}function Uo(t,...e){if(Aa.logLevel<=We.WARN){const n=e.map(Qm);Aa.warn(`Firestore (${Qo}): ${t}`,...n)}}function Qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function ft(t,e){t||Ue()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $R{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},h=p=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ni)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new o1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new _n(e)}}class YR{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XR{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new YR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const i=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=ZR(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function et(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-62135596800,Gv=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Gv);return new Yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hv)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Yt(0,0))}static max(){return new ze(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class Qr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ue(),i===void 0?i=e.length-n:i>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Qr.isNumericId(e),a=Qr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Tt extends Qr{construct(e,n,i){return new Tt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const JR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Qr{construct(e,n,i){return new hn(e,n,i)}static isValidIdentifier(e){return JR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new hn([Kv])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ce(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new Ce(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Tt.fromString(e))}static fromName(e){return new De(Tt.fromString(e).popFirst(5))}static empty(){return new De(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function eI(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new Os(a,De.empty(),e)}function tI(t){return new Os(t.readTime,t.key,bu)}class Os{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Os(ze.min(),De.empty(),bu)}static max(){return new Os(ze.max(),De.empty(),bu)}}function nI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==rI)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,i)=>{n(e)})}static reject(e){return new he((n,i)=>{i(e)})}static waitFor(e){return new he((n,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next(a=>a?he.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new he((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(y=>{c[m]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new he((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function sI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function of(t){return t==null}function Lh(t){return t===0&&1/t==-1/0}function aI(t){return typeof t=="number"&&Number.isInteger(t)&&!Lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function oI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qv(e)),e=lI(t.get(n),e);return Qv(e)}function lI(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case u1:n+="";break;default:n+=l}}return n}function Qv(t){return t+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,n,i,a,l){return this}insert(e,n,i){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Xt(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new h1("Invalid base64 string: "+l):l}}(e);return new fn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const uI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(ft(!!t),typeof t=="string"){let e=0;const n=uI.exec(t);if(ft(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",d1="__type__",p1="__previous_value__",m1="__local_write_time__";function Ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[d1])===null||n===void 0?void 0:n.stringValue)===f1}function lf(t){const e=t.mapValue.fields[p1];return Ym(e)?lf(e):e}function Su(t){const e=Ms(t.mapValue.fields[m1].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,i,a,l,c,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}const Uh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",hI="__max__",dh={mapValue:{}},y1="__vector__",Ph="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:dI(t)?9007199254740991:fI(t)?10:11:Ue()}function ei(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ms(a.timestampValue),h=Ms(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),h=Pt(l.doubleValue);return c===h?Lh(c)===Lh(h):isNaN(c)&&isNaN(h)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if($v(c)!==$v(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!ei(c[p],h[p])))return!1;return!0}(t,e);default:return Ue()}}function xu(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Us(t),i=Us(e);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Pt(l.integerValue||l.doubleValue),p=Pt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(t,e);case 3:return Xv(t.timestampValue,e.timestampValue);case 4:return Xv(Su(t),Su(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(l,c){const h=Ls(l),p=Ls(c);return h.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=et(h[m],p[m]);if(y!==0)return y}return et(h.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const h=et(Pt(l.latitude),Pt(c.latitude));return h!==0?h:et(Pt(l.longitude),Pt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wv(t.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,m,y;const w=l.fields||{},x=c.fields||{},b=(h=w[Ph])===null||h===void 0?void 0:h.arrayValue,L=(p=x[Ph])===null||p===void 0?void 0:p.arrayValue,B=et(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0);return B!==0?B:Wv(b,L)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===dh.mapValue&&c===dh.mapValue)return 0;if(l===dh.mapValue)return 1;if(c===dh.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const x=et(p[w],y[w]);if(x!==0)return x;const b=Vo(h[p[w]],m[y[w]]);if(b!==0)return b}return et(p.length,y.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function Xv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ms(t),i=Ms(e),a=et(n.seconds,i.seconds);return a!==0?a:et(n.nanos,i.nanos)}function Wv(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Vo(n[a],i[a]);if(l)return l}return et(n.length,i.length)}function Bo(t){return mm(t)}function mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ms(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=mm(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${mm(n.fields[c])}`;return a+"}"}(t.mapValue):Ue()}function bh(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(t);return e?16+bh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+bh(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Bs(i.fields,(l,c)=>{a+=l.length+bh(c)}),a}(t.mapValue);default:throw Ue()}}function gm(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function Zv(t){return!!t&&"nullValue"in t}function Jv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function fI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[g1])===null||n===void 0?void 0:n.stringValue)===y1}function du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=du(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=hn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=du(c):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Sh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Bs(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Un(du(this.value))}}function _1(t){const e=[];return Bs(t.fields,(n,i)=>{const a=new hn([n]);if(Sh(i)){const l=_1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new vn(e,0,ze.min(),ze.min(),ze.min(),Un.empty(),0)}static newFoundDocument(e,n,i,a){return new vn(e,1,n,ze.min(),i,a,0)}static newNoDocument(e,n){return new vn(e,2,n,ze.min(),ze.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,ze.min(),ze.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=De.comparator(De.fromName(c.referenceValue),n.key):i=Vo(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function pI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class $t extends v1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new gI(e,n,i):n==="array-contains"?new vI(e,i):n==="in"?new EI(e,i):n==="not-in"?new wI(e,i):n==="array-contains-any"?new TI(e,i):new $t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new yI(e,i):new _I(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends v1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ti(e,n)}matches(e){return E1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function E1(t){return t.op==="and"}function w1(t){return mI(t)&&E1(t)}function mI(t){for(const e of t.filters)if(e instanceof ti)return!1;return!0}function ym(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(w1(t))return t.filters.map(e=>ym(e)).join(",");{const e=t.filters.map(n=>ym(n)).join(",");return`${t.op}(${e})`}}function T1(t,e){return t instanceof $t?function(i,a){return a instanceof $t&&i.op===a.op&&i.field.isEqual(a.field)&&ei(i.value,a.value)}(t,e):t instanceof ti?function(i,a){return a instanceof ti&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&T1(c,a.filters[h]),!0):!1}(t,e):void Ue()}function b1(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof ti?function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"}(t):"Filter"}class gI extends $t{constructor(e,n,i){super(e,n,i),this.key=De.fromName(i.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends $t{constructor(e,n){super(e,"in",n),this.keys=S1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _I extends $t{constructor(e,n){super(e,"not-in",n),this.keys=S1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function S1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>De.fromName(i.referenceValue))}class vI extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&xu(n.arrayValue,this.value)}}class EI extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class wI extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class TI extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function nE(t,e=null,n=[],i=[],a=null,l=null,c=null){return new bI(t,e,n,i,a,l,c)}function Wm(t){const e=Fe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ym(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Bo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Bo(i)).join(",")),e.le=n}return e.le}function Zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!T1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function _m(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SI(t,e,n,i,a,l,c,h){return new uf(t,e,n,i,a,l,c,h)}function cf(t){return new uf(t)}function rE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AI(t){return t.collectionGroup!==null}function pu(t){const e=Fe(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Xt(hn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Bh(l,i))}),n.has(hn.keyField().canonicalString())||e.he.push(new Bh(hn.keyField(),i))}return e.he}function Wr(t){const e=Fe(t);return e.Pe||(e.Pe=xI(e,pu(t))),e.Pe}function xI(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Bh(a.field,l)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vm(t,e,n){return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Zm(Wr(t),Wr(e))&&t.limitType===e.limitType}function A1(t){return`${Wm(Wr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>b1(a)).join(", ")}]`),of(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Bo(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Bo(a)).join(",")),`Target(${i})`}(Wr(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):De.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of pu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,h,p){const m=eE(c,h,p);return c.inclusive?m<=0:m<0}(i.startAt,pu(i),a)||i.endAt&&!function(c,h,p){const m=eE(c,h,p);return c.inclusive?m>=0:m>0}(i.endAt,pu(i),a))}(t,e)}function RI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x1(t){return(e,n)=>{let i=!1;for(const a of pu(t)){const l=II(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function II(t,e,n){const i=t.field.isKeyField()?De.comparator(e.key,n.key):function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?Vo(p,m):Ue()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new xt(De.comparator);function Pi(){return CI}const R1=new xt(De.comparator);function cu(...t){let e=R1;for(const n of t)e=e.insert(n.key,n);return e}function I1(t){let e=R1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ea(){return mu()}function C1(){return mu()}function mu(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const kI=new xt(De.comparator),DI=new Xt(De.comparator);function Ze(...t){let e=DI;for(const n of t)e=e.add(n);return e}const NI=new Xt(et);function OI(){return NI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function k1(t){return{integerValue:""+t}}function MI(t,e){return aI(e)?k1(e):Jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function LI(t,e,n){return t instanceof zh?function(a,l){const c={fields:{[d1]:{stringValue:f1},[m1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ym(l)&&(l=lf(l)),l&&(c.fields[p1]=l),{mapValue:c}}(n,e):t instanceof zo?N1(t,e):t instanceof jo?O1(t,e):function(a,l){const c=D1(a,l),h=iE(c)+iE(a.Ie);return gm(c)&&gm(a.Ie)?k1(h):Jm(a.serializer,h)}(t,e)}function UI(t,e,n){return t instanceof zo?N1(t,e):t instanceof jo?O1(t,e):n}function D1(t,e){return t instanceof jh?function(i){return gm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class zh extends df{}class zo extends df{constructor(e){super(),this.elements=e}}function N1(t,e){const n=M1(e);for(const i of t.elements)n.some(a=>ei(a,i))||n.push(i);return{arrayValue:{values:n}}}class jo extends df{constructor(e){super(),this.elements=e}}function O1(t,e){let n=M1(e);for(const i of t.elements)n=n.filter(a=>!ei(a,i));return{arrayValue:{values:n}}}class jh extends df{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iE(t){return Pt(t.integerValue||t.doubleValue)}function M1(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.field=e,this.transform=n}}function PI(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof zo&&a instanceof zo||i instanceof jo&&a instanceof jo?Po(i.elements,a.elements,ei):i instanceof jh&&a instanceof jh?ei(i.Ie,a.Ie):i instanceof zh&&a instanceof zh}(t.transform,e.transform)}class VI{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function U1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eg(t.key,vr.none()):new Nu(t.key,t.data,vr.none());{const n=t.data,i=Un.empty();let a=new Xt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new zs(t.key,i,new Wn(a.toArray()),vr.none())}}function BI(t,e,n){t instanceof Nu?function(a,l,c){const h=a.value.clone(),p=aE(a.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(a,l,c){if(!Ah(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=aE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(P1(a)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,i){return t instanceof Nu?function(l,c,h,p){if(!Ah(l.precondition,c))return h;const m=l.value.clone(),y=oE(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof zs?function(l,c,h,p){if(!Ah(l.precondition,c))return h;const m=oE(l.fieldTransforms,p,c),y=c.data;return y.setAll(P1(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(l,c,h){return Ah(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(t,e,n)}function zI(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=D1(i.transform,a||null);l!=null&&(n===null&&(n=Un.empty()),n.set(i.field,l))}return n||null}function sE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Po(i,a,(l,c)=>PI(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends pf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends pf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function P1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function aE(t,e,n){const i=new Map;ft(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,UI(c,h,n[a]))}return i}function oE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,LI(l,c,e))}return i}class eg extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jI extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&BI(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=C1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const p=U1(c,h);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,i)=>sE(n,i))&&Po(this.baseMutations,e.baseMutations,(n,i)=>sE(n,i))}}class tg{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ft(e.mutations.length===i.length);let a=function(){return kI}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new tg(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,st;function GI(t){switch(t){case pe.OK:return Ue();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ue()}}function V1(t){if(t===void 0)return Ui("GRPC error has no .code"),pe.UNKNOWN;switch(t){case jt.OK:return pe.OK;case jt.CANCELLED:return pe.CANCELLED;case jt.UNKNOWN:return pe.UNKNOWN;case jt.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case jt.INTERNAL:return pe.INTERNAL;case jt.UNAVAILABLE:return pe.UNAVAILABLE;case jt.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case jt.NOT_FOUND:return pe.NOT_FOUND;case jt.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case jt.ABORTED:return pe.ABORTED;case jt.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case jt.DATA_LOSS:return pe.DATA_LOSS;default:return Ue()}}(st=jt||(jt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new ks([4294967295,4294967295],0);function lE(t){const e=KI().encode(t),n=new t1;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([n,i],0),new ks([a,l],0)]}class ng{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ks.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(ks.fromNumber(i)));return a.compare(QI)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=lE(e),[i,a]=uE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ng(l,a,n);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const n=lE(e),[i,a]=uE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mf(ze.min(),a,new xt(et),Pi(),Ze())}}class Ou{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class B1{constructor(e,n){this.targetId=e,this.ge=n}}class z1{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class cE{constructor(){this.pe=0,this.ye=hE(),this.we=fn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ze(),n=Ze(),i=Ze();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ue()}}),new Ou(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=hE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class $I{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=ph(),this.Ke=ph(),this.Ue=new xt(et)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(_m(l))if(i===0){const c=new De(l.path);this.ze(n,c,vn.newNoDocument(c,ze.min()))}else ft(i===1);else{const c=this.et(n);if(c!==i){const h=this.tt(e),p=h?this.nt(h,e,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Ls(i).toUint8Array()}catch(p){if(p instanceof h1)return Uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new ng(c,a,l)}catch(p){return Uo(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&_m(h.target)){const p=new De(h.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,vn.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Ze();this.Ke.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new mf(e,n,this.Ue,this.Qe,i);return this.Qe=Pi(),this.$e=ph(),this.Ke=ph(),this.Ue=new xt(et),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new cE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Xt(et),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ph(){return new xt(De.comparator)}function hE(){return new xt(De.comparator)}const YI={asc:"ASCENDING",desc:"DESCENDING"},XI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WI={and:"AND",or:"OR"};class ZI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||of(e)?e:{value:e}}function Fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JI(t,e){return Fh(t,e.toTimestamp())}function Zr(t){return ft(!!t),ze.fromTimestamp(function(n){const i=Ms(n);return new Yt(i.seconds,i.nanos)}(t))}function rg(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(a){return new Tt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function F1(t){const e=Tt.fromString(t);return ft(Q1(e)),e}function Tm(t,e){return rg(t.databaseId,e.path)}function jp(t,e){const n=F1(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(H1(n))}function q1(t,e){return rg(t.databaseId,e)}function eC(t){const e=F1(t);return e.length===4?Tt.emptyPath():H1(e)}function bm(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H1(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fE(t,e,n){return{name:Tm(t,e),fields:n.value.mapValue.fields}}function tC(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(ft(y===void 0||typeof y=="string"),fn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array),fn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=m.code===void 0?pe.UNKNOWN:V1(m.code);return new Ce(y,m.message||"")}(c);n=new z1(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=jp(t,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):ze.min(),h=new Un({mapValue:{fields:i.document.fields}}),p=vn.newFoundDocument(a,l,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new xh(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=jp(t,i.document),l=i.readTime?Zr(i.readTime):ze.min(),c=vn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new xh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=jp(t,i.document),l=i.removedTargetIds||[];n=new xh([],l,a,null)}else{if(!("filter"in e))return Ue();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new HI(a,l),h=i.targetId;n=new B1(h,c)}}return n}function nC(t,e){let n;if(e instanceof Nu)n={update:fE(t,e.key,e.value)};else if(e instanceof eg)n={delete:Tm(t,e.key)};else if(e instanceof zs)n={update:fE(t,e.key,e.data),updateMask:hC(e.fieldMask)};else{if(!(e instanceof jI))return Ue();n={verify:Tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jh)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw Ue()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:JI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue()}(t,e.precondition)),n}function rC(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(ze.min())&&(c=Zr(l)),new VI(c,a.transformResults||[])}(n,e))):[]}function iC(t,e){return{documents:[q1(t,e.path)]}}function sC(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=q1(t,a);const l=function(m){if(m.length!==0)return K1(ti.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(x){return{field:Ro(x.field),direction:lC(x.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Em(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function aC(t){let e=eC(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ft(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(w){const x=G1(w);return x instanceof ti&&w1(x)?x.getFilters():[x]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(x=>function(L){return new Bh(Io(L.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(x))}(n.orderBy));let h=null;n.limit&&(h=function(w){let x;return x=typeof w=="object"?w.value:w,of(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(w){const x=!!w.before,b=w.values||[];return new Vh(b,x)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const x=!w.before,b=w.values||[];return new Vh(b,x)}(n.endAt)),SI(e,a,c,l,h,"F",p,m)}function oC(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Io(n.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Io(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Io(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(n){return $t.create(Io(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ti.create(n.compositeFilter.filters.map(i=>G1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(t):Ue()}function lC(t){return YI[t]}function uC(t){return XI[t]}function cC(t){return WI[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function Io(t){return hn.fromServerFormat(t.fieldPath)}function K1(t){return t instanceof $t?function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:uC(n.op),value:n.value}}}(t):t instanceof ti?function(n){const i=n.getFilters().map(a=>K1(a));return i.length===1?i[0]:{compositeFilter:{op:cC(n.op),filters:i}}}(t):Ue()}function hC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,i,a,l=ze.min(),c=ze.min(),h=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.Tt=e}}function dC(t){const e=aC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.Tn=new mC}addToCollectionParentIndex(e,n){return this.Tn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Os.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class mC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(Tt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$1=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn($1,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Fo(0)}static Un(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",gC=1048576;function mE([t,e],[n,i]){const a=et(t,n);return a===0?et(e,i):a}class yC{constructor(e){this.Hn=e,this.buffer=new Xt(mE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();mE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _C{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(pE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?Se(pE,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.er(3e5)})}}class vC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return he.resolve(af.ae);const i=new yC(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(dE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,h,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,n))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Ao()<=We.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function EC(t,e){return new vC(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&gu(i.mutation,a,Wn.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ze()){const a=Ea();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=cu();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ze()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{n.set(c,h)})})}computeViews(e,n,i,a){let l=Pi();const c=mu(),h=function(){return mu()}();return n.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof zs)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),gu(y.mutation,m,y.mutation.getFieldMask(),Yt.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var w;return h.set(m,new TC(y,(w=c.get(m))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const i=mu();let a=new xt((c,h)=>c-h),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const h of c)h.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||Wn.empty();y=h.applyToLocalView(m,y),i.set(p,y);const w=(a.get(h.batchId)||Ze()).add(p);a=a.insert(h.batchId,w)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,w=C1();y.forEach(x=>{if(!l.has(x)){const b=U1(n.get(x),i.get(x));b!==null&&w.set(x,b),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):he.resolve(Ea());let h=bu,p=l;return c.next(m=>he.forEach(m,(y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{p=p.insert(y,x)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ze())).next(y=>({batchId:h,changes:I1(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(i=>{let a=cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(e,l).next(h=>he.forEach(h,p=>{const m=function(w,x){return new uf(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((w,x)=>{c=c.insert(w,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,vn.newInvalidDocument(y)))});let h=cu();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&gu(y.mutation,m,Wn.empty(),Yt.now()),ff(n,m)&&(h=h.insert(p,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return he.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:dC(a.bundledQuery),readTime:Zr(a.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.overlays=new xt(De.comparator),this.Rr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ea();return he.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),he.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const a=Ea(),l=n.length+1,c=new De(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Ea(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ea(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=a)););return he.resolve(h)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new qI(n,i));let l=this.Rr.get(n);l===void 0&&(l=Ze(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Vr=new Xt(sn.mr),this.gr=new Xt(sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new sn(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new sn(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new De(new Tt([])),i=new sn(n,e),a=new sn(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new De(new Tt([])),i=new sn(n,e),a=new sn(n,e+1);let l=Ze();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new sn(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class sn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return De.comparator(e.key,n.key)||et(e.Cr,n.Cr)}static pr(e,n){return et(e.Cr,n.Cr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(sn.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FI(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Mr=this.Mr.add(new sn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?$m:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const h=this.Or(c.Cr);l.push(h)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(et);return n.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),he.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;De.isDocumentKey(l)||(l=l.child(""));const c=new sn(new De(l),0);let h=new Xt(et);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(p.Cr)),!0)},c),he.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return he.forEach(n.mutations,a=>{const l=new sn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new sn(n,0),a=this.Mr.firstAfterOrEqual(i);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.kr=e,this.docs=function(){return new xt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=Pi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Pi();const c=n.path,h=new De(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||nI(tI(y),i)<=0||(a.has(y.key)||ff(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ue()}qr(e,n){return he.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new CC(this)}getSize(e){return he.resolve(this.size)}}class CC extends wC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),he.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.persistence=e,this.Qr=new ka(n=>Wm(n),Zm),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ig,this.targetCount=0,this.Ur=Fo.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),he.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.zn(n),he.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new xC,this.referenceDelegate=e(this),this.Hr=new kC(this),this.indexManager=new pC,this.remoteDocumentCache=function(a){return new IC(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new fC(n),this.Yr=new SC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new RC(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){Se("MemoryPersistence","Starting transaction:",e);const a=new DC(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return he.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class DC extends iI{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.ti=new ig,this.ni=null}static ri(e){return new sg(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),he.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,i=>{const a=De.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,ze.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return he.or([()=>he.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.oi=new ka(i=>oI(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=EC(this,n)}static ri(e,n){return new qh(e,n)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return he.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?he.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(h=>{h||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}ar(e,n,i){return he.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Ze(),a=Ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ag(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ix()?8:sI(En())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new NC;return this._s(e,n,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,n,c,h.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Ao()<=We.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(Ao()<=We.DEBUG&&Se("QueryEngine","Query:",xo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Ao()<=We.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):he.resolve())}rs(e,n){if(rE(n))return he.resolve(null);let i=Wr(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vm(n,null,"F"),i=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ze(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(n,h);return this.ls(n,m,c,p.readTime)?this.rs(e,vm(n,null,"F")):this.hs(e,m,n,p)}))})))}ss(e,n,i,a){return rE(n)||a.isEqual(ze.min())?he.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?he.resolve(null):(Ao()<=We.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xo(n)),this.hs(e,c,n,eI(a,bu)).next(h=>h))})}cs(e,n){let i=new Xt(x1(e));return n.forEach((a,l)=>{ff(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Ao()<=We.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ns.getDocumentsMatchingQuery(e,n,Os.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",MC=3e8;class LC{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new xt(et),this.Is=new ka(l=>Wm(l),Zm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function UC(t,e,n,i){return new LC(t,e,n,i)}async function X1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=Ze();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:h}))})})}function PC(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,m,y){const w=m.batch,x=w.keys();let b=he.resolve();return x.forEach(L=>{b=b.next(()=>y.getEntry(p,L)).next(B=>{const q=m.docVersions.get(L);ft(q!==null),B.version.compareTo(q)<0&&(w.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),y.addEntry(B)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(p,w))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ze();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function W1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VC(t,e){const n=Fe(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((y,w)=>{const x=a.get(w);if(!x)return;h.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,w)));let b=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(fn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),a=a.insert(w,b),function(B,q,H){return B.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=MC?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(x,b,y)&&h.push(n.Hr.updateTargetData(l,b))});let p=Pi(),m=Ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(BC(l,c,e.documentUpdates).next(y=>{p=y.Vs,m=y.fs})),!i.isEqual(ze.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(w=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return he.waitFor(h).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function BC(t,e,n){let i=Ze(),a=Ze();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Pi();return n.forEach((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Se(og,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function zC(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jC(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,he.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Sm(t,e,n){const i=Fe(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Yo(c))throw c;Se(og,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function gE(t,e,n){const i=Fe(t);let a=ze.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const w=Fe(p),x=w.Is.get(y);return x!==void 0?he.resolve(w.Ts.get(x)):w.Hr.getTargetData(m,y)}(i,c,Wr(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:ze.min(),n?l:Ze())).next(h=>(FC(i,RI(e),h),{documents:h,gs:l})))}function FC(t,e,n){let i=t.Es.get(e)||ze.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class yE{constructor(){this.activeTargetIds=OI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qC{constructor(){this.ho=new yE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class vE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(_E,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Am(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="RestConnection",GC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Uh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const c=Am(),h=this.So(e,n.toUriEncodedString());Se(Fp,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,h,p,i).then(m=>(Se(Fp,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Uo(Fp,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,n,i,a,l,c){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=GC[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class $C extends KC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Am();return new Promise((c,h)=>{const p=new n1;p.setWithCredentials(!0),p.listenOnce(r1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Th.NO_ERROR:const y=p.getResponseJson();Se(yn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Th.TIMEOUT:Se(yn,`RPC '${e}' ${l} timed out`),h(new Ce(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const w=p.getStatus();if(Se(yn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x==null?void 0:x.error;if(b&&b.status&&b.message){const L=function(q){const H=q.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(H)>=0?H:pe.UNKNOWN}(b.status);h(new Ce(L,b.message))}else h(new Ce(pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ce(pe.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Se(yn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Se(yn,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=Am(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=a1(),h=s1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");Se(yn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const w=c.createWebChannel(y,p);let x=!1,b=!1;const L=new QC({Fo:q=>{b?Se(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(x||(Se(yn,`Opening RPC '${e}' stream ${a} transport.`),w.open(),x=!0),Se(yn,`RPC '${e}' stream ${a} sending:`,q),w.send(q))},Mo:()=>w.close()}),B=(q,H,ee)=>{q.listen(H,J=>{try{ee(J)}catch(fe){setTimeout(()=>{throw fe},0)}})};return B(w,uu.EventType.OPEN,()=>{b||(Se(yn,`RPC '${e}' stream ${a} transport opened.`),L.Qo())}),B(w,uu.EventType.CLOSE,()=>{b||(b=!0,Se(yn,`RPC '${e}' stream ${a} transport closed`),L.Ko())}),B(w,uu.EventType.ERROR,q=>{b||(b=!0,Uo(yn,`RPC '${e}' stream ${a} transport errored:`,q),L.Ko(new Ce(pe.UNAVAILABLE,"The operation could not be completed")))}),B(w,uu.EventType.MESSAGE,q=>{var H;if(!b){const ee=q.data[0];ft(!!ee);const J=ee,fe=(J==null?void 0:J.error)||((H=J[0])===null||H===void 0?void 0:H.error);if(fe){Se(yn,`RPC '${e}' stream ${a} received error:`,fe);const le=fe.status;let $=function(k){const O=jt[k];if(O!==void 0)return V1(O)}(le),z=fe.message;$===void 0&&($=pe.INTERNAL,z="Unknown error status: "+le+" with message "+fe.message),b=!0,L.Ko(new Ce($,z)),w.close()}else Se(yn,`RPC '${e}' stream ${a} received:`,ee),L.Uo(ee)}}),B(h,i1.STAT_EVENT,q=>{q.stat===pm.PROXY?Se(yn,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===pm.NOPROXY&&Se(yn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return new ZI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class J1{constructor(e,n,i,a,l,c,h,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Z1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ce(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Se(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YC extends J1{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=tC(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Zr(c.readTime):ze.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(l,c){let h;const p=c.target;if(h=_m(p)?{documents:iC(l,p)}:{query:sC(l,p).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=j1(l,c.resumeToken);const m=Em(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Fh(l,c.snapshotVersion.toTimestamp());const m=Em(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=oC(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.I_(n)}}class XC extends J1{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=rC(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=bm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>nC(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{}class ZC extends WC{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ce(pe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,wm(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(pe.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,wm(n,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(pe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(n),this.N_=!1):Se("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class ek{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Da(this)&&(Se(xa,"Restarting streams for network reachability change."),await async function(p){const m=Fe(p);m.W_.add(4),await Mu(m),m.j_.set("Unknown"),m.W_.delete(4),await yf(m)}(this))})}),this.j_=new JC(i,a)}}async function yf(t){if(Da(t))for(const e of t.G_)await e(!0)}async function Mu(t){for(const e of t.G_)await e(!1)}function eT(t,e){const n=Fe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),hg(n)?cg(n):Xo(n).c_()&&ug(n,e))}function lg(t,e){const n=Fe(t),i=Xo(n);n.U_.delete(e),i.c_()&&tT(n,e),n.U_.size===0&&(i.c_()?i.P_():Da(n)&&n.j_.set("Unknown"))}function ug(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).y_(e)}function tT(t,e){t.H_.Ne(e),Xo(t).w_(e)}function cg(t){t.H_=new $I({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.j_.B_()}function hg(t){return Da(t)&&!Xo(t).u_()&&t.U_.size>0}function Da(t){return Fe(t).W_.size===0}function nT(t){t.H_=void 0}async function tk(t){t.j_.set("Online")}async function nk(t){t.U_.forEach((e,n)=>{ug(t,e)})}async function rk(t,e){nT(t),hg(t)?(t.j_.q_(e),cg(t)):t.j_.set("Unknown")}async function ik(t,e,n){if(t.j_.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.U_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(i){Se(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Hh(t,i)}else if(e instanceof xh?t.H_.We(e):e instanceof B1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ze.min()))try{const i=await W1(t.localStore);n.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.U_.get(m);y&&l.U_.set(m,y.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,m)=>{const y=l.U_.get(p);if(!y)return;l.U_.set(p,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),tT(l,p);const w=new Rs(y.target,p,m,y.sequenceNumber);ug(l,w)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){Se(xa,"Failed to raise snapshot:",i),await Hh(t,i)}}async function Hh(t,e,n){if(!Yo(e))throw e;t.W_.add(1),await Mu(t),t.j_.set("Offline"),n||(n=()=>W1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se(xa,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await yf(t)})}function rT(t,e){return e().catch(n=>Hh(t,n,e))}async function _f(t){const e=Fe(t),n=Ps(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:$m;for(;sk(e);)try{const a=await zC(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,ak(e,a)}catch(a){await Hh(e,a)}iT(e)&&sT(e)}function sk(t){return Da(t)&&t.K_.length<10}function ak(t,e){t.K_.push(e);const n=Ps(t);n.c_()&&n.b_&&n.S_(e.mutations)}function iT(t){return Da(t)&&!Ps(t).u_()&&t.K_.length>0}function sT(t){Ps(t).start()}async function ok(t){Ps(t).C_()}async function lk(t){const e=Ps(t);for(const n of t.K_)e.S_(n.mutations)}async function uk(t,e,n){const i=t.K_.shift(),a=tg.from(i,e,n);await rT(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await _f(t)}async function ck(t,e){e&&Ps(t).b_&&await async function(i,a){if(function(c){return GI(c)&&c!==pe.ABORTED}(a.code)){const l=i.K_.shift();Ps(i).h_(),await rT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await _f(i)}}(t,e),iT(t)&&sT(t)}async function wE(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Se(xa,"RemoteStore received new credentials");const i=Da(n);n.W_.add(3),await Mu(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await yf(n)}async function hk(t,e){const n=Fe(t);e?(n.W_.delete(2),await yf(n)):e||(n.W_.add(2),await Mu(n),n.j_.set("Unknown"))}function Xo(t){return t.J_||(t.J_=function(n,i,a){const l=Fe(n);return l.M_(),new YC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:tk.bind(null,t),No:nk.bind(null,t),Lo:rk.bind(null,t),p_:ik.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),hg(t)?cg(t):t.j_.set("Unknown")):(await t.J_.stop(),nT(t))})),t.J_}function Ps(t){return t.Y_||(t.Y_=function(n,i,a){const l=Fe(n);return l.M_(),new XC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:ok.bind(null,t),Lo:ck.bind(null,t),D_:lk.bind(null,t),v_:uk.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await _f(t)):(await t.Y_.stop(),t.K_.length>0&&(Se(xa,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new fg(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),Yo(t))return new Ce(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||De.comparator(n.key,i.key):(n,i)=>De.comparator(n.key,i.key),this.keyedMap=cu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.Z_=new xt(De.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class qo{constructor(e,n,i,a,l,c,h,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(h=>{c.push({type:0,doc:h})}),new qo(e,n,ko.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dk{constructor(){this.queries=bE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Fe(n),l=a.queries;a.queries=bE(),l.forEach((c,h)=>{for(const p of h.ta)p.onError(i)})})(this,new Ce(pe.ABORTED,"Firestore shutting down"))}}function bE(){return new ka(t=>A1(t),hf)}async function pg(t,e){const n=Fe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new fk,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=dg(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&gg(n)}async function mg(t,e){const n=Fe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function pk(t,e){const n=Fe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ta)h.oa(a)&&(i=!0);c.ea=a}}i&&gg(n)}function mk(t,e,n){const i=Fe(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function gg(t){t.ia.forEach(e=>{e.next()})}var xm,SE;(SE=xm||(xm={}))._a="default",SE.Cache="cache";class yg{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class gk{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ze(),this.mutatedKeys=Ze(),this.ya=x1(e),this.wa=new ko(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new TE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,w)=>{const x=a.get(y),b=ff(this.query,w)?w:null,L=!!x&&this.mutatedKeys.has(x.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let q=!1;x&&b?x.data.isEqual(b.data)?L!==B&&(i.track({type:3,doc:b}),q=!0):this.va(x,b)||(i.track({type:2,doc:b}),q=!0,(p&&this.ya(b,p)>0||m&&this.ya(b,m)<0)&&(h=!0)):!x&&b?(i.track({type:0,doc:b}),q=!0):x&&!b&&(i.track({type:1,doc:x}),q=!0,(p||m)&&(h=!0)),q&&(b?(c=c.add(b),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,w)=>function(b,L){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return B(b)-B(L)}(y.type,w.type)||this.ya(y.doc,w.doc)),this.Ca(i),a=a!=null&&a;const h=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new qo(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new TE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new oT(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new aT(i))}),n}Oa(e){this.fa=e.gs,this.pa=Ze();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return qo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _g="SyncEngine";class yk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class _k{constructor(e){this.key=e,this.Ba=!1}}class vk{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ka(h=>A1(h),hf),this.qa=new Map,this.Qa=new Set,this.$a=new xt(De.comparator),this.Ka=new Map,this.Ua=new ig,this.Wa={},this.Ga=new Map,this.za=Fo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ek(t,e,n=!0){const i=dT(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await lT(i,e,n,!0),a}async function wk(t,e){const n=dT(t);await lT(n,e,!0,!1)}async function lT(t,e,n,i){const a=await jC(t.localStore,Wr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await Tk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&eT(t.remoteStore,a),h}async function Tk(t,e,n,i,a){t.Ha=(w,x,b)=>async function(B,q,H,ee){let J=q.view.Sa(H);J.ls&&(J=await gE(B.localStore,q.query,!1).then(({documents:z})=>q.view.Sa(z,J)));const fe=ee&&ee.targetChanges.get(q.targetId),le=ee&&ee.targetMismatches.get(q.targetId)!=null,$=q.view.applyChanges(J,B.isPrimaryClient,fe,le);return xE(B,q.targetId,$.Ma),$.snapshot}(t,w,x,b);const l=await gE(t.localStore,e,!0),c=new gk(e,l.gs),h=c.Sa(l.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,p);xE(t,n,m.Ma);const y=new yk(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function bk(t,e,n){const i=Fe(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!hf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Sm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&lg(i.remoteStore,a.targetId),Rm(i,a.targetId)}).catch($o)):(Rm(i,a.targetId),await Sm(i.localStore,a.targetId,!0))}async function Sk(t,e){const n=Fe(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lg(n.remoteStore,i.targetId))}async function Ak(t,e,n){const i=Nk(t);try{const a=await function(c,h){const p=Fe(c),m=Yt.now(),y=h.reduce((b,L)=>b.add(L.key),Ze());let w,x;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let L=Pi(),B=Ze();return p.ds.getEntries(b,y).next(q=>{L=q,L.forEach((H,ee)=>{ee.isValidDocument()||(B=B.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,L)).next(q=>{w=q;const H=[];for(const ee of h){const J=zI(ee,w.get(ee.key).overlayedDocument);J!=null&&H.push(new zs(ee.key,J,_1(J.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,H,h)}).next(q=>{x=q;const H=q.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(b,q.batchId,H)})}).then(()=>({batchId:x.batchId,changes:I1(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new xt(et)),m=m.insert(h,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await Lu(i,a.changes),await _f(i.remoteStore)}catch(a){const l=dg(a,"Failed to persist write");n.reject(l)}}async function uT(t,e){const n=Fe(t);try{const i=await VC(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?ft(c.Ba):a.removedDocuments.size>0&&(ft(c.Ba),c.Ba=!1))}),await Lu(n,i,e)}catch(i){await $o(i)}}function AE(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const p=Fe(c);p.onlineState=h;let m=!1;p.queries.forEach((y,w)=>{for(const x of w.ta)x.sa(h)&&(m=!0)}),m&&gg(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xk(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new xt(De.comparator);c=c.insert(l,vn.newNoDocument(l,ze.min()));const h=Ze().add(l),p=new mf(ze.min(),new Map,new xt(et),c,h);await uT(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),vg(i)}else await Sm(i.localStore,e,!1).then(()=>Rm(i,e,n)).catch($o)}async function Rk(t,e){const n=Fe(t),i=e.batch.batchId;try{const a=await PC(n.localStore,e);hT(n,i,null),cT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Lu(n,a)}catch(a){await $o(a)}}async function Ik(t,e,n){const i=Fe(t);try{const a=await function(c,h){const p=Fe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next(w=>(ft(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);hT(i,e,n),cT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Lu(i,a)}catch(a){await $o(a)}}function cT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function hT(t,e,n){const i=Fe(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||fT(t,i)})}function fT(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(lg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),vg(t))}function xE(t,e,n){for(const i of n)i instanceof aT?(t.Ua.addReference(i.key,e),Ck(t,i)):i instanceof oT?(Se(_g,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||fT(t,i.key)):Ue()}function Ck(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(Se(_g,"New document in limbo: "+n),t.Qa.add(i),vg(t))}function vg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new De(Tt.fromString(e)),i=t.za.next();t.Ka.set(i,new _k(n)),t.$a=t.$a.insert(n,i),eT(t.remoteStore,new Rs(Wr(cf(n.path)),i,"TargetPurposeLimboResolution",af.ae))}}async function Lu(t,e,n){const i=Fe(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,p)=>{c.push(i.Ha(p,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){a.push(m);const w=ag.Yi(p.targetId,m);l.push(w)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const y=Fe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>he.forEach(m,x=>he.forEach(x.Hi,b=>y.persistence.referenceDelegate.addReference(w,x.targetId,b)).next(()=>he.forEach(x.Ji,b=>y.persistence.referenceDelegate.removeReference(w,x.targetId,b)))))}catch(w){if(!Yo(w))throw w;Se(og,"Failed to update sequence numbers: "+w)}for(const w of m){const x=w.targetId;if(!w.fromCache){const b=y.Ts.get(x),L=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(L);y.Ts=y.Ts.insert(x,B)}}}(i.localStore,l))}async function kk(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Se(_g,"User change. New user:",e.toKey());const i=await X1(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(p=>{p.reject(new Ce(pe.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lu(n,i.Rs)}}function Dk(t,e){const n=Fe(t),i=n.Ka.get(e);if(i&&i.Ba)return Ze().add(i.key);{let a=Ze();const l=n.qa.get(e);if(!l)return a;for(const c of l){const h=n.ka.get(c);a=a.unionWith(h.view.ba)}return a}}function dT(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xk.bind(null,e),e.La.p_=pk.bind(null,e.eventManager),e.La.Ja=mk.bind(null,e.eventManager),e}function Nk(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ik.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return UC(this.persistence,new OC,e.initialUser,this.serializer)}Xa(e){return new Y1(sg.ri,this.serializer)}Za(e){return new qC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class Ok extends Gh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof qh);const i=this.persistence.referenceDelegate.garbageCollector;return new _C(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Y1(i=>qh.ri(i,n),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kk.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dk}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),i=function(l){return new $C(l)}(e.databaseInfo);return function(l,c,h,p){return new ZC(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,h){return new ek(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,n=>AE(this.syncEngine,n,0),function(){return vE.D()?new vE:new HC}())}createSyncEngine(e,n){return function(a,l,c,h,p,m,y){const w=new vk(a,l,c,h,p,m);return y&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Fe(a);Se(xa,"RemoteStore shutting down."),l.W_.add(5),await Mu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class Mk{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=l1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Se(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Se(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),Se(Vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await X1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lk(t);Se(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>wE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>wE(e.remoteStore,a)),t._onlineComponents=e}async function Lk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(Vs,"Using user provided OfflineComponentProvider");try{await Hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Hp(t,new Gh)}}else Se(Vs,"Using default OfflineComponentProvider"),await Hp(t,new Ok(void 0));return t._offlineComponents}async function pT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(Vs,"Using user provided OnlineComponentProvider"),await RE(t,t._uninitializedComponentsProvider._online)):(Se(Vs,"Using default OnlineComponentProvider"),await RE(t,new Im))),t._onlineComponents}function Uk(t){return pT(t).then(e=>e.syncEngine)}async function Kh(t){const e=await pT(t),n=e.eventManager;return n.onListen=Ek.bind(null,e.syncEngine),n.onUnlisten=bk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sk.bind(null,e.syncEngine),n}function Pk(t,e,n={}){const i=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,m){const y=new Eg({next:x=>{y.su(),c.enqueueAndForget(()=>mg(l,w));const b=x.docs.has(h);!b&&x.fromCache?m.reject(new Ce(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&p&&p.source==="server"?m.reject(new Ce(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),w=new yg(cf(h.path),y,{includeMetadataChanges:!0,Ta:!0});return pg(l,w)}(await Kh(t),t.asyncQueue,e,n,i)),i.promise}function Vk(t,e,n={}){const i=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,m){const y=new Eg({next:x=>{y.su(),c.enqueueAndForget(()=>mg(l,w)),x.fromCache&&p.source==="server"?m.reject(new Ce(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),w=new yg(h,y,{includeMetadataChanges:!0,Ta:!0});return pg(l,w)}(await Kh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e,n){if(!n)throw new Ce(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bk(t,e,n,i){if(e===!0&&i===!0)throw new Ce(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CE(t){if(!De.isDocumentKey(t))throw new Ce(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kE(t){if(De.isDocumentKey(t))throw new Ce(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(t);throw new Ce(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firestore.googleapis.com",DE=!0;class NE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=DE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gC)throw new Ce(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new KR;switch(i.type){case"firstParty":return new XR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=IE.get(n);i&&(Se("ComponentProvider","Removing Datastore"),IE.delete(n),i.terminate())}(this),Promise.resolve()}}function zk(t,e,n,i={}){var a;const l=(t=Pn(t,vf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;l.host!==yT&&l.host!==h&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!Mi(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=_n.MOCK_USER;else{m=Yw(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Ce(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(w)}t._authCredentials=new QR(new o1(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class In{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ds extends Uu{constructor(e,n,i){super(e,n,cf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new De(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Tg(t,e,...n){if(t=Ot(t),gT("collection","path",e),t instanceof vf){const i=Tt.fromString(e,...n);return kE(i),new Ds(t,null,i)}{if(!(t instanceof In||t instanceof Ds))throw new Ce(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tt.fromString(e,...n));return kE(i),new Ds(t.firestore,null,i)}}function js(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=l1.newId()),gT("doc","path",e),t instanceof vf){const i=Tt.fromString(e,...n);return CE(i),new In(t,null,new De(i))}{if(!(t instanceof In||t instanceof Ds))throw new Ce(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Tt.fromString(e,...n));return CE(i),new In(t.firestore,t instanceof Ds?t.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Z1(this,"async_queue_retry"),this.bu=()=>{const i=qp();i&&Se(OE,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Yo(e))throw e;Se(OE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Ui("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=fg.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function LE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends vf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new ME,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function jk(t,e){const n=typeof t=="object"?t:Km(),i=typeof t=="string"?t:Uh,a=sf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Kw("firestore");l&&zk(a,...l)}return a}function Ef(t){if(t._terminated)throw new Ce(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Fk(t),t._firestoreClient}function Fk(t){var e,n,i;const a=t._freezeSettings(),l=function(h,p,m,y){return new cI(h,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,mT(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Mk(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(fn.fromBase64String(e))}catch(n){throw new Ce(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^__.*__$/;class Hk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class _T{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Tf{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(vT(this.Lu)&&qk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||gf(e)}ju(e,n,i,a=!1){return new Tf({Lu:e,methodName:n,zu:i,path:hn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(t){const e=t._freezeSettings(),n=gf(t._databaseId);return new Gk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ET(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Ig("Data must be an object, but it was:",c,i);const h=TT(i,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const x=Cm(e,w,n);if(!c.contains(x))throw new Ce(pe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ST(y,x)||y.push(x)}p=new Wn(y),m=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=c.fieldTransforms;return new Hk(new Un(h),p,m)}class bf extends Pu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function wT(t,e,n){return new Tf({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xg extends Pu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=wT(this,e,!0),i=this.Hu.map(l=>Wo(l,n)),a=new zo(i);return new L1(e.path,a)}isEqual(e){return e instanceof xg&&Mi(this.Hu,e.Hu)}}class Rg extends Pu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=wT(this,e,!0),i=this.Hu.map(l=>Wo(l,n)),a=new jo(i);return new L1(e.path,a)}isEqual(e){return e instanceof Rg&&Mi(this.Hu,e.Hu)}}function Kk(t,e,n,i){const a=t.ju(1,e,n);Ig("Data must be an object, but it was:",a,i);const l=[],c=Un.empty();Bs(i,(p,m)=>{const y=Cg(e,p,n);m=Ot(m);const w=a.Ku(y);if(m instanceof bf)l.push(y);else{const x=Wo(m,w);x!=null&&(l.push(y),c.set(y,x))}});const h=new Wn(l);return new _T(c,h,a.fieldTransforms)}function Qk(t,e,n,i,a,l){const c=t.ju(1,e,n),h=[Cm(e,i,n)],p=[a];if(l.length%2!=0)throw new Ce(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(Cm(e,l[x])),p.push(l[x+1]);const m=[],y=Un.empty();for(let x=h.length-1;x>=0;--x)if(!ST(m,h[x])){const b=h[x];let L=p[x];L=Ot(L);const B=c.Ku(b);if(L instanceof bf)m.push(b);else{const q=Wo(L,B);q!=null&&(m.push(b),y.set(b,q))}}const w=new Wn(m);return new _T(y,w,c.fieldTransforms)}function Wo(t,e){if(bT(t=Ot(t)))return Ig("Unsupported field value:",e,t),TT(t,e);if(t instanceof Pu)return function(i,a){if(!vT(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let p=Wo(h,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Yt.fromDate(i);return{timestampValue:Fh(a.serializer,l)}}if(i instanceof Yt){const l=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fh(a.serializer,l)}}if(i instanceof bg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:j1(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Sg)return function(c,h){return{mapValue:{fields:{[g1]:{stringValue:y1},[Ph]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return Jm(h.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${wg(i)}`)}(t,e)}function TT(t,e){const n={};return c1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(i,a)=>{const l=Wo(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function bT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof bg||t instanceof Ho||t instanceof In||t instanceof Pu||t instanceof Sg)}function Ig(t,e,n){if(!bT(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=wg(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Cm(t,e,n){if((e=Ot(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Cg(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const $k=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search($k)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ce(pe.INVALID_ARGUMENT,h+t+p)}function ST(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yk extends AT{data(){return super.data()}}function xT(t,e){return typeof e=="string"?Cg(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xk{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Bs(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Pt(c.doubleValue));return new Sg(l)}convertGeoPoint(e){return new bg(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=lf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Tt.fromString(e);ft(Q1(i));const a=new Au(i.get(1),i.get(3)),l=new De(i.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CT extends AT{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(xT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Rh extends CT{data(e={}){return super.data(e)}}class kT{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new fu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Rh(this._firestore,this._userDataWriter,i.key,i,new fu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const p=new Rh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new fu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new Rh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new fu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:Wk(h.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){t=Pn(t,In);const e=Pn(t.firestore,Vi);return Pk(Ef(e),t._key).then(n=>NT(e,t,n))}class kg extends Xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Jk(t){t=Pn(t,Uu);const e=Pn(t.firestore,Vi),n=Ef(e),i=new kg(e);return RT(t._query),Vk(n,t._query).then(a=>new kT(e,i,t,a))}function DT(t,e,n){t=Pn(t,In);const i=Pn(t.firestore,Vi),a=IT(t.converter,e,n);return Sf(i,[ET(Ag(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,vr.none())])}function Dg(t,e,n,...i){t=Pn(t,In);const a=Pn(t.firestore,Vi),l=Ag(a);let c;return c=typeof(e=Ot(e))=="string"||e instanceof wf?Qk(l,"updateDoc",t._key,e,n,i):Kk(l,"updateDoc",t._key,e),Sf(a,[c.toMutation(t._key,vr.exists(!0))])}function eD(t){return Sf(Pn(t.firestore,Vi),[new eg(t._key,vr.none())])}function tD(t,e){const n=Pn(t.firestore,Vi),i=js(t),a=IT(t.converter,e);return Sf(n,[ET(Ag(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,vr.exists(!1))]).then(()=>i)}function nD(t,...e){var n,i,a;t=Ot(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||LE(e[c])||(l=e[c],c++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(LE(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[c+2]=(a=w.complete)===null||a===void 0?void 0:a.bind(w)}let p,m,y;if(t instanceof In)m=Pn(t.firestore,Vi),y=cf(t._key.path),p={next:w=>{e[c]&&e[c](NT(m,t,w))},error:e[c+1],complete:e[c+2]};else{const w=Pn(t,Uu);m=Pn(w.firestore,Vi),y=w._query;const x=new kg(m);p={next:b=>{e[c]&&e[c](new kT(m,x,w,b))},error:e[c+1],complete:e[c+2]},RT(t._query)}return function(x,b,L,B){const q=new Eg(B),H=new yg(b,q,L);return x.asyncQueue.enqueueAndForget(async()=>pg(await Kh(x),H)),()=>{q.su(),x.asyncQueue.enqueueAndForget(async()=>mg(await Kh(x),H))}}(Ef(m),y,h,p)}function Sf(t,e){return function(i,a){const l=new Ni;return i.asyncQueue.enqueueAndForget(async()=>Ak(await Uk(i),a,l)),l.promise}(Ef(t),e)}function NT(t,e,n){const i=n.docs.get(e._key),a=new kg(t);return new CT(t,a,e._key,i,new fu(n.hasPendingWrites,n.fromCache),e.converter)}function OT(...t){return new xg("arrayUnion",t)}function MT(...t){return new Rg("arrayRemove",t)}(function(e,n=!0){(function(a){Qo=a})(Ca),Sa(new Ns("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Vi(new $R(i.getProvider("auth-internal")),new WR(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Xr(jv,Fv,e),Xr(jv,Fv,"esm2017")})();var rD="firebase",iD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(rD,iD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebasestorage.googleapis.com",UT="storageBucket",sD=2*60*1e3,aD=10*60*1e3,oD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends ii{constructor(e,n,i=0){super(Gp(e),`Firebase Storage: ${n} (${Gp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Gp(t){return"storage/"+t}function Ng(){const t="An unknown error occurred, please check the error payload for server response.";return new Rt(wt.UNKNOWN,t)}function lD(t){return new Rt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uD(t){return new Rt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(wt.UNAUTHENTICATED,t)}function hD(){return new Rt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fD(t){return new Rt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function PT(){return new Rt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VT(){return new Rt(wt.CANCELED,"User canceled the upload/download.")}function dD(t){return new Rt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function pD(t){return new Rt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mD(){return new Rt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UT+"' property when initializing the app?")}function BT(){return new Rt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gD(){return new Rt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function yD(){return new Rt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _D(t){return new Rt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function km(t){return new Rt(wt.INVALID_ARGUMENT,t)}function zT(){return new Rt(wt.APP_DELETED,"The Firebase app was deleted.")}function vD(t){return new Rt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yu(t,e){return new Rt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function au(t){throw new Rt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(i.path==="")return i;throw pD(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(fe){fe.path_=decodeURIComponent(fe.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${w}/${y}/b/${a}/o${x}`,"i"),L={bucket:1,path:3},B=n===LT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",H=new RegExp(`^https?://${B}/${a}/${q}`,"i"),J=[{regex:h,indices:p,postModify:l},{regex:b,indices:L,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let fe=0;fe<J.length;fe++){const le=J[fe],$=le.regex.exec(e);if($){const z=$[le.indices.bucket];let M=$[le.indices.path];M||(M=""),i=new Zn(z,M),le.postModify(i);break}}if(i==null)throw dD(e);return i}}class ED{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function p(){return h===2}let m=!1;function y(...q){m||(m=!0,e.apply(null,q))}function w(q){a=setTimeout(()=>{a=null,t(b,p())},q)}function x(){l&&clearTimeout(l)}function b(q,...H){if(m){x();return}if(q){x(),y.call(null,q,...H);return}if(p()||c){x(),y.call(null,q,...H);return}i<64&&(i*=2);let J;h===1?(h=2,J=0):J=(i+Math.random())*1e3,w(J)}let L=!1;function B(q){L||(L=!0,x(),!m&&(a!==null?(q||(h=2),clearTimeout(a),w(0)):q||(h=1)))}return w(0),l=setTimeout(()=>{c=!0,B(!0)},n),B}function TD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){return t!==void 0}function SD(t){return typeof t=="function"}function AD(t){return typeof t=="object"&&!Array.isArray(t)}function Af(t){return typeof t=="string"||t instanceof String}function UE(t){return Og()&&t instanceof Blob}function Og(){return typeof Blob<"u"}function PE(t,e,n,i){if(i<e)throw km(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw km(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function jT(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,i,a,l,c,h,p,m,y,w,x=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,L)=>{this.resolve_=b,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new gh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Ta.NO_ERROR,p=l.getStatus();if(!h||FT(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ta.ABORT;i(!1,new gh(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new gh(m,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());bD(p)?l(p):l()}catch(p){c(p)}else if(h!==null){const p=Ng();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(a.canceled){const p=this.appDelete_?zT():VT();c(p)}else{const p=PT();c(p)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=wD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function RD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ID(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DD(t,e,n,i,a,l,c=!0){const h=jT(t.urlParams),p=t.url+h,m=Object.assign({},t.headers);return CD(m,e),RD(m,n),ID(m,l),kD(m,i),new xD(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OD(...t){const e=ND();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Og())return new Blob(t);throw new Rt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){if(typeof atob>"u")throw _D("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,n){this.data=e,this.contentType=n||null}}function UD(t,e){switch(t){case Yr.RAW:return new Kp(qT(e));case Yr.BASE64:case Yr.BASE64URL:return new Kp(HT(t,e));case Yr.DATA_URL:return new Kp(VD(e),BD(e))}throw Ng()}function qT(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function PD(t){let e;try{e=decodeURIComponent(t)}catch{throw yu(Yr.DATA_URL,"Malformed data URL.")}return qT(e)}function HT(t,e){switch(t){case Yr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw yu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Yr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw yu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=LD(e)}catch(a){throw a.message.includes("polyfill")?a:yu(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class GT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yu(Yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=zD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function VD(t){const e=new GT(t);return e.base64?HT(Yr.BASE64,e.rest):PD(e.rest)}function BD(t){return new GT(t).contentType}function zD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){let i=0,a="";UE(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(UE(this.data_)){const i=this.data_,a=MD(i,e,n);return a===null?null:new bs(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new bs(i,!0)}}static getBlob(...e){if(Og()){const n=e.map(i=>i instanceof bs?i.data_:i);return new bs(OD.apply(null,n))}else{const n=e.map(c=>Af(c)?UD(Yr.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new bs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){let e;try{e=JSON.parse(t)}catch{return null}return AD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FD(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function QT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){return e}class Rn{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||qD}}let yh=null;function HD(t){return!Af(t)||t.length<2?t:QT(t)}function $T(){if(yh)return yh;const t=[];t.push(new Rn("bucket")),t.push(new Rn("generation")),t.push(new Rn("metageneration")),t.push(new Rn("name","fullPath",!0));function e(l,c){return HD(c)}const n=new Rn("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new Rn("size");return a.xform=i,t.push(a),t.push(new Rn("timeCreated")),t.push(new Rn("updated")),t.push(new Rn("md5Hash",null,!0)),t.push(new Rn("cacheControl",null,!0)),t.push(new Rn("contentDisposition",null,!0)),t.push(new Rn("contentEncoding",null,!0)),t.push(new Rn("contentLanguage",null,!0)),t.push(new Rn("contentType",null,!0)),t.push(new Rn("metadata","customMetadata",!0)),yh=t,yh}function GD(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Zn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function KD(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return GD(i,t),i}function YT(t,e,n){const i=KT(e);return i===null?null:KD(t,i,n)}function QD(t,e,n,i){const a=KT(e);if(a===null||!Af(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const y=t.bucket,w=t.fullPath,x="/b/"+c(y)+"/o/"+c(w),b=Vu(x,n,i),L=jT({alt:"media",token:m});return b+L})[0]}function XT(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class Zo{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){if(!t)throw Ng()}function Mg(t,e){function n(i,a){const l=YT(t,a,e);return Oi(l!==null),l}return n}function $D(t,e){function n(i,a){const l=YT(t,a,e);return Oi(l!==null),QD(l,a,t.host,t._protocol)}return n}function Bu(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=hD():a=cD():n.getStatus()===402?a=uD(t.bucket):n.getStatus()===403?a=fD(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function WT(t){const e=Bu(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=lD(t.path)),l.serverResponse=a.serverResponse,l}return n}function YD(t,e,n){const i=e.fullServerUrl(),a=Vu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,h=new Zo(a,l,Mg(t,n),c);return h.errorHandler=WT(e),h}function XD(t,e,n){const i=e.fullServerUrl(),a=Vu(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,h=new Zo(a,l,$D(t,n),c);return h.errorHandler=WT(e),h}function WD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZT(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=WD(null,e)),i}function ZD(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let J="";for(let fe=0;fe<2;fe++)J=J+Math.random().toString().slice(2);return J}const p=h();c["Content-Type"]="multipart/related; boundary="+p;const m=ZT(e,i,a),y=XT(m,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+p+"--",b=bs.getBlob(w,i,x);if(b===null)throw BT();const L={name:m.fullPath},B=Vu(l,t.host,t._protocol),q="POST",H=t.maxUploadRetryTime,ee=new Zo(B,q,Mg(t,n),H);return ee.urlParams=L,ee.headers=c,ee.body=b.uploadData(),ee.errorHandler=Bu(e),ee}class $h{constructor(e,n,i,a){this.current=e,this.total=n,this.finalized=!!i,this.metadata=a||null}}function Lg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function JD(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c=ZT(e,i,a),h={name:c.fullPath},p=Vu(l,t.host,t._protocol),m="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},w=XT(c,n),x=t.maxUploadRetryTime;function b(B){Lg(B);let q;try{q=B.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(Af(q)),q}const L=new Zo(p,m,b,x);return L.urlParams=h,L.headers=y,L.body=w,L.errorHandler=Bu(e),L}function eN(t,e,n,i){const a={"X-Goog-Upload-Command":"query"};function l(m){const y=Lg(m,["active","final"]);let w=null;try{w=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}w||Oi(!1);const x=Number(w);return Oi(!isNaN(x)),new $h(x,i.size(),y==="final")}const c="POST",h=t.maxUploadRetryTime,p=new Zo(n,c,l,h);return p.headers=a,p.errorHandler=Bu(e),p}const VE=256*1024;function tN(t,e,n,i,a,l,c,h){const p=new $h(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw gD();const m=p.total-p.current;let y=m;a>0&&(y=Math.min(y,a));const w=p.current,x=w+y;let b="";y===0?b="finalize":m===y?b="upload, finalize":b="upload";const L={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${p.current}`},B=i.slice(w,x);if(B===null)throw BT();function q(fe,le){const $=Lg(fe,["active","final"]),z=p.current+y,M=i.size();let k;return $==="final"?k=Mg(e,l)(fe,le):k=null,new $h(z,M,$==="final",k)}const H="POST",ee=e.maxUploadRetryTime,J=new Zo(n,H,q,ee);return J.headers=L,J.body=B.uploadData(),J.progressCallback=h||null,J.errorHandler=Bu(t),J}const Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qp(t){switch(t){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;case"error":return Ln.ERROR;default:return Ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,i){if(SD(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class rN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a){if(this.sent_)throw au("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw au("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw au("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw au("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw au("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iN extends rN{initXhr(){this.xhr_.responseType="text"}}function Co(){return new iN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=$T(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(FT(a.status,[]))if(l)a=PT();else{this.sleepTime=Math.max(this.sleepTime*2,oD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=JD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Co,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const a=eN(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Co,n,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=VE*this._chunkMultiplier,n=new $h(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=tN(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const h=this._ref.storage._makeRequest(c,Co,a,l,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){VE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=YD(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Co,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=ZD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Co,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=VT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Qp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,a){const l=new nN(n||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Qp(this._state)){case Ln.SUCCESS:To(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:const n=this._reject;To(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qp(this._state)){case Ln.RUNNING:case Ln.PAUSED:e.next&&To(e.next.bind(e,this.snapshot))();break;case Ln.SUCCESS:e.complete&&To(e.complete.bind(e))();break;case Ln.CANCELED:case Ln.ERROR:e.error&&To(e.error.bind(e,this._error))();break;default:e.error&&To(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ra(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QT(this._location.path)}get storage(){return this._service}get parent(){const e=jD(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new Ra(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vD(e)}}function aN(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new sN(t,new bs(e),n)}function oN(t){t._throwIfRoot("getDownloadURL");const e=XD(t.storage,t._location,$T());return t.storage.makeRequestWithTokens(e,Co).then(n=>{if(n===null)throw yD();return n})}function lN(t,e){const n=FD(t._location.path,e),i=new Zn(t._location.bucket,n);return new Ra(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){return/^[A-Za-z]+:\/\//.test(t)}function cN(t,e){return new Ra(t,e)}function JT(t,e){if(t instanceof Ug){const n=t;if(n._bucket==null)throw mD();const i=new Ra(n,n._bucket);return e!=null?JT(i,e):i}else return e!==void 0?lN(t,e):t}function hN(t,e){if(e&&uN(e)){if(t instanceof Ug)return cN(t,e);throw km("To use ref(service, url), the first argument must be a Storage instance.")}else return JT(t,e)}function BE(t,e){const n=e==null?void 0:e[UT];return n==null?null:Zn.makeFromBucketSpec(n,t)}function fN(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:Yw(a,t.app.options.projectId))}class Ug{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=LT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sD,this._maxUploadRetryTime=aD,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=BE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=BE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ra(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new ED(zT());{const c=DD(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const zE="@firebase/storage",jE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="storage";function tb(t,e,n){return t=Ot(t),aN(t,e,n)}function nb(t){return t=Ot(t),oN(t)}function rb(t,e){return t=Ot(t),hN(t,e)}function dN(t=Km(),e){t=Ot(t);const i=sf(t,eb).getImmediate({identifier:e}),a=Kw("storage");return a&&pN(i,...a),i}function pN(t,e,n,i={}){fN(t,e,n,i)}function mN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ug(n,i,a,e,Ca)}function gN(){Sa(new Ns(eb,mN,"PUBLIC").setMultipleInstances(!0)),Xr(zE,jE,""),Xr(zE,jE,"esm2017")}gN();function Pg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=ib,sb=new ku("auth","Firebase",ib());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Hm("@firebase/auth");function _N(t,...e){Yh.logLevel<=We.WARN&&Yh.warn(`Auth (${Ca}): ${t}`,...e)}function Ih(t,...e){Yh.logLevel<=We.ERROR&&Yh.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw Bg(t,...e)}function Cr(t,...e){return Bg(t,...e)}function Vg(t,e,n){const i=Object.assign(Object.assign({},yN()),{[e]:n});return new ku("auth","Firebase",i).create(e,{appName:t.name})}function ba(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ni(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sb.create(t,...e)}function Ve(t,e,...n){if(!t)throw Bg(e,...n)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function Bi(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EN(){return FE()==="http:"||FE()==="https:"}function FE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||Ax()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=Tx()||xx()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new zu(3e4,6e4);function jg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Na(t,e,n,i,a={}){return ob(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Du(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return Sx()||(m.referrerPolicy="no-referrer"),ab.fetch()(lb(t,t.config.apiHost,n,h),m)})}async function ob(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},bN),e);try{const a=new xN(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw _h(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw _h(t,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Vg(t,y,m);ni(t,y)}}catch(a){if(a instanceof ii)throw a;ni(t,"network-request-failed",{message:String(a)})}}async function AN(t,e,n,i,a={}){const l=await Na(t,e,n,i,a);return"mfaPendingCredential"in l&&ni(t,"multi-factor-auth-required",{_serverResponse:l}),l}function lb(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?zg(t.config,a):`${t.config.apiScheme}://${a}`}class xN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cr(this.auth,"network-request-failed")),SN.get())})}}function _h(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Cr(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return Na(t,"POST","/v1/accounts:delete",e)}async function ub(t,e){return Na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IN(t,e=!1){const n=Ot(t),i=await n.getIdToken(e),a=Fg(i);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:_u($p(a.auth_time)),issuedAtTime:_u($p(a.iat)),expirationTime:_u($p(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function Fg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=Hw(n);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function qE(t){const e=Fg(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&CN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function CN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Go(t,ub(n,{idToken:i}));Ve(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?cb(l.providerUserInfo):[],h=NN(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),y=p?m:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function DN(t){const e=Ot(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NN(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function cb(t){return t.map(e=>{var{providerId:n}=e,i=Pg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){const n=await ob(t,{},async()=>{const i=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=lb(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ab.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MN(t,e){return Na(t,"POST","/v2/accounts:revokeToken",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=qE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await ON(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Do;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IN(this,e)}reload(){return DN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await Go(this,RN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,h,p,m,y;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,x=(a=n.email)!==null&&a!==void 0?a:void 0,b=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,L=(c=n.photoURL)!==null&&c!==void 0?c:void 0,B=(h=n.tenantId)!==null&&h!==void 0?h:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(m=n.createdAt)!==null&&m!==void 0?m:void 0,ee=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:J,emailVerified:fe,isAnonymous:le,providerData:$,stsTokenManager:z}=n;Ve(J&&z,e,"internal-error");const M=Do.fromJSON(this.name,z);Ve(typeof J=="string",e,"internal-error"),ws(w,e.name),ws(x,e.name),Ve(typeof fe=="boolean",e,"internal-error"),Ve(typeof le=="boolean",e,"internal-error"),ws(b,e.name),ws(L,e.name),ws(B,e.name),ws(q,e.name),ws(H,e.name),ws(ee,e.name);const k=new ki({uid:J,auth:e,email:x,emailVerified:fe,displayName:w,isAnonymous:le,photoURL:L,phoneNumber:b,tenantId:B,stsTokenManager:M,createdAt:H,lastLoginAt:ee});return $&&Array.isArray($)&&(k.providerData=$.map(O=>Object.assign({},O))),q&&(k._redirectEventId=q),k}static async _fromIdTokenResponse(e,n,i=!1){const a=new Do;a.updateFromServerResponse(n);const l=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?cb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Do;h.updateFromIdToken(i);const p=new ki({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Nm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function Di(t){Bi(t instanceof Function,"Expected a class definition");let e=HE.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const GE=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ch(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ch("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new No(Di(GE),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(GE);const c=Ch(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(c);if(y){const w=ki._fromJSON(e,y);m!==l&&(h=w),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new No(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new No(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(_b(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fb(t=En()){return/firefox\//i.test(t)}function db(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(t=En()){return/crios\//i.test(t)}function mb(t=En()){return/iemobile/i.test(t)}function gb(t=En()){return/android/i.test(t)}function yb(t=En()){return/blackberry/i.test(t)}function _b(t=En()){return/webos/i.test(t)}function qg(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LN(t=En()){var e;return qg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UN(){return Rx()&&document.documentMode===10}function vb(t=En()){return qg(t)||gb(t)||_b(t)||yb(t)||/windows phone/i.test(t)||mb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e=[]){let n;switch(t){case"Browser":n=KE(En());break;case"Worker":n=`${KE(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e={}){return Na(t,"GET","/v2/passwordPolicy",jg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=6;class zN{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:BN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new PN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ub(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(ba(this));const n=e?Ot(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VN(this),n=new zN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await MN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_N(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xf(t){return Ot(t)}class QE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lx(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FN(t){Hg=t}function qN(t){return Hg.loadJS(t)}function HN(){return Hg.gapiScript}function GN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){const n=sf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Mi(l,e??{}))return a;ni(a,"already-initialized")}return n.initialize({options:e})}function QN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $N(t,e,n){const i=xf(t);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=wb(e),{host:c,port:h}=YN(e),p=h===null?"":`:${h}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(Mi(m,i.config.emulator)&&Mi(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,XN()}function wb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YN(t){const e=wb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:$E(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:$E(c)}}}function $E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return AN(t,"POST","/v1/accounts:signInWithIdp",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class Ia extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Pg(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ia(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Oo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends ju{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ir.credential(n,i)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ju{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends ju{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xs.credential(n,i)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ki._fromIdTokenResponse(e,i,a),c=YE(i);return new Ko({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=YE(i);return new Ko({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function YE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends ii{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Wh(e,n,i,a)}}function bb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,l,e,i):l})}async function ZN(t,e,n=!1){const i=await Go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e,n=!1){const{auth:i}=t;if(_r(i.app))return Promise.reject(ba(i));const a="reauthenticate";try{const l=await Go(t,bb(i,a,e,t),n);Ve(l.idToken,i,"internal-error");const c=Fg(l.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(t.uid===h,i,"user-mismatch"),Ko._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e,n=!1){if(_r(t.app))return Promise.reject(ba(t));const i="signIn",a=await bb(t,i,e),l=await Ko._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,e){return Na(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ot(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Go(i,tO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function rO(t,e,n,i){return Ot(t).onIdTokenChanged(e,n,i)}function iO(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function sO(t,e,n,i){return Ot(t).onAuthStateChanged(e,n,i)}function aO(t){return Ot(t).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1e3,lO=10;class Ab extends Sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);UN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lO):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const uO=Ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends Sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Rb=xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Rf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),p=await cO(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const m=Kg("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(w){const x=w;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function fO(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function dO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mO(){return Ib()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",gO=1,Jh="firebaseLocalStorage",kb="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function If(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function yO(){const t=indexedDB.deleteDatabase(Cb);return new Fu(t).toPromise()}function Om(){const t=indexedDB.open(Cb,gO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Jh,{keyPath:kb})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Jh)?e(i):(i.close(),await yO(),e(await Om()))})})}async function XE(t,e,n){const i=If(t,!0).put({[kb]:e,value:n});return new Fu(i).toPromise()}async function _O(t,e){const n=If(t,!1).get(e),i=await new Fu(n).toPromise();return i===void 0?null:i.value}function WE(t,e){const n=If(t,!0).delete(e);return new Fu(n).toPromise()}const vO=800,EO=3;class Db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>EO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(mO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dO(),!this.activeServiceWorker)return;this.sender=new hO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await XE(e,Zh,"1"),await WE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>XE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_O(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=If(a,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Db.type="LOCAL";const wO=Db;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t,e){return e?Di(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TO(t){return eO(t.auth,new Qg(t),t.bypassAuthState)}function bO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),JN(n,new Qg(t),t.bypassAuthState)}async function SO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),ZN(n,new Qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TO;case"linkViaPopup":case"linkViaRedirect":return SO;case"reauthViaPopup":case"reauthViaRedirect":return bO;default:ni(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new zu(2e3,1e4);async function Mb(t,e,n){if(_r(t.app))return Promise.reject(Cr(t,"operation-not-supported-in-this-environment"));const i=xf(t);vN(t,e,Gg);const a=Nb(i,n);return new wa(i,"signInViaPopup",e,a).executeNotNull()}class wa extends Ob{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AO.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="pendingRedirect",kh=new Map;class RO extends Ob{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const i=await IO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IO(t,e){const n=DO(e),i=kO(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function CO(t,e){kh.set(t._key(),e)}function kO(t){return Di(t._redirectPersistence)}function DO(t){return Ch(xO,t.config.apiKey,t.name)}async function NO(t,e,n=!1){if(_r(t.app))return Promise.reject(ba(t));const i=xf(t),a=Nb(i,e),c=await new RO(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=10*60*1e3;class MO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Lb(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(e))}saveEventToCache(e){this.cachedEventUids.add(ZE(e)),this.lastProcessedEventTime=Date.now()}}function ZE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e={}){return Na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VO=/^https?/;async function BO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UO(t);for(const n of e)try{if(zO(n))return}catch{}ni(t,"unauthorized-domain")}function zO(t){const e=Dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!VO.test(n))return!1;if(PO.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new zu(3e4,6e4);function JE(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FO(t){return new Promise((e,n)=>{var i,a,l;function c(){JE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JE(),n(Cr(t,"network-request-failed"))},timeout:jO.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)c();else{const h=GN("iframefcb");return Jr()[h]=()=>{gapi.load?c():n(Cr(t,"network-request-failed"))},qN(`${HN()}?onload=${h}`).catch(p=>n(p))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function qO(t){return Dh=Dh||FO(t),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new zu(5e3,15e3),GO="__/auth/iframe",KO="emulator/auth/iframe",QO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YO(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zg(e,KO):`https://${t.config.authDomain}/${GO}`,i={apiKey:e.apiKey,appName:t.name,v:Ca},a=$O.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Du(i).slice(1)}`}async function XO(t){const e=await qO(t),n=Jr().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:YO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Cr(t,"network-request-failed"),h=Jr().setTimeout(()=>{l(c)},HO.get());function p(){Jr().clearTimeout(h),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZO=500,JO=600,e4="_blank",t4="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n4(t,e,n,i=ZO,a=JO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},WO),{width:i.toString(),height:a.toString(),top:l,left:c}),m=En().toLowerCase();n&&(h=pb(m)?e4:n),fb(m)&&(e=e||t4,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[b,L])=>`${x}${b}=${L},`,"");if(LN(m)&&h!=="_self")return r4(e||"",h),new ew(null);const w=window.open(e||"",h,y);Ve(w,t,"popup-blocked");try{w.focus()}catch{}return new ew(w)}function r4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="__/auth/handler",s4="emulator/auth/handler",a4=encodeURIComponent("fac");async function tw(t,e,n,i,a,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ca,eventId:a};if(e instanceof Gg){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Mx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof ju){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await t._getAppCheckToken(),m=p?`#${a4}=${encodeURIComponent(p)}`:"";return`${o4(t)}?${Du(h).slice(1)}${m}`}function o4({config:t}){return t.emulator?zg(t,s4):`https://${t.authDomain}/${i4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class l4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=NO,this._overrideRedirectResult=CO}async _openPopup(e,n,i,a){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await tw(e,n,i,Dm(),a);return n4(e,c,Kg())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await tw(e,n,i,Dm(),a);return fO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await XO(e),i=new MO(e);return n.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Yp];c!==void 0&&n(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vb()||db()||qg()}}const u4=l4;var nw="@firebase/auth",rw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f4(t){Sa(new Ns("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(t)},m=new jN(i,a,l,p);return QN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Sa(new Ns("auth-internal",e=>{const n=xf(e.getProvider("auth").getImmediate());return(i=>new c4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(nw,rw,h4(t)),Xr(nw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=5*60,p4=$w("authIdTokenMaxAge")||d4;let iw=null;const m4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>p4)return;const a=n==null?void 0:n.token;iw!==a&&(iw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function g4(t=Km()){const e=sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KN(t,{popupRedirectResolver:u4,persistence:[wO,uO,Rb]}),i=$w("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=m4(l.toString());iO(n,c,()=>c(n.currentUser)),rO(n,h=>c(h))}}const a=Gw("auth");return a&&$N(n,`http://${a}`),n}function y4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Cr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",y4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f4("Browser");const _4={apiKey:"AIzaSyD4nUoB4aBIqyuB92O-1UyjELt3x95DHRA",authDomain:"d320-971d2.firebaseapp.com",projectId:"d320-971d2",storageBucket:"d320-971d2.firebasestorage.app",messagingSenderId:"895104531613",appId:"1:895104531613:web:488a63a0e7364545112874"},$g=Zw(_4),zi=jk($g),Ub=dN($g),Ru=g4($g);new Ir;const Pb=Tg(zi,"eotv-enemies"),v4=Tg(zi,"eotv-enemy-tags"),E4=async t=>{},Yg=se.createContext(null),w4=({children:t})=>{const[e,n]=se.useState(null);return se.useEffect(()=>sO(Ru,n),[]),se.useEffect(()=>{e&&E4(e.uid)},[e]),F.jsx(Yg.Provider,{value:{user:e,setUser:n},children:t})},Jo=()=>{var t;return((t=se.useContext(Yg))==null?void 0:t.user)??null},T4=()=>{var t;return(t=se.useContext(Yg))==null?void 0:t.setUser};function b4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const S4=se.forwardRef(b4);function A4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Vb=se.forwardRef(A4);function x4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const R4=se.forwardRef(x4);function I4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const C4=se.forwardRef(I4);function k4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const D4=se.forwardRef(k4);function N4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const O4=se.forwardRef(N4);function M4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const L4=se.forwardRef(M4);function U4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const P4=se.forwardRef(U4);function V4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const B4=se.forwardRef(V4);function z4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Xg=se.forwardRef(z4);function j4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const F4=se.forwardRef(j4);function q4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const el=se.forwardRef(q4),H4=(t,e,n,i)=>{const a=rb(Ub,`enemies/${t}/${e.name}`),l=tb(a,e);l.on("state_changed",c=>{const h=c.bytesTransferred/c.totalBytes*100;i(h)},c=>{console.error("Ошибка загрузки:",c)},async()=>{const c=await nb(l.snapshot.ref);n(c)})},ef=({imageURL:t,setImageURL:e,ownerUid:n,className:i})=>{const[a,l]=se.useState(0),c=p=>{p&&H4(n,p,e,l)},h=p=>{p.preventDefault(),c(p.dataTransfer.files[0])};return F.jsxs("div",{className:`w-full sm:w-3/14 flex items-center justify-center bg-gray-200 dark:bg-gray-800 relative overflow-hidden group ${i||""}`,onDrop:h,onDragOver:p=>p.preventDefault(),children:[t&&F.jsx("img",{src:t,className:"object-cover w-full h-full",alt:""}),F.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),F.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[F.jsx(Vb,{className:"w-8 h-8"}),F.jsx("span",{className:"text-xs",children:"Нажмите или перетащите файл"})]}),a>0&&a<100&&F.jsxs("span",{className:"absolute bottom-2 left-2 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},Bb=se.createContext([]),G4=({children:t})=>{const[e,n]=se.useState([]);return se.useEffect(()=>{(async()=>{const a=await Jk(v4);n(a.docs.map(l=>l.data().name))})()},[]),F.jsx(Bb.Provider,{value:e,children:t})},Wg=()=>se.useContext(Bb),K4=({selectedTags:t,setSelectedTags:e})=>{const n=Wg().map(y=>({name:y})),[i,a]=se.useState(""),c=Array.from(new Set([...n.map(y=>y.name)])).filter(y=>y.toLowerCase().includes(i.toLowerCase())&&!t.includes(y)),h=se.useCallback(y=>{const w=y.trim();w&&(t.includes(w)||e([...t,w]))},[t,e,n]),p=se.useCallback(y=>{(y.key==="Enter"||y.key===",")&&(y.preventDefault(),h(i),a(""))},[i,h]),m=se.useCallback(y=>{e(t.filter(w=>w!==y))},[t,e]);return F.jsxs("div",{className:"mt-auto py-4",children:[F.jsx("label",{className:"block text-sm mb-1",children:"Теги"}),F.jsxs("div",{className:"flex flex-wrap gap-1 bg-gray-200 dark:bg-gray-700 p-2 rounded",children:[t.map(y=>F.jsxs("span",{className:"bg-gray-300 dark:bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1",children:[y,F.jsx("button",{type:"button",onClick:()=>m(y),className:"text-red-400 hover:text-white",children:"×"})]},y)),F.jsx("input",{type:"text",value:i,list:"tag-suggestions",onChange:y=>a(y.target.value),onKeyDown:p,className:"bg-transparent outline-none flex-1 text-sm text-gray-900 dark:text-white"}),F.jsx("datalist",{id:"tag-suggestions",children:c.map(y=>F.jsx("option",{value:y},y))})]})]})},zb=({name:t,setName:e,customDescription:n,setCustomDescription:i,selectedTags:a,setSelectedTags:l,children:c})=>F.jsxs("div",{className:"w-full sm:w-4/7 flex flex-col px-6 h-full overflow-y-auto",children:[F.jsx("input",{type:"text",placeholder:"Имя противника",value:t,onChange:h=>e(h.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue",required:!0}),F.jsx("textarea",{placeholder:"Описание",value:n,onChange:h=>i(h.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue flex-1 resize-none"}),F.jsx(K4,{selectedTags:a,setSelectedTags:l}),c]}),Zg=({open:t,message:e="Для продолжения необходима авторизация",onClose:n,onSuccess:i})=>{if(!t)return null;const a=async()=>{const l=new Ir;await Mb(Ru,l),n(),i&&i()};return F.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-[60] p-5  bg-gray-500 dark:bg-black flex items-center justify-center",onClick:n,children:F.jsxs("div",{role:"dialog",onClick:l=>l.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-sm p-6 flex flex-col items-center gap-4",children:[F.jsx("button",{onClick:n,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:F.jsx(el,{className:"w-5 h-5"})}),F.jsx("p",{children:e}),F.jsx("button",{onClick:a,className:"px-4 py-2 bg-neonBlue text-darkBg font-semibold rounded hover:bg-opacity-80 transition cursor-pointer",children:"Войти через Google"})]})})},Q4=()=>{const[t,e]=se.useState(!1),[n,i]=se.useState(!1),[a,l]=se.useState(""),[c,h]=se.useState(""),[p,m]=se.useState([]),[y,w]=se.useState(""),[x,b]=se.useState(""),L=Jo(),B=se.useRef(null),q=async H=>{if(H.preventDefault(),!L)return;const ee={name:a,customDescription:c,tags:p,imageURL:y,imageURL2:x,authorUid:L.uid,likedBy:[],createdAt:new Date().toISOString()};await tD(Pb,ee),e(!1),l(""),h(""),m([]),w(""),b("")};return se.useEffect(()=>{const H=J=>{B.current&&!B.current.contains(J.target)&&e(!1)},ee=J=>{J.key==="Escape"&&e(!1)};return t&&(document.addEventListener("mousedown",H),document.addEventListener("keydown",ee)),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",ee)}},[t]),n?F.jsx(Zg,{open:n,onClose:()=>i(!1),onSuccess:()=>e(!0),message:"Для добавления врага необходима авторизация"}):t?F.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5  bg-gray-500 dark:bg-black flex items-center justify-center",onClick:()=>e(!1),children:F.jsx("div",{role:"dialog",onClick:H=>H.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-7xl flex flex-col sm:flex-row shadow-lg overflow-hidden h-full",children:F.jsxs("form",{ref:B,onSubmit:q,className:"flex flex-col sm:flex-row w-full h-full overflow-y-auto",children:[F.jsx(ef,{imageURL:y,setImageURL:w,ownerUid:(L==null?void 0:L.uid)||""}),F.jsx(zb,{name:a,setName:l,customDescription:c,setCustomDescription:h,selectedTags:p,setSelectedTags:m,children:F.jsxs("div",{className:"flex gap-4 py-4",children:[F.jsxs("button",{type:"button",onClick:()=>e(!1),className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-500 transition cursor-pointer",children:[F.jsx(el,{className:"w-5 h-5"}),"Отмена"]}),F.jsxs("button",{type:"submit",disabled:!L,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:[F.jsx(P4,{className:"w-5 h-5"}),"Добавить"]})]})}),F.jsx(ef,{imageURL:x,setImageURL:b,ownerUid:(L==null?void 0:L.uid)||""})]})})}):F.jsxs("div",{role:"button",tabIndex:0,className:"group relative flex flex-col items-center justify-center bg-white text-gray-900 dark:bg-gray-800 dark:text-white p-4 rounded-xl shadow-lg cursor-pointer w-full sm:w-40 sm:h-56 aspect-[2/3] hover:scale-110 transition-all duration-300 ease-in-out",onClick:()=>{L?e(!0):i(!0)},onKeyDown:H=>{H.key==="Enter"&&(L?e(!0):i(!0))},children:[F.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-neonBlue rounded-full transform transition-transform duration-300 group-hover:rotate-90",children:F.jsx("span",{className:"text-3xl font-bold text-darkBg",children:"+"})}),F.jsx("p",{className:"mt-2 text-lg",children:"Добавить"}),!L&&F.jsx("span",{className:"text-xs text-gray-400",children:"Требует авторизации"})]})};function $4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const Y4=se.forwardRef($4);function X4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Jg=se.forwardRef(X4);function W4({title:t,titleId:e,...n},i){return se.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?se.createElement("title",{id:e},t):null,se.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const Z4=se.forwardRef(W4),J4=({index:t,enemy:e,author:n,onClick:i})=>{var w;const a=se.useRef(null),l=Jo(),c=Wg(),[h,p]=se.useState(!1),m=!!l&&((w=e.likedBy)==null?void 0:w.includes(l.uid)),y=async x=>{if(x.stopPropagation(),!l||!e.id){p(!0);return}const b=js(zi,"eotv-enemies",e.id);await Dg(b,{likedBy:m?MT(l.uid):OT(l.uid)})};return F.jsxs(F.Fragment,{children:[h&&F.jsx(Zg,{open:h,onClose:()=>p(!1),message:"Для сохранения требуется авторизация"}),F.jsxs("div",{ref:a,className:"bg-white text-gray-900 dark:bg-gray-800 dark:text-white shadow-lg cursor-pointer  overflow-hidden relative w-full sm:w-40 sm:h-56 aspect-[2/3] hover:scale-110 flex flex-col rounded-xl transition-all duration-300 ease-in-out",onClick:()=>i(t),children:[F.jsx("img",{src:e.imageURL,alt:e.name,className:"w-full h-1/2 sm:h-32 object-cover"}),F.jsx("button",{onClick:y,title:m?"Сохранено":"Сохранить",className:"absolute top-2 right-2 text-blue-300 hover:scale-110 transition",children:m?F.jsx(Jg,{className:"w-5 h-5"}):F.jsx(Xg,{className:"w-5 h-5"})}),F.jsxs("div",{className:"p-2 flex flex-col",children:[F.jsx("p",{className:"text-sm text-center font-bold",children:e.name}),F.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:F.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.filter(x=>c.includes(x)).map((x,b)=>F.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:x},b))})}),F.jsx("div",{className:"absolute items-center gap-2 mt-1 right-4 bottom-4",children:F.jsx("img",{src:n==null?void 0:n.photoURL,alt:"Avatar",className:"w-6 h-6 rounded-full",title:(n==null?void 0:n.displayName)||"Unknown"})})]}),e.imageURL2&&F.jsx("img",{src:e.imageURL2,alt:"Extra",className:"hidden"})]},e.id)]})},eM=({enemies:t,users:e,onSelect:n})=>F.jsxs("div",{className:"grid sm:flex sm:flex-wrap grid-cols-2 gap-4 justify-center relative",children:[F.jsx(Q4,{}),t.map((i,a)=>F.jsx(J4,{index:a,enemy:i,author:e[i.authorUid],onClick:()=>n(a)},i.id))]});function tM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iM={};function sw(t,e){return(iM.jsx?rM:nM).test(t)}const sM=/[ \t\n\f\r]/g;function aM(t){return typeof t=="object"?t.type==="text"?aw(t.value):!1:aw(t)}function aw(t){return t.replace(sM,"")===""}class qu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}qu.prototype.normal={};qu.prototype.property={};qu.prototype.space=void 0;function jb(t,e){const n={},i={};for(const a of t)Object.assign(n,a.property),Object.assign(i,a.normal);return new qu(n,i,e)}function Mm(t){return t.toLowerCase()}class Bn{constructor(e,n){this.attribute=n,this.property=e}}Bn.prototype.attribute="";Bn.prototype.booleanish=!1;Bn.prototype.boolean=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.defined=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.number=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.property="";Bn.prototype.spaceSeparated=!1;Bn.prototype.space=void 0;let oM=0;const Ge=Oa(),Ft=Oa(),Fb=Oa(),ge=Oa(),vt=Oa(),Mo=Oa(),Xn=Oa();function Oa(){return 2**++oM}const Lm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Ft,commaOrSpaceSeparated:Xn,commaSeparated:Mo,number:ge,overloadedBoolean:Fb,spaceSeparated:vt},Symbol.toStringTag,{value:"Module"})),Xp=Object.keys(Lm);class ey extends Bn{constructor(e,n,i,a){let l=-1;if(super(e,n),ow(this,"space",a),typeof i=="number")for(;++l<Xp.length;){const c=Xp[l];ow(this,Xp[l],(i&Lm[c])===Lm[c])}}}ey.prototype.defined=!0;function ow(t,e,n){n&&(t[e]=n)}function tl(t){const e={},n={};for(const[i,a]of Object.entries(t.properties)){const l=new ey(i,t.transform(t.attributes||{},i),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[Mm(i)]=i,n[Mm(l.attribute)]=i}return new qu(e,n,t.space)}const qb=tl({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:vt,ariaCurrent:null,ariaDescribedBy:vt,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:vt,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:vt,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vt,ariaLevel:ge,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:vt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:vt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Ft,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Hb(t,e){return e in t?t[e]:e}function Gb(t,e){return Hb(t,e.toLowerCase())}const lM=tl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mo,acceptCharset:vt,accessKey:vt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:vt,autoFocus:Ge,autoPlay:Ge,blocking:vt,capture:null,charSet:null,checked:Ge,cite:null,className:vt,cols:ge,colSpan:null,content:null,contentEditable:Ft,controls:Ge,controlsList:vt,coords:ge|Mo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:Fb,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:vt,height:ge,hidden:Ge,high:ge,href:null,hrefLang:null,htmlFor:vt,httpEquiv:vt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:vt,itemRef:vt,itemScope:Ge,itemType:vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ge,pattern:null,ping:vt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:vt,required:Ge,reversed:Ge,rows:ge,rowSpan:ge,sandbox:vt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Ft,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:Gb}),uM=tl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xn,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mo,g2:Mo,glyphName:Mo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xn,rev:Xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xn,requiredFeatures:Xn,requiredFonts:Xn,requiredFormats:Xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xn,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hb}),Kb=tl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Qb=tl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Gb}),$b=tl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),cM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hM=/[A-Z]/g,lw=/-[a-z]/g,fM=/^data[-\w.:]+$/i;function dM(t,e){const n=Mm(e);let i=e,a=Bn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fM.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(lw,mM);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!lw.test(l)){let c=l.replace(hM,pM);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}a=ey}return new a(i,e)}function pM(t){return"-"+t.toLowerCase()}function mM(t){return t.charAt(1).toUpperCase()}const gM=jb([qb,lM,Kb,Qb,$b],"html"),ty=jb([qb,uM,Kb,Qb,$b],"svg");function yM(t){return t.join(" ").trim()}var bo={},Wp,uw;function _M(){if(uw)return Wp;uw=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",y="*",w="",x="comment",b="declaration";Wp=function(B,q){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];q=q||{};var H=1,ee=1;function J(N){var Ee=N.match(e);Ee&&(H+=Ee.length);var we=N.lastIndexOf(p);ee=~we?N.length-we:ee+N.length}function fe(){var N={line:H,column:ee};return function(Ee){return Ee.position=new le(N),M(),Ee}}function le(N){this.start=N,this.end={line:H,column:ee},this.source=q.source}le.prototype.content=B;function $(N){var Ee=new Error(q.source+":"+H+":"+ee+": "+N);if(Ee.reason=N,Ee.filename=q.source,Ee.line=H,Ee.column=ee,Ee.source=B,!q.silent)throw Ee}function z(N){var Ee=N.exec(B);if(Ee){var we=Ee[0];return J(we),B=B.slice(we.length),Ee}}function M(){z(n)}function k(N){var Ee;for(N=N||[];Ee=O();)Ee!==!1&&N.push(Ee);return N}function O(){var N=fe();if(!(m!=B.charAt(0)||y!=B.charAt(1))){for(var Ee=2;w!=B.charAt(Ee)&&(y!=B.charAt(Ee)||m!=B.charAt(Ee+1));)++Ee;if(Ee+=2,w===B.charAt(Ee-1))return $("End of comment missing");var we=B.slice(2,Ee-2);return ee+=2,J(we),B=B.slice(Ee),ee+=2,N({type:x,comment:we})}}function P(){var N=fe(),Ee=z(i);if(Ee){if(O(),!z(a))return $("property missing ':'");var we=z(l),me=N({type:b,property:L(Ee[0].replace(t,w)),value:we?L(we[0].replace(t,w)):w});return z(c),me}}function j(){var N=[];k(N);for(var Ee;Ee=P();)Ee!==!1&&(N.push(Ee),k(N));return N}return M(),j()};function L(B){return B?B.replace(h,w):w}return Wp}var cw;function vM(){if(cw)return bo;cw=1;var t=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0}),bo.default=n;var e=t(_M());function n(i,a){var l=null;if(!i||typeof i!="string")return l;var c=(0,e.default)(i),h=typeof a=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,y=p.value;h?a(m,y,p):y&&(l=l||{},l[m]=y)}}),l}return bo}var EM=vM();const hw=Cu(EM),wM=hw.default||hw,Yb=Xb("end"),ny=Xb("start");function Xb(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function TM(t){const e=ny(t),n=Yb(t);if(e&&n)return{start:e,end:n}}function vu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fw(t.position):"start"in t||"end"in t?fw(t):"line"in t||"column"in t?Um(t):""}function Um(t){return dw(t&&t.line)+":"+dw(t&&t.column)}function fw(t){return Um(t&&t.start)+"-"+Um(t&&t.end)}function dw(t){return t&&typeof t=="number"?t:1}class wn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let a="",l={},c=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?a=e:!l.cause&&e&&(c=!0,a=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=h?h.line:void 0,this.name=vu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}wn.prototype.file="";wn.prototype.name="";wn.prototype.reason="";wn.prototype.message="";wn.prototype.stack="";wn.prototype.column=void 0;wn.prototype.line=void 0;wn.prototype.ancestors=void 0;wn.prototype.cause=void 0;wn.prototype.fatal=void 0;wn.prototype.place=void 0;wn.prototype.ruleId=void 0;wn.prototype.source=void 0;const ry={}.hasOwnProperty,bM=new Map,SM=/[A-Z]/g,AM=/-([a-z])/g,xM=new Set(["table","tbody","thead","tfoot","tr"]),RM=new Set(["td","th"]),Wb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function IM(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=UM(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=LM(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ty:gM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=Zb(a,t,void 0);return l&&typeof l!="string"?l:a.create(t,a.Fragment,{children:l||void 0},void 0)}function Zb(t,e,n){if(e.type==="element")return CM(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return kM(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return NM(t,e,n);if(e.type==="mdxjsEsm")return DM(t,e);if(e.type==="root")return OM(t,e,n);if(e.type==="text")return MM(t,e)}function CM(t,e,n){const i=t.schema;let a=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(a=ty,t.schema=a),t.ancestors.push(e);const l=eS(t,e.tagName,!1),c=PM(t,e);let h=sy(t,e);return xM.has(e.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!aM(p):!0})),Jb(t,c,l,e),iy(c,h),t.ancestors.pop(),t.schema=i,t.create(e,l,c,n)}function kM(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Iu(t,e.position)}function DM(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Iu(t,e.position)}function NM(t,e,n){const i=t.schema;let a=i;e.name==="svg"&&i.space==="html"&&(a=ty,t.schema=a),t.ancestors.push(e);const l=e.name===null?t.Fragment:eS(t,e.name,!0),c=VM(t,e),h=sy(t,e);return Jb(t,c,l,e),iy(c,h),t.ancestors.pop(),t.schema=i,t.create(e,l,c,n)}function OM(t,e,n){const i={};return iy(i,sy(t,e)),t.create(e,t.Fragment,i,n)}function MM(t,e){return e.value}function Jb(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function iy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function LM(t,e,n){return i;function i(a,l,c,h){const m=Array.isArray(c.children)?n:e;return h?m(l,c,h):m(l,c)}}function UM(t,e){return n;function n(i,a,l,c){const h=Array.isArray(l.children),p=ny(i);return e(a,l,c,h,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function PM(t,e){const n={};let i,a;for(a in e.properties)if(a!=="children"&&ry.call(e.properties,a)){const l=BM(t,a,e.properties[a]);if(l){const[c,h]=l;t.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&RM.has(e.tagName)?i=h:n[c]=h}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function VM(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const c=l.expression;c.type;const h=c.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else Iu(t,e.position);else{const a=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,l=t.evaluater.evaluateExpression(h.expression)}else Iu(t,e.position);else l=i.value===null?!0:i.value;n[a]=l}return n}function sy(t,e){const n=[];let i=-1;const a=t.passKeys?new Map:bM;for(;++i<e.children.length;){const l=e.children[i];let c;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const m=a.get(p)||0;c=p+"-"+m,a.set(p,m+1)}}const h=Zb(t,l,c);h!==void 0&&n.push(h)}return n}function BM(t,e,n){const i=dM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?tM(n):yM(n)),i.property==="style"){let a=typeof n=="object"?n:zM(t,String(n));return t.stylePropertyNameCase==="css"&&(a=jM(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?cM[i.property]||i.property:i.attribute,n]}}function zM(t,e){const n={};try{wM(e,i)}catch(a){if(!t.ignoreInvalidStyle){const l=a,c=new wn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=t.filePath||void 0,c.url=Wb+"#cannot-parse-style-attribute",c}}return n;function i(a,l){let c=a;c.slice(0,2)!=="--"&&(c.slice(0,4)==="-ms-"&&(c="ms-"+c.slice(4)),c=c.replace(AM,qM)),n[c]=l}}function eS(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let l=-1,c;for(;++l<a.length;){const h=sw(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(l&&h.type==="Literal"),optional:!1}:h}i=c}else i=sw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const a=i.value;return ry.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(i);Iu(t)}function Iu(t,e){const n=new wn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Wb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jM(t){const e={};let n;for(n in t)ry.call(t,n)&&(e[FM(n)]=t[n]);return e}function FM(t){let e=t.replace(SM,HM);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function qM(t,e){return e.toUpperCase()}function HM(t){return"-"+t.toLowerCase()}const Zp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},GM={};function KM(t,e){const n=GM,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tS(t,i,a)}function tS(t,e,n){if(QM(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return pw(t.children,e,n)}return Array.isArray(t)?pw(t,e,n):""}function pw(t,e,n){const i=[];let a=-1;for(;++a<t.length;)i[a]=tS(t[a],e,n);return i.join("")}function QM(t){return!!(t&&typeof t=="object")}const mw=document.createElement("i");function ay(t){const e="&"+t+";";mw.innerHTML=e;const n=mw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ri(t,e,n,i){const a=t.length;let l=0,c;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);l<i.length;)c=i.slice(l,l+1e4),c.unshift(e,0),t.splice(...c),l+=1e4,e+=1e4}function yr(t,e){return t.length>0?(ri(t,t.length,0,e),t):e}const gw={}.hasOwnProperty;function $M(t){const e={};let n=-1;for(;++n<t.length;)YM(e,t[n]);return e}function YM(t,e){let n;for(n in e){const a=(gw.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let c;if(l)for(c in l){gw.call(a,c)||(a[c]=[]);const h=l[c];XM(a[c],Array.isArray(h)?h:h?[h]:[])}}}function XM(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);ri(t,0,0,i)}function nS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Lo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $r=Fs(/[A-Za-z]/),Jn=Fs(/[\dA-Za-z]/),WM=Fs(/[#-'*+\--9=?A-Z^-~]/);function Pm(t){return t!==null&&(t<32||t===127)}const Vm=Fs(/\d/),ZM=Fs(/[\dA-Fa-f]/),JM=Fs(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function Vn(t){return t!==null&&(t<0||t===32)}function ct(t){return t===-2||t===-1||t===32}const eL=Fs(new RegExp("\\p{P}|\\p{S}","u")),tL=Fs(/\s/);function Fs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function nl(t){const e=[];let n=-1,i=0,a=0;for(;++n<t.length;){const l=t.charCodeAt(n);let c="";if(l===37&&Jn(t.charCodeAt(n+1))&&Jn(t.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const h=t.charCodeAt(n+1);l<56320&&h>56319&&h<57344?(c=String.fromCharCode(l,h),a=1):c="�"}else c=String.fromCharCode(l);c&&(e.push(t.slice(i,n),encodeURIComponent(c)),i=n+a+1,c=""),a&&(n+=a,a=0)}return e.join("")+t.slice(i)}function Et(t,e,n,i){const a=i?i-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return ct(p)?(t.enter(n),h(p)):e(p)}function h(p){return ct(p)&&l++<a?(t.consume(p),h):(t.exit(n),e(p))}}const nL={tokenize:rL};function rL(t){const e=t.attempt(this.parser.constructs.contentInitial,i,a);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Et(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),l(h)}function l(h){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(h)}function c(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Pe(h)?(t.consume(h),t.exit("chunkText"),l):(t.consume(h),c)}}const iL={tokenize:sL},yw={tokenize:aL};function sL(t){const e=this,n=[];let i=0,a,l,c;return h;function h(J){if(i<n.length){const fe=n[i];return e.containerState=fe[1],t.attempt(fe[0].continuation,p,m)(J)}return m(J)}function p(J){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&ee();const fe=e.events.length;let le=fe,$;for(;le--;)if(e.events[le][0]==="exit"&&e.events[le][1].type==="chunkFlow"){$=e.events[le][1].end;break}H(i);let z=fe;for(;z<e.events.length;)e.events[z][1].end={...$},z++;return ri(e.events,le+1,0,e.events.slice(fe)),e.events.length=z,m(J)}return h(J)}function m(J){if(i===n.length){if(!a)return x(J);if(a.currentConstruct&&a.currentConstruct.concrete)return L(J);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(yw,y,w)(J)}function y(J){return a&&ee(),H(i),x(J)}function w(J){return e.parser.lazy[e.now().line]=i!==n.length,c=e.now().offset,L(J)}function x(J){return e.containerState={},t.attempt(yw,b,L)(J)}function b(J){return i++,n.push([e.currentConstruct,e.containerState]),x(J)}function L(J){if(J===null){a&&ee(),H(0),t.consume(J);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),B(J)}function B(J){if(J===null){q(t.exit("chunkFlow"),!0),H(0),t.consume(J);return}return Pe(J)?(t.consume(J),q(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(J),B)}function q(J,fe){const le=e.sliceStream(J);if(fe&&le.push(null),J.previous=l,l&&(l.next=J),l=J,a.defineSkip(J.start),a.write(le),e.parser.lazy[J.start.line]){let $=a.events.length;for(;$--;)if(a.events[$][1].start.offset<c&&(!a.events[$][1].end||a.events[$][1].end.offset>c))return;const z=e.events.length;let M=z,k,O;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(k){O=e.events[M][1].end;break}k=!0}for(H(i),$=z;$<e.events.length;)e.events[$][1].end={...O},$++;ri(e.events,M+1,0,e.events.slice(z)),e.events.length=$}}function H(J){let fe=n.length;for(;fe-- >J;){const le=n[fe];e.containerState=le[1],le[0].exit.call(e,t)}n.length=J}function ee(){a.write([null]),l=void 0,a=void 0,e.containerState._closeFlow=void 0}}function aL(t,e,n){return Et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _w(t){if(t===null||Vn(t)||tL(t))return 1;if(eL(t))return 2}function oy(t,e,n){const i=[];let a=-1;for(;++a<t.length;){const l=t[a].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const Bm={name:"attention",resolveAll:oL,tokenize:lL};function oL(t,e){let n=-1,i,a,l,c,h,p,m,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const w={...t[i][1].end},x={...t[n][1].start};vw(w,-p),vw(x,p),c={type:p>1?"strongSequence":"emphasisSequence",start:w,end:{...t[i][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:x},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},t[i][1].end={...c.start},t[n][1].start={...h.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=yr(m,[["enter",t[i][1],e],["exit",t[i][1],e]])),m=yr(m,[["enter",a,e],["enter",c,e],["exit",c,e],["enter",l,e]]),m=yr(m,oy(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),m=yr(m,[["exit",l,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,m=yr(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,ri(t,i-1,n-i+3,m),n=i+m.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function lL(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,a=_w(i);let l;return c;function c(p){return l=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===l)return t.consume(p),h;const m=t.exit("attentionSequence"),y=_w(p),w=!y||y===2&&a||n.includes(p),x=!a||a===2&&y||n.includes(i);return m._open=!!(l===42?w:w&&(a||!x)),m._close=!!(l===42?x:x&&(y||!w)),e(p)}}function vw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const uL={name:"autolink",tokenize:cL};function cL(t,e,n){let i=0;return a;function a(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(b){return $r(b)?(t.consume(b),c):b===64?n(b):m(b)}function c(b){return b===43||b===45||b===46||Jn(b)?(i=1,h(b)):m(b)}function h(b){return b===58?(t.consume(b),i=0,p):(b===43||b===45||b===46||Jn(b))&&i++<32?(t.consume(b),h):(i=0,m(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||Pm(b)?n(b):(t.consume(b),p)}function m(b){return b===64?(t.consume(b),y):WM(b)?(t.consume(b),m):n(b)}function y(b){return Jn(b)?w(b):n(b)}function w(b){return b===46?(t.consume(b),i=0,y):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):x(b)}function x(b){if((b===45||Jn(b))&&i++<63){const L=b===45?x:w;return t.consume(b),L}return n(b)}}const Cf={partial:!0,tokenize:hL};function hL(t,e,n){return i;function i(l){return ct(l)?Et(t,a,"linePrefix")(l):a(l)}function a(l){return l===null||Pe(l)?e(l):n(l)}}const rS={continuation:{tokenize:dL},exit:pL,name:"blockQuote",tokenize:fL};function fL(t,e,n){const i=this;return a;function a(c){if(c===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),l}return n(c)}function l(c){return ct(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function dL(t,e,n){const i=this;return a;function a(c){return ct(c)?Et(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return t.attempt(rS,e,n)(c)}}function pL(t){t.exit("blockQuote")}const iS={name:"characterEscape",tokenize:mL};function mL(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),a}function a(l){return JM(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const sS={name:"characterReference",tokenize:gL};function gL(t,e,n){const i=this;let a=0,l,c;return h;function h(w){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),p}function p(w){return w===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(w),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),l=31,c=Jn,y(w))}function m(w){return w===88||w===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(w),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,c=ZM,y):(t.enter("characterReferenceValue"),l=7,c=Vm,y(w))}function y(w){if(w===59&&a){const x=t.exit("characterReferenceValue");return c===Jn&&!ay(i.sliceSerialize(x))?n(w):(t.enter("characterReferenceMarker"),t.consume(w),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(w)&&a++<l?(t.consume(w),y):n(w)}}const Ew={partial:!0,tokenize:_L},ww={concrete:!0,name:"codeFenced",tokenize:yL};function yL(t,e,n){const i=this,a={partial:!0,tokenize:le};let l=0,c=0,h;return p;function p($){return m($)}function m($){const z=i.events[i.events.length-1];return l=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,h=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y($)}function y($){return $===h?(c++,t.consume($),y):c<3?n($):(t.exit("codeFencedFenceSequence"),ct($)?Et(t,w,"whitespace")($):w($))}function w($){return $===null||Pe($)?(t.exit("codeFencedFence"),i.interrupt?e($):t.check(Ew,B,fe)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x($))}function x($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),w($)):ct($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Et(t,b,"whitespace")($)):$===96&&$===h?n($):(t.consume($),x)}function b($){return $===null||Pe($)?w($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),L($))}function L($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),w($)):$===96&&$===h?n($):(t.consume($),L)}function B($){return t.attempt(a,fe,q)($)}function q($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),H}function H($){return l>0&&ct($)?Et(t,ee,"linePrefix",l+1)($):ee($)}function ee($){return $===null||Pe($)?t.check(Ew,B,fe)($):(t.enter("codeFlowValue"),J($))}function J($){return $===null||Pe($)?(t.exit("codeFlowValue"),ee($)):(t.consume($),J)}function fe($){return t.exit("codeFenced"),e($)}function le($,z,M){let k=0;return O;function O(we){return $.enter("lineEnding"),$.consume(we),$.exit("lineEnding"),P}function P(we){return $.enter("codeFencedFence"),ct(we)?Et($,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(we):j(we)}function j(we){return we===h?($.enter("codeFencedFenceSequence"),N(we)):M(we)}function N(we){return we===h?(k++,$.consume(we),N):k>=c?($.exit("codeFencedFenceSequence"),ct(we)?Et($,Ee,"whitespace")(we):Ee(we)):M(we)}function Ee(we){return we===null||Pe(we)?($.exit("codeFencedFence"),z(we)):M(we)}}}function _L(t,e,n){const i=this;return a;function a(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l)}function l(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}const Jp={name:"codeIndented",tokenize:EL},vL={partial:!0,tokenize:wL};function EL(t,e,n){const i=this;return a;function a(m){return t.enter("codeIndented"),Et(t,l,"linePrefix",5)(m)}function l(m){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(m):n(m)}function c(m){return m===null?p(m):Pe(m)?t.attempt(vL,c,p)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||Pe(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),h)}function p(m){return t.exit("codeIndented"),e(m)}}function wL(t,e,n){const i=this;return a;function a(c){return i.parser.lazy[i.now().line]?n(c):Pe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),a):Et(t,l,"linePrefix",5)(c)}function l(c){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(c):Pe(c)?a(c):n(c)}}const TL={name:"codeText",previous:SL,resolve:bL,tokenize:AL};function bL(t){let e=t.length-4,n=3,i,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)a===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(a=i):(i===e||t[i][1].type==="lineEnding")&&(t[a][1].type="codeTextData",i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),e-=i-a-2,i=a+2),a=void 0);return t}function SL(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function AL(t,e,n){let i=0,a,l;return c;function c(w){return t.enter("codeText"),t.enter("codeTextSequence"),h(w)}function h(w){return w===96?(t.consume(w),i++,h):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(l=t.enter("codeTextSequence"),a=0,y(w)):Pe(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||Pe(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),m)}function y(w){return w===96?(t.consume(w),a++,y):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",m(w))}}class xL{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const a=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return i&&ou(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ou(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ou(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ou(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ou(this.left,n.reverse())}}}function ou(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function aS(t){const e={};let n=-1,i,a,l,c,h,p,m;const y=new xL(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,RL(y,n)),n=e[n],m=!0);else if(i[1]._container){for(l=n,a=void 0;l--;)if(c=y.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(y.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(i[1].end={...y.get(a)[1].start},h=y.slice(a,n),h.unshift(i),y.splice(a,n-a+1,h))}}return ri(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!m}function RL(t,e){const n=t.get(e)[1],i=t.get(e)[2];let a=e-1;const l=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],m={};let y,w,x=-1,b=n,L=0,B=0;const q=[B];for(;b;){for(;t.get(++a)[1]!==b;);l.push(a),b._tokenizer||(y=i.sliceStream(b),b.next||y.push(null),w&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),w=b,b=b.next}for(b=n;++x<h.length;)h[x][0]==="exit"&&h[x-1][0]==="enter"&&h[x][1].type===h[x-1][1].type&&h[x][1].start.line!==h[x][1].end.line&&(B=x+1,q.push(B),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):q.pop(),x=q.length;x--;){const H=h.slice(q[x],q[x+1]),ee=l.pop();p.push([ee,ee+H.length-1]),t.splice(ee,2,H)}for(p.reverse(),x=-1;++x<p.length;)m[L+p[x][0]]=L+p[x][1],L+=p[x][1]-p[x][0]-1;return m}const IL={resolve:kL,tokenize:DL},CL={partial:!0,tokenize:NL};function kL(t){return aS(t),t}function DL(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):Pe(h)?t.check(CL,c,l)(h):(t.consume(h),a)}function l(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function c(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function NL(t,e,n){const i=this;return a;function a(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Et(t,l,"linePrefix")}function l(c){if(c===null||Pe(c))return n(c);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(c):t.interrupt(i.parser.constructs.flow,n,e)(c)}}function oS(t,e,n,i,a,l,c,h,p){const m=p||Number.POSITIVE_INFINITY;let y=0;return w;function w(H){return H===60?(t.enter(i),t.enter(a),t.enter(l),t.consume(H),t.exit(l),x):H===null||H===32||H===41||Pm(H)?n(H):(t.enter(i),t.enter(c),t.enter(h),t.enter("chunkString",{contentType:"string"}),B(H))}function x(H){return H===62?(t.enter(l),t.consume(H),t.exit(l),t.exit(a),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),b(H))}function b(H){return H===62?(t.exit("chunkString"),t.exit(h),x(H)):H===null||H===60||Pe(H)?n(H):(t.consume(H),H===92?L:b)}function L(H){return H===60||H===62||H===92?(t.consume(H),b):b(H)}function B(H){return!y&&(H===null||H===41||Vn(H))?(t.exit("chunkString"),t.exit(h),t.exit(c),t.exit(i),e(H)):y<m&&H===40?(t.consume(H),y++,B):H===41?(t.consume(H),y--,B):H===null||H===32||H===40||Pm(H)?n(H):(t.consume(H),H===92?q:B)}function q(H){return H===40||H===41||H===92?(t.consume(H),B):B(H)}}function lS(t,e,n,i,a,l){const c=this;let h=0,p;return m;function m(b){return t.enter(i),t.enter(a),t.consume(b),t.exit(a),t.enter(l),y}function y(b){return h>999||b===null||b===91||b===93&&!p||b===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?n(b):b===93?(t.exit(l),t.enter(a),t.consume(b),t.exit(a),t.exit(i),e):Pe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),w(b))}function w(b){return b===null||b===91||b===93||Pe(b)||h++>999?(t.exit("chunkString"),y(b)):(t.consume(b),p||(p=!ct(b)),b===92?x:w)}function x(b){return b===91||b===92||b===93?(t.consume(b),h++,w):w(b)}}function uS(t,e,n,i,a,l){let c;return h;function h(x){return x===34||x===39||x===40?(t.enter(i),t.enter(a),t.consume(x),t.exit(a),c=x===40?41:x,p):n(x)}function p(x){return x===c?(t.enter(a),t.consume(x),t.exit(a),t.exit(i),e):(t.enter(l),m(x))}function m(x){return x===c?(t.exit(l),p(c)):x===null?n(x):Pe(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Et(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===c||x===null||Pe(x)?(t.exit("chunkString"),m(x)):(t.consume(x),x===92?w:y)}function w(x){return x===c||x===92?(t.consume(x),y):y(x)}}function Eu(t,e){let n;return i;function i(a){return Pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,i):ct(a)?Et(t,i,n?"linePrefix":"lineSuffix")(a):e(a)}}const OL={name:"definition",tokenize:LL},ML={partial:!0,tokenize:UL};function LL(t,e,n){const i=this;let a;return l;function l(b){return t.enter("definition"),c(b)}function c(b){return lS.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return a=Lo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):n(b)}function p(b){return Vn(b)?Eu(t,m)(b):m(b)}function m(b){return oS(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function y(b){return t.attempt(ML,w,w)(b)}function w(b){return ct(b)?Et(t,x,"whitespace")(b):x(b)}function x(b){return b===null||Pe(b)?(t.exit("definition"),i.parser.defined.push(a),e(b)):n(b)}}function UL(t,e,n){return i;function i(h){return Vn(h)?Eu(t,a)(h):n(h)}function a(h){return uS(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return ct(h)?Et(t,c,"whitespace")(h):c(h)}function c(h){return h===null||Pe(h)?e(h):n(h)}}const PL={name:"hardBreakEscape",tokenize:VL};function VL(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),a}function a(l){return Pe(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const BL={name:"headingAtx",resolve:zL,tokenize:jL};function zL(t,e){let n=t.length-2,i=3,a,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(a={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},ri(t,i,n-i+1,[["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e]])),t}function jL(t,e,n){let i=0;return a;function a(y){return t.enter("atxHeading"),l(y)}function l(y){return t.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&i++<6?(t.consume(y),c):y===null||Vn(y)?(t.exit("atxHeadingSequence"),h(y)):n(y)}function h(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Pe(y)?(t.exit("atxHeading"),e(y)):ct(y)?Et(t,h,"whitespace")(y):(t.enter("atxHeadingText"),m(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),h(y))}function m(y){return y===null||y===35||Vn(y)?(t.exit("atxHeadingText"),h(y)):(t.consume(y),m)}}const FL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Tw=["pre","script","style","textarea"],qL={concrete:!0,name:"htmlFlow",resolveTo:KL,tokenize:QL},HL={partial:!0,tokenize:YL},GL={partial:!0,tokenize:$L};function KL(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function QL(t,e,n){const i=this;let a,l,c,h,p;return m;function m(U){return y(U)}function y(U){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(U),w}function w(U){return U===33?(t.consume(U),x):U===47?(t.consume(U),l=!0,B):U===63?(t.consume(U),a=3,i.interrupt?e:R):$r(U)?(t.consume(U),c=String.fromCharCode(U),q):n(U)}function x(U){return U===45?(t.consume(U),a=2,b):U===91?(t.consume(U),a=5,h=0,L):$r(U)?(t.consume(U),a=4,i.interrupt?e:R):n(U)}function b(U){return U===45?(t.consume(U),i.interrupt?e:R):n(U)}function L(U){const ve="CDATA[";return U===ve.charCodeAt(h++)?(t.consume(U),h===ve.length?i.interrupt?e:j:L):n(U)}function B(U){return $r(U)?(t.consume(U),c=String.fromCharCode(U),q):n(U)}function q(U){if(U===null||U===47||U===62||Vn(U)){const ve=U===47,Ne=c.toLowerCase();return!ve&&!l&&Tw.includes(Ne)?(a=1,i.interrupt?e(U):j(U)):FL.includes(c.toLowerCase())?(a=6,ve?(t.consume(U),H):i.interrupt?e(U):j(U)):(a=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(U):l?ee(U):J(U))}return U===45||Jn(U)?(t.consume(U),c+=String.fromCharCode(U),q):n(U)}function H(U){return U===62?(t.consume(U),i.interrupt?e:j):n(U)}function ee(U){return ct(U)?(t.consume(U),ee):O(U)}function J(U){return U===47?(t.consume(U),O):U===58||U===95||$r(U)?(t.consume(U),fe):ct(U)?(t.consume(U),J):O(U)}function fe(U){return U===45||U===46||U===58||U===95||Jn(U)?(t.consume(U),fe):le(U)}function le(U){return U===61?(t.consume(U),$):ct(U)?(t.consume(U),le):J(U)}function $(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),p=U,z):ct(U)?(t.consume(U),$):M(U)}function z(U){return U===p?(t.consume(U),p=null,k):U===null||Pe(U)?n(U):(t.consume(U),z)}function M(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Vn(U)?le(U):(t.consume(U),M)}function k(U){return U===47||U===62||ct(U)?J(U):n(U)}function O(U){return U===62?(t.consume(U),P):n(U)}function P(U){return U===null||Pe(U)?j(U):ct(U)?(t.consume(U),P):n(U)}function j(U){return U===45&&a===2?(t.consume(U),me):U===60&&a===1?(t.consume(U),Te):U===62&&a===4?(t.consume(U),ae):U===63&&a===3?(t.consume(U),R):U===93&&a===5?(t.consume(U),He):Pe(U)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(HL,_e,N)(U)):U===null||Pe(U)?(t.exit("htmlFlowData"),N(U)):(t.consume(U),j)}function N(U){return t.check(GL,Ee,_e)(U)}function Ee(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),we}function we(U){return U===null||Pe(U)?N(U):(t.enter("htmlFlowData"),j(U))}function me(U){return U===45?(t.consume(U),R):j(U)}function Te(U){return U===47?(t.consume(U),c="",be):j(U)}function be(U){if(U===62){const ve=c.toLowerCase();return Tw.includes(ve)?(t.consume(U),ae):j(U)}return $r(U)&&c.length<8?(t.consume(U),c+=String.fromCharCode(U),be):j(U)}function He(U){return U===93?(t.consume(U),R):j(U)}function R(U){return U===62?(t.consume(U),ae):U===45&&a===2?(t.consume(U),R):j(U)}function ae(U){return U===null||Pe(U)?(t.exit("htmlFlowData"),_e(U)):(t.consume(U),ae)}function _e(U){return t.exit("htmlFlow"),e(U)}}function $L(t,e,n){const i=this;return a;function a(c){return Pe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):n(c)}function l(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}function YL(t,e,n){return i;function i(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Cf,e,n)}}const XL={name:"htmlText",tokenize:WL};function WL(t,e,n){const i=this;let a,l,c;return h;function h(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),p}function p(R){return R===33?(t.consume(R),m):R===47?(t.consume(R),le):R===63?(t.consume(R),J):$r(R)?(t.consume(R),M):n(R)}function m(R){return R===45?(t.consume(R),y):R===91?(t.consume(R),l=0,L):$r(R)?(t.consume(R),ee):n(R)}function y(R){return R===45?(t.consume(R),b):n(R)}function w(R){return R===null?n(R):R===45?(t.consume(R),x):Pe(R)?(c=w,Te(R)):(t.consume(R),w)}function x(R){return R===45?(t.consume(R),b):w(R)}function b(R){return R===62?me(R):R===45?x(R):w(R)}function L(R){const ae="CDATA[";return R===ae.charCodeAt(l++)?(t.consume(R),l===ae.length?B:L):n(R)}function B(R){return R===null?n(R):R===93?(t.consume(R),q):Pe(R)?(c=B,Te(R)):(t.consume(R),B)}function q(R){return R===93?(t.consume(R),H):B(R)}function H(R){return R===62?me(R):R===93?(t.consume(R),H):B(R)}function ee(R){return R===null||R===62?me(R):Pe(R)?(c=ee,Te(R)):(t.consume(R),ee)}function J(R){return R===null?n(R):R===63?(t.consume(R),fe):Pe(R)?(c=J,Te(R)):(t.consume(R),J)}function fe(R){return R===62?me(R):J(R)}function le(R){return $r(R)?(t.consume(R),$):n(R)}function $(R){return R===45||Jn(R)?(t.consume(R),$):z(R)}function z(R){return Pe(R)?(c=z,Te(R)):ct(R)?(t.consume(R),z):me(R)}function M(R){return R===45||Jn(R)?(t.consume(R),M):R===47||R===62||Vn(R)?k(R):n(R)}function k(R){return R===47?(t.consume(R),me):R===58||R===95||$r(R)?(t.consume(R),O):Pe(R)?(c=k,Te(R)):ct(R)?(t.consume(R),k):me(R)}function O(R){return R===45||R===46||R===58||R===95||Jn(R)?(t.consume(R),O):P(R)}function P(R){return R===61?(t.consume(R),j):Pe(R)?(c=P,Te(R)):ct(R)?(t.consume(R),P):k(R)}function j(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),a=R,N):Pe(R)?(c=j,Te(R)):ct(R)?(t.consume(R),j):(t.consume(R),Ee)}function N(R){return R===a?(t.consume(R),a=void 0,we):R===null?n(R):Pe(R)?(c=N,Te(R)):(t.consume(R),N)}function Ee(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Vn(R)?k(R):(t.consume(R),Ee)}function we(R){return R===47||R===62||Vn(R)?k(R):n(R)}function me(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function Te(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),be}function be(R){return ct(R)?Et(t,He,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):He(R)}function He(R){return t.enter("htmlTextData"),c(R)}}const ly={name:"labelEnd",resolveAll:tU,resolveTo:nU,tokenize:rU},ZL={tokenize:iU},JL={tokenize:sU},eU={tokenize:aU};function tU(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const a=i.type==="labelImage"?4:2;i.type="data",e+=a}}return t.length!==n.length&&ri(t,0,t.length,n),t}function nU(t,e){let n=t.length,i=0,a,l,c,h;for(;n--;)if(a=t[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){i=2;break}}else a.type==="labelEnd"&&(c=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[l][1].start},end:{...t[c][1].end}},y={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[c-2][1].start}};return h=[["enter",p,e],["enter",m,e]],h=yr(h,t.slice(l+1,l+i+3)),h=yr(h,[["enter",y,e]]),h=yr(h,oy(e.parser.constructs.insideSpan.null,t.slice(l+i+4,c-3),e)),h=yr(h,[["exit",y,e],t[c-2],t[c-1],["exit",m,e]]),h=yr(h,t.slice(c+1)),h=yr(h,[["exit",p,e]]),ri(t,l,t.length,h),t}function rU(t,e,n){const i=this;let a=i.events.length,l,c;for(;a--;)if((i.events[a][1].type==="labelImage"||i.events[a][1].type==="labelLink")&&!i.events[a][1]._balanced){l=i.events[a][1];break}return h;function h(x){return l?l._inactive?w(x):(c=i.parser.defined.includes(Lo(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),p):n(x)}function p(x){return x===40?t.attempt(ZL,y,c?y:w)(x):x===91?t.attempt(JL,y,c?m:w)(x):c?y(x):w(x)}function m(x){return t.attempt(eU,y,w)(x)}function y(x){return e(x)}function w(x){return l._balanced=!0,n(x)}}function iU(t,e,n){return i;function i(w){return t.enter("resource"),t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),a}function a(w){return Vn(w)?Eu(t,l)(w):l(w)}function l(w){return w===41?y(w):oS(t,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function c(w){return Vn(w)?Eu(t,p)(w):y(w)}function h(w){return n(w)}function p(w){return w===34||w===39||w===40?uS(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):y(w)}function m(w){return Vn(w)?Eu(t,y)(w):y(w)}function y(w){return w===41?(t.enter("resourceMarker"),t.consume(w),t.exit("resourceMarker"),t.exit("resource"),e):n(w)}}function sU(t,e,n){const i=this;return a;function a(h){return lS.call(i,t,l,c,"reference","referenceMarker","referenceString")(h)}function l(h){return i.parser.defined.includes(Lo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function c(h){return n(h)}}function aU(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),a}function a(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const oU={name:"labelStartImage",resolveAll:ly.resolveAll,tokenize:lU};function lU(t,e,n){const i=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),l}function l(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),c):n(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const uU={name:"labelStartLink",resolveAll:ly.resolveAll,tokenize:cU};function cU(t,e,n){const i=this;return a;function a(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const em={name:"lineEnding",tokenize:hU};function hU(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Et(t,e,"linePrefix")}}const Nh={name:"thematicBreak",tokenize:fU};function fU(t,e,n){let i=0,a;return l;function l(m){return t.enter("thematicBreak"),c(m)}function c(m){return a=m,h(m)}function h(m){return m===a?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||Pe(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===a?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),ct(m)?Et(t,h,"whitespace")(m):h(m))}}const On={continuation:{tokenize:gU},exit:_U,name:"list",tokenize:mU},dU={partial:!0,tokenize:vU},pU={partial:!0,tokenize:yU};function mU(t,e,n){const i=this,a=i.events[i.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return h;function h(b){const L=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(L==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Vm(b)){if(i.containerState.type||(i.containerState.type=L,t.enter(L,{_container:!0})),L==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Nh,n,m)(b):m(b);if(!i.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return n(b)}function p(b){return Vm(b)&&++c<10?(t.consume(b),p):(!i.interrupt||c<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),m(b)):n(b)}function m(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,t.check(Cf,i.interrupt?n:y,t.attempt(dU,x,w))}function y(b){return i.containerState.initialBlankLine=!0,l++,x(b)}function w(b){return ct(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),x):n(b)}function x(b){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function gU(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Cf,a,l);function a(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Et(t,e,"listItemIndent",i.containerState.size+1)(h)}function l(h){return i.containerState.furtherBlankLines||!ct(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(pU,e,c)(h))}function c(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,Et(t,t.attempt(On,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function yU(t,e,n){const i=this;return Et(t,a,"listItemIndent",i.containerState.size+1);function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?e(l):n(l)}}function _U(t){t.exit(this.containerState.type)}function vU(t,e,n){const i=this;return Et(t,a,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=i.events[i.events.length-1];return!ct(l)&&c&&c[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const bw={name:"setextUnderline",resolveTo:EU,tokenize:wU};function EU(t,e){let n=t.length,i,a,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const c={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",l?(t.splice(a,0,["enter",c,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=c,t.push(["exit",c,e]),t}function wU(t,e,n){const i=this;let a;return l;function l(m){let y=i.events.length,w;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){w=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||w)?(t.enter("setextHeadingLine"),a=m,c(m)):n(m)}function c(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===a?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),ct(m)?Et(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||Pe(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const TU={tokenize:bU};function bU(t){const e=this,n=t.attempt(Cf,i,t.attempt(this.parser.constructs.flowInitial,a,Et(t,t.attempt(this.parser.constructs.flow,a,t.attempt(IL,a)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const SU={resolveAll:hS()},AU=cS("string"),xU=cS("text");function cS(t){return{resolveAll:hS(t==="text"?RU:void 0),tokenize:e};function e(n){const i=this,a=this.parser.constructs[t],l=n.attempt(a,c,h);return c;function c(y){return m(y)?l(y):h(y)}function h(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return m(y)?(n.exit("data"),l(y)):(n.consume(y),p)}function m(y){if(y===null)return!0;const w=a[y];let x=-1;if(w)for(;++x<w.length;){const b=w[x];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function hS(t){return e;function e(n,i){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return t?t(n,i):n}}function RU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],a=e.sliceStream(i);let l=a.length,c=-1,h=0,p;for(;l--;){const m=a[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(m===-2)p=!0,h++;else if(m!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const m={type:n===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:i.start._bufferIndex+c,_index:i.start._index+l,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const IU={42:On,43:On,45:On,48:On,49:On,50:On,51:On,52:On,53:On,54:On,55:On,56:On,57:On,62:rS},CU={91:OL},kU={[-2]:Jp,[-1]:Jp,32:Jp},DU={35:BL,42:Nh,45:[bw,Nh],60:qL,61:bw,95:Nh,96:ww,126:ww},NU={38:sS,92:iS},OU={[-5]:em,[-4]:em,[-3]:em,33:oU,38:sS,42:Bm,60:[uL,XL],91:uU,92:[PL,iS],93:ly,95:Bm,96:TL},MU={null:[Bm,SU]},LU={null:[42,95]},UU={null:[]},PU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LU,contentInitial:CU,disable:UU,document:IU,flow:DU,flowInitial:kU,insideSpan:MU,string:NU,text:OU},Symbol.toStringTag,{value:"Module"}));function VU(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let c=[],h=[];const p={attempt:z(le),check:z($),consume:ee,enter:J,exit:fe,interrupt:z($,{interrupt:!0})},m={code:null,containerState:{},defineSkip:B,events:[],now:L,parser:t,previous:null,sliceSerialize:x,sliceStream:b,write:w};let y=e.tokenize.call(m,p);return e.resolveAll&&l.push(e),m;function w(P){return c=yr(c,P),q(),c[c.length-1]!==null?[]:(M(e,0),m.events=oy(l,m.events,m),m.events)}function x(P,j){return zU(b(P),j)}function b(P){return BU(c,P)}function L(){const{_bufferIndex:P,_index:j,line:N,column:Ee,offset:we}=i;return{_bufferIndex:P,_index:j,line:N,column:Ee,offset:we}}function B(P){a[P.line]=P.column,O()}function q(){let P;for(;i._index<c.length;){const j=c[i._index];if(typeof j=="string")for(P=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===P&&i._bufferIndex<j.length;)H(j.charCodeAt(i._bufferIndex));else H(j)}}function H(P){y=y(P)}function ee(P){Pe(P)?(i.line++,i.column=1,i.offset+=P===-3?2:1,O()):P!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=P}function J(P,j){const N=j||{};return N.type=P,N.start=L(),m.events.push(["enter",N,m]),h.push(N),N}function fe(P){const j=h.pop();return j.end=L(),m.events.push(["exit",j,m]),j}function le(P,j){M(P,j.from)}function $(P,j){j.restore()}function z(P,j){return N;function N(Ee,we,me){let Te,be,He,R;return Array.isArray(Ee)?_e(Ee):"tokenize"in Ee?_e([Ee]):ae(Ee);function ae(xe){return dt;function dt(Le){const at=Le!==null&&xe[Le],Qe=Le!==null&&xe.null,It=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return _e(It)(Le)}}function _e(xe){return Te=xe,be=0,xe.length===0?me:U(xe[be])}function U(xe){return dt;function dt(Le){return R=k(),He=xe,xe.partial||(m.currentConstruct=xe),xe.name&&m.parser.constructs.disable.null.includes(xe.name)?Ne():xe.tokenize.call(j?Object.assign(Object.create(m),j):m,p,ve,Ne)(Le)}}function ve(xe){return P(He,R),we}function Ne(xe){return R.restore(),++be<Te.length?U(Te[be]):me}}}function M(P,j){P.resolveAll&&!l.includes(P)&&l.push(P),P.resolve&&ri(m.events,j,m.events.length-j,P.resolve(m.events.slice(j),m)),P.resolveTo&&(m.events=P.resolveTo(m.events,m))}function k(){const P=L(),j=m.previous,N=m.currentConstruct,Ee=m.events.length,we=Array.from(h);return{from:Ee,restore:me};function me(){i=P,m.previous=j,m.currentConstruct=N,m.events.length=Ee,h=we,O()}}function O(){i.line in a&&i.column<2&&(i.column=a[i.line],i.offset+=a[i.line]-1)}}function BU(t,e){const n=e.start._index,i=e.start._bufferIndex,a=e.end._index,l=e.end._bufferIndex;let c;if(n===a)c=[t[n].slice(i,l)];else{if(c=t.slice(n,a),i>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(i):c.shift()}l>0&&c.push(t[a].slice(0,l))}return c}function zU(t,e){let n=-1;const i=[];let a;for(;++n<t.length;){const l=t[n];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,i.push(c)}return i.join("")}function jU(t){const i={constructs:$M([PU,...(t||{}).extensions||[]]),content:a(nL),defined:[],document:a(iL),flow:a(TU),lazy:{},string:a(AU),text:a(xU)};return i;function a(l){return c;function c(h){return VU(i,l,h)}}}function FU(t){for(;!aS(t););return t}const Sw=/[\0\t\n\r]/g;function qU(){let t=1,e="",n=!0,i;return a;function a(l,c,h){const p=[];let m,y,w,x,b;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),w=0,e="",n&&(l.charCodeAt(0)===65279&&w++,n=void 0);w<l.length;){if(Sw.lastIndex=w,m=Sw.exec(l),x=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(x),!m){e=l.slice(w);break}if(b===10&&w===x&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),w<x&&(p.push(l.slice(w,x)),t+=x-w),b){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}w=x+1}return h&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const HU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GU(t){return t.replace(HU,KU)}function KU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return nS(n.slice(l?2:1),l?16:10)}return ay(n)||t}const fS={}.hasOwnProperty;function QU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),$U(n)(FU(jU(n).document().write(qU()(t,e,!0))))}function $U(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Er),autolinkProtocol:k,autolinkEmail:k,atxHeading:l(zn),blockQuote:l(Qe),characterEscape:k,characterReference:k,codeFenced:l(It),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(It,c),codeText:l(Cn,c),codeTextData:k,data:k,codeFlowValue:k,definition:l(Mt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(dn),hardBreakEscape:l(kn),hardBreakTrailing:l(kn),htmlFlow:l(er,c),htmlFlowData:k,htmlText:l(er,c),htmlTextData:k,image:l(kr),label:c,link:l(Er),listItem:l(Fn),listItemValue:x,listOrdered:l(jn,w),listUnordered:l(jn),paragraph:l(pn),reference:U,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(zn),strong:l(wr),thematicBreak:l(Tn)},exit:{atxHeading:p(),atxHeadingSequence:le,autolink:p(),autolinkEmail:at,autolinkProtocol:Le,blockQuote:p(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:xe,characterReference:dt,codeFenced:p(q),codeFencedFence:B,codeFencedFenceInfo:b,codeFencedFenceMeta:L,codeFlowValue:O,codeIndented:p(H),codeText:p(we),codeTextData:O,data:O,definition:p(),definitionDestinationString:fe,definitionLabelString:ee,definitionTitleString:J,emphasis:p(),hardBreakEscape:p(j),hardBreakTrailing:p(j),htmlFlow:p(N),htmlFlowData:O,htmlText:p(Ee),htmlTextData:O,image:p(Te),label:He,labelText:be,lineEnding:P,link:p(me),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ve,resourceDestinationString:R,resourceTitleString:ae,resource:_e,setextHeading:p(M),setextHeadingLineSequence:z,setextHeadingText:$,strong:p(),thematicBreak:p()}};dS(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(ne){let A={type:"root",children:[]};const _={stack:[A],tokenStack:[],config:e,enter:h,exit:m,buffer:c,resume:y,data:n},E=[];let D=-1;for(;++D<ne.length;)if(ne[D][1].type==="listOrdered"||ne[D][1].type==="listUnordered")if(ne[D][0]==="enter")E.push(D);else{const G=E.pop();D=a(ne,G,D)}for(D=-1;++D<ne.length;){const G=e[ne[D][0]];fS.call(G,ne[D][1].type)&&G[ne[D][1].type].call(Object.assign({sliceSerialize:ne[D][2].sliceSerialize},_),ne[D][1])}if(_.tokenStack.length>0){const G=_.tokenStack[_.tokenStack.length-1];(G[1]||Aw).call(_,void 0,G[0])}for(A.position={start:Ts(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Ts(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<e.transforms.length;)A=e.transforms[D](A)||A;return A}function a(ne,A,_){let E=A-1,D=-1,G=!1,Z,ie,Re,tt;for(;++E<=_;){const Me=ne[E];switch(Me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Me[0]==="enter"?D++:D--,tt=void 0;break}case"lineEndingBlank":{Me[0]==="enter"&&(Z&&!tt&&!D&&!Re&&(Re=E),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!D&&Me[0]==="enter"&&Me[1].type==="listItemPrefix"||D===-1&&Me[0]==="exit"&&(Me[1].type==="listUnordered"||Me[1].type==="listOrdered")){if(Z){let Be=E;for(ie=void 0;Be--;){const qe=ne[Be];if(qe[1].type==="lineEnding"||qe[1].type==="lineEndingBlank"){if(qe[0]==="exit")continue;ie&&(ne[ie][1].type="lineEndingBlank",G=!0),qe[1].type="lineEnding",ie=Be}else if(!(qe[1].type==="linePrefix"||qe[1].type==="blockQuotePrefix"||qe[1].type==="blockQuotePrefixWhitespace"||qe[1].type==="blockQuoteMarker"||qe[1].type==="listItemIndent"))break}Re&&(!ie||Re<ie)&&(Z._spread=!0),Z.end=Object.assign({},ie?ne[ie][1].start:Me[1].end),ne.splice(ie||E,0,["exit",Z,Me[2]]),E++,_++}if(Me[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},Me[1].start),end:void 0};Z=Be,ne.splice(E,0,["enter",Be,Me[2]]),E++,_++,Re=void 0,tt=!0}}}return ne[A][1]._spread=G,_}function l(ne,A){return _;function _(E){h.call(this,ne(E),E),A&&A.call(this,E)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(ne,A,_){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([A,_||void 0]),ne.position={start:Ts(A.start),end:void 0}}function p(ne){return A;function A(_){ne&&ne.call(this,_),m.call(this,_)}}function m(ne,A){const _=this.stack.pop(),E=this.tokenStack.pop();if(E)E[0].type!==ne.type&&(A?A.call(this,ne,E[0]):(E[1]||Aw).call(this,ne,E[0]));else throw new Error("Cannot close `"+ne.type+"` ("+vu({start:ne.start,end:ne.end})+"): it’s not open");_.position.end=Ts(ne.end)}function y(){return KM(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function x(ne){if(this.data.expectingFirstListItemValue){const A=this.stack[this.stack.length-2];A.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.lang=ne}function L(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.meta=ne}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function q(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function H(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne.replace(/(\r?\n|\r)$/g,"")}function ee(ne){const A=this.resume(),_=this.stack[this.stack.length-1];_.label=A,_.identifier=Lo(this.sliceSerialize(ne)).toLowerCase()}function J(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.title=ne}function fe(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.url=ne}function le(ne){const A=this.stack[this.stack.length-1];if(!A.depth){const _=this.sliceSerialize(ne).length;A.depth=_}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function z(ne){const A=this.stack[this.stack.length-1];A.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function k(ne){const _=this.stack[this.stack.length-1].children;let E=_[_.length-1];(!E||E.type!=="text")&&(E=Wt(),E.position={start:Ts(ne.start),end:void 0},_.push(E)),this.stack.push(E)}function O(ne){const A=this.stack.pop();A.value+=this.sliceSerialize(ne),A.position.end=Ts(ne.end)}function P(ne){const A=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _=A.children[A.children.length-1];_.position.end=Ts(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(A.type)&&(k.call(this,ne),O.call(this,ne))}function j(){this.data.atHardBreak=!0}function N(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne}function Ee(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne}function we(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.value=ne}function me(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=A,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Te(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const A=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=A,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function be(ne){const A=this.sliceSerialize(ne),_=this.stack[this.stack.length-2];_.label=GU(A),_.identifier=Lo(A).toLowerCase()}function He(){const ne=this.stack[this.stack.length-1],A=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,_.type==="link"){const E=ne.children;_.children=E}else _.alt=A}function R(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.url=ne}function ae(){const ne=this.resume(),A=this.stack[this.stack.length-1];A.title=ne}function _e(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function ve(ne){const A=this.resume(),_=this.stack[this.stack.length-1];_.label=A,_.identifier=Lo(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function Ne(ne){this.data.characterReferenceType=ne.type}function xe(ne){const A=this.sliceSerialize(ne),_=this.data.characterReferenceType;let E;_?(E=nS(A,_==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):E=ay(A);const D=this.stack[this.stack.length-1];D.value+=E}function dt(ne){const A=this.stack.pop();A.position.end=Ts(ne.end)}function Le(ne){O.call(this,ne);const A=this.stack[this.stack.length-1];A.url=this.sliceSerialize(ne)}function at(ne){O.call(this,ne);const A=this.stack[this.stack.length-1];A.url="mailto:"+this.sliceSerialize(ne)}function Qe(){return{type:"blockquote",children:[]}}function It(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dn(){return{type:"emphasis",children:[]}}function zn(){return{type:"heading",depth:0,children:[]}}function kn(){return{type:"break"}}function er(){return{type:"html",value:""}}function kr(){return{type:"image",title:null,url:"",alt:null}}function Er(){return{type:"link",title:null,url:"",children:[]}}function jn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function Fn(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function pn(){return{type:"paragraph",children:[]}}function wr(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function Tn(){return{type:"thematicBreak"}}}function Ts(t){return{line:t.line,column:t.column,offset:t.offset}}function dS(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?dS(t,i):YU(t,i)}}function YU(t,e){let n;for(n in e)if(fS.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function Aw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vu({start:e.start,end:e.end})+") is still open")}function XU(t){const e=this;e.parser=n;function n(i){return QU(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function WU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ZU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function JU(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function eP(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tP(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nP(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),a=nl(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let c,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),c=t.footnoteOrder.length):c=l+1,h+=1,t.footnoteCounts.set(i,h);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,m),t.applyData(e,m)}function rP(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iP(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pS(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const a=t.all(e),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const c=a[a.length-1];return c&&c.type==="text"?c.value+=i:a.push({type:"text",value:i}),a}function sP(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return pS(t,e);const a={src:nl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,l),t.applyData(e,l)}function aP(t,e){const n={src:nl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function oP(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function lP(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return pS(t,e);const a={href:nl(i.url||"")};i.title!==null&&i.title!==void 0&&(a.title=i.title);const l={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function uP(t,e){const n={href:nl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function cP(t,e,n){const i=t.all(e),a=n?hP(n):mS(e),l={},c=[];if(typeof e.checked=="boolean"){const y=i[0];let w;y&&y.type==="element"&&y.tagName==="p"?w=y:(w={type:"element",tagName:"p",properties:{},children:[]},i.unshift(w)),w.children.length>0&&w.children.unshift({type:"text",value:" "}),w.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const y=i[h];(a||h!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!a?c.push(...y.children):c.push(y)}const p=i[i.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return t.patch(e,m),t.applyData(e,m)}function hP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=mS(n[i])}return e}function mS(t){const e=t.spread;return e??t.children.length>1}function fP(t,e){const n={},i=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<i.length;){const c=i[a];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function dP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function mP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gP(t,e){const n=t.all(e),i=n.shift(),a=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],c),a.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=ny(e.children[1]),p=Yb(e.children[e.children.length-1]);h&&p&&(c.position={start:h,end:p}),a.push(c)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function yP(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,h=c?c.length:e.children.length;let p=-1;const m=[];for(;++p<h;){const w=e.children[p],x={},b=c?c[p]:void 0;b&&(x.align=b);let L={type:"element",tagName:l,properties:x,children:[]};w&&(L.children=t.all(w),t.patch(w,L),L=t.applyData(w,L)),m.push(L)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,y),t.applyData(e,y)}function _P(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const xw=9,Rw=32;function vP(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),a=0;const l=[];for(;i;)l.push(Iw(e.slice(a,i.index),a>0,!0),i[0]),a=i.index+i[0].length,i=n.exec(e);return l.push(Iw(e.slice(a),a>0,!1)),l.join("")}function Iw(t,e,n){let i=0,a=t.length;if(e){let l=t.codePointAt(i);for(;l===xw||l===Rw;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(a-1);for(;l===xw||l===Rw;)a--,l=t.codePointAt(a-1)}return a>i?t.slice(i,a):""}function EP(t,e){const n={type:"text",value:vP(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function wP(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const TP={blockquote:WU,break:ZU,code:JU,delete:eP,emphasis:tP,footnoteReference:nP,heading:rP,html:iP,imageReference:sP,image:aP,inlineCode:oP,linkReference:lP,link:uP,listItem:cP,list:fP,paragraph:dP,root:pP,strong:mP,table:gP,tableCell:_P,tableRow:yP,text:EP,thematicBreak:wP,toml:vh,yaml:vh,definition:vh,footnoteDefinition:vh};function vh(){}const gS=-1,kf=0,wu=1,tf=2,uy=3,cy=4,hy=5,fy=6,yS=7,_S=8,Cw=typeof self=="object"?self:globalThis,bP=(t,e)=>{const n=(a,l)=>(t.set(l,a),a),i=a=>{if(t.has(a))return t.get(a);const[l,c]=e[a];switch(l){case kf:case gS:return n(c,a);case wu:{const h=n([],a);for(const p of c)h.push(i(p));return h}case tf:{const h=n({},a);for(const[p,m]of c)h[i(p)]=i(m);return h}case uy:return n(new Date(c),a);case cy:{const{source:h,flags:p}=c;return n(new RegExp(h,p),a)}case hy:{const h=n(new Map,a);for(const[p,m]of c)h.set(i(p),i(m));return h}case fy:{const h=n(new Set,a);for(const p of c)h.add(i(p));return h}case yS:{const{name:h,message:p}=c;return n(new Cw[h](p),a)}case _S:return n(BigInt(c),a);case"BigInt":return n(Object(BigInt(c)),a);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return n(new DataView(h),c)}}return n(new Cw[l](c),a)};return i},kw=t=>bP(new Map,t)(0),So="",{toString:SP}={},{keys:AP}=Object,lu=t=>{const e=typeof t;if(e!=="object"||!t)return[kf,e];const n=SP.call(t).slice(8,-1);switch(n){case"Array":return[wu,So];case"Object":return[tf,So];case"Date":return[uy,So];case"RegExp":return[cy,So];case"Map":return[hy,So];case"Set":return[fy,So];case"DataView":return[wu,n]}return n.includes("Array")?[wu,n]:n.includes("Error")?[yS,n]:[tf,n]},Eh=([t,e])=>t===kf&&(e==="function"||e==="symbol"),xP=(t,e,n,i)=>{const a=(c,h)=>{const p=i.push(c)-1;return n.set(h,p),p},l=c=>{if(n.has(c))return n.get(c);let[h,p]=lu(c);switch(h){case kf:{let y=c;switch(p){case"bigint":h=_S,y=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return a([gS],c)}return a([h,y],c)}case wu:{if(p){let x=c;return p==="DataView"?x=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(x=new Uint8Array(c)),a([p,[...x]],c)}const y=[],w=a([h,y],c);for(const x of c)y.push(l(x));return w}case tf:{if(p)switch(p){case"BigInt":return a([p,c.toString()],c);case"Boolean":case"Number":case"String":return a([p,c.valueOf()],c)}if(e&&"toJSON"in c)return l(c.toJSON());const y=[],w=a([h,y],c);for(const x of AP(c))(t||!Eh(lu(c[x])))&&y.push([l(x),l(c[x])]);return w}case uy:return a([h,c.toISOString()],c);case cy:{const{source:y,flags:w}=c;return a([h,{source:y,flags:w}],c)}case hy:{const y=[],w=a([h,y],c);for(const[x,b]of c)(t||!(Eh(lu(x))||Eh(lu(b))))&&y.push([l(x),l(b)]);return w}case fy:{const y=[],w=a([h,y],c);for(const x of c)(t||!Eh(lu(x)))&&y.push(l(x));return w}}const{message:m}=c;return a([h,{name:p,message:m}],c)};return l},Dw=(t,{json:e,lossy:n}={})=>{const i=[];return xP(!(e||n),!!e,new Map,i)(t),i},nf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kw(Dw(t,e)):structuredClone(t):(t,e)=>kw(Dw(t,e));function RP(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function IP(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function CP(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||RP,i=t.options.footnoteBackLabel||IP,a=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const y=t.all(m),w=String(m.identifier).toUpperCase(),x=nl(w.toLowerCase());let b=0;const L=[],B=t.footnoteCounts.get(w);for(;B!==void 0&&++b<=B;){L.length>0&&L.push({type:"text",value:" "});let ee=typeof n=="string"?n:n(p,b);typeof ee=="string"&&(ee={type:"text",value:ee}),L.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,b),className:["data-footnote-backref"]},children:Array.isArray(ee)?ee:[ee]})}const q=y[y.length-1];if(q&&q.type==="element"&&q.tagName==="p"){const ee=q.children[q.children.length-1];ee&&ee.type==="text"?ee.value+=" ":q.children.push({type:"text",value:" "}),q.children.push(...L)}else y.push(...L);const H={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(y,!0)};t.patch(m,H),h.push(H)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...nf(c),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const dy=function(t){if(t==null)return OP;if(typeof t=="function")return Df(t);if(typeof t=="object")return Array.isArray(t)?kP(t):DP(t);if(typeof t=="string")return NP(t);throw new Error("Expected function, string, or object as test")};function kP(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=dy(t[n]);return Df(i);function i(...a){let l=-1;for(;++l<e.length;)if(e[l].apply(this,a))return!0;return!1}}function DP(t){const e=t;return Df(n);function n(i){const a=i;let l;for(l in t)if(a[l]!==e[l])return!1;return!0}}function NP(t){return Df(e);function e(n){return n&&n.type===t}}function Df(t){return e;function e(n,i,a){return!!(MP(n)&&t.call(this,n,typeof i=="number"?i:void 0,a||void 0))}}function OP(){return!0}function MP(t){return t!==null&&typeof t=="object"&&"type"in t}const vS=[],LP=!0,Nw=!1,UP="skip";function ES(t,e,n,i){let a;typeof e=="function"&&typeof n!="function"?(i=n,n=e):a=e;const l=dy(a),c=i?-1:1;h(t,void 0,[])();function h(p,m,y){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const b=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return x;function x(){let b=vS,L,B,q;if((!e||l(p,m,y[y.length-1]||void 0))&&(b=PP(n(p,y)),b[0]===Nw))return b;if("children"in p&&p.children){const H=p;if(H.children&&b[0]!==UP)for(B=(i?H.children.length:-1)+c,q=y.concat(H);B>-1&&B<H.children.length;){const ee=H.children[B];if(L=h(ee,B,q)(),L[0]===Nw)return L;B=typeof L[1]=="number"?L[1]:B+c}}return b}}}function PP(t){return Array.isArray(t)?t:typeof t=="number"?[LP,t]:t==null?vS:[t]}function wS(t,e,n,i){let a,l,c;typeof e=="function"?(l=void 0,c=e,a=n):(l=e,c=n,a=i),ES(t,l,h,a);function h(p,m){const y=m[m.length-1],w=y?y.children.indexOf(p):void 0;return c(p,w,y)}}const zm={}.hasOwnProperty,VP={};function BP(t,e){const n=e||VP,i=new Map,a=new Map,l=new Map,c={...TP,...n.handlers},h={all:m,applyData:jP,definitionById:i,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:c,one:p,options:n,patch:zP,wrap:qP};return wS(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const w=y.type==="definition"?i:a,x=String(y.identifier).toUpperCase();w.has(x)||w.set(x,y)}}),h;function p(y,w){const x=y.type,b=h.handlers[x];if(zm.call(h.handlers,x)&&b)return b(h,y,w);if(h.options.passThrough&&h.options.passThrough.includes(x)){if("children"in y){const{children:B,...q}=y,H=nf(q);return H.children=h.all(y),H}return nf(y)}return(h.options.unknownHandler||FP)(h,y,w)}function m(y){const w=[];if("children"in y){const x=y.children;let b=-1;for(;++b<x.length;){const L=h.one(x[b],y);if(L){if(b&&x[b-1].type==="break"&&(!Array.isArray(L)&&L.type==="text"&&(L.value=Ow(L.value)),!Array.isArray(L)&&L.type==="element")){const B=L.children[0];B&&B.type==="text"&&(B.value=Ow(B.value))}Array.isArray(L)?w.push(...L):w.push(L)}}}return w}}function zP(t,e){t.position&&(e.position=TM(t))}function jP(t,e){let n=e;if(t&&t.data){const i=t.data.hName,a=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&l&&Object.assign(n.properties,nf(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function FP(t,e){const n=e.data||{},i="value"in e&&!(zm.call(n,"hProperties")||zm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function qP(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Ow(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Mw(t,e){const n=BP(t,e),i=n.one(t,void 0),a=CP(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function HP(t,e){return t&&"run"in t?async function(n,i){const a=Mw(n,{file:i,...e});await t.run(a,i)}:function(n,i){return Mw(n,{file:i,...t||e})}}function Lw(t){if(t)throw t}var tm,Uw;function GP(){if(Uw)return tm;Uw=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},l=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var y=t.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!w)return!1;var x;for(x in m);return typeof x>"u"||t.call(m,x)},c=function(m,y){n&&y.name==="__proto__"?n(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},h=function(m,y){if(y==="__proto__")if(t.call(m,y)){if(i)return i(m,y).value}else return;return m[y]};return tm=function p(){var m,y,w,x,b,L,B=arguments[0],q=1,H=arguments.length,ee=!1;for(typeof B=="boolean"&&(ee=B,B=arguments[1]||{},q=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});q<H;++q)if(m=arguments[q],m!=null)for(y in m)w=h(B,y),x=h(m,y),B!==x&&(ee&&x&&(l(x)||(b=a(x)))?(b?(b=!1,L=w&&a(w)?w:[]):L=w&&l(w)?w:{},c(B,{name:y,newValue:p(ee,L,x)})):typeof x<"u"&&c(B,{name:y,newValue:x}));return B},tm}var KP=GP();const nm=Cu(KP);function jm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function QP(){const t=[],e={run:n,use:i};return e;function n(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...a);function h(p,...m){const y=t[++l];let w=-1;if(p){c(p);return}for(;++w<a.length;)(m[w]===null||m[w]===void 0)&&(m[w]=a[w]);a=m,y?$P(y,h)(...m):c(null,...m)}}function i(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function $P(t,e){let n;return i;function i(...c){const h=t.length>c.length;let p;h&&c.push(a);try{p=t.apply(this,c)}catch(m){const y=m;if(h&&n)throw y;return a(y)}h||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...h){n||(n=!0,e(c,...h))}function l(c){a(null,c)}}const Kr={basename:YP,dirname:XP,extname:WP,join:ZP,sep:"/"};function YP(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Hu(t);let n=0,i=-1,a=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else i<0&&(l=!0,i=a+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let c=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(l){n=a+1;break}}else c<0&&(l=!0,c=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(i=a):(h=-1,i=c));return n===i?i=c:i<0&&(i=t.length),t.slice(n,i)}function XP(t){if(Hu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function WP(t){Hu(t);let e=t.length,n=-1,i=0,a=-1,l=0,c;for(;e--;){const h=t.codePointAt(e);if(h===47){if(c){i=e+1;break}continue}n<0&&(c=!0,n=e+1),h===46?a<0?a=e:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===i+1?"":t.slice(a,n)}function ZP(...t){let e=-1,n;for(;++e<t.length;)Hu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":JP(n)}function JP(t){Hu(t);const e=t.codePointAt(0)===47;let n=e5(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function e5(t,e){let n="",i=0,a=-1,l=0,c=-1,h,p;for(;++c<=t.length;){if(c<t.length)h=t.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),a=c,l=0;continue}}else if(n.length>0){n="",i=0,a=c,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(a+1,c):n=t.slice(a+1,c),i=c-a-1;a=c,l=0}else h===46&&l>-1?l++:l=-1}return n}function Hu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const t5={cwd:n5};function n5(){return"/"}function Fm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function r5(t){if(typeof t=="string")t=new URL(t);else if(!Fm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return i5(t)}function i5(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const rm=["history","path","basename","stem","extname","dirname"];class TS{constructor(e){let n;e?Fm(e)?n={path:e}:typeof e=="string"||s5(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":t5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<rm.length;){const l=rm[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)rm.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Kr.basename(this.path):void 0}set basename(e){sm(e,"basename"),im(e,"basename"),this.path=Kr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Kr.dirname(this.path):void 0}set dirname(e){Pw(this.basename,"dirname"),this.path=Kr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Kr.extname(this.path):void 0}set extname(e){if(im(e,"extname"),Pw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Fm(e)&&(e=r5(e)),sm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Kr.basename(this.path,this.extname):void 0}set stem(e){sm(e,"stem"),im(e,"stem"),this.path=Kr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const a=this.message(e,n,i);throw a.fatal=!0,a}info(e,n,i){const a=this.message(e,n,i);return a.fatal=void 0,a}message(e,n,i){const a=new wn(e,n,i);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function im(t,e){if(t&&t.includes(Kr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Kr.sep+"`")}function sm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Pw(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function s5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const a5=function(t){const i=this.constructor.prototype,a=i[t],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,i),l},o5={}.hasOwnProperty;class py extends a5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=QP()}copy(){const e=new py;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(nm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(lm("data",this.frozen),this.namespace[e]=n,this):o5.call(this.namespace,e)&&this.namespace[e]||void 0:e?(lm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const a=n.call(e,...i);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wh(e),i=this.parser||this.Parser;return am("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),am("process",this.parser||this.Parser),om("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,c){const h=wh(e),p=i.parse(h);i.run(p,h,function(y,w,x){if(y||!w||!x)return m(y);const b=w,L=i.stringify(b,x);c5(L)?x.value=L:x.result=L,m(y,x)});function m(y,w){y||!w?c(y):l?l(w):n(void 0,w)}}}processSync(e){let n=!1,i;return this.freeze(),am("processSync",this.parser||this.Parser),om("processSync",this.compiler||this.Compiler),this.process(e,a),Bw("processSync","process",n),i;function a(l,c){n=!0,Lw(l),i=c}}run(e,n,i){Vw(e),this.freeze();const a=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(c,h){const p=wh(n);a.run(e,p,m);function m(y,w,x){const b=w||e;y?h(y):c?c(b):i(void 0,b,x)}}}runSync(e,n){let i=!1,a;return this.run(e,n,l),Bw("runSync","run",i),a;function l(c,h){Lw(c),a=h,i=!0}}stringify(e,n){this.freeze();const i=wh(n),a=this.compiler||this.Compiler;return om("stringify",a),Vw(e),a(e,i)}use(e,...n){const i=this.attachers,a=this.namespace;if(lm("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[y,...w]=m;p(y,w)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(a.settings=nm(!0,a.settings,m.settings))}function h(m){let y=-1;if(m!=null)if(Array.isArray(m))for(;++y<m.length;){const w=m[y];l(w)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,y){let w=-1,x=-1;for(;++w<i.length;)if(i[w][0]===m){x=w;break}if(x===-1)i.push([m,...y]);else if(y.length>0){let[b,...L]=y;const B=i[x][1];jm(B)&&jm(b)&&(b=nm(!0,B,b)),i[x]=[m,b,...L]}}}}const l5=new py().freeze();function am(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function om(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function lm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Vw(t){if(!jm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Bw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wh(t){return u5(t)?t:new TS(t)}function u5(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function c5(t){return typeof t=="string"||h5(t)}function h5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const f5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zw=[],jw={allowDangerousHtml:!0},d5=/^(https?|ircs?|mailto|xmpp)$/i,p5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function m5(t){const e=g5(t),n=y5(t);return _5(e.runSync(e.parse(n),n),t)}function g5(t){const e=t.rehypePlugins||zw,n=t.remarkPlugins||zw,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...jw}:jw;return l5().use(XU).use(n).use(HP,i).use(e)}function y5(t){const e=t.children||"",n=new TS;return typeof e=="string"&&(n.value=e),n}function _5(t,e){const n=e.allowedElements,i=e.allowElement,a=e.components,l=e.disallowedElements,c=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||v5;for(const y of p5)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+f5+y.id,void 0);return wS(t,m),IM(t,{Fragment:F.Fragment,components:a,ignoreInvalidStyle:!0,jsx:F.jsx,jsxs:F.jsxs,passKeys:!0,passNode:!0});function m(y,w,x){if(y.type==="raw"&&x&&typeof w=="number")return c?x.children.splice(w,1):x.children[w]={type:"text",value:y.value},w;if(y.type==="element"){let b;for(b in Zp)if(Object.hasOwn(Zp,b)&&Object.hasOwn(y.properties,b)){const L=y.properties[b],B=Zp[b];(B===null||B.includes(y.tagName))&&(y.properties[b]=p(String(L||""),b,y))}}if(y.type==="element"){let b=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!b&&i&&typeof w=="number"&&(b=!i(y,w,x)),b&&x&&typeof w=="number")return h&&y.children?x.children.splice(w,1,...y.children):x.children.splice(w,1),w}}}function v5(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||i!==-1&&e>i||d5.test(t.slice(0,e))?t:""}function E5(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function w5(t,e,n){const a=dy({}.ignore||[]),l=T5(e);let c=-1;for(;++c<l.length;)ES(t,"text",h);function h(m,y){let w=-1,x;for(;++w<y.length;){const b=y[w],L=x?x.children:void 0;if(a(b,L?L.indexOf(b):void 0,x))return;x=b}if(x)return p(m,y)}function p(m,y){const w=y[y.length-1],x=l[c][0],b=l[c][1];let L=0;const q=w.children.indexOf(m);let H=!1,ee=[];x.lastIndex=0;let J=x.exec(m.value);for(;J;){const fe=J.index,le={index:J.index,input:J.input,stack:[...y,m]};let $=b(...J,le);if(typeof $=="string"&&($=$.length>0?{type:"text",value:$}:void 0),$===!1?x.lastIndex=fe+1:(L!==fe&&ee.push({type:"text",value:m.value.slice(L,fe)}),Array.isArray($)?ee.push(...$):$&&ee.push($),L=fe+J[0].length,H=!0),!x.global)break;J=x.exec(m.value)}return H?(L<m.value.length&&ee.push({type:"text",value:m.value.slice(L)}),w.children.splice(q,1,...ee)):ee=[m],q+ee.length}}function T5(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const a=n[i];e.push([b5(a[0]),S5(a[1])])}return e}function b5(t){return typeof t=="string"?new RegExp(E5(t),"g"):t}function S5(t){return typeof t=="function"?t:function(){return t}}function A5(t){w5(t,[/\r?\n|\r/g,x5])}function x5(){return{type:"break"}}function R5(){return function(t){A5(t)}}const bS=(t,e)=>{const n=`
    @page { size: A4 landscape; margin: 1cm; }
    body { font-family: sans-serif; padding: 0; font-size: 14px; }
    .page { display: flex; align-items: stretch; page-break-after: always; height: calc(100vh - 2cm); }
    .page:last-child { page-break-after: auto; }
    .side { width: 20%; overflow: hidden; }
    .side img { width: 100%; height: 100%; object-fit: cover; object-position: center; }
    .content { width: 60%; padding: 0 10px; box-sizing: border-box; }
    h1 { text-align: center; margin: 0 0 10px; }
    .desc { white-space: pre-wrap; margin-bottom: 10px; }
    .tags { margin-bottom: 10px; }
    .tags span { background: #eee; padding: 2px 4px; margin-right: 4px; border-radius: 3px; }
    .author { text-align: right; }
  `,i=t.map(c=>{const h=e[c.authorUid],p=c.tags.map(y=>`<span>${y}</span>`).join(" "),m=c.customDescription.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");return`
        <div class="page">
          <div class="side">${c.imageURL?`<img src="${c.imageURL}" />`:""}</div>
          <div class="content">
            <h1>${c.name}</h1>
            <div class="desc">${m}</div>
            <div class="tags">${p}</div>
            <div class="author">${h?h.displayName:""}</div>
          </div>
          <div class="side">${c.imageURL2?`<img src="${c.imageURL2}" />`:""}</div>
        </div>`}).join(""),a=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Print</title>
  <style>${n}</style>
</head>
<body onload="window.print()">
${i}
</body>
</html>`,l=window.open("","_blank");l&&(l.document.write(a),l.document.close())},I5=({enemy:t,onClose:e})=>{const[n,i]=se.useState(t.name),[a,l]=se.useState(t.customDescription),[c,h]=se.useState(t.tags||[]),[p,m]=se.useState(t.imageURL||""),[y,w]=se.useState(t.imageURL2||""),x=se.useRef(!0),b=se.useCallback(async()=>{const L=js(zi,"eotv-enemies",t.id),B={name:n,customDescription:a,tags:c,imageURL:p,imageURL2:y};t.createdAt||(B.createdAt=new Date().toISOString()),await Dg(L,B)},[t.id,n,a,c,p,y]);return se.useEffect(()=>{if(x.current){x.current=!1;return}const L=setTimeout(()=>{b()},800);return()=>clearTimeout(L)},[n,a,c,p,y,b]),F.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full flex flex-col sm:flex-row shadow-lg h-full max-w-7xl overflow-hidden",children:[F.jsx(ef,{imageURL:p,setImageURL:m,ownerUid:t.authorUid}),F.jsx(zb,{name:n,setName:i,customDescription:a,setCustomDescription:l,selectedTags:c,setSelectedTags:h}),F.jsx(ef,{imageURL:y,setImageURL:w,ownerUid:t.authorUid}),F.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer",children:F.jsx(el,{className:"w-6 h-6"})})]})},C5=({enemy:t,author:e,onPrev:n,onNext:i,close:a,onDelete:l})=>{var J;const c=Jo(),h=se.useRef(null),[p,m]=se.useState(!1),[y,w]=se.useState(!1),[x,b]=se.useState(!1),L=!!c&&((J=t.likedBy)==null?void 0:J.includes(c.uid)),B=async()=>{if(!c||!t.id){w(!0);return}const fe=js(zi,"eotv-enemies",t.id);await Dg(fe,{likedBy:L?MT(c.uid):OT(c.uid)})},q=async()=>{if(!t.id)return;const fe=`${window.location.origin}${window.location.pathname}?enemy=${t.id}`;try{await navigator.clipboard.writeText(fe),b(!0),setTimeout(()=>b(!1),2e3)}catch(le){console.error("Failed to copy link",le)}},H=()=>{const fe={};e&&(fe[t.authorUid]=e),bS([t],fe)};se.useEffect(()=>{const fe=le=>{le.key==="Escape"?p?m(!1):a():!p&&le.key==="ArrowLeft"?n():!p&&le.key==="ArrowRight"&&i()};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[p,a,n,i]);const ee=fe=>{h.current===fe.target&&(a(),m(!1))};return F.jsxs(F.Fragment,{children:[y&&F.jsx(Zg,{open:y,onClose:()=>w(!1),message:"Для сохранения требуется авторизация"}),F.jsx("div",{ref:h,onClick:ee,className:"text-gray-900 dark:text-white shadow-lg cursor-pointer  overflow-hidden fixed z-40 inset-0 p-5  bg-gray-500 dark:bg-black flex justify-center items-center",children:p?F.jsx(I5,{enemy:t,onClose:()=>m(!1)}):F.jsx(F.Fragment,{children:F.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full flex flex-col sm:flex-row shadow-lg h-full max-w-7xl overflow-hidden",children:[F.jsx("img",{src:t.imageURL,alt:t.name,className:"w-full sm:w-3/14 h-40 sm:h-auto object-cover"}),F.jsxs("div",{className:"sm:w-4/7 w-full flex flex-col px-6 overflow-y-auto",children:[F.jsx("h2",{className:"text-2xl font-bold text-center p-6 pt-10",children:t.name}),F.jsx(m5,{remarkPlugins:[R5],components:{p:({node:fe,...le})=>F.jsx("p",{className:"text-sm mt-2",...le}),strong:({node:fe,...le})=>F.jsx("strong",{className:"font-bold",...le}),em:({node:fe,...le})=>F.jsx("em",{className:"italic",...le}),ul:({node:fe,...le})=>F.jsx("ul",{className:"list-disc list-inside mt-2",...le}),li:({node:fe,...le})=>F.jsx("li",{className:"ml-4",...le})},children:t.customDescription})]}),t.imageURL2&&F.jsx("img",{src:t.imageURL2,alt:"Extra",className:"w-full sm:w-3/14 h-40 sm:h-auto object-cover"}),F.jsx("div",{className:"absolute bottom-4 left-4 flex flex-col items-end gap-2",children:F.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((fe,le)=>F.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-xs drop-shadow-2xl",children:fe},le))})}),F.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[F.jsx("span",{className:"text-sm",children:(e==null?void 0:e.displayName)||"Unknown"}),F.jsx("img",{src:e==null?void 0:e.photoURL,alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-500"})]}),F.jsxs("div",{className:"absolute top-2 right-10 flex gap-2",children:[F.jsx("button",{onClick:B,title:L?"Сохранено":"Сохранить",className:"text-gray-300 hover:scale-110 transition",children:L?F.jsx(Jg,{className:"w-6 h-6"}):F.jsx(Xg,{className:"w-6 h-6"})}),F.jsx("button",{onClick:q,title:"Поделиться",className:"text-gray-300 hover:scale-110 transition",children:F.jsx(O4,{className:"w-6 h-6"})}),F.jsx("button",{onClick:H,title:"Печать",className:"text-gray-300 hover:scale-110 transition",children:F.jsx(B4,{className:"w-6 h-6"})}),c&&c.uid===t.authorUid&&F.jsxs(F.Fragment,{children:[F.jsx("button",{onClick:()=>m(!0),className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:F.jsx(L4,{className:"w-6 h-6"})}),F.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white cursor-pointer drop-shadow-md",children:F.jsx(F4,{className:"w-6 h-6"})})]})]}),x&&F.jsx("div",{className:"absolute top-10 right-10 bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white text-xs px-2 py-1 rounded-md shadow",children:"Ссылка скопирована"}),F.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-300 hover:text-white cursor-pointer drop-shadow-xl",children:F.jsx(el,{className:"w-6 h-6"})}),F.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-200 dark:bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:n,children:F.jsx(R4,{className:"w-5 h-5 text-gray-900 dark:text-white"})}),F.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gray-200 dark:bg-gray-700 p-2 rounded-full cursor-pointer hover:scale-110 transition-all duration-300 ease-in-out",onClick:i,children:F.jsx(C4,{className:"w-5 h-5 text-gray-900 dark:text-white"})})]})})},t.id)]})},k5=()=>F.jsxs("footer",{className:"text-center text-gray-600 dark:text-gray-400 p-4 flex items-center justify-center gap-2",children:[F.jsx("span",{children:"Eugen Zha"}),F.jsxs("a",{href:"https://t.me/d320stories",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 link",children:[F.jsx("img",{src:"./telegram.svg",alt:"Telegram",className:"w-5 h-5"}),"t.me/d320stories"]})]}),D5=(t,e,n,i)=>{const a=rb(Ub,`avatars/${t}/${e.name}`),l=tb(a,e);l.on("state_changed",c=>{const h=c.bytesTransferred/c.totalBytes*100;i(h)},c=>{console.error("Ошибка загрузки:",c)},async()=>{const c=await nb(l.snapshot.ref);n(c)})},N5=({avatarURL:t,setAvatarURL:e,ownerUid:n,className:i})=>{const[a,l]=se.useState(0),c=p=>{p&&D5(n,p,e,l)},h=p=>{p.preventDefault(),c(p.dataTransfer.files[0])};return F.jsxs("div",{className:`flex items-center justify-center bg-gray-200 dark:bg-gray-800 relative overflow-hidden group ${i||""}`,onDrop:h,onDragOver:p=>p.preventDefault(),children:[t&&F.jsx("img",{src:t,className:"object-cover w-full h-full",alt:""}),F.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files&&p.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),F.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center text-gray-300 bg-black/40 opacity-100 pointer-events-none z-10",children:[F.jsx(Vb,{className:"w-8 h-8"}),F.jsx("span",{className:"text-xs",children:"Нажмите или перетащите файл"})]}),a>0&&a<100&&F.jsxs("span",{className:"absolute bottom-2 left-10 text-xs bg-black/60 px-1 rounded",children:[a.toFixed(0),"%"]})]})},O5=({onClose:t})=>{const e=Jo(),n=T4(),[i,a]=se.useState((e==null?void 0:e.displayName)||""),[l,c]=se.useState((e==null?void 0:e.photoURL)||""),h=se.useRef(null);se.useEffect(()=>{const m=w=>{h.current&&!h.current.contains(w.target)&&t()},y=w=>{w.key==="Escape"&&t()};return document.addEventListener("mousedown",m),document.addEventListener("keydown",y),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",y)}},[t]);const p=async()=>{if(!e)return;await nO(e,{displayName:i,photoURL:l}),await e.reload();const m=Ru.currentUser;n(m?{...m}:null),await DT(js(zi,"users",e.uid),{displayName:i,photoURL:l},{merge:!0}),t()};return e?F.jsx("div",{role:"button",tabIndex:-1,className:"fixed inset-0 z-50 p-5 bg-gray-500 dark:bg-black flex items-center justify-center",onClick:t,children:F.jsxs("div",{ref:h,role:"dialog",onClick:m=>m.stopPropagation(),className:"relative bg-white dark:bg-gray-900 rounded-2xl w-full max-w-md flex flex-col shadow-lg overflow-hidden p-6 items-center",children:[F.jsx(N5,{avatarURL:l,setAvatarURL:c,ownerUid:e.uid,className:"w-32 h-32 rounded-full"}),F.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),className:"w-full p-2 mt-4 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-neonBlue"}),F.jsxs("div",{className:"flex gap-4 mt-6 w-full",children:[F.jsxs("button",{type:"button",onClick:t,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-500 transition cursor-pointer",children:[F.jsx(el,{className:"w-5 h-5"}),"Отмена"]}),F.jsx("button",{type:"button",onClick:p,className:"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500 transition cursor-pointer",children:"Сохранить"})]})]})}):null},M5=Tg(zi,"users"),L5=()=>{const t=Jo(),[e,n]=se.useState(!1),[i,a]=se.useState(!1),l=se.useRef(null);se.useEffect(()=>{if(!t)return;const m=js(M5,t.uid);DT(m,{displayName:t.displayName||"Unknown",photoURL:t.photoURL||""},{merge:!0})},[t]),se.useEffect(()=>{const m=y=>{l.current&&!l.current.contains(y.target)&&n(!1)};return e&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[e]);const c=async()=>{const m=new Ir;await Mb(Ru,m)},h=async()=>{await aO(Ru)},p=()=>{a(!0),n(!1)};return F.jsx("div",{className:"relative flex items-center gap-4",children:t?F.jsxs(F.Fragment,{children:[F.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 focus:outline-none hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-1 cursor-pointer",children:[F.jsx("img",{src:t.photoURL||"https://firebasestorage.googleapis.com/v0/b/d320-971d2.firebasestorage.app/o/images%2Fphoto-placeholder.webp?alt=media&token=e80d935b-9ded-4684-b359-38434c0f6d26",alt:"Avatar",className:"w-8 h-8 rounded-full border border-gray-600 shadow"}),F.jsx("span",{className:"text-sm",children:t.displayName||"Unknown"})]}),e&&F.jsxs("div",{ref:l,className:"absolute right-0 top-full mt-2 w-40 bg-white dark:bg-gray-800 rounded shadow-lg text-sm",children:[F.jsxs("button",{onClick:p,className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[F.jsx(D4,{className:"w-5 h-5"}),"Настройки"]}),F.jsxs("button",{onClick:h,className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-red-400 cursor-pointer",children:[F.jsx(S4,{className:"w-5 h-5"}),"Выход"]})]}),i&&F.jsx(O5,{onClose:()=>a(!1)})]}):F.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-700 dark:bg-sky-300 hover:bg-blue-500 dark:hover:bg-sky-200 text-white dark:text-black font-semibold rounded transition cursor-pointer",children:"Войти через Google"})})},U5=()=>{const[t,e]=se.useState(()=>localStorage.getItem("theme")!=="light");se.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{e(a=>!a)},i=t?"translate-x-6":"";return F.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[F.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!t,onChange:n}),F.jsxs("div",{className:"w-12 h-6 bg-gray-300 rounded-full peer-focus:ring-2 peer-focus:ring-blue-700 dark:peer-focus:ring-sky-300 dark:bg-gray-600",children:[F.jsx(Z4,{className:"absolute left-1 top-1 w-4 h-4 text-yellow-400"}),F.jsx(Y4,{className:"absolute right-1 top-1 w-4 h-4 text-blue-700"}),F.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${i}`})]})]})},P5=()=>F.jsx("header",{className:"text-gray-900 dark:text-sky-300",children:F.jsx("div",{className:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8",children:F.jsxs("div",{className:"flex h-16 items-center justify-between",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("img",{src:"./logo.png",alt:"d320",className:"w-10 h-10"}),F.jsx("h1",{className:"text-2xl font-bold text-blue-700 dark:text-sky-300",children:"d320"})]}),F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsx(U5,{}),F.jsx(L5,{})]})]})})}),V5=({search:t,setSearch:e,tag:n,setTag:i,liked:a,setLiked:l,author:c,setAuthor:h,sort:p,setSort:m,authors:y,onPrint:w})=>{const x=Wg(),[b,L]=se.useState(!1),B=se.useRef(null),q=c?y[c]:void 0;return se.useEffect(()=>{if(!b)return;const H=J=>{B.current&&!B.current.contains(J.target)&&L(!1)},ee=J=>{J.key==="Escape"&&L(!1)};return document.addEventListener("mousedown",H),document.addEventListener("keydown",ee),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",ee)}},[b]),F.jsxs("div",{className:"flex flex-wrap gap-4 my-4 items-center",children:[F.jsx("input",{type:"text",placeholder:"Поиск",value:t,onChange:H=>e(H.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white flex-1 h-10"}),F.jsxs("button",{type:"button",title:"Избранное",onClick:()=>l(!a),className:"text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 transition flex items-center gap-1 h-10 px-2 cursor-pointer",children:[a?F.jsx(Jg,{className:"w-5 h-5"}):F.jsx(Xg,{className:"w-5 h-5"}),F.jsx("span",{className:"text-sm",children:"Избранное"})]}),F.jsxs("select",{value:n,onChange:H=>i(H.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[F.jsx("option",{value:"",children:"Тег"}),x.map(H=>F.jsx("option",{value:H,children:H},H))]}),F.jsxs("div",{className:"relative",children:[F.jsxs("button",{type:"button",onClick:()=>L(H=>!H),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white flex items-center gap-2 h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[q&&F.jsx("img",{src:q.photoURL,alt:"avatar",className:"w-6 h-6 rounded-full"}),F.jsx("span",{children:q?q.displayName:"Автор"})]}),b&&F.jsxs("div",{ref:B,className:"absolute left-0 z-10 bg-white dark:bg-gray-800 rounded shadow p-2 mt-1 max-h-60 overflow-y-auto w-48",children:[F.jsx("div",{className:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{h(""),L(!1)},children:F.jsx("span",{children:"Все авторы"})}),Object.entries(y).map(([H,ee])=>F.jsxs("div",{className:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-700 p-1 flex items-center gap-2",onClick:()=>{h(H),L(!1)},children:[F.jsx("img",{src:ee.photoURL,alt:ee.displayName,className:"w-6 h-6 rounded-full"}),F.jsx("span",{children:ee.displayName})]},H))]})]}),F.jsxs("button",{type:"button",onClick:()=>{e(""),i(""),l(!1),h(""),m("name")},className:"flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:[F.jsx(el,{className:"w-5 h-5"}),"Сбросить фильтры"]}),F.jsx("span",{className:"text-sm",children:"Сортировка:"}),F.jsxs("select",{value:p,onChange:H=>m(H.target.value),className:"p-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white h-10 hover:bg-gray-100 dark:hover:bg-gray-500 transition cursor-pointer",children:[F.jsx("option",{value:"name",children:"Имя"}),F.jsx("option",{value:"date",children:"Дата"})]}),F.jsx("button",{type:"button",onClick:w,className:"ml-auto flex items-center gap-1 p-2 rounded border text-blue-700 dark:text-sky-300 hover:text-blue-500 dark:hover:text-sky-200 border-blue-700 dark:border-sky-300 hover:border-blue-500 dark:hover:border-sky-200 transition h-10 cursor-pointer",children:"Напечатать"})]})},B5=async t=>{const e={};return await Promise.all(t.map(async n=>{const i=await Zk(js(zi,"users",n));i.exists()&&(e[n]=i.data())})),e},z5=()=>{const[t,e]=se.useState([]),[n,i]=se.useState({}),[a,l]=se.useState(null),[c,h]=se.useState(null),[p,m]=se.useState(""),[y,w]=se.useState(""),[x,b]=se.useState(!1),[L,B]=se.useState(""),[q,H]=se.useState("name"),ee=Jo();se.useEffect(()=>nD(Pb,P=>{const j=P.docs.map(N=>({id:N.id,...N.data()}));e(j)}),[]),se.useEffect(()=>{const P=new URLSearchParams(window.location.search).get("enemy");P&&h(P)},[]),se.useEffect(()=>{const O=[...new Set(t.map(P=>P.authorUid))];B5(O).then(i)},[t,ee]);const J=async O=>{ee&&window.confirm("Удалить этого противника?")&&(await eD(js(zi,"eotv-enemies",O)),l(null))},fe=()=>{bS($,n)},le=p.toLowerCase();let $=t.filter(O=>O.name.toLowerCase().includes(le)||O.customDescription.toLowerCase().includes(le)||O.tags.some(P=>P.toLowerCase().includes(le)));y&&($=$.filter(O=>O.tags.includes(y))),x&&ee&&($=$.filter(O=>{var P;return(P=O.likedBy)==null?void 0:P.includes(ee.uid)})),L&&($=$.filter(O=>O.authorUid===L)),$=[...$],q==="name"?$.sort((O,P)=>O.name.localeCompare(P.name)):$.sort((O,P)=>{const j=O.createdAt?new Date(O.createdAt).getTime():0;return(P.createdAt?new Date(P.createdAt).getTime():0)-j}),se.useEffect(()=>{if(!c)return;const O=$.findIndex(P=>P.id===c);O!==-1&&(l(O),h(null))},[$,c]);const z=()=>{!$.length||a===null||l((a+1)%$.length)},M=()=>{!$.length||a===null||l((a-1+$.length)%$.length)},k=a!==null?$[a]:null;return se.useEffect(()=>{if(k===null)return;const O=P=>{P.key==="ArrowLeft"?M():P.key==="ArrowRight"?z():P.key==="Escape"&&l(null)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[k,M,z]),se.useEffect(()=>{const O=new URLSearchParams(window.location.search);k?O.set("enemy",k.id):O.delete("enemy");const P=O.toString(),j=P?`${window.location.pathname}?${P}`:window.location.pathname;window.history.replaceState(null,"",j)},[k]),F.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 dark:bg-slate-900 dark:text-sky-200",children:[F.jsx(P5,{}),F.jsxs("main",{className:"p-6 max-w-screen-xl mx-auto",children:[F.jsx("h2",{className:"text-3xl font-bold text-center",children:"Каталог противников для игры Грань Вселенной"}),F.jsxs("p",{className:"text-center text-gray-400 p-4",children:["Официальный сайт игры: ",F.jsxs("a",{className:"link",href:"http://eotvrpg.ru/",target:"_blank",children:[F.jsx("img",{src:"./eotv-logo.png",alt:"EOTV",className:"w-5 h-5 inline-block"}),"eotvrpg.ru"]})]}),F.jsx(V5,{search:p,setSearch:m,tag:y,setTag:w,liked:x,setLiked:b,author:L,setAuthor:B,sort:q,setSort:H,authors:n,onPrint:fe}),F.jsx(eM,{enemies:$,users:n,onSelect:l})]}),k&&F.jsx(C5,{enemy:k,author:n[k.authorUid],onPrev:M,onNext:z,close:()=>l(null),onDelete:()=>J(k.id)}),F.jsx(k5,{})]})},j5=fx.createRoot(document.getElementById("root"));j5.render(F.jsx(ix.StrictMode,{children:F.jsx(w4,{children:F.jsx(G4,{children:F.jsx(z5,{})})})}));
